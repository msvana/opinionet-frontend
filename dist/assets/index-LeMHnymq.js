var J6=Object.defineProperty;var Q6=(b,k,K)=>k in b?J6(b,k,{enumerable:!0,configurable:!0,writable:!0,value:K}):b[k]=K;var Bm=(b,k,K)=>(Q6(b,typeof k!="symbol"?k+"":k,K),K);function xT(b,k){for(var K=0;K<k.length;K++){const fe=k[K];if(typeof fe!="string"&&!Array.isArray(fe)){for(const Te in fe)if(Te!=="default"&&!(Te in b)){const Oe=Object.getOwnPropertyDescriptor(fe,Te);Oe&&Object.defineProperty(b,Te,Oe.get?Oe:{enumerable:!0,get:()=>fe[Te]})}}}return Object.freeze(Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}))}(function(){const k=document.createElement("link").relList;if(k&&k.supports&&k.supports("modulepreload"))return;for(const Te of document.querySelectorAll('link[rel="modulepreload"]'))fe(Te);new MutationObserver(Te=>{for(const Oe of Te)if(Oe.type==="childList")for(const G of Oe.addedNodes)G.tagName==="LINK"&&G.rel==="modulepreload"&&fe(G)}).observe(document,{childList:!0,subtree:!0});function K(Te){const Oe={};return Te.integrity&&(Oe.integrity=Te.integrity),Te.referrerPolicy&&(Oe.referrerPolicy=Te.referrerPolicy),Te.crossOrigin==="use-credentials"?Oe.credentials="include":Te.crossOrigin==="anonymous"?Oe.credentials="omit":Oe.credentials="same-origin",Oe}function fe(Te){if(Te.ep)return;Te.ep=!0;const Oe=K(Te);fetch(Te.href,Oe)}})();var q6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rv(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b}function eM(b){if(b.__esModule)return b;var k=b.default;if(typeof k=="function"){var K=function fe(){return this instanceof fe?Reflect.construct(k,arguments,this.constructor):k.apply(this,arguments)};K.prototype=k.prototype}else K={};return Object.defineProperty(K,"__esModule",{value:!0}),Object.keys(b).forEach(function(fe){var Te=Object.getOwnPropertyDescriptor(b,fe);Object.defineProperty(K,fe,Te.get?Te:{enumerable:!0,get:function(){return b[fe]}})}),K}var bT={exports:{}},Cy={},wT={exports:{}},Ti={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0=Symbol.for("react.element"),tM=Symbol.for("react.portal"),rM=Symbol.for("react.fragment"),nM=Symbol.for("react.strict_mode"),aM=Symbol.for("react.profiler"),iM=Symbol.for("react.provider"),oM=Symbol.for("react.context"),sM=Symbol.for("react.forward_ref"),lM=Symbol.for("react.suspense"),uM=Symbol.for("react.memo"),fM=Symbol.for("react.lazy"),aw=Symbol.iterator;function cM(b){return b===null||typeof b!="object"?null:(b=aw&&b[aw]||b["@@iterator"],typeof b=="function"?b:null)}var TT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AT=Object.assign,ST={};function jd(b,k,K){this.props=b,this.context=k,this.refs=ST,this.updater=K||TT}jd.prototype.isReactComponent={};jd.prototype.setState=function(b,k){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,k,"setState")};jd.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function ET(){}ET.prototype=jd.prototype;function Ix(b,k,K){this.props=b,this.context=k,this.refs=ST,this.updater=K||TT}var kx=Ix.prototype=new ET;kx.constructor=Ix;AT(kx,jd.prototype);kx.isPureReactComponent=!0;var iw=Array.isArray,MT=Object.prototype.hasOwnProperty,Ox={current:null},CT={key:!0,ref:!0,__self:!0,__source:!0};function LT(b,k,K){var fe,Te={},Oe=null,G=null;if(k!=null)for(fe in k.ref!==void 0&&(G=k.ref),k.key!==void 0&&(Oe=""+k.key),k)MT.call(k,fe)&&!CT.hasOwnProperty(fe)&&(Te[fe]=k[fe]);var V=arguments.length-2;if(V===1)Te.children=K;else if(1<V){for(var e=Array(V),g=0;g<V;g++)e[g]=arguments[g+2];Te.children=e}if(b&&b.defaultProps)for(fe in V=b.defaultProps,V)Te[fe]===void 0&&(Te[fe]=V[fe]);return{$$typeof:A0,type:b,key:Oe,ref:G,props:Te,_owner:Ox.current}}function hM(b,k){return{$$typeof:A0,type:b.type,key:k,ref:b.ref,props:b.props,_owner:b._owner}}function zx(b){return typeof b=="object"&&b!==null&&b.$$typeof===A0}function vM(b){var k={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(K){return k[K]})}var ow=/\/+/g;function Um(b,k){return typeof b=="object"&&b!==null&&b.key!=null?vM(""+b.key):k.toString(36)}function Ag(b,k,K,fe,Te){var Oe=typeof b;(Oe==="undefined"||Oe==="boolean")&&(b=null);var G=!1;if(b===null)G=!0;else switch(Oe){case"string":case"number":G=!0;break;case"object":switch(b.$$typeof){case A0:case tM:G=!0}}if(G)return G=b,Te=Te(G),b=fe===""?"."+Um(G,0):fe,iw(Te)?(K="",b!=null&&(K=b.replace(ow,"$&/")+"/"),Ag(Te,k,K,"",function(g){return g})):Te!=null&&(zx(Te)&&(Te=hM(Te,K+(!Te.key||G&&G.key===Te.key?"":(""+Te.key).replace(ow,"$&/")+"/")+b)),k.push(Te)),1;if(G=0,fe=fe===""?".":fe+":",iw(b))for(var V=0;V<b.length;V++){Oe=b[V];var e=fe+Um(Oe,V);G+=Ag(Oe,k,K,e,Te)}else if(e=cM(b),typeof e=="function")for(b=e.call(b),V=0;!(Oe=b.next()).done;)Oe=Oe.value,e=fe+Um(Oe,V++),G+=Ag(Oe,k,K,e,Te);else if(Oe==="object")throw k=String(b),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.");return G}function Q0(b,k,K){if(b==null)return b;var fe=[],Te=0;return Ag(b,fe,"","",function(Oe){return k.call(K,Oe,Te++)}),fe}function dM(b){if(b._status===-1){var k=b._result;k=k(),k.then(function(K){(b._status===0||b._status===-1)&&(b._status=1,b._result=K)},function(K){(b._status===0||b._status===-1)&&(b._status=2,b._result=K)}),b._status===-1&&(b._status=0,b._result=k)}if(b._status===1)return b._result.default;throw b._result}var Xl={current:null},Sg={transition:null},pM={ReactCurrentDispatcher:Xl,ReactCurrentBatchConfig:Sg,ReactCurrentOwner:Ox};Ti.Children={map:Q0,forEach:function(b,k,K){Q0(b,function(){k.apply(this,arguments)},K)},count:function(b){var k=0;return Q0(b,function(){k++}),k},toArray:function(b){return Q0(b,function(k){return k})||[]},only:function(b){if(!zx(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};Ti.Component=jd;Ti.Fragment=rM;Ti.Profiler=aM;Ti.PureComponent=Ix;Ti.StrictMode=nM;Ti.Suspense=lM;Ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pM;Ti.cloneElement=function(b,k,K){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var fe=AT({},b.props),Te=b.key,Oe=b.ref,G=b._owner;if(k!=null){if(k.ref!==void 0&&(Oe=k.ref,G=Ox.current),k.key!==void 0&&(Te=""+k.key),b.type&&b.type.defaultProps)var V=b.type.defaultProps;for(e in k)MT.call(k,e)&&!CT.hasOwnProperty(e)&&(fe[e]=k[e]===void 0&&V!==void 0?V[e]:k[e])}var e=arguments.length-2;if(e===1)fe.children=K;else if(1<e){V=Array(e);for(var g=0;g<e;g++)V[g]=arguments[g+2];fe.children=V}return{$$typeof:A0,type:b.type,key:Te,ref:Oe,props:fe,_owner:G}};Ti.createContext=function(b){return b={$$typeof:oM,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:iM,_context:b},b.Consumer=b};Ti.createElement=LT;Ti.createFactory=function(b){var k=LT.bind(null,b);return k.type=b,k};Ti.createRef=function(){return{current:null}};Ti.forwardRef=function(b){return{$$typeof:sM,render:b}};Ti.isValidElement=zx;Ti.lazy=function(b){return{$$typeof:fM,_payload:{_status:-1,_result:b},_init:dM}};Ti.memo=function(b,k){return{$$typeof:uM,type:b,compare:k===void 0?null:k}};Ti.startTransition=function(b){var k=Sg.transition;Sg.transition={};try{b()}finally{Sg.transition=k}};Ti.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ti.useCallback=function(b,k){return Xl.current.useCallback(b,k)};Ti.useContext=function(b){return Xl.current.useContext(b)};Ti.useDebugValue=function(){};Ti.useDeferredValue=function(b){return Xl.current.useDeferredValue(b)};Ti.useEffect=function(b,k){return Xl.current.useEffect(b,k)};Ti.useId=function(){return Xl.current.useId()};Ti.useImperativeHandle=function(b,k,K){return Xl.current.useImperativeHandle(b,k,K)};Ti.useInsertionEffect=function(b,k){return Xl.current.useInsertionEffect(b,k)};Ti.useLayoutEffect=function(b,k){return Xl.current.useLayoutEffect(b,k)};Ti.useMemo=function(b,k){return Xl.current.useMemo(b,k)};Ti.useReducer=function(b,k,K){return Xl.current.useReducer(b,k,K)};Ti.useRef=function(b){return Xl.current.useRef(b)};Ti.useState=function(b){return Xl.current.useState(b)};Ti.useSyncExternalStore=function(b,k,K){return Xl.current.useSyncExternalStore(b,k,K)};Ti.useTransition=function(){return Xl.current.useTransition()};Ti.version="18.2.0";wT.exports=Ti;var Jr=wT.exports;const ui=Rv(Jr),gM=xT({__proto__:null,default:ui},[Jr]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yM=Jr,mM=Symbol.for("react.element"),xM=Symbol.for("react.fragment"),bM=Object.prototype.hasOwnProperty,wM=yM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TM={key:!0,ref:!0,__self:!0,__source:!0};function PT(b,k,K){var fe,Te={},Oe=null,G=null;K!==void 0&&(Oe=""+K),k.key!==void 0&&(Oe=""+k.key),k.ref!==void 0&&(G=k.ref);for(fe in k)bM.call(k,fe)&&!TM.hasOwnProperty(fe)&&(Te[fe]=k[fe]);if(b&&b.defaultProps)for(fe in k=b.defaultProps,k)Te[fe]===void 0&&(Te[fe]=k[fe]);return{$$typeof:mM,type:b,key:Oe,ref:G,props:Te,_owner:wM.current}}Cy.Fragment=xM;Cy.jsx=PT;Cy.jsxs=PT;bT.exports=Cy;var ua=bT.exports,S1={},_T={exports:{}},Yu={},RT={exports:{}},DT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(b){function k(w,o){var L=w.length;w.push(o);e:for(;0<L;){var m=L-1>>>1,F=w[m];if(0<Te(F,o))w[m]=o,w[L]=F,L=m;else break e}}function K(w){return w.length===0?null:w[0]}function fe(w){if(w.length===0)return null;var o=w[0],L=w.pop();if(L!==o){w[0]=L;e:for(var m=0,F=w.length,I=F>>>1;m<I;){var U=2*(m+1)-1,z=w[U],N=U+1,B=w[N];if(0>Te(z,L))N<F&&0>Te(B,z)?(w[m]=B,w[N]=L,m=N):(w[m]=z,w[U]=L,m=U);else if(N<F&&0>Te(B,L))w[m]=B,w[N]=L,m=N;else break e}}return o}function Te(w,o){var L=w.sortIndex-o.sortIndex;return L!==0?L:w.id-o.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Oe=performance;b.unstable_now=function(){return Oe.now()}}else{var G=Date,V=G.now();b.unstable_now=function(){return G.now()-V}}var e=[],g=[],_=1,a=null,C=3,A=!1,v=!1,p=!1,t=typeof setTimeout=="function"?setTimeout:null,r=typeof clearTimeout=="function"?clearTimeout:null,s=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function n(w){for(var o=K(g);o!==null;){if(o.callback===null)fe(g);else if(o.startTime<=w)fe(g),o.sortIndex=o.expirationTime,k(e,o);else break;o=K(g)}}function i(w){if(p=!1,n(w),!v)if(K(e)!==null)v=!0,x(f);else{var o=K(g);o!==null&&M(i,o.startTime-w)}}function f(w,o){v=!1,p&&(p=!1,r(c),c=-1),A=!0;var L=C;try{for(n(o),a=K(e);a!==null&&(!(a.expirationTime>o)||w&&!l());){var m=a.callback;if(typeof m=="function"){a.callback=null,C=a.priorityLevel;var F=m(a.expirationTime<=o);o=b.unstable_now(),typeof F=="function"?a.callback=F:a===K(e)&&fe(e),n(o)}else fe(e);a=K(e)}if(a!==null)var I=!0;else{var U=K(g);U!==null&&M(i,U.startTime-o),I=!1}return I}finally{a=null,C=L,A=!1}}var u=!1,y=null,c=-1,T=5,h=-1;function l(){return!(b.unstable_now()-h<T)}function d(){if(y!==null){var w=b.unstable_now();h=w;var o=!0;try{o=y(!0,w)}finally{o?E():(u=!1,y=null)}}else u=!1}var E;if(typeof s=="function")E=function(){s(d)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,P=S.port2;S.port1.onmessage=d,E=function(){P.postMessage(null)}}else E=function(){t(d,0)};function x(w){y=w,u||(u=!0,E())}function M(w,o){c=t(function(){w(b.unstable_now())},o)}b.unstable_IdlePriority=5,b.unstable_ImmediatePriority=1,b.unstable_LowPriority=4,b.unstable_NormalPriority=3,b.unstable_Profiling=null,b.unstable_UserBlockingPriority=2,b.unstable_cancelCallback=function(w){w.callback=null},b.unstable_continueExecution=function(){v||A||(v=!0,x(f))},b.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<w?Math.floor(1e3/w):5},b.unstable_getCurrentPriorityLevel=function(){return C},b.unstable_getFirstCallbackNode=function(){return K(e)},b.unstable_next=function(w){switch(C){case 1:case 2:case 3:var o=3;break;default:o=C}var L=C;C=o;try{return w()}finally{C=L}},b.unstable_pauseExecution=function(){},b.unstable_requestPaint=function(){},b.unstable_runWithPriority=function(w,o){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var L=C;C=w;try{return o()}finally{C=L}},b.unstable_scheduleCallback=function(w,o,L){var m=b.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?m+L:m):L=m,w){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=L+F,w={id:_++,callback:o,priorityLevel:w,startTime:L,expirationTime:F,sortIndex:-1},L>m?(w.sortIndex=L,k(g,w),K(e)===null&&w===K(g)&&(p?(r(c),c=-1):p=!0,M(i,L-m))):(w.sortIndex=F,k(e,w),v||A||(v=!0,x(f))),w},b.unstable_shouldYield=l,b.unstable_wrapCallback=function(w){var o=C;return function(){var L=C;C=o;try{return w.apply(this,arguments)}finally{C=L}}}})(DT);RT.exports=DT;var AM=RT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT=Jr,Gu=AM;function xa(b){for(var k="https://reactjs.org/docs/error-decoder.html?invariant="+b,K=1;K<arguments.length;K++)k+="&args[]="+encodeURIComponent(arguments[K]);return"Minified React error #"+b+"; visit "+k+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kT=new Set,e0={};function Dv(b,k){Rd(b,k),Rd(b+"Capture",k)}function Rd(b,k){for(e0[b]=k,b=0;b<k.length;b++)kT.add(k[b])}var ch=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),E1=Object.prototype.hasOwnProperty,SM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sw={},lw={};function EM(b){return E1.call(lw,b)?!0:E1.call(sw,b)?!1:SM.test(b)?lw[b]=!0:(sw[b]=!0,!1)}function MM(b,k,K,fe){if(K!==null&&K.type===0)return!1;switch(typeof k){case"function":case"symbol":return!0;case"boolean":return fe?!1:K!==null?!K.acceptsBooleans:(b=b.toLowerCase().slice(0,5),b!=="data-"&&b!=="aria-");default:return!1}}function CM(b,k,K,fe){if(k===null||typeof k>"u"||MM(b,k,K,fe))return!0;if(fe)return!1;if(K!==null)switch(K.type){case 3:return!k;case 4:return k===!1;case 5:return isNaN(k);case 6:return isNaN(k)||1>k}return!1}function Kl(b,k,K,fe,Te,Oe,G){this.acceptsBooleans=k===2||k===3||k===4,this.attributeName=fe,this.attributeNamespace=Te,this.mustUseProperty=K,this.propertyName=b,this.type=k,this.sanitizeURL=Oe,this.removeEmptyString=G}var ol={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(b){ol[b]=new Kl(b,0,!1,b,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(b){var k=b[0];ol[k]=new Kl(k,1,!1,b[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(b){ol[b]=new Kl(b,2,!1,b.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(b){ol[b]=new Kl(b,2,!1,b,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(b){ol[b]=new Kl(b,3,!1,b.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(b){ol[b]=new Kl(b,3,!0,b,null,!1,!1)});["capture","download"].forEach(function(b){ol[b]=new Kl(b,4,!1,b,null,!1,!1)});["cols","rows","size","span"].forEach(function(b){ol[b]=new Kl(b,6,!1,b,null,!1,!1)});["rowSpan","start"].forEach(function(b){ol[b]=new Kl(b,5,!1,b.toLowerCase(),null,!1,!1)});var Fx=/[\-:]([a-z])/g;function Nx(b){return b[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(b){var k=b.replace(Fx,Nx);ol[k]=new Kl(k,1,!1,b,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(b){var k=b.replace(Fx,Nx);ol[k]=new Kl(k,1,!1,b,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(b){var k=b.replace(Fx,Nx);ol[k]=new Kl(k,1,!1,b,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(b){ol[b]=new Kl(b,1,!1,b.toLowerCase(),null,!1,!1)});ol.xlinkHref=new Kl("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(b){ol[b]=new Kl(b,1,!1,b.toLowerCase(),null,!0,!0)});function Bx(b,k,K,fe){var Te=ol.hasOwnProperty(k)?ol[k]:null;(Te!==null?Te.type!==0:fe||!(2<k.length)||k[0]!=="o"&&k[0]!=="O"||k[1]!=="n"&&k[1]!=="N")&&(CM(k,K,Te,fe)&&(K=null),fe||Te===null?EM(k)&&(K===null?b.removeAttribute(k):b.setAttribute(k,""+K)):Te.mustUseProperty?b[Te.propertyName]=K===null?Te.type===3?!1:"":K:(k=Te.attributeName,fe=Te.attributeNamespace,K===null?b.removeAttribute(k):(Te=Te.type,K=Te===3||Te===4&&K===!0?"":""+K,fe?b.setAttributeNS(fe,k,K):b.setAttribute(k,K))))}var ph=IT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q0=Symbol.for("react.element"),sd=Symbol.for("react.portal"),ld=Symbol.for("react.fragment"),Ux=Symbol.for("react.strict_mode"),M1=Symbol.for("react.profiler"),OT=Symbol.for("react.provider"),zT=Symbol.for("react.context"),Hx=Symbol.for("react.forward_ref"),C1=Symbol.for("react.suspense"),L1=Symbol.for("react.suspense_list"),Vx=Symbol.for("react.memo"),Dh=Symbol.for("react.lazy"),FT=Symbol.for("react.offscreen"),uw=Symbol.iterator;function gp(b){return b===null||typeof b!="object"?null:(b=uw&&b[uw]||b["@@iterator"],typeof b=="function"?b:null)}var _o=Object.assign,Hm;function Rp(b){if(Hm===void 0)try{throw Error()}catch(K){var k=K.stack.trim().match(/\n( *(at )?)/);Hm=k&&k[1]||""}return`
`+Hm+b}var Vm=!1;function Gm(b,k){if(!b||Vm)return"";Vm=!0;var K=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(k)if(k=function(){throw Error()},Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(g){var fe=g}Reflect.construct(b,[],k)}else{try{k.call()}catch(g){fe=g}b.call(k.prototype)}else{try{throw Error()}catch(g){fe=g}b()}}catch(g){if(g&&fe&&typeof g.stack=="string"){for(var Te=g.stack.split(`
`),Oe=fe.stack.split(`
`),G=Te.length-1,V=Oe.length-1;1<=G&&0<=V&&Te[G]!==Oe[V];)V--;for(;1<=G&&0<=V;G--,V--)if(Te[G]!==Oe[V]){if(G!==1||V!==1)do if(G--,V--,0>V||Te[G]!==Oe[V]){var e=`
`+Te[G].replace(" at new "," at ");return b.displayName&&e.includes("<anonymous>")&&(e=e.replace("<anonymous>",b.displayName)),e}while(1<=G&&0<=V);break}}}finally{Vm=!1,Error.prepareStackTrace=K}return(b=b?b.displayName||b.name:"")?Rp(b):""}function LM(b){switch(b.tag){case 5:return Rp(b.type);case 16:return Rp("Lazy");case 13:return Rp("Suspense");case 19:return Rp("SuspenseList");case 0:case 2:case 15:return b=Gm(b.type,!1),b;case 11:return b=Gm(b.type.render,!1),b;case 1:return b=Gm(b.type,!0),b;default:return""}}function P1(b){if(b==null)return null;if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b;switch(b){case ld:return"Fragment";case sd:return"Portal";case M1:return"Profiler";case Ux:return"StrictMode";case C1:return"Suspense";case L1:return"SuspenseList"}if(typeof b=="object")switch(b.$$typeof){case zT:return(b.displayName||"Context")+".Consumer";case OT:return(b._context.displayName||"Context")+".Provider";case Hx:var k=b.render;return b=b.displayName,b||(b=k.displayName||k.name||"",b=b!==""?"ForwardRef("+b+")":"ForwardRef"),b;case Vx:return k=b.displayName||null,k!==null?k:P1(b.type)||"Memo";case Dh:k=b._payload,b=b._init;try{return P1(b(k))}catch{}}return null}function PM(b){var k=b.type;switch(b.tag){case 24:return"Cache";case 9:return(k.displayName||"Context")+".Consumer";case 10:return(k._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return b=k.render,b=b.displayName||b.name||"",k.displayName||(b!==""?"ForwardRef("+b+")":"ForwardRef");case 7:return"Fragment";case 5:return k;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P1(k);case 8:return k===Ux?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof k=="function")return k.displayName||k.name||null;if(typeof k=="string")return k}return null}function Zh(b){switch(typeof b){case"boolean":case"number":case"string":case"undefined":return b;case"object":return b;default:return""}}function NT(b){var k=b.type;return(b=b.nodeName)&&b.toLowerCase()==="input"&&(k==="checkbox"||k==="radio")}function _M(b){var k=NT(b)?"checked":"value",K=Object.getOwnPropertyDescriptor(b.constructor.prototype,k),fe=""+b[k];if(!b.hasOwnProperty(k)&&typeof K<"u"&&typeof K.get=="function"&&typeof K.set=="function"){var Te=K.get,Oe=K.set;return Object.defineProperty(b,k,{configurable:!0,get:function(){return Te.call(this)},set:function(G){fe=""+G,Oe.call(this,G)}}),Object.defineProperty(b,k,{enumerable:K.enumerable}),{getValue:function(){return fe},setValue:function(G){fe=""+G},stopTracking:function(){b._valueTracker=null,delete b[k]}}}}function eg(b){b._valueTracker||(b._valueTracker=_M(b))}function BT(b){if(!b)return!1;var k=b._valueTracker;if(!k)return!0;var K=k.getValue(),fe="";return b&&(fe=NT(b)?b.checked?"true":"false":b.value),b=fe,b!==K?(k.setValue(b),!0):!1}function Wg(b){if(b=b||(typeof document<"u"?document:void 0),typeof b>"u")return null;try{return b.activeElement||b.body}catch{return b.body}}function _1(b,k){var K=k.checked;return _o({},k,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:K??b._wrapperState.initialChecked})}function fw(b,k){var K=k.defaultValue==null?"":k.defaultValue,fe=k.checked!=null?k.checked:k.defaultChecked;K=Zh(k.value!=null?k.value:K),b._wrapperState={initialChecked:fe,initialValue:K,controlled:k.type==="checkbox"||k.type==="radio"?k.checked!=null:k.value!=null}}function UT(b,k){k=k.checked,k!=null&&Bx(b,"checked",k,!1)}function R1(b,k){UT(b,k);var K=Zh(k.value),fe=k.type;if(K!=null)fe==="number"?(K===0&&b.value===""||b.value!=K)&&(b.value=""+K):b.value!==""+K&&(b.value=""+K);else if(fe==="submit"||fe==="reset"){b.removeAttribute("value");return}k.hasOwnProperty("value")?D1(b,k.type,K):k.hasOwnProperty("defaultValue")&&D1(b,k.type,Zh(k.defaultValue)),k.checked==null&&k.defaultChecked!=null&&(b.defaultChecked=!!k.defaultChecked)}function cw(b,k,K){if(k.hasOwnProperty("value")||k.hasOwnProperty("defaultValue")){var fe=k.type;if(!(fe!=="submit"&&fe!=="reset"||k.value!==void 0&&k.value!==null))return;k=""+b._wrapperState.initialValue,K||k===b.value||(b.value=k),b.defaultValue=k}K=b.name,K!==""&&(b.name=""),b.defaultChecked=!!b._wrapperState.initialChecked,K!==""&&(b.name=K)}function D1(b,k,K){(k!=="number"||Wg(b.ownerDocument)!==b)&&(K==null?b.defaultValue=""+b._wrapperState.initialValue:b.defaultValue!==""+K&&(b.defaultValue=""+K))}var Dp=Array.isArray;function Sd(b,k,K,fe){if(b=b.options,k){k={};for(var Te=0;Te<K.length;Te++)k["$"+K[Te]]=!0;for(K=0;K<b.length;K++)Te=k.hasOwnProperty("$"+b[K].value),b[K].selected!==Te&&(b[K].selected=Te),Te&&fe&&(b[K].defaultSelected=!0)}else{for(K=""+Zh(K),k=null,Te=0;Te<b.length;Te++){if(b[Te].value===K){b[Te].selected=!0,fe&&(b[Te].defaultSelected=!0);return}k!==null||b[Te].disabled||(k=b[Te])}k!==null&&(k.selected=!0)}}function I1(b,k){if(k.dangerouslySetInnerHTML!=null)throw Error(xa(91));return _o({},k,{value:void 0,defaultValue:void 0,children:""+b._wrapperState.initialValue})}function hw(b,k){var K=k.value;if(K==null){if(K=k.children,k=k.defaultValue,K!=null){if(k!=null)throw Error(xa(92));if(Dp(K)){if(1<K.length)throw Error(xa(93));K=K[0]}k=K}k==null&&(k=""),K=k}b._wrapperState={initialValue:Zh(K)}}function HT(b,k){var K=Zh(k.value),fe=Zh(k.defaultValue);K!=null&&(K=""+K,K!==b.value&&(b.value=K),k.defaultValue==null&&b.defaultValue!==K&&(b.defaultValue=K)),fe!=null&&(b.defaultValue=""+fe)}function vw(b){var k=b.textContent;k===b._wrapperState.initialValue&&k!==""&&k!==null&&(b.value=k)}function VT(b){switch(b){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function k1(b,k){return b==null||b==="http://www.w3.org/1999/xhtml"?VT(k):b==="http://www.w3.org/2000/svg"&&k==="foreignObject"?"http://www.w3.org/1999/xhtml":b}var tg,GT=function(b){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(k,K,fe,Te){MSApp.execUnsafeLocalFunction(function(){return b(k,K,fe,Te)})}:b}(function(b,k){if(b.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in b)b.innerHTML=k;else{for(tg=tg||document.createElement("div"),tg.innerHTML="<svg>"+k.valueOf().toString()+"</svg>",k=tg.firstChild;b.firstChild;)b.removeChild(b.firstChild);for(;k.firstChild;)b.appendChild(k.firstChild)}});function t0(b,k){if(k){var K=b.firstChild;if(K&&K===b.lastChild&&K.nodeType===3){K.nodeValue=k;return}}b.textContent=k}var Bp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RM=["Webkit","ms","Moz","O"];Object.keys(Bp).forEach(function(b){RM.forEach(function(k){k=k+b.charAt(0).toUpperCase()+b.substring(1),Bp[k]=Bp[b]})});function WT(b,k,K){return k==null||typeof k=="boolean"||k===""?"":K||typeof k!="number"||k===0||Bp.hasOwnProperty(b)&&Bp[b]?(""+k).trim():k+"px"}function YT(b,k){b=b.style;for(var K in k)if(k.hasOwnProperty(K)){var fe=K.indexOf("--")===0,Te=WT(K,k[K],fe);K==="float"&&(K="cssFloat"),fe?b.setProperty(K,Te):b[K]=Te}}var DM=_o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function O1(b,k){if(k){if(DM[b]&&(k.children!=null||k.dangerouslySetInnerHTML!=null))throw Error(xa(137,b));if(k.dangerouslySetInnerHTML!=null){if(k.children!=null)throw Error(xa(60));if(typeof k.dangerouslySetInnerHTML!="object"||!("__html"in k.dangerouslySetInnerHTML))throw Error(xa(61))}if(k.style!=null&&typeof k.style!="object")throw Error(xa(62))}}function z1(b,k){if(b.indexOf("-")===-1)return typeof k.is=="string";switch(b){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var F1=null;function Gx(b){return b=b.target||b.srcElement||window,b.correspondingUseElement&&(b=b.correspondingUseElement),b.nodeType===3?b.parentNode:b}var N1=null,Ed=null,Md=null;function dw(b){if(b=M0(b)){if(typeof N1!="function")throw Error(xa(280));var k=b.stateNode;k&&(k=Dy(k),N1(b.stateNode,b.type,k))}}function jT(b){Ed?Md?Md.push(b):Md=[b]:Ed=b}function ZT(){if(Ed){var b=Ed,k=Md;if(Md=Ed=null,dw(b),k)for(b=0;b<k.length;b++)dw(k[b])}}function XT(b,k){return b(k)}function KT(){}var Wm=!1;function $T(b,k,K){if(Wm)return b(k,K);Wm=!0;try{return XT(b,k,K)}finally{Wm=!1,(Ed!==null||Md!==null)&&(KT(),ZT())}}function r0(b,k){var K=b.stateNode;if(K===null)return null;var fe=Dy(K);if(fe===null)return null;K=fe[k];e:switch(k){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(fe=!fe.disabled)||(b=b.type,fe=!(b==="button"||b==="input"||b==="select"||b==="textarea")),b=!fe;break e;default:b=!1}if(b)return null;if(K&&typeof K!="function")throw Error(xa(231,k,typeof K));return K}var B1=!1;if(ch)try{var yp={};Object.defineProperty(yp,"passive",{get:function(){B1=!0}}),window.addEventListener("test",yp,yp),window.removeEventListener("test",yp,yp)}catch{B1=!1}function IM(b,k,K,fe,Te,Oe,G,V,e){var g=Array.prototype.slice.call(arguments,3);try{k.apply(K,g)}catch(_){this.onError(_)}}var Up=!1,Yg=null,jg=!1,U1=null,kM={onError:function(b){Up=!0,Yg=b}};function OM(b,k,K,fe,Te,Oe,G,V,e){Up=!1,Yg=null,IM.apply(kM,arguments)}function zM(b,k,K,fe,Te,Oe,G,V,e){if(OM.apply(this,arguments),Up){if(Up){var g=Yg;Up=!1,Yg=null}else throw Error(xa(198));jg||(jg=!0,U1=g)}}function Iv(b){var k=b,K=b;if(b.alternate)for(;k.return;)k=k.return;else{b=k;do k=b,k.flags&4098&&(K=k.return),b=k.return;while(b)}return k.tag===3?K:null}function JT(b){if(b.tag===13){var k=b.memoizedState;if(k===null&&(b=b.alternate,b!==null&&(k=b.memoizedState)),k!==null)return k.dehydrated}return null}function pw(b){if(Iv(b)!==b)throw Error(xa(188))}function FM(b){var k=b.alternate;if(!k){if(k=Iv(b),k===null)throw Error(xa(188));return k!==b?null:b}for(var K=b,fe=k;;){var Te=K.return;if(Te===null)break;var Oe=Te.alternate;if(Oe===null){if(fe=Te.return,fe!==null){K=fe;continue}break}if(Te.child===Oe.child){for(Oe=Te.child;Oe;){if(Oe===K)return pw(Te),b;if(Oe===fe)return pw(Te),k;Oe=Oe.sibling}throw Error(xa(188))}if(K.return!==fe.return)K=Te,fe=Oe;else{for(var G=!1,V=Te.child;V;){if(V===K){G=!0,K=Te,fe=Oe;break}if(V===fe){G=!0,fe=Te,K=Oe;break}V=V.sibling}if(!G){for(V=Oe.child;V;){if(V===K){G=!0,K=Oe,fe=Te;break}if(V===fe){G=!0,fe=Oe,K=Te;break}V=V.sibling}if(!G)throw Error(xa(189))}}if(K.alternate!==fe)throw Error(xa(190))}if(K.tag!==3)throw Error(xa(188));return K.stateNode.current===K?b:k}function QT(b){return b=FM(b),b!==null?qT(b):null}function qT(b){if(b.tag===5||b.tag===6)return b;for(b=b.child;b!==null;){var k=qT(b);if(k!==null)return k;b=b.sibling}return null}var e5=Gu.unstable_scheduleCallback,gw=Gu.unstable_cancelCallback,NM=Gu.unstable_shouldYield,BM=Gu.unstable_requestPaint,$o=Gu.unstable_now,UM=Gu.unstable_getCurrentPriorityLevel,Wx=Gu.unstable_ImmediatePriority,t5=Gu.unstable_UserBlockingPriority,Zg=Gu.unstable_NormalPriority,HM=Gu.unstable_LowPriority,r5=Gu.unstable_IdlePriority,Ly=null,Nc=null;function VM(b){if(Nc&&typeof Nc.onCommitFiberRoot=="function")try{Nc.onCommitFiberRoot(Ly,b,void 0,(b.current.flags&128)===128)}catch{}}var ac=Math.clz32?Math.clz32:YM,GM=Math.log,WM=Math.LN2;function YM(b){return b>>>=0,b===0?32:31-(GM(b)/WM|0)|0}var rg=64,ng=4194304;function Ip(b){switch(b&-b){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return b&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return b}}function Xg(b,k){var K=b.pendingLanes;if(K===0)return 0;var fe=0,Te=b.suspendedLanes,Oe=b.pingedLanes,G=K&268435455;if(G!==0){var V=G&~Te;V!==0?fe=Ip(V):(Oe&=G,Oe!==0&&(fe=Ip(Oe)))}else G=K&~Te,G!==0?fe=Ip(G):Oe!==0&&(fe=Ip(Oe));if(fe===0)return 0;if(k!==0&&k!==fe&&!(k&Te)&&(Te=fe&-fe,Oe=k&-k,Te>=Oe||Te===16&&(Oe&4194240)!==0))return k;if(fe&4&&(fe|=K&16),k=b.entangledLanes,k!==0)for(b=b.entanglements,k&=fe;0<k;)K=31-ac(k),Te=1<<K,fe|=b[K],k&=~Te;return fe}function jM(b,k){switch(b){case 1:case 2:case 4:return k+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return k+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZM(b,k){for(var K=b.suspendedLanes,fe=b.pingedLanes,Te=b.expirationTimes,Oe=b.pendingLanes;0<Oe;){var G=31-ac(Oe),V=1<<G,e=Te[G];e===-1?(!(V&K)||V&fe)&&(Te[G]=jM(V,k)):e<=k&&(b.expiredLanes|=V),Oe&=~V}}function H1(b){return b=b.pendingLanes&-1073741825,b!==0?b:b&1073741824?1073741824:0}function n5(){var b=rg;return rg<<=1,!(rg&4194240)&&(rg=64),b}function Ym(b){for(var k=[],K=0;31>K;K++)k.push(b);return k}function S0(b,k,K){b.pendingLanes|=k,k!==536870912&&(b.suspendedLanes=0,b.pingedLanes=0),b=b.eventTimes,k=31-ac(k),b[k]=K}function XM(b,k){var K=b.pendingLanes&~k;b.pendingLanes=k,b.suspendedLanes=0,b.pingedLanes=0,b.expiredLanes&=k,b.mutableReadLanes&=k,b.entangledLanes&=k,k=b.entanglements;var fe=b.eventTimes;for(b=b.expirationTimes;0<K;){var Te=31-ac(K),Oe=1<<Te;k[Te]=0,fe[Te]=-1,b[Te]=-1,K&=~Oe}}function Yx(b,k){var K=b.entangledLanes|=k;for(b=b.entanglements;K;){var fe=31-ac(K),Te=1<<fe;Te&k|b[fe]&k&&(b[fe]|=k),K&=~Te}}var Yi=0;function a5(b){return b&=-b,1<b?4<b?b&268435455?16:536870912:4:1}var i5,jx,o5,s5,l5,V1=!1,ag=[],Nh=null,Bh=null,Uh=null,n0=new Map,a0=new Map,kh=[],KM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yw(b,k){switch(b){case"focusin":case"focusout":Nh=null;break;case"dragenter":case"dragleave":Bh=null;break;case"mouseover":case"mouseout":Uh=null;break;case"pointerover":case"pointerout":n0.delete(k.pointerId);break;case"gotpointercapture":case"lostpointercapture":a0.delete(k.pointerId)}}function mp(b,k,K,fe,Te,Oe){return b===null||b.nativeEvent!==Oe?(b={blockedOn:k,domEventName:K,eventSystemFlags:fe,nativeEvent:Oe,targetContainers:[Te]},k!==null&&(k=M0(k),k!==null&&jx(k)),b):(b.eventSystemFlags|=fe,k=b.targetContainers,Te!==null&&k.indexOf(Te)===-1&&k.push(Te),b)}function $M(b,k,K,fe,Te){switch(k){case"focusin":return Nh=mp(Nh,b,k,K,fe,Te),!0;case"dragenter":return Bh=mp(Bh,b,k,K,fe,Te),!0;case"mouseover":return Uh=mp(Uh,b,k,K,fe,Te),!0;case"pointerover":var Oe=Te.pointerId;return n0.set(Oe,mp(n0.get(Oe)||null,b,k,K,fe,Te)),!0;case"gotpointercapture":return Oe=Te.pointerId,a0.set(Oe,mp(a0.get(Oe)||null,b,k,K,fe,Te)),!0}return!1}function u5(b){var k=vv(b.target);if(k!==null){var K=Iv(k);if(K!==null){if(k=K.tag,k===13){if(k=JT(K),k!==null){b.blockedOn=k,l5(b.priority,function(){o5(K)});return}}else if(k===3&&K.stateNode.current.memoizedState.isDehydrated){b.blockedOn=K.tag===3?K.stateNode.containerInfo:null;return}}}b.blockedOn=null}function Eg(b){if(b.blockedOn!==null)return!1;for(var k=b.targetContainers;0<k.length;){var K=G1(b.domEventName,b.eventSystemFlags,k[0],b.nativeEvent);if(K===null){K=b.nativeEvent;var fe=new K.constructor(K.type,K);F1=fe,K.target.dispatchEvent(fe),F1=null}else return k=M0(K),k!==null&&jx(k),b.blockedOn=K,!1;k.shift()}return!0}function mw(b,k,K){Eg(b)&&K.delete(k)}function JM(){V1=!1,Nh!==null&&Eg(Nh)&&(Nh=null),Bh!==null&&Eg(Bh)&&(Bh=null),Uh!==null&&Eg(Uh)&&(Uh=null),n0.forEach(mw),a0.forEach(mw)}function xp(b,k){b.blockedOn===k&&(b.blockedOn=null,V1||(V1=!0,Gu.unstable_scheduleCallback(Gu.unstable_NormalPriority,JM)))}function i0(b){function k(Te){return xp(Te,b)}if(0<ag.length){xp(ag[0],b);for(var K=1;K<ag.length;K++){var fe=ag[K];fe.blockedOn===b&&(fe.blockedOn=null)}}for(Nh!==null&&xp(Nh,b),Bh!==null&&xp(Bh,b),Uh!==null&&xp(Uh,b),n0.forEach(k),a0.forEach(k),K=0;K<kh.length;K++)fe=kh[K],fe.blockedOn===b&&(fe.blockedOn=null);for(;0<kh.length&&(K=kh[0],K.blockedOn===null);)u5(K),K.blockedOn===null&&kh.shift()}var Cd=ph.ReactCurrentBatchConfig,Kg=!0;function QM(b,k,K,fe){var Te=Yi,Oe=Cd.transition;Cd.transition=null;try{Yi=1,Zx(b,k,K,fe)}finally{Yi=Te,Cd.transition=Oe}}function qM(b,k,K,fe){var Te=Yi,Oe=Cd.transition;Cd.transition=null;try{Yi=4,Zx(b,k,K,fe)}finally{Yi=Te,Cd.transition=Oe}}function Zx(b,k,K,fe){if(Kg){var Te=G1(b,k,K,fe);if(Te===null)t1(b,k,fe,$g,K),yw(b,fe);else if($M(Te,b,k,K,fe))fe.stopPropagation();else if(yw(b,fe),k&4&&-1<KM.indexOf(b)){for(;Te!==null;){var Oe=M0(Te);if(Oe!==null&&i5(Oe),Oe=G1(b,k,K,fe),Oe===null&&t1(b,k,fe,$g,K),Oe===Te)break;Te=Oe}Te!==null&&fe.stopPropagation()}else t1(b,k,fe,null,K)}}var $g=null;function G1(b,k,K,fe){if($g=null,b=Gx(fe),b=vv(b),b!==null)if(k=Iv(b),k===null)b=null;else if(K=k.tag,K===13){if(b=JT(k),b!==null)return b;b=null}else if(K===3){if(k.stateNode.current.memoizedState.isDehydrated)return k.tag===3?k.stateNode.containerInfo:null;b=null}else k!==b&&(b=null);return $g=b,null}function f5(b){switch(b){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UM()){case Wx:return 1;case t5:return 4;case Zg:case HM:return 16;case r5:return 536870912;default:return 16}default:return 16}}var zh=null,Xx=null,Mg=null;function c5(){if(Mg)return Mg;var b,k=Xx,K=k.length,fe,Te="value"in zh?zh.value:zh.textContent,Oe=Te.length;for(b=0;b<K&&k[b]===Te[b];b++);var G=K-b;for(fe=1;fe<=G&&k[K-fe]===Te[Oe-fe];fe++);return Mg=Te.slice(b,1<fe?1-fe:void 0)}function Cg(b){var k=b.keyCode;return"charCode"in b?(b=b.charCode,b===0&&k===13&&(b=13)):b=k,b===10&&(b=13),32<=b||b===13?b:0}function ig(){return!0}function xw(){return!1}function ju(b){function k(K,fe,Te,Oe,G){this._reactName=K,this._targetInst=Te,this.type=fe,this.nativeEvent=Oe,this.target=G,this.currentTarget=null;for(var V in b)b.hasOwnProperty(V)&&(K=b[V],this[V]=K?K(Oe):Oe[V]);return this.isDefaultPrevented=(Oe.defaultPrevented!=null?Oe.defaultPrevented:Oe.returnValue===!1)?ig:xw,this.isPropagationStopped=xw,this}return _o(k.prototype,{preventDefault:function(){this.defaultPrevented=!0;var K=this.nativeEvent;K&&(K.preventDefault?K.preventDefault():typeof K.returnValue!="unknown"&&(K.returnValue=!1),this.isDefaultPrevented=ig)},stopPropagation:function(){var K=this.nativeEvent;K&&(K.stopPropagation?K.stopPropagation():typeof K.cancelBubble!="unknown"&&(K.cancelBubble=!0),this.isPropagationStopped=ig)},persist:function(){},isPersistent:ig}),k}var Zd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(b){return b.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kx=ju(Zd),E0=_o({},Zd,{view:0,detail:0}),e8=ju(E0),jm,Zm,bp,Py=_o({},E0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$x,button:0,buttons:0,relatedTarget:function(b){return b.relatedTarget===void 0?b.fromElement===b.srcElement?b.toElement:b.fromElement:b.relatedTarget},movementX:function(b){return"movementX"in b?b.movementX:(b!==bp&&(bp&&b.type==="mousemove"?(jm=b.screenX-bp.screenX,Zm=b.screenY-bp.screenY):Zm=jm=0,bp=b),jm)},movementY:function(b){return"movementY"in b?b.movementY:Zm}}),bw=ju(Py),t8=_o({},Py,{dataTransfer:0}),r8=ju(t8),n8=_o({},E0,{relatedTarget:0}),Xm=ju(n8),a8=_o({},Zd,{animationName:0,elapsedTime:0,pseudoElement:0}),i8=ju(a8),o8=_o({},Zd,{clipboardData:function(b){return"clipboardData"in b?b.clipboardData:window.clipboardData}}),s8=ju(o8),l8=_o({},Zd,{data:0}),ww=ju(l8),u8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h8(b){var k=this.nativeEvent;return k.getModifierState?k.getModifierState(b):(b=c8[b])?!!k[b]:!1}function $x(){return h8}var v8=_o({},E0,{key:function(b){if(b.key){var k=u8[b.key]||b.key;if(k!=="Unidentified")return k}return b.type==="keypress"?(b=Cg(b),b===13?"Enter":String.fromCharCode(b)):b.type==="keydown"||b.type==="keyup"?f8[b.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$x,charCode:function(b){return b.type==="keypress"?Cg(b):0},keyCode:function(b){return b.type==="keydown"||b.type==="keyup"?b.keyCode:0},which:function(b){return b.type==="keypress"?Cg(b):b.type==="keydown"||b.type==="keyup"?b.keyCode:0}}),d8=ju(v8),p8=_o({},Py,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tw=ju(p8),g8=_o({},E0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$x}),y8=ju(g8),m8=_o({},Zd,{propertyName:0,elapsedTime:0,pseudoElement:0}),x8=ju(m8),b8=_o({},Py,{deltaX:function(b){return"deltaX"in b?b.deltaX:"wheelDeltaX"in b?-b.wheelDeltaX:0},deltaY:function(b){return"deltaY"in b?b.deltaY:"wheelDeltaY"in b?-b.wheelDeltaY:"wheelDelta"in b?-b.wheelDelta:0},deltaZ:0,deltaMode:0}),w8=ju(b8),T8=[9,13,27,32],Jx=ch&&"CompositionEvent"in window,Hp=null;ch&&"documentMode"in document&&(Hp=document.documentMode);var A8=ch&&"TextEvent"in window&&!Hp,h5=ch&&(!Jx||Hp&&8<Hp&&11>=Hp),Aw=String.fromCharCode(32),Sw=!1;function v5(b,k){switch(b){case"keyup":return T8.indexOf(k.keyCode)!==-1;case"keydown":return k.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d5(b){return b=b.detail,typeof b=="object"&&"data"in b?b.data:null}var ud=!1;function S8(b,k){switch(b){case"compositionend":return d5(k);case"keypress":return k.which!==32?null:(Sw=!0,Aw);case"textInput":return b=k.data,b===Aw&&Sw?null:b;default:return null}}function E8(b,k){if(ud)return b==="compositionend"||!Jx&&v5(b,k)?(b=c5(),Mg=Xx=zh=null,ud=!1,b):null;switch(b){case"paste":return null;case"keypress":if(!(k.ctrlKey||k.altKey||k.metaKey)||k.ctrlKey&&k.altKey){if(k.char&&1<k.char.length)return k.char;if(k.which)return String.fromCharCode(k.which)}return null;case"compositionend":return h5&&k.locale!=="ko"?null:k.data;default:return null}}var M8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ew(b){var k=b&&b.nodeName&&b.nodeName.toLowerCase();return k==="input"?!!M8[b.type]:k==="textarea"}function p5(b,k,K,fe){jT(fe),k=Jg(k,"onChange"),0<k.length&&(K=new Kx("onChange","change",null,K,fe),b.push({event:K,listeners:k}))}var Vp=null,o0=null;function C8(b){M5(b,0)}function _y(b){var k=hd(b);if(BT(k))return b}function L8(b,k){if(b==="change")return k}var g5=!1;if(ch){var Km;if(ch){var $m="oninput"in document;if(!$m){var Mw=document.createElement("div");Mw.setAttribute("oninput","return;"),$m=typeof Mw.oninput=="function"}Km=$m}else Km=!1;g5=Km&&(!document.documentMode||9<document.documentMode)}function Cw(){Vp&&(Vp.detachEvent("onpropertychange",y5),o0=Vp=null)}function y5(b){if(b.propertyName==="value"&&_y(o0)){var k=[];p5(k,o0,b,Gx(b)),$T(C8,k)}}function P8(b,k,K){b==="focusin"?(Cw(),Vp=k,o0=K,Vp.attachEvent("onpropertychange",y5)):b==="focusout"&&Cw()}function _8(b){if(b==="selectionchange"||b==="keyup"||b==="keydown")return _y(o0)}function R8(b,k){if(b==="click")return _y(k)}function D8(b,k){if(b==="input"||b==="change")return _y(k)}function I8(b,k){return b===k&&(b!==0||1/b===1/k)||b!==b&&k!==k}var sc=typeof Object.is=="function"?Object.is:I8;function s0(b,k){if(sc(b,k))return!0;if(typeof b!="object"||b===null||typeof k!="object"||k===null)return!1;var K=Object.keys(b),fe=Object.keys(k);if(K.length!==fe.length)return!1;for(fe=0;fe<K.length;fe++){var Te=K[fe];if(!E1.call(k,Te)||!sc(b[Te],k[Te]))return!1}return!0}function Lw(b){for(;b&&b.firstChild;)b=b.firstChild;return b}function Pw(b,k){var K=Lw(b);b=0;for(var fe;K;){if(K.nodeType===3){if(fe=b+K.textContent.length,b<=k&&fe>=k)return{node:K,offset:k-b};b=fe}e:{for(;K;){if(K.nextSibling){K=K.nextSibling;break e}K=K.parentNode}K=void 0}K=Lw(K)}}function m5(b,k){return b&&k?b===k?!0:b&&b.nodeType===3?!1:k&&k.nodeType===3?m5(b,k.parentNode):"contains"in b?b.contains(k):b.compareDocumentPosition?!!(b.compareDocumentPosition(k)&16):!1:!1}function x5(){for(var b=window,k=Wg();k instanceof b.HTMLIFrameElement;){try{var K=typeof k.contentWindow.location.href=="string"}catch{K=!1}if(K)b=k.contentWindow;else break;k=Wg(b.document)}return k}function Qx(b){var k=b&&b.nodeName&&b.nodeName.toLowerCase();return k&&(k==="input"&&(b.type==="text"||b.type==="search"||b.type==="tel"||b.type==="url"||b.type==="password")||k==="textarea"||b.contentEditable==="true")}function k8(b){var k=x5(),K=b.focusedElem,fe=b.selectionRange;if(k!==K&&K&&K.ownerDocument&&m5(K.ownerDocument.documentElement,K)){if(fe!==null&&Qx(K)){if(k=fe.start,b=fe.end,b===void 0&&(b=k),"selectionStart"in K)K.selectionStart=k,K.selectionEnd=Math.min(b,K.value.length);else if(b=(k=K.ownerDocument||document)&&k.defaultView||window,b.getSelection){b=b.getSelection();var Te=K.textContent.length,Oe=Math.min(fe.start,Te);fe=fe.end===void 0?Oe:Math.min(fe.end,Te),!b.extend&&Oe>fe&&(Te=fe,fe=Oe,Oe=Te),Te=Pw(K,Oe);var G=Pw(K,fe);Te&&G&&(b.rangeCount!==1||b.anchorNode!==Te.node||b.anchorOffset!==Te.offset||b.focusNode!==G.node||b.focusOffset!==G.offset)&&(k=k.createRange(),k.setStart(Te.node,Te.offset),b.removeAllRanges(),Oe>fe?(b.addRange(k),b.extend(G.node,G.offset)):(k.setEnd(G.node,G.offset),b.addRange(k)))}}for(k=[],b=K;b=b.parentNode;)b.nodeType===1&&k.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<k.length;K++)b=k[K],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}var O8=ch&&"documentMode"in document&&11>=document.documentMode,fd=null,W1=null,Gp=null,Y1=!1;function _w(b,k,K){var fe=K.window===K?K.document:K.nodeType===9?K:K.ownerDocument;Y1||fd==null||fd!==Wg(fe)||(fe=fd,"selectionStart"in fe&&Qx(fe)?fe={start:fe.selectionStart,end:fe.selectionEnd}:(fe=(fe.ownerDocument&&fe.ownerDocument.defaultView||window).getSelection(),fe={anchorNode:fe.anchorNode,anchorOffset:fe.anchorOffset,focusNode:fe.focusNode,focusOffset:fe.focusOffset}),Gp&&s0(Gp,fe)||(Gp=fe,fe=Jg(W1,"onSelect"),0<fe.length&&(k=new Kx("onSelect","select",null,k,K),b.push({event:k,listeners:fe}),k.target=fd)))}function og(b,k){var K={};return K[b.toLowerCase()]=k.toLowerCase(),K["Webkit"+b]="webkit"+k,K["Moz"+b]="moz"+k,K}var cd={animationend:og("Animation","AnimationEnd"),animationiteration:og("Animation","AnimationIteration"),animationstart:og("Animation","AnimationStart"),transitionend:og("Transition","TransitionEnd")},Jm={},b5={};ch&&(b5=document.createElement("div").style,"AnimationEvent"in window||(delete cd.animationend.animation,delete cd.animationiteration.animation,delete cd.animationstart.animation),"TransitionEvent"in window||delete cd.transitionend.transition);function Ry(b){if(Jm[b])return Jm[b];if(!cd[b])return b;var k=cd[b],K;for(K in k)if(k.hasOwnProperty(K)&&K in b5)return Jm[b]=k[K];return b}var w5=Ry("animationend"),T5=Ry("animationiteration"),A5=Ry("animationstart"),S5=Ry("transitionend"),E5=new Map,Rw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $h(b,k){E5.set(b,k),Dv(k,[b])}for(var Qm=0;Qm<Rw.length;Qm++){var qm=Rw[Qm],z8=qm.toLowerCase(),F8=qm[0].toUpperCase()+qm.slice(1);$h(z8,"on"+F8)}$h(w5,"onAnimationEnd");$h(T5,"onAnimationIteration");$h(A5,"onAnimationStart");$h("dblclick","onDoubleClick");$h("focusin","onFocus");$h("focusout","onBlur");$h(S5,"onTransitionEnd");Rd("onMouseEnter",["mouseout","mouseover"]);Rd("onMouseLeave",["mouseout","mouseover"]);Rd("onPointerEnter",["pointerout","pointerover"]);Rd("onPointerLeave",["pointerout","pointerover"]);Dv("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dv("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dv("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dv("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dv("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dv("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N8=new Set("cancel close invalid load scroll toggle".split(" ").concat(kp));function Dw(b,k,K){var fe=b.type||"unknown-event";b.currentTarget=K,zM(fe,k,void 0,b),b.currentTarget=null}function M5(b,k){k=(k&4)!==0;for(var K=0;K<b.length;K++){var fe=b[K],Te=fe.event;fe=fe.listeners;e:{var Oe=void 0;if(k)for(var G=fe.length-1;0<=G;G--){var V=fe[G],e=V.instance,g=V.currentTarget;if(V=V.listener,e!==Oe&&Te.isPropagationStopped())break e;Dw(Te,V,g),Oe=e}else for(G=0;G<fe.length;G++){if(V=fe[G],e=V.instance,g=V.currentTarget,V=V.listener,e!==Oe&&Te.isPropagationStopped())break e;Dw(Te,V,g),Oe=e}}}if(jg)throw b=U1,jg=!1,U1=null,b}function co(b,k){var K=k[$1];K===void 0&&(K=k[$1]=new Set);var fe=b+"__bubble";K.has(fe)||(C5(k,b,2,!1),K.add(fe))}function e1(b,k,K){var fe=0;k&&(fe|=4),C5(K,b,fe,k)}var sg="_reactListening"+Math.random().toString(36).slice(2);function l0(b){if(!b[sg]){b[sg]=!0,kT.forEach(function(K){K!=="selectionchange"&&(N8.has(K)||e1(K,!1,b),e1(K,!0,b))});var k=b.nodeType===9?b:b.ownerDocument;k===null||k[sg]||(k[sg]=!0,e1("selectionchange",!1,k))}}function C5(b,k,K,fe){switch(f5(k)){case 1:var Te=QM;break;case 4:Te=qM;break;default:Te=Zx}K=Te.bind(null,k,K,b),Te=void 0,!B1||k!=="touchstart"&&k!=="touchmove"&&k!=="wheel"||(Te=!0),fe?Te!==void 0?b.addEventListener(k,K,{capture:!0,passive:Te}):b.addEventListener(k,K,!0):Te!==void 0?b.addEventListener(k,K,{passive:Te}):b.addEventListener(k,K,!1)}function t1(b,k,K,fe,Te){var Oe=fe;if(!(k&1)&&!(k&2)&&fe!==null)e:for(;;){if(fe===null)return;var G=fe.tag;if(G===3||G===4){var V=fe.stateNode.containerInfo;if(V===Te||V.nodeType===8&&V.parentNode===Te)break;if(G===4)for(G=fe.return;G!==null;){var e=G.tag;if((e===3||e===4)&&(e=G.stateNode.containerInfo,e===Te||e.nodeType===8&&e.parentNode===Te))return;G=G.return}for(;V!==null;){if(G=vv(V),G===null)return;if(e=G.tag,e===5||e===6){fe=Oe=G;continue e}V=V.parentNode}}fe=fe.return}$T(function(){var g=Oe,_=Gx(K),a=[];e:{var C=E5.get(b);if(C!==void 0){var A=Kx,v=b;switch(b){case"keypress":if(Cg(K)===0)break e;case"keydown":case"keyup":A=d8;break;case"focusin":v="focus",A=Xm;break;case"focusout":v="blur",A=Xm;break;case"beforeblur":case"afterblur":A=Xm;break;case"click":if(K.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=bw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=r8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=y8;break;case w5:case T5:case A5:A=i8;break;case S5:A=x8;break;case"scroll":A=e8;break;case"wheel":A=w8;break;case"copy":case"cut":case"paste":A=s8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=Tw}var p=(k&4)!==0,t=!p&&b==="scroll",r=p?C!==null?C+"Capture":null:C;p=[];for(var s=g,n;s!==null;){n=s;var i=n.stateNode;if(n.tag===5&&i!==null&&(n=i,r!==null&&(i=r0(s,r),i!=null&&p.push(u0(s,i,n)))),t)break;s=s.return}0<p.length&&(C=new A(C,v,null,K,_),a.push({event:C,listeners:p}))}}if(!(k&7)){e:{if(C=b==="mouseover"||b==="pointerover",A=b==="mouseout"||b==="pointerout",C&&K!==F1&&(v=K.relatedTarget||K.fromElement)&&(vv(v)||v[hh]))break e;if((A||C)&&(C=_.window===_?_:(C=_.ownerDocument)?C.defaultView||C.parentWindow:window,A?(v=K.relatedTarget||K.toElement,A=g,v=v?vv(v):null,v!==null&&(t=Iv(v),v!==t||v.tag!==5&&v.tag!==6)&&(v=null)):(A=null,v=g),A!==v)){if(p=bw,i="onMouseLeave",r="onMouseEnter",s="mouse",(b==="pointerout"||b==="pointerover")&&(p=Tw,i="onPointerLeave",r="onPointerEnter",s="pointer"),t=A==null?C:hd(A),n=v==null?C:hd(v),C=new p(i,s+"leave",A,K,_),C.target=t,C.relatedTarget=n,i=null,vv(_)===g&&(p=new p(r,s+"enter",v,K,_),p.target=n,p.relatedTarget=t,i=p),t=i,A&&v)t:{for(p=A,r=v,s=0,n=p;n;n=id(n))s++;for(n=0,i=r;i;i=id(i))n++;for(;0<s-n;)p=id(p),s--;for(;0<n-s;)r=id(r),n--;for(;s--;){if(p===r||r!==null&&p===r.alternate)break t;p=id(p),r=id(r)}p=null}else p=null;A!==null&&Iw(a,C,A,p,!1),v!==null&&t!==null&&Iw(a,t,v,p,!0)}}e:{if(C=g?hd(g):window,A=C.nodeName&&C.nodeName.toLowerCase(),A==="select"||A==="input"&&C.type==="file")var f=L8;else if(Ew(C))if(g5)f=D8;else{f=_8;var u=P8}else(A=C.nodeName)&&A.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(f=R8);if(f&&(f=f(b,g))){p5(a,f,K,_);break e}u&&u(b,C,g),b==="focusout"&&(u=C._wrapperState)&&u.controlled&&C.type==="number"&&D1(C,"number",C.value)}switch(u=g?hd(g):window,b){case"focusin":(Ew(u)||u.contentEditable==="true")&&(fd=u,W1=g,Gp=null);break;case"focusout":Gp=W1=fd=null;break;case"mousedown":Y1=!0;break;case"contextmenu":case"mouseup":case"dragend":Y1=!1,_w(a,K,_);break;case"selectionchange":if(O8)break;case"keydown":case"keyup":_w(a,K,_)}var y;if(Jx)e:{switch(b){case"compositionstart":var c="onCompositionStart";break e;case"compositionend":c="onCompositionEnd";break e;case"compositionupdate":c="onCompositionUpdate";break e}c=void 0}else ud?v5(b,K)&&(c="onCompositionEnd"):b==="keydown"&&K.keyCode===229&&(c="onCompositionStart");c&&(h5&&K.locale!=="ko"&&(ud||c!=="onCompositionStart"?c==="onCompositionEnd"&&ud&&(y=c5()):(zh=_,Xx="value"in zh?zh.value:zh.textContent,ud=!0)),u=Jg(g,c),0<u.length&&(c=new ww(c,b,null,K,_),a.push({event:c,listeners:u}),y?c.data=y:(y=d5(K),y!==null&&(c.data=y)))),(y=A8?S8(b,K):E8(b,K))&&(g=Jg(g,"onBeforeInput"),0<g.length&&(_=new ww("onBeforeInput","beforeinput",null,K,_),a.push({event:_,listeners:g}),_.data=y))}M5(a,k)})}function u0(b,k,K){return{instance:b,listener:k,currentTarget:K}}function Jg(b,k){for(var K=k+"Capture",fe=[];b!==null;){var Te=b,Oe=Te.stateNode;Te.tag===5&&Oe!==null&&(Te=Oe,Oe=r0(b,K),Oe!=null&&fe.unshift(u0(b,Oe,Te)),Oe=r0(b,k),Oe!=null&&fe.push(u0(b,Oe,Te))),b=b.return}return fe}function id(b){if(b===null)return null;do b=b.return;while(b&&b.tag!==5);return b||null}function Iw(b,k,K,fe,Te){for(var Oe=k._reactName,G=[];K!==null&&K!==fe;){var V=K,e=V.alternate,g=V.stateNode;if(e!==null&&e===fe)break;V.tag===5&&g!==null&&(V=g,Te?(e=r0(K,Oe),e!=null&&G.unshift(u0(K,e,V))):Te||(e=r0(K,Oe),e!=null&&G.push(u0(K,e,V)))),K=K.return}G.length!==0&&b.push({event:k,listeners:G})}var B8=/\r\n?/g,U8=/\u0000|\uFFFD/g;function kw(b){return(typeof b=="string"?b:""+b).replace(B8,`
`).replace(U8,"")}function lg(b,k,K){if(k=kw(k),kw(b)!==k&&K)throw Error(xa(425))}function Qg(){}var j1=null,Z1=null;function X1(b,k){return b==="textarea"||b==="noscript"||typeof k.children=="string"||typeof k.children=="number"||typeof k.dangerouslySetInnerHTML=="object"&&k.dangerouslySetInnerHTML!==null&&k.dangerouslySetInnerHTML.__html!=null}var K1=typeof setTimeout=="function"?setTimeout:void 0,H8=typeof clearTimeout=="function"?clearTimeout:void 0,Ow=typeof Promise=="function"?Promise:void 0,V8=typeof queueMicrotask=="function"?queueMicrotask:typeof Ow<"u"?function(b){return Ow.resolve(null).then(b).catch(G8)}:K1;function G8(b){setTimeout(function(){throw b})}function r1(b,k){var K=k,fe=0;do{var Te=K.nextSibling;if(b.removeChild(K),Te&&Te.nodeType===8)if(K=Te.data,K==="/$"){if(fe===0){b.removeChild(Te),i0(k);return}fe--}else K!=="$"&&K!=="$?"&&K!=="$!"||fe++;K=Te}while(K);i0(k)}function Hh(b){for(;b!=null;b=b.nextSibling){var k=b.nodeType;if(k===1||k===3)break;if(k===8){if(k=b.data,k==="$"||k==="$!"||k==="$?")break;if(k==="/$")return null}}return b}function zw(b){b=b.previousSibling;for(var k=0;b;){if(b.nodeType===8){var K=b.data;if(K==="$"||K==="$!"||K==="$?"){if(k===0)return b;k--}else K==="/$"&&k++}b=b.previousSibling}return null}var Xd=Math.random().toString(36).slice(2),Fc="__reactFiber$"+Xd,f0="__reactProps$"+Xd,hh="__reactContainer$"+Xd,$1="__reactEvents$"+Xd,W8="__reactListeners$"+Xd,Y8="__reactHandles$"+Xd;function vv(b){var k=b[Fc];if(k)return k;for(var K=b.parentNode;K;){if(k=K[hh]||K[Fc]){if(K=k.alternate,k.child!==null||K!==null&&K.child!==null)for(b=zw(b);b!==null;){if(K=b[Fc])return K;b=zw(b)}return k}b=K,K=b.parentNode}return null}function M0(b){return b=b[Fc]||b[hh],!b||b.tag!==5&&b.tag!==6&&b.tag!==13&&b.tag!==3?null:b}function hd(b){if(b.tag===5||b.tag===6)return b.stateNode;throw Error(xa(33))}function Dy(b){return b[f0]||null}var J1=[],vd=-1;function Jh(b){return{current:b}}function vo(b){0>vd||(b.current=J1[vd],J1[vd]=null,vd--)}function oo(b,k){vd++,J1[vd]=b.current,b.current=k}var Xh={},El=Jh(Xh),vu=Jh(!1),Tv=Xh;function Dd(b,k){var K=b.type.contextTypes;if(!K)return Xh;var fe=b.stateNode;if(fe&&fe.__reactInternalMemoizedUnmaskedChildContext===k)return fe.__reactInternalMemoizedMaskedChildContext;var Te={},Oe;for(Oe in K)Te[Oe]=k[Oe];return fe&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=k,b.__reactInternalMemoizedMaskedChildContext=Te),Te}function du(b){return b=b.childContextTypes,b!=null}function qg(){vo(vu),vo(El)}function Fw(b,k,K){if(El.current!==Xh)throw Error(xa(168));oo(El,k),oo(vu,K)}function L5(b,k,K){var fe=b.stateNode;if(k=k.childContextTypes,typeof fe.getChildContext!="function")return K;fe=fe.getChildContext();for(var Te in fe)if(!(Te in k))throw Error(xa(108,PM(b)||"Unknown",Te));return _o({},K,fe)}function ey(b){return b=(b=b.stateNode)&&b.__reactInternalMemoizedMergedChildContext||Xh,Tv=El.current,oo(El,b),oo(vu,vu.current),!0}function Nw(b,k,K){var fe=b.stateNode;if(!fe)throw Error(xa(169));K?(b=L5(b,k,Tv),fe.__reactInternalMemoizedMergedChildContext=b,vo(vu),vo(El),oo(El,b)):vo(vu),oo(vu,K)}var ih=null,Iy=!1,n1=!1;function P5(b){ih===null?ih=[b]:ih.push(b)}function j8(b){Iy=!0,P5(b)}function Qh(){if(!n1&&ih!==null){n1=!0;var b=0,k=Yi;try{var K=ih;for(Yi=1;b<K.length;b++){var fe=K[b];do fe=fe(!0);while(fe!==null)}ih=null,Iy=!1}catch(Te){throw ih!==null&&(ih=ih.slice(b+1)),e5(Wx,Qh),Te}finally{Yi=k,n1=!1}}return null}var dd=[],pd=0,ty=null,ry=0,cf=[],hf=0,Av=null,sh=1,lh="";function uv(b,k){dd[pd++]=ry,dd[pd++]=ty,ty=b,ry=k}function _5(b,k,K){cf[hf++]=sh,cf[hf++]=lh,cf[hf++]=Av,Av=b;var fe=sh;b=lh;var Te=32-ac(fe)-1;fe&=~(1<<Te),K+=1;var Oe=32-ac(k)+Te;if(30<Oe){var G=Te-Te%5;Oe=(fe&(1<<G)-1).toString(32),fe>>=G,Te-=G,sh=1<<32-ac(k)+Te|K<<Te|fe,lh=Oe+b}else sh=1<<Oe|K<<Te|fe,lh=b}function qx(b){b.return!==null&&(uv(b,1),_5(b,1,0))}function eb(b){for(;b===ty;)ty=dd[--pd],dd[pd]=null,ry=dd[--pd],dd[pd]=null;for(;b===Av;)Av=cf[--hf],cf[hf]=null,lh=cf[--hf],cf[hf]=null,sh=cf[--hf],cf[hf]=null}var Vu=null,Hu=null,xo=!1,nc=null;function R5(b,k){var K=vf(5,null,null,0);K.elementType="DELETED",K.stateNode=k,K.return=b,k=b.deletions,k===null?(b.deletions=[K],b.flags|=16):k.push(K)}function Bw(b,k){switch(b.tag){case 5:var K=b.type;return k=k.nodeType!==1||K.toLowerCase()!==k.nodeName.toLowerCase()?null:k,k!==null?(b.stateNode=k,Vu=b,Hu=Hh(k.firstChild),!0):!1;case 6:return k=b.pendingProps===""||k.nodeType!==3?null:k,k!==null?(b.stateNode=k,Vu=b,Hu=null,!0):!1;case 13:return k=k.nodeType!==8?null:k,k!==null?(K=Av!==null?{id:sh,overflow:lh}:null,b.memoizedState={dehydrated:k,treeContext:K,retryLane:1073741824},K=vf(18,null,null,0),K.stateNode=k,K.return=b,b.child=K,Vu=b,Hu=null,!0):!1;default:return!1}}function Q1(b){return(b.mode&1)!==0&&(b.flags&128)===0}function q1(b){if(xo){var k=Hu;if(k){var K=k;if(!Bw(b,k)){if(Q1(b))throw Error(xa(418));k=Hh(K.nextSibling);var fe=Vu;k&&Bw(b,k)?R5(fe,K):(b.flags=b.flags&-4097|2,xo=!1,Vu=b)}}else{if(Q1(b))throw Error(xa(418));b.flags=b.flags&-4097|2,xo=!1,Vu=b}}}function Uw(b){for(b=b.return;b!==null&&b.tag!==5&&b.tag!==3&&b.tag!==13;)b=b.return;Vu=b}function ug(b){if(b!==Vu)return!1;if(!xo)return Uw(b),xo=!0,!1;var k;if((k=b.tag!==3)&&!(k=b.tag!==5)&&(k=b.type,k=k!=="head"&&k!=="body"&&!X1(b.type,b.memoizedProps)),k&&(k=Hu)){if(Q1(b))throw D5(),Error(xa(418));for(;k;)R5(b,k),k=Hh(k.nextSibling)}if(Uw(b),b.tag===13){if(b=b.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(xa(317));e:{for(b=b.nextSibling,k=0;b;){if(b.nodeType===8){var K=b.data;if(K==="/$"){if(k===0){Hu=Hh(b.nextSibling);break e}k--}else K!=="$"&&K!=="$!"&&K!=="$?"||k++}b=b.nextSibling}Hu=null}}else Hu=Vu?Hh(b.stateNode.nextSibling):null;return!0}function D5(){for(var b=Hu;b;)b=Hh(b.nextSibling)}function Id(){Hu=Vu=null,xo=!1}function tb(b){nc===null?nc=[b]:nc.push(b)}var Z8=ph.ReactCurrentBatchConfig;function ec(b,k){if(b&&b.defaultProps){k=_o({},k),b=b.defaultProps;for(var K in b)k[K]===void 0&&(k[K]=b[K]);return k}return k}var ny=Jh(null),ay=null,gd=null,rb=null;function nb(){rb=gd=ay=null}function ab(b){var k=ny.current;vo(ny),b._currentValue=k}function ex(b,k,K){for(;b!==null;){var fe=b.alternate;if((b.childLanes&k)!==k?(b.childLanes|=k,fe!==null&&(fe.childLanes|=k)):fe!==null&&(fe.childLanes&k)!==k&&(fe.childLanes|=k),b===K)break;b=b.return}}function Ld(b,k){ay=b,rb=gd=null,b=b.dependencies,b!==null&&b.firstContext!==null&&(b.lanes&k&&(hu=!0),b.firstContext=null)}function pf(b){var k=b._currentValue;if(rb!==b)if(b={context:b,memoizedValue:k,next:null},gd===null){if(ay===null)throw Error(xa(308));gd=b,ay.dependencies={lanes:0,firstContext:b}}else gd=gd.next=b;return k}var dv=null;function ib(b){dv===null?dv=[b]:dv.push(b)}function I5(b,k,K,fe){var Te=k.interleaved;return Te===null?(K.next=K,ib(k)):(K.next=Te.next,Te.next=K),k.interleaved=K,vh(b,fe)}function vh(b,k){b.lanes|=k;var K=b.alternate;for(K!==null&&(K.lanes|=k),K=b,b=b.return;b!==null;)b.childLanes|=k,K=b.alternate,K!==null&&(K.childLanes|=k),K=b,b=b.return;return K.tag===3?K.stateNode:null}var Ih=!1;function ob(b){b.updateQueue={baseState:b.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function k5(b,k){b=b.updateQueue,k.updateQueue===b&&(k.updateQueue={baseState:b.baseState,firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,effects:b.effects})}function uh(b,k){return{eventTime:b,lane:k,tag:0,payload:null,callback:null,next:null}}function Vh(b,k,K){var fe=b.updateQueue;if(fe===null)return null;if(fe=fe.shared,Ii&2){var Te=fe.pending;return Te===null?k.next=k:(k.next=Te.next,Te.next=k),fe.pending=k,vh(b,K)}return Te=fe.interleaved,Te===null?(k.next=k,ib(fe)):(k.next=Te.next,Te.next=k),fe.interleaved=k,vh(b,K)}function Lg(b,k,K){if(k=k.updateQueue,k!==null&&(k=k.shared,(K&4194240)!==0)){var fe=k.lanes;fe&=b.pendingLanes,K|=fe,k.lanes=K,Yx(b,K)}}function Hw(b,k){var K=b.updateQueue,fe=b.alternate;if(fe!==null&&(fe=fe.updateQueue,K===fe)){var Te=null,Oe=null;if(K=K.firstBaseUpdate,K!==null){do{var G={eventTime:K.eventTime,lane:K.lane,tag:K.tag,payload:K.payload,callback:K.callback,next:null};Oe===null?Te=Oe=G:Oe=Oe.next=G,K=K.next}while(K!==null);Oe===null?Te=Oe=k:Oe=Oe.next=k}else Te=Oe=k;K={baseState:fe.baseState,firstBaseUpdate:Te,lastBaseUpdate:Oe,shared:fe.shared,effects:fe.effects},b.updateQueue=K;return}b=K.lastBaseUpdate,b===null?K.firstBaseUpdate=k:b.next=k,K.lastBaseUpdate=k}function iy(b,k,K,fe){var Te=b.updateQueue;Ih=!1;var Oe=Te.firstBaseUpdate,G=Te.lastBaseUpdate,V=Te.shared.pending;if(V!==null){Te.shared.pending=null;var e=V,g=e.next;e.next=null,G===null?Oe=g:G.next=g,G=e;var _=b.alternate;_!==null&&(_=_.updateQueue,V=_.lastBaseUpdate,V!==G&&(V===null?_.firstBaseUpdate=g:V.next=g,_.lastBaseUpdate=e))}if(Oe!==null){var a=Te.baseState;G=0,_=g=e=null,V=Oe;do{var C=V.lane,A=V.eventTime;if((fe&C)===C){_!==null&&(_=_.next={eventTime:A,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var v=b,p=V;switch(C=k,A=K,p.tag){case 1:if(v=p.payload,typeof v=="function"){a=v.call(A,a,C);break e}a=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,C=typeof v=="function"?v.call(A,a,C):v,C==null)break e;a=_o({},a,C);break e;case 2:Ih=!0}}V.callback!==null&&V.lane!==0&&(b.flags|=64,C=Te.effects,C===null?Te.effects=[V]:C.push(V))}else A={eventTime:A,lane:C,tag:V.tag,payload:V.payload,callback:V.callback,next:null},_===null?(g=_=A,e=a):_=_.next=A,G|=C;if(V=V.next,V===null){if(V=Te.shared.pending,V===null)break;C=V,V=C.next,C.next=null,Te.lastBaseUpdate=C,Te.shared.pending=null}}while(1);if(_===null&&(e=a),Te.baseState=e,Te.firstBaseUpdate=g,Te.lastBaseUpdate=_,k=Te.shared.interleaved,k!==null){Te=k;do G|=Te.lane,Te=Te.next;while(Te!==k)}else Oe===null&&(Te.shared.lanes=0);Ev|=G,b.lanes=G,b.memoizedState=a}}function Vw(b,k,K){if(b=k.effects,k.effects=null,b!==null)for(k=0;k<b.length;k++){var fe=b[k],Te=fe.callback;if(Te!==null){if(fe.callback=null,fe=K,typeof Te!="function")throw Error(xa(191,Te));Te.call(fe)}}}var O5=new IT.Component().refs;function tx(b,k,K,fe){k=b.memoizedState,K=K(fe,k),K=K==null?k:_o({},k,K),b.memoizedState=K,b.lanes===0&&(b.updateQueue.baseState=K)}var ky={isMounted:function(b){return(b=b._reactInternals)?Iv(b)===b:!1},enqueueSetState:function(b,k,K){b=b._reactInternals;var fe=Zl(),Te=Wh(b),Oe=uh(fe,Te);Oe.payload=k,K!=null&&(Oe.callback=K),k=Vh(b,Oe,Te),k!==null&&(ic(k,b,Te,fe),Lg(k,b,Te))},enqueueReplaceState:function(b,k,K){b=b._reactInternals;var fe=Zl(),Te=Wh(b),Oe=uh(fe,Te);Oe.tag=1,Oe.payload=k,K!=null&&(Oe.callback=K),k=Vh(b,Oe,Te),k!==null&&(ic(k,b,Te,fe),Lg(k,b,Te))},enqueueForceUpdate:function(b,k){b=b._reactInternals;var K=Zl(),fe=Wh(b),Te=uh(K,fe);Te.tag=2,k!=null&&(Te.callback=k),k=Vh(b,Te,fe),k!==null&&(ic(k,b,fe,K),Lg(k,b,fe))}};function Gw(b,k,K,fe,Te,Oe,G){return b=b.stateNode,typeof b.shouldComponentUpdate=="function"?b.shouldComponentUpdate(fe,Oe,G):k.prototype&&k.prototype.isPureReactComponent?!s0(K,fe)||!s0(Te,Oe):!0}function z5(b,k,K){var fe=!1,Te=Xh,Oe=k.contextType;return typeof Oe=="object"&&Oe!==null?Oe=pf(Oe):(Te=du(k)?Tv:El.current,fe=k.contextTypes,Oe=(fe=fe!=null)?Dd(b,Te):Xh),k=new k(K,Oe),b.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=ky,b.stateNode=k,k._reactInternals=b,fe&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=Te,b.__reactInternalMemoizedMaskedChildContext=Oe),k}function Ww(b,k,K,fe){b=k.state,typeof k.componentWillReceiveProps=="function"&&k.componentWillReceiveProps(K,fe),typeof k.UNSAFE_componentWillReceiveProps=="function"&&k.UNSAFE_componentWillReceiveProps(K,fe),k.state!==b&&ky.enqueueReplaceState(k,k.state,null)}function rx(b,k,K,fe){var Te=b.stateNode;Te.props=K,Te.state=b.memoizedState,Te.refs=O5,ob(b);var Oe=k.contextType;typeof Oe=="object"&&Oe!==null?Te.context=pf(Oe):(Oe=du(k)?Tv:El.current,Te.context=Dd(b,Oe)),Te.state=b.memoizedState,Oe=k.getDerivedStateFromProps,typeof Oe=="function"&&(tx(b,k,Oe,K),Te.state=b.memoizedState),typeof k.getDerivedStateFromProps=="function"||typeof Te.getSnapshotBeforeUpdate=="function"||typeof Te.UNSAFE_componentWillMount!="function"&&typeof Te.componentWillMount!="function"||(k=Te.state,typeof Te.componentWillMount=="function"&&Te.componentWillMount(),typeof Te.UNSAFE_componentWillMount=="function"&&Te.UNSAFE_componentWillMount(),k!==Te.state&&ky.enqueueReplaceState(Te,Te.state,null),iy(b,K,Te,fe),Te.state=b.memoizedState),typeof Te.componentDidMount=="function"&&(b.flags|=4194308)}function wp(b,k,K){if(b=K.ref,b!==null&&typeof b!="function"&&typeof b!="object"){if(K._owner){if(K=K._owner,K){if(K.tag!==1)throw Error(xa(309));var fe=K.stateNode}if(!fe)throw Error(xa(147,b));var Te=fe,Oe=""+b;return k!==null&&k.ref!==null&&typeof k.ref=="function"&&k.ref._stringRef===Oe?k.ref:(k=function(G){var V=Te.refs;V===O5&&(V=Te.refs={}),G===null?delete V[Oe]:V[Oe]=G},k._stringRef=Oe,k)}if(typeof b!="string")throw Error(xa(284));if(!K._owner)throw Error(xa(290,b))}return b}function fg(b,k){throw b=Object.prototype.toString.call(k),Error(xa(31,b==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":b))}function Yw(b){var k=b._init;return k(b._payload)}function F5(b){function k(r,s){if(b){var n=r.deletions;n===null?(r.deletions=[s],r.flags|=16):n.push(s)}}function K(r,s){if(!b)return null;for(;s!==null;)k(r,s),s=s.sibling;return null}function fe(r,s){for(r=new Map;s!==null;)s.key!==null?r.set(s.key,s):r.set(s.index,s),s=s.sibling;return r}function Te(r,s){return r=Yh(r,s),r.index=0,r.sibling=null,r}function Oe(r,s,n){return r.index=n,b?(n=r.alternate,n!==null?(n=n.index,n<s?(r.flags|=2,s):n):(r.flags|=2,s)):(r.flags|=1048576,s)}function G(r){return b&&r.alternate===null&&(r.flags|=2),r}function V(r,s,n,i){return s===null||s.tag!==6?(s=f1(n,r.mode,i),s.return=r,s):(s=Te(s,n),s.return=r,s)}function e(r,s,n,i){var f=n.type;return f===ld?_(r,s,n.props.children,i,n.key):s!==null&&(s.elementType===f||typeof f=="object"&&f!==null&&f.$$typeof===Dh&&Yw(f)===s.type)?(i=Te(s,n.props),i.ref=wp(r,s,n),i.return=r,i):(i=kg(n.type,n.key,n.props,null,r.mode,i),i.ref=wp(r,s,n),i.return=r,i)}function g(r,s,n,i){return s===null||s.tag!==4||s.stateNode.containerInfo!==n.containerInfo||s.stateNode.implementation!==n.implementation?(s=c1(n,r.mode,i),s.return=r,s):(s=Te(s,n.children||[]),s.return=r,s)}function _(r,s,n,i,f){return s===null||s.tag!==7?(s=xv(n,r.mode,i,f),s.return=r,s):(s=Te(s,n),s.return=r,s)}function a(r,s,n){if(typeof s=="string"&&s!==""||typeof s=="number")return s=f1(""+s,r.mode,n),s.return=r,s;if(typeof s=="object"&&s!==null){switch(s.$$typeof){case q0:return n=kg(s.type,s.key,s.props,null,r.mode,n),n.ref=wp(r,null,s),n.return=r,n;case sd:return s=c1(s,r.mode,n),s.return=r,s;case Dh:var i=s._init;return a(r,i(s._payload),n)}if(Dp(s)||gp(s))return s=xv(s,r.mode,n,null),s.return=r,s;fg(r,s)}return null}function C(r,s,n,i){var f=s!==null?s.key:null;if(typeof n=="string"&&n!==""||typeof n=="number")return f!==null?null:V(r,s,""+n,i);if(typeof n=="object"&&n!==null){switch(n.$$typeof){case q0:return n.key===f?e(r,s,n,i):null;case sd:return n.key===f?g(r,s,n,i):null;case Dh:return f=n._init,C(r,s,f(n._payload),i)}if(Dp(n)||gp(n))return f!==null?null:_(r,s,n,i,null);fg(r,n)}return null}function A(r,s,n,i,f){if(typeof i=="string"&&i!==""||typeof i=="number")return r=r.get(n)||null,V(s,r,""+i,f);if(typeof i=="object"&&i!==null){switch(i.$$typeof){case q0:return r=r.get(i.key===null?n:i.key)||null,e(s,r,i,f);case sd:return r=r.get(i.key===null?n:i.key)||null,g(s,r,i,f);case Dh:var u=i._init;return A(r,s,n,u(i._payload),f)}if(Dp(i)||gp(i))return r=r.get(n)||null,_(s,r,i,f,null);fg(s,i)}return null}function v(r,s,n,i){for(var f=null,u=null,y=s,c=s=0,T=null;y!==null&&c<n.length;c++){y.index>c?(T=y,y=null):T=y.sibling;var h=C(r,y,n[c],i);if(h===null){y===null&&(y=T);break}b&&y&&h.alternate===null&&k(r,y),s=Oe(h,s,c),u===null?f=h:u.sibling=h,u=h,y=T}if(c===n.length)return K(r,y),xo&&uv(r,c),f;if(y===null){for(;c<n.length;c++)y=a(r,n[c],i),y!==null&&(s=Oe(y,s,c),u===null?f=y:u.sibling=y,u=y);return xo&&uv(r,c),f}for(y=fe(r,y);c<n.length;c++)T=A(y,r,c,n[c],i),T!==null&&(b&&T.alternate!==null&&y.delete(T.key===null?c:T.key),s=Oe(T,s,c),u===null?f=T:u.sibling=T,u=T);return b&&y.forEach(function(l){return k(r,l)}),xo&&uv(r,c),f}function p(r,s,n,i){var f=gp(n);if(typeof f!="function")throw Error(xa(150));if(n=f.call(n),n==null)throw Error(xa(151));for(var u=f=null,y=s,c=s=0,T=null,h=n.next();y!==null&&!h.done;c++,h=n.next()){y.index>c?(T=y,y=null):T=y.sibling;var l=C(r,y,h.value,i);if(l===null){y===null&&(y=T);break}b&&y&&l.alternate===null&&k(r,y),s=Oe(l,s,c),u===null?f=l:u.sibling=l,u=l,y=T}if(h.done)return K(r,y),xo&&uv(r,c),f;if(y===null){for(;!h.done;c++,h=n.next())h=a(r,h.value,i),h!==null&&(s=Oe(h,s,c),u===null?f=h:u.sibling=h,u=h);return xo&&uv(r,c),f}for(y=fe(r,y);!h.done;c++,h=n.next())h=A(y,r,c,h.value,i),h!==null&&(b&&h.alternate!==null&&y.delete(h.key===null?c:h.key),s=Oe(h,s,c),u===null?f=h:u.sibling=h,u=h);return b&&y.forEach(function(d){return k(r,d)}),xo&&uv(r,c),f}function t(r,s,n,i){if(typeof n=="object"&&n!==null&&n.type===ld&&n.key===null&&(n=n.props.children),typeof n=="object"&&n!==null){switch(n.$$typeof){case q0:e:{for(var f=n.key,u=s;u!==null;){if(u.key===f){if(f=n.type,f===ld){if(u.tag===7){K(r,u.sibling),s=Te(u,n.props.children),s.return=r,r=s;break e}}else if(u.elementType===f||typeof f=="object"&&f!==null&&f.$$typeof===Dh&&Yw(f)===u.type){K(r,u.sibling),s=Te(u,n.props),s.ref=wp(r,u,n),s.return=r,r=s;break e}K(r,u);break}else k(r,u);u=u.sibling}n.type===ld?(s=xv(n.props.children,r.mode,i,n.key),s.return=r,r=s):(i=kg(n.type,n.key,n.props,null,r.mode,i),i.ref=wp(r,s,n),i.return=r,r=i)}return G(r);case sd:e:{for(u=n.key;s!==null;){if(s.key===u)if(s.tag===4&&s.stateNode.containerInfo===n.containerInfo&&s.stateNode.implementation===n.implementation){K(r,s.sibling),s=Te(s,n.children||[]),s.return=r,r=s;break e}else{K(r,s);break}else k(r,s);s=s.sibling}s=c1(n,r.mode,i),s.return=r,r=s}return G(r);case Dh:return u=n._init,t(r,s,u(n._payload),i)}if(Dp(n))return v(r,s,n,i);if(gp(n))return p(r,s,n,i);fg(r,n)}return typeof n=="string"&&n!==""||typeof n=="number"?(n=""+n,s!==null&&s.tag===6?(K(r,s.sibling),s=Te(s,n),s.return=r,r=s):(K(r,s),s=f1(n,r.mode,i),s.return=r,r=s),G(r)):K(r,s)}return t}var kd=F5(!0),N5=F5(!1),C0={},Bc=Jh(C0),c0=Jh(C0),h0=Jh(C0);function pv(b){if(b===C0)throw Error(xa(174));return b}function sb(b,k){switch(oo(h0,k),oo(c0,b),oo(Bc,C0),b=k.nodeType,b){case 9:case 11:k=(k=k.documentElement)?k.namespaceURI:k1(null,"");break;default:b=b===8?k.parentNode:k,k=b.namespaceURI||null,b=b.tagName,k=k1(k,b)}vo(Bc),oo(Bc,k)}function Od(){vo(Bc),vo(c0),vo(h0)}function B5(b){pv(h0.current);var k=pv(Bc.current),K=k1(k,b.type);k!==K&&(oo(c0,b),oo(Bc,K))}function lb(b){c0.current===b&&(vo(Bc),vo(c0))}var Lo=Jh(0);function oy(b){for(var k=b;k!==null;){if(k.tag===13){var K=k.memoizedState;if(K!==null&&(K=K.dehydrated,K===null||K.data==="$?"||K.data==="$!"))return k}else if(k.tag===19&&k.memoizedProps.revealOrder!==void 0){if(k.flags&128)return k}else if(k.child!==null){k.child.return=k,k=k.child;continue}if(k===b)break;for(;k.sibling===null;){if(k.return===null||k.return===b)return null;k=k.return}k.sibling.return=k.return,k=k.sibling}return null}var a1=[];function ub(){for(var b=0;b<a1.length;b++)a1[b]._workInProgressVersionPrimary=null;a1.length=0}var Pg=ph.ReactCurrentDispatcher,i1=ph.ReactCurrentBatchConfig,Sv=0,Po=null,Ts=null,Us=null,sy=!1,Wp=!1,v0=0,X8=0;function wl(){throw Error(xa(321))}function fb(b,k){if(k===null)return!1;for(var K=0;K<k.length&&K<b.length;K++)if(!sc(b[K],k[K]))return!1;return!0}function cb(b,k,K,fe,Te,Oe){if(Sv=Oe,Po=k,k.memoizedState=null,k.updateQueue=null,k.lanes=0,Pg.current=b===null||b.memoizedState===null?Q8:q8,b=K(fe,Te),Wp){Oe=0;do{if(Wp=!1,v0=0,25<=Oe)throw Error(xa(301));Oe+=1,Us=Ts=null,k.updateQueue=null,Pg.current=eC,b=K(fe,Te)}while(Wp)}if(Pg.current=ly,k=Ts!==null&&Ts.next!==null,Sv=0,Us=Ts=Po=null,sy=!1,k)throw Error(xa(300));return b}function hb(){var b=v0!==0;return v0=0,b}function Oc(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Us===null?Po.memoizedState=Us=b:Us=Us.next=b,Us}function gf(){if(Ts===null){var b=Po.alternate;b=b!==null?b.memoizedState:null}else b=Ts.next;var k=Us===null?Po.memoizedState:Us.next;if(k!==null)Us=k,Ts=b;else{if(b===null)throw Error(xa(310));Ts=b,b={memoizedState:Ts.memoizedState,baseState:Ts.baseState,baseQueue:Ts.baseQueue,queue:Ts.queue,next:null},Us===null?Po.memoizedState=Us=b:Us=Us.next=b}return Us}function d0(b,k){return typeof k=="function"?k(b):k}function o1(b){var k=gf(),K=k.queue;if(K===null)throw Error(xa(311));K.lastRenderedReducer=b;var fe=Ts,Te=fe.baseQueue,Oe=K.pending;if(Oe!==null){if(Te!==null){var G=Te.next;Te.next=Oe.next,Oe.next=G}fe.baseQueue=Te=Oe,K.pending=null}if(Te!==null){Oe=Te.next,fe=fe.baseState;var V=G=null,e=null,g=Oe;do{var _=g.lane;if((Sv&_)===_)e!==null&&(e=e.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),fe=g.hasEagerState?g.eagerState:b(fe,g.action);else{var a={lane:_,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};e===null?(V=e=a,G=fe):e=e.next=a,Po.lanes|=_,Ev|=_}g=g.next}while(g!==null&&g!==Oe);e===null?G=fe:e.next=V,sc(fe,k.memoizedState)||(hu=!0),k.memoizedState=fe,k.baseState=G,k.baseQueue=e,K.lastRenderedState=fe}if(b=K.interleaved,b!==null){Te=b;do Oe=Te.lane,Po.lanes|=Oe,Ev|=Oe,Te=Te.next;while(Te!==b)}else Te===null&&(K.lanes=0);return[k.memoizedState,K.dispatch]}function s1(b){var k=gf(),K=k.queue;if(K===null)throw Error(xa(311));K.lastRenderedReducer=b;var fe=K.dispatch,Te=K.pending,Oe=k.memoizedState;if(Te!==null){K.pending=null;var G=Te=Te.next;do Oe=b(Oe,G.action),G=G.next;while(G!==Te);sc(Oe,k.memoizedState)||(hu=!0),k.memoizedState=Oe,k.baseQueue===null&&(k.baseState=Oe),K.lastRenderedState=Oe}return[Oe,fe]}function U5(){}function H5(b,k){var K=Po,fe=gf(),Te=k(),Oe=!sc(fe.memoizedState,Te);if(Oe&&(fe.memoizedState=Te,hu=!0),fe=fe.queue,vb(W5.bind(null,K,fe,b),[b]),fe.getSnapshot!==k||Oe||Us!==null&&Us.memoizedState.tag&1){if(K.flags|=2048,p0(9,G5.bind(null,K,fe,Te,k),void 0,null),Vs===null)throw Error(xa(349));Sv&30||V5(K,k,Te)}return Te}function V5(b,k,K){b.flags|=16384,b={getSnapshot:k,value:K},k=Po.updateQueue,k===null?(k={lastEffect:null,stores:null},Po.updateQueue=k,k.stores=[b]):(K=k.stores,K===null?k.stores=[b]:K.push(b))}function G5(b,k,K,fe){k.value=K,k.getSnapshot=fe,Y5(k)&&j5(b)}function W5(b,k,K){return K(function(){Y5(k)&&j5(b)})}function Y5(b){var k=b.getSnapshot;b=b.value;try{var K=k();return!sc(b,K)}catch{return!0}}function j5(b){var k=vh(b,1);k!==null&&ic(k,b,1,-1)}function jw(b){var k=Oc();return typeof b=="function"&&(b=b()),k.memoizedState=k.baseState=b,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d0,lastRenderedState:b},k.queue=b,b=b.dispatch=J8.bind(null,Po,b),[k.memoizedState,b]}function p0(b,k,K,fe){return b={tag:b,create:k,destroy:K,deps:fe,next:null},k=Po.updateQueue,k===null?(k={lastEffect:null,stores:null},Po.updateQueue=k,k.lastEffect=b.next=b):(K=k.lastEffect,K===null?k.lastEffect=b.next=b:(fe=K.next,K.next=b,b.next=fe,k.lastEffect=b)),b}function Z5(){return gf().memoizedState}function _g(b,k,K,fe){var Te=Oc();Po.flags|=b,Te.memoizedState=p0(1|k,K,void 0,fe===void 0?null:fe)}function Oy(b,k,K,fe){var Te=gf();fe=fe===void 0?null:fe;var Oe=void 0;if(Ts!==null){var G=Ts.memoizedState;if(Oe=G.destroy,fe!==null&&fb(fe,G.deps)){Te.memoizedState=p0(k,K,Oe,fe);return}}Po.flags|=b,Te.memoizedState=p0(1|k,K,Oe,fe)}function Zw(b,k){return _g(8390656,8,b,k)}function vb(b,k){return Oy(2048,8,b,k)}function X5(b,k){return Oy(4,2,b,k)}function K5(b,k){return Oy(4,4,b,k)}function $5(b,k){if(typeof k=="function")return b=b(),k(b),function(){k(null)};if(k!=null)return b=b(),k.current=b,function(){k.current=null}}function J5(b,k,K){return K=K!=null?K.concat([b]):null,Oy(4,4,$5.bind(null,k,b),K)}function db(){}function Q5(b,k){var K=gf();k=k===void 0?null:k;var fe=K.memoizedState;return fe!==null&&k!==null&&fb(k,fe[1])?fe[0]:(K.memoizedState=[b,k],b)}function q5(b,k){var K=gf();k=k===void 0?null:k;var fe=K.memoizedState;return fe!==null&&k!==null&&fb(k,fe[1])?fe[0]:(b=b(),K.memoizedState=[b,k],b)}function eA(b,k,K){return Sv&21?(sc(K,k)||(K=n5(),Po.lanes|=K,Ev|=K,b.baseState=!0),k):(b.baseState&&(b.baseState=!1,hu=!0),b.memoizedState=K)}function K8(b,k){var K=Yi;Yi=K!==0&&4>K?K:4,b(!0);var fe=i1.transition;i1.transition={};try{b(!1),k()}finally{Yi=K,i1.transition=fe}}function tA(){return gf().memoizedState}function $8(b,k,K){var fe=Wh(b);if(K={lane:fe,action:K,hasEagerState:!1,eagerState:null,next:null},rA(b))nA(k,K);else if(K=I5(b,k,K,fe),K!==null){var Te=Zl();ic(K,b,fe,Te),aA(K,k,fe)}}function J8(b,k,K){var fe=Wh(b),Te={lane:fe,action:K,hasEagerState:!1,eagerState:null,next:null};if(rA(b))nA(k,Te);else{var Oe=b.alternate;if(b.lanes===0&&(Oe===null||Oe.lanes===0)&&(Oe=k.lastRenderedReducer,Oe!==null))try{var G=k.lastRenderedState,V=Oe(G,K);if(Te.hasEagerState=!0,Te.eagerState=V,sc(V,G)){var e=k.interleaved;e===null?(Te.next=Te,ib(k)):(Te.next=e.next,e.next=Te),k.interleaved=Te;return}}catch{}finally{}K=I5(b,k,Te,fe),K!==null&&(Te=Zl(),ic(K,b,fe,Te),aA(K,k,fe))}}function rA(b){var k=b.alternate;return b===Po||k!==null&&k===Po}function nA(b,k){Wp=sy=!0;var K=b.pending;K===null?k.next=k:(k.next=K.next,K.next=k),b.pending=k}function aA(b,k,K){if(K&4194240){var fe=k.lanes;fe&=b.pendingLanes,K|=fe,k.lanes=K,Yx(b,K)}}var ly={readContext:pf,useCallback:wl,useContext:wl,useEffect:wl,useImperativeHandle:wl,useInsertionEffect:wl,useLayoutEffect:wl,useMemo:wl,useReducer:wl,useRef:wl,useState:wl,useDebugValue:wl,useDeferredValue:wl,useTransition:wl,useMutableSource:wl,useSyncExternalStore:wl,useId:wl,unstable_isNewReconciler:!1},Q8={readContext:pf,useCallback:function(b,k){return Oc().memoizedState=[b,k===void 0?null:k],b},useContext:pf,useEffect:Zw,useImperativeHandle:function(b,k,K){return K=K!=null?K.concat([b]):null,_g(4194308,4,$5.bind(null,k,b),K)},useLayoutEffect:function(b,k){return _g(4194308,4,b,k)},useInsertionEffect:function(b,k){return _g(4,2,b,k)},useMemo:function(b,k){var K=Oc();return k=k===void 0?null:k,b=b(),K.memoizedState=[b,k],b},useReducer:function(b,k,K){var fe=Oc();return k=K!==void 0?K(k):k,fe.memoizedState=fe.baseState=k,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:b,lastRenderedState:k},fe.queue=b,b=b.dispatch=$8.bind(null,Po,b),[fe.memoizedState,b]},useRef:function(b){var k=Oc();return b={current:b},k.memoizedState=b},useState:jw,useDebugValue:db,useDeferredValue:function(b){return Oc().memoizedState=b},useTransition:function(){var b=jw(!1),k=b[0];return b=K8.bind(null,b[1]),Oc().memoizedState=b,[k,b]},useMutableSource:function(){},useSyncExternalStore:function(b,k,K){var fe=Po,Te=Oc();if(xo){if(K===void 0)throw Error(xa(407));K=K()}else{if(K=k(),Vs===null)throw Error(xa(349));Sv&30||V5(fe,k,K)}Te.memoizedState=K;var Oe={value:K,getSnapshot:k};return Te.queue=Oe,Zw(W5.bind(null,fe,Oe,b),[b]),fe.flags|=2048,p0(9,G5.bind(null,fe,Oe,K,k),void 0,null),K},useId:function(){var b=Oc(),k=Vs.identifierPrefix;if(xo){var K=lh,fe=sh;K=(fe&~(1<<32-ac(fe)-1)).toString(32)+K,k=":"+k+"R"+K,K=v0++,0<K&&(k+="H"+K.toString(32)),k+=":"}else K=X8++,k=":"+k+"r"+K.toString(32)+":";return b.memoizedState=k},unstable_isNewReconciler:!1},q8={readContext:pf,useCallback:Q5,useContext:pf,useEffect:vb,useImperativeHandle:J5,useInsertionEffect:X5,useLayoutEffect:K5,useMemo:q5,useReducer:o1,useRef:Z5,useState:function(){return o1(d0)},useDebugValue:db,useDeferredValue:function(b){var k=gf();return eA(k,Ts.memoizedState,b)},useTransition:function(){var b=o1(d0)[0],k=gf().memoizedState;return[b,k]},useMutableSource:U5,useSyncExternalStore:H5,useId:tA,unstable_isNewReconciler:!1},eC={readContext:pf,useCallback:Q5,useContext:pf,useEffect:vb,useImperativeHandle:J5,useInsertionEffect:X5,useLayoutEffect:K5,useMemo:q5,useReducer:s1,useRef:Z5,useState:function(){return s1(d0)},useDebugValue:db,useDeferredValue:function(b){var k=gf();return Ts===null?k.memoizedState=b:eA(k,Ts.memoizedState,b)},useTransition:function(){var b=s1(d0)[0],k=gf().memoizedState;return[b,k]},useMutableSource:U5,useSyncExternalStore:H5,useId:tA,unstable_isNewReconciler:!1};function zd(b,k){try{var K="",fe=k;do K+=LM(fe),fe=fe.return;while(fe);var Te=K}catch(Oe){Te=`
Error generating stack: `+Oe.message+`
`+Oe.stack}return{value:b,source:k,stack:Te,digest:null}}function l1(b,k,K){return{value:b,source:null,stack:K??null,digest:k??null}}function nx(b,k){try{console.error(k.value)}catch(K){setTimeout(function(){throw K})}}var tC=typeof WeakMap=="function"?WeakMap:Map;function iA(b,k,K){K=uh(-1,K),K.tag=3,K.payload={element:null};var fe=k.value;return K.callback=function(){fy||(fy=!0,vx=fe),nx(b,k)},K}function oA(b,k,K){K=uh(-1,K),K.tag=3;var fe=b.type.getDerivedStateFromError;if(typeof fe=="function"){var Te=k.value;K.payload=function(){return fe(Te)},K.callback=function(){nx(b,k)}}var Oe=b.stateNode;return Oe!==null&&typeof Oe.componentDidCatch=="function"&&(K.callback=function(){nx(b,k),typeof fe!="function"&&(Gh===null?Gh=new Set([this]):Gh.add(this));var G=k.stack;this.componentDidCatch(k.value,{componentStack:G!==null?G:""})}),K}function Xw(b,k,K){var fe=b.pingCache;if(fe===null){fe=b.pingCache=new tC;var Te=new Set;fe.set(k,Te)}else Te=fe.get(k),Te===void 0&&(Te=new Set,fe.set(k,Te));Te.has(K)||(Te.add(K),b=pC.bind(null,b,k,K),k.then(b,b))}function Kw(b){do{var k;if((k=b.tag===13)&&(k=b.memoizedState,k=k!==null?k.dehydrated!==null:!0),k)return b;b=b.return}while(b!==null);return null}function $w(b,k,K,fe,Te){return b.mode&1?(b.flags|=65536,b.lanes=Te,b):(b===k?b.flags|=65536:(b.flags|=128,K.flags|=131072,K.flags&=-52805,K.tag===1&&(K.alternate===null?K.tag=17:(k=uh(-1,1),k.tag=2,Vh(K,k,1))),K.lanes|=1),b)}var rC=ph.ReactCurrentOwner,hu=!1;function jl(b,k,K,fe){k.child=b===null?N5(k,null,K,fe):kd(k,b.child,K,fe)}function Jw(b,k,K,fe,Te){K=K.render;var Oe=k.ref;return Ld(k,Te),fe=cb(b,k,K,fe,Oe,Te),K=hb(),b!==null&&!hu?(k.updateQueue=b.updateQueue,k.flags&=-2053,b.lanes&=~Te,dh(b,k,Te)):(xo&&K&&qx(k),k.flags|=1,jl(b,k,fe,Te),k.child)}function Qw(b,k,K,fe,Te){if(b===null){var Oe=K.type;return typeof Oe=="function"&&!Tb(Oe)&&Oe.defaultProps===void 0&&K.compare===null&&K.defaultProps===void 0?(k.tag=15,k.type=Oe,sA(b,k,Oe,fe,Te)):(b=kg(K.type,null,fe,k,k.mode,Te),b.ref=k.ref,b.return=k,k.child=b)}if(Oe=b.child,!(b.lanes&Te)){var G=Oe.memoizedProps;if(K=K.compare,K=K!==null?K:s0,K(G,fe)&&b.ref===k.ref)return dh(b,k,Te)}return k.flags|=1,b=Yh(Oe,fe),b.ref=k.ref,b.return=k,k.child=b}function sA(b,k,K,fe,Te){if(b!==null){var Oe=b.memoizedProps;if(s0(Oe,fe)&&b.ref===k.ref)if(hu=!1,k.pendingProps=fe=Oe,(b.lanes&Te)!==0)b.flags&131072&&(hu=!0);else return k.lanes=b.lanes,dh(b,k,Te)}return ax(b,k,K,fe,Te)}function lA(b,k,K){var fe=k.pendingProps,Te=fe.children,Oe=b!==null?b.memoizedState:null;if(fe.mode==="hidden")if(!(k.mode&1))k.memoizedState={baseLanes:0,cachePool:null,transitions:null},oo(md,Bu),Bu|=K;else{if(!(K&1073741824))return b=Oe!==null?Oe.baseLanes|K:K,k.lanes=k.childLanes=1073741824,k.memoizedState={baseLanes:b,cachePool:null,transitions:null},k.updateQueue=null,oo(md,Bu),Bu|=b,null;k.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe=Oe!==null?Oe.baseLanes:K,oo(md,Bu),Bu|=fe}else Oe!==null?(fe=Oe.baseLanes|K,k.memoizedState=null):fe=K,oo(md,Bu),Bu|=fe;return jl(b,k,Te,K),k.child}function uA(b,k){var K=k.ref;(b===null&&K!==null||b!==null&&b.ref!==K)&&(k.flags|=512,k.flags|=2097152)}function ax(b,k,K,fe,Te){var Oe=du(K)?Tv:El.current;return Oe=Dd(k,Oe),Ld(k,Te),K=cb(b,k,K,fe,Oe,Te),fe=hb(),b!==null&&!hu?(k.updateQueue=b.updateQueue,k.flags&=-2053,b.lanes&=~Te,dh(b,k,Te)):(xo&&fe&&qx(k),k.flags|=1,jl(b,k,K,Te),k.child)}function qw(b,k,K,fe,Te){if(du(K)){var Oe=!0;ey(k)}else Oe=!1;if(Ld(k,Te),k.stateNode===null)Rg(b,k),z5(k,K,fe),rx(k,K,fe,Te),fe=!0;else if(b===null){var G=k.stateNode,V=k.memoizedProps;G.props=V;var e=G.context,g=K.contextType;typeof g=="object"&&g!==null?g=pf(g):(g=du(K)?Tv:El.current,g=Dd(k,g));var _=K.getDerivedStateFromProps,a=typeof _=="function"||typeof G.getSnapshotBeforeUpdate=="function";a||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(V!==fe||e!==g)&&Ww(k,G,fe,g),Ih=!1;var C=k.memoizedState;G.state=C,iy(k,fe,G,Te),e=k.memoizedState,V!==fe||C!==e||vu.current||Ih?(typeof _=="function"&&(tx(k,K,_,fe),e=k.memoizedState),(V=Ih||Gw(k,K,V,fe,C,e,g))?(a||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(k.flags|=4194308)):(typeof G.componentDidMount=="function"&&(k.flags|=4194308),k.memoizedProps=fe,k.memoizedState=e),G.props=fe,G.state=e,G.context=g,fe=V):(typeof G.componentDidMount=="function"&&(k.flags|=4194308),fe=!1)}else{G=k.stateNode,k5(b,k),V=k.memoizedProps,g=k.type===k.elementType?V:ec(k.type,V),G.props=g,a=k.pendingProps,C=G.context,e=K.contextType,typeof e=="object"&&e!==null?e=pf(e):(e=du(K)?Tv:El.current,e=Dd(k,e));var A=K.getDerivedStateFromProps;(_=typeof A=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(V!==a||C!==e)&&Ww(k,G,fe,e),Ih=!1,C=k.memoizedState,G.state=C,iy(k,fe,G,Te);var v=k.memoizedState;V!==a||C!==v||vu.current||Ih?(typeof A=="function"&&(tx(k,K,A,fe),v=k.memoizedState),(g=Ih||Gw(k,K,g,fe,C,v,e)||!1)?(_||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(fe,v,e),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(fe,v,e)),typeof G.componentDidUpdate=="function"&&(k.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(k.flags|=1024)):(typeof G.componentDidUpdate!="function"||V===b.memoizedProps&&C===b.memoizedState||(k.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||V===b.memoizedProps&&C===b.memoizedState||(k.flags|=1024),k.memoizedProps=fe,k.memoizedState=v),G.props=fe,G.state=v,G.context=e,fe=g):(typeof G.componentDidUpdate!="function"||V===b.memoizedProps&&C===b.memoizedState||(k.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||V===b.memoizedProps&&C===b.memoizedState||(k.flags|=1024),fe=!1)}return ix(b,k,K,fe,Oe,Te)}function ix(b,k,K,fe,Te,Oe){uA(b,k);var G=(k.flags&128)!==0;if(!fe&&!G)return Te&&Nw(k,K,!1),dh(b,k,Oe);fe=k.stateNode,rC.current=k;var V=G&&typeof K.getDerivedStateFromError!="function"?null:fe.render();return k.flags|=1,b!==null&&G?(k.child=kd(k,b.child,null,Oe),k.child=kd(k,null,V,Oe)):jl(b,k,V,Oe),k.memoizedState=fe.state,Te&&Nw(k,K,!0),k.child}function fA(b){var k=b.stateNode;k.pendingContext?Fw(b,k.pendingContext,k.pendingContext!==k.context):k.context&&Fw(b,k.context,!1),sb(b,k.containerInfo)}function e2(b,k,K,fe,Te){return Id(),tb(Te),k.flags|=256,jl(b,k,K,fe),k.child}var ox={dehydrated:null,treeContext:null,retryLane:0};function sx(b){return{baseLanes:b,cachePool:null,transitions:null}}function cA(b,k,K){var fe=k.pendingProps,Te=Lo.current,Oe=!1,G=(k.flags&128)!==0,V;if((V=G)||(V=b!==null&&b.memoizedState===null?!1:(Te&2)!==0),V?(Oe=!0,k.flags&=-129):(b===null||b.memoizedState!==null)&&(Te|=1),oo(Lo,Te&1),b===null)return q1(k),b=k.memoizedState,b!==null&&(b=b.dehydrated,b!==null)?(k.mode&1?b.data==="$!"?k.lanes=8:k.lanes=1073741824:k.lanes=1,null):(G=fe.children,b=fe.fallback,Oe?(fe=k.mode,Oe=k.child,G={mode:"hidden",children:G},!(fe&1)&&Oe!==null?(Oe.childLanes=0,Oe.pendingProps=G):Oe=Ny(G,fe,0,null),b=xv(b,fe,K,null),Oe.return=k,b.return=k,Oe.sibling=b,k.child=Oe,k.child.memoizedState=sx(K),k.memoizedState=ox,b):pb(k,G));if(Te=b.memoizedState,Te!==null&&(V=Te.dehydrated,V!==null))return nC(b,k,G,fe,V,Te,K);if(Oe){Oe=fe.fallback,G=k.mode,Te=b.child,V=Te.sibling;var e={mode:"hidden",children:fe.children};return!(G&1)&&k.child!==Te?(fe=k.child,fe.childLanes=0,fe.pendingProps=e,k.deletions=null):(fe=Yh(Te,e),fe.subtreeFlags=Te.subtreeFlags&14680064),V!==null?Oe=Yh(V,Oe):(Oe=xv(Oe,G,K,null),Oe.flags|=2),Oe.return=k,fe.return=k,fe.sibling=Oe,k.child=fe,fe=Oe,Oe=k.child,G=b.child.memoizedState,G=G===null?sx(K):{baseLanes:G.baseLanes|K,cachePool:null,transitions:G.transitions},Oe.memoizedState=G,Oe.childLanes=b.childLanes&~K,k.memoizedState=ox,fe}return Oe=b.child,b=Oe.sibling,fe=Yh(Oe,{mode:"visible",children:fe.children}),!(k.mode&1)&&(fe.lanes=K),fe.return=k,fe.sibling=null,b!==null&&(K=k.deletions,K===null?(k.deletions=[b],k.flags|=16):K.push(b)),k.child=fe,k.memoizedState=null,fe}function pb(b,k){return k=Ny({mode:"visible",children:k},b.mode,0,null),k.return=b,b.child=k}function cg(b,k,K,fe){return fe!==null&&tb(fe),kd(k,b.child,null,K),b=pb(k,k.pendingProps.children),b.flags|=2,k.memoizedState=null,b}function nC(b,k,K,fe,Te,Oe,G){if(K)return k.flags&256?(k.flags&=-257,fe=l1(Error(xa(422))),cg(b,k,G,fe)):k.memoizedState!==null?(k.child=b.child,k.flags|=128,null):(Oe=fe.fallback,Te=k.mode,fe=Ny({mode:"visible",children:fe.children},Te,0,null),Oe=xv(Oe,Te,G,null),Oe.flags|=2,fe.return=k,Oe.return=k,fe.sibling=Oe,k.child=fe,k.mode&1&&kd(k,b.child,null,G),k.child.memoizedState=sx(G),k.memoizedState=ox,Oe);if(!(k.mode&1))return cg(b,k,G,null);if(Te.data==="$!"){if(fe=Te.nextSibling&&Te.nextSibling.dataset,fe)var V=fe.dgst;return fe=V,Oe=Error(xa(419)),fe=l1(Oe,fe,void 0),cg(b,k,G,fe)}if(V=(G&b.childLanes)!==0,hu||V){if(fe=Vs,fe!==null){switch(G&-G){case 4:Te=2;break;case 16:Te=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Te=32;break;case 536870912:Te=268435456;break;default:Te=0}Te=Te&(fe.suspendedLanes|G)?0:Te,Te!==0&&Te!==Oe.retryLane&&(Oe.retryLane=Te,vh(b,Te),ic(fe,b,Te,-1))}return wb(),fe=l1(Error(xa(421))),cg(b,k,G,fe)}return Te.data==="$?"?(k.flags|=128,k.child=b.child,k=gC.bind(null,b),Te._reactRetry=k,null):(b=Oe.treeContext,Hu=Hh(Te.nextSibling),Vu=k,xo=!0,nc=null,b!==null&&(cf[hf++]=sh,cf[hf++]=lh,cf[hf++]=Av,sh=b.id,lh=b.overflow,Av=k),k=pb(k,fe.children),k.flags|=4096,k)}function t2(b,k,K){b.lanes|=k;var fe=b.alternate;fe!==null&&(fe.lanes|=k),ex(b.return,k,K)}function u1(b,k,K,fe,Te){var Oe=b.memoizedState;Oe===null?b.memoizedState={isBackwards:k,rendering:null,renderingStartTime:0,last:fe,tail:K,tailMode:Te}:(Oe.isBackwards=k,Oe.rendering=null,Oe.renderingStartTime=0,Oe.last=fe,Oe.tail=K,Oe.tailMode=Te)}function hA(b,k,K){var fe=k.pendingProps,Te=fe.revealOrder,Oe=fe.tail;if(jl(b,k,fe.children,K),fe=Lo.current,fe&2)fe=fe&1|2,k.flags|=128;else{if(b!==null&&b.flags&128)e:for(b=k.child;b!==null;){if(b.tag===13)b.memoizedState!==null&&t2(b,K,k);else if(b.tag===19)t2(b,K,k);else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===k)break e;for(;b.sibling===null;){if(b.return===null||b.return===k)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}fe&=1}if(oo(Lo,fe),!(k.mode&1))k.memoizedState=null;else switch(Te){case"forwards":for(K=k.child,Te=null;K!==null;)b=K.alternate,b!==null&&oy(b)===null&&(Te=K),K=K.sibling;K=Te,K===null?(Te=k.child,k.child=null):(Te=K.sibling,K.sibling=null),u1(k,!1,Te,K,Oe);break;case"backwards":for(K=null,Te=k.child,k.child=null;Te!==null;){if(b=Te.alternate,b!==null&&oy(b)===null){k.child=Te;break}b=Te.sibling,Te.sibling=K,K=Te,Te=b}u1(k,!0,K,null,Oe);break;case"together":u1(k,!1,null,null,void 0);break;default:k.memoizedState=null}return k.child}function Rg(b,k){!(k.mode&1)&&b!==null&&(b.alternate=null,k.alternate=null,k.flags|=2)}function dh(b,k,K){if(b!==null&&(k.dependencies=b.dependencies),Ev|=k.lanes,!(K&k.childLanes))return null;if(b!==null&&k.child!==b.child)throw Error(xa(153));if(k.child!==null){for(b=k.child,K=Yh(b,b.pendingProps),k.child=K,K.return=k;b.sibling!==null;)b=b.sibling,K=K.sibling=Yh(b,b.pendingProps),K.return=k;K.sibling=null}return k.child}function aC(b,k,K){switch(k.tag){case 3:fA(k),Id();break;case 5:B5(k);break;case 1:du(k.type)&&ey(k);break;case 4:sb(k,k.stateNode.containerInfo);break;case 10:var fe=k.type._context,Te=k.memoizedProps.value;oo(ny,fe._currentValue),fe._currentValue=Te;break;case 13:if(fe=k.memoizedState,fe!==null)return fe.dehydrated!==null?(oo(Lo,Lo.current&1),k.flags|=128,null):K&k.child.childLanes?cA(b,k,K):(oo(Lo,Lo.current&1),b=dh(b,k,K),b!==null?b.sibling:null);oo(Lo,Lo.current&1);break;case 19:if(fe=(K&k.childLanes)!==0,b.flags&128){if(fe)return hA(b,k,K);k.flags|=128}if(Te=k.memoizedState,Te!==null&&(Te.rendering=null,Te.tail=null,Te.lastEffect=null),oo(Lo,Lo.current),fe)break;return null;case 22:case 23:return k.lanes=0,lA(b,k,K)}return dh(b,k,K)}var vA,lx,dA,pA;vA=function(b,k){for(var K=k.child;K!==null;){if(K.tag===5||K.tag===6)b.appendChild(K.stateNode);else if(K.tag!==4&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===k)break;for(;K.sibling===null;){if(K.return===null||K.return===k)return;K=K.return}K.sibling.return=K.return,K=K.sibling}};lx=function(){};dA=function(b,k,K,fe){var Te=b.memoizedProps;if(Te!==fe){b=k.stateNode,pv(Bc.current);var Oe=null;switch(K){case"input":Te=_1(b,Te),fe=_1(b,fe),Oe=[];break;case"select":Te=_o({},Te,{value:void 0}),fe=_o({},fe,{value:void 0}),Oe=[];break;case"textarea":Te=I1(b,Te),fe=I1(b,fe),Oe=[];break;default:typeof Te.onClick!="function"&&typeof fe.onClick=="function"&&(b.onclick=Qg)}O1(K,fe);var G;K=null;for(g in Te)if(!fe.hasOwnProperty(g)&&Te.hasOwnProperty(g)&&Te[g]!=null)if(g==="style"){var V=Te[g];for(G in V)V.hasOwnProperty(G)&&(K||(K={}),K[G]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(e0.hasOwnProperty(g)?Oe||(Oe=[]):(Oe=Oe||[]).push(g,null));for(g in fe){var e=fe[g];if(V=Te!=null?Te[g]:void 0,fe.hasOwnProperty(g)&&e!==V&&(e!=null||V!=null))if(g==="style")if(V){for(G in V)!V.hasOwnProperty(G)||e&&e.hasOwnProperty(G)||(K||(K={}),K[G]="");for(G in e)e.hasOwnProperty(G)&&V[G]!==e[G]&&(K||(K={}),K[G]=e[G])}else K||(Oe||(Oe=[]),Oe.push(g,K)),K=e;else g==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,V=V?V.__html:void 0,e!=null&&V!==e&&(Oe=Oe||[]).push(g,e)):g==="children"?typeof e!="string"&&typeof e!="number"||(Oe=Oe||[]).push(g,""+e):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(e0.hasOwnProperty(g)?(e!=null&&g==="onScroll"&&co("scroll",b),Oe||V===e||(Oe=[])):(Oe=Oe||[]).push(g,e))}K&&(Oe=Oe||[]).push("style",K);var g=Oe;(k.updateQueue=g)&&(k.flags|=4)}};pA=function(b,k,K,fe){K!==fe&&(k.flags|=4)};function Tp(b,k){if(!xo)switch(b.tailMode){case"hidden":k=b.tail;for(var K=null;k!==null;)k.alternate!==null&&(K=k),k=k.sibling;K===null?b.tail=null:K.sibling=null;break;case"collapsed":K=b.tail;for(var fe=null;K!==null;)K.alternate!==null&&(fe=K),K=K.sibling;fe===null?k||b.tail===null?b.tail=null:b.tail.sibling=null:fe.sibling=null}}function Tl(b){var k=b.alternate!==null&&b.alternate.child===b.child,K=0,fe=0;if(k)for(var Te=b.child;Te!==null;)K|=Te.lanes|Te.childLanes,fe|=Te.subtreeFlags&14680064,fe|=Te.flags&14680064,Te.return=b,Te=Te.sibling;else for(Te=b.child;Te!==null;)K|=Te.lanes|Te.childLanes,fe|=Te.subtreeFlags,fe|=Te.flags,Te.return=b,Te=Te.sibling;return b.subtreeFlags|=fe,b.childLanes=K,k}function iC(b,k,K){var fe=k.pendingProps;switch(eb(k),k.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tl(k),null;case 1:return du(k.type)&&qg(),Tl(k),null;case 3:return fe=k.stateNode,Od(),vo(vu),vo(El),ub(),fe.pendingContext&&(fe.context=fe.pendingContext,fe.pendingContext=null),(b===null||b.child===null)&&(ug(k)?k.flags|=4:b===null||b.memoizedState.isDehydrated&&!(k.flags&256)||(k.flags|=1024,nc!==null&&(gx(nc),nc=null))),lx(b,k),Tl(k),null;case 5:lb(k);var Te=pv(h0.current);if(K=k.type,b!==null&&k.stateNode!=null)dA(b,k,K,fe,Te),b.ref!==k.ref&&(k.flags|=512,k.flags|=2097152);else{if(!fe){if(k.stateNode===null)throw Error(xa(166));return Tl(k),null}if(b=pv(Bc.current),ug(k)){fe=k.stateNode,K=k.type;var Oe=k.memoizedProps;switch(fe[Fc]=k,fe[f0]=Oe,b=(k.mode&1)!==0,K){case"dialog":co("cancel",fe),co("close",fe);break;case"iframe":case"object":case"embed":co("load",fe);break;case"video":case"audio":for(Te=0;Te<kp.length;Te++)co(kp[Te],fe);break;case"source":co("error",fe);break;case"img":case"image":case"link":co("error",fe),co("load",fe);break;case"details":co("toggle",fe);break;case"input":fw(fe,Oe),co("invalid",fe);break;case"select":fe._wrapperState={wasMultiple:!!Oe.multiple},co("invalid",fe);break;case"textarea":hw(fe,Oe),co("invalid",fe)}O1(K,Oe),Te=null;for(var G in Oe)if(Oe.hasOwnProperty(G)){var V=Oe[G];G==="children"?typeof V=="string"?fe.textContent!==V&&(Oe.suppressHydrationWarning!==!0&&lg(fe.textContent,V,b),Te=["children",V]):typeof V=="number"&&fe.textContent!==""+V&&(Oe.suppressHydrationWarning!==!0&&lg(fe.textContent,V,b),Te=["children",""+V]):e0.hasOwnProperty(G)&&V!=null&&G==="onScroll"&&co("scroll",fe)}switch(K){case"input":eg(fe),cw(fe,Oe,!0);break;case"textarea":eg(fe),vw(fe);break;case"select":case"option":break;default:typeof Oe.onClick=="function"&&(fe.onclick=Qg)}fe=Te,k.updateQueue=fe,fe!==null&&(k.flags|=4)}else{G=Te.nodeType===9?Te:Te.ownerDocument,b==="http://www.w3.org/1999/xhtml"&&(b=VT(K)),b==="http://www.w3.org/1999/xhtml"?K==="script"?(b=G.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild)):typeof fe.is=="string"?b=G.createElement(K,{is:fe.is}):(b=G.createElement(K),K==="select"&&(G=b,fe.multiple?G.multiple=!0:fe.size&&(G.size=fe.size))):b=G.createElementNS(b,K),b[Fc]=k,b[f0]=fe,vA(b,k,!1,!1),k.stateNode=b;e:{switch(G=z1(K,fe),K){case"dialog":co("cancel",b),co("close",b),Te=fe;break;case"iframe":case"object":case"embed":co("load",b),Te=fe;break;case"video":case"audio":for(Te=0;Te<kp.length;Te++)co(kp[Te],b);Te=fe;break;case"source":co("error",b),Te=fe;break;case"img":case"image":case"link":co("error",b),co("load",b),Te=fe;break;case"details":co("toggle",b),Te=fe;break;case"input":fw(b,fe),Te=_1(b,fe),co("invalid",b);break;case"option":Te=fe;break;case"select":b._wrapperState={wasMultiple:!!fe.multiple},Te=_o({},fe,{value:void 0}),co("invalid",b);break;case"textarea":hw(b,fe),Te=I1(b,fe),co("invalid",b);break;default:Te=fe}O1(K,Te),V=Te;for(Oe in V)if(V.hasOwnProperty(Oe)){var e=V[Oe];Oe==="style"?YT(b,e):Oe==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,e!=null&&GT(b,e)):Oe==="children"?typeof e=="string"?(K!=="textarea"||e!=="")&&t0(b,e):typeof e=="number"&&t0(b,""+e):Oe!=="suppressContentEditableWarning"&&Oe!=="suppressHydrationWarning"&&Oe!=="autoFocus"&&(e0.hasOwnProperty(Oe)?e!=null&&Oe==="onScroll"&&co("scroll",b):e!=null&&Bx(b,Oe,e,G))}switch(K){case"input":eg(b),cw(b,fe,!1);break;case"textarea":eg(b),vw(b);break;case"option":fe.value!=null&&b.setAttribute("value",""+Zh(fe.value));break;case"select":b.multiple=!!fe.multiple,Oe=fe.value,Oe!=null?Sd(b,!!fe.multiple,Oe,!1):fe.defaultValue!=null&&Sd(b,!!fe.multiple,fe.defaultValue,!0);break;default:typeof Te.onClick=="function"&&(b.onclick=Qg)}switch(K){case"button":case"input":case"select":case"textarea":fe=!!fe.autoFocus;break e;case"img":fe=!0;break e;default:fe=!1}}fe&&(k.flags|=4)}k.ref!==null&&(k.flags|=512,k.flags|=2097152)}return Tl(k),null;case 6:if(b&&k.stateNode!=null)pA(b,k,b.memoizedProps,fe);else{if(typeof fe!="string"&&k.stateNode===null)throw Error(xa(166));if(K=pv(h0.current),pv(Bc.current),ug(k)){if(fe=k.stateNode,K=k.memoizedProps,fe[Fc]=k,(Oe=fe.nodeValue!==K)&&(b=Vu,b!==null))switch(b.tag){case 3:lg(fe.nodeValue,K,(b.mode&1)!==0);break;case 5:b.memoizedProps.suppressHydrationWarning!==!0&&lg(fe.nodeValue,K,(b.mode&1)!==0)}Oe&&(k.flags|=4)}else fe=(K.nodeType===9?K:K.ownerDocument).createTextNode(fe),fe[Fc]=k,k.stateNode=fe}return Tl(k),null;case 13:if(vo(Lo),fe=k.memoizedState,b===null||b.memoizedState!==null&&b.memoizedState.dehydrated!==null){if(xo&&Hu!==null&&k.mode&1&&!(k.flags&128))D5(),Id(),k.flags|=98560,Oe=!1;else if(Oe=ug(k),fe!==null&&fe.dehydrated!==null){if(b===null){if(!Oe)throw Error(xa(318));if(Oe=k.memoizedState,Oe=Oe!==null?Oe.dehydrated:null,!Oe)throw Error(xa(317));Oe[Fc]=k}else Id(),!(k.flags&128)&&(k.memoizedState=null),k.flags|=4;Tl(k),Oe=!1}else nc!==null&&(gx(nc),nc=null),Oe=!0;if(!Oe)return k.flags&65536?k:null}return k.flags&128?(k.lanes=K,k):(fe=fe!==null,fe!==(b!==null&&b.memoizedState!==null)&&fe&&(k.child.flags|=8192,k.mode&1&&(b===null||Lo.current&1?As===0&&(As=3):wb())),k.updateQueue!==null&&(k.flags|=4),Tl(k),null);case 4:return Od(),lx(b,k),b===null&&l0(k.stateNode.containerInfo),Tl(k),null;case 10:return ab(k.type._context),Tl(k),null;case 17:return du(k.type)&&qg(),Tl(k),null;case 19:if(vo(Lo),Oe=k.memoizedState,Oe===null)return Tl(k),null;if(fe=(k.flags&128)!==0,G=Oe.rendering,G===null)if(fe)Tp(Oe,!1);else{if(As!==0||b!==null&&b.flags&128)for(b=k.child;b!==null;){if(G=oy(b),G!==null){for(k.flags|=128,Tp(Oe,!1),fe=G.updateQueue,fe!==null&&(k.updateQueue=fe,k.flags|=4),k.subtreeFlags=0,fe=K,K=k.child;K!==null;)Oe=K,b=fe,Oe.flags&=14680066,G=Oe.alternate,G===null?(Oe.childLanes=0,Oe.lanes=b,Oe.child=null,Oe.subtreeFlags=0,Oe.memoizedProps=null,Oe.memoizedState=null,Oe.updateQueue=null,Oe.dependencies=null,Oe.stateNode=null):(Oe.childLanes=G.childLanes,Oe.lanes=G.lanes,Oe.child=G.child,Oe.subtreeFlags=0,Oe.deletions=null,Oe.memoizedProps=G.memoizedProps,Oe.memoizedState=G.memoizedState,Oe.updateQueue=G.updateQueue,Oe.type=G.type,b=G.dependencies,Oe.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),K=K.sibling;return oo(Lo,Lo.current&1|2),k.child}b=b.sibling}Oe.tail!==null&&$o()>Fd&&(k.flags|=128,fe=!0,Tp(Oe,!1),k.lanes=4194304)}else{if(!fe)if(b=oy(G),b!==null){if(k.flags|=128,fe=!0,K=b.updateQueue,K!==null&&(k.updateQueue=K,k.flags|=4),Tp(Oe,!0),Oe.tail===null&&Oe.tailMode==="hidden"&&!G.alternate&&!xo)return Tl(k),null}else 2*$o()-Oe.renderingStartTime>Fd&&K!==1073741824&&(k.flags|=128,fe=!0,Tp(Oe,!1),k.lanes=4194304);Oe.isBackwards?(G.sibling=k.child,k.child=G):(K=Oe.last,K!==null?K.sibling=G:k.child=G,Oe.last=G)}return Oe.tail!==null?(k=Oe.tail,Oe.rendering=k,Oe.tail=k.sibling,Oe.renderingStartTime=$o(),k.sibling=null,K=Lo.current,oo(Lo,fe?K&1|2:K&1),k):(Tl(k),null);case 22:case 23:return bb(),fe=k.memoizedState!==null,b!==null&&b.memoizedState!==null!==fe&&(k.flags|=8192),fe&&k.mode&1?Bu&1073741824&&(Tl(k),k.subtreeFlags&6&&(k.flags|=8192)):Tl(k),null;case 24:return null;case 25:return null}throw Error(xa(156,k.tag))}function oC(b,k){switch(eb(k),k.tag){case 1:return du(k.type)&&qg(),b=k.flags,b&65536?(k.flags=b&-65537|128,k):null;case 3:return Od(),vo(vu),vo(El),ub(),b=k.flags,b&65536&&!(b&128)?(k.flags=b&-65537|128,k):null;case 5:return lb(k),null;case 13:if(vo(Lo),b=k.memoizedState,b!==null&&b.dehydrated!==null){if(k.alternate===null)throw Error(xa(340));Id()}return b=k.flags,b&65536?(k.flags=b&-65537|128,k):null;case 19:return vo(Lo),null;case 4:return Od(),null;case 10:return ab(k.type._context),null;case 22:case 23:return bb(),null;case 24:return null;default:return null}}var hg=!1,Al=!1,sC=typeof WeakSet=="function"?WeakSet:Set,Ba=null;function yd(b,k){var K=b.ref;if(K!==null)if(typeof K=="function")try{K(null)}catch(fe){Bo(b,k,fe)}else K.current=null}function ux(b,k,K){try{K()}catch(fe){Bo(b,k,fe)}}var r2=!1;function lC(b,k){if(j1=Kg,b=x5(),Qx(b)){if("selectionStart"in b)var K={start:b.selectionStart,end:b.selectionEnd};else e:{K=(K=b.ownerDocument)&&K.defaultView||window;var fe=K.getSelection&&K.getSelection();if(fe&&fe.rangeCount!==0){K=fe.anchorNode;var Te=fe.anchorOffset,Oe=fe.focusNode;fe=fe.focusOffset;try{K.nodeType,Oe.nodeType}catch{K=null;break e}var G=0,V=-1,e=-1,g=0,_=0,a=b,C=null;t:for(;;){for(var A;a!==K||Te!==0&&a.nodeType!==3||(V=G+Te),a!==Oe||fe!==0&&a.nodeType!==3||(e=G+fe),a.nodeType===3&&(G+=a.nodeValue.length),(A=a.firstChild)!==null;)C=a,a=A;for(;;){if(a===b)break t;if(C===K&&++g===Te&&(V=G),C===Oe&&++_===fe&&(e=G),(A=a.nextSibling)!==null)break;a=C,C=a.parentNode}a=A}K=V===-1||e===-1?null:{start:V,end:e}}else K=null}K=K||{start:0,end:0}}else K=null;for(Z1={focusedElem:b,selectionRange:K},Kg=!1,Ba=k;Ba!==null;)if(k=Ba,b=k.child,(k.subtreeFlags&1028)!==0&&b!==null)b.return=k,Ba=b;else for(;Ba!==null;){k=Ba;try{var v=k.alternate;if(k.flags&1024)switch(k.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,t=v.memoizedState,r=k.stateNode,s=r.getSnapshotBeforeUpdate(k.elementType===k.type?p:ec(k.type,p),t);r.__reactInternalSnapshotBeforeUpdate=s}break;case 3:var n=k.stateNode.containerInfo;n.nodeType===1?n.textContent="":n.nodeType===9&&n.documentElement&&n.removeChild(n.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xa(163))}}catch(i){Bo(k,k.return,i)}if(b=k.sibling,b!==null){b.return=k.return,Ba=b;break}Ba=k.return}return v=r2,r2=!1,v}function Yp(b,k,K){var fe=k.updateQueue;if(fe=fe!==null?fe.lastEffect:null,fe!==null){var Te=fe=fe.next;do{if((Te.tag&b)===b){var Oe=Te.destroy;Te.destroy=void 0,Oe!==void 0&&ux(k,K,Oe)}Te=Te.next}while(Te!==fe)}}function zy(b,k){if(k=k.updateQueue,k=k!==null?k.lastEffect:null,k!==null){var K=k=k.next;do{if((K.tag&b)===b){var fe=K.create;K.destroy=fe()}K=K.next}while(K!==k)}}function fx(b){var k=b.ref;if(k!==null){var K=b.stateNode;switch(b.tag){case 5:b=K;break;default:b=K}typeof k=="function"?k(b):k.current=b}}function gA(b){var k=b.alternate;k!==null&&(b.alternate=null,gA(k)),b.child=null,b.deletions=null,b.sibling=null,b.tag===5&&(k=b.stateNode,k!==null&&(delete k[Fc],delete k[f0],delete k[$1],delete k[W8],delete k[Y8])),b.stateNode=null,b.return=null,b.dependencies=null,b.memoizedProps=null,b.memoizedState=null,b.pendingProps=null,b.stateNode=null,b.updateQueue=null}function yA(b){return b.tag===5||b.tag===3||b.tag===4}function n2(b){e:for(;;){for(;b.sibling===null;){if(b.return===null||yA(b.return))return null;b=b.return}for(b.sibling.return=b.return,b=b.sibling;b.tag!==5&&b.tag!==6&&b.tag!==18;){if(b.flags&2||b.child===null||b.tag===4)continue e;b.child.return=b,b=b.child}if(!(b.flags&2))return b.stateNode}}function cx(b,k,K){var fe=b.tag;if(fe===5||fe===6)b=b.stateNode,k?K.nodeType===8?K.parentNode.insertBefore(b,k):K.insertBefore(b,k):(K.nodeType===8?(k=K.parentNode,k.insertBefore(b,K)):(k=K,k.appendChild(b)),K=K._reactRootContainer,K!=null||k.onclick!==null||(k.onclick=Qg));else if(fe!==4&&(b=b.child,b!==null))for(cx(b,k,K),b=b.sibling;b!==null;)cx(b,k,K),b=b.sibling}function hx(b,k,K){var fe=b.tag;if(fe===5||fe===6)b=b.stateNode,k?K.insertBefore(b,k):K.appendChild(b);else if(fe!==4&&(b=b.child,b!==null))for(hx(b,k,K),b=b.sibling;b!==null;)hx(b,k,K),b=b.sibling}var al=null,tc=!1;function Lh(b,k,K){for(K=K.child;K!==null;)mA(b,k,K),K=K.sibling}function mA(b,k,K){if(Nc&&typeof Nc.onCommitFiberUnmount=="function")try{Nc.onCommitFiberUnmount(Ly,K)}catch{}switch(K.tag){case 5:Al||yd(K,k);case 6:var fe=al,Te=tc;al=null,Lh(b,k,K),al=fe,tc=Te,al!==null&&(tc?(b=al,K=K.stateNode,b.nodeType===8?b.parentNode.removeChild(K):b.removeChild(K)):al.removeChild(K.stateNode));break;case 18:al!==null&&(tc?(b=al,K=K.stateNode,b.nodeType===8?r1(b.parentNode,K):b.nodeType===1&&r1(b,K),i0(b)):r1(al,K.stateNode));break;case 4:fe=al,Te=tc,al=K.stateNode.containerInfo,tc=!0,Lh(b,k,K),al=fe,tc=Te;break;case 0:case 11:case 14:case 15:if(!Al&&(fe=K.updateQueue,fe!==null&&(fe=fe.lastEffect,fe!==null))){Te=fe=fe.next;do{var Oe=Te,G=Oe.destroy;Oe=Oe.tag,G!==void 0&&(Oe&2||Oe&4)&&ux(K,k,G),Te=Te.next}while(Te!==fe)}Lh(b,k,K);break;case 1:if(!Al&&(yd(K,k),fe=K.stateNode,typeof fe.componentWillUnmount=="function"))try{fe.props=K.memoizedProps,fe.state=K.memoizedState,fe.componentWillUnmount()}catch(V){Bo(K,k,V)}Lh(b,k,K);break;case 21:Lh(b,k,K);break;case 22:K.mode&1?(Al=(fe=Al)||K.memoizedState!==null,Lh(b,k,K),Al=fe):Lh(b,k,K);break;default:Lh(b,k,K)}}function a2(b){var k=b.updateQueue;if(k!==null){b.updateQueue=null;var K=b.stateNode;K===null&&(K=b.stateNode=new sC),k.forEach(function(fe){var Te=yC.bind(null,b,fe);K.has(fe)||(K.add(fe),fe.then(Te,Te))})}}function Qf(b,k){var K=k.deletions;if(K!==null)for(var fe=0;fe<K.length;fe++){var Te=K[fe];try{var Oe=b,G=k,V=G;e:for(;V!==null;){switch(V.tag){case 5:al=V.stateNode,tc=!1;break e;case 3:al=V.stateNode.containerInfo,tc=!0;break e;case 4:al=V.stateNode.containerInfo,tc=!0;break e}V=V.return}if(al===null)throw Error(xa(160));mA(Oe,G,Te),al=null,tc=!1;var e=Te.alternate;e!==null&&(e.return=null),Te.return=null}catch(g){Bo(Te,k,g)}}if(k.subtreeFlags&12854)for(k=k.child;k!==null;)xA(k,b),k=k.sibling}function xA(b,k){var K=b.alternate,fe=b.flags;switch(b.tag){case 0:case 11:case 14:case 15:if(Qf(k,b),kc(b),fe&4){try{Yp(3,b,b.return),zy(3,b)}catch(p){Bo(b,b.return,p)}try{Yp(5,b,b.return)}catch(p){Bo(b,b.return,p)}}break;case 1:Qf(k,b),kc(b),fe&512&&K!==null&&yd(K,K.return);break;case 5:if(Qf(k,b),kc(b),fe&512&&K!==null&&yd(K,K.return),b.flags&32){var Te=b.stateNode;try{t0(Te,"")}catch(p){Bo(b,b.return,p)}}if(fe&4&&(Te=b.stateNode,Te!=null)){var Oe=b.memoizedProps,G=K!==null?K.memoizedProps:Oe,V=b.type,e=b.updateQueue;if(b.updateQueue=null,e!==null)try{V==="input"&&Oe.type==="radio"&&Oe.name!=null&&UT(Te,Oe),z1(V,G);var g=z1(V,Oe);for(G=0;G<e.length;G+=2){var _=e[G],a=e[G+1];_==="style"?YT(Te,a):_==="dangerouslySetInnerHTML"?GT(Te,a):_==="children"?t0(Te,a):Bx(Te,_,a,g)}switch(V){case"input":R1(Te,Oe);break;case"textarea":HT(Te,Oe);break;case"select":var C=Te._wrapperState.wasMultiple;Te._wrapperState.wasMultiple=!!Oe.multiple;var A=Oe.value;A!=null?Sd(Te,!!Oe.multiple,A,!1):C!==!!Oe.multiple&&(Oe.defaultValue!=null?Sd(Te,!!Oe.multiple,Oe.defaultValue,!0):Sd(Te,!!Oe.multiple,Oe.multiple?[]:"",!1))}Te[f0]=Oe}catch(p){Bo(b,b.return,p)}}break;case 6:if(Qf(k,b),kc(b),fe&4){if(b.stateNode===null)throw Error(xa(162));Te=b.stateNode,Oe=b.memoizedProps;try{Te.nodeValue=Oe}catch(p){Bo(b,b.return,p)}}break;case 3:if(Qf(k,b),kc(b),fe&4&&K!==null&&K.memoizedState.isDehydrated)try{i0(k.containerInfo)}catch(p){Bo(b,b.return,p)}break;case 4:Qf(k,b),kc(b);break;case 13:Qf(k,b),kc(b),Te=b.child,Te.flags&8192&&(Oe=Te.memoizedState!==null,Te.stateNode.isHidden=Oe,!Oe||Te.alternate!==null&&Te.alternate.memoizedState!==null||(mb=$o())),fe&4&&a2(b);break;case 22:if(_=K!==null&&K.memoizedState!==null,b.mode&1?(Al=(g=Al)||_,Qf(k,b),Al=g):Qf(k,b),kc(b),fe&8192){if(g=b.memoizedState!==null,(b.stateNode.isHidden=g)&&!_&&b.mode&1)for(Ba=b,_=b.child;_!==null;){for(a=Ba=_;Ba!==null;){switch(C=Ba,A=C.child,C.tag){case 0:case 11:case 14:case 15:Yp(4,C,C.return);break;case 1:yd(C,C.return);var v=C.stateNode;if(typeof v.componentWillUnmount=="function"){fe=C,K=C.return;try{k=fe,v.props=k.memoizedProps,v.state=k.memoizedState,v.componentWillUnmount()}catch(p){Bo(fe,K,p)}}break;case 5:yd(C,C.return);break;case 22:if(C.memoizedState!==null){o2(a);continue}}A!==null?(A.return=C,Ba=A):o2(a)}_=_.sibling}e:for(_=null,a=b;;){if(a.tag===5){if(_===null){_=a;try{Te=a.stateNode,g?(Oe=Te.style,typeof Oe.setProperty=="function"?Oe.setProperty("display","none","important"):Oe.display="none"):(V=a.stateNode,e=a.memoizedProps.style,G=e!=null&&e.hasOwnProperty("display")?e.display:null,V.style.display=WT("display",G))}catch(p){Bo(b,b.return,p)}}}else if(a.tag===6){if(_===null)try{a.stateNode.nodeValue=g?"":a.memoizedProps}catch(p){Bo(b,b.return,p)}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===b)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===b)break e;for(;a.sibling===null;){if(a.return===null||a.return===b)break e;_===a&&(_=null),a=a.return}_===a&&(_=null),a.sibling.return=a.return,a=a.sibling}}break;case 19:Qf(k,b),kc(b),fe&4&&a2(b);break;case 21:break;default:Qf(k,b),kc(b)}}function kc(b){var k=b.flags;if(k&2){try{e:{for(var K=b.return;K!==null;){if(yA(K)){var fe=K;break e}K=K.return}throw Error(xa(160))}switch(fe.tag){case 5:var Te=fe.stateNode;fe.flags&32&&(t0(Te,""),fe.flags&=-33);var Oe=n2(b);hx(b,Oe,Te);break;case 3:case 4:var G=fe.stateNode.containerInfo,V=n2(b);cx(b,V,G);break;default:throw Error(xa(161))}}catch(e){Bo(b,b.return,e)}b.flags&=-3}k&4096&&(b.flags&=-4097)}function uC(b,k,K){Ba=b,bA(b)}function bA(b,k,K){for(var fe=(b.mode&1)!==0;Ba!==null;){var Te=Ba,Oe=Te.child;if(Te.tag===22&&fe){var G=Te.memoizedState!==null||hg;if(!G){var V=Te.alternate,e=V!==null&&V.memoizedState!==null||Al;V=hg;var g=Al;if(hg=G,(Al=e)&&!g)for(Ba=Te;Ba!==null;)G=Ba,e=G.child,G.tag===22&&G.memoizedState!==null?s2(Te):e!==null?(e.return=G,Ba=e):s2(Te);for(;Oe!==null;)Ba=Oe,bA(Oe),Oe=Oe.sibling;Ba=Te,hg=V,Al=g}i2(b)}else Te.subtreeFlags&8772&&Oe!==null?(Oe.return=Te,Ba=Oe):i2(b)}}function i2(b){for(;Ba!==null;){var k=Ba;if(k.flags&8772){var K=k.alternate;try{if(k.flags&8772)switch(k.tag){case 0:case 11:case 15:Al||zy(5,k);break;case 1:var fe=k.stateNode;if(k.flags&4&&!Al)if(K===null)fe.componentDidMount();else{var Te=k.elementType===k.type?K.memoizedProps:ec(k.type,K.memoizedProps);fe.componentDidUpdate(Te,K.memoizedState,fe.__reactInternalSnapshotBeforeUpdate)}var Oe=k.updateQueue;Oe!==null&&Vw(k,Oe,fe);break;case 3:var G=k.updateQueue;if(G!==null){if(K=null,k.child!==null)switch(k.child.tag){case 5:K=k.child.stateNode;break;case 1:K=k.child.stateNode}Vw(k,G,K)}break;case 5:var V=k.stateNode;if(K===null&&k.flags&4){K=V;var e=k.memoizedProps;switch(k.type){case"button":case"input":case"select":case"textarea":e.autoFocus&&K.focus();break;case"img":e.src&&(K.src=e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(k.memoizedState===null){var g=k.alternate;if(g!==null){var _=g.memoizedState;if(_!==null){var a=_.dehydrated;a!==null&&i0(a)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xa(163))}Al||k.flags&512&&fx(k)}catch(C){Bo(k,k.return,C)}}if(k===b){Ba=null;break}if(K=k.sibling,K!==null){K.return=k.return,Ba=K;break}Ba=k.return}}function o2(b){for(;Ba!==null;){var k=Ba;if(k===b){Ba=null;break}var K=k.sibling;if(K!==null){K.return=k.return,Ba=K;break}Ba=k.return}}function s2(b){for(;Ba!==null;){var k=Ba;try{switch(k.tag){case 0:case 11:case 15:var K=k.return;try{zy(4,k)}catch(e){Bo(k,K,e)}break;case 1:var fe=k.stateNode;if(typeof fe.componentDidMount=="function"){var Te=k.return;try{fe.componentDidMount()}catch(e){Bo(k,Te,e)}}var Oe=k.return;try{fx(k)}catch(e){Bo(k,Oe,e)}break;case 5:var G=k.return;try{fx(k)}catch(e){Bo(k,G,e)}}}catch(e){Bo(k,k.return,e)}if(k===b){Ba=null;break}var V=k.sibling;if(V!==null){V.return=k.return,Ba=V;break}Ba=k.return}}var fC=Math.ceil,uy=ph.ReactCurrentDispatcher,gb=ph.ReactCurrentOwner,df=ph.ReactCurrentBatchConfig,Ii=0,Vs=null,us=null,il=0,Bu=0,md=Jh(0),As=0,g0=null,Ev=0,Fy=0,yb=0,jp=null,cu=null,mb=0,Fd=1/0,nh=null,fy=!1,vx=null,Gh=null,vg=!1,Fh=null,cy=0,Zp=0,dx=null,Dg=-1,Ig=0;function Zl(){return Ii&6?$o():Dg!==-1?Dg:Dg=$o()}function Wh(b){return b.mode&1?Ii&2&&il!==0?il&-il:Z8.transition!==null?(Ig===0&&(Ig=n5()),Ig):(b=Yi,b!==0||(b=window.event,b=b===void 0?16:f5(b.type)),b):1}function ic(b,k,K,fe){if(50<Zp)throw Zp=0,dx=null,Error(xa(185));S0(b,K,fe),(!(Ii&2)||b!==Vs)&&(b===Vs&&(!(Ii&2)&&(Fy|=K),As===4&&Oh(b,il)),pu(b,fe),K===1&&Ii===0&&!(k.mode&1)&&(Fd=$o()+500,Iy&&Qh()))}function pu(b,k){var K=b.callbackNode;ZM(b,k);var fe=Xg(b,b===Vs?il:0);if(fe===0)K!==null&&gw(K),b.callbackNode=null,b.callbackPriority=0;else if(k=fe&-fe,b.callbackPriority!==k){if(K!=null&&gw(K),k===1)b.tag===0?j8(l2.bind(null,b)):P5(l2.bind(null,b)),V8(function(){!(Ii&6)&&Qh()}),K=null;else{switch(a5(fe)){case 1:K=Wx;break;case 4:K=t5;break;case 16:K=Zg;break;case 536870912:K=r5;break;default:K=Zg}K=LA(K,wA.bind(null,b))}b.callbackPriority=k,b.callbackNode=K}}function wA(b,k){if(Dg=-1,Ig=0,Ii&6)throw Error(xa(327));var K=b.callbackNode;if(Pd()&&b.callbackNode!==K)return null;var fe=Xg(b,b===Vs?il:0);if(fe===0)return null;if(fe&30||fe&b.expiredLanes||k)k=hy(b,fe);else{k=fe;var Te=Ii;Ii|=2;var Oe=AA();(Vs!==b||il!==k)&&(nh=null,Fd=$o()+500,mv(b,k));do try{vC();break}catch(V){TA(b,V)}while(1);nb(),uy.current=Oe,Ii=Te,us!==null?k=0:(Vs=null,il=0,k=As)}if(k!==0){if(k===2&&(Te=H1(b),Te!==0&&(fe=Te,k=px(b,Te))),k===1)throw K=g0,mv(b,0),Oh(b,fe),pu(b,$o()),K;if(k===6)Oh(b,fe);else{if(Te=b.current.alternate,!(fe&30)&&!cC(Te)&&(k=hy(b,fe),k===2&&(Oe=H1(b),Oe!==0&&(fe=Oe,k=px(b,Oe))),k===1))throw K=g0,mv(b,0),Oh(b,fe),pu(b,$o()),K;switch(b.finishedWork=Te,b.finishedLanes=fe,k){case 0:case 1:throw Error(xa(345));case 2:fv(b,cu,nh);break;case 3:if(Oh(b,fe),(fe&130023424)===fe&&(k=mb+500-$o(),10<k)){if(Xg(b,0)!==0)break;if(Te=b.suspendedLanes,(Te&fe)!==fe){Zl(),b.pingedLanes|=b.suspendedLanes&Te;break}b.timeoutHandle=K1(fv.bind(null,b,cu,nh),k);break}fv(b,cu,nh);break;case 4:if(Oh(b,fe),(fe&4194240)===fe)break;for(k=b.eventTimes,Te=-1;0<fe;){var G=31-ac(fe);Oe=1<<G,G=k[G],G>Te&&(Te=G),fe&=~Oe}if(fe=Te,fe=$o()-fe,fe=(120>fe?120:480>fe?480:1080>fe?1080:1920>fe?1920:3e3>fe?3e3:4320>fe?4320:1960*fC(fe/1960))-fe,10<fe){b.timeoutHandle=K1(fv.bind(null,b,cu,nh),fe);break}fv(b,cu,nh);break;case 5:fv(b,cu,nh);break;default:throw Error(xa(329))}}}return pu(b,$o()),b.callbackNode===K?wA.bind(null,b):null}function px(b,k){var K=jp;return b.current.memoizedState.isDehydrated&&(mv(b,k).flags|=256),b=hy(b,k),b!==2&&(k=cu,cu=K,k!==null&&gx(k)),b}function gx(b){cu===null?cu=b:cu.push.apply(cu,b)}function cC(b){for(var k=b;;){if(k.flags&16384){var K=k.updateQueue;if(K!==null&&(K=K.stores,K!==null))for(var fe=0;fe<K.length;fe++){var Te=K[fe],Oe=Te.getSnapshot;Te=Te.value;try{if(!sc(Oe(),Te))return!1}catch{return!1}}}if(K=k.child,k.subtreeFlags&16384&&K!==null)K.return=k,k=K;else{if(k===b)break;for(;k.sibling===null;){if(k.return===null||k.return===b)return!0;k=k.return}k.sibling.return=k.return,k=k.sibling}}return!0}function Oh(b,k){for(k&=~yb,k&=~Fy,b.suspendedLanes|=k,b.pingedLanes&=~k,b=b.expirationTimes;0<k;){var K=31-ac(k),fe=1<<K;b[K]=-1,k&=~fe}}function l2(b){if(Ii&6)throw Error(xa(327));Pd();var k=Xg(b,0);if(!(k&1))return pu(b,$o()),null;var K=hy(b,k);if(b.tag!==0&&K===2){var fe=H1(b);fe!==0&&(k=fe,K=px(b,fe))}if(K===1)throw K=g0,mv(b,0),Oh(b,k),pu(b,$o()),K;if(K===6)throw Error(xa(345));return b.finishedWork=b.current.alternate,b.finishedLanes=k,fv(b,cu,nh),pu(b,$o()),null}function xb(b,k){var K=Ii;Ii|=1;try{return b(k)}finally{Ii=K,Ii===0&&(Fd=$o()+500,Iy&&Qh())}}function Mv(b){Fh!==null&&Fh.tag===0&&!(Ii&6)&&Pd();var k=Ii;Ii|=1;var K=df.transition,fe=Yi;try{if(df.transition=null,Yi=1,b)return b()}finally{Yi=fe,df.transition=K,Ii=k,!(Ii&6)&&Qh()}}function bb(){Bu=md.current,vo(md)}function mv(b,k){b.finishedWork=null,b.finishedLanes=0;var K=b.timeoutHandle;if(K!==-1&&(b.timeoutHandle=-1,H8(K)),us!==null)for(K=us.return;K!==null;){var fe=K;switch(eb(fe),fe.tag){case 1:fe=fe.type.childContextTypes,fe!=null&&qg();break;case 3:Od(),vo(vu),vo(El),ub();break;case 5:lb(fe);break;case 4:Od();break;case 13:vo(Lo);break;case 19:vo(Lo);break;case 10:ab(fe.type._context);break;case 22:case 23:bb()}K=K.return}if(Vs=b,us=b=Yh(b.current,null),il=Bu=k,As=0,g0=null,yb=Fy=Ev=0,cu=jp=null,dv!==null){for(k=0;k<dv.length;k++)if(K=dv[k],fe=K.interleaved,fe!==null){K.interleaved=null;var Te=fe.next,Oe=K.pending;if(Oe!==null){var G=Oe.next;Oe.next=Te,fe.next=G}K.pending=fe}dv=null}return b}function TA(b,k){do{var K=us;try{if(nb(),Pg.current=ly,sy){for(var fe=Po.memoizedState;fe!==null;){var Te=fe.queue;Te!==null&&(Te.pending=null),fe=fe.next}sy=!1}if(Sv=0,Us=Ts=Po=null,Wp=!1,v0=0,gb.current=null,K===null||K.return===null){As=1,g0=k,us=null;break}e:{var Oe=b,G=K.return,V=K,e=k;if(k=il,V.flags|=32768,e!==null&&typeof e=="object"&&typeof e.then=="function"){var g=e,_=V,a=_.tag;if(!(_.mode&1)&&(a===0||a===11||a===15)){var C=_.alternate;C?(_.updateQueue=C.updateQueue,_.memoizedState=C.memoizedState,_.lanes=C.lanes):(_.updateQueue=null,_.memoizedState=null)}var A=Kw(G);if(A!==null){A.flags&=-257,$w(A,G,V,Oe,k),A.mode&1&&Xw(Oe,g,k),k=A,e=g;var v=k.updateQueue;if(v===null){var p=new Set;p.add(e),k.updateQueue=p}else v.add(e);break e}else{if(!(k&1)){Xw(Oe,g,k),wb();break e}e=Error(xa(426))}}else if(xo&&V.mode&1){var t=Kw(G);if(t!==null){!(t.flags&65536)&&(t.flags|=256),$w(t,G,V,Oe,k),tb(zd(e,V));break e}}Oe=e=zd(e,V),As!==4&&(As=2),jp===null?jp=[Oe]:jp.push(Oe),Oe=G;do{switch(Oe.tag){case 3:Oe.flags|=65536,k&=-k,Oe.lanes|=k;var r=iA(Oe,e,k);Hw(Oe,r);break e;case 1:V=e;var s=Oe.type,n=Oe.stateNode;if(!(Oe.flags&128)&&(typeof s.getDerivedStateFromError=="function"||n!==null&&typeof n.componentDidCatch=="function"&&(Gh===null||!Gh.has(n)))){Oe.flags|=65536,k&=-k,Oe.lanes|=k;var i=oA(Oe,V,k);Hw(Oe,i);break e}}Oe=Oe.return}while(Oe!==null)}EA(K)}catch(f){k=f,us===K&&K!==null&&(us=K=K.return);continue}break}while(1)}function AA(){var b=uy.current;return uy.current=ly,b===null?ly:b}function wb(){(As===0||As===3||As===2)&&(As=4),Vs===null||!(Ev&268435455)&&!(Fy&268435455)||Oh(Vs,il)}function hy(b,k){var K=Ii;Ii|=2;var fe=AA();(Vs!==b||il!==k)&&(nh=null,mv(b,k));do try{hC();break}catch(Te){TA(b,Te)}while(1);if(nb(),Ii=K,uy.current=fe,us!==null)throw Error(xa(261));return Vs=null,il=0,As}function hC(){for(;us!==null;)SA(us)}function vC(){for(;us!==null&&!NM();)SA(us)}function SA(b){var k=CA(b.alternate,b,Bu);b.memoizedProps=b.pendingProps,k===null?EA(b):us=k,gb.current=null}function EA(b){var k=b;do{var K=k.alternate;if(b=k.return,k.flags&32768){if(K=oC(K,k),K!==null){K.flags&=32767,us=K;return}if(b!==null)b.flags|=32768,b.subtreeFlags=0,b.deletions=null;else{As=6,us=null;return}}else if(K=iC(K,k,Bu),K!==null){us=K;return}if(k=k.sibling,k!==null){us=k;return}us=k=b}while(k!==null);As===0&&(As=5)}function fv(b,k,K){var fe=Yi,Te=df.transition;try{df.transition=null,Yi=1,dC(b,k,K,fe)}finally{df.transition=Te,Yi=fe}return null}function dC(b,k,K,fe){do Pd();while(Fh!==null);if(Ii&6)throw Error(xa(327));K=b.finishedWork;var Te=b.finishedLanes;if(K===null)return null;if(b.finishedWork=null,b.finishedLanes=0,K===b.current)throw Error(xa(177));b.callbackNode=null,b.callbackPriority=0;var Oe=K.lanes|K.childLanes;if(XM(b,Oe),b===Vs&&(us=Vs=null,il=0),!(K.subtreeFlags&2064)&&!(K.flags&2064)||vg||(vg=!0,LA(Zg,function(){return Pd(),null})),Oe=(K.flags&15990)!==0,K.subtreeFlags&15990||Oe){Oe=df.transition,df.transition=null;var G=Yi;Yi=1;var V=Ii;Ii|=4,gb.current=null,lC(b,K),xA(K,b),k8(Z1),Kg=!!j1,Z1=j1=null,b.current=K,uC(K),BM(),Ii=V,Yi=G,df.transition=Oe}else b.current=K;if(vg&&(vg=!1,Fh=b,cy=Te),Oe=b.pendingLanes,Oe===0&&(Gh=null),VM(K.stateNode),pu(b,$o()),k!==null)for(fe=b.onRecoverableError,K=0;K<k.length;K++)Te=k[K],fe(Te.value,{componentStack:Te.stack,digest:Te.digest});if(fy)throw fy=!1,b=vx,vx=null,b;return cy&1&&b.tag!==0&&Pd(),Oe=b.pendingLanes,Oe&1?b===dx?Zp++:(Zp=0,dx=b):Zp=0,Qh(),null}function Pd(){if(Fh!==null){var b=a5(cy),k=df.transition,K=Yi;try{if(df.transition=null,Yi=16>b?16:b,Fh===null)var fe=!1;else{if(b=Fh,Fh=null,cy=0,Ii&6)throw Error(xa(331));var Te=Ii;for(Ii|=4,Ba=b.current;Ba!==null;){var Oe=Ba,G=Oe.child;if(Ba.flags&16){var V=Oe.deletions;if(V!==null){for(var e=0;e<V.length;e++){var g=V[e];for(Ba=g;Ba!==null;){var _=Ba;switch(_.tag){case 0:case 11:case 15:Yp(8,_,Oe)}var a=_.child;if(a!==null)a.return=_,Ba=a;else for(;Ba!==null;){_=Ba;var C=_.sibling,A=_.return;if(gA(_),_===g){Ba=null;break}if(C!==null){C.return=A,Ba=C;break}Ba=A}}}var v=Oe.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var t=p.sibling;p.sibling=null,p=t}while(p!==null)}}Ba=Oe}}if(Oe.subtreeFlags&2064&&G!==null)G.return=Oe,Ba=G;else e:for(;Ba!==null;){if(Oe=Ba,Oe.flags&2048)switch(Oe.tag){case 0:case 11:case 15:Yp(9,Oe,Oe.return)}var r=Oe.sibling;if(r!==null){r.return=Oe.return,Ba=r;break e}Ba=Oe.return}}var s=b.current;for(Ba=s;Ba!==null;){G=Ba;var n=G.child;if(G.subtreeFlags&2064&&n!==null)n.return=G,Ba=n;else e:for(G=s;Ba!==null;){if(V=Ba,V.flags&2048)try{switch(V.tag){case 0:case 11:case 15:zy(9,V)}}catch(f){Bo(V,V.return,f)}if(V===G){Ba=null;break e}var i=V.sibling;if(i!==null){i.return=V.return,Ba=i;break e}Ba=V.return}}if(Ii=Te,Qh(),Nc&&typeof Nc.onPostCommitFiberRoot=="function")try{Nc.onPostCommitFiberRoot(Ly,b)}catch{}fe=!0}return fe}finally{Yi=K,df.transition=k}}return!1}function u2(b,k,K){k=zd(K,k),k=iA(b,k,1),b=Vh(b,k,1),k=Zl(),b!==null&&(S0(b,1,k),pu(b,k))}function Bo(b,k,K){if(b.tag===3)u2(b,b,K);else for(;k!==null;){if(k.tag===3){u2(k,b,K);break}else if(k.tag===1){var fe=k.stateNode;if(typeof k.type.getDerivedStateFromError=="function"||typeof fe.componentDidCatch=="function"&&(Gh===null||!Gh.has(fe))){b=zd(K,b),b=oA(k,b,1),k=Vh(k,b,1),b=Zl(),k!==null&&(S0(k,1,b),pu(k,b));break}}k=k.return}}function pC(b,k,K){var fe=b.pingCache;fe!==null&&fe.delete(k),k=Zl(),b.pingedLanes|=b.suspendedLanes&K,Vs===b&&(il&K)===K&&(As===4||As===3&&(il&130023424)===il&&500>$o()-mb?mv(b,0):yb|=K),pu(b,k)}function MA(b,k){k===0&&(b.mode&1?(k=ng,ng<<=1,!(ng&130023424)&&(ng=4194304)):k=1);var K=Zl();b=vh(b,k),b!==null&&(S0(b,k,K),pu(b,K))}function gC(b){var k=b.memoizedState,K=0;k!==null&&(K=k.retryLane),MA(b,K)}function yC(b,k){var K=0;switch(b.tag){case 13:var fe=b.stateNode,Te=b.memoizedState;Te!==null&&(K=Te.retryLane);break;case 19:fe=b.stateNode;break;default:throw Error(xa(314))}fe!==null&&fe.delete(k),MA(b,K)}var CA;CA=function(b,k,K){if(b!==null)if(b.memoizedProps!==k.pendingProps||vu.current)hu=!0;else{if(!(b.lanes&K)&&!(k.flags&128))return hu=!1,aC(b,k,K);hu=!!(b.flags&131072)}else hu=!1,xo&&k.flags&1048576&&_5(k,ry,k.index);switch(k.lanes=0,k.tag){case 2:var fe=k.type;Rg(b,k),b=k.pendingProps;var Te=Dd(k,El.current);Ld(k,K),Te=cb(null,k,fe,b,Te,K);var Oe=hb();return k.flags|=1,typeof Te=="object"&&Te!==null&&typeof Te.render=="function"&&Te.$$typeof===void 0?(k.tag=1,k.memoizedState=null,k.updateQueue=null,du(fe)?(Oe=!0,ey(k)):Oe=!1,k.memoizedState=Te.state!==null&&Te.state!==void 0?Te.state:null,ob(k),Te.updater=ky,k.stateNode=Te,Te._reactInternals=k,rx(k,fe,b,K),k=ix(null,k,fe,!0,Oe,K)):(k.tag=0,xo&&Oe&&qx(k),jl(null,k,Te,K),k=k.child),k;case 16:fe=k.elementType;e:{switch(Rg(b,k),b=k.pendingProps,Te=fe._init,fe=Te(fe._payload),k.type=fe,Te=k.tag=xC(fe),b=ec(fe,b),Te){case 0:k=ax(null,k,fe,b,K);break e;case 1:k=qw(null,k,fe,b,K);break e;case 11:k=Jw(null,k,fe,b,K);break e;case 14:k=Qw(null,k,fe,ec(fe.type,b),K);break e}throw Error(xa(306,fe,""))}return k;case 0:return fe=k.type,Te=k.pendingProps,Te=k.elementType===fe?Te:ec(fe,Te),ax(b,k,fe,Te,K);case 1:return fe=k.type,Te=k.pendingProps,Te=k.elementType===fe?Te:ec(fe,Te),qw(b,k,fe,Te,K);case 3:e:{if(fA(k),b===null)throw Error(xa(387));fe=k.pendingProps,Oe=k.memoizedState,Te=Oe.element,k5(b,k),iy(k,fe,null,K);var G=k.memoizedState;if(fe=G.element,Oe.isDehydrated)if(Oe={element:fe,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},k.updateQueue.baseState=Oe,k.memoizedState=Oe,k.flags&256){Te=zd(Error(xa(423)),k),k=e2(b,k,fe,K,Te);break e}else if(fe!==Te){Te=zd(Error(xa(424)),k),k=e2(b,k,fe,K,Te);break e}else for(Hu=Hh(k.stateNode.containerInfo.firstChild),Vu=k,xo=!0,nc=null,K=N5(k,null,fe,K),k.child=K;K;)K.flags=K.flags&-3|4096,K=K.sibling;else{if(Id(),fe===Te){k=dh(b,k,K);break e}jl(b,k,fe,K)}k=k.child}return k;case 5:return B5(k),b===null&&q1(k),fe=k.type,Te=k.pendingProps,Oe=b!==null?b.memoizedProps:null,G=Te.children,X1(fe,Te)?G=null:Oe!==null&&X1(fe,Oe)&&(k.flags|=32),uA(b,k),jl(b,k,G,K),k.child;case 6:return b===null&&q1(k),null;case 13:return cA(b,k,K);case 4:return sb(k,k.stateNode.containerInfo),fe=k.pendingProps,b===null?k.child=kd(k,null,fe,K):jl(b,k,fe,K),k.child;case 11:return fe=k.type,Te=k.pendingProps,Te=k.elementType===fe?Te:ec(fe,Te),Jw(b,k,fe,Te,K);case 7:return jl(b,k,k.pendingProps,K),k.child;case 8:return jl(b,k,k.pendingProps.children,K),k.child;case 12:return jl(b,k,k.pendingProps.children,K),k.child;case 10:e:{if(fe=k.type._context,Te=k.pendingProps,Oe=k.memoizedProps,G=Te.value,oo(ny,fe._currentValue),fe._currentValue=G,Oe!==null)if(sc(Oe.value,G)){if(Oe.children===Te.children&&!vu.current){k=dh(b,k,K);break e}}else for(Oe=k.child,Oe!==null&&(Oe.return=k);Oe!==null;){var V=Oe.dependencies;if(V!==null){G=Oe.child;for(var e=V.firstContext;e!==null;){if(e.context===fe){if(Oe.tag===1){e=uh(-1,K&-K),e.tag=2;var g=Oe.updateQueue;if(g!==null){g=g.shared;var _=g.pending;_===null?e.next=e:(e.next=_.next,_.next=e),g.pending=e}}Oe.lanes|=K,e=Oe.alternate,e!==null&&(e.lanes|=K),ex(Oe.return,K,k),V.lanes|=K;break}e=e.next}}else if(Oe.tag===10)G=Oe.type===k.type?null:Oe.child;else if(Oe.tag===18){if(G=Oe.return,G===null)throw Error(xa(341));G.lanes|=K,V=G.alternate,V!==null&&(V.lanes|=K),ex(G,K,k),G=Oe.sibling}else G=Oe.child;if(G!==null)G.return=Oe;else for(G=Oe;G!==null;){if(G===k){G=null;break}if(Oe=G.sibling,Oe!==null){Oe.return=G.return,G=Oe;break}G=G.return}Oe=G}jl(b,k,Te.children,K),k=k.child}return k;case 9:return Te=k.type,fe=k.pendingProps.children,Ld(k,K),Te=pf(Te),fe=fe(Te),k.flags|=1,jl(b,k,fe,K),k.child;case 14:return fe=k.type,Te=ec(fe,k.pendingProps),Te=ec(fe.type,Te),Qw(b,k,fe,Te,K);case 15:return sA(b,k,k.type,k.pendingProps,K);case 17:return fe=k.type,Te=k.pendingProps,Te=k.elementType===fe?Te:ec(fe,Te),Rg(b,k),k.tag=1,du(fe)?(b=!0,ey(k)):b=!1,Ld(k,K),z5(k,fe,Te),rx(k,fe,Te,K),ix(null,k,fe,!0,b,K);case 19:return hA(b,k,K);case 22:return lA(b,k,K)}throw Error(xa(156,k.tag))};function LA(b,k){return e5(b,k)}function mC(b,k,K,fe){this.tag=b,this.key=K,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=k,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=fe,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vf(b,k,K,fe){return new mC(b,k,K,fe)}function Tb(b){return b=b.prototype,!(!b||!b.isReactComponent)}function xC(b){if(typeof b=="function")return Tb(b)?1:0;if(b!=null){if(b=b.$$typeof,b===Hx)return 11;if(b===Vx)return 14}return 2}function Yh(b,k){var K=b.alternate;return K===null?(K=vf(b.tag,k,b.key,b.mode),K.elementType=b.elementType,K.type=b.type,K.stateNode=b.stateNode,K.alternate=b,b.alternate=K):(K.pendingProps=k,K.type=b.type,K.flags=0,K.subtreeFlags=0,K.deletions=null),K.flags=b.flags&14680064,K.childLanes=b.childLanes,K.lanes=b.lanes,K.child=b.child,K.memoizedProps=b.memoizedProps,K.memoizedState=b.memoizedState,K.updateQueue=b.updateQueue,k=b.dependencies,K.dependencies=k===null?null:{lanes:k.lanes,firstContext:k.firstContext},K.sibling=b.sibling,K.index=b.index,K.ref=b.ref,K}function kg(b,k,K,fe,Te,Oe){var G=2;if(fe=b,typeof b=="function")Tb(b)&&(G=1);else if(typeof b=="string")G=5;else e:switch(b){case ld:return xv(K.children,Te,Oe,k);case Ux:G=8,Te|=8;break;case M1:return b=vf(12,K,k,Te|2),b.elementType=M1,b.lanes=Oe,b;case C1:return b=vf(13,K,k,Te),b.elementType=C1,b.lanes=Oe,b;case L1:return b=vf(19,K,k,Te),b.elementType=L1,b.lanes=Oe,b;case FT:return Ny(K,Te,Oe,k);default:if(typeof b=="object"&&b!==null)switch(b.$$typeof){case OT:G=10;break e;case zT:G=9;break e;case Hx:G=11;break e;case Vx:G=14;break e;case Dh:G=16,fe=null;break e}throw Error(xa(130,b==null?b:typeof b,""))}return k=vf(G,K,k,Te),k.elementType=b,k.type=fe,k.lanes=Oe,k}function xv(b,k,K,fe){return b=vf(7,b,fe,k),b.lanes=K,b}function Ny(b,k,K,fe){return b=vf(22,b,fe,k),b.elementType=FT,b.lanes=K,b.stateNode={isHidden:!1},b}function f1(b,k,K){return b=vf(6,b,null,k),b.lanes=K,b}function c1(b,k,K){return k=vf(4,b.children!==null?b.children:[],b.key,k),k.lanes=K,k.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation},k}function bC(b,k,K,fe,Te){this.tag=k,this.containerInfo=b,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ym(0),this.expirationTimes=Ym(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ym(0),this.identifierPrefix=fe,this.onRecoverableError=Te,this.mutableSourceEagerHydrationData=null}function Ab(b,k,K,fe,Te,Oe,G,V,e){return b=new bC(b,k,K,V,e),k===1?(k=1,Oe===!0&&(k|=8)):k=0,Oe=vf(3,null,null,k),b.current=Oe,Oe.stateNode=b,Oe.memoizedState={element:fe,isDehydrated:K,cache:null,transitions:null,pendingSuspenseBoundaries:null},ob(Oe),b}function wC(b,k,K){var fe=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sd,key:fe==null?null:""+fe,children:b,containerInfo:k,implementation:K}}function PA(b){if(!b)return Xh;b=b._reactInternals;e:{if(Iv(b)!==b||b.tag!==1)throw Error(xa(170));var k=b;do{switch(k.tag){case 3:k=k.stateNode.context;break e;case 1:if(du(k.type)){k=k.stateNode.__reactInternalMemoizedMergedChildContext;break e}}k=k.return}while(k!==null);throw Error(xa(171))}if(b.tag===1){var K=b.type;if(du(K))return L5(b,K,k)}return k}function _A(b,k,K,fe,Te,Oe,G,V,e){return b=Ab(K,fe,!0,b,Te,Oe,G,V,e),b.context=PA(null),K=b.current,fe=Zl(),Te=Wh(K),Oe=uh(fe,Te),Oe.callback=k??null,Vh(K,Oe,Te),b.current.lanes=Te,S0(b,Te,fe),pu(b,fe),b}function By(b,k,K,fe){var Te=k.current,Oe=Zl(),G=Wh(Te);return K=PA(K),k.context===null?k.context=K:k.pendingContext=K,k=uh(Oe,G),k.payload={element:b},fe=fe===void 0?null:fe,fe!==null&&(k.callback=fe),b=Vh(Te,k,G),b!==null&&(ic(b,Te,G,Oe),Lg(b,Te,G)),G}function vy(b){if(b=b.current,!b.child)return null;switch(b.child.tag){case 5:return b.child.stateNode;default:return b.child.stateNode}}function f2(b,k){if(b=b.memoizedState,b!==null&&b.dehydrated!==null){var K=b.retryLane;b.retryLane=K!==0&&K<k?K:k}}function Sb(b,k){f2(b,k),(b=b.alternate)&&f2(b,k)}function TC(){return null}var RA=typeof reportError=="function"?reportError:function(b){console.error(b)};function Eb(b){this._internalRoot=b}Uy.prototype.render=Eb.prototype.render=function(b){var k=this._internalRoot;if(k===null)throw Error(xa(409));By(b,k,null,null)};Uy.prototype.unmount=Eb.prototype.unmount=function(){var b=this._internalRoot;if(b!==null){this._internalRoot=null;var k=b.containerInfo;Mv(function(){By(null,b,null,null)}),k[hh]=null}};function Uy(b){this._internalRoot=b}Uy.prototype.unstable_scheduleHydration=function(b){if(b){var k=s5();b={blockedOn:null,target:b,priority:k};for(var K=0;K<kh.length&&k!==0&&k<kh[K].priority;K++);kh.splice(K,0,b),K===0&&u5(b)}};function Mb(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)}function Hy(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11&&(b.nodeType!==8||b.nodeValue!==" react-mount-point-unstable "))}function c2(){}function AC(b,k,K,fe,Te){if(Te){if(typeof fe=="function"){var Oe=fe;fe=function(){var g=vy(G);Oe.call(g)}}var G=_A(k,fe,b,0,null,!1,!1,"",c2);return b._reactRootContainer=G,b[hh]=G.current,l0(b.nodeType===8?b.parentNode:b),Mv(),G}for(;Te=b.lastChild;)b.removeChild(Te);if(typeof fe=="function"){var V=fe;fe=function(){var g=vy(e);V.call(g)}}var e=Ab(b,0,!1,null,null,!1,!1,"",c2);return b._reactRootContainer=e,b[hh]=e.current,l0(b.nodeType===8?b.parentNode:b),Mv(function(){By(k,e,K,fe)}),e}function Vy(b,k,K,fe,Te){var Oe=K._reactRootContainer;if(Oe){var G=Oe;if(typeof Te=="function"){var V=Te;Te=function(){var e=vy(G);V.call(e)}}By(k,G,b,Te)}else G=AC(K,k,b,Te,fe);return vy(G)}i5=function(b){switch(b.tag){case 3:var k=b.stateNode;if(k.current.memoizedState.isDehydrated){var K=Ip(k.pendingLanes);K!==0&&(Yx(k,K|1),pu(k,$o()),!(Ii&6)&&(Fd=$o()+500,Qh()))}break;case 13:Mv(function(){var fe=vh(b,1);if(fe!==null){var Te=Zl();ic(fe,b,1,Te)}}),Sb(b,1)}};jx=function(b){if(b.tag===13){var k=vh(b,134217728);if(k!==null){var K=Zl();ic(k,b,134217728,K)}Sb(b,134217728)}};o5=function(b){if(b.tag===13){var k=Wh(b),K=vh(b,k);if(K!==null){var fe=Zl();ic(K,b,k,fe)}Sb(b,k)}};s5=function(){return Yi};l5=function(b,k){var K=Yi;try{return Yi=b,k()}finally{Yi=K}};N1=function(b,k,K){switch(k){case"input":if(R1(b,K),k=K.name,K.type==="radio"&&k!=null){for(K=b;K.parentNode;)K=K.parentNode;for(K=K.querySelectorAll("input[name="+JSON.stringify(""+k)+'][type="radio"]'),k=0;k<K.length;k++){var fe=K[k];if(fe!==b&&fe.form===b.form){var Te=Dy(fe);if(!Te)throw Error(xa(90));BT(fe),R1(fe,Te)}}}break;case"textarea":HT(b,K);break;case"select":k=K.value,k!=null&&Sd(b,!!K.multiple,k,!1)}};XT=xb;KT=Mv;var SC={usingClientEntryPoint:!1,Events:[M0,hd,Dy,jT,ZT,xb]},Ap={findFiberByHostInstance:vv,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},EC={bundleType:Ap.bundleType,version:Ap.version,rendererPackageName:Ap.rendererPackageName,rendererConfig:Ap.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ph.ReactCurrentDispatcher,findHostInstanceByFiber:function(b){return b=QT(b),b===null?null:b.stateNode},findFiberByHostInstance:Ap.findFiberByHostInstance||TC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dg.isDisabled&&dg.supportsFiber)try{Ly=dg.inject(EC),Nc=dg}catch{}}Yu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SC;Yu.createPortal=function(b,k){var K=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mb(k))throw Error(xa(200));return wC(b,k,null,K)};Yu.createRoot=function(b,k){if(!Mb(b))throw Error(xa(299));var K=!1,fe="",Te=RA;return k!=null&&(k.unstable_strictMode===!0&&(K=!0),k.identifierPrefix!==void 0&&(fe=k.identifierPrefix),k.onRecoverableError!==void 0&&(Te=k.onRecoverableError)),k=Ab(b,1,!1,null,null,K,!1,fe,Te),b[hh]=k.current,l0(b.nodeType===8?b.parentNode:b),new Eb(k)};Yu.findDOMNode=function(b){if(b==null)return null;if(b.nodeType===1)return b;var k=b._reactInternals;if(k===void 0)throw typeof b.render=="function"?Error(xa(188)):(b=Object.keys(b).join(","),Error(xa(268,b)));return b=QT(k),b=b===null?null:b.stateNode,b};Yu.flushSync=function(b){return Mv(b)};Yu.hydrate=function(b,k,K){if(!Hy(k))throw Error(xa(200));return Vy(null,b,k,!0,K)};Yu.hydrateRoot=function(b,k,K){if(!Mb(b))throw Error(xa(405));var fe=K!=null&&K.hydratedSources||null,Te=!1,Oe="",G=RA;if(K!=null&&(K.unstable_strictMode===!0&&(Te=!0),K.identifierPrefix!==void 0&&(Oe=K.identifierPrefix),K.onRecoverableError!==void 0&&(G=K.onRecoverableError)),k=_A(k,null,b,1,K??null,Te,!1,Oe,G),b[hh]=k.current,l0(b),fe)for(b=0;b<fe.length;b++)K=fe[b],Te=K._getVersion,Te=Te(K._source),k.mutableSourceEagerHydrationData==null?k.mutableSourceEagerHydrationData=[K,Te]:k.mutableSourceEagerHydrationData.push(K,Te);return new Uy(k)};Yu.render=function(b,k,K){if(!Hy(k))throw Error(xa(200));return Vy(null,b,k,!1,K)};Yu.unmountComponentAtNode=function(b){if(!Hy(b))throw Error(xa(40));return b._reactRootContainer?(Mv(function(){Vy(null,null,b,!1,function(){b._reactRootContainer=null,b[hh]=null})}),!0):!1};Yu.unstable_batchedUpdates=xb;Yu.unstable_renderSubtreeIntoContainer=function(b,k,K,fe){if(!Hy(K))throw Error(xa(200));if(b==null||b._reactInternals===void 0)throw Error(xa(38));return Vy(b,k,K,!1,fe)};Yu.version="18.2.0-next-9e3b772b8-20220608";function DA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DA)}catch(b){console.error(b)}}DA(),_T.exports=Yu;var Cb=_T.exports;const MC=Rv(Cb),CC=xT({__proto__:null,default:MC},[Cb]);var h2=Cb;S1.createRoot=h2.createRoot,S1.hydrateRoot=h2.hydrateRoot;/**
 * @remix-run/router v1.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uo(){return Uo=Object.assign?Object.assign.bind():function(b){for(var k=1;k<arguments.length;k++){var K=arguments[k];for(var fe in K)Object.prototype.hasOwnProperty.call(K,fe)&&(b[fe]=K[fe])}return b},Uo.apply(this,arguments)}var Xo;(function(b){b.Pop="POP",b.Push="PUSH",b.Replace="REPLACE"})(Xo||(Xo={}));const v2="popstate";function LC(b){b===void 0&&(b={});function k(fe,Te){let{pathname:Oe,search:G,hash:V}=fe.location;return y0("",{pathname:Oe,search:G,hash:V},Te.state&&Te.state.usr||null,Te.state&&Te.state.key||"default")}function K(fe,Te){return typeof Te=="string"?Te:Lv(Te)}return _C(k,K,null,b)}function gi(b,k){if(b===!1||b===null||typeof b>"u")throw new Error(k)}function Cv(b,k){if(!b){typeof console<"u"&&console.warn(k);try{throw new Error(k)}catch{}}}function PC(){return Math.random().toString(36).substr(2,8)}function d2(b,k){return{usr:b.state,key:b.key,idx:k}}function y0(b,k,K,fe){return K===void 0&&(K=null),Uo({pathname:typeof b=="string"?b:b.pathname,search:"",hash:""},typeof k=="string"?gh(k):k,{state:K,key:k&&k.key||fe||PC()})}function Lv(b){let{pathname:k="/",search:K="",hash:fe=""}=b;return K&&K!=="?"&&(k+=K.charAt(0)==="?"?K:"?"+K),fe&&fe!=="#"&&(k+=fe.charAt(0)==="#"?fe:"#"+fe),k}function gh(b){let k={};if(b){let K=b.indexOf("#");K>=0&&(k.hash=b.substr(K),b=b.substr(0,K));let fe=b.indexOf("?");fe>=0&&(k.search=b.substr(fe),b=b.substr(0,fe)),b&&(k.pathname=b)}return k}function _C(b,k,K,fe){fe===void 0&&(fe={});let{window:Te=document.defaultView,v5Compat:Oe=!1}=fe,G=Te.history,V=Xo.Pop,e=null,g=_();g==null&&(g=0,G.replaceState(Uo({},G.state,{idx:g}),""));function _(){return(G.state||{idx:null}).idx}function a(){V=Xo.Pop;let t=_(),r=t==null?null:t-g;g=t,e&&e({action:V,location:p.location,delta:r})}function C(t,r){V=Xo.Push;let s=y0(p.location,t,r);K&&K(s,t),g=_()+1;let n=d2(s,g),i=p.createHref(s);try{G.pushState(n,"",i)}catch(f){if(f instanceof DOMException&&f.name==="DataCloneError")throw f;Te.location.assign(i)}Oe&&e&&e({action:V,location:p.location,delta:1})}function A(t,r){V=Xo.Replace;let s=y0(p.location,t,r);K&&K(s,t),g=_();let n=d2(s,g),i=p.createHref(s);G.replaceState(n,"",i),Oe&&e&&e({action:V,location:p.location,delta:0})}function v(t){let r=Te.location.origin!=="null"?Te.location.origin:Te.location.href,s=typeof t=="string"?t:Lv(t);return gi(r,"No window.location.(origin|href) available to create URL for href: "+s),new URL(s,r)}let p={get action(){return V},get location(){return b(Te,G)},listen(t){if(e)throw new Error("A history only accepts one active listener");return Te.addEventListener(v2,a),e=t,()=>{Te.removeEventListener(v2,a),e=null}},createHref(t){return k(Te,t)},createURL:v,encodeLocation(t){let r=v(t);return{pathname:r.pathname,search:r.search,hash:r.hash}},push:C,replace:A,go(t){return G.go(t)}};return p}var Ko;(function(b){b.data="data",b.deferred="deferred",b.redirect="redirect",b.error="error"})(Ko||(Ko={}));const RC=new Set(["lazy","caseSensitive","path","id","index","children"]);function DC(b){return b.index===!0}function yx(b,k,K,fe){return K===void 0&&(K=[]),fe===void 0&&(fe={}),b.map((Te,Oe)=>{let G=[...K,Oe],V=typeof Te.id=="string"?Te.id:G.join("-");if(gi(Te.index!==!0||!Te.children,"Cannot specify children on an index route"),gi(!fe[V],'Found a route id collision on id "'+V+`".  Route id's must be globally unique within Data Router usages`),DC(Te)){let e=Uo({},Te,k(Te),{id:V});return fe[V]=e,e}else{let e=Uo({},Te,k(Te),{id:V,children:void 0});return fe[V]=e,Te.children&&(e.children=yx(Te.children,k,G,fe)),e}})}function xd(b,k,K){K===void 0&&(K="/");let fe=typeof k=="string"?gh(k):k,Te=Kh(fe.pathname||"/",K);if(Te==null)return null;let Oe=IA(b);kC(Oe);let G=null;for(let V=0;G==null&&V<Oe.length;++V)G=GC(Oe[V],YC(Te));return G}function IC(b,k){let{route:K,pathname:fe,params:Te}=b;return{id:K.id,pathname:fe,params:Te,data:k[K.id],handle:K.handle}}function IA(b,k,K,fe){k===void 0&&(k=[]),K===void 0&&(K=[]),fe===void 0&&(fe="");let Te=(Oe,G,V)=>{let e={relativePath:V===void 0?Oe.path||"":V,caseSensitive:Oe.caseSensitive===!0,childrenIndex:G,route:Oe};e.relativePath.startsWith("/")&&(gi(e.relativePath.startsWith(fe),'Absolute route path "'+e.relativePath+'" nested under path '+('"'+fe+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),e.relativePath=e.relativePath.slice(fe.length));let g=fh([fe,e.relativePath]),_=K.concat(e);Oe.children&&Oe.children.length>0&&(gi(Oe.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),IA(Oe.children,k,_,g)),!(Oe.path==null&&!Oe.index)&&k.push({path:g,score:HC(g,Oe.index),routesMeta:_})};return b.forEach((Oe,G)=>{var V;if(Oe.path===""||!((V=Oe.path)!=null&&V.includes("?")))Te(Oe,G);else for(let e of kA(Oe.path))Te(Oe,G,e)}),k}function kA(b){let k=b.split("/");if(k.length===0)return[];let[K,...fe]=k,Te=K.endsWith("?"),Oe=K.replace(/\?$/,"");if(fe.length===0)return Te?[Oe,""]:[Oe];let G=kA(fe.join("/")),V=[];return V.push(...G.map(e=>e===""?Oe:[Oe,e].join("/"))),Te&&V.push(...G),V.map(e=>b.startsWith("/")&&e===""?"/":e)}function kC(b){b.sort((k,K)=>k.score!==K.score?K.score-k.score:VC(k.routesMeta.map(fe=>fe.childrenIndex),K.routesMeta.map(fe=>fe.childrenIndex)))}const OC=/^:\w+$/,zC=3,FC=2,NC=1,BC=10,UC=-2,p2=b=>b==="*";function HC(b,k){let K=b.split("/"),fe=K.length;return K.some(p2)&&(fe+=UC),k&&(fe+=FC),K.filter(Te=>!p2(Te)).reduce((Te,Oe)=>Te+(OC.test(Oe)?zC:Oe===""?NC:BC),fe)}function VC(b,k){return b.length===k.length&&b.slice(0,-1).every((fe,Te)=>fe===k[Te])?b[b.length-1]-k[k.length-1]:0}function GC(b,k){let{routesMeta:K}=b,fe={},Te="/",Oe=[];for(let G=0;G<K.length;++G){let V=K[G],e=G===K.length-1,g=Te==="/"?k:k.slice(Te.length)||"/",_=mx({path:V.relativePath,caseSensitive:V.caseSensitive,end:e},g);if(!_)return null;Object.assign(fe,_.params);let a=V.route;Oe.push({params:fe,pathname:fh([Te,_.pathname]),pathnameBase:KC(fh([Te,_.pathnameBase])),route:a}),_.pathnameBase!=="/"&&(Te=fh([Te,_.pathnameBase]))}return Oe}function mx(b,k){typeof b=="string"&&(b={path:b,caseSensitive:!1,end:!0});let[K,fe]=WC(b.path,b.caseSensitive,b.end),Te=k.match(K);if(!Te)return null;let Oe=Te[0],G=Oe.replace(/(.)\/+$/,"$1"),V=Te.slice(1);return{params:fe.reduce((g,_,a)=>{let{paramName:C,isOptional:A}=_;if(C==="*"){let p=V[a]||"";G=Oe.slice(0,Oe.length-p.length).replace(/(.)\/+$/,"$1")}const v=V[a];return A&&!v?g[C]=void 0:g[C]=jC(v||"",C),g},{}),pathname:Oe,pathnameBase:G,pattern:b}}function WC(b,k,K){k===void 0&&(k=!1),K===void 0&&(K=!0),Cv(b==="*"||!b.endsWith("*")||b.endsWith("/*"),'Route path "'+b+'" will be treated as if it were '+('"'+b.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+b.replace(/\*$/,"/*")+'".'));let fe=[],Te="^"+b.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(G,V,e)=>(fe.push({paramName:V,isOptional:e!=null}),e?"/?([^\\/]+)?":"/([^\\/]+)"));return b.endsWith("*")?(fe.push({paramName:"*"}),Te+=b==="*"||b==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):K?Te+="\\/*$":b!==""&&b!=="/"&&(Te+="(?:(?=\\/|$))"),[new RegExp(Te,k?void 0:"i"),fe]}function YC(b){try{return decodeURI(b)}catch(k){return Cv(!1,'The URL path "'+b+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+k+").")),b}}function jC(b,k){try{return decodeURIComponent(b)}catch(K){return Cv(!1,'The value for the URL param "'+k+'" will not be decoded because'+(' the string "'+b+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+K+").")),b}}function Kh(b,k){if(k==="/")return b;if(!b.toLowerCase().startsWith(k.toLowerCase()))return null;let K=k.endsWith("/")?k.length-1:k.length,fe=b.charAt(K);return fe&&fe!=="/"?null:b.slice(K)||"/"}function ZC(b,k){k===void 0&&(k="/");let{pathname:K,search:fe="",hash:Te=""}=typeof b=="string"?gh(b):b;return{pathname:K?K.startsWith("/")?K:XC(K,k):k,search:$C(fe),hash:JC(Te)}}function XC(b,k){let K=k.replace(/\/+$/,"").split("/");return b.split("/").forEach(Te=>{Te===".."?K.length>1&&K.pop():Te!=="."&&K.push(Te)}),K.length>1?K.join("/"):"/"}function h1(b,k,K,fe){return"Cannot include a '"+b+"' character in a manually specified "+("`to."+k+"` field ["+JSON.stringify(fe)+"].  Please separate it out to the ")+("`to."+K+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Gy(b){return b.filter((k,K)=>K===0||k.route.path&&k.route.path.length>0)}function Lb(b,k,K,fe){fe===void 0&&(fe=!1);let Te;typeof b=="string"?Te=gh(b):(Te=Uo({},b),gi(!Te.pathname||!Te.pathname.includes("?"),h1("?","pathname","search",Te)),gi(!Te.pathname||!Te.pathname.includes("#"),h1("#","pathname","hash",Te)),gi(!Te.search||!Te.search.includes("#"),h1("#","search","hash",Te)));let Oe=b===""||Te.pathname==="",G=Oe?"/":Te.pathname,V;if(G==null)V=K;else if(fe){let a=k[k.length-1].replace(/^\//,"").split("/");if(G.startsWith("..")){let C=G.split("/");for(;C[0]==="..";)C.shift(),a.pop();Te.pathname=C.join("/")}V="/"+a.join("/")}else{let a=k.length-1;if(G.startsWith("..")){let C=G.split("/");for(;C[0]==="..";)C.shift(),a-=1;Te.pathname=C.join("/")}V=a>=0?k[a]:"/"}let e=ZC(Te,V),g=G&&G!=="/"&&G.endsWith("/"),_=(Oe||G===".")&&K.endsWith("/");return!e.pathname.endsWith("/")&&(g||_)&&(e.pathname+="/"),e}const fh=b=>b.join("/").replace(/\/\/+/g,"/"),KC=b=>b.replace(/\/+$/,"").replace(/^\/*/,"/"),$C=b=>!b||b==="?"?"":b.startsWith("?")?b:"?"+b,JC=b=>!b||b==="#"?"":b.startsWith("#")?b:"#"+b;class Pb{constructor(k,K,fe,Te){Te===void 0&&(Te=!1),this.status=k,this.statusText=K||"",this.internal=Te,fe instanceof Error?(this.data=fe.toString(),this.error=fe):this.data=fe}}function OA(b){return b!=null&&typeof b.status=="number"&&typeof b.statusText=="string"&&typeof b.internal=="boolean"&&"data"in b}const zA=["post","put","patch","delete"],QC=new Set(zA),qC=["get",...zA],e7=new Set(qC),t7=new Set([301,302,303,307,308]),r7=new Set([307,308]),v1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},n7={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Sp={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},FA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,a7=b=>({hasErrorBoundary:!!b.hasErrorBoundary}),NA="remix-router-transitions";function i7(b){const k=b.window?b.window:typeof window<"u"?window:void 0,K=typeof k<"u"&&typeof k.document<"u"&&typeof k.document.createElement<"u",fe=!K;gi(b.routes.length>0,"You must provide a non-empty routes array to createRouter");let Te;if(b.mapRouteProperties)Te=b.mapRouteProperties;else if(b.detectErrorBoundary){let $e=b.detectErrorBoundary;Te=st=>({hasErrorBoundary:$e(st)})}else Te=a7;let Oe={},G=yx(b.routes,Te,void 0,Oe),V,e=b.basename||"/",g=Uo({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},b.future),_=null,a=new Set,C=null,A=null,v=null,p=b.hydrationData!=null,t=xd(G,b.history.location,e),r=null;if(t==null){let $e=ff(404,{pathname:b.history.location.pathname}),{matches:st,route:ct}=A2(G);t=st,r={[ct.id]:$e}}let s=!t.some($e=>$e.route.lazy)&&(!t.some($e=>$e.route.loader)||b.hydrationData!=null),n,i={historyAction:b.history.action,location:b.history.location,matches:t,initialized:s,navigation:v1,restoreScrollPosition:b.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:b.hydrationData&&b.hydrationData.loaderData||{},actionData:b.hydrationData&&b.hydrationData.actionData||null,errors:b.hydrationData&&b.hydrationData.errors||r,fetchers:new Map,blockers:new Map},f=Xo.Pop,u=!1,y,c=!1,T=new Map,h=null,l=!1,d=!1,E=[],S=[],P=new Map,x=0,M=-1,w=new Map,o=new Set,L=new Map,m=new Map,F=new Set,I=new Map,U=new Map,z=!1;function N(){if(_=b.history.listen($e=>{let{action:st,location:ct,delta:vt}=$e;if(z){z=!1;return}Cv(U.size===0||vt!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let St=We({currentLocation:i.location,nextLocation:ct,historyAction:st});if(St&&vt!=null){z=!0,b.history.go(vt*-1),Le(St,{state:"blocked",location:ct,proceed(){Le(St,{state:"proceeding",proceed:void 0,reset:void 0,location:ct}),b.history.go(vt)},reset(){let Mt=new Map(i.blockers);Mt.set(St,Sp),H({blockers:Mt})}});return}return ie(st,ct)}),K){g7(k,T);let $e=()=>y7(k,T);k.addEventListener("pagehide",$e),h=()=>k.removeEventListener("pagehide",$e)}return i.initialized||ie(Xo.Pop,i.location),n}function B(){_&&_(),h&&h(),a.clear(),y&&y.abort(),i.fetchers.forEach(($e,st)=>he(st)),i.blockers.forEach(($e,st)=>be(st))}function O($e){return a.add($e),()=>a.delete($e)}function H($e,st){st===void 0&&(st={}),i=Uo({},i,$e);let ct=[],vt=[];g.v7_fetcherPersist&&i.fetchers.forEach((St,Mt)=>{St.state==="idle"&&(F.has(Mt)?vt.push(Mt):ct.push(Mt))}),[...a].forEach(St=>St(i,{deletedFetchers:vt,unstable_viewTransitionOpts:st.viewTransitionOpts,unstable_flushSync:st.flushSync===!0})),g.v7_fetcherPersist&&(ct.forEach(St=>i.fetchers.delete(St)),vt.forEach(St=>he(St)))}function Y($e,st,ct){var vt,St;let{flushSync:Mt}=ct===void 0?{}:ct,Bt=i.actionData!=null&&i.navigation.formMethod!=null&&rc(i.navigation.formMethod)&&i.navigation.state==="loading"&&((vt=$e.state)==null?void 0:vt._isRedirect)!==!0,Qe;st.actionData?Object.keys(st.actionData).length>0?Qe=st.actionData:Qe=null:Bt?Qe=i.actionData:Qe=null;let ke=st.loaderData?T2(i.loaderData,st.loaderData,st.matches||[],st.errors):i.loaderData,ze=i.blockers;ze.size>0&&(ze=new Map(ze),ze.forEach((we,ye)=>ze.set(ye,Sp)));let Be=u===!0||i.navigation.formMethod!=null&&rc(i.navigation.formMethod)&&((St=$e.state)==null?void 0:St._isRedirect)!==!0;V&&(G=V,V=void 0),l||f===Xo.Pop||(f===Xo.Push?b.history.push($e,$e.state):f===Xo.Replace&&b.history.replace($e,$e.state));let Re;if(f===Xo.Pop){let we=T.get(i.location.pathname);we&&we.has($e.pathname)?Re={currentLocation:i.location,nextLocation:$e}:T.has($e.pathname)&&(Re={currentLocation:$e,nextLocation:i.location})}else if(c){let we=T.get(i.location.pathname);we?we.add($e.pathname):(we=new Set([$e.pathname]),T.set(i.location.pathname,we)),Re={currentLocation:i.location,nextLocation:$e}}H(Uo({},st,{actionData:Qe,loaderData:ke,historyAction:f,location:$e,initialized:!0,navigation:v1,revalidation:"idle",restoreScrollPosition:at($e,st.matches||i.matches),preventScrollReset:Be,blockers:ze}),{viewTransitionOpts:Re,flushSync:Mt===!0}),f=Xo.Pop,u=!1,c=!1,l=!1,d=!1,E=[],S=[]}async function J($e,st){if(typeof $e=="number"){b.history.go($e);return}let ct=xx(i.location,i.matches,e,g.v7_prependBasename,$e,st==null?void 0:st.fromRouteId,st==null?void 0:st.relative),{path:vt,submission:St,error:Mt}=g2(g.v7_normalizeFormMethod,!1,ct,st),Bt=i.location,Qe=y0(i.location,vt,st&&st.state);Qe=Uo({},Qe,b.history.encodeLocation(Qe));let ke=st&&st.replace!=null?st.replace:void 0,ze=Xo.Push;ke===!0?ze=Xo.Replace:ke===!1||St!=null&&rc(St.formMethod)&&St.formAction===i.location.pathname+i.location.search&&(ze=Xo.Replace);let Be=st&&"preventScrollReset"in st?st.preventScrollReset===!0:void 0,Re=(st&&st.unstable_flushSync)===!0,we=We({currentLocation:Bt,nextLocation:Qe,historyAction:ze});if(we){Le(we,{state:"blocked",location:Qe,proceed(){Le(we,{state:"proceeding",proceed:void 0,reset:void 0,location:Qe}),J($e,st)},reset(){let ye=new Map(i.blockers);ye.set(we,Sp),H({blockers:ye})}});return}return await ie(ze,Qe,{submission:St,pendingError:Mt,preventScrollReset:Be,replace:st&&st.replace,enableViewTransition:st&&st.unstable_viewTransition,flushSync:Re})}function re(){if(ee(),H({revalidation:"loading"}),i.navigation.state!=="submitting"){if(i.navigation.state==="idle"){ie(i.historyAction,i.location,{startUninterruptedRevalidation:!0});return}ie(f||i.historyAction,i.navigation.location,{overrideNavigation:i.navigation})}}async function ie($e,st,ct){y&&y.abort(),y=null,f=$e,l=(ct&&ct.startUninterruptedRevalidation)===!0,ut(i.location,i.matches),u=(ct&&ct.preventScrollReset)===!0,c=(ct&&ct.enableViewTransition)===!0;let vt=V||G,St=ct&&ct.overrideNavigation,Mt=xd(vt,st,e),Bt=(ct&&ct.flushSync)===!0;if(!Mt){let ye=ff(404,{pathname:st.pathname}),{matches:Se,route:Me}=A2(vt);je(),Y(st,{matches:Se,loaderData:{},errors:{[Me.id]:ye}},{flushSync:Bt});return}if(i.initialized&&!d&&f7(i.location,st)&&!(ct&&ct.submission&&rc(ct.submission.formMethod))){Y(st,{matches:Mt},{flushSync:Bt});return}y=new AbortController;let Qe=Mp(b.history,st,y.signal,ct&&ct.submission),ke,ze;if(ct&&ct.pendingError)ze={[Xp(Mt).route.id]:ct.pendingError};else if(ct&&ct.submission&&rc(ct.submission.formMethod)){let ye=await ce(Qe,st,ct.submission,Mt,{replace:ct.replace,flushSync:Bt});if(ye.shortCircuited)return;ke=ye.pendingActionData,ze=ye.pendingActionError,St=d1(st,ct.submission),Bt=!1,Qe=new Request(Qe.url,{signal:Qe.signal})}let{shortCircuited:Be,loaderData:Re,errors:we}=await Q(Qe,st,Mt,St,ct&&ct.submission,ct&&ct.fetcherSubmission,ct&&ct.replace,Bt,ke,ze);Be||(y=null,Y(st,Uo({matches:Mt},ke?{actionData:ke}:{},{loaderData:Re,errors:we})))}async function ce($e,st,ct,vt,St){St===void 0&&(St={}),ee();let Mt=d7(st,ct);H({navigation:Mt},{flushSync:St.flushSync===!0});let Bt,Qe=wx(vt,st);if(!Qe.route.action&&!Qe.route.lazy)Bt={type:Ko.error,error:ff(405,{method:$e.method,pathname:st.pathname,routeId:Qe.route.id})};else if(Bt=await Ep("action",$e,Qe,vt,Oe,Te,e),$e.signal.aborted)return{shortCircuited:!0};if(_d(Bt)){let ke;return St&&St.replace!=null?ke=St.replace:ke=Bt.location===i.location.pathname+i.location.search,await te(i,Bt,{submission:ct,replace:ke}),{shortCircuited:!0}}if(Kp(Bt)){let ke=Xp(vt,Qe.route.id);return(St&&St.replace)!==!0&&(f=Xo.Push),{pendingActionData:{},pendingActionError:{[ke.route.id]:Bt.error}}}if(gv(Bt))throw ff(400,{type:"defer-action"});return{pendingActionData:{[Qe.route.id]:Bt.data}}}async function Q($e,st,ct,vt,St,Mt,Bt,Qe,ke,ze){let Be=vt||d1(st,St),Re=St||Mt||M2(Be),we=V||G,[ye,Se]=y2(b.history,i,ct,Re,st,d,E,S,L,o,we,e,ke,ze);if(je(Kt=>!(ct&&ct.some(wr=>wr.route.id===Kt))||ye&&ye.some(wr=>wr.route.id===Kt)),M=++x,ye.length===0&&Se.length===0){let Kt=Ue();return Y(st,Uo({matches:ct,loaderData:{},errors:ze||null},ke?{actionData:ke}:{},Kt?{fetchers:new Map(i.fetchers)}:{}),{flushSync:Qe}),{shortCircuited:!0}}if(!l){Se.forEach(wr=>{let yt=i.fetchers.get(wr.key),$t=Cp(void 0,yt?yt.data:void 0);i.fetchers.set(wr.key,$t)});let Kt=ke||i.actionData;H(Uo({navigation:Be},Kt?Object.keys(Kt).length===0?{actionData:null}:{actionData:Kt}:{},Se.length>0?{fetchers:new Map(i.fetchers)}:{}),{flushSync:Qe})}Se.forEach(Kt=>{P.has(Kt.key)&&Ce(Kt.key),Kt.controller&&P.set(Kt.key,Kt.controller)});let Me=()=>Se.forEach(Kt=>Ce(Kt.key));y&&y.signal.addEventListener("abort",Me);let{results:He,loaderResults:qe,fetcherResults:rt}=await se(i.matches,ct,ye,Se,$e);if($e.signal.aborted)return{shortCircuited:!0};y&&y.signal.removeEventListener("abort",Me),Se.forEach(Kt=>P.delete(Kt.key));let pt=S2(He);if(pt){if(pt.idx>=ye.length){let Kt=Se[pt.idx-ye.length].key;o.add(Kt)}return await te(i,pt.result,{replace:Bt}),{shortCircuited:!0}}let{loaderData:At,errors:jt}=w2(i,ct,ye,qe,ze,Se,rt,I);I.forEach((Kt,wr)=>{Kt.subscribe(yt=>{(yt||Kt.done)&&I.delete(wr)})});let tr=Ue(),Ct=Ve(M),Nt=tr||Ct||Se.length>0;return Uo({loaderData:At,errors:jt},Nt?{fetchers:new Map(i.fetchers)}:{})}function j($e,st,ct,vt){if(fe)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");P.has($e)&&Ce($e);let St=(vt&&vt.unstable_flushSync)===!0,Mt=V||G,Bt=xx(i.location,i.matches,e,g.v7_prependBasename,ct,st,vt==null?void 0:vt.relative),Qe=xd(Mt,Bt,e);if(!Qe){le($e,st,ff(404,{pathname:Bt}),{flushSync:St});return}let{path:ke,submission:ze,error:Be}=g2(g.v7_normalizeFormMethod,!0,Bt,vt);if(Be){le($e,st,Be,{flushSync:St});return}let Re=wx(Qe,ke);if(u=(vt&&vt.preventScrollReset)===!0,ze&&rc(ze.formMethod)){Z($e,st,ke,Re,Qe,St,ze);return}L.set($e,{routeId:st,path:ke}),$($e,st,ke,Re,Qe,St,ze)}async function Z($e,st,ct,vt,St,Mt,Bt){if(ee(),L.delete($e),!vt.route.action&&!vt.route.lazy){let yt=ff(405,{method:Bt.formMethod,pathname:ct,routeId:st});le($e,st,yt,{flushSync:Mt});return}let Qe=i.fetchers.get($e);q($e,p7(Bt,Qe),{flushSync:Mt});let ke=new AbortController,ze=Mp(b.history,ct,ke.signal,Bt);P.set($e,ke);let Be=x,Re=await Ep("action",ze,vt,St,Oe,Te,e);if(ze.signal.aborted){P.get($e)===ke&&P.delete($e);return}if(F.has($e)){q($e,_h(void 0));return}if(_d(Re))if(P.delete($e),M>Be){q($e,_h(void 0));return}else return o.add($e),q($e,Cp(Bt)),te(i,Re,{fetcherSubmission:Bt});if(Kp(Re)){le($e,st,Re.error);return}if(gv(Re))throw ff(400,{type:"defer-action"});let we=i.navigation.location||i.location,ye=Mp(b.history,we,ke.signal),Se=V||G,Me=i.navigation.state!=="idle"?xd(Se,i.navigation.location,e):i.matches;gi(Me,"Didn't find any matches after fetcher action");let He=++x;w.set($e,He);let qe=Cp(Bt,Re.data);i.fetchers.set($e,qe);let[rt,pt]=y2(b.history,i,Me,Bt,we,d,E,S,L,o,Se,e,{[vt.route.id]:Re.data},void 0);pt.filter(yt=>yt.key!==$e).forEach(yt=>{let $t=yt.key,er=i.fetchers.get($t),mr=Cp(void 0,er?er.data:void 0);i.fetchers.set($t,mr),P.has($t)&&Ce($t),yt.controller&&P.set($t,yt.controller)}),H({fetchers:new Map(i.fetchers)});let At=()=>pt.forEach(yt=>Ce(yt.key));ke.signal.addEventListener("abort",At);let{results:jt,loaderResults:tr,fetcherResults:Ct}=await se(i.matches,Me,rt,pt,ye);if(ke.signal.aborted)return;ke.signal.removeEventListener("abort",At),w.delete($e),P.delete($e),pt.forEach(yt=>P.delete(yt.key));let Nt=S2(jt);if(Nt){if(Nt.idx>=rt.length){let yt=pt[Nt.idx-rt.length].key;o.add(yt)}return te(i,Nt.result)}let{loaderData:Kt,errors:wr}=w2(i,i.matches,rt,tr,void 0,pt,Ct,I);if(i.fetchers.has($e)){let yt=_h(Re.data);i.fetchers.set($e,yt)}Ve(He),i.navigation.state==="loading"&&He>M?(gi(f,"Expected pending action"),y&&y.abort(),Y(i.navigation.location,{matches:Me,loaderData:Kt,errors:wr,fetchers:new Map(i.fetchers)})):(H({errors:wr,loaderData:T2(i.loaderData,Kt,Me,wr),fetchers:new Map(i.fetchers)}),d=!1)}async function $($e,st,ct,vt,St,Mt,Bt){let Qe=i.fetchers.get($e);q($e,Cp(Bt,Qe?Qe.data:void 0),{flushSync:Mt});let ke=new AbortController,ze=Mp(b.history,ct,ke.signal);P.set($e,ke);let Be=x,Re=await Ep("loader",ze,vt,St,Oe,Te,e);if(gv(Re)&&(Re=await HA(Re,ze.signal,!0)||Re),P.get($e)===ke&&P.delete($e),!ze.signal.aborted){if(F.has($e)){q($e,_h(void 0));return}if(_d(Re))if(M>Be){q($e,_h(void 0));return}else{o.add($e),await te(i,Re);return}if(Kp(Re)){le($e,st,Re.error);return}gi(!gv(Re),"Unhandled fetcher deferred data"),q($e,_h(Re.data))}}async function te($e,st,ct){let{submission:vt,fetcherSubmission:St,replace:Mt}=ct===void 0?{}:ct;st.revalidate&&(d=!0);let Bt=y0($e.location,st.location,{_isRedirect:!0});if(gi(Bt,"Expected a location on the redirect navigation"),K){let we=!1;if(st.reloadDocument)we=!0;else if(FA.test(st.location)){const ye=b.history.createURL(st.location);we=ye.origin!==k.location.origin||Kh(ye.pathname,e)==null}if(we){Mt?k.location.replace(st.location):k.location.assign(st.location);return}}y=null;let Qe=Mt===!0?Xo.Replace:Xo.Push,{formMethod:ke,formAction:ze,formEncType:Be}=$e.navigation;!vt&&!St&&ke&&ze&&Be&&(vt=M2($e.navigation));let Re=vt||St;if(r7.has(st.status)&&Re&&rc(Re.formMethod))await ie(Qe,Bt,{submission:Uo({},Re,{formAction:st.location}),preventScrollReset:u});else{let we=d1(Bt,vt);await ie(Qe,Bt,{overrideNavigation:we,fetcherSubmission:St,preventScrollReset:u})}}async function se($e,st,ct,vt,St){let Mt=await Promise.all([...ct.map(ke=>Ep("loader",St,ke,st,Oe,Te,e)),...vt.map(ke=>ke.matches&&ke.match&&ke.controller?Ep("loader",Mp(b.history,ke.path,ke.controller.signal),ke.match,ke.matches,Oe,Te,e):{type:Ko.error,error:ff(404,{pathname:ke.path})})]),Bt=Mt.slice(0,ct.length),Qe=Mt.slice(ct.length);return await Promise.all([E2($e,ct,Bt,Bt.map(()=>St.signal),!1,i.loaderData),E2($e,vt.map(ke=>ke.match),Qe,vt.map(ke=>ke.controller?ke.controller.signal:null),!0)]),{results:Mt,loaderResults:Bt,fetcherResults:Qe}}function ee(){d=!0,E.push(...je()),L.forEach(($e,st)=>{P.has(st)&&(S.push(st),Ce(st))})}function q($e,st,ct){ct===void 0&&(ct={}),i.fetchers.set($e,st),H({fetchers:new Map(i.fetchers)},{flushSync:(ct&&ct.flushSync)===!0})}function le($e,st,ct,vt){vt===void 0&&(vt={});let St=Xp(i.matches,st);he($e),H({errors:{[St.route.id]:ct},fetchers:new Map(i.fetchers)},{flushSync:(vt&&vt.flushSync)===!0})}function oe($e){return g.v7_fetcherPersist&&(m.set($e,(m.get($e)||0)+1),F.has($e)&&F.delete($e)),i.fetchers.get($e)||n7}function he($e){let st=i.fetchers.get($e);P.has($e)&&!(st&&st.state==="loading"&&w.has($e))&&Ce($e),L.delete($e),w.delete($e),o.delete($e),F.delete($e),i.fetchers.delete($e)}function me($e){if(g.v7_fetcherPersist){let st=(m.get($e)||0)-1;st<=0?(m.delete($e),F.add($e)):m.set($e,st)}else he($e);H({fetchers:new Map(i.fetchers)})}function Ce($e){let st=P.get($e);gi(st,"Expected fetch controller: "+$e),st.abort(),P.delete($e)}function Ae($e){for(let st of $e){let ct=oe(st),vt=_h(ct.data);i.fetchers.set(st,vt)}}function Ue(){let $e=[],st=!1;for(let ct of o){let vt=i.fetchers.get(ct);gi(vt,"Expected fetcher: "+ct),vt.state==="loading"&&(o.delete(ct),$e.push(ct),st=!0)}return Ae($e),st}function Ve($e){let st=[];for(let[ct,vt]of w)if(vt<$e){let St=i.fetchers.get(ct);gi(St,"Expected fetcher: "+ct),St.state==="loading"&&(Ce(ct),w.delete(ct),st.push(ct))}return Ae(st),st.length>0}function Pe($e,st){let ct=i.blockers.get($e)||Sp;return U.get($e)!==st&&U.set($e,st),ct}function be($e){i.blockers.delete($e),U.delete($e)}function Le($e,st){let ct=i.blockers.get($e)||Sp;gi(ct.state==="unblocked"&&st.state==="blocked"||ct.state==="blocked"&&st.state==="blocked"||ct.state==="blocked"&&st.state==="proceeding"||ct.state==="blocked"&&st.state==="unblocked"||ct.state==="proceeding"&&st.state==="unblocked","Invalid blocker state transition: "+ct.state+" -> "+st.state);let vt=new Map(i.blockers);vt.set($e,st),H({blockers:vt})}function We($e){let{currentLocation:st,nextLocation:ct,historyAction:vt}=$e;if(U.size===0)return;U.size>1&&Cv(!1,"A router only supports one blocker at a time");let St=Array.from(U.entries()),[Mt,Bt]=St[St.length-1],Qe=i.blockers.get(Mt);if(!(Qe&&Qe.state==="proceeding")&&Bt({currentLocation:st,nextLocation:ct,historyAction:vt}))return Mt}function je($e){let st=[];return I.forEach((ct,vt)=>{(!$e||$e(vt))&&(ct.cancel(),st.push(vt),I.delete(vt))}),st}function Fe($e,st,ct){if(C=$e,v=st,A=ct||null,!p&&i.navigation===v1){p=!0;let vt=at(i.location,i.matches);vt!=null&&H({restoreScrollPosition:vt})}return()=>{C=null,v=null,A=null}}function Ze($e,st){return A&&A($e,st.map(vt=>IC(vt,i.loaderData)))||$e.key}function ut($e,st){if(C&&v){let ct=Ze($e,st);C[ct]=v()}}function at($e,st){if(C){let ct=Ze($e,st),vt=C[ct];if(typeof vt=="number")return vt}return null}function it($e){Oe={},V=yx($e,Te,void 0,Oe)}return n={get basename(){return e},get state(){return i},get routes(){return G},get window(){return k},initialize:N,subscribe:O,enableScrollRestoration:Fe,navigate:J,fetch:j,revalidate:re,createHref:$e=>b.history.createHref($e),encodeLocation:$e=>b.history.encodeLocation($e),getFetcher:oe,deleteFetcher:me,dispose:B,getBlocker:Pe,deleteBlocker:be,_internalFetchControllers:P,_internalActiveDeferreds:I,_internalSetRoutes:it},n}function o7(b){return b!=null&&("formData"in b&&b.formData!=null||"body"in b&&b.body!==void 0)}function xx(b,k,K,fe,Te,Oe,G){let V,e;if(Oe){V=[];for(let _ of k)if(V.push(_),_.route.id===Oe){e=_;break}}else V=k,e=k[k.length-1];let g=Lb(Te||".",Gy(V).map(_=>_.pathnameBase),Kh(b.pathname,K)||b.pathname,G==="path");return Te==null&&(g.search=b.search,g.hash=b.hash),(Te==null||Te===""||Te===".")&&e&&e.route.index&&!_b(g.search)&&(g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index"),fe&&K!=="/"&&(g.pathname=g.pathname==="/"?K:fh([K,g.pathname])),Lv(g)}function g2(b,k,K,fe){if(!fe||!o7(fe))return{path:K};if(fe.formMethod&&!v7(fe.formMethod))return{path:K,error:ff(405,{method:fe.formMethod})};let Te=()=>({path:K,error:ff(400,{type:"invalid-body"})}),Oe=fe.formMethod||"get",G=b?Oe.toUpperCase():Oe.toLowerCase(),V=UA(K);if(fe.body!==void 0){if(fe.formEncType==="text/plain"){if(!rc(G))return Te();let C=typeof fe.body=="string"?fe.body:fe.body instanceof FormData||fe.body instanceof URLSearchParams?Array.from(fe.body.entries()).reduce((A,v)=>{let[p,t]=v;return""+A+p+"="+t+`
`},""):String(fe.body);return{path:K,submission:{formMethod:G,formAction:V,formEncType:fe.formEncType,formData:void 0,json:void 0,text:C}}}else if(fe.formEncType==="application/json"){if(!rc(G))return Te();try{let C=typeof fe.body=="string"?JSON.parse(fe.body):fe.body;return{path:K,submission:{formMethod:G,formAction:V,formEncType:fe.formEncType,formData:void 0,json:C,text:void 0}}}catch{return Te()}}}gi(typeof FormData=="function","FormData is not available in this environment");let e,g;if(fe.formData)e=bx(fe.formData),g=fe.formData;else if(fe.body instanceof FormData)e=bx(fe.body),g=fe.body;else if(fe.body instanceof URLSearchParams)e=fe.body,g=b2(e);else if(fe.body==null)e=new URLSearchParams,g=new FormData;else try{e=new URLSearchParams(fe.body),g=b2(e)}catch{return Te()}let _={formMethod:G,formAction:V,formEncType:fe&&fe.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(rc(_.formMethod))return{path:K,submission:_};let a=gh(K);return k&&a.search&&_b(a.search)&&e.append("index",""),a.search="?"+e,{path:Lv(a),submission:_}}function s7(b,k){let K=b;if(k){let fe=b.findIndex(Te=>Te.route.id===k);fe>=0&&(K=b.slice(0,fe))}return K}function y2(b,k,K,fe,Te,Oe,G,V,e,g,_,a,C,A){let v=A?Object.values(A)[0]:C?Object.values(C)[0]:void 0,p=b.createURL(k.location),t=b.createURL(Te),r=A?Object.keys(A)[0]:void 0,n=s7(K,r).filter((f,u)=>{if(f.route.lazy)return!0;if(f.route.loader==null)return!1;if(l7(k.loaderData,k.matches[u],f)||G.some(T=>T===f.route.id))return!0;let y=k.matches[u],c=f;return m2(f,Uo({currentUrl:p,currentParams:y.params,nextUrl:t,nextParams:c.params},fe,{actionResult:v,defaultShouldRevalidate:Oe||p.pathname+p.search===t.pathname+t.search||p.search!==t.search||BA(y,c)}))}),i=[];return e.forEach((f,u)=>{if(!K.some(l=>l.route.id===f.routeId))return;let y=xd(_,f.path,a);if(!y){i.push({key:u,routeId:f.routeId,path:f.path,matches:null,match:null,controller:null});return}let c=k.fetchers.get(u),T=wx(y,f.path),h=!1;g.has(u)?h=!1:V.includes(u)?h=!0:c&&c.state!=="idle"&&c.data===void 0?h=Oe:h=m2(T,Uo({currentUrl:p,currentParams:k.matches[k.matches.length-1].params,nextUrl:t,nextParams:K[K.length-1].params},fe,{actionResult:v,defaultShouldRevalidate:Oe})),h&&i.push({key:u,routeId:f.routeId,path:f.path,matches:y,match:T,controller:new AbortController})}),[n,i]}function l7(b,k,K){let fe=!k||K.route.id!==k.route.id,Te=b[K.route.id]===void 0;return fe||Te}function BA(b,k){let K=b.route.path;return b.pathname!==k.pathname||K!=null&&K.endsWith("*")&&b.params["*"]!==k.params["*"]}function m2(b,k){if(b.route.shouldRevalidate){let K=b.route.shouldRevalidate(k);if(typeof K=="boolean")return K}return k.defaultShouldRevalidate}async function x2(b,k,K){if(!b.lazy)return;let fe=await b.lazy();if(!b.lazy)return;let Te=K[b.id];gi(Te,"No route found in manifest");let Oe={};for(let G in fe){let e=Te[G]!==void 0&&G!=="hasErrorBoundary";Cv(!e,'Route "'+Te.id+'" has a static property "'+G+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+G+'" will be ignored.')),!e&&!RC.has(G)&&(Oe[G]=fe[G])}Object.assign(Te,Oe),Object.assign(Te,Uo({},k(Te),{lazy:void 0}))}async function Ep(b,k,K,fe,Te,Oe,G,V){V===void 0&&(V={});let e,g,_,a=v=>{let p,t=new Promise((r,s)=>p=s);return _=()=>p(),k.signal.addEventListener("abort",_),Promise.race([v({request:k,params:K.params,context:V.requestContext}),t])};try{let v=K.route[b];if(K.route.lazy)if(v){let p,t=await Promise.all([a(v).catch(r=>{p=r}),x2(K.route,Oe,Te)]);if(p)throw p;g=t[0]}else if(await x2(K.route,Oe,Te),v=K.route[b],v)g=await a(v);else if(b==="action"){let p=new URL(k.url),t=p.pathname+p.search;throw ff(405,{method:k.method,pathname:t,routeId:K.route.id})}else return{type:Ko.data,data:void 0};else if(v)g=await a(v);else{let p=new URL(k.url),t=p.pathname+p.search;throw ff(404,{pathname:t})}gi(g!==void 0,"You defined "+(b==="action"?"an action":"a loader")+" for route "+('"'+K.route.id+"\" but didn't return anything from your `"+b+"` ")+"function. Please return a value or `null`.")}catch(v){e=Ko.error,g=v}finally{_&&k.signal.removeEventListener("abort",_)}if(h7(g)){let v=g.status;if(t7.has(v)){let r=g.headers.get("Location");if(gi(r,"Redirects returned/thrown from loaders/actions must have a Location header"),!FA.test(r))r=xx(new URL(k.url),fe.slice(0,fe.indexOf(K)+1),G,!0,r);else if(!V.isStaticRequest){let s=new URL(k.url),n=r.startsWith("//")?new URL(s.protocol+r):new URL(r),i=Kh(n.pathname,G)!=null;n.origin===s.origin&&i&&(r=n.pathname+n.search+n.hash)}if(V.isStaticRequest)throw g.headers.set("Location",r),g;return{type:Ko.redirect,status:v,location:r,revalidate:g.headers.get("X-Remix-Revalidate")!==null,reloadDocument:g.headers.get("X-Remix-Reload-Document")!==null}}if(V.isRouteRequest)throw{type:e===Ko.error?Ko.error:Ko.data,response:g};let p,t=g.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?p=await g.json():p=await g.text(),e===Ko.error?{type:e,error:new Pb(v,g.statusText,p),headers:g.headers}:{type:Ko.data,data:p,statusCode:g.status,headers:g.headers}}if(e===Ko.error)return{type:e,error:g};if(c7(g)){var C,A;return{type:Ko.deferred,deferredData:g,statusCode:(C=g.init)==null?void 0:C.status,headers:((A=g.init)==null?void 0:A.headers)&&new Headers(g.init.headers)}}return{type:Ko.data,data:g}}function Mp(b,k,K,fe){let Te=b.createURL(UA(k)).toString(),Oe={signal:K};if(fe&&rc(fe.formMethod)){let{formMethod:G,formEncType:V}=fe;Oe.method=G.toUpperCase(),V==="application/json"?(Oe.headers=new Headers({"Content-Type":V}),Oe.body=JSON.stringify(fe.json)):V==="text/plain"?Oe.body=fe.text:V==="application/x-www-form-urlencoded"&&fe.formData?Oe.body=bx(fe.formData):Oe.body=fe.formData}return new Request(Te,Oe)}function bx(b){let k=new URLSearchParams;for(let[K,fe]of b.entries())k.append(K,typeof fe=="string"?fe:fe.name);return k}function b2(b){let k=new FormData;for(let[K,fe]of b.entries())k.append(K,fe);return k}function u7(b,k,K,fe,Te){let Oe={},G=null,V,e=!1,g={};return K.forEach((_,a)=>{let C=k[a].route.id;if(gi(!_d(_),"Cannot handle redirect results in processLoaderData"),Kp(_)){let A=Xp(b,C),v=_.error;fe&&(v=Object.values(fe)[0],fe=void 0),G=G||{},G[A.route.id]==null&&(G[A.route.id]=v),Oe[C]=void 0,e||(e=!0,V=OA(_.error)?_.error.status:500),_.headers&&(g[C]=_.headers)}else gv(_)?(Te.set(C,_.deferredData),Oe[C]=_.deferredData.data):Oe[C]=_.data,_.statusCode!=null&&_.statusCode!==200&&!e&&(V=_.statusCode),_.headers&&(g[C]=_.headers)}),fe&&(G=fe,Oe[Object.keys(fe)[0]]=void 0),{loaderData:Oe,errors:G,statusCode:V||200,loaderHeaders:g}}function w2(b,k,K,fe,Te,Oe,G,V){let{loaderData:e,errors:g}=u7(k,K,fe,Te,V);for(let _=0;_<Oe.length;_++){let{key:a,match:C,controller:A}=Oe[_];gi(G!==void 0&&G[_]!==void 0,"Did not find corresponding fetcher result");let v=G[_];if(!(A&&A.signal.aborted))if(Kp(v)){let p=Xp(b.matches,C==null?void 0:C.route.id);g&&g[p.route.id]||(g=Uo({},g,{[p.route.id]:v.error})),b.fetchers.delete(a)}else if(_d(v))gi(!1,"Unhandled fetcher revalidation redirect");else if(gv(v))gi(!1,"Unhandled fetcher deferred data");else{let p=_h(v.data);b.fetchers.set(a,p)}}return{loaderData:e,errors:g}}function T2(b,k,K,fe){let Te=Uo({},k);for(let Oe of K){let G=Oe.route.id;if(k.hasOwnProperty(G)?k[G]!==void 0&&(Te[G]=k[G]):b[G]!==void 0&&Oe.route.loader&&(Te[G]=b[G]),fe&&fe.hasOwnProperty(G))break}return Te}function Xp(b,k){return(k?b.slice(0,b.findIndex(fe=>fe.route.id===k)+1):[...b]).reverse().find(fe=>fe.route.hasErrorBoundary===!0)||b[0]}function A2(b){let k=b.length===1?b[0]:b.find(K=>K.index||!K.path||K.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:k}],route:k}}function ff(b,k){let{pathname:K,routeId:fe,method:Te,type:Oe}=k===void 0?{}:k,G="Unknown Server Error",V="Unknown @remix-run/router error";return b===400?(G="Bad Request",Te&&K&&fe?V="You made a "+Te+' request to "'+K+'" but '+('did not provide a `loader` for route "'+fe+'", ')+"so there is no way to handle the request.":Oe==="defer-action"?V="defer() is not supported in actions":Oe==="invalid-body"&&(V="Unable to encode submission body")):b===403?(G="Forbidden",V='Route "'+fe+'" does not match URL "'+K+'"'):b===404?(G="Not Found",V='No route matches URL "'+K+'"'):b===405&&(G="Method Not Allowed",Te&&K&&fe?V="You made a "+Te.toUpperCase()+' request to "'+K+'" but '+('did not provide an `action` for route "'+fe+'", ')+"so there is no way to handle the request.":Te&&(V='Invalid request method "'+Te.toUpperCase()+'"')),new Pb(b||500,G,new Error(V),!0)}function S2(b){for(let k=b.length-1;k>=0;k--){let K=b[k];if(_d(K))return{result:K,idx:k}}}function UA(b){let k=typeof b=="string"?gh(b):b;return Lv(Uo({},k,{hash:""}))}function f7(b,k){return b.pathname!==k.pathname||b.search!==k.search?!1:b.hash===""?k.hash!=="":b.hash===k.hash?!0:k.hash!==""}function gv(b){return b.type===Ko.deferred}function Kp(b){return b.type===Ko.error}function _d(b){return(b&&b.type)===Ko.redirect}function c7(b){let k=b;return k&&typeof k=="object"&&typeof k.data=="object"&&typeof k.subscribe=="function"&&typeof k.cancel=="function"&&typeof k.resolveData=="function"}function h7(b){return b!=null&&typeof b.status=="number"&&typeof b.statusText=="string"&&typeof b.headers=="object"&&typeof b.body<"u"}function v7(b){return e7.has(b.toLowerCase())}function rc(b){return QC.has(b.toLowerCase())}async function E2(b,k,K,fe,Te,Oe){for(let G=0;G<K.length;G++){let V=K[G],e=k[G];if(!e)continue;let g=b.find(a=>a.route.id===e.route.id),_=g!=null&&!BA(g,e)&&(Oe&&Oe[e.route.id])!==void 0;if(gv(V)&&(Te||_)){let a=fe[G];gi(a,"Expected an AbortSignal for revalidating fetcher deferred result"),await HA(V,a,Te).then(C=>{C&&(K[G]=C||K[G])})}}}async function HA(b,k,K){if(K===void 0&&(K=!1),!await b.deferredData.resolveData(k)){if(K)try{return{type:Ko.data,data:b.deferredData.unwrappedData}}catch(Te){return{type:Ko.error,error:Te}}return{type:Ko.data,data:b.deferredData.data}}}function _b(b){return new URLSearchParams(b).getAll("index").some(k=>k==="")}function wx(b,k){let K=typeof k=="string"?gh(k).search:k.search;if(b[b.length-1].route.index&&_b(K||""))return b[b.length-1];let fe=Gy(b);return fe[fe.length-1]}function M2(b){let{formMethod:k,formAction:K,formEncType:fe,text:Te,formData:Oe,json:G}=b;if(!(!k||!K||!fe)){if(Te!=null)return{formMethod:k,formAction:K,formEncType:fe,formData:void 0,json:void 0,text:Te};if(Oe!=null)return{formMethod:k,formAction:K,formEncType:fe,formData:Oe,json:void 0,text:void 0};if(G!==void 0)return{formMethod:k,formAction:K,formEncType:fe,formData:void 0,json:G,text:void 0}}}function d1(b,k){return k?{state:"loading",location:b,formMethod:k.formMethod,formAction:k.formAction,formEncType:k.formEncType,formData:k.formData,json:k.json,text:k.text}:{state:"loading",location:b,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function d7(b,k){return{state:"submitting",location:b,formMethod:k.formMethod,formAction:k.formAction,formEncType:k.formEncType,formData:k.formData,json:k.json,text:k.text}}function Cp(b,k){return b?{state:"loading",formMethod:b.formMethod,formAction:b.formAction,formEncType:b.formEncType,formData:b.formData,json:b.json,text:b.text,data:k}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:k}}function p7(b,k){return{state:"submitting",formMethod:b.formMethod,formAction:b.formAction,formEncType:b.formEncType,formData:b.formData,json:b.json,text:b.text,data:k?k.data:void 0}}function _h(b){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:b}}function g7(b,k){try{let K=b.sessionStorage.getItem(NA);if(K){let fe=JSON.parse(K);for(let[Te,Oe]of Object.entries(fe||{}))Oe&&Array.isArray(Oe)&&k.set(Te,new Set(Oe||[]))}}catch{}}function y7(b,k){if(k.size>0){let K={};for(let[fe,Te]of k)K[fe]=[...Te];try{b.sessionStorage.setItem(NA,JSON.stringify(K))}catch(fe){Cv(!1,"Failed to save applied view transitions in sessionStorage ("+fe+").")}}}/**
 * React Router v6.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dy(){return dy=Object.assign?Object.assign.bind():function(b){for(var k=1;k<arguments.length;k++){var K=arguments[k];for(var fe in K)Object.prototype.hasOwnProperty.call(K,fe)&&(b[fe]=K[fe])}return b},dy.apply(this,arguments)}const L0=Jr.createContext(null),Rb=Jr.createContext(null),kv=Jr.createContext(null),Wy=Jr.createContext(null),yh=Jr.createContext({outlet:null,matches:[],isDataRoute:!1}),VA=Jr.createContext(null);function m7(b,k){let{relative:K}=k===void 0?{}:k;P0()||gi(!1);let{basename:fe,navigator:Te}=Jr.useContext(kv),{hash:Oe,pathname:G,search:V}=Yy(b,{relative:K}),e=G;return fe!=="/"&&(e=G==="/"?fe:fh([fe,G])),Te.createHref({pathname:e,search:V,hash:Oe})}function P0(){return Jr.useContext(Wy)!=null}function Kd(){return P0()||gi(!1),Jr.useContext(Wy).location}function GA(b){Jr.useContext(kv).static||Jr.useLayoutEffect(b)}function WA(){let{isDataRoute:b}=Jr.useContext(yh);return b?I7():x7()}function x7(){P0()||gi(!1);let b=Jr.useContext(L0),{basename:k,navigator:K}=Jr.useContext(kv),{matches:fe}=Jr.useContext(yh),{pathname:Te}=Kd(),Oe=JSON.stringify(Gy(fe).map(e=>e.pathnameBase)),G=Jr.useRef(!1);return GA(()=>{G.current=!0}),Jr.useCallback(function(e,g){if(g===void 0&&(g={}),!G.current)return;if(typeof e=="number"){K.go(e);return}let _=Lb(e,JSON.parse(Oe),Te,g.relative==="path");b==null&&k!=="/"&&(_.pathname=_.pathname==="/"?k:fh([k,_.pathname])),(g.replace?K.replace:K.push)(_,g.state,g)},[k,K,Oe,Te,b])}const b7=Jr.createContext(null);function w7(b){let k=Jr.useContext(yh).outlet;return k&&Jr.createElement(b7.Provider,{value:b},k)}function T7(){let{matches:b}=Jr.useContext(yh),k=b[b.length-1];return k?k.params:{}}function Yy(b,k){let{relative:K}=k===void 0?{}:k,{matches:fe}=Jr.useContext(yh),{pathname:Te}=Kd(),Oe=JSON.stringify(Gy(fe).map((G,V)=>V===fe.length-1?G.pathname:G.pathnameBase));return Jr.useMemo(()=>Lb(b,JSON.parse(Oe),Te,K==="path"),[b,Oe,Te,K])}function A7(b,k,K){P0()||gi(!1);let{navigator:fe}=Jr.useContext(kv),{matches:Te}=Jr.useContext(yh),Oe=Te[Te.length-1],G=Oe?Oe.params:{};Oe&&Oe.pathname;let V=Oe?Oe.pathnameBase:"/";Oe&&Oe.route;let e=Kd(),g;if(k){var _;let p=typeof k=="string"?gh(k):k;V==="/"||(_=p.pathname)!=null&&_.startsWith(V)||gi(!1),g=p}else g=e;let a=g.pathname||"/",C=V==="/"?a:a.slice(V.length)||"/",A=xd(b,{pathname:C}),v=L7(A&&A.map(p=>Object.assign({},p,{params:Object.assign({},G,p.params),pathname:fh([V,fe.encodeLocation?fe.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?V:fh([V,fe.encodeLocation?fe.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),Te,K);return k&&v?Jr.createElement(Wy.Provider,{value:{location:dy({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Xo.Pop}},v):v}function S7(){let b=D7(),k=OA(b)?b.status+" "+b.statusText:b instanceof Error?b.message:JSON.stringify(b),K=b instanceof Error?b.stack:null,Te={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},Oe=null;return Jr.createElement(Jr.Fragment,null,Jr.createElement("h2",null,"Unexpected Application Error!"),Jr.createElement("h3",{style:{fontStyle:"italic"}},k),K?Jr.createElement("pre",{style:Te},K):null,Oe)}const E7=Jr.createElement(S7,null);class M7 extends Jr.Component{constructor(k){super(k),this.state={location:k.location,revalidation:k.revalidation,error:k.error}}static getDerivedStateFromError(k){return{error:k}}static getDerivedStateFromProps(k,K){return K.location!==k.location||K.revalidation!=="idle"&&k.revalidation==="idle"?{error:k.error,location:k.location,revalidation:k.revalidation}:{error:k.error||K.error,location:K.location,revalidation:k.revalidation||K.revalidation}}componentDidCatch(k,K){console.error("React Router caught the following error during render",k,K)}render(){return this.state.error?Jr.createElement(yh.Provider,{value:this.props.routeContext},Jr.createElement(VA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function C7(b){let{routeContext:k,match:K,children:fe}=b,Te=Jr.useContext(L0);return Te&&Te.static&&Te.staticContext&&(K.route.errorElement||K.route.ErrorBoundary)&&(Te.staticContext._deepestRenderedBoundaryId=K.route.id),Jr.createElement(yh.Provider,{value:k},fe)}function L7(b,k,K){var fe;if(k===void 0&&(k=[]),K===void 0&&(K=null),b==null){var Te;if((Te=K)!=null&&Te.errors)b=K.matches;else return null}let Oe=b,G=(fe=K)==null?void 0:fe.errors;if(G!=null){let V=Oe.findIndex(e=>e.route.id&&(G==null?void 0:G[e.route.id]));V>=0||gi(!1),Oe=Oe.slice(0,Math.min(Oe.length,V+1))}return Oe.reduceRight((V,e,g)=>{let _=e.route.id?G==null?void 0:G[e.route.id]:null,a=null;K&&(a=e.route.errorElement||E7);let C=k.concat(Oe.slice(0,g+1)),A=()=>{let v;return _?v=a:e.route.Component?v=Jr.createElement(e.route.Component,null):e.route.element?v=e.route.element:v=V,Jr.createElement(C7,{match:e,routeContext:{outlet:V,matches:C,isDataRoute:K!=null},children:v})};return K&&(e.route.ErrorBoundary||e.route.errorElement||g===0)?Jr.createElement(M7,{location:K.location,revalidation:K.revalidation,component:a,error:_,children:A(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):A()},null)}var YA=function(b){return b.UseBlocker="useBlocker",b.UseRevalidator="useRevalidator",b.UseNavigateStable="useNavigate",b}(YA||{}),py=function(b){return b.UseBlocker="useBlocker",b.UseLoaderData="useLoaderData",b.UseActionData="useActionData",b.UseRouteError="useRouteError",b.UseNavigation="useNavigation",b.UseRouteLoaderData="useRouteLoaderData",b.UseMatches="useMatches",b.UseRevalidator="useRevalidator",b.UseNavigateStable="useNavigate",b.UseRouteId="useRouteId",b}(py||{});function P7(b){let k=Jr.useContext(L0);return k||gi(!1),k}function _7(b){let k=Jr.useContext(Rb);return k||gi(!1),k}function R7(b){let k=Jr.useContext(yh);return k||gi(!1),k}function jA(b){let k=R7(),K=k.matches[k.matches.length-1];return K.route.id||gi(!1),K.route.id}function D7(){var b;let k=Jr.useContext(VA),K=_7(py.UseRouteError),fe=jA(py.UseRouteError);return k||((b=K.errors)==null?void 0:b[fe])}function I7(){let{router:b}=P7(YA.UseNavigateStable),k=jA(py.UseNavigateStable),K=Jr.useRef(!1);return GA(()=>{K.current=!0}),Jr.useCallback(function(Te,Oe){Oe===void 0&&(Oe={}),K.current&&(typeof Te=="number"?b.navigate(Te):b.navigate(Te,dy({fromRouteId:k},Oe)))},[b,k])}function k7(b){return w7(b.context)}function O7(b){let{basename:k="/",children:K=null,location:fe,navigationType:Te=Xo.Pop,navigator:Oe,static:G=!1}=b;P0()&&gi(!1);let V=k.replace(/^\/*/,"/"),e=Jr.useMemo(()=>({basename:V,navigator:Oe,static:G}),[V,Oe,G]);typeof fe=="string"&&(fe=gh(fe));let{pathname:g="/",search:_="",hash:a="",state:C=null,key:A="default"}=fe,v=Jr.useMemo(()=>{let p=Kh(g,V);return p==null?null:{location:{pathname:p,search:_,hash:a,state:C,key:A},navigationType:Te}},[V,g,_,a,C,A,Te]);return v==null?null:Jr.createElement(kv.Provider,{value:e},Jr.createElement(Wy.Provider,{children:K,value:v}))}new Promise(()=>{});function z7(b){let k={hasErrorBoundary:b.ErrorBoundary!=null||b.errorElement!=null};return b.Component&&Object.assign(k,{element:Jr.createElement(b.Component),Component:void 0}),b.ErrorBoundary&&Object.assign(k,{errorElement:Jr.createElement(b.ErrorBoundary),ErrorBoundary:void 0}),k}/**
 * React Router DOM v6.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nd(){return Nd=Object.assign?Object.assign.bind():function(b){for(var k=1;k<arguments.length;k++){var K=arguments[k];for(var fe in K)Object.prototype.hasOwnProperty.call(K,fe)&&(b[fe]=K[fe])}return b},Nd.apply(this,arguments)}function ZA(b,k){if(b==null)return{};var K={},fe=Object.keys(b),Te,Oe;for(Oe=0;Oe<fe.length;Oe++)Te=fe[Oe],!(k.indexOf(Te)>=0)&&(K[Te]=b[Te]);return K}function F7(b){return!!(b.metaKey||b.altKey||b.ctrlKey||b.shiftKey)}function N7(b,k){return b.button===0&&(!k||k==="_self")&&!F7(b)}const B7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],U7=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"];function H7(b,k){return i7({basename:k==null?void 0:k.basename,future:Nd({},k==null?void 0:k.future,{v7_prependBasename:!0}),history:LC({window:k==null?void 0:k.window}),hydrationData:(k==null?void 0:k.hydrationData)||V7(),routes:b,mapRouteProperties:z7,window:k==null?void 0:k.window}).initialize()}function V7(){var b;let k=(b=window)==null?void 0:b.__staticRouterHydrationData;return k&&k.errors&&(k=Nd({},k,{errors:G7(k.errors)})),k}function G7(b){if(!b)return null;let k=Object.entries(b),K={};for(let[fe,Te]of k)if(Te&&Te.__type==="RouteErrorResponse")K[fe]=new Pb(Te.status,Te.statusText,Te.data,Te.internal===!0);else if(Te&&Te.__type==="Error"){if(Te.__subType){let Oe=window[Te.__subType];if(typeof Oe=="function")try{let G=new Oe(Te.message);G.stack="",K[fe]=G}catch{}}if(K[fe]==null){let Oe=new Error(Te.message);Oe.stack="",K[fe]=Oe}}else K[fe]=Te;return K}const XA=Jr.createContext({isTransitioning:!1}),W7=Jr.createContext(new Map),Y7="startTransition",C2=gM[Y7],j7="flushSync",L2=CC[j7];function Z7(b){C2?C2(b):b()}function Lp(b){L2?L2(b):b()}class X7{constructor(){this.status="pending",this.promise=new Promise((k,K)=>{this.resolve=fe=>{this.status==="pending"&&(this.status="resolved",k(fe))},this.reject=fe=>{this.status==="pending"&&(this.status="rejected",K(fe))}})}}function K7(b){let{fallbackElement:k,router:K,future:fe}=b,[Te,Oe]=Jr.useState(K.state),[G,V]=Jr.useState(),[e,g]=Jr.useState({isTransitioning:!1}),[_,a]=Jr.useState(),[C,A]=Jr.useState(),[v,p]=Jr.useState(),t=Jr.useRef(new Map),{v7_startTransition:r}=fe||{},s=Jr.useCallback(y=>{r?Z7(y):y()},[r]),n=Jr.useCallback((y,c)=>{let{deletedFetchers:T,unstable_flushSync:h,unstable_viewTransitionOpts:l}=c;T.forEach(E=>t.current.delete(E)),y.fetchers.forEach((E,S)=>{E.data!==void 0&&t.current.set(S,E.data)});let d=K.window==null||typeof K.window.document.startViewTransition!="function";if(!l||d){h?Lp(()=>Oe(y)):s(()=>Oe(y));return}if(h){Lp(()=>{C&&(_&&_.resolve(),C.skipTransition()),g({isTransitioning:!0,flushSync:!0,currentLocation:l.currentLocation,nextLocation:l.nextLocation})});let E=K.window.document.startViewTransition(()=>{Lp(()=>Oe(y))});E.finished.finally(()=>{Lp(()=>{a(void 0),A(void 0),V(void 0),g({isTransitioning:!1})})}),Lp(()=>A(E));return}C?(_&&_.resolve(),C.skipTransition(),p({state:y,currentLocation:l.currentLocation,nextLocation:l.nextLocation})):(V(y),g({isTransitioning:!0,flushSync:!1,currentLocation:l.currentLocation,nextLocation:l.nextLocation}))},[K.window,C,_,t,s]);Jr.useLayoutEffect(()=>K.subscribe(n),[K,n]),Jr.useEffect(()=>{e.isTransitioning&&!e.flushSync&&a(new X7)},[e]),Jr.useEffect(()=>{if(_&&G&&K.window){let y=G,c=_.promise,T=K.window.document.startViewTransition(async()=>{s(()=>Oe(y)),await c});T.finished.finally(()=>{a(void 0),A(void 0),V(void 0),g({isTransitioning:!1})}),A(T)}},[s,G,_,K.window]),Jr.useEffect(()=>{_&&G&&Te.location.key===G.location.key&&_.resolve()},[_,C,Te.location,G]),Jr.useEffect(()=>{!e.isTransitioning&&v&&(V(v.state),g({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),p(void 0))},[e.isTransitioning,v]);let i=Jr.useMemo(()=>({createHref:K.createHref,encodeLocation:K.encodeLocation,go:y=>K.navigate(y),push:(y,c,T)=>K.navigate(y,{state:c,preventScrollReset:T==null?void 0:T.preventScrollReset}),replace:(y,c,T)=>K.navigate(y,{replace:!0,state:c,preventScrollReset:T==null?void 0:T.preventScrollReset})}),[K]),f=K.basename||"/",u=Jr.useMemo(()=>({router:K,navigator:i,static:!1,basename:f}),[K,i,f]);return Jr.createElement(Jr.Fragment,null,Jr.createElement(L0.Provider,{value:u},Jr.createElement(Rb.Provider,{value:Te},Jr.createElement(W7.Provider,{value:t.current},Jr.createElement(XA.Provider,{value:e},Jr.createElement(O7,{basename:f,location:Te.location,navigationType:Te.historyAction,navigator:i},Te.initialized?Jr.createElement($7,{routes:K.routes,state:Te}):k))))),null)}function $7(b){let{routes:k,state:K}=b;return A7(k,void 0,K)}const J7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Q7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Db=Jr.forwardRef(function(k,K){let{onClick:fe,relative:Te,reloadDocument:Oe,replace:G,state:V,target:e,to:g,preventScrollReset:_,unstable_viewTransition:a}=k,C=ZA(k,B7),{basename:A}=Jr.useContext(kv),v,p=!1;if(typeof g=="string"&&Q7.test(g)&&(v=g,J7))try{let n=new URL(window.location.href),i=g.startsWith("//")?new URL(n.protocol+g):new URL(g),f=Kh(i.pathname,A);i.origin===n.origin&&f!=null?g=f+i.search+i.hash:p=!0}catch{}let t=m7(g,{relative:Te}),r=e9(g,{replace:G,state:V,target:e,preventScrollReset:_,relative:Te,unstable_viewTransition:a});function s(n){fe&&fe(n),n.defaultPrevented||r(n)}return Jr.createElement("a",Nd({},C,{href:v||t,onClick:p||Oe?fe:s,ref:K,target:e}))}),P2=Jr.forwardRef(function(k,K){let{"aria-current":fe="page",caseSensitive:Te=!1,className:Oe="",end:G=!1,style:V,to:e,unstable_viewTransition:g,children:_}=k,a=ZA(k,U7),C=Yy(e,{relative:a.relative}),A=Kd(),v=Jr.useContext(Rb),{navigator:p}=Jr.useContext(kv),t=v!=null&&t9(C)&&g===!0,r=p.encodeLocation?p.encodeLocation(C).pathname:C.pathname,s=A.pathname,n=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;Te||(s=s.toLowerCase(),n=n?n.toLowerCase():null,r=r.toLowerCase());const i=r!=="/"&&r.endsWith("/")?r.length-1:r.length;let f=s===r||!G&&s.startsWith(r)&&s.charAt(i)==="/",u=n!=null&&(n===r||!G&&n.startsWith(r)&&n.charAt(r.length)==="/"),y={isActive:f,isPending:u,isTransitioning:t},c=f?fe:void 0,T;typeof Oe=="function"?T=Oe(y):T=[Oe,f?"active":null,u?"pending":null,t?"transitioning":null].filter(Boolean).join(" ");let h=typeof V=="function"?V(y):V;return Jr.createElement(Db,Nd({},a,{"aria-current":c,className:T,ref:K,style:h,to:e,unstable_viewTransition:g}),typeof _=="function"?_(y):_)});var Tx;(function(b){b.UseScrollRestoration="useScrollRestoration",b.UseSubmit="useSubmit",b.UseSubmitFetcher="useSubmitFetcher",b.UseFetcher="useFetcher",b.useViewTransitionState="useViewTransitionState"})(Tx||(Tx={}));var _2;(function(b){b.UseFetcher="useFetcher",b.UseFetchers="useFetchers",b.UseScrollRestoration="useScrollRestoration"})(_2||(_2={}));function q7(b){let k=Jr.useContext(L0);return k||gi(!1),k}function e9(b,k){let{target:K,replace:fe,state:Te,preventScrollReset:Oe,relative:G,unstable_viewTransition:V}=k===void 0?{}:k,e=WA(),g=Kd(),_=Yy(b,{relative:G});return Jr.useCallback(a=>{if(N7(a,K)){a.preventDefault();let C=fe!==void 0?fe:Lv(g)===Lv(_);e(b,{replace:C,state:Te,preventScrollReset:Oe,relative:G,unstable_viewTransition:V})}},[g,e,_,fe,Te,K,b,Oe,G,V])}function t9(b,k){k===void 0&&(k={});let K=Jr.useContext(XA);K==null&&gi(!1);let{basename:fe}=q7(Tx.useViewTransitionState),Te=Yy(b,{relative:k.relative});if(!K.isTransitioning)return!1;let Oe=Kh(K.currentLocation.pathname,fe)||K.currentLocation.pathname,G=Kh(K.nextLocation.pathname,fe)||K.nextLocation.pathname;return mx(Te.pathname,G)!=null||mx(Te.pathname,Oe)!=null}const jy=Jr.createContext("brno");function r9(){const[b,k]=Jr.useState("brno"),K=Kd(),fe=WA();function Te(Oe){k(Oe.target.value),K.pathname.startsWith("/topic/")&&fe("/topics")}return ua.jsxs(ua.Fragment,{children:[ua.jsx("nav",{className:"navbar navbar-expand-lg navbar-dark text-bg-dark shadow-sm sticky-top",children:ua.jsxs("div",{className:"container-fluid",children:[ua.jsx(Db,{to:"/",className:"navbar-brand",children:ua.jsx("strong",{children:"OpinioNet"})}),ua.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#main-menu",children:ua.jsx("span",{className:"navbar-toggler-icon"})}),ua.jsxs("div",{className:"collapse navbar-collapse",id:"main-menu",children:[ua.jsx("form",{className:"d-flex",children:ua.jsxs("select",{className:"form-select",value:b,onChange:Te,children:[ua.jsx("option",{value:"brno",children:"Brno"}),ua.jsx("option",{value:"ostrava",children:"Ostrava"})]})}),ua.jsxs("ul",{className:"navbar-nav",children:[ua.jsx("li",{className:"nav-item",children:ua.jsx(P2,{to:"/",className:"nav-link",children:"Dashboard"})}),ua.jsx("li",{children:ua.jsx(P2,{to:"/topics",className:"nav-link",children:"Topics"})})]})]})]})}),ua.jsx("div",{className:"container-fluid px-4 py-3",children:ua.jsx(jy.Provider,{value:b,children:ua.jsx(k7,{})})})]})}var KA={exports:{}},n9="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",a9=n9,i9=a9;function $A(){}function JA(){}JA.resetWarningCache=$A;var o9=function(){function b(fe,Te,Oe,G,V,e){if(e!==i9){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}b.isRequired=b;function k(){return b}var K={array:b,bigint:b,bool:b,func:b,number:b,object:b,string:b,symbol:b,any:b,arrayOf:k,element:b,elementType:b,instanceOf:k,node:b,objectOf:k,oneOf:k,oneOfType:k,shape:k,exact:k,checkPropTypes:JA,resetWarningCache:$A};return K.PropTypes=K,K};KA.exports=o9();var QA=KA.exports;const Di=Rv(QA);var Zy={};function qA(b,k){k=k||{};var K=k.preserveNumbers,fe=function(Oe){return Oe.trim()},Te={};return l9(b).map(fe).filter(Boolean).forEach(function(Oe){var G=Oe.indexOf(":"),V=Oe.substr(0,G).trim(),e=Oe.substr(G+1).trim();K&&s9(e)&&(e=Number(e)),Te[V]=e}),Te}function s9(b){return!isNaN(parseFloat(b))&&isFinite(b)}function l9(b){for(var k=[],K=0,fe=";",Te=/url\([^\)]+$/,Oe="",G;K<b.length;){if(G=b.indexOf(fe,K),G===-1&&(G=b.length),Oe+=b.substring(K,G),Te.test(Oe)){Oe+=";",K=G+1;continue}k.push(Oe),Oe="",K=G+1}return k}function e4(b){return Object.keys(b).map(function(k){return k+":"+b[k]}).join(";")}function u9(b,k){return e4(qA(b,k))}Zy.parse=qA;Zy.stringify=e4;Zy.normalize=u9;var t4={exports:{}},f9=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,c9=/^(?:button|input|object|select|textarea)$/i,h9=/^a(?:rea)?$/i,v9=/:|^on/,r4={},Ib,oh={tabindex:{get:function(b){var k=b.getAttributeNode("tabindex");return k&&k.specified?parseInt(k.value,10):c9.test(b.nodeName)||h9.test(b.nodeName)&&b.href?0:void 0}}},d9={get:function(b,k){return b[Ib[k]||k]?k.toLowerCase():void 0}},gy={};oh.style={get:function(b){return b.style.cssText}};Ib={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"};var p9=typeof navigator<"u"?navigator.userAgent:"",m0=typeof document<"u"?document:{};function g9(b){var k=0;return parseFloat(b.replace(/\./g,function(){return k++===0?".":""}))}function y9(){var b,k;if((b=p9.match(/MSIE ([^;]*)|Trident.*; rv(?:\s|:)?([0-9.]+)/))&&(k=b[1]||b[2]))return m0.documentMode||g9(k)}function R2(b,k){for(var K in k)b[K]=k[K]}function m9(b,k){for(var K=0,fe=b.length;K<fe&&k(b[K],K)!==!1;K++);}var x0=y9();x0&&x0<8&&(oh.style.set=function(b,k){b.style.cssText=k},R2(gy,{get:function(b,k){var K=b.getAttributeNode(k);return K&&(K.specified||K.nodeValue)?K.nodeValue:void 0}}),R2(r4,Ib),oh.tabIndex=oh.tabindex,m9(["href","src","width","height","colSpan","rowSpan"],function(b){oh[b]={get:function(k){var K=k.getAttribute(b,2);return K===null?void 0:K}}}),oh.placeholder={get:function(b,k){return b[k]||gy.get(b,k)}});if(x0){var x9=oh.href=oh.href||{};x9.set=function(b,k,K){var fe=b.childNodes,Te,Oe=fe.length,G=Oe>0;for(Oe=Oe-1;Oe>=0;Oe--)fe[Oe].nodeType!==3&&(G=0);G&&(Te=b.ownerDocument.createElement("b"),Te.style.display="none",b.appendChild(Te)),b.setAttribute(K,""+k),Te&&b.removeChild(Te)}}var b9=/^[\s\xa0]+|[\s\xa0]+$/g,D2=String.prototype.trim,Pp=" ",kb;kb=function(b,k){return k.getElementsByTagName(b)};if(m0.createElement){var I2=m0.createElement("div");I2.appendChild(document.createComment("")),I2.getElementsByTagName("*").length&&(kb=function(b,k){var K=k.getElementsByTagName(b),fe=b==="*";if(fe||typeof K.length!="number"){for(var Te=[],Oe=0,G;G=K[Oe++];)(!fe||G.nodeType===1)&&Te.push(G);return Te}else return K})}var w9="sourceIndex"in(m0&&m0.documentElement||{})?function(b,k){return b.sourceIndex-k.sourceIndex}:function(b,k){if(!b.compareDocumentPosition||!k.compareDocumentPosition)return b.compareDocumentPosition?-1:1;var K=b.compareDocumentPosition(k)&4;return K?-1:1},T9=t4.exports={ie:x0,unique:function(){var b,k=!0;[0,0].sort(function(){return k=!1,0});function K(fe,Te){return fe===Te?(b=!0,0):w9(fe,Te)}return function(fe){if(b=k,fe.sort(K),b)for(var Te=1,Oe=fe.length;Te<Oe;)fe[Te]===fe[Te-1]?(fe.splice(Te,1),--Oe):Te++;return fe}}(),getElementsByTagName:kb,getSimpleAttr:function(b,k){var K=b&&b.getAttributeNode(k);if(K&&K.specified)return"value"in K?K.value:K.nodeValue},contains:x0?function(b,k){return b.nodeType===9&&(b=b.documentElement),k=k.parentNode,b===k?!0:k&&k.nodeType===1?b.contains&&b.contains(k):!1}:function(b,k){return!!(b.compareDocumentPosition(k)&16)},isTag:function(b,k){return k==="*"||b.nodeName.toLowerCase()===k.toLowerCase()},hasSingleClass:function(b,k){var K=b&&T9.getSimpleAttr(b,"class");return K&&(K=K.replace(/[\r\t\n]/g,Pp))&&(Pp+K+Pp).indexOf(Pp+k+Pp)>-1},startsWith:function(b,k){return b.lastIndexOf(k,0)===0},endsWith:function(b,k){var K=b.length-k.length;return K>=0&&b.indexOf(k,K)===K},trim:D2?function(b){return b==null?"":D2.call(b)}:function(b){return b==null?"":(b+"").replace(b9,"")},attr:function(b,k){var K,fe;if(k=k.toLowerCase(),k=r4[k]||k,f9.test(k)?K=d9:v9.test(k)?K=gy:K=oh[k],b&&b.nodeType===1){if(b.nodeName.toLowerCase()==="form"&&(K=gy),K&&K.get)return K.get(b,k);if(fe=b.getAttribute(k),fe===""){var Te=b.getAttributeNode(k);if(!Te||!Te.specified)return}return fe===null?void 0:fe}}},A9=t4.exports,n4={exports:{}};(function(b){var k=function(K){var fe={},Te={SHIFT_TYPE:1,REDUCE_TYPE:2,ACCEPT_TYPE:0,TYPE_INDEX:0,PRODUCTION_INDEX:1,TO_INDEX:2};function Oe(a,C){for(var A in C)a[A]=C[A]}function G(a){return Object.prototype.toString.call(a)==="[object Array]"}function V(a,C,A){if(a){var v,p,t,r=0;if(A=A||null,G(a))for(t=a.length,p=a[0];r<t&&C.call(A,p,r,a)!==!1;p=a[++r]);else for(v in a)if(C.call(A,a[v],v,a)===!1)break}}function e(a,C){for(var A=0,v=C.length;A<v;A++)if(C[A]===a)return!0;return!1}var g=function(C){var A=this;A.rules=[],Oe(A,C),A.resetInput(A.input)};g.prototype={resetInput:function(a){Oe(this,{input:a,matched:"",stateStack:[g.STATIC.INITIAL],match:"",text:"",firstLine:1,lineNumber:1,lastLine:1,firstColumn:1,lastColumn:1})},getCurrentRules:function(){var a=this,C=a.stateStack[a.stateStack.length-1],A=[];return a.mapState&&(C=a.mapState(C)),V(a.rules,function(v){var p=v.state||v[3];p?e(C,p)&&A.push(v):C===g.STATIC.INITIAL&&A.push(v)}),A},pushState:function(a){this.stateStack.push(a)},popState:function(a){a=a||1;for(var C;a--;)C=this.stateStack.pop();return C},showDebugInfo:function(){var a=this,C=g.STATIC.DEBUG_CONTEXT_LIMIT,A=a.matched,v=a.match,p=a.input;A=A.slice(0,A.length-v.length);var t=(A.length>C?"...":"")+A.slice(0-C).replace(/\n/," "),r=v+p;return r=r.slice(0,C)+(r.length>C?"...":""),t+r+`
`+new Array(t.length+1).join("-")+"^"},mapSymbol:function(C){return this.symbolMap[C]},mapReverseSymbol:function(a){var C=this,A=C.symbolMap,v,p=C.reverseSymbolMap;if(!p&&A){p=C.reverseSymbolMap={};for(v in A)p[A[v]]=v}return p?p[a]:a},lex:function(){var a=this,C=a.input,A,v,p,t,r,s=a.getCurrentRules();if(a.match=a.text="",!C)return a.mapSymbol(g.STATIC.END_TAG);for(A=0;A<s.length;A++){v=s[A];var n=v.regexp||v[1],i=v.token||v[0],f=v.action||v[2]||K;if(p=C.match(n)){r=p[0].match(/\n.*/g),r&&(a.lineNumber+=r.length),Oe(a,{firstLine:a.lastLine,lastLine:a.lineNumber+1,firstColumn:a.lastColumn,lastColumn:r?r[r.length-1].length-1:a.lastColumn+p[0].length});var u;return u=a.match=p[0],a.matches=p,a.text=u,a.matched+=u,t=f&&f.call(a),t===K?t=i:t=a.mapSymbol(t),C=C.slice(u.length),a.input=C,t||a.lex()}}}},g.STATIC={INITIAL:"I",DEBUG_CONTEXT_LIMIT:20,END_TAG:"$EOF"};var _=new g({rules:[["b",/^\[(?:[\t\r\n\f\x20]*)/,function(){this.text=this.yy.trim(this.text)}],["c",/^(?:[\t\r\n\f\x20]*)\]/,function(){this.text=this.yy.trim(this.text)}],["d",/^(?:[\t\r\n\f\x20]*)~=(?:[\t\r\n\f\x20]*)/,function(){this.text=this.yy.trim(this.text)}],["e",/^(?:[\t\r\n\f\x20]*)\|=(?:[\t\r\n\f\x20]*)/,function(){this.text=this.yy.trim(this.text)}],["f",/^(?:[\t\r\n\f\x20]*)\^=(?:[\t\r\n\f\x20]*)/,function(){this.text=this.yy.trim(this.text)}],["g",/^(?:[\t\r\n\f\x20]*)\$=(?:[\t\r\n\f\x20]*)/,function(){this.text=this.yy.trim(this.text)}],["h",/^(?:[\t\r\n\f\x20]*)\*=(?:[\t\r\n\f\x20]*)/,function(){this.text=this.yy.trim(this.text)}],["i",/^(?:[\t\r\n\f\x20]*)\=(?:[\t\r\n\f\x20]*)/,function(){this.text=this.yy.trim(this.text)}],["j",/^(?:(?:[\w]|[^\x00-\xa0]|(?:\\[^\n\r\f0-9a-f]))(?:[\w\d-]|[^\x00-\xa0]|(?:\\[^\n\r\f0-9a-f]))*)\(/,function(){this.text=this.yy.trim(this.text).slice(0,-1),this.pushState("fn")}],["k",/^[^\)]*/,function(){this.popState()},["fn"]],["l",/^(?:[\t\r\n\f\x20]*)\)/,function(){this.text=this.yy.trim(this.text)}],["m",/^:not\((?:[\t\r\n\f\x20]*)/i,function(){this.text=this.yy.trim(this.text)}],["n",/^(?:(?:[\w]|[^\x00-\xa0]|(?:\\[^\n\r\f0-9a-f]))(?:[\w\d-]|[^\x00-\xa0]|(?:\\[^\n\r\f0-9a-f]))*)/,function(){this.text=this.yy.unEscape(this.text)}],["o",/^"(\\"|[^"])*"/,function(){this.text=this.yy.unEscapeStr(this.text)}],["o",/^'(\\'|[^'])*'/,function(){this.text=this.yy.unEscapeStr(this.text)}],["p",/^#(?:(?:[\w\d-]|[^\x00-\xa0]|(?:\\[^\n\r\f0-9a-f]))+)/,function(){this.text=this.yy.unEscape(this.text.slice(1))}],["q",/^\.(?:(?:[\w]|[^\x00-\xa0]|(?:\\[^\n\r\f0-9a-f]))(?:[\w\d-]|[^\x00-\xa0]|(?:\\[^\n\r\f0-9a-f]))*)/,function(){this.text=this.yy.unEscape(this.text.slice(1))}],["r",/^(?:[\t\r\n\f\x20]*),(?:[\t\r\n\f\x20]*)/,function(){this.text=this.yy.trim(this.text)}],["s",/^::?/,0],["t",/^(?:[\t\r\n\f\x20]*)\+(?:[\t\r\n\f\x20]*)/,function(){this.text=this.yy.trim(this.text)}],["u",/^(?:[\t\r\n\f\x20]*)>(?:[\t\r\n\f\x20]*)/,function(){this.text=this.yy.trim(this.text)}],["v",/^(?:[\t\r\n\f\x20]*)~(?:[\t\r\n\f\x20]*)/,function(){this.text=this.yy.trim(this.text)}],["w",/^\*/,0],["x",/^(?:[\t\r\n\f\x20]+)/,0],["y",/^./,0]]});return fe.lexer=_,_.symbolMap={$EOF:"a",LEFT_BRACKET:"b",RIGHT_BRACKET:"c",INCLUDES:"d",DASH_MATCH:"e",PREFIX_MATCH:"f",SUFFIX_MATCH:"g",SUBSTRING_MATCH:"h",ALL_MATCH:"i",FUNCTION:"j",PARAMETER:"k",RIGHT_PARENTHESES:"l",NOT:"m",IDENT:"n",STRING:"o",HASH:"p",CLASS:"q",COMMA:"r",COLON:"s",PLUS:"t",GREATER:"u",TILDE:"v",UNIVERSAL:"w",S:"x",INVALID:"y",$START:"z",selectors_group:"aa",selector:"ab",simple_selector_sequence:"ac",combinator:"ad",type_selector:"ae",id_selector:"af",class_selector:"ag",attrib_match:"ah",attrib:"ai",attrib_val:"aj",pseudo:"ak",negation:"al",negation_arg:"am",suffix_selector:"an",suffix_selectors:"ao"},fe.productions=[["z",["aa"]],["aa",["ab"],function(){return[this.$1]}],["aa",["aa","r","ab"],function(){this.$1.push(this.$3)}],["ab",["ac"]],["ab",["ab","ad","ac"],function(){this.$1.nextCombinator=this.$3.prevCombinator=this.$2;var a;return a=this.$1.order=this.$1.order||0,this.$3.order=a+1,this.$3.prev=this.$1,this.$1.next=this.$3,this.$3}],["ad",["t"]],["ad",["u"]],["ad",["v"]],["ad",["x"],function(){return" "}],["ae",["n"],function(){return{t:"tag",value:this.$1}}],["ae",["w"],function(){return{t:"tag",value:this.$1}}],["af",["p"],function(){return{t:"id",value:this.$1}}],["ag",["q"],function(){return{t:"cls",value:this.$1}}],["ah",["f"]],["ah",["g"]],["ah",["h"]],["ah",["i"]],["ah",["d"]],["ah",["e"]],["ai",["b","n","c"],function(){return{t:"attrib",value:{ident:this.$2}}}],["aj",["n"]],["aj",["o"]],["ai",["b","n","ah","aj","c"],function(){return{t:"attrib",value:{ident:this.$2,match:this.$3,value:this.$4}}}],["ak",["s","j","k","l"],function(){return{t:"pseudo",value:{fn:this.$2.toLowerCase(),param:this.$3}}}],["ak",["s","n"],function(){return{t:"pseudo",value:{ident:this.$2.toLowerCase()}}}],["al",["m","am","l"],function(){return{t:"pseudo",value:{fn:"not",param:this.$2}}}],["am",["ae"]],["am",["af"]],["am",["ag"]],["am",["ai"]],["am",["ak"]],["an",["af"]],["an",["ag"]],["an",["ai"]],["an",["ak"]],["an",["al"]],["ao",["an"],function(){return[this.$1]}],["ao",["ao","an"],function(){this.$1.push(this.$2)}],["ac",["ae"]],["ac",["ao"],function(){return{suffix:this.$1}}],["ac",["ae","ao"],function(){return{t:"tag",value:this.$1.value,suffix:this.$2}}]],fe.table={gotos:{0:{aa:8,ab:9,ae:10,af:11,ag:12,ai:13,ak:14,al:15,an:16,ao:17,ac:18},2:{ae:20,af:21,ag:22,ai:23,ak:24,am:25},9:{ad:33},10:{af:11,ag:12,ai:13,ak:14,al:15,an:16,ao:34},17:{af:11,ag:12,ai:13,ak:14,al:15,an:35},19:{ah:43},28:{ab:46,ae:10,af:11,ag:12,ai:13,ak:14,al:15,an:16,ao:17,ac:18},33:{ae:10,af:11,ag:12,ai:13,ak:14,al:15,an:16,ao:17,ac:47},34:{af:11,ag:12,ai:13,ak:14,al:15,an:35},43:{aj:50},46:{ad:33}},action:{0:{b:[1,K,1],m:[1,K,2],n:[1,K,3],p:[1,K,4],q:[1,K,5],s:[1,K,6],w:[1,K,7]},1:{n:[1,K,19]},2:{b:[1,K,1],n:[1,K,3],p:[1,K,4],q:[1,K,5],s:[1,K,6],w:[1,K,7]},3:{a:[2,9],r:[2,9],t:[2,9],u:[2,9],v:[2,9],x:[2,9],p:[2,9],q:[2,9],b:[2,9],s:[2,9],m:[2,9],l:[2,9]},4:{a:[2,11],r:[2,11],t:[2,11],u:[2,11],v:[2,11],x:[2,11],p:[2,11],q:[2,11],b:[2,11],s:[2,11],m:[2,11],l:[2,11]},5:{a:[2,12],r:[2,12],t:[2,12],u:[2,12],v:[2,12],x:[2,12],p:[2,12],q:[2,12],b:[2,12],s:[2,12],m:[2,12],l:[2,12]},6:{j:[1,K,26],n:[1,K,27]},7:{a:[2,10],r:[2,10],t:[2,10],u:[2,10],v:[2,10],x:[2,10],p:[2,10],q:[2,10],b:[2,10],s:[2,10],m:[2,10],l:[2,10]},8:{a:[0],r:[1,K,28]},9:{a:[2,1],r:[2,1],t:[1,K,29],u:[1,K,30],v:[1,K,31],x:[1,K,32]},10:{a:[2,38],r:[2,38],t:[2,38],u:[2,38],v:[2,38],x:[2,38],b:[1,K,1],m:[1,K,2],p:[1,K,4],q:[1,K,5],s:[1,K,6]},11:{a:[2,31],r:[2,31],t:[2,31],u:[2,31],v:[2,31],x:[2,31],p:[2,31],q:[2,31],b:[2,31],s:[2,31],m:[2,31]},12:{a:[2,32],r:[2,32],t:[2,32],u:[2,32],v:[2,32],x:[2,32],p:[2,32],q:[2,32],b:[2,32],s:[2,32],m:[2,32]},13:{a:[2,33],r:[2,33],t:[2,33],u:[2,33],v:[2,33],x:[2,33],p:[2,33],q:[2,33],b:[2,33],s:[2,33],m:[2,33]},14:{a:[2,34],r:[2,34],t:[2,34],u:[2,34],v:[2,34],x:[2,34],p:[2,34],q:[2,34],b:[2,34],s:[2,34],m:[2,34]},15:{a:[2,35],r:[2,35],t:[2,35],u:[2,35],v:[2,35],x:[2,35],p:[2,35],q:[2,35],b:[2,35],s:[2,35],m:[2,35]},16:{a:[2,36],r:[2,36],t:[2,36],u:[2,36],v:[2,36],x:[2,36],p:[2,36],q:[2,36],b:[2,36],s:[2,36],m:[2,36]},17:{a:[2,39],r:[2,39],t:[2,39],u:[2,39],v:[2,39],x:[2,39],b:[1,K,1],m:[1,K,2],p:[1,K,4],q:[1,K,5],s:[1,K,6]},18:{a:[2,3],r:[2,3],t:[2,3],u:[2,3],v:[2,3],x:[2,3]},19:{c:[1,K,36],d:[1,K,37],e:[1,K,38],f:[1,K,39],g:[1,K,40],h:[1,K,41],i:[1,K,42]},20:{l:[2,26]},21:{l:[2,27]},22:{l:[2,28]},23:{l:[2,29]},24:{l:[2,30]},25:{l:[1,K,44]},26:{k:[1,K,45]},27:{a:[2,24],r:[2,24],t:[2,24],u:[2,24],v:[2,24],x:[2,24],p:[2,24],q:[2,24],b:[2,24],s:[2,24],m:[2,24],l:[2,24]},28:{b:[1,K,1],m:[1,K,2],n:[1,K,3],p:[1,K,4],q:[1,K,5],s:[1,K,6],w:[1,K,7]},29:{n:[2,5],w:[2,5],p:[2,5],q:[2,5],b:[2,5],s:[2,5],m:[2,5]},30:{n:[2,6],w:[2,6],p:[2,6],q:[2,6],b:[2,6],s:[2,6],m:[2,6]},31:{n:[2,7],w:[2,7],p:[2,7],q:[2,7],b:[2,7],s:[2,7],m:[2,7]},32:{n:[2,8],w:[2,8],p:[2,8],q:[2,8],b:[2,8],s:[2,8],m:[2,8]},33:{b:[1,K,1],m:[1,K,2],n:[1,K,3],p:[1,K,4],q:[1,K,5],s:[1,K,6],w:[1,K,7]},34:{a:[2,40],r:[2,40],t:[2,40],u:[2,40],v:[2,40],x:[2,40],b:[1,K,1],m:[1,K,2],p:[1,K,4],q:[1,K,5],s:[1,K,6]},35:{a:[2,37],r:[2,37],t:[2,37],u:[2,37],v:[2,37],x:[2,37],p:[2,37],q:[2,37],b:[2,37],s:[2,37],m:[2,37]},36:{a:[2,19],r:[2,19],t:[2,19],u:[2,19],v:[2,19],x:[2,19],p:[2,19],q:[2,19],b:[2,19],s:[2,19],m:[2,19],l:[2,19]},37:{n:[2,17],o:[2,17]},38:{n:[2,18],o:[2,18]},39:{n:[2,13],o:[2,13]},40:{n:[2,14],o:[2,14]},41:{n:[2,15],o:[2,15]},42:{n:[2,16],o:[2,16]},43:{n:[1,K,48],o:[1,K,49]},44:{a:[2,25],r:[2,25],t:[2,25],u:[2,25],v:[2,25],x:[2,25],p:[2,25],q:[2,25],b:[2,25],s:[2,25],m:[2,25]},45:{l:[1,K,51]},46:{a:[2,2],r:[2,2],t:[1,K,29],u:[1,K,30],v:[1,K,31],x:[1,K,32]},47:{a:[2,4],r:[2,4],t:[2,4],u:[2,4],v:[2,4],x:[2,4]},48:{c:[2,20]},49:{c:[2,21]},50:{c:[1,K,52]},51:{a:[2,23],r:[2,23],t:[2,23],u:[2,23],v:[2,23],x:[2,23],p:[2,23],q:[2,23],b:[2,23],s:[2,23],m:[2,23],l:[2,23]},52:{a:[2,22],r:[2,22],t:[2,22],u:[2,22],v:[2,22],x:[2,22],p:[2,22],q:[2,22],b:[2,22],s:[2,22],m:[2,22],l:[2,22]}}},fe.parse=function(C,A){var v=this,p=v.lexer,t,r,s,n=v.table,i=n.gotos,f=n.action,u=v.productions,y=[null],c=A?"in file: "+A+" ":"",T=[0];for(p.resetInput(C);;){if(t=T[T.length-1],r||(r=p.lex()),r?s=f[t]&&f[t][r]:s=null,!s){var h=[],l;if(f[t])for(var d in f[t])h.push(v.lexer.mapReverseSymbol(d));throw l=c+"syntax error at line "+p.lineNumber+`:
`+p.showDebugInfo()+`
expect `+h.join(", "),new Error(l)}switch(s[Te.TYPE_INDEX]){case Te.SHIFT_TYPE:T.push(r),y.push(p.text),T.push(s[Te.TO_INDEX]),r=null;break;case Te.REDUCE_TYPE:var E=u[s[Te.PRODUCTION_INDEX]],S=E.symbol||E[0],P=E.action||E[2],x=E.rhs||E[1],M=x.length,w=0,o,L=y[y.length-M];for(o=K,v.$$=L;w<M;w++)v["$"+(M-w)]=y[y.length-1-w];P&&(o=P.call(v)),o!==K?L=o:L=v.$$,T=T.slice(0,-1*M*2),y=y.slice(0,-1*M),T.push(S),y.push(L);var m=i[T[T.length-2]][T[T.length-1]];T.push(m);break;case Te.ACCEPT_TYPE:return L}}},fe}();b.exports=k})(n4);var S9=n4.exports,Uu=A9,Ob=S9,pg="_ks_data_selector_id_",p1={},Bd,k2=0,Op={},b0=function(b,k){return Bd?Uu.getSimpleAttr(b,k):Uu.attr(b,k)},E9=Uu.hasSingleClass,M9=Uu.isTag,C9=/^(([+-]?(?:\d+)?)?n)?([+-]?\d+)?$/,L9=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,P9=function(b,k){var K="0x"+k-65536;return isNaN(K)?k:K<0?String.fromCharCode(K+65536):String.fromCharCode(K>>10|55296,K&1023|56320)},$p,zp={"nth-child":function(b,k){var K=gg(k),fe=K.a,Te=K.b;if(fe===0&&Te===0)return 0;var Oe=0,G=b.parentNode;if(G){for(var V=G.childNodes,e=0,g,_,a=V.length;e<a;e++)if(g=V[e],g.nodeType===1&&(Oe++,_=yg(Oe,fe,Te,g===b),_!==void 0))return _}return 0},"nth-last-child":function(b,k){var K=gg(k),fe=K.a,Te=K.b;if(fe===0&&Te===0)return 0;var Oe=0,G=b.parentNode;if(G){for(var V=G.childNodes,e=V.length,g=e-1,_,a;g>=0;g--)if(_=V[g],_.nodeType===1&&(Oe++,a=yg(Oe,fe,Te,_===b),a!==void 0))return a}return 0},"nth-of-type":function(b,k){var K=gg(k),fe=K.a,Te=K.b;if(fe===0&&Te===0)return 0;var Oe=0,G=b.parentNode;if(G){for(var V=G.childNodes,e=b.tagName,g=0,_,a,C=V.length;g<C;g++)if(_=V[g],_.tagName===e&&(Oe++,a=yg(Oe,fe,Te,_===b),a!==void 0))return a}return 0},"nth-last-of-type":function(b,k){var K=gg(k),fe=K.a,Te=K.b;if(fe===0&&Te===0)return 0;var Oe=0,G=b.parentNode;if(G){for(var V=G.childNodes,e=V.length,g=b.tagName,_=e-1,a,C;_>=0;_--)if(a=V[_],a.tagName===g&&(Oe++,C=yg(Oe,fe,Te,a===b),C!==void 0))return C}return 0},lang:function(b,k){var K;k=a4(k.toLowerCase());do if(K=Bd?b.getAttribute("xml:lang")||b.getAttribute("lang"):b.lang)return K=K.toLowerCase(),K===k||K.indexOf(k+"-")===0;while((b=b.parentNode)&&b.nodeType===1);return!1},not:function(b,k){return!$p[k.t](b,k.value)}},bd={empty:function(b){for(var k=b.childNodes,K=0,fe=k.length-1,Te,Oe;K<fe;K++)if(Te=k[K],Oe=Te.nodeType,Oe===1||Oe===3||Oe===4||Oe===5)return 0;return 1},root:function(b){return b.nodeType===9?!0:b.ownerDocument&&b===b.ownerDocument.documentElement},"first-child":function(b){return zp["nth-child"](b,1)},"last-child":function(b){return zp["nth-last-child"](b,1)},"first-of-type":function(b){return zp["nth-of-type"](b,1)},"last-of-type":function(b){return zp["nth-last-of-type"](b,1)},"only-child":function(b){return bd["first-child"](b)&&bd["last-child"](b)},"only-of-type":function(b){return bd["first-of-type"](b)&&bd["last-of-type"](b)},focus:function(b){var k=b.ownerDocument;return k&&b===k.activeElement&&(!k.hasFocus||k.hasFocus())&&!!(b.type||b.href||b.tabIndex>=0)},target:function(b){var k=location.hash;return k&&k.slice(1)===b0(b,"id")},enabled:function(b){return!b.disabled},disabled:function(b){return b.disabled},checked:function(b){var k=b.nodeName.toLowerCase();return k==="input"&&b.checked||k==="option"&&b.selected}},_9={"~=":function(b,k){return!k||k.indexOf(" ")>-1?0:(" "+b+" ").indexOf(" "+k+" ")!==-1},"|=":function(b,k){return(" "+b).indexOf(" "+k+"-")!==-1},"^=":function(b,k){return k&&Uu.startsWith(b,k)},"$=":function(b,k){return k&&Uu.endsWith(b,k)},"*=":function(b,k){return k&&b.indexOf(k)!==-1},"=":function(b,k){return b===k}},wd={">":{dir:"parentNode",immediate:1}," ":{dir:"parentNode"},"+":{dir:"previousSibling",immediate:1},"~":{dir:"previousSibling"}};$p={tag:M9,cls:E9,id:function(b,k){return b0(b,"id")===k},attrib:function(b,k){var K=k.ident;Bd||(K=K.toLowerCase());var fe=b0(b,K),Te=k.match;if(!Te&&fe!==void 0)return 1;if(Te){if(fe===void 0)return 0;var Oe=_9[Te];if(Oe)return Oe(fe+"",k.value+"")}return 0},pseudo:function(b,k){var K,fe,Te;if(fe=k.fn){if(!(K=zp[fe]))throw new SyntaxError("Syntax error: not support pseudo: "+fe);return K(b,k.param)}if(Te=k.ident){if(!bd[Te])throw new SyntaxError("Syntax error: not support pseudo: "+Te);return bd[Te](b)}return 0}};function a4(b){return b.replace(L9,P9)}Ob.lexer.yy={trim:Uu.trim,unEscape:a4,unEscapeStr:function(b){return this.unEscape(b.slice(1,-1))}};function R9(){Op={}}function Td(b,k){do b=b[k];while(b&&b.nodeType!==1);return b}function gg(b){var k=0,K,fe=0;return typeof b=="number"?fe=b:b==="odd"?(k=2,fe=1):b==="even"?(k=2,fe=0):(K=b.replace(/\s/g,"").match(C9))&&(K[1]?(k=parseInt(K[2],10),isNaN(k)&&(K[2]==="-"?k=-1:k=1)):k=0,fe=parseInt(K[3],10)||0),{a:k,b:fe}}function yg(b,k,K,fe){if(k===0){if(b===K)return fe}else if((b-K)/k>=0&&(b-K)%k===0&&fe)return 1}function D9(b){var k=b&&(b.ownerDocument||b).documentElement;return k?k.nodeName.toLowerCase()!=="html":!1}function I9(b,k){return $d(b,null,k)}function i4(b,k){if(!k)return!0;if(!b||b.nodeType===9)return!1;var K=1,fe=k.suffix,Te,Oe;if(k.t==="tag"&&(K&=$p.tag(b,k.value)),K&&fe)for(Te=fe.length,Oe=0;K&&Oe<Te;Oe++){var G=fe[Oe],V=G.t;$p[V]&&(K&=$p[V](b,G.value))}return K}function k9(b,k){var K=1,fe=b,Te,Oe=k;do if(K&=i4(b,k),K){if(k=k&&k.prev,!k)return!0;if(Te=wd[k.nextCombinator],b=Td(b,Te.dir),!Te.immediate)return{el:b,match:k}}else return Te=wd[k.nextCombinator],Te.immediate?{el:Td(fe,wd[Oe.nextCombinator].dir),match:Oe}:{el:b&&Td(b,Te.dir),match:k};while(b);return{el:Td(fe,wd[Oe.nextCombinator].dir),match:Oe}}function O9(b,k){var K,fe=k;do{if(!i4(b,fe))return null;if(fe=fe.prev,!fe)return!0;K=wd[fe.nextCombinator],b=Td(b,K.dir)}while(b&&K.immediate);return b?{el:b,match:fe}:null}function z9(b){var k;return Bd?(k=b.getAttribute(pg))||b.setAttribute(pg,k=+new Date+"_"+ ++k2):(k=b[pg])||(k=b[pg]=+new Date+"_"+ ++k2),k}function o4(b,k){var K=z9(b),fe;return fe=K+"_"+(k.order||0),fe in Op||(Op[fe]=F9(b,k)),Op[fe]}function F9(b,k){var K=k9(b,k);if(K===!0)return!0;for(b=K.el,k=K.match;b;){if(o4(b,k))return!0;b=Td(b,wd[k.nextCombinator].dir)}return!1}function $d(b,k,K){p1[b]||(p1[b]=Ob.parse(b));var fe=p1[b],Te=0,Oe=fe.length,G,V,e=[];for(K&&(k=k||K[0].ownerDocument),G=k&&k.ownerDocument||typeof document<"u"&&document,k&&k.nodeType===9&&!G&&(G=k),k=k||G,Bd=D9(k);Te<Oe;Te++){R9(),V=fe[Te];var g=V.suffix,_,a,C,A=K,v,p=null;if(!A){if(g&&!Bd)for(_=0,a=g.length;_<a;_++){var t=g[_];if(t.t==="id"){p=t.value;break}}if(p){var r=!k.getElementById,s=Uu.contains(G,k),n=r?s?G.getElementById(p):null:k.getElementById(p);if(!n&&r||n&&b0(n,"id")!==p){for(var i=Uu.getElementsByTagName("*",k),f=i.length,u=0;u<f;u++)if(n=i[u],b0(n,"id")===p){A=[n];break}u===f&&(A=[])}else s&&n&&k!==G&&(n=Uu.contains(k,n)?n:null),A=n?[n]:[]}else A=Uu.getElementsByTagName(V.value||"*",k)}if(C=0,v=A.length,!!v)for(;C<v;C++){var y=A[C],c=O9(y,V);(c===!0||c&&o4(c.el,c.match))&&e.push(y)}}return Oe>1&&(e=Uu.unique(e)),e}var N9=$d;$d.parse=function(b){return Ob.parse(b)};$d.matches=I9;$d.util=Uu;$d.version="@VERSION@";var B9=N9,O2=/-+([a-z])/gi;function U9(b,k,K){return K!==0?k.toUpperCase():k}function H9(b){var k=b.replace(O2,U9);return O2.lastIndex=0,k}var s4=H9;function V9(b){return typeof b=="string"}var G9=V9;function W9(b){return typeof b>"u"}var Y9=W9;function j9(b){for(var k=arguments,K,fe=1;fe<k.length;fe++){K=k[fe];for(var Te in K)b[Te]=K[Te]}return b}var Z9=j9;function X9(b,k){var K={};for(var fe in b)b.hasOwnProperty(fe)&&(K[fe]=k(b[fe]));return K}var l4=X9,K9=s4;function $9(b){var k=K9(b);return k.charAt(0).toUpperCase()===b.charAt(0)?b.charAt(0)+k.slice(1):b.charAt(0)==="-"?k.indexOf("ms")===0?k:k.charAt(0).toUpperCase()+k.slice(1):k}var J9=$9,z2=Jr,Q9=Zy,q9=B9,eL=s4,tL=G9,F2=Y9,g1=Z9,N2=l4,y1=J9;function rL(){function b(K,fe){this.nodeName=K,this.parentNode=fe,this.childNodes=[],this.eventListeners={},this.text="";var Te=this,Oe=this.props={ref:function(G){Te.component=G},style:{setProperty:function(G,V){Oe.style[y1(G)]=V},getProperty:function(G){return Oe.style[y1(G)]||""},getPropertyValue:function(G){return Oe.style.getProperty(G)},removeProperty:function(G){delete Oe.style[y1(G)]}}};this.style=Oe.style}b.ELEMENT_NODE=1,b.DOCUMENT_POSITION_DISCONNECTED=1,b.DOCUMENT_POSITION_PRECEDING=2,b.DOCUMENT_POSITION_FOLLOWING=4,b.DOCUMENT_POSITION_CONTAINS=8,b.DOCUMENT_POSITION_CONTAINED_BY=16,b.prototype.nodeType=1,b.prototype.eventNameMappings={blur:"onBlur",change:"onChange",click:"onClick",contextmenu:"onContextMenu",copy:"onCopy",cut:"onCut",doubleclick:"onDoubleClick",drag:"onDrag",dragend:"onDragEnd",dragenter:"onDragEnter",dragexit:"onDragExit",dragleave:"onDragLeave",dragover:"onDragOver",dragstart:"onDragStart",drop:"onDrop",error:"onError",focus:"onFocus",input:"onInput",keydown:"onKeyDown",keypress:"onKeyPress",keyup:"onKeyUp",load:"onLoad",mousedown:"onMouseDown",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseover:"onMouseOver",mouseup:"onMouseUp",paste:"onPaste",scroll:"onScroll",submit:"onSubmit",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",wheel:"onWheel"},b.prototype.skipNameTransformationExpressions=[/^data-/,/^aria-/],b.prototype.attributeNameMappings={class:"className"},b.prototype.attributeToPropName=function(K){var fe=this.skipNameTransformationExpressions.map(function(Te){return Te.test(K)});return fe.some(Boolean)?K:this.attributeNameMappings[K]||eL(K)},b.prototype.setAttribute=function(K,fe){if(K==="style"&&tL(fe)){var Te=Q9.parse(fe);for(var Oe in Te)this.style.setProperty(Oe,Te[Oe])}else this.props[this.attributeToPropName(K)]=fe},b.prototype.getAttribute=function(K){return this.props[this.attributeToPropName(K)]},b.prototype.getAttributeNode=function(K){var fe=this.getAttribute(K);if(!F2(fe))return{value:fe,specified:!0}},b.prototype.removeAttribute=function(K){delete this.props[this.attributeToPropName(K)]},b.prototype.eventToPropName=function(K){return this.eventNameMappings[K]||K},b.prototype.addEventListener=function(K,fe){var Te=this.eventToPropName(K);this.eventListeners[Te]=this.eventListeners[Te]||[],this.eventListeners[Te].push(fe)},b.prototype.removeEventListener=function(K,fe){var Te=this.eventListeners[this.eventToPropName(K)];if(Te){var Oe=Te.indexOf(fe);Oe!==-1&&Te.splice(Oe,1)}},b.prototype.appendChild=function(K){return K instanceof b&&(K.parentNode=this),this.childNodes.push(K),K},b.prototype.insertBefore=function(K,fe){var Te=this.childNodes.indexOf(fe);return K.parentNode=this,Te!==-1?this.childNodes.splice(Te,0,K):this.childNodes.push(K),K},b.prototype.removeChild=function(K){var fe=this.childNodes.indexOf(K);this.childNodes.splice(fe,1)},b.prototype.querySelector=function(){return this.querySelectorAll.apply(this,arguments)[0]||null},b.prototype.querySelectorAll=function(K){if(!K)throw new Error("Not enough arguments");return q9(K,this)},b.prototype.getElementsByTagName=function(K){var fe=this.children;if(fe.length===0)return[];var Te;K!=="*"?Te=fe.filter(function(G){return G.nodeName===K}):Te=fe;var Oe=fe.map(function(G){return G.getElementsByTagName(K)});return Te.concat.apply(Te,Oe)},b.prototype.getElementById=function(K){var fe=this.children;if(fe.length===0)return null;var Te=fe.filter(function(G){return G.getAttribute("id")===K})[0];if(Te)return Te;var Oe=fe.map(function(G){return G.getElementById(K)});return Oe.filter(function(G){return G!==null})[0]||null},b.prototype.getBoundingClientRect=function(){if(this.component)return this.component.getBoundingClientRect()},b.prototype.cloneNode=function(K){K===void 0&&(K=!0);var fe=new b(this.nodeName,this.parentNode);this.nodeType&&(fe.nodeType=this.nodeType);var Te;for(Te in this.props)this.props.hasOwnProperty(Te)&&Te!=="ref"&&Te!=="style"&&(fe.props[Te]=this.props[Te]);for(Te in this.style)this.style.hasOwnProperty(Te)&&["setProperty","getProperty","getPropertyValue","removeProperty"].indexOf(Te)===-1&&(fe.style[Te]=this.style[Te]);return K&&(fe.childNodes=this.childNodes.map(function(Oe){return Oe.nodeType?(Oe=Oe.cloneNode(!0),Oe instanceof b&&(Oe.parentNode=fe),Oe):z2.cloneElement(Oe)})),fe},b.prototype.toReact=function(K){K=K||0;var fe=g1({},this.props);fe.style=g1({},fe.style);var Te=this;function Oe(){return"faux-dom-"+K}return F2(fe.key)&&(fe.key=Oe()),delete fe.style.setProperty,delete fe.style.getProperty,delete fe.style.getPropertyValue,delete fe.style.removeProperty,g1(fe,N2(this.eventListeners,function(G){return function(V){var e;V&&(e=V.nativeEvent,e.syntheticEvent=V),N2(G,function(g){g.call(Te,e)})}})),z2.createElement(this.nodeName,fe,this.text||this.children.map(function(G,V){return G instanceof b?G.toReact(V):G}))},b.prototype.compareDocumentPosition=function(K){function fe(a,C,A){return a.reduce(function(v,p){return v!==!1?v:p===C?C:p===A?A:p.childNodes?fe(p.childNodes,C,A):!1},!1)}function Te(a,C){for(;C.parentNode;)if(C=C.parentNode,C===a)return!0;return!1}function Oe(a,C){return Te(a,C)?b.DOCUMENT_POSITION_CONTAINED_BY+b.DOCUMENT_POSITION_FOLLOWING:Te(C,a)?b.DOCUMENT_POSITION_CONTAINS+b.DOCUMENT_POSITION_PRECEDING:!1}function G(a){for(;a.parentNode;)a=a.parentNode;return a}if(this===K)return 0;var V=G(this),e=G(K);if(V!==e)return b.DOCUMENT_POSITION_DISCONNECTED;var g=Oe(this,K);if(g)return g;var _=fe([V],this,K);return _===this?b.DOCUMENT_POSITION_FOLLOWING:_===K?b.DOCUMENT_POSITION_PRECEDING:b.DOCUMENT_POSITION_DISCONNECTED},Object.defineProperties(b.prototype,{nextSibling:{get:function(){var K=this.parentNode.children,fe=K.indexOf(this);return K[fe+1]}},previousSibling:{get:function(){var K=this.parentNode.children,fe=K.indexOf(this);return K[fe-1]}},innerHTML:{get:function(){return this.text},set:function(K){this.text=K}},textContent:{get:function(){return this.text},set:function(K){this.text=K}},children:{get:function(){return this.childNodes.filter(function(K){return K.nodeType?K.nodeType===1:!0})}}});var k=["setAttribute","getAttribute","getAttributeNode","removeAttribute","getElementsByTagName","getElementById"];return k.forEach(function(K){var fe=b.prototype[K];b.prototype[K+"NS"]=function(){return fe.apply(this,Array.prototype.slice.call(arguments,1))}}),b}var nL=rL;function aL(){var b={getComputedStyle:function(k){return{getPropertyValue:k.style.getProperty}}};return b}var iL=aL;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var B2=Object.getOwnPropertySymbols,oL=Object.prototype.hasOwnProperty,sL=Object.prototype.propertyIsEnumerable;function lL(b){if(b==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(b)}function uL(){try{if(!Object.assign)return!1;var b=new String("abc");if(b[5]="de",Object.getOwnPropertyNames(b)[0]==="5")return!1;for(var k={},K=0;K<10;K++)k["_"+String.fromCharCode(K)]=K;var fe=Object.getOwnPropertyNames(k).map(function(Oe){return k[Oe]});if(fe.join("")!=="0123456789")return!1;var Te={};return"abcdefghijklmnopqrst".split("").forEach(function(Oe){Te[Oe]=Oe}),Object.keys(Object.assign({},Te)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var fL=uL()?Object.assign:function(b,k){for(var K,fe=lL(b),Te,Oe=1;Oe<arguments.length;Oe++){K=Object(arguments[Oe]);for(var G in K)oL.call(K,G)&&(fe[G]=K[G]);if(B2){Te=B2(K);for(var V=0;V<Te.length;V++)sL.call(K,Te[V])&&(fe[Te[V]]=K[Te[V]])}}return fe},mg=fL,cL={};function qf(b,k,K,fe,Te,Oe,G,V){if(!b){var e;if(k===void 0)e=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var g=[K,fe,Te,Oe,G,V],_=0;e=new Error(k.replace(/%s/g,function(){return g[_++]})),e.name="Invariant Violation"}throw e.framesToPop=1,e}}var U2="mixins";function hL(b,k,K){var fe=[],Te={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},Oe={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},G={displayName:function(i,f){i.displayName=f},mixins:function(i,f){if(f)for(var u=0;u<f.length;u++)e(i,f[u])},childContextTypes:function(i,f){i.childContextTypes=mg({},i.childContextTypes,f)},contextTypes:function(i,f){i.contextTypes=mg({},i.contextTypes,f)},getDefaultProps:function(i,f){i.getDefaultProps?i.getDefaultProps=a(i.getDefaultProps,f):i.getDefaultProps=f},propTypes:function(i,f){i.propTypes=mg({},i.propTypes,f)},statics:function(i,f){g(i,f)},autobind:function(){}};function V(i,f){var u=Te.hasOwnProperty(f)?Te[f]:null;r.hasOwnProperty(f)&&qf(u==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",f),i&&qf(u==="DEFINE_MANY"||u==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",f)}function e(i,f){if(f){qf(typeof f!="function","ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),qf(!k(f),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var u=i.prototype,y=u.__reactAutoBindPairs;f.hasOwnProperty(U2)&&G.mixins(i,f.mixins);for(var c in f)if(f.hasOwnProperty(c)&&c!==U2){var T=f[c],h=u.hasOwnProperty(c);if(V(h,c),G.hasOwnProperty(c))G[c](i,T);else{var l=Te.hasOwnProperty(c),d=typeof T=="function",E=d&&!l&&!h&&f.autobind!==!1;if(E)y.push(c,T),u[c]=T;else if(h){var S=Te[c];qf(l&&(S==="DEFINE_MANY_MERGED"||S==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",S,c),S==="DEFINE_MANY_MERGED"?u[c]=a(u[c],T):S==="DEFINE_MANY"&&(u[c]=C(u[c],T))}else u[c]=T}}}}function g(i,f){if(f)for(var u in f){var y=f[u];if(f.hasOwnProperty(u)){var c=u in G;qf(!c,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',u);var T=u in i;if(T){var h=Oe.hasOwnProperty(u)?Oe[u]:null;qf(h==="DEFINE_MANY_MERGED","ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",u),i[u]=a(i[u],y);return}i[u]=y}}}function _(i,f){qf(i&&f&&typeof i=="object"&&typeof f=="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var u in f)f.hasOwnProperty(u)&&(qf(i[u]===void 0,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",u),i[u]=f[u]);return i}function a(i,f){return function(){var y=i.apply(this,arguments),c=f.apply(this,arguments);if(y==null)return c;if(c==null)return y;var T={};return _(T,y),_(T,c),T}}function C(i,f){return function(){i.apply(this,arguments),f.apply(this,arguments)}}function A(i,f){var u=f.bind(i);return u}function v(i){for(var f=i.__reactAutoBindPairs,u=0;u<f.length;u+=2){var y=f[u],c=f[u+1];i[y]=A(i,c)}}var p={componentDidMount:function(){this.__isMounted=!0}},t={componentWillUnmount:function(){this.__isMounted=!1}},r={replaceState:function(i,f){this.updater.enqueueReplaceState(this,i,f)},isMounted:function(){return!!this.__isMounted}},s=function(){};mg(s.prototype,b.prototype,r);function n(i){var f=function(y,c,T){this.__reactAutoBindPairs.length&&v(this),this.props=y,this.context=c,this.refs=cL,this.updater=T||K,this.state=null;var h=this.getInitialState?this.getInitialState():null;qf(typeof h=="object"&&!Array.isArray(h),"%s.getInitialState(): must return an object or null",f.displayName||"ReactCompositeComponent"),this.state=h};f.prototype=new s,f.prototype.constructor=f,f.prototype.__reactAutoBindPairs=[],fe.forEach(e.bind(null,f)),e(f,p),e(f,i),e(f,t),f.getDefaultProps&&(f.defaultProps=f.getDefaultProps()),qf(f.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var u in Te)f.prototype[u]||(f.prototype[u]=null);return f}return n}var vL=hL,yy=Jr,dL=vL;if(typeof yy>"u")throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var pL=new yy.Component().updater,gL=dL(yy.Component,yy.isValidElement,pL),u4={exports:{}},ji={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gs=typeof Symbol=="function"&&Symbol.for,zb=Gs?Symbol.for("react.element"):60103,Fb=Gs?Symbol.for("react.portal"):60106,Xy=Gs?Symbol.for("react.fragment"):60107,Ky=Gs?Symbol.for("react.strict_mode"):60108,$y=Gs?Symbol.for("react.profiler"):60114,Jy=Gs?Symbol.for("react.provider"):60109,Qy=Gs?Symbol.for("react.context"):60110,Nb=Gs?Symbol.for("react.async_mode"):60111,qy=Gs?Symbol.for("react.concurrent_mode"):60111,em=Gs?Symbol.for("react.forward_ref"):60112,tm=Gs?Symbol.for("react.suspense"):60113,yL=Gs?Symbol.for("react.suspense_list"):60120,rm=Gs?Symbol.for("react.memo"):60115,nm=Gs?Symbol.for("react.lazy"):60116,mL=Gs?Symbol.for("react.block"):60121,xL=Gs?Symbol.for("react.fundamental"):60117,bL=Gs?Symbol.for("react.responder"):60118,wL=Gs?Symbol.for("react.scope"):60119;function Zu(b){if(typeof b=="object"&&b!==null){var k=b.$$typeof;switch(k){case zb:switch(b=b.type,b){case Nb:case qy:case Xy:case $y:case Ky:case tm:return b;default:switch(b=b&&b.$$typeof,b){case Qy:case em:case nm:case rm:case Jy:return b;default:return k}}case Fb:return k}}}function f4(b){return Zu(b)===qy}ji.AsyncMode=Nb;ji.ConcurrentMode=qy;ji.ContextConsumer=Qy;ji.ContextProvider=Jy;ji.Element=zb;ji.ForwardRef=em;ji.Fragment=Xy;ji.Lazy=nm;ji.Memo=rm;ji.Portal=Fb;ji.Profiler=$y;ji.StrictMode=Ky;ji.Suspense=tm;ji.isAsyncMode=function(b){return f4(b)||Zu(b)===Nb};ji.isConcurrentMode=f4;ji.isContextConsumer=function(b){return Zu(b)===Qy};ji.isContextProvider=function(b){return Zu(b)===Jy};ji.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===zb};ji.isForwardRef=function(b){return Zu(b)===em};ji.isFragment=function(b){return Zu(b)===Xy};ji.isLazy=function(b){return Zu(b)===nm};ji.isMemo=function(b){return Zu(b)===rm};ji.isPortal=function(b){return Zu(b)===Fb};ji.isProfiler=function(b){return Zu(b)===$y};ji.isStrictMode=function(b){return Zu(b)===Ky};ji.isSuspense=function(b){return Zu(b)===tm};ji.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===Xy||b===qy||b===$y||b===Ky||b===tm||b===yL||typeof b=="object"&&b!==null&&(b.$$typeof===nm||b.$$typeof===rm||b.$$typeof===Jy||b.$$typeof===Qy||b.$$typeof===em||b.$$typeof===xL||b.$$typeof===bL||b.$$typeof===wL||b.$$typeof===mL)};ji.typeOf=Zu;u4.exports=ji;var TL=u4.exports,Bb=TL,AL={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},SL={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},EL={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c4={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ub={};Ub[Bb.ForwardRef]=EL;Ub[Bb.Memo]=c4;function H2(b){return Bb.isMemo(b)?c4:Ub[b.$$typeof]||AL}var ML=Object.defineProperty,CL=Object.getOwnPropertyNames,V2=Object.getOwnPropertySymbols,LL=Object.getOwnPropertyDescriptor,PL=Object.getPrototypeOf,G2=Object.prototype;function h4(b,k,K){if(typeof k!="string"){if(G2){var fe=PL(k);fe&&fe!==G2&&h4(b,fe,K)}var Te=CL(k);V2&&(Te=Te.concat(V2(k)));for(var Oe=H2(b),G=H2(k),V=0;V<Te.length;++V){var e=Te[V];if(!SL[e]&&!(K&&K[e])&&!(G&&G[e])&&!(Oe&&Oe[e])){var g=LL(k,e);try{ML(b,e,g)}catch{}}}}return b}var _L=h4,RL=Jr,DL=gL,IL=l4,kL=_L;function OL(b){function k(K){var fe=DL({componentWillMount:function(){this.connectedFauxDOM={},this.animateFauxDOMUntil=0},componentWillUnmount:function(){this.stopAnimatingFauxDOM(),this.stopDrawFauxDOM()},connectFauxDOM:function(Te,Oe,G){return(!this.connectedFauxDOM[Oe]||G)&&(this.connectedFauxDOM[Oe]=typeof Te!="string"?Te:new b(Te),this.drawFauxDOMTimeout=setTimeout(this.drawFauxDOM)),this.connectedFauxDOM[Oe]},drawFauxDOM:function(){var Te=IL(this.connectedFauxDOM,function(Oe){return Oe.toReact()});this.setState(Te)},animateFauxDOM:function(Te){this.animateFauxDOMUntil=Math.max(Date.now()+Te,this.animateFauxDOMUntil),this.fauxDOMAnimationInterval||(this.fauxDOMAnimationInterval=setInterval((function(){Date.now()<this.animateFauxDOMUntil?this.drawFauxDOM():this.stopAnimatingFauxDOM()}).bind(this),16))},stopAnimatingFauxDOM:function(){this.fauxDOMAnimationInterval=clearInterval(this.fauxDOMAnimationInterval),this.animateFauxDOMUntil=0},stopDrawFauxDOM:function(){this.drawFauxDOMTimeout=clearTimeout(this.drawFauxDOMTimeout)},isAnimatingFauxDOM:function(){return!!this.fauxDOMAnimationInterval},render:function(){var Te=Object.assign({},this.props,this.state,{connectFauxDOM:this.connectFauxDOM,drawFauxDOM:this.drawFauxDOM,animateFauxDOM:this.animateFauxDOM,stopAnimatingFauxDOM:this.stopAnimatingFauxDOM,isAnimatingFauxDOM:this.isAnimatingFauxDOM});return RL.createElement(K,Te)}});return fe.displayName="WithFauxDOM("+zL(K)+")",kL(fe,K),fe}return k}function zL(b){return b.displayName||b.name||"Component"}var FL=OL,NL=nL,BL=iL,UL=FL;function HL(){var b=NL(),k=BL(),K={Element:b,defaultView:k,withFauxDOM:UL(b),createElement:function(fe){return new b(fe)},createElementNS:function(fe,Te){return this.createElement(Te)},compareDocumentPosition:function(){return 8}};return b.prototype.ownerDocument=K,K}var VL=HL,GL=VL,WL=GL();const YL=Rv(WL);var jL={value:function(){}};function v4(){for(var b=0,k=arguments.length,K={},fe;b<k;++b){if(!(fe=arguments[b]+"")||fe in K||/[\s.]/.test(fe))throw new Error("illegal type: "+fe);K[fe]=[]}return new Og(K)}function Og(b){this._=b}function ZL(b,k){return b.trim().split(/^|\s+/).map(function(K){var fe="",Te=K.indexOf(".");if(Te>=0&&(fe=K.slice(Te+1),K=K.slice(0,Te)),K&&!k.hasOwnProperty(K))throw new Error("unknown type: "+K);return{type:K,name:fe}})}Og.prototype=v4.prototype={constructor:Og,on:function(b,k){var K=this._,fe=ZL(b+"",K),Te,Oe=-1,G=fe.length;if(arguments.length<2){for(;++Oe<G;)if((Te=(b=fe[Oe]).type)&&(Te=XL(K[Te],b.name)))return Te;return}if(k!=null&&typeof k!="function")throw new Error("invalid callback: "+k);for(;++Oe<G;)if(Te=(b=fe[Oe]).type)K[Te]=W2(K[Te],b.name,k);else if(k==null)for(Te in K)K[Te]=W2(K[Te],b.name,null);return this},copy:function(){var b={},k=this._;for(var K in k)b[K]=k[K].slice();return new Og(b)},call:function(b,k){if((Te=arguments.length-2)>0)for(var K=new Array(Te),fe=0,Te,Oe;fe<Te;++fe)K[fe]=arguments[fe+2];if(!this._.hasOwnProperty(b))throw new Error("unknown type: "+b);for(Oe=this._[b],fe=0,Te=Oe.length;fe<Te;++fe)Oe[fe].value.apply(k,K)},apply:function(b,k,K){if(!this._.hasOwnProperty(b))throw new Error("unknown type: "+b);for(var fe=this._[b],Te=0,Oe=fe.length;Te<Oe;++Te)fe[Te].value.apply(k,K)}};function XL(b,k){for(var K=0,fe=b.length,Te;K<fe;++K)if((Te=b[K]).name===k)return Te.value}function W2(b,k,K){for(var fe=0,Te=b.length;fe<Te;++fe)if(b[fe].name===k){b[fe]=jL,b=b.slice(0,fe).concat(b.slice(fe+1));break}return K!=null&&b.push({name:k,value:K}),b}const KL=Object.freeze(Object.defineProperty({__proto__:null,dispatch:v4},Symbol.toStringTag,{value:"Module"})),$L=eM(KL),JL=$L.dispatch,m1=Math.PI/180,QL={archimedean:d4,rectangular:uP},Fp=64,zg=2048;var qL=function(){var b=[256,256],k=eP,K=tP,fe=rP,Te=Y2,Oe=Y2,G=nP,V=aP,e=d4,g=[],_=1/0,a=JL("word","end"),C=null,A=Math.random,v={},p=cP;v.canvas=function(s){return arguments.length?(p=Ph(s),v):p},v.start=function(){var s=t(p()),n=fP((b[0]>>5)*b[1]),i=null,f=g.length,u=-1,y=[],c=g.map(function(h,l){return h.text=k.call(this,h,l),h.font=K.call(this,h,l),h.style=Te.call(this,h,l),h.weight=Oe.call(this,h,l),h.rotate=G.call(this,h,l),h.size=~~fe.call(this,h,l),h.padding=V.call(this,h,l),h}).sort(function(h,l){return l.size-h.size});return C&&clearInterval(C),C=setInterval(T,0),T(),v;function T(){for(var h=Date.now();Date.now()-h<_&&++u<f&&C;){var l=c[u];l.x=b[0]*(A()+.5)>>1,l.y=b[1]*(A()+.5)>>1,iP(s,l,c,u),l.hasText&&r(n,l,i)&&(y.push(l),a.call("word",v,l),i?sP(i,l):i=[{x:l.x+l.x0,y:l.y+l.y0},{x:l.x+l.x1,y:l.y+l.y1}],l.x-=b[0]>>1,l.y-=b[1]>>1)}u>=f&&(v.stop(),a.call("end",v,y,i))}},v.stop=function(){C&&(clearInterval(C),C=null);for(const s of g)delete s.sprite;return v};function t(s){const n=s.getContext("2d",{willReadFrequently:!0});s.width=s.height=1;const i=Math.sqrt(n.getImageData(0,0,1,1).data.length>>2);return s.width=(Fp<<5)/i,s.height=zg/i,n.fillStyle=n.strokeStyle="red",{context:n,ratio:i}}function r(s,n,i){b[0],b[1];for(var f=n.x,u=n.y,y=Math.sqrt(b[0]*b[0]+b[1]*b[1]),c=e(b),T=A()<.5?1:-1,h=-T,l,d,E;(l=c(h+=T))&&(d=~~l[0],E=~~l[1],!(Math.min(Math.abs(d),Math.abs(E))>=y));)if(n.x=f+d,n.y=u+E,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>b[0]||n.y+n.y1>b[1])&&(!i||lP(n,i))&&!oP(n,s,b[0])){for(var S=n.sprite,P=n.width>>5,x=b[0]>>5,M=n.x-(P<<4),w=M&127,o=32-w,L=n.y1-n.y0,m=(n.y+n.y0)*x+(M>>5),F,I=0;I<L;I++){F=0;for(var U=0;U<=P;U++)s[m+U]|=F<<o|(U<P?(F=S[I*P+U])>>>w:0);m+=x}return!0}return!1}return v.timeInterval=function(s){return arguments.length?(_=s??1/0,v):_},v.words=function(s){return arguments.length?(g=s,v):g},v.size=function(s){return arguments.length?(b=[+s[0],+s[1]],v):b},v.font=function(s){return arguments.length?(K=Ph(s),v):K},v.fontStyle=function(s){return arguments.length?(Te=Ph(s),v):Te},v.fontWeight=function(s){return arguments.length?(Oe=Ph(s),v):Oe},v.rotate=function(s){return arguments.length?(G=Ph(s),v):G},v.text=function(s){return arguments.length?(k=Ph(s),v):k},v.spiral=function(s){return arguments.length?(e=QL[s]||s,v):e},v.fontSize=function(s){return arguments.length?(fe=Ph(s),v):fe},v.padding=function(s){return arguments.length?(V=Ph(s),v):V},v.random=function(s){return arguments.length?(A=s,v):A},v.on=function(){var s=a.on.apply(a,arguments);return s===a?v:s},v};function eP(b){return b.text}function tP(){return"serif"}function Y2(){return"normal"}function rP(b){return Math.sqrt(b.value)}function nP(){return(~~(random()*6)-3)*30}function aP(){return 1}function iP(b,k,K,fe){if(!k.sprite){var Te=b.context,Oe=b.ratio;Te.clearRect(0,0,(Fp<<5)/Oe,zg/Oe);var G=0,V=0,e=0,g=K.length;for(--fe;++fe<g;){k=K[fe],Te.save(),Te.font=k.style+" "+k.weight+" "+~~((k.size+1)/Oe)+"px "+k.font;const l=Te.measureText(k.text),d=-Math.floor(l.width/2);let E=(l.width+1)*Oe,S=k.size<<1;if(k.rotate){var _=Math.sin(k.rotate*m1),a=Math.cos(k.rotate*m1),C=E*a,A=E*_,v=S*a,p=S*_;E=Math.max(Math.abs(C+p),Math.abs(C-p))+31>>5<<5,S=~~Math.max(Math.abs(A+v),Math.abs(A-v))}else E=E+31>>5<<5;if(S>e&&(e=S),G+E>=Fp<<5&&(G=0,V+=e,e=0),V+S>=zg)break;Te.translate((G+(E>>1))/Oe,(V+(S>>1))/Oe),k.rotate&&Te.rotate(k.rotate*m1),Te.fillText(k.text,d,0),k.padding&&(Te.lineWidth=2*k.padding,Te.strokeText(k.text,d,0)),Te.restore(),k.width=E,k.height=S,k.xoff=G,k.yoff=V,k.x1=E>>1,k.y1=S>>1,k.x0=-k.x1,k.y0=-k.y1,k.hasText=!0,G+=E}for(var t=Te.getImageData(0,0,(Fp<<5)/Oe,zg/Oe).data,r=[];--fe>=0;)if(k=K[fe],!!k.hasText){for(var s=k.width,n=s>>5,i=k.y1-k.y0,f=0;f<i*n;f++)r[f]=0;if(G=k.xoff,G==null)return;V=k.yoff;for(var u=0,y=-1,c=0;c<i;c++){for(var f=0;f<s;f++){var T=n*c+(f>>5),h=t[(V+c)*(Fp<<5)+(G+f)<<2]?1<<31-f%32:0;r[T]|=h,u|=h}u?y=c:(k.y0++,i--,c--,V++)}k.y1=k.y0+y,k.sprite=r.slice(0,(k.y1-k.y0)*n)}}}function oP(b,k,K){K>>=5;for(var fe=b.sprite,Te=b.width>>5,Oe=b.x-(Te<<4),G=Oe&127,V=32-G,e=b.y1-b.y0,g=(b.y+b.y0)*K+(Oe>>5),_,a=0;a<e;a++){_=0;for(var C=0;C<=Te;C++)if((_<<V|(C<Te?(_=fe[a*Te+C])>>>G:0))&k[g+C])return!0;g+=K}return!1}function sP(b,k){var K=b[0],fe=b[1];k.x+k.x0<K.x&&(K.x=k.x+k.x0),k.y+k.y0<K.y&&(K.y=k.y+k.y0),k.x+k.x1>fe.x&&(fe.x=k.x+k.x1),k.y+k.y1>fe.y&&(fe.y=k.y+k.y1)}function lP(b,k){return b.x+b.x1>k[0].x&&b.x+b.x0<k[1].x&&b.y+b.y1>k[0].y&&b.y+b.y0<k[1].y}function d4(b){var k=b[0]/b[1];return function(K){return[k*(K*=.1)*Math.cos(K),K*Math.sin(K)]}}function uP(b){var k=4,K=k*b[0]/b[1],fe=0,Te=0;return function(Oe){var G=Oe<0?-1:1;switch(Math.sqrt(1+4*G*Oe)-G&3){case 0:fe+=K;break;case 1:Te+=k;break;case 2:fe-=K;break;default:Te-=k;break}return[fe,Te]}}function fP(b){for(var k=[],K=-1;++K<b;)k[K]=0;return k}function cP(){return document.createElement("canvas")}function Ph(b){return typeof b=="function"?b:function(){return b}}const hP=Rv(qL);var vP=typeof Element<"u",dP=typeof Map=="function",pP=typeof Set=="function",gP=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Fg(b,k){if(b===k)return!0;if(b&&k&&typeof b=="object"&&typeof k=="object"){if(b.constructor!==k.constructor)return!1;var K,fe,Te;if(Array.isArray(b)){if(K=b.length,K!=k.length)return!1;for(fe=K;fe--!==0;)if(!Fg(b[fe],k[fe]))return!1;return!0}var Oe;if(dP&&b instanceof Map&&k instanceof Map){if(b.size!==k.size)return!1;for(Oe=b.entries();!(fe=Oe.next()).done;)if(!k.has(fe.value[0]))return!1;for(Oe=b.entries();!(fe=Oe.next()).done;)if(!Fg(fe.value[1],k.get(fe.value[0])))return!1;return!0}if(pP&&b instanceof Set&&k instanceof Set){if(b.size!==k.size)return!1;for(Oe=b.entries();!(fe=Oe.next()).done;)if(!k.has(fe.value[0]))return!1;return!0}if(gP&&ArrayBuffer.isView(b)&&ArrayBuffer.isView(k)){if(K=b.length,K!=k.length)return!1;for(fe=K;fe--!==0;)if(b[fe]!==k[fe])return!1;return!0}if(b.constructor===RegExp)return b.source===k.source&&b.flags===k.flags;if(b.valueOf!==Object.prototype.valueOf&&typeof b.valueOf=="function"&&typeof k.valueOf=="function")return b.valueOf()===k.valueOf();if(b.toString!==Object.prototype.toString&&typeof b.toString=="function"&&typeof k.toString=="function")return b.toString()===k.toString();if(Te=Object.keys(b),K=Te.length,K!==Object.keys(k).length)return!1;for(fe=K;fe--!==0;)if(!Object.prototype.hasOwnProperty.call(k,Te[fe]))return!1;if(vP&&b instanceof Element)return!1;for(fe=K;fe--!==0;)if(!((Te[fe]==="_owner"||Te[fe]==="__v"||Te[fe]==="__o")&&b.$$typeof)&&!Fg(b[Te[fe]],k[Te[fe]]))return!1;return!0}return b!==b&&k!==k}var yP=function(k,K){try{return Fg(k,K)}catch(fe){if((fe.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw fe}};const mP=Rv(yP);var Ax="http://www.w3.org/1999/xhtml";const j2={svg:"http://www.w3.org/2000/svg",xhtml:Ax,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function p4(b){var k=b+="",K=k.indexOf(":");return K>=0&&(k=b.slice(0,K))!=="xmlns"&&(b=b.slice(K+1)),j2.hasOwnProperty(k)?{space:j2[k],local:b}:b}function xP(b){return function(){var k=this.ownerDocument,K=this.namespaceURI;return K===Ax&&k.documentElement.namespaceURI===Ax?k.createElement(b):k.createElementNS(K,b)}}function bP(b){return function(){return this.ownerDocument.createElementNS(b.space,b.local)}}function g4(b){var k=p4(b);return(k.local?bP:xP)(k)}function wP(){}function y4(b){return b==null?wP:function(){return this.querySelector(b)}}function TP(b){typeof b!="function"&&(b=y4(b));for(var k=this._groups,K=k.length,fe=new Array(K),Te=0;Te<K;++Te)for(var Oe=k[Te],G=Oe.length,V=fe[Te]=new Array(G),e,g,_=0;_<G;++_)(e=Oe[_])&&(g=b.call(e,e.__data__,_,Oe))&&("__data__"in e&&(g.__data__=e.__data__),V[_]=g);return new Wu(fe,this._parents)}function m4(b){return typeof b=="object"&&"length"in b?b:Array.from(b)}function AP(){return[]}function SP(b){return b==null?AP:function(){return this.querySelectorAll(b)}}function EP(b){return function(){var k=b.apply(this,arguments);return k==null?[]:m4(k)}}function MP(b){typeof b=="function"?b=EP(b):b=SP(b);for(var k=this._groups,K=k.length,fe=[],Te=[],Oe=0;Oe<K;++Oe)for(var G=k[Oe],V=G.length,e,g=0;g<V;++g)(e=G[g])&&(fe.push(b.call(e,e.__data__,g,G)),Te.push(e));return new Wu(fe,Te)}function CP(b){return function(){return this.matches(b)}}function x4(b){return function(k){return k.matches(b)}}var LP=Array.prototype.find;function PP(b){return function(){return LP.call(this.children,b)}}function _P(){return this.firstElementChild}function RP(b){return this.select(b==null?_P:PP(typeof b=="function"?b:x4(b)))}var DP=Array.prototype.filter;function IP(){return this.children}function kP(b){return function(){return DP.call(this.children,b)}}function OP(b){return this.selectAll(b==null?IP:kP(typeof b=="function"?b:x4(b)))}function zP(b){typeof b!="function"&&(b=CP(b));for(var k=this._groups,K=k.length,fe=new Array(K),Te=0;Te<K;++Te)for(var Oe=k[Te],G=Oe.length,V=fe[Te]=[],e,g=0;g<G;++g)(e=Oe[g])&&b.call(e,e.__data__,g,Oe)&&V.push(e);return new Wu(fe,this._parents)}function b4(b){return new Array(b.length)}function FP(){return new Wu(this._enter||this._groups.map(b4),this._parents)}function my(b,k){this.ownerDocument=b.ownerDocument,this.namespaceURI=b.namespaceURI,this._next=null,this._parent=b,this.__data__=k}my.prototype={constructor:my,appendChild:function(b){return this._parent.insertBefore(b,this._next)},insertBefore:function(b,k){return this._parent.insertBefore(b,k)},querySelector:function(b){return this._parent.querySelector(b)},querySelectorAll:function(b){return this._parent.querySelectorAll(b)}};function NP(b){return function(){return b}}function BP(b,k,K,fe,Te,Oe){for(var G=0,V,e=k.length,g=Oe.length;G<g;++G)(V=k[G])?(V.__data__=Oe[G],fe[G]=V):K[G]=new my(b,Oe[G]);for(;G<e;++G)(V=k[G])&&(Te[G]=V)}function UP(b,k,K,fe,Te,Oe,G){var V,e,g=new Map,_=k.length,a=Oe.length,C=new Array(_),A;for(V=0;V<_;++V)(e=k[V])&&(C[V]=A=G.call(e,e.__data__,V,k)+"",g.has(A)?Te[V]=e:g.set(A,e));for(V=0;V<a;++V)A=G.call(b,Oe[V],V,Oe)+"",(e=g.get(A))?(fe[V]=e,e.__data__=Oe[V],g.delete(A)):K[V]=new my(b,Oe[V]);for(V=0;V<_;++V)(e=k[V])&&g.get(C[V])===e&&(Te[V]=e)}function HP(b){return b.__data__}function VP(b,k){if(!arguments.length)return Array.from(this,HP);var K=k?UP:BP,fe=this._parents,Te=this._groups;typeof b!="function"&&(b=NP(b));for(var Oe=Te.length,G=new Array(Oe),V=new Array(Oe),e=new Array(Oe),g=0;g<Oe;++g){var _=fe[g],a=Te[g],C=a.length,A=m4(b.call(_,_&&_.__data__,g,fe)),v=A.length,p=V[g]=new Array(v),t=G[g]=new Array(v),r=e[g]=new Array(C);K(_,a,p,t,r,A,k);for(var s=0,n=0,i,f;s<v;++s)if(i=p[s]){for(s>=n&&(n=s+1);!(f=t[n])&&++n<v;);i._next=f||null}}return G=new Wu(G,fe),G._enter=V,G._exit=e,G}function GP(){return new Wu(this._exit||this._groups.map(b4),this._parents)}function WP(b,k,K){var fe=this.enter(),Te=this,Oe=this.exit();return fe=typeof b=="function"?b(fe):fe.append(b+""),k!=null&&(Te=k(Te)),K==null?Oe.remove():K(Oe),fe&&Te?fe.merge(Te).order():Te}function YP(b){if(!(b instanceof Wu))throw new Error("invalid merge");for(var k=this._groups,K=b._groups,fe=k.length,Te=K.length,Oe=Math.min(fe,Te),G=new Array(fe),V=0;V<Oe;++V)for(var e=k[V],g=K[V],_=e.length,a=G[V]=new Array(_),C,A=0;A<_;++A)(C=e[A]||g[A])&&(a[A]=C);for(;V<fe;++V)G[V]=k[V];return new Wu(G,this._parents)}function jP(){for(var b=this._groups,k=-1,K=b.length;++k<K;)for(var fe=b[k],Te=fe.length-1,Oe=fe[Te],G;--Te>=0;)(G=fe[Te])&&(Oe&&G.compareDocumentPosition(Oe)^4&&Oe.parentNode.insertBefore(G,Oe),Oe=G);return this}function ZP(b){b||(b=XP);function k(a,C){return a&&C?b(a.__data__,C.__data__):!a-!C}for(var K=this._groups,fe=K.length,Te=new Array(fe),Oe=0;Oe<fe;++Oe){for(var G=K[Oe],V=G.length,e=Te[Oe]=new Array(V),g,_=0;_<V;++_)(g=G[_])&&(e[_]=g);e.sort(k)}return new Wu(Te,this._parents).order()}function XP(b,k){return b<k?-1:b>k?1:b>=k?0:NaN}function KP(){var b=arguments[0];return arguments[0]=this,b.apply(null,arguments),this}function $P(){return Array.from(this)}function JP(){for(var b=this._groups,k=0,K=b.length;k<K;++k)for(var fe=b[k],Te=0,Oe=fe.length;Te<Oe;++Te){var G=fe[Te];if(G)return G}return null}function QP(){let b=0;for(const k of this)++b;return b}function qP(){return!this.node()}function e_(b){for(var k=this._groups,K=0,fe=k.length;K<fe;++K)for(var Te=k[K],Oe=0,G=Te.length,V;Oe<G;++Oe)(V=Te[Oe])&&b.call(V,V.__data__,Oe,Te);return this}function t_(b){return function(){this.removeAttribute(b)}}function r_(b){return function(){this.removeAttributeNS(b.space,b.local)}}function n_(b,k){return function(){this.setAttribute(b,k)}}function a_(b,k){return function(){this.setAttributeNS(b.space,b.local,k)}}function i_(b,k){return function(){var K=k.apply(this,arguments);K==null?this.removeAttribute(b):this.setAttribute(b,K)}}function o_(b,k){return function(){var K=k.apply(this,arguments);K==null?this.removeAttributeNS(b.space,b.local):this.setAttributeNS(b.space,b.local,K)}}function s_(b,k){var K=p4(b);if(arguments.length<2){var fe=this.node();return K.local?fe.getAttributeNS(K.space,K.local):fe.getAttribute(K)}return this.each((k==null?K.local?r_:t_:typeof k=="function"?K.local?o_:i_:K.local?a_:n_)(K,k))}function w4(b){return b.ownerDocument&&b.ownerDocument.defaultView||b.document&&b||b.defaultView}function l_(b){return function(){this.style.removeProperty(b)}}function u_(b,k,K){return function(){this.style.setProperty(b,k,K)}}function f_(b,k,K){return function(){var fe=k.apply(this,arguments);fe==null?this.style.removeProperty(b):this.style.setProperty(b,fe,K)}}function c_(b,k,K){return arguments.length>1?this.each((k==null?l_:typeof k=="function"?f_:u_)(b,k,K??"")):h_(this.node(),b)}function h_(b,k){return b.style.getPropertyValue(k)||w4(b).getComputedStyle(b,null).getPropertyValue(k)}function v_(b){return function(){delete this[b]}}function d_(b,k){return function(){this[b]=k}}function p_(b,k){return function(){var K=k.apply(this,arguments);K==null?delete this[b]:this[b]=K}}function g_(b,k){return arguments.length>1?this.each((k==null?v_:typeof k=="function"?p_:d_)(b,k)):this.node()[b]}function T4(b){return b.trim().split(/^|\s+/)}function Hb(b){return b.classList||new A4(b)}function A4(b){this._node=b,this._names=T4(b.getAttribute("class")||"")}A4.prototype={add:function(b){var k=this._names.indexOf(b);k<0&&(this._names.push(b),this._node.setAttribute("class",this._names.join(" ")))},remove:function(b){var k=this._names.indexOf(b);k>=0&&(this._names.splice(k,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(b){return this._names.indexOf(b)>=0}};function S4(b,k){for(var K=Hb(b),fe=-1,Te=k.length;++fe<Te;)K.add(k[fe])}function E4(b,k){for(var K=Hb(b),fe=-1,Te=k.length;++fe<Te;)K.remove(k[fe])}function y_(b){return function(){S4(this,b)}}function m_(b){return function(){E4(this,b)}}function x_(b,k){return function(){(k.apply(this,arguments)?S4:E4)(this,b)}}function b_(b,k){var K=T4(b+"");if(arguments.length<2){for(var fe=Hb(this.node()),Te=-1,Oe=K.length;++Te<Oe;)if(!fe.contains(K[Te]))return!1;return!0}return this.each((typeof k=="function"?x_:k?y_:m_)(K,k))}function w_(){this.textContent=""}function T_(b){return function(){this.textContent=b}}function A_(b){return function(){var k=b.apply(this,arguments);this.textContent=k??""}}function S_(b){return arguments.length?this.each(b==null?w_:(typeof b=="function"?A_:T_)(b)):this.node().textContent}function E_(){this.innerHTML=""}function M_(b){return function(){this.innerHTML=b}}function C_(b){return function(){var k=b.apply(this,arguments);this.innerHTML=k??""}}function L_(b){return arguments.length?this.each(b==null?E_:(typeof b=="function"?C_:M_)(b)):this.node().innerHTML}function P_(){this.nextSibling&&this.parentNode.appendChild(this)}function __(){return this.each(P_)}function R_(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function D_(){return this.each(R_)}function I_(b){var k=typeof b=="function"?b:g4(b);return this.select(function(){return this.appendChild(k.apply(this,arguments))})}function k_(){return null}function O_(b,k){var K=typeof b=="function"?b:g4(b),fe=k==null?k_:typeof k=="function"?k:y4(k);return this.select(function(){return this.insertBefore(K.apply(this,arguments),fe.apply(this,arguments)||null)})}function z_(){var b=this.parentNode;b&&b.removeChild(this)}function F_(){return this.each(z_)}function N_(){var b=this.cloneNode(!1),k=this.parentNode;return k?k.insertBefore(b,this.nextSibling):b}function B_(){var b=this.cloneNode(!0),k=this.parentNode;return k?k.insertBefore(b,this.nextSibling):b}function U_(b){return this.select(b?B_:N_)}function H_(b){return arguments.length?this.property("__data__",b):this.node().__data__}function V_(b){return function(k){b.call(this,k,this.__data__)}}function G_(b){return b.trim().split(/^|\s+/).map(function(k){var K="",fe=k.indexOf(".");return fe>=0&&(K=k.slice(fe+1),k=k.slice(0,fe)),{type:k,name:K}})}function W_(b){return function(){var k=this.__on;if(k){for(var K=0,fe=-1,Te=k.length,Oe;K<Te;++K)Oe=k[K],(!b.type||Oe.type===b.type)&&Oe.name===b.name?this.removeEventListener(Oe.type,Oe.listener,Oe.options):k[++fe]=Oe;++fe?k.length=fe:delete this.__on}}}function Y_(b,k,K){return function(){var fe=this.__on,Te,Oe=V_(k);if(fe){for(var G=0,V=fe.length;G<V;++G)if((Te=fe[G]).type===b.type&&Te.name===b.name){this.removeEventListener(Te.type,Te.listener,Te.options),this.addEventListener(Te.type,Te.listener=Oe,Te.options=K),Te.value=k;return}}this.addEventListener(b.type,Oe,K),Te={type:b.type,name:b.name,value:k,listener:Oe,options:K},fe?fe.push(Te):this.__on=[Te]}}function j_(b,k,K){var fe=G_(b+""),Te,Oe=fe.length,G;if(arguments.length<2){var V=this.node().__on;if(V){for(var e=0,g=V.length,_;e<g;++e)for(Te=0,_=V[e];Te<Oe;++Te)if((G=fe[Te]).type===_.type&&G.name===_.name)return _.value}return}for(V=k?Y_:W_,Te=0;Te<Oe;++Te)this.each(V(fe[Te],k,K));return this}function M4(b,k,K){var fe=w4(b),Te=fe.CustomEvent;typeof Te=="function"?Te=new Te(k,K):(Te=fe.document.createEvent("Event"),K?(Te.initEvent(k,K.bubbles,K.cancelable),Te.detail=K.detail):Te.initEvent(k,!1,!1)),b.dispatchEvent(Te)}function Z_(b,k){return function(){return M4(this,b,k)}}function X_(b,k){return function(){return M4(this,b,k.apply(this,arguments))}}function K_(b,k){return this.each((typeof k=="function"?X_:Z_)(b,k))}function*$_(){for(var b=this._groups,k=0,K=b.length;k<K;++k)for(var fe=b[k],Te=0,Oe=fe.length,G;Te<Oe;++Te)(G=fe[Te])&&(yield G)}var J_=[null];function Wu(b,k){this._groups=b,this._parents=k}function Q_(){return this}Wu.prototype={constructor:Wu,select:TP,selectAll:MP,selectChild:RP,selectChildren:OP,filter:zP,data:VP,enter:FP,exit:GP,join:WP,merge:YP,selection:Q_,order:jP,sort:ZP,call:KP,nodes:$P,node:JP,size:QP,empty:qP,each:e_,attr:s_,style:c_,property:g_,classed:b_,text:S_,html:L_,raise:__,lower:D_,append:I_,insert:O_,remove:F_,clone:U_,datum:H_,on:j_,dispatch:K_,[Symbol.iterator]:$_};function Z2(b){return typeof b=="string"?new Wu([[document.querySelector(b)]],[document.documentElement]):new Wu([[b]],J_)}function q_(b,k){switch(arguments.length){case 0:break;case 1:this.range(b);break;default:this.range(k).domain(b);break}return this}const X2=Symbol("implicit");function C4(){var b=new Map,k=[],K=[],fe=X2;function Te(Oe){var G=Oe+"",V=b.get(G);if(!V){if(fe!==X2)return fe;b.set(G,V=k.push(Oe))}return K[(V-1)%K.length]}return Te.domain=function(Oe){if(!arguments.length)return k.slice();k=[],b=new Map;for(const G of Oe){const V=G+"";b.has(V)||b.set(V,k.push(G))}return Te},Te.range=function(Oe){return arguments.length?(K=Array.from(Oe),Te):K.slice()},Te.unknown=function(Oe){return arguments.length?(fe=Oe,Te):fe},Te.copy=function(){return C4(k,K).unknown(fe)},q_.apply(Te,arguments),Te}function eR(b){for(var k=b.length/6|0,K=new Array(k),fe=0;fe<k;)K[fe]="#"+b.slice(fe*6,++fe*6);return K}const tR=eR("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function rR(b,k){return oR(b)||iR(b,k)||aR(b,k)||nR()}function nR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aR(b,k){if(b){if(typeof b=="string")return K2(b,k);var K=Object.prototype.toString.call(b).slice(8,-1);if(K==="Object"&&b.constructor&&(K=b.constructor.name),K==="Map"||K==="Set")return Array.from(b);if(K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return K2(b,k)}}function K2(b,k){(k==null||k>b.length)&&(k=b.length);for(var K=0,fe=new Array(k);K<k;K++)fe[K]=b[K];return fe}function iR(b,k){var K=b==null?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(K!=null){var fe=[],Te=!0,Oe=!1,G,V;try{for(K=K.call(b);!(Te=(G=K.next()).done)&&(fe.push(G.value),!(k&&fe.length===k));Te=!0);}catch(e){Oe=!0,V=e}finally{try{!Te&&K.return!=null&&K.return()}finally{if(Oe)throw V}}return fe}}function oR(b){if(Array.isArray(b))return b}var sR=C4(tR);function L4(b){var k=b.data,K=b.width,fe=K===void 0?700:K,Te=b.height,Oe=Te===void 0?600:Te,G=b.font,V=G===void 0?"serif":G,e=b.fontStyle,g=e===void 0?"normal":e,_=b.fontWeight,a=_===void 0?"normal":_,C=b.fontSize,A=C===void 0?function(S){return Math.sqrt(S.value)}:C,v=b.rotate,p=v===void 0?function(){return(~~(Math.random()*6)-3)*30}:v,t=b.spiral,r=t===void 0?"archimedean":t,s=b.padding,n=s===void 0?1:s,i=b.random,f=i===void 0?Math.random:i,u=b.fill,y=u===void 0?function(S,P){return sR(P)}:u,c=b.onWordClick,T=b.onWordMouseOver,h=b.onWordMouseOut,l=Jr.useRef();l.current||(l.current=YL.createElement("div"));var d=l.current;Z2(d).selectAll("*").remove();var E=hP().words(k).size([fe,Oe]).font(V).fontStyle(g).fontWeight(a).fontSize(A).rotate(p).spiral(r).padding(n).random(f).on("end",function(S){var P=E.size(),x=rR(P,2),M=x[0],w=x[1],o=Z2(d).append("svg").attr("viewBox","0 0 ".concat(M," ").concat(w)).attr("preserveAspectRatio","xMinYMin meet").append("g").attr("transform","translate(".concat(M/2,",").concat(w/2,")")).selectAll("text").data(S).enter().append("text").style("font-family",function(L){return L.font}).style("font-style",function(L){return L.style}).style("font-weight",function(L){return L.weight}).style("font-size",function(L){return"".concat(L.size,"px")}).style("fill",y).attr("text-anchor","middle").attr("transform",function(L){return"translate(".concat([L.x,L.y],")rotate(").concat(L.rotate,")")}).text(function(L){return L.text});c&&o.on("click",c),T&&o.on("mouseover",T),h&&o.on("mouseout",h)});return E.start(),d.toReact()}L4.propTypes={data:Di.arrayOf(Di.shape({text:Di.string.isRequired,value:Di.number.isRequired})).isRequired,width:Di.number,height:Di.number,font:Di.oneOfType([Di.string,Di.func]),fontStyle:Di.oneOfType([Di.string,Di.func]),fontWeight:Di.oneOfType([Di.string,Di.number,Di.func]),fontSize:Di.oneOfType([Di.number,Di.func]),rotate:Di.oneOfType([Di.number,Di.func]),spiral:Di.oneOfType([Di.oneOf(["archimedean"]),Di.oneOf(["rectangular"]),Di.func]),padding:Di.oneOfType([Di.number,Di.func]),random:Di.func,onWordClick:Di.func,onWordMouseOver:Di.func,onWordMouseOut:Di.func};const xy=ui.memo(L4,mP);var P4={},_4={};(function(b){function k(f){"@babel/helpers - typeof";return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},k(f)}Object.defineProperty(b,"__esModule",{value:!0}),b.default=i;var K=G(Jr),fe=Te(QA);function Te(f){return f&&f.__esModule?f:{default:f}}function Oe(f){if(typeof WeakMap!="function")return null;var u=new WeakMap,y=new WeakMap;return(Oe=function(T){return T?y:u})(f)}function G(f,u){if(!u&&f&&f.__esModule)return f;if(f===null||k(f)!=="object"&&typeof f!="function")return{default:f};var y=Oe(u);if(y&&y.has(f))return y.get(f);var c={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in f)if(h!=="default"&&Object.prototype.hasOwnProperty.call(f,h)){var l=T?Object.getOwnPropertyDescriptor(f,h):null;l&&(l.get||l.set)?Object.defineProperty(c,h,l):c[h]=f[h]}return c.default=f,y&&y.set(f,c),c}function V(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function e(f,u){for(var y=0;y<u.length;y++){var c=u[y];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function g(f,u,y){return u&&e(f.prototype,u),y&&e(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}function _(f,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),u&&a(f,u)}function a(f,u){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,T){return c.__proto__=T,c},a(f,u)}function C(f){var u=p();return function(){var c=t(f),T;if(u){var h=t(this).constructor;T=Reflect.construct(c,arguments,h)}else T=c.apply(this,arguments);return A(this,T)}}function A(f,u){if(u&&(k(u)==="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(f)}function v(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function t(f){return t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},t(f)}var r=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover","WebGlContextLost"],s=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],n=typeof window<"u";function i(f){var u=function(y){_(T,y);var c=C(T);function T(h){var l;return V(this,T),l=c.call(this,h),l.p=Promise.resolve(),l.resizeHandler=null,l.handlers={},l.syncWindowResize=l.syncWindowResize.bind(v(l)),l.syncEventHandlers=l.syncEventHandlers.bind(v(l)),l.attachUpdateEvents=l.attachUpdateEvents.bind(v(l)),l.getRef=l.getRef.bind(v(l)),l.handleUpdate=l.handleUpdate.bind(v(l)),l.figureCallback=l.figureCallback.bind(v(l)),l.updatePlotly=l.updatePlotly.bind(v(l)),l}return g(T,[{key:"updatePlotly",value:function(l,d,E){var S=this;this.p=this.p.then(function(){if(!S.unmounting){if(!S.el)throw new Error("Missing element reference");return f.react(S.el,{data:S.props.data,layout:S.props.layout,config:S.props.config,frames:S.props.frames})}}).then(function(){S.unmounting||(S.syncWindowResize(l),S.syncEventHandlers(),S.figureCallback(d),E&&S.attachUpdateEvents())}).catch(function(P){S.props.onError&&S.props.onError(P)})}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(l){this.unmounting=!1;var d=l.frames&&l.frames.length?l.frames.length:0,E=this.props.frames&&this.props.frames.length?this.props.frames.length:0,S=!(l.layout===this.props.layout&&l.data===this.props.data&&l.config===this.props.config&&E===d),P=l.revision!==void 0,x=l.revision!==this.props.revision;!S&&(!P||P&&!x)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&n&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),f.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var l=this;!this.el||!this.el.removeListener||s.forEach(function(d){l.el.on(d,l.handleUpdate)})}},{key:"removeUpdateEvents",value:function(){var l=this;!this.el||!this.el.removeListener||s.forEach(function(d){l.el.removeListener(d,l.handleUpdate)})}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(l){if(typeof l=="function"){var d=this.el,E=d.data,S=d.layout,P=this.el._transitionData?this.el._transitionData._frames:null,x={data:E,layout:S,frames:P};l(x,this.el)}}},{key:"syncWindowResize",value:function(l){var d=this;n&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return f.Plots.resize(d.el)},window.addEventListener("resize",this.resizeHandler),l&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(l){this.el=l,this.props.debug&&n&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var l=this;r.forEach(function(d){var E=l.props["on"+d],S=l.handlers[d],P=!!S;E&&!P?l.addEventHandler(d,E):!E&&P?l.removeEventHandler(d):E&&P&&E!==S&&(l.removeEventHandler(d),l.addEventHandler(d,E))})}},{key:"addEventHandler",value:function(l,d){this.handlers[l]=d,this.el.on(this.getPlotlyEventName(l),this.handlers[l])}},{key:"removeEventHandler",value:function(l){this.el.removeListener(this.getPlotlyEventName(l),this.handlers[l]),delete this.handlers[l]}},{key:"getPlotlyEventName",value:function(l){return"plotly_"+l.toLowerCase()}},{key:"render",value:function(){return K.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),T}(K.Component);return u.propTypes={data:fe.default.arrayOf(fe.default.object),config:fe.default.object,layout:fe.default.object,frames:fe.default.arrayOf(fe.default.object),revision:fe.default.number,onInitialized:fe.default.func,onPurge:fe.default.func,onError:fe.default.func,onUpdate:fe.default.func,debug:fe.default.bool,style:fe.default.object,className:fe.default.string,useResizeHandler:fe.default.bool,divId:fe.default.string},r.forEach(function(y){u.propTypes["on"+y]=fe.default.func}),u.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},u}})(_4);var R4={exports:{}};(function(b,k){(function(fe,Te){b.exports=Te()})(self,function(){return function(){var K={98847:function(G,V,e){var g=e(71828),_={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var a in _){var C=a.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");g.addStyleRule(C,_[a])}},98222:function(G,V,e){G.exports=e(82887)},27206:function(G,V,e){G.exports=e(60822)},59893:function(G,V,e){G.exports=e(23381)},5224:function(G,V,e){G.exports=e(83832)},59509:function(G,V,e){G.exports=e(72201)},75557:function(G,V,e){G.exports=e(91815)},40338:function(G,V,e){G.exports=e(21462)},35080:function(G,V,e){G.exports=e(51319)},61396:function(G,V,e){G.exports=e(57516)},40549:function(G,V,e){G.exports=e(98128)},49866:function(G,V,e){G.exports=e(99442)},36089:function(G,V,e){G.exports=e(93740)},19548:function(G,V,e){G.exports=e(8729)},35831:function(G,V,e){G.exports=e(93814)},61039:function(G,V,e){G.exports=e(14382)},97040:function(G,V,e){G.exports=e(51759)},77986:function(G,V,e){G.exports=e(10421)},24296:function(G,V,e){G.exports=e(43102)},58872:function(G,V,e){G.exports=e(92165)},29626:function(G,V,e){G.exports=e(3325)},65591:function(G,V,e){G.exports=e(36071)},69738:function(G,V,e){G.exports=e(43905)},92650:function(G,V,e){G.exports=e(35902)},35630:function(G,V,e){G.exports=e(69816)},73434:function(G,V,e){G.exports=e(94507)},27909:function(G,V,e){var g=e(19548);g.register([e(27206),e(5224),e(58872),e(65591),e(69738),e(92650),e(49866),e(25743),e(6197),e(97040),e(85461),e(73434),e(54201),e(81299),e(47645),e(35630),e(77986),e(83043),e(93005),e(96881),e(4534),e(50581),e(40549),e(77900),e(47582),e(35080),e(21641),e(17280),e(5861),e(29626),e(10021),e(65317),e(96268),e(61396),e(35831),e(16122),e(46163),e(40344),e(40338),e(48131),e(36089),e(55334),e(75557),e(19440),e(99488),e(59893),e(97393),e(98222),e(61039),e(24296),e(66398),e(59509)]),G.exports=g},46163:function(G,V,e){G.exports=e(15154)},96881:function(G,V,e){G.exports=e(64943)},50581:function(G,V,e){G.exports=e(21164)},55334:function(G,V,e){G.exports=e(54186)},65317:function(G,V,e){G.exports=e(94873)},10021:function(G,V,e){G.exports=e(67618)},54201:function(G,V,e){G.exports=e(58810)},5861:function(G,V,e){G.exports=e(20593)},16122:function(G,V,e){G.exports=e(29396)},83043:function(G,V,e){G.exports=e(13551)},48131:function(G,V,e){G.exports=e(46858)},47582:function(G,V,e){G.exports=e(17988)},21641:function(G,V,e){G.exports=e(68868)},96268:function(G,V,e){G.exports=e(20467)},19440:function(G,V,e){G.exports=e(91271)},99488:function(G,V,e){G.exports=e(21461)},97393:function(G,V,e){G.exports=e(85956)},25743:function(G,V,e){G.exports=e(52979)},66398:function(G,V,e){G.exports=e(32275)},17280:function(G,V,e){G.exports=e(6419)},77900:function(G,V,e){G.exports=e(61510)},81299:function(G,V,e){G.exports=e(87619)},93005:function(G,V,e){G.exports=e(93601)},40344:function(G,V,e){G.exports=e(96595)},47645:function(G,V,e){G.exports=e(70954)},6197:function(G,V,e){G.exports=e(47462)},4534:function(G,V,e){G.exports=e(17659)},85461:function(G,V,e){G.exports=e(19990)},82884:function(G){G.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(G,V,e){var g=e(82884),_=e(41940),a=e(85555),C=e(44467).templatedArray;e(24695),G.exports=C("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:_({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:g.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:g.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:_({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(G,V,e){var g=e(71828),_=e(89298),a=e(92605).draw;G.exports=function(p){var t=p._fullLayout,r=g.filterVisible(t.annotations);if(r.length&&p._fullData.length)return g.syncOrAsync([a,C],p)};function C(v){var p=v._fullLayout;g.filterVisible(p.annotations).forEach(function(t){var r=_.getFromId(v,t.xref),s=_.getFromId(v,t.yref),n=_.getRefType(t.xref),i=_.getRefType(t.yref);t._extremes={},n==="range"&&A(t,r),i==="range"&&A(t,s)})}function A(v,p){var t=p._id,r=t.charAt(0),s=v[r],n=v["a"+r],i=v[r+"ref"],f=v["a"+r+"ref"],u=v["_"+r+"padplus"],y=v["_"+r+"padminus"],c={x:1,y:-1}[r]*v[r+"shift"],T=3*v.arrowsize*v.arrowwidth||0,h=T+c,l=T-c,d=3*v.startarrowsize*v.arrowwidth||0,E=d+c,S=d-c,P;if(f===i){var x=_.findExtremes(p,[p.r2c(s)],{ppadplus:h,ppadminus:l}),M=_.findExtremes(p,[p.r2c(n)],{ppadplus:Math.max(u,E),ppadminus:Math.max(y,S)});P={min:[x.min[0],M.min[0]],max:[x.max[0],M.max[0]]}}else E=n?E+n:E,S=n?S-n:S,P=_.findExtremes(p,[p.r2c(s)],{ppadplus:Math.max(u,h,E),ppadminus:Math.max(y,l,S)});v._extremes[t]=P}},44317:function(G,V,e){var g=e(71828),_=e(73972),a=e(44467).arrayEditor;G.exports={hasClickToShow:C,onClick:A};function C(t,r){var s=v(t,r);return s.on.length>0||s.explicitOff.length>0}function A(t,r){var s=v(t,r),n=s.on,i=s.off.concat(s.explicitOff),f={},u=t._fullLayout.annotations,y,c;if(n.length||i.length){for(y=0;y<n.length;y++)c=a(t.layout,"annotations",u[n[y]]),c.modifyItem("visible",!0),g.extendFlat(f,c.getUpdateObj());for(y=0;y<i.length;y++)c=a(t.layout,"annotations",u[i[y]]),c.modifyItem("visible",!1),g.extendFlat(f,c.getUpdateObj());return _.call("update",t,{},f)}}function v(t,r){var s=t._fullLayout.annotations,n=[],i=[],f=[],u=(r||[]).length,y,c,T,h,l,d,E,S;for(y=0;y<s.length;y++)if(T=s[y],h=T.clicktoshow,h){for(c=0;c<u;c++)if(l=r[c],d=l.xaxis,E=l.yaxis,d._id===T.xref&&E._id===T.yref&&d.d2r(l.x)===p(T._xclick,d)&&E.d2r(l.y)===p(T._yclick,E)){T.visible?h==="onout"?S=i:S=f:S=n,S.push(y);break}c===u&&T.visible&&h==="onout"&&i.push(y)}return{on:n,off:i,explicitOff:f}}function p(t,r){return r.type==="log"?r.l2r(t):r.d2r(t)}},25625:function(G,V,e){var g=e(71828),_=e(7901);G.exports=function(C,A,v,p){p("opacity");var t=p("bgcolor"),r=p("bordercolor"),s=_.opacity(r);p("borderpad");var n=p("borderwidth"),i=p("showarrow");p("text",i?" ":v._dfltTitle.annotation),p("textangle"),g.coerceFont(p,"font",v.font),p("width"),p("align");var f=p("height");if(f&&p("valign"),i){var u=p("arrowside"),y,c;u.indexOf("end")!==-1&&(y=p("arrowhead"),c=p("arrowsize")),u.indexOf("start")!==-1&&(p("startarrowhead",y),p("startarrowsize",c)),p("arrowcolor",s?A.bordercolor:_.defaultLine),p("arrowwidth",(s&&n||1)*2),p("standoff"),p("startstandoff")}var T=p("hovertext"),h=v.hoverlabel||{};if(T){var l=p("hoverlabel.bgcolor",h.bgcolor||(_.opacity(t)?_.rgb(t):_.defaultLine)),d=p("hoverlabel.bordercolor",h.bordercolor||_.contrast(l));g.coerceFont(p,"hoverlabel.font",{family:h.font.family,size:h.font.size,color:h.font.color||d})}p("captureevents",!!T)}},94128:function(G,V,e){var g=e(92770),_=e(58163);G.exports=function(C,A,v,p){A=A||{};var t=v==="log"&&A.type==="linear",r=v==="linear"&&A.type==="log";if(!(t||r))return;var s=C._fullLayout.annotations,n=A._id.charAt(0),i,f;function u(c){var T=i[c],h=null;t?h=_(T,A.range):h=Math.pow(10,T),g(h)||(h=null),p(f+c,h)}for(var y=0;y<s.length;y++)i=s[y],f="annotations["+y+"].",i[n+"ref"]===A._id&&u(n),i["a"+n+"ref"]===A._id&&u("a"+n)}},84046:function(G,V,e){var g=e(71828),_=e(89298),a=e(85501),C=e(25625),A=e(50215);G.exports=function(t,r){a(t,r,{name:"annotations",handleItemDefaults:v})};function v(p,t,r){function s(w,o){return g.coerce(p,t,A,w,o)}var n=s("visible"),i=s("clicktoshow");if(n||i){C(p,t,r,s);for(var f=t.showarrow,u=["x","y"],y=[-10,-30],c={_fullLayout:r},T=0;T<2;T++){var h=u[T],l=_.coerceRef(p,t,c,h,"","paper");if(l!=="paper"){var d=_.getFromId(c,l);d._annIndices.push(t._index)}if(_.coercePosition(t,c,s,l,h,.5),f){var E="a"+h,S=_.coerceRef(p,t,c,E,"pixel",["pixel","paper"]);S!=="pixel"&&S!==l&&(S=t[E]="pixel");var P=S==="pixel"?y[T]:.4;_.coercePosition(t,c,s,S,E,P)}s(h+"anchor"),s(h+"shift")}if(g.noneOrAll(p,t,["x","y"]),f&&g.noneOrAll(p,t,["ax","ay"]),i){var x=s("xclick"),M=s("yclick");t._xclick=x===void 0?t.x:_.cleanPosition(x,c,t.xref),t._yclick=M===void 0?t.y:_.cleanPosition(M,c,t.yref)}}}},92605:function(G,V,e){var g=e(39898),_=e(73972),a=e(74875),C=e(71828),A=C.strTranslate,v=e(89298),p=e(7901),t=e(91424),r=e(30211),s=e(63893),n=e(6964),i=e(28569),f=e(44467).arrayEditor,u=e(13011);G.exports={draw:y,drawOne:c,drawRaw:h};function y(l){var d=l._fullLayout;d._infolayer.selectAll(".annotation").remove();for(var E=0;E<d.annotations.length;E++)d.annotations[E].visible&&c(l,E);return a.previousPromises(l)}function c(l,d){var E=l._fullLayout,S=E.annotations[d]||{},P=v.getFromId(l,S.xref),x=v.getFromId(l,S.yref);P&&P.setScale(),x&&x.setScale(),h(l,S,d,!1,P,x)}function T(l,d,E,S,P){var x=P[E],M=P[E+"ref"],w=E.indexOf("y")!==-1,o=v.getRefType(M)==="domain",L=w?S.h:S.w;return l?o?x+(w?-d:d)/l._length:l.p2r(l.r2p(x)+d):x+(w?-d:d)/L}function h(l,d,E,S,P,x){var M=l._fullLayout,w=l._fullLayout._size,o=l._context.edits,L,m;S?(L="annotation-"+S,m=S+".annotations"):(L="annotation",m="annotations");var F=f(l.layout,m,d),I=F.modifyBase,U=F.modifyItem,z=F.getUpdateObj;M._infolayer.selectAll("."+L+'[data-index="'+E+'"]').remove();var N="clip"+M._uid+"_ann"+E;if(!d._input||d.visible===!1){g.selectAll("#"+N).remove();return}var B={x:{},y:{}},O=+d.textangle||0,H=M._infolayer.append("g").classed(L,!0).attr("data-index",String(E)).style("opacity",d.opacity),Y=H.append("g").classed("annotation-text-g",!0),J=o[d.showarrow?"annotationTail":"annotationPosition"],re=d.captureevents||o.annotationText||J;function ie(me){var Ce={index:E,annotation:d._input,fullAnnotation:d,event:me};return S&&(Ce.subplotId=S),Ce}var ce=Y.append("g").style("pointer-events",re?"all":null).call(n,"pointer").on("click",function(){l._dragging=!1,l.emit("plotly_clickannotation",ie(g.event))});d.hovertext&&ce.on("mouseover",function(){var me=d.hoverlabel,Ce=me.font,Ae=this.getBoundingClientRect(),Ue=l.getBoundingClientRect();r.loneHover({x0:Ae.left-Ue.left,x1:Ae.right-Ue.left,y:(Ae.top+Ae.bottom)/2-Ue.top,text:d.hovertext,color:me.bgcolor,borderColor:me.bordercolor,fontFamily:Ce.family,fontSize:Ce.size,fontColor:Ce.color},{container:M._hoverlayer.node(),outerContainer:M._paper.node(),gd:l})}).on("mouseout",function(){r.loneUnhover(M._hoverlayer.node())});var Q=d.borderwidth,j=d.borderpad,Z=Q+j,$=ce.append("rect").attr("class","bg").style("stroke-width",Q+"px").call(p.stroke,d.bordercolor).call(p.fill,d.bgcolor),te=d.width||d.height,se=M._topclips.selectAll("#"+N).data(te?[0]:[]);se.enter().append("clipPath").classed("annclip",!0).attr("id",N).append("rect"),se.exit().remove();var ee=d.font,q=M._meta?C.templateString(d.text,M._meta):d.text,le=ce.append("text").classed("annotation-text",!0).text(q);function oe(me){return me.call(t.font,ee).attr({"text-anchor":{left:"start",right:"end"}[d.align]||"middle"}),s.convertToTspans(me,l,he),me}function he(){var me=le.selectAll("a");if(me.size()===1&&me.text()===le.text()){var Ce=ce.insert("a",":first-child").attr({"xlink:xlink:href":me.attr("xlink:href"),"xlink:xlink:show":me.attr("xlink:show")}).style({cursor:"pointer"});Ce.node().appendChild($.node())}var Ae=ce.select(".annotation-text-math-group"),Ue=!Ae.empty(),Ve=t.bBox((Ue?Ae:le).node()),Pe=Ve.width,be=Ve.height,Le=d.width||Pe,We=d.height||be,je=Math.round(Le+2*Z),Fe=Math.round(We+2*Z);function Ze(mr,vr){return vr==="auto"&&(mr<.3333333333333333?vr="left":mr>.6666666666666666?vr="right":vr="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[vr]}for(var ut=!1,at=["x","y"],it=0;it<at.length;it++){var $e=at[it],st=d[$e+"ref"]||$e,ct=d["a"+$e+"ref"],vt={x:P,y:x}[$e],St=(O+($e==="x"?0:-90))*Math.PI/180,Mt=je*Math.cos(St),Bt=Fe*Math.sin(St),Qe=Math.abs(Mt)+Math.abs(Bt),ke=d[$e+"anchor"],ze=d[$e+"shift"]*($e==="x"?1:-1),Be=B[$e],Re,we,ye,Se,Me,He=v.getRefType(st);if(vt&&He!=="domain"){var qe=vt.r2fraction(d[$e]);(qe<0||qe>1)&&(ct===st?(qe=vt.r2fraction(d["a"+$e]),(qe<0||qe>1)&&(ut=!0)):ut=!0),Re=vt._offset+vt.r2p(d[$e]),Se=.5}else{var rt=He==="domain";$e==="x"?(ye=d[$e],Re=rt?vt._offset+vt._length*ye:Re=w.l+w.w*ye):(ye=1-d[$e],Re=rt?vt._offset+vt._length*ye:Re=w.t+w.h*ye),Se=d.showarrow?.5:ye}if(d.showarrow){Be.head=Re;var pt=d["a"+$e];if(Me=Mt*Ze(.5,d.xanchor)-Bt*Ze(.5,d.yanchor),ct===st){var At=v.getRefType(ct);At==="domain"?($e==="y"&&(pt=1-pt),Be.tail=vt._offset+vt._length*pt):At==="paper"?$e==="y"?(pt=1-pt,Be.tail=w.t+w.h*pt):Be.tail=w.l+w.w*pt:Be.tail=vt._offset+vt.r2p(pt),we=Me}else Be.tail=Re+pt,we=Me+pt;Be.text=Be.tail+Me;var jt=M[$e==="x"?"width":"height"];if(st==="paper"&&(Be.head=C.constrain(Be.head,1,jt-1)),ct==="pixel"){var tr=-Math.max(Be.tail-3,Be.text),Ct=Math.min(Be.tail+3,Be.text)-jt;tr>0?(Be.tail+=tr,Be.text+=tr):Ct>0&&(Be.tail-=Ct,Be.text-=Ct)}Be.tail+=ze,Be.head+=ze}else Me=Qe*Ze(Se,ke),we=Me,Be.text=Re+Me;Be.text+=ze,Me+=ze,we+=ze,d["_"+$e+"padplus"]=Qe/2+we,d["_"+$e+"padminus"]=Qe/2-we,d["_"+$e+"size"]=Qe,d["_"+$e+"shift"]=Me}if(ut){ce.remove();return}var Nt=0,Kt=0;if(d.align!=="left"&&(Nt=(Le-Pe)*(d.align==="center"?.5:1)),d.valign!=="top"&&(Kt=(We-be)*(d.valign==="middle"?.5:1)),Ue)Ae.select("svg").attr({x:Z+Nt-1,y:Z+Kt}).call(t.setClipUrl,te?N:null,l);else{var wr=Z+Kt-Ve.top,yt=Z+Nt-Ve.left;le.call(s.positionText,yt,wr).call(t.setClipUrl,te?N:null,l)}se.select("rect").call(t.setRect,Z,Z,Le,We),$.call(t.setRect,Q/2,Q/2,je-Q,Fe-Q),ce.call(t.setTranslate,Math.round(B.x.text-je/2),Math.round(B.y.text-Fe/2)),Y.attr({transform:"rotate("+O+","+B.x.text+","+B.y.text+")"});var $t=function(mr,vr){H.selectAll(".annotation-arrow-g").remove();var bt=B.x.head,ht=B.y.head,Tt=B.x.tail+mr,Pt=B.y.tail+vr,zt=B.x.text+mr,Dt=B.y.text+vr,Vt=C.rotationXYMatrix(O,zt,Dt),Ut=C.apply2DTransform(Vt),Qt=C.apply2DTransform2(Vt),hr=+$.attr("width"),cr=+$.attr("height"),lr=zt-.5*hr,Xe=lr+hr,Ke=Dt-.5*cr,Ot=Ke+cr,Lt=[[lr,Ke,lr,Ot],[lr,Ot,Xe,Ot],[Xe,Ot,Xe,Ke],[Xe,Ke,lr,Ke]].map(Qt);if(!Lt.reduce(function(Ur,yn){return Ur^!!C.segmentsIntersect(bt,ht,bt+1e6,ht+1e6,yn[0],yn[1],yn[2],yn[3])},!1)){Lt.forEach(function(Ur){var yn=C.segmentsIntersect(Tt,Pt,bt,ht,Ur[0],Ur[1],Ur[2],Ur[3]);yn&&(Tt=yn.x,Pt=yn.y)});var Xt=d.arrowwidth,rr=d.arrowcolor,ur=d.arrowside,or=H.append("g").style({opacity:p.opacity(rr)}).classed("annotation-arrow-g",!0),Ht=or.append("path").attr("d","M"+Tt+","+Pt+"L"+bt+","+ht).style("stroke-width",Xt+"px").call(p.stroke,p.rgb(rr));if(u(Ht,ur,d),o.annotationPosition&&Ht.node().parentNode&&!S){var gr=bt,br=ht;if(d.standoff){var xr=Math.sqrt(Math.pow(bt-Tt,2)+Math.pow(ht-Pt,2));gr+=d.standoff*(Tt-bt)/xr,br+=d.standoff*(Pt-ht)/xr}var dr=or.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Tt-gr)+","+(Pt-br),transform:A(gr,br)}).style("stroke-width",Xt+6+"px").call(p.stroke,"rgba(0,0,0,0)").call(p.fill,"rgba(0,0,0,0)"),Wr,Br;i.init({element:dr.node(),gd:l,prepFn:function(){var Ur=t.getTranslate(ce);Wr=Ur.x,Br=Ur.y,P&&P.autorange&&I(P._name+".autorange",!0),x&&x.autorange&&I(x._name+".autorange",!0)},moveFn:function(Ur,yn){var rn=Ut(Wr,Br),Un=rn[0]+Ur,bn=rn[1]+yn;ce.call(t.setTranslate,Un,bn),U("x",T(P,Ur,"x",w,d)),U("y",T(x,yn,"y",w,d)),d.axref===d.xref&&U("ax",T(P,Ur,"ax",w,d)),d.ayref===d.yref&&U("ay",T(x,yn,"ay",w,d)),or.attr("transform",A(Ur,yn)),Y.attr({transform:"rotate("+O+","+Un+","+bn+")"})},doneFn:function(){_.call("_guiRelayout",l,z());var Ur=document.querySelector(".js-notes-box-panel");Ur&&Ur.redraw(Ur.selectedObj)}})}}};if(d.showarrow&&$t(0,0),J){var er;i.init({element:ce.node(),gd:l,prepFn:function(){er=Y.attr("transform")},moveFn:function(mr,vr){var bt="pointer";if(d.showarrow)d.axref===d.xref?U("ax",T(P,mr,"ax",w,d)):U("ax",d.ax+mr),d.ayref===d.yref?U("ay",T(x,vr,"ay",w.w,d)):U("ay",d.ay+vr),$t(mr,vr);else{if(S)return;var ht,Tt;if(P)ht=T(P,mr,"x",w,d);else{var Pt=d._xsize/w.w,zt=d.x+(d._xshift-d.xshift)/w.w-Pt/2;ht=i.align(zt+mr/w.w,Pt,0,1,d.xanchor)}if(x)Tt=T(x,vr,"y",w,d);else{var Dt=d._ysize/w.h,Vt=d.y-(d._yshift+d.yshift)/w.h-Dt/2;Tt=i.align(Vt-vr/w.h,Dt,0,1,d.yanchor)}U("x",ht),U("y",Tt),(!P||!x)&&(bt=i.getCursor(P?.5:ht,x?.5:Tt,d.xanchor,d.yanchor))}Y.attr({transform:A(mr,vr)+er}),n(ce,bt)},clickFn:function(mr,vr){d.captureevents&&l.emit("plotly_clickannotation",ie(vr))},doneFn:function(){n(ce),_.call("_guiRelayout",l,z());var mr=document.querySelector(".js-notes-box-panel");mr&&mr.redraw(mr.selectedObj)}})}}o.annotationText?le.call(s.makeEditable,{delegate:ce,gd:l}).call(oe).on("edit",function(me){d.text=me,this.call(oe),U("text",me),P&&P.autorange&&I(P._name+".autorange",!0),x&&x.autorange&&I(x._name+".autorange",!0),_.call("_guiRelayout",l,z())}):le.call(oe)}},13011:function(G,V,e){var g=e(39898),_=e(7901),a=e(82884),C=e(71828),A=C.strScale,v=C.strRotate,p=C.strTranslate;G.exports=function(r,s,n){var i=r.node(),f=a[n.arrowhead||0],u=a[n.startarrowhead||0],y=(n.arrowwidth||1)*(n.arrowsize||1),c=(n.arrowwidth||1)*(n.startarrowsize||1),T=s.indexOf("start")>=0,h=s.indexOf("end")>=0,l=f.backoff*y+n.standoff,d=u.backoff*c+n.startstandoff,E,S,P,x;if(i.nodeName==="line"){E={x:+r.attr("x1"),y:+r.attr("y1")},S={x:+r.attr("x2"),y:+r.attr("y2")};var M=E.x-S.x,w=E.y-S.y;if(P=Math.atan2(w,M),x=P+Math.PI,l&&d&&l+d>Math.sqrt(M*M+w*w)){Y();return}if(l){if(l*l>M*M+w*w){Y();return}var o=l*Math.cos(P),L=l*Math.sin(P);S.x+=o,S.y+=L,r.attr({x2:S.x,y2:S.y})}if(d){if(d*d>M*M+w*w){Y();return}var m=d*Math.cos(P),F=d*Math.sin(P);E.x-=m,E.y-=F,r.attr({x1:E.x,y1:E.y})}}else if(i.nodeName==="path"){var I=i.getTotalLength(),U="";if(I<l+d){Y();return}var z=i.getPointAtLength(0),N=i.getPointAtLength(.1);P=Math.atan2(z.y-N.y,z.x-N.x),E=i.getPointAtLength(Math.min(d,I)),U="0px,"+d+"px,";var B=i.getPointAtLength(I),O=i.getPointAtLength(I-.1);x=Math.atan2(B.y-O.y,B.x-O.x),S=i.getPointAtLength(Math.max(0,I-l));var H=U?d+l:l;U+=I-H+"px,"+I+"px",r.style("stroke-dasharray",U)}function Y(){r.style("stroke-dasharray","0px,100px")}function J(re,ie,ce,Q){re.path&&(re.noRotate&&(ce=0),g.select(i.parentNode).append("path").attr({class:r.attr("class"),d:re.path,transform:p(ie.x,ie.y)+v(ce*180/Math.PI)+A(Q)}).style({fill:_.rgb(n.arrowcolor),"stroke-width":0}))}T&&J(u,E,P,c),h&&J(f,S,x,y)}},32745:function(G,V,e){var g=e(92605),_=e(44317);G.exports={moduleType:"component",name:"annotations",layoutAttributes:e(50215),supplyLayoutDefaults:e(84046),includeBasePlot:e(76325)("annotations"),calcAutorange:e(3749),draw:g.draw,drawOne:g.drawOne,drawRaw:g.drawRaw,hasClickToShow:_.hasClickToShow,onClick:_.onClick,convertCoords:e(94128)}},26997:function(G,V,e){var g=e(50215),_=e(30962).overrideAll,a=e(44467).templatedArray;G.exports=_(a("annotation",{visible:g.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:g.xanchor,xshift:g.xshift,yanchor:g.yanchor,yshift:g.yshift,text:g.text,textangle:g.textangle,font:g.font,width:g.width,height:g.height,opacity:g.opacity,align:g.align,valign:g.valign,bgcolor:g.bgcolor,bordercolor:g.bordercolor,borderpad:g.borderpad,borderwidth:g.borderwidth,showarrow:g.showarrow,arrowcolor:g.arrowcolor,arrowhead:g.arrowhead,startarrowhead:g.startarrowhead,arrowside:g.arrowside,arrowsize:g.arrowsize,startarrowsize:g.startarrowsize,arrowwidth:g.arrowwidth,standoff:g.standoff,startstandoff:g.startstandoff,hovertext:g.hovertext,hoverlabel:g.hoverlabel,captureevents:g.captureevents}),"calc","from-root")},5485:function(G,V,e){var g=e(71828),_=e(89298);G.exports=function(A){for(var v=A.fullSceneLayout,p=v.annotations,t=0;t<p.length;t++)a(p[t],A);A.fullLayout._infolayer.selectAll(".annotation-"+A.id).remove()};function a(C,A){var v=A.fullSceneLayout,p=v.domain,t=A.fullLayout._size,r={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};C._xa={},g.extendFlat(C._xa,r),_.setConvert(C._xa),C._xa._offset=t.l+p.x[0]*t.w,C._xa.l2p=function(){return .5*(1+C._pdata[0]/C._pdata[3])*t.w*(p.x[1]-p.x[0])},C._ya={},g.extendFlat(C._ya,r),_.setConvert(C._ya),C._ya._offset=t.t+(1-p.y[1])*t.h,C._ya.l2p=function(){return .5*(1-C._pdata[1]/C._pdata[3])*t.h*(p.y[1]-p.y[0])}}},20226:function(G,V,e){var g=e(71828),_=e(89298),a=e(85501),C=e(25625),A=e(26997);G.exports=function(t,r,s){a(t,r,{name:"annotations",handleItemDefaults:v,fullLayout:s.fullLayout})};function v(p,t,r,s){function n(u,y){return g.coerce(p,t,A,u,y)}function i(u){var y=u+"axis",c={_fullLayout:{}};return c._fullLayout[y]=r[y],_.coercePosition(t,c,n,u,u,.5)}var f=n("visible");f&&(C(p,t,s.fullLayout,n),i("x"),i("y"),i("z"),g.noneOrAll(p,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",n("ax",-10),n("ay",-30),g.noneOrAll(p,t,["ax","ay"])))}},82188:function(G,V,e){var g=e(92605).drawRaw,_=e(63538),a=["x","y","z"];G.exports=function(A){for(var v=A.fullSceneLayout,p=A.dataScale,t=v.annotations,r=0;r<t.length;r++){for(var s=t[r],n=!1,i=0;i<3;i++){var f=a[i],u=s[f],y=v[f+"axis"],c=y.r2fraction(u);if(c<0||c>1){n=!0;break}}n?A.fullLayout._infolayer.select(".annotation-"+A.id+'[data-index="'+r+'"]').remove():(s._pdata=_(A.glplot.cameraParams,[v.xaxis.r2l(s.x)*p[0],v.yaxis.r2l(s.y)*p[1],v.zaxis.r2l(s.z)*p[2]]),g(A.graphDiv,s,r,A.id,s._xa,s._ya))}}},2468:function(G,V,e){var g=e(73972),_=e(71828);G.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(26997)}}},layoutAttributes:e(26997),handleDefaults:e(20226),includeBasePlot:a,convert:e(5485),draw:e(82188)};function a(C,A){var v=g.subplotsRegistry.gl3d;if(v)for(var p=v.attrRegex,t=Object.keys(C),r=0;r<t.length;r++){var s=t[r];p.test(s)&&(C[s].annotations||[]).length&&(_.pushUnique(A._basePlotModules,v),_.pushUnique(A._subplots.gl3d,s))}}},7561:function(G,V,e){G.exports=e(63489),e(94338),e(3961),e(38751),e(86825),e(37715),e(99384),e(43805),e(88874),e(83290),e(29108),e(55422),e(94320),e(31320),e(51367),e(21457)},72201:function(G,V,e){var g=e(7561),_=e(71828),a=e(50606),C=a.EPOCHJD,A=a.ONEDAY,v={valType:"enumerated",values:_.sortObjectKeys(g.calendars),editType:"calc",dflt:"gregorian"},p=function(P,x,M,w){var o={};return o[M]=v,_.coerce(P,x,o,M,w)},t=function(P,x,M,w){for(var o=0;o<M.length;o++)p(P,x,M[o]+"calendar",w.calendar)},r={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},s={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},n={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},i="##",f={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:i,w:i,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function u(P,x,M){for(var w=Math.floor((x+.05)/A)+C,o=c(M).fromJD(w),L=0,m,F,I,U,z;(L=P.indexOf("%",L))!==-1;)m=P.charAt(L+1),m==="0"||m==="-"||m==="_"?(I=3,F=P.charAt(L+2),m==="_"&&(m="-")):(F=m,m="0",I=2),U=f[F],U?(U===i?z=i:z=o.formatDate(U[m]),P=P.substr(0,L)+z+P.substr(L+I),L+=z.length):L+=I;return P}var y={};function c(P){var x=y[P];return x||(x=y[P]=g.instance(P),x)}function T(P){return _.extendFlat({},v,{description:P})}function h(P){return"Sets the calendar system to use with `"+P+"` date data."}var l={xcalendar:T(h("x"))},d=_.extendFlat({},l,{ycalendar:T(h("y"))}),E=_.extendFlat({},d,{zcalendar:T(h("z"))}),S=T(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));G.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:d,bar:d,box:d,heatmap:d,contour:d,histogram:d,histogram2d:d,histogram2dcontour:d,scatter3d:E,surface:E,mesh3d:E,scattergl:d,ohlc:l,candlestick:l},layout:{calendar:T(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:S},yaxis:{calendar:S},scene:{xaxis:{calendar:S},yaxis:{calendar:S},zaxis:{calendar:S}},polar:{radialaxis:{calendar:S}}},transforms:{filter:{valuecalendar:T(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:T(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:p,handleTraceDefaults:t,CANONICAL_SUNDAY:s,CANONICAL_TICK:r,DFLTRANGE:n,getCal:c,worldCalFmt:u}},22399:function(G,V){V.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],V.defaultLine="#444",V.lightLine="#eee",V.background="#fff",V.borderLine="#BEC8D9",V.lightFraction=90.9090909090909},7901:function(G,V,e){var g=e(84267),_=e(92770),a=e(73627).isTypedArray,C=G.exports={},A=e(22399);C.defaults=A.defaults;var v=C.defaultLine=A.defaultLine;C.lightLine=A.lightLine;var p=C.background=A.background;C.tinyRGB=function(r){var s=r.toRgb();return"rgb("+Math.round(s.r)+", "+Math.round(s.g)+", "+Math.round(s.b)+")"},C.rgb=function(r){return C.tinyRGB(g(r))},C.opacity=function(r){return r?g(r).getAlpha():0},C.addOpacity=function(r,s){var n=g(r).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+s+")"},C.combine=function(r,s){var n=g(r).toRgb();if(n.a===1)return g(r).toRgbString();var i=g(s||p).toRgb(),f=i.a===1?i:{r:255*(1-i.a)+i.r*i.a,g:255*(1-i.a)+i.g*i.a,b:255*(1-i.a)+i.b*i.a},u={r:f.r*(1-n.a)+n.r*n.a,g:f.g*(1-n.a)+n.g*n.a,b:f.b*(1-n.a)+n.b*n.a};return g(u).toRgbString()},C.contrast=function(r,s,n){var i=g(r);i.getAlpha()!==1&&(i=g(C.combine(r,p)));var f=i.isDark()?s?i.lighten(s):p:n?i.darken(n):v;return f.toString()},C.stroke=function(r,s){var n=g(s);r.style({stroke:C.tinyRGB(n),"stroke-opacity":n.getAlpha()})},C.fill=function(r,s){var n=g(s);r.style({fill:C.tinyRGB(n),"fill-opacity":n.getAlpha()})},C.clean=function(r){if(!(!r||typeof r!="object")){var s=Object.keys(r),n,i,f,u;for(n=0;n<s.length;n++)if(f=s[n],u=r[f],f.substr(f.length-5)==="color")if(Array.isArray(u))for(i=0;i<u.length;i++)u[i]=t(u[i]);else r[f]=t(u);else if(f.substr(f.length-10)==="colorscale"&&Array.isArray(u))for(i=0;i<u.length;i++)Array.isArray(u[i])&&(u[i][1]=t(u[i][1]));else if(Array.isArray(u)){var y=u[0];if(!Array.isArray(y)&&y&&typeof y=="object")for(i=0;i<u.length;i++)C.clean(u[i])}else u&&typeof u=="object"&&!a(u)&&C.clean(u)}};function t(r){if(_(r)||typeof r!="string")return r;var s=r.trim();if(s.substr(0,3)!=="rgb")return r;var n=s.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return r;var i=n[1].trim().split(/\s*[\s,]\s*/),f=s.charAt(3)==="a"&&i.length===4;if(!f&&i.length!==3)return r;for(var u=0;u<i.length;u++){if(!i[u].length||(i[u]=Number(i[u]),!(i[u]>=0)))return r;if(u===3)i[u]>1&&(i[u]=1);else if(i[u]>=1)return r}var y=Math.round(i[0]*255)+", "+Math.round(i[1]*255)+", "+Math.round(i[2]*255);return f?"rgba("+y+", "+i[3]+")":"rgb("+y+")"}},63583:function(G,V,e){var g=e(13838),_=e(41940),a=e(1426).extendFlat,C=e(30962).overrideAll;G.exports=C({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:g.linecolor,outlinewidth:g.linewidth,bordercolor:g.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:g.minor.tickmode,nticks:g.nticks,tick0:g.tick0,dtick:g.dtick,tickvals:g.tickvals,ticktext:g.ticktext,ticks:a({},g.ticks,{dflt:""}),ticklabeloverflow:a({},g.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:g.ticklen,tickwidth:g.tickwidth,tickcolor:g.tickcolor,ticklabelstep:g.ticklabelstep,showticklabels:g.showticklabels,labelalias:g.labelalias,tickfont:_({}),tickangle:g.tickangle,tickformat:g.tickformat,tickformatstops:g.tickformatstops,tickprefix:g.tickprefix,showtickprefix:g.showtickprefix,ticksuffix:g.ticksuffix,showticksuffix:g.showticksuffix,separatethousands:g.separatethousands,exponentformat:g.exponentformat,minexponent:g.minexponent,showexponent:g.showexponent,title:{text:{valType:"string"},font:_({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:_({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(G){G.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(G,V,e){var g=e(71828),_=e(44467),a=e(26218),C=e(38701),A=e(96115),v=e(89426),p=e(63583);G.exports=function(r,s,n){var i=_.newContainer(s,"colorbar"),f=r.colorbar||{};function u(B,O){return g.coerce(f,i,p,B,O)}var y=n.margin||{t:0,b:0,l:0,r:0},c=n.width-y.l-y.r,T=n.height-y.t-y.b,h=u("orientation"),l=h==="v",d=u("thicknessmode");u("thickness",d==="fraction"?30/(l?c:T):30);var E=u("lenmode");u("len",E==="fraction"?1:l?T:c);var S=u("yref"),P=u("xref"),x=S==="paper",M=P==="paper",w,o,L,m="left";l?(L="middle",m=M?"left":"right",w=M?1.02:1,o=.5):(L=x?"bottom":"top",m="center",w=.5,o=x?1.02:1),g.coerce(f,i,{x:{valType:"number",min:M?-2:0,max:M?3:1,dflt:w}},"x"),g.coerce(f,i,{y:{valType:"number",min:x?-2:0,max:x?3:1,dflt:o}},"y"),u("xanchor",m),u("xpad"),u("yanchor",L),u("ypad"),g.noneOrAll(f,i,["x","y"]),u("outlinecolor"),u("outlinewidth"),u("bordercolor"),u("borderwidth"),u("bgcolor");var F=g.coerce(f,i,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:l?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");u("ticklabeloverflow",F.indexOf("inside")!==-1?"hide past domain":"hide past div"),a(f,i,u,"linear");var I=n.font,U={outerTicks:!1,font:I};F.indexOf("inside")!==-1&&(U.bgColor="black"),v(f,i,u,"linear",U),A(f,i,u,"linear",U),C(f,i,u,"linear",U),u("title.text",n._dfltTitle.colorbar);var z=i.showticklabels?i.tickfont:I,N=g.extendFlat({},z,{color:I.color,size:g.bigFont(z.size)});g.coerceFont(u,"title.font",N),u("title.side",l?"top":"right")}},98981:function(G,V,e){var g=e(39898),_=e(84267),a=e(74875),C=e(73972),A=e(89298),v=e(28569),p=e(71828),t=p.strTranslate,r=e(1426).extendFlat,s=e(6964),n=e(91424),i=e(7901),f=e(92998),u=e(63893),y=e(52075).flipScale,c=e(71453),T=e(52830),h=e(13838),l=e(18783),d=l.LINE_SPACING,E=l.FROM_TL,S=l.FROM_BR,P=e(30939).cn;function x(F){var I=F._fullLayout,U=I._infolayer.selectAll("g."+P.colorbar).data(M(F),function(z){return z._id});U.enter().append("g").attr("class",function(z){return z._id}).classed(P.colorbar,!0),U.each(function(z){var N=g.select(this);p.ensureSingle(N,"rect",P.cbbg),p.ensureSingle(N,"g",P.cbfills),p.ensureSingle(N,"g",P.cblines),p.ensureSingle(N,"g",P.cbaxis,function(O){O.classed(P.crisp,!0)}),p.ensureSingle(N,"g",P.cbtitleunshift,function(O){O.append("g").classed(P.cbtitle,!0)}),p.ensureSingle(N,"rect",P.cboutline);var B=w(N,z,F);B&&B.then&&(F._promises||[]).push(B),F._context.edits.colorbarPosition&&o(N,z,F)}),U.exit().each(function(z){a.autoMargin(F,z._id)}).remove(),U.order()}function M(F){var I=F._fullLayout,U=F.calcdata,z=[],N,B,O,H;function Y(ee){return r(ee,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function J(){typeof H.calc=="function"?H.calc(F,O,N):(N._fillgradient=B.reversescale?y(B.colorscale):B.colorscale,N._zrange=[B[H.min],B[H.max]])}for(var re=0;re<U.length;re++){var ie=U[re];if(O=ie[0].trace,!!O._module){var ce=O._module.colorbar;if(O.visible===!0&&ce)for(var Q=Array.isArray(ce),j=Q?ce:[ce],Z=0;Z<j.length;Z++){H=j[Z];var $=H.container;B=$?O[$]:O,B&&B.showscale&&(N=Y(B.colorbar),N._id="cb"+O.uid+(Q&&$?"-"+$:""),N._traceIndex=O.index,N._propPrefix=($?$+".":"")+"colorbar.",N._meta=O._meta,J(),z.push(N))}}}for(var te in I._colorAxes)if(B=I[te],B.showscale){var se=I._colorAxes[te];N=Y(B.colorbar),N._id="cb"+te,N._propPrefix=te+".colorbar.",N._meta=I._meta,H={min:"cmin",max:"cmax"},se[0]!=="heatmap"&&(O=se[1],H.calc=O._module.colorbar.calc),J(),z.push(N)}return z}function w(F,I,U){var z=I.orientation==="v",N=I.len,B=I.lenmode,O=I.thickness,H=I.thicknessmode,Y=I.outlinewidth,J=I.borderwidth,re=I.bgcolor,ie=I.xanchor,ce=I.yanchor,Q=I.xpad,j=I.ypad,Z=I.x,$=z?I.y:1-I.y,te=I.yref==="paper",se=I.xref==="paper",ee=U._fullLayout,q=ee._size,le=I._fillcolor,oe=I._line,he=I.title,me=he.side,Ce=I._zrange||g.extent((typeof le=="function"?le:oe.color).domain()),Ae=typeof oe.color=="function"?oe.color:function(){return oe.color},Ue=typeof le=="function"?le:function(){return le},Ve=I._levels,Pe=L(U,I,Ce),be=Pe.fill,Le=Pe.line,We=Math.round(O*(H==="fraction"?z?q.w:q.h:1)),je=We/(z?q.w:q.h),Fe=Math.round(N*(B==="fraction"?z?q.h:q.w:1)),Ze=Fe/(z?q.h:q.w),ut=se?q.w:U._fullLayout.width,at=te?q.h:U._fullLayout.height,it=Math.round(z?Z*ut+Q:$*at+j),$e={center:.5,right:1}[ie]||0,st={top:1,middle:.5}[ce]||0,ct=z?Z-$e*je:$-st*je,vt=z?$-st*Ze:Z-$e*Ze,St=Math.round(z?at*(1-vt):ut*vt);I._lenFrac=Ze,I._thickFrac=je,I._uFrac=ct,I._vFrac=vt;var Mt=I._axis=m(U,I,Ce);Mt.position=je+(z?Z+Q/q.w:$+j/q.h);var Bt=["top","bottom"].indexOf(me)!==-1;if(z&&Bt&&(Mt.title.side=me,Mt.titlex=Z+Q/q.w,Mt.titley=vt+(he.side==="top"?Ze-j/q.h:j/q.h)),!z&&!Bt&&(Mt.title.side=me,Mt.titley=$+j/q.h,Mt.titlex=vt+Q/q.w),oe.color&&I.tickmode==="auto"){Mt.tickmode="linear",Mt.tick0=Ve.start;var Qe=Ve.size,ke=p.constrain(Fe/50,4,15)+1,ze=(Ce[1]-Ce[0])/((I.nticks||ke)*Qe);if(ze>1){var Be=Math.pow(10,Math.floor(Math.log(ze)/Math.LN10));Qe*=Be*p.roundUp(ze/Be,[2,5,10]),(Math.abs(Ve.start)/Ve.size+1e-6)%1<2e-6&&(Mt.tick0=0)}Mt.dtick=Qe}Mt.domain=z?[vt+j/q.h,vt+Ze-j/q.h]:[vt+Q/q.w,vt+Ze-Q/q.w],Mt.setScale(),F.attr("transform",t(Math.round(q.l),Math.round(q.t)));var Re=F.select("."+P.cbtitleunshift).attr("transform",t(-Math.round(q.l),-Math.round(q.t))),we=Mt.ticklabelposition,ye=Mt.title.font.size,Se=F.select("."+P.cbaxis),Me,He=0,qe=0;function rt(Ct,Nt){var Kt={propContainer:Mt,propName:I._propPrefix+"title",traceIndex:I._traceIndex,_meta:I._meta,placeholder:ee._dfltTitle.colorbar,containerGroup:F.select("."+P.cbtitle)},wr=Ct.charAt(0)==="h"?Ct.substr(1):"h"+Ct;F.selectAll("."+wr+",."+wr+"-math-group").remove(),f.draw(U,Ct,r(Kt,Nt||{}))}function pt(){if(z&&Bt||!z&&!Bt){var Ct,Nt;me==="top"&&(Ct=Q+q.l+ut*Z,Nt=j+q.t+at*(1-vt-Ze)+3+ye*.75),me==="bottom"&&(Ct=Q+q.l+ut*Z,Nt=j+q.t+at*(1-vt)-3-ye*.25),me==="right"&&(Nt=j+q.t+at*$+3+ye*.75,Ct=Q+q.l+ut*vt),rt(Mt._id+"title",{attributes:{x:Ct,y:Nt,"text-anchor":z?"start":"middle"}})}}function At(){if(z&&!Bt||!z&&Bt){var Ct=Mt.position||0,Nt=Mt._offset+Mt._length/2,Kt,wr;if(me==="right")wr=Nt,Kt=q.l+ut*Ct+10+ye*(Mt.showticklabels?1:.5);else if(Kt=Nt,me==="bottom"&&(wr=q.t+at*Ct+10+(we.indexOf("inside")===-1?Mt.tickfont.size:0)+(Mt.ticks!=="intside"&&I.ticklen||0)),me==="top"){var yt=he.text.split("<br>").length;wr=q.t+at*Ct+10-We-d*ye*yt}rt((z?"h":"v")+Mt._id+"title",{avoid:{selection:g.select(U).selectAll("g."+Mt._id+"tick"),side:me,offsetTop:z?0:q.t,offsetLeft:z?q.l:0,maxShift:z?ee.width:ee.height},attributes:{x:Kt,y:wr,"text-anchor":"middle"},transform:{rotate:z?-90:0,offset:0}})}}function jt(){if(!z&&!Bt||z&&Bt){var Ct=F.select("."+P.cbtitle),Nt=Ct.select("text"),Kt=[-Y/2,Y/2],wr=Ct.select(".h"+Mt._id+"title-math-group").node(),yt=15.6;Nt.node()&&(yt=parseInt(Nt.node().style.fontSize,10)*d);var $t;if(wr?($t=n.bBox(wr),qe=$t.width,He=$t.height,He>yt&&(Kt[1]-=(He-yt)/2)):Nt.node()&&!Nt.classed(P.jsPlaceholder)&&($t=n.bBox(Nt.node()),qe=$t.width,He=$t.height),z){if(He){if(He+=5,me==="top")Mt.domain[1]-=He/q.h,Kt[1]*=-1;else{Mt.domain[0]+=He/q.h;var er=u.lineCount(Nt);Kt[1]+=(1-er)*yt}Ct.attr("transform",t(Kt[0],Kt[1])),Mt.setScale()}}else qe&&(me==="right"&&(Mt.domain[0]+=(qe+ye/2)/q.w),Ct.attr("transform",t(Kt[0],Kt[1])),Mt.setScale())}F.selectAll("."+P.cbfills+",."+P.cblines).attr("transform",z?t(0,Math.round(q.h*(1-Mt.domain[1]))):t(Math.round(q.w*Mt.domain[0]),0)),Se.attr("transform",z?t(0,Math.round(-q.t)):t(Math.round(-q.l),0));var mr=F.select("."+P.cbfills).selectAll("rect."+P.cbfill).attr("style","").data(be);mr.enter().append("rect").classed(P.cbfill,!0).attr("style",""),mr.exit().remove();var vr=Ce.map(Mt.c2p).map(Math.round).sort(function(zt,Dt){return zt-Dt});mr.each(function(zt,Dt){var Vt=[Dt===0?Ce[0]:(be[Dt]+be[Dt-1])/2,Dt===be.length-1?Ce[1]:(be[Dt]+be[Dt+1])/2].map(Mt.c2p).map(Math.round);z&&(Vt[1]=p.constrain(Vt[1]+(Vt[1]>Vt[0])?1:-1,vr[0],vr[1]));var Ut=g.select(this).attr(z?"x":"y",it).attr(z?"y":"x",g.min(Vt)).attr(z?"width":"height",Math.max(We,2)).attr(z?"height":"width",Math.max(g.max(Vt)-g.min(Vt),2));if(I._fillgradient)n.gradient(Ut,U,I._id,z?"vertical":"horizontalreversed",I._fillgradient,"fill");else{var Qt=Ue(zt).replace("e-","");Ut.attr("fill",_(Qt).toHexString())}});var bt=F.select("."+P.cblines).selectAll("path."+P.cbline).data(oe.color&&oe.width?Le:[]);bt.enter().append("path").classed(P.cbline,!0),bt.exit().remove(),bt.each(function(zt){var Dt=it,Vt=Math.round(Mt.c2p(zt))+oe.width/2%1;g.select(this).attr("d","M"+(z?Dt+","+Vt:Vt+","+Dt)+(z?"h":"v")+We).call(n.lineGroupStyle,oe.width,Ae(zt),oe.dash)}),Se.selectAll("g."+Mt._id+"tick,path").remove();var ht=it+We+(Y||0)/2-(I.ticks==="outside"?1:0),Tt=A.calcTicks(Mt),Pt=A.getTickSigns(Mt)[2];return A.drawTicks(U,Mt,{vals:Mt.ticks==="inside"?A.clipEnds(Mt,Tt):Tt,layer:Se,path:A.makeTickPath(Mt,ht,Pt),transFn:A.makeTransTickFn(Mt)}),A.drawLabels(U,Mt,{vals:Tt,layer:Se,transFn:A.makeTransTickLabelFn(Mt),labelFns:A.makeLabelFns(Mt,ht)})}function tr(){var Ct,Nt=We+Y/2;we.indexOf("inside")===-1&&(Ct=n.bBox(Se.node()),Nt+=z?Ct.width:Ct.height),Me=Re.select("text");var Kt=0,wr=z&&me==="top",yt=!z&&me==="right",$t=0;if(Me.node()&&!Me.classed(P.jsPlaceholder)){var er,mr=Re.select(".h"+Mt._id+"title-math-group").node();mr&&(z&&Bt||!z&&!Bt)?(Ct=n.bBox(mr),Kt=Ct.width,er=Ct.height):(Ct=n.bBox(Re.node()),Kt=Ct.right-q.l-(z?it:St),er=Ct.bottom-q.t-(z?St:it),!z&&me==="top"&&(Nt+=Ct.height,$t=Ct.height)),yt&&(Me.attr("transform",t(Kt/2+ye/2,0)),Kt*=2),Nt=Math.max(Nt,z?Kt:er)}var vr=(z?Q:j)*2+Nt+J+Y/2,bt=0;!z&&he.text&&ce==="bottom"&&$<=0&&(bt=vr/2,vr+=bt,$t+=bt),ee._hColorbarMoveTitle=bt,ee._hColorbarMoveCBTitle=$t;var ht=J+Y,Tt=(z?it:St)-ht/2-(z?Q:0),Pt=(z?St:it)-(z?Fe:j+$t-bt);F.select("."+P.cbbg).attr("x",Tt).attr("y",Pt).attr(z?"width":"height",Math.max(vr-bt,2)).attr(z?"height":"width",Math.max(Fe+ht,2)).call(i.fill,re).call(i.stroke,I.bordercolor).style("stroke-width",J);var zt=yt?Math.max(Kt-10,0):0;F.selectAll("."+P.cboutline).attr("x",(z?it:St+Q)+zt).attr("y",(z?St+j-Fe:it)+(wr?He:0)).attr(z?"width":"height",Math.max(We,2)).attr(z?"height":"width",Math.max(Fe-(z?2*j+He:2*Q+zt),2)).call(i.stroke,I.outlinecolor).style({fill:"none","stroke-width":Y});var Dt=z?$e*vr:0,Vt=z?0:(1-st)*vr-$t;if(Dt=se?q.l-Dt:-Dt,Vt=te?q.t-Vt:-Vt,F.attr("transform",t(Dt,Vt)),!z&&(J||_(re).getAlpha()&&!_.equals(ee.paper_bgcolor,re))){var Ut=Se.selectAll("text"),Qt=Ut[0].length,hr=F.select("."+P.cbbg).node(),cr=n.bBox(hr),lr=n.getTranslate(F),Xe=2;Ut.each(function(br,xr){var dr=0,Wr=Qt-1;if(xr===dr||xr===Wr){var Br=n.bBox(this),Ur=n.getTranslate(this),yn;if(xr===Wr){var rn=Br.right+Ur.x,Un=cr.right+lr.x+St-J-Xe+Z;yn=Un-rn,yn>0&&(yn=0)}else if(xr===dr){var bn=Br.left+Ur.x,Lr=cr.left+lr.x+St+J+Xe;yn=Lr-bn,yn<0&&(yn=0)}yn&&(Qt<3?this.setAttribute("transform","translate("+yn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Ke={},Ot=E[ie],Lt=S[ie],Xt=E[ce],rr=S[ce],ur=vr-We;z?(B==="pixels"?(Ke.y=$,Ke.t=Fe*Xt,Ke.b=Fe*rr):(Ke.t=Ke.b=0,Ke.yt=$+N*Xt,Ke.yb=$-N*rr),H==="pixels"?(Ke.x=Z,Ke.l=vr*Ot,Ke.r=vr*Lt):(Ke.l=ur*Ot,Ke.r=ur*Lt,Ke.xl=Z-O*Ot,Ke.xr=Z+O*Lt)):(B==="pixels"?(Ke.x=Z,Ke.l=Fe*Ot,Ke.r=Fe*Lt):(Ke.l=Ke.r=0,Ke.xl=Z+N*Ot,Ke.xr=Z-N*Lt),H==="pixels"?(Ke.y=1-$,Ke.t=vr*Xt,Ke.b=vr*rr):(Ke.t=ur*Xt,Ke.b=ur*rr,Ke.yt=$-O*Xt,Ke.yb=$+O*rr));var or=I.y<.5?"b":"t",Ht=I.x<.5?"l":"r";U._fullLayout._reservedMargin[I._id]={};var gr={r:ee.width-Tt-Dt,l:Tt+Ke.r,b:ee.height-Pt-Vt,t:Pt+Ke.b};se&&te?a.autoMargin(U,I._id,Ke):se?U._fullLayout._reservedMargin[I._id][or]=gr[or]:te||z?U._fullLayout._reservedMargin[I._id][Ht]=gr[Ht]:U._fullLayout._reservedMargin[I._id][or]=gr[or]}return p.syncOrAsync([a.previousPromises,pt,jt,At,a.previousPromises,tr],U)}function o(F,I,U){var z=I.orientation==="v",N=U._fullLayout,B=N._size,O,H,Y;v.init({element:F.node(),gd:U,prepFn:function(){O=F.attr("transform"),s(F)},moveFn:function(J,re){F.attr("transform",O+t(J,re)),H=v.align((z?I._uFrac:I._vFrac)+J/B.w,z?I._thickFrac:I._lenFrac,0,1,I.xanchor),Y=v.align((z?I._vFrac:1-I._uFrac)-re/B.h,z?I._lenFrac:I._thickFrac,0,1,I.yanchor);var ie=v.getCursor(H,Y,I.xanchor,I.yanchor);s(F,ie)},doneFn:function(){if(s(F),H!==void 0&&Y!==void 0){var J={};J[I._propPrefix+"x"]=H,J[I._propPrefix+"y"]=Y,I._traceIndex!==void 0?C.call("_guiRestyle",U,J,I._traceIndex):C.call("_guiRelayout",U,J)}}})}function L(F,I,U){var z=I._levels,N=[],B=[],O,H,Y=z.end+z.size/100,J=z.size,re=1.001*U[0]-.001*U[1],ie=1.001*U[1]-.001*U[0];for(H=0;H<1e5&&(O=z.start+H*J,!(J>0?O>=Y:O<=Y));H++)O>re&&O<ie&&N.push(O);if(I._fillgradient)B=[0];else if(typeof I._fillcolor=="function"){var ce=I._filllevels;if(ce)for(Y=ce.end+ce.size/100,J=ce.size,H=0;H<1e5&&(O=ce.start+H*J,!(J>0?O>=Y:O<=Y));H++)O>U[0]&&O<U[1]&&B.push(O);else B=N.map(function(Q){return Q-z.size/2}),B.push(B[B.length-1]+z.size)}else I._fillcolor&&typeof I._fillcolor=="string"&&(B=[0]);return z.size<0&&(N.reverse(),B.reverse()),{line:N,fill:B}}function m(F,I,U){var z=F._fullLayout,N=I.orientation==="v",B={type:"linear",range:U,tickmode:I.tickmode,nticks:I.nticks,tick0:I.tick0,dtick:I.dtick,tickvals:I.tickvals,ticktext:I.ticktext,ticks:I.ticks,ticklen:I.ticklen,tickwidth:I.tickwidth,tickcolor:I.tickcolor,showticklabels:I.showticklabels,labelalias:I.labelalias,ticklabelposition:I.ticklabelposition,ticklabeloverflow:I.ticklabeloverflow,ticklabelstep:I.ticklabelstep,tickfont:I.tickfont,tickangle:I.tickangle,tickformat:I.tickformat,exponentformat:I.exponentformat,minexponent:I.minexponent,separatethousands:I.separatethousands,showexponent:I.showexponent,showtickprefix:I.showtickprefix,tickprefix:I.tickprefix,showticksuffix:I.showticksuffix,ticksuffix:I.ticksuffix,title:I.title,showline:!0,anchor:"free",side:N?"right":"bottom",position:1},O=N?"y":"x",H={type:"linear",_id:O+I._id},Y={letter:O,font:z.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:z.calendar};function J(re,ie){return p.coerce(B,H,h,re,ie)}return c(B,H,J,Y,z),T(B,H,J,Y),H}G.exports={draw:x}},76228:function(G,V,e){var g=e(71828);G.exports=function(a){return g.isPlainObject(a.colorbar)}},12311:function(G,V,e){G.exports={moduleType:"component",name:"colorbar",attributes:e(63583),supplyDefaults:e(62499),draw:e(98981).draw,hasColorbar:e(76228)}},50693:function(G,V,e){var g=e(63583),_=e(30587).counter,a=e(78607),C=e(63282).scales;a(C),G.exports=function(v,p){v=v||"",p=p||{};var t=p.cLetter||"c";"onlyIfNumerical"in p&&p.onlyIfNumerical;var r="noScale"in p?p.noScale:v==="marker.line",s="showScaleDflt"in p?p.showScaleDflt:t==="z",n=typeof p.colorscaleDflt=="string"?C[p.colorscaleDflt]:null,i=p.editTypeOverride||"",f;"colorAttr"in p?(f=p.colorAttr,p.colorAttr):f={z:"z",c:"color"}[t];var u=t+"auto",y=t+"min",c=t+"max",T=t+"mid",h={};h[y]=h[c]=void 0;var l={};l[u]=!1;var d={};return f==="color"&&(d.color={valType:"color",arrayOk:!0,editType:i||"style"},p.anim&&(d.color.anim=!0)),d[u]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:h},d[y]={valType:"number",dflt:null,editType:i||"plot",impliedEdits:l},d[c]={valType:"number",dflt:null,editType:i||"plot",impliedEdits:l},d[T]={valType:"number",dflt:null,editType:"calc",impliedEdits:h},d.colorscale={valType:"colorscale",editType:"calc",dflt:n,impliedEdits:{autocolorscale:!1}},d.autocolorscale={valType:"boolean",dflt:p.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},d.reversescale={valType:"boolean",dflt:!1,editType:"plot"},r||(d.showscale={valType:"boolean",dflt:s,editType:"calc"},d.colorbar=g),p.noColorAxis||(d.coloraxis={valType:"subplotid",regex:_("coloraxis"),dflt:null,editType:"calc"}),d}},78803:function(G,V,e){var g=e(92770),_=e(71828),a=e(52075).extractOpts;G.exports=function(A,v,p){var t=A._fullLayout,r=p.vals,s=p.containerStr,n=s?_.nestedProperty(v,s).get():v,i=a(n),f=i.auto!==!1,u=i.min,y=i.max,c=i.mid,T=function(){return _.aggNums(Math.min,null,r)},h=function(){return _.aggNums(Math.max,null,r)};if(u===void 0?u=T():f&&(n._colorAx&&g(u)?u=Math.min(u,T()):u=T()),y===void 0?y=h():f&&(n._colorAx&&g(y)?y=Math.max(y,h()):y=h()),f&&c!==void 0&&(y-c>c-u?u=c-(y-c):y-c<c-u&&(y=c+(c-u))),u===y&&(u-=.5,y+=.5),i._sync("min",u),i._sync("max",y),i.autocolorscale){var l;u*y<0?l=t.colorscale.diverging:u>=0?l=t.colorscale.sequential:l=t.colorscale.sequentialminus,i._sync("colorscale",l)}}},33046:function(G,V,e){var g=e(71828),_=e(52075).hasColorscale,a=e(52075).extractOpts;G.exports=function(A,v){function p(u,y){var c=u["_"+y];c!==void 0&&(u[y]=c)}function t(u,y){var c=y.container?g.nestedProperty(u,y.container).get():u;if(c)if(c.coloraxis)c._colorAx=v[c.coloraxis];else{var T=a(c),h=T.auto;(h||T.min===void 0)&&p(c,y.min),(h||T.max===void 0)&&p(c,y.max),T.autocolorscale&&p(c,"colorscale")}}for(var r=0;r<A.length;r++){var s=A[r],n=s._module.colorbar;if(n)if(Array.isArray(n))for(var i=0;i<n.length;i++)t(s,n[i]);else t(s,n);_(s,"marker.line")&&t(s,{container:"marker.line",min:"cmin",max:"cmax"})}for(var f in v._colorAxes)t(v[f],{min:"cmin",max:"cmax"})}},1586:function(G,V,e){var g=e(92770),_=e(71828),a=e(76228),C=e(62499),A=e(63282).isValid,v=e(73972).traceIs;function p(t,r){var s=r.slice(0,r.length-1);return r?_.nestedProperty(t,s).get()||{}:t}G.exports=function t(r,s,n,i,f){var u=f.prefix,y=f.cLetter,c="_module"in s,T=p(r,u),h=p(s,u),l=p(s._template||{},u)||{},d=function(){return delete r.coloraxis,delete s.coloraxis,t(r,s,n,i,f)};if(c){var E=n._colorAxes||{},S=i(u+"coloraxis");if(S){var P=v(s,"contour")&&_.nestedProperty(s,"contours.coloring").get()||"heatmap",x=E[S];x?(x[2].push(d),x[0]!==P&&(x[0]=!1,_.warn(["Ignoring coloraxis:",S,"setting","as it is linked to incompatible colorscales."].join(" ")))):E[S]=[P,s,[d]];return}}var M=T[y+"min"],w=T[y+"max"],o=g(M)&&g(w)&&M<w,L=i(u+y+"auto",!o);L?i(u+y+"mid"):(i(u+y+"min"),i(u+y+"max"));var m=T.colorscale,F=l.colorscale,I;if(m!==void 0&&(I=!A(m)),F!==void 0&&(I=!A(F)),i(u+"autocolorscale",I),i(u+"colorscale"),i(u+"reversescale"),u!=="marker.line."){var U;u&&c&&(U=a(T));var z=i(u+"showscale",U);z&&(u&&l&&(h._template=l),C(T,h,n))}}},52075:function(G,V,e){var g=e(39898),_=e(84267),a=e(92770),C=e(71828),A=e(7901),v=e(63282).isValid;function p(c,T,h){var l=T?C.nestedProperty(c,T).get()||{}:c,d=l[h||"color"],E=!1;if(C.isArrayOrTypedArray(d)){for(var S=0;S<d.length;S++)if(a(d[S])){E=!0;break}}return C.isPlainObject(l)&&(E||l.showscale===!0||a(l.cmin)&&a(l.cmax)||v(l.colorscale)||C.isPlainObject(l.colorbar))}var t=["showscale","autocolorscale","colorscale","reversescale","colorbar"],r=["min","max","mid","auto"];function s(c){var T=c._colorAx,h=T||c,l={},d,E,S;for(E=0;E<t.length;E++)S=t[E],l[S]=h[S];if(T)for(d="c",E=0;E<r.length;E++)S=r[E],l[S]=h["c"+S];else{var P;for(E=0;E<r.length;E++){if(S=r[E],P="c"+S,P in h){l[S]=h[P];continue}P="z"+S,P in h&&(l[S]=h[P])}d=P.charAt(0)}return l._sync=function(x,M){var w=r.indexOf(x)!==-1?d+x:x;h[w]=h["_"+w]=M},l}function n(c){for(var T=s(c),h=T.min,l=T.max,d=T.reversescale?i(T.colorscale):T.colorscale,E=d.length,S=new Array(E),P=new Array(E),x=0;x<E;x++){var M=d[x];S[x]=h+M[0]*(l-h),P[x]=M[1]}return{domain:S,range:P}}function i(c){for(var T=c.length,h=new Array(T),l=T-1,d=0;l>=0;l--,d++){var E=c[l];h[d]=[1-E[0],E[1]]}return h}function f(c,T){T=T||{};for(var h=c.domain,l=c.range,d=l.length,E=new Array(d),S=0;S<d;S++){var P=_(l[S]).toRgb();E[S]=[P.r,P.g,P.b,P.a]}var x=g.scale.linear().domain(h).range(E).clamp(!0),M=T.noNumericCheck,w=T.returnArray,o;return M&&w?o=x:M?o=function(L){return y(x(L))}:w?o=function(L){return a(L)?x(L):_(L).isValid()?L:A.defaultLine}:o=function(L){return a(L)?y(x(L)):_(L).isValid()?L:A.defaultLine},o.domain=x.domain,o.range=function(){return l},o}function u(c,T){return f(n(c),T)}function y(c){var T={r:c[0],g:c[1],b:c[2],a:c[3]};return _(T).toRgbString()}G.exports={hasColorscale:p,extractOpts:s,extractScale:n,flipScale:i,makeColorScaleFunc:f,makeColorScaleFuncFromTrace:u}},21081:function(G,V,e){var g=e(63282),_=e(52075);G.exports={moduleType:"component",name:"colorscale",attributes:e(50693),layoutAttributes:e(72673),supplyLayoutDefaults:e(30959),handleDefaults:e(1586),crossTraceDefaults:e(33046),calc:e(78803),scales:g.scales,defaultScale:g.defaultScale,getScale:g.get,isValidScale:g.isValid,hasColorscale:_.hasColorscale,extractOpts:_.extractOpts,extractScale:_.extractScale,flipScale:_.flipScale,makeColorScaleFunc:_.makeColorScaleFunc,makeColorScaleFuncFromTrace:_.makeColorScaleFuncFromTrace}},72673:function(G,V,e){var g=e(1426).extendFlat,_=e(50693),a=e(63282).scales;G.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:a.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:a.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:a.RdBu,editType:"calc"}},coloraxis:g({_isSubplotObj:!0,editType:"calc"},_("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(G,V,e){var g=e(71828),_=e(44467),a=e(72673),C=e(1586);G.exports=function(v,p){function t(c,T){return g.coerce(v,p,a,c,T)}t("colorscale.sequential"),t("colorscale.sequentialminus"),t("colorscale.diverging");var r=p._colorAxes,s,n;function i(c,T){return g.coerce(s,n,a.coloraxis,c,T)}for(var f in r){var u=r[f];if(u[0])s=v[f]||{},n=_.newContainer(p,f,"coloraxis"),n._name=f,C(s,n,p,i,{prefix:"",cLetter:"c"});else{for(var y=0;y<u[2].length;y++)u[2][y]();delete p._colorAxes[f]}}}},63282:function(G,V,e){var g=e(84267),_={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},a=_.RdBu;function C(p,t){if(t||(t=a),!p)return t;function r(){try{p=_[p]||JSON.parse(p)}catch{p=t}}return typeof p=="string"&&(r(),typeof p=="string"&&r()),A(p)?p:t}function A(p){var t=0;if(!Array.isArray(p)||p.length<2||!p[0]||!p[p.length-1]||+p[0][0]!=0||+p[p.length-1][0]!=1)return!1;for(var r=0;r<p.length;r++){var s=p[r];if(s.length!==2||+s[0]<t||!g(s[1]).isValid())return!1;t=+s[0]}return!0}function v(p){return _[p]!==void 0?!0:A(p)}G.exports={scales:_,defaultScale:a,get:C,isValid:v}},92807:function(G){G.exports=function(e,g,_,a,C){var A=(e-_)/(a-_),v=A+g/(a-_),p=(A+v)/2;return C==="left"||C==="bottom"?A:C==="center"||C==="middle"?p:C==="right"||C==="top"?v:A<.6666666666666666-p?A:v>1.3333333333333333-p?v:p}},70461:function(G,V,e){var g=e(71828),_=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];G.exports=function(C,A,v,p){return v==="left"?C=0:v==="center"?C=1:v==="right"?C=2:C=g.constrain(Math.floor(C*3),0,2),p==="bottom"?A=0:p==="middle"?A=1:p==="top"?A=2:A=g.constrain(Math.floor(A*3),0,2),_[A][C]}},64505:function(G,V){V.selectMode=function(e){return e==="lasso"||e==="select"},V.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},V.openMode=function(e){return e==="drawline"||e==="drawopenpath"},V.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},V.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},V.selectingOrDrawing=function(e){return V.freeMode(e)||V.rectMode(e)}},28569:function(G,V,e){var g=e(48956),_=e(57035),a=e(38520),C=e(71828).removeElement,A=e(85555),v=G.exports={};v.align=e(92807),v.getCursor=e(70461);var p=e(26041);v.unhover=p.wrapped,v.unhoverRaw=p.raw,v.init=function(n){var i=n.gd,f=1,u=i._context.doubleClickDelay,y=n.element,c,T,h,l,d,E,S,P;i._mouseDownTime||(i._mouseDownTime=0),y.style.pointerEvents="all",y.onmousedown=w,a?(y._ontouchstart&&y.removeEventListener("touchstart",y._ontouchstart),y._ontouchstart=w,y.addEventListener("touchstart",w,{passive:!1})):y.ontouchstart=w;function x(m,F,I){return Math.abs(m)<I&&(m=0),Math.abs(F)<I&&(F=0),[m,F]}var M=n.clampFn||x;function w(m){i._dragged=!1,i._dragging=!0;var F=r(m);c=F[0],T=F[1],S=m.target,E=m,P=m.buttons===2||m.ctrlKey,typeof m.clientX>"u"&&typeof m.clientY>"u"&&(m.clientX=c,m.clientY=T),h=new Date().getTime(),h-i._mouseDownTime<u?f+=1:(f=1,i._mouseDownTime=h),n.prepFn&&n.prepFn(m,c,T),_&&!P?(d=t(),d.style.cursor=window.getComputedStyle(y).cursor):_||(d=document,l=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(y).cursor),document.addEventListener("mouseup",L),document.addEventListener("touchend",L),n.dragmode!==!1&&(m.preventDefault(),document.addEventListener("mousemove",o),document.addEventListener("touchmove",o,{passive:!1}))}function o(m){m.preventDefault();var F=r(m),I=n.minDrag||A.MINDRAG,U=M(F[0]-c,F[1]-T,I),z=U[0],N=U[1];(z||N)&&(i._dragged=!0,v.unhover(i,m)),i._dragged&&n.moveFn&&!P&&(i._dragdata={element:y,dx:z,dy:N},n.moveFn(z,N))}function L(m){if(delete i._dragdata,n.dragmode!==!1&&(m.preventDefault(),document.removeEventListener("mousemove",o),document.removeEventListener("touchmove",o)),document.removeEventListener("mouseup",L),document.removeEventListener("touchend",L),_?C(d):l&&(d.documentElement.style.cursor=l,l=null),!i._dragging){i._dragged=!1;return}if(i._dragging=!1,new Date().getTime()-i._mouseDownTime>u&&(f=Math.max(f-1,1)),i._dragged)n.doneFn&&n.doneFn();else if(n.clickFn&&n.clickFn(f,E),!P){var F;try{F=new MouseEvent("click",m)}catch{var I=r(m);F=document.createEvent("MouseEvents"),F.initMouseEvent("click",m.bubbles,m.cancelable,m.view,m.detail,m.screenX,m.screenY,I[0],I[1],m.ctrlKey,m.altKey,m.shiftKey,m.metaKey,m.button,m.relatedTarget)}S.dispatchEvent(F)}i._dragging=!1,i._dragged=!1}};function t(){var s=document.createElement("div");s.className="dragcover";var n=s.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(s),s}v.coverSlip=t;function r(s){return g(s.changedTouches?s.changedTouches[0]:s,document.body)}},26041:function(G,V,e){var g=e(11086),_=e(79990),a=e(24401).getGraphDiv,C=e(26675),A=G.exports={};A.wrapped=function(v,p,t){v=a(v),v._fullLayout&&_.clear(v._fullLayout._uid+C.HOVERID),A.raw(v,p,t)},A.raw=function(p,t){var r=p._fullLayout,s=p._hoverdata;t||(t={}),!(t.target&&!p._dragged&&g.triggerHandler(p,"plotly_beforehover",t)===!1)&&(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),p._hoverdata=void 0,t.target&&s&&p.emit("plotly_unhover",{event:t,points:s}))}},79952:function(G,V){V.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},V.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(G,V,e){var g=e(39898),_=e(71828),a=_.numberFormat,C=e(92770),A=e(84267),v=e(73972),p=e(7901),t=e(21081),r=_.strTranslate,s=e(63893),n=e(77922),i=e(18783),f=i.LINE_SPACING,u=e(37822).DESELECTDIM,y=e(34098),c=e(39984),T=e(23469).appendArrayPointValue,h=G.exports={};h.font=function(Pe,be,Le,We){_.isPlainObject(be)&&(We=be.color,Le=be.size,be=be.family),be&&Pe.style("font-family",be),Le+1&&Pe.style("font-size",Le+"px"),We&&Pe.call(p.fill,We)},h.setPosition=function(Pe,be,Le){Pe.attr("x",be).attr("y",Le)},h.setSize=function(Pe,be,Le){Pe.attr("width",be).attr("height",Le)},h.setRect=function(Pe,be,Le,We,je){Pe.call(h.setPosition,be,Le).call(h.setSize,We,je)},h.translatePoint=function(Pe,be,Le,We){var je=Le.c2p(Pe.x),Fe=We.c2p(Pe.y);if(C(je)&&C(Fe)&&be.node())be.node().nodeName==="text"?be.attr("x",je).attr("y",Fe):be.attr("transform",r(je,Fe));else return!1;return!0},h.translatePoints=function(Pe,be,Le){Pe.each(function(We){var je=g.select(this);h.translatePoint(We,je,be,Le)})},h.hideOutsideRangePoint=function(Pe,be,Le,We,je,Fe){be.attr("display",Le.isPtWithinRange(Pe,je)&&We.isPtWithinRange(Pe,Fe)?null:"none")},h.hideOutsideRangePoints=function(Pe,be){if(be._hasClipOnAxisFalse){var Le=be.xaxis,We=be.yaxis;Pe.each(function(je){var Fe=je[0].trace,Ze=Fe.xcalendar,ut=Fe.ycalendar,at=v.traceIs(Fe,"bar-like")?".bartext":".point,.textpoint";Pe.selectAll(at).each(function(it){h.hideOutsideRangePoint(it,g.select(this),Le,We,Ze,ut)})})}},h.crispRound=function(Pe,be,Le){return!be||!C(be)?Le||0:Pe._context.staticPlot?be:be<1?1:Math.round(be)},h.singleLineStyle=function(Pe,be,Le,We,je){be.style("fill","none");var Fe=(((Pe||[])[0]||{}).trace||{}).line||{},Ze=Le||Fe.width||0,ut=je||Fe.dash||"";p.stroke(be,We||Fe.color),h.dashLine(be,ut,Ze)},h.lineGroupStyle=function(Pe,be,Le,We){Pe.style("fill","none").each(function(je){var Fe=(((je||[])[0]||{}).trace||{}).line||{},Ze=be||Fe.width||0,ut=We||Fe.dash||"";g.select(this).call(p.stroke,Le||Fe.color).call(h.dashLine,ut,Ze)})},h.dashLine=function(Pe,be,Le){Le=+Le||0,be=h.dashStyle(be,Le),Pe.style({"stroke-dasharray":be,"stroke-width":Le+"px"})},h.dashStyle=function(Pe,be){be=+be||1;var Le=Math.max(be,3);return Pe==="solid"?Pe="":Pe==="dot"?Pe=Le+"px,"+Le+"px":Pe==="dash"?Pe=3*Le+"px,"+3*Le+"px":Pe==="longdash"?Pe=5*Le+"px,"+5*Le+"px":Pe==="dashdot"?Pe=3*Le+"px,"+Le+"px,"+Le+"px,"+Le+"px":Pe==="longdashdot"&&(Pe=5*Le+"px,"+2*Le+"px,"+Le+"px,"+2*Le+"px"),Pe};function l(Pe,be,Le){var We=be.fillpattern,je=We&&h.getPatternAttr(We.shape,0,"");if(je){var Fe=h.getPatternAttr(We.bgcolor,0,null),Ze=h.getPatternAttr(We.fgcolor,0,null),ut=We.fgopacity,at=h.getPatternAttr(We.size,0,8),it=h.getPatternAttr(We.solidity,0,.3),$e=be.uid;h.pattern(Pe,"point",Le,$e,je,at,it,void 0,We.fillmode,Fe,Ze,ut)}else be.fillcolor&&Pe.call(p.fill,be.fillcolor)}h.singleFillStyle=function(Pe,be){var Le=g.select(Pe.node()),We=Le.data(),je=((We[0]||[])[0]||{}).trace||{};l(Pe,je,be)},h.fillGroupStyle=function(Pe,be){Pe.style("stroke-width",0).each(function(Le){var We=g.select(this);Le[0].trace&&l(We,Le[0].trace,be)})};var d=e(90998);h.symbolNames=[],h.symbolFuncs=[],h.symbolBackOffs=[],h.symbolNeedLines={},h.symbolNoDot={},h.symbolNoFill={},h.symbolList=[],Object.keys(d).forEach(function(Pe){var be=d[Pe],Le=be.n;h.symbolList.push(Le,String(Le),Pe,Le+100,String(Le+100),Pe+"-open"),h.symbolNames[Le]=Pe,h.symbolFuncs[Le]=be.f,h.symbolBackOffs[Le]=be.backoff||0,be.needLine&&(h.symbolNeedLines[Le]=!0),be.noDot?h.symbolNoDot[Le]=!0:h.symbolList.push(Le+200,String(Le+200),Pe+"-dot",Le+300,String(Le+300),Pe+"-open-dot"),be.noFill&&(h.symbolNoFill[Le]=!0)});var E=h.symbolNames.length,S="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";h.symbolNumber=function(Pe){if(C(Pe))Pe=+Pe;else if(typeof Pe=="string"){var be=0;Pe.indexOf("-open")>0&&(be=100,Pe=Pe.replace("-open","")),Pe.indexOf("-dot")>0&&(be+=200,Pe=Pe.replace("-dot","")),Pe=h.symbolNames.indexOf(Pe),Pe>=0&&(Pe+=be)}return Pe%100>=E||Pe>=400?0:Math.floor(Math.max(Pe,0))};function P(Pe,be,Le,We){var je=Pe%100;return h.symbolFuncs[je](be,Le,We)+(Pe>=200?S:"")}var x={x1:1,x2:0,y1:0,y2:0},M={x1:0,x2:0,y1:1,y2:0},w=a("~f"),o={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:x},horizontalreversed:{node:"linearGradient",attrs:x,reversed:!0},vertical:{node:"linearGradient",attrs:M},verticalreversed:{node:"linearGradient",attrs:M,reversed:!0}};h.gradient=function(Pe,be,Le,We,je,Fe){for(var Ze=je.length,ut=o[We],at=new Array(Ze),it=0;it<Ze;it++)ut.reversed?at[Ze-1-it]=[w((1-je[it][0])*100),je[it][1]]:at[it]=[w(je[it][0]*100),je[it][1]];var $e=be._fullLayout,st="g"+$e._uid+"-"+Le,ct=$e._defs.select(".gradients").selectAll("#"+st).data([We+at.join(";")],_.identity);ct.exit().remove(),ct.enter().append(ut.node).each(function(){var vt=g.select(this);ut.attrs&&vt.attr(ut.attrs),vt.attr("id",st);var St=vt.selectAll("stop").data(at);St.exit().remove(),St.enter().append("stop"),St.each(function(Mt){var Bt=A(Mt[1]);g.select(this).attr({offset:Mt[0]+"%","stop-color":p.tinyRGB(Bt),"stop-opacity":Bt.getAlpha()})})}),Pe.style(Fe,j(st,be)).style(Fe+"-opacity",null),Pe.classed("gradient_filled",!0)},h.pattern=function(Pe,be,Le,We,je,Fe,Ze,ut,at,it,$e,st){var ct=be==="legend";ut&&(at==="overlay"?(it=ut,$e=p.contrast(it)):(it=void 0,$e=ut));var vt=Le._fullLayout,St="p"+vt._uid+"-"+We,Mt,Bt,Qe=function(pt,At,jt,tr,Ct){return tr+(Ct-tr)*(pt-At)/(jt-At)},ke,ze,Be,Re,we={},ye=A($e),Se=p.tinyRGB(ye),Me=ye.getAlpha(),He=st*Me;switch(je){case"/":Mt=Fe*Math.sqrt(2),Bt=Fe*Math.sqrt(2),ke="M-"+Mt/4+","+Bt/4+"l"+Mt/2+",-"+Bt/2+"M0,"+Bt+"L"+Mt+",0M"+Mt/4*3+","+Bt/4*5+"l"+Mt/2+",-"+Bt/2,ze=Ze*Fe,Re="path",we={d:ke,opacity:He,stroke:Se,"stroke-width":ze+"px"};break;case"\\":Mt=Fe*Math.sqrt(2),Bt=Fe*Math.sqrt(2),ke="M"+Mt/4*3+",-"+Bt/4+"l"+Mt/2+","+Bt/2+"M0,0L"+Mt+","+Bt+"M-"+Mt/4+","+Bt/4*3+"l"+Mt/2+","+Bt/2,ze=Ze*Fe,Re="path",we={d:ke,opacity:He,stroke:Se,"stroke-width":ze+"px"};break;case"x":Mt=Fe*Math.sqrt(2),Bt=Fe*Math.sqrt(2),ke="M-"+Mt/4+","+Bt/4+"l"+Mt/2+",-"+Bt/2+"M0,"+Bt+"L"+Mt+",0M"+Mt/4*3+","+Bt/4*5+"l"+Mt/2+",-"+Bt/2+"M"+Mt/4*3+",-"+Bt/4+"l"+Mt/2+","+Bt/2+"M0,0L"+Mt+","+Bt+"M-"+Mt/4+","+Bt/4*3+"l"+Mt/2+","+Bt/2,ze=Fe-Fe*Math.sqrt(1-Ze),Re="path",we={d:ke,opacity:He,stroke:Se,"stroke-width":ze+"px"};break;case"|":Mt=Fe,Bt=Fe,Re="path",ke="M"+Mt/2+",0L"+Mt/2+","+Bt,ze=Ze*Fe,Re="path",we={d:ke,opacity:He,stroke:Se,"stroke-width":ze+"px"};break;case"-":Mt=Fe,Bt=Fe,Re="path",ke="M0,"+Bt/2+"L"+Mt+","+Bt/2,ze=Ze*Fe,Re="path",we={d:ke,opacity:He,stroke:Se,"stroke-width":ze+"px"};break;case"+":Mt=Fe,Bt=Fe,Re="path",ke="M"+Mt/2+",0L"+Mt/2+","+Bt+"M0,"+Bt/2+"L"+Mt+","+Bt/2,ze=Fe-Fe*Math.sqrt(1-Ze),Re="path",we={d:ke,opacity:He,stroke:Se,"stroke-width":ze+"px"};break;case".":Mt=Fe,Bt=Fe,Ze<Math.PI/4?Be=Math.sqrt(Ze*Fe*Fe/Math.PI):Be=Qe(Ze,Math.PI/4,1,Fe/2,Fe/Math.sqrt(2)),Re="circle",we={cx:Mt/2,cy:Bt/2,r:Be,opacity:He,fill:Se};break}var qe=[je||"noSh",it||"noBg",$e||"noFg",Fe,Ze].join(";"),rt=vt._defs.select(".patterns").selectAll("#"+St).data([qe],_.identity);rt.exit().remove(),rt.enter().append("pattern").each(function(){var pt=g.select(this);if(pt.attr({id:St,width:Mt+"px",height:Bt+"px",patternUnits:"userSpaceOnUse",patternTransform:ct?"scale(0.8)":""}),it){var At=A(it),jt=p.tinyRGB(At),tr=At.getAlpha(),Ct=pt.selectAll("rect").data([0]);Ct.exit().remove(),Ct.enter().append("rect").attr({width:Mt+"px",height:Bt+"px",fill:jt,"fill-opacity":tr})}var Nt=pt.selectAll(Re).data([0]);Nt.exit().remove(),Nt.enter().append(Re).attr(we)}),Pe.style("fill",j(St,Le)).style("fill-opacity",null),Pe.classed("pattern_filled",!0)},h.initGradients=function(Pe){var be=Pe._fullLayout,Le=_.ensureSingle(be._defs,"g","gradients");Le.selectAll("linearGradient,radialGradient").remove(),g.select(Pe).selectAll(".gradient_filled").classed("gradient_filled",!1)},h.initPatterns=function(Pe){var be=Pe._fullLayout,Le=_.ensureSingle(be._defs,"g","patterns");Le.selectAll("pattern").remove(),g.select(Pe).selectAll(".pattern_filled").classed("pattern_filled",!1)},h.getPatternAttr=function(Pe,be,Le){return Pe&&_.isArrayOrTypedArray(Pe)?be<Pe.length?Pe[be]:Le:Pe},h.pointStyle=function(Pe,be,Le,We){if(Pe.size()){var je=h.makePointStyleFns(be);Pe.each(function(Fe){h.singlePointStyle(Fe,g.select(this),be,je,Le,We)})}},h.singlePointStyle=function(Pe,be,Le,We,je,Fe){var Ze=Le.marker,ut=Ze.line;if(Fe&&Fe.i>=0&&Pe.i===void 0&&(Pe.i=Fe.i),be.style("opacity",We.selectedOpacityFn?We.selectedOpacityFn(Pe):Pe.mo===void 0?Ze.opacity:Pe.mo),We.ms2mrc){var at;Pe.ms==="various"||Ze.size==="various"?at=3:at=We.ms2mrc(Pe.ms),Pe.mrc=at,We.selectedSizeFn&&(at=Pe.mrc=We.selectedSizeFn(Pe));var it=h.symbolNumber(Pe.mx||Ze.symbol)||0;Pe.om=it%200>=100;var $e=Ve(Pe,Le),st=te(Pe,Le);be.attr("d",P(it,at,$e,st))}var ct=!1,vt,St,Mt;if(Pe.so)Mt=ut.outlierwidth,St=ut.outliercolor,vt=Ze.outliercolor;else{var Bt=(ut||{}).width;Mt=(Pe.mlw+1||Bt+1||(Pe.trace?(Pe.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Pe?St=Pe.mlcc=We.lineScale(Pe.mlc):_.isArrayOrTypedArray(ut.color)?St=p.defaultLine:St=ut.color,_.isArrayOrTypedArray(Ze.color)&&(vt=p.defaultLine,ct=!0),"mc"in Pe?vt=Pe.mcc=We.markerScale(Pe.mc):vt=Ze.color||Ze.colors||"rgba(0,0,0,0)",We.selectedColorFn&&(vt=We.selectedColorFn(Pe))}if(Pe.om)be.call(p.stroke,vt).style({"stroke-width":(Mt||1)+"px",fill:"none"});else{be.style("stroke-width",(Pe.isBlank?0:Mt)+"px");var Qe=Ze.gradient,ke=Pe.mgt;ke?ct=!0:ke=Qe&&Qe.type,_.isArrayOrTypedArray(ke)&&(ke=ke[0],o[ke]||(ke=0));var ze=Ze.pattern,Be=ze&&h.getPatternAttr(ze.shape,Pe.i,"");if(ke&&ke!=="none"){var Re=Pe.mgc;Re?ct=!0:Re=Qe.color;var we=Le.uid;ct&&(we+="-"+Pe.i),h.gradient(be,je,we,ke,[[0,Re],[1,vt]],"fill")}else if(Be){var ye=!1,Se=ze.fgcolor;!Se&&Fe&&Fe.color&&(Se=Fe.color,ye=!0);var Me=h.getPatternAttr(Se,Pe.i,Fe&&Fe.color||null),He=h.getPatternAttr(ze.bgcolor,Pe.i,null),qe=ze.fgopacity,rt=h.getPatternAttr(ze.size,Pe.i,8),pt=h.getPatternAttr(ze.solidity,Pe.i,.3);ye=ye||Pe.mcc||_.isArrayOrTypedArray(ze.shape)||_.isArrayOrTypedArray(ze.bgcolor)||_.isArrayOrTypedArray(ze.fgcolor)||_.isArrayOrTypedArray(ze.size)||_.isArrayOrTypedArray(ze.solidity);var At=Le.uid;ye&&(At+="-"+Pe.i),h.pattern(be,"point",je,At,Be,rt,pt,Pe.mcc,ze.fillmode,He,Me,qe)}else _.isArrayOrTypedArray(vt)?p.fill(be,vt[Pe.i]):p.fill(be,vt);Mt&&p.stroke(be,St)}},h.makePointStyleFns=function(Pe){var be={},Le=Pe.marker;return be.markerScale=h.tryColorscale(Le,""),be.lineScale=h.tryColorscale(Le,"line"),v.traceIs(Pe,"symbols")&&(be.ms2mrc=y.isBubble(Pe)?c(Pe):function(){return(Le.size||6)/2}),Pe.selectedpoints&&_.extendFlat(be,h.makeSelectedPointStyleFns(Pe)),be},h.makeSelectedPointStyleFns=function(Pe){var be={},Le=Pe.selected||{},We=Pe.unselected||{},je=Pe.marker||{},Fe=Le.marker||{},Ze=We.marker||{},ut=je.opacity,at=Fe.opacity,it=Ze.opacity,$e=at!==void 0,st=it!==void 0;(_.isArrayOrTypedArray(ut)||$e||st)&&(be.selectedOpacityFn=function(Be){var Re=Be.mo===void 0?je.opacity:Be.mo;return Be.selected?$e?at:Re:st?it:u*Re});var ct=je.color,vt=Fe.color,St=Ze.color;(vt||St)&&(be.selectedColorFn=function(Be){var Re=Be.mcc||ct;return Be.selected?vt||Re:St||Re});var Mt=je.size,Bt=Fe.size,Qe=Ze.size,ke=Bt!==void 0,ze=Qe!==void 0;return v.traceIs(Pe,"symbols")&&(ke||ze)&&(be.selectedSizeFn=function(Be){var Re=Be.mrc||Mt/2;return Be.selected?ke?Bt/2:Re:ze?Qe/2:Re}),be},h.makeSelectedTextStyleFns=function(Pe){var be={},Le=Pe.selected||{},We=Pe.unselected||{},je=Pe.textfont||{},Fe=Le.textfont||{},Ze=We.textfont||{},ut=je.color,at=Fe.color,it=Ze.color;return be.selectedTextColorFn=function($e){var st=$e.tc||ut;return $e.selected?at||st:it||(at?st:p.addOpacity(st,u))},be},h.selectedPointStyle=function(Pe,be){if(!(!Pe.size()||!be.selectedpoints)){var Le=h.makeSelectedPointStyleFns(be),We=be.marker||{},je=[];Le.selectedOpacityFn&&je.push(function(Fe,Ze){Fe.style("opacity",Le.selectedOpacityFn(Ze))}),Le.selectedColorFn&&je.push(function(Fe,Ze){p.fill(Fe,Le.selectedColorFn(Ze))}),Le.selectedSizeFn&&je.push(function(Fe,Ze){var ut=Ze.mx||We.symbol||0,at=Le.selectedSizeFn(Ze);Fe.attr("d",P(h.symbolNumber(ut),at,Ve(Ze,be),te(Ze,be))),Ze.mrc2=at}),je.length&&Pe.each(function(Fe){for(var Ze=g.select(this),ut=0;ut<je.length;ut++)je[ut](Ze,Fe)})}},h.tryColorscale=function(Pe,be){var Le=be?_.nestedProperty(Pe,be).get():Pe;if(Le){var We=Le.color;if((Le.colorscale||Le._colorAx)&&_.isArrayOrTypedArray(We))return t.makeColorScaleFuncFromTrace(Le)}return _.identity};var L={start:1,end:-1,middle:0,bottom:1,top:-1};function m(Pe,be,Le,We,je){var Fe=g.select(Pe.node().parentNode),Ze=be.indexOf("top")!==-1?"top":be.indexOf("bottom")!==-1?"bottom":"middle",ut=be.indexOf("left")!==-1?"end":be.indexOf("right")!==-1?"start":"middle",at=We?We/.8+1:0,it=(s.lineCount(Pe)-1)*f+1,$e=L[ut]*at,st=Le*.75+L[Ze]*at+(L[Ze]-1)*it*Le/2;Pe.attr("text-anchor",ut),je||Fe.attr("transform",r($e,st))}function F(Pe,be){var Le=Pe.ts||be.textfont.size;return C(Le)&&Le>0?Le:0}h.textPointStyle=function(Pe,be,Le){if(Pe.size()){var We;if(be.selectedpoints){var je=h.makeSelectedTextStyleFns(be);We=je.selectedTextColorFn}var Fe=be.texttemplate,Ze=Le._fullLayout;Pe.each(function(ut){var at=g.select(this),it=Fe?_.extractOption(ut,be,"txt","texttemplate"):_.extractOption(ut,be,"tx","text");if(!it&&it!==0){at.remove();return}if(Fe){var $e=be._module.formatLabels,st=$e?$e(ut,be,Ze):{},ct={};T(ct,be,ut.i);var vt=be._meta||{};it=_.texttemplateString(it,st,Ze._d3locale,ct,ut,vt)}var St=ut.tp||be.textposition,Mt=F(ut,be),Bt=We?We(ut):ut.tc||be.textfont.color;at.call(h.font,ut.tf||be.textfont.family,Mt,Bt).text(it).call(s.convertToTspans,Le).call(m,St,Mt,ut.mrc)})}},h.selectedTextStyle=function(Pe,be){if(!(!Pe.size()||!be.selectedpoints)){var Le=h.makeSelectedTextStyleFns(be);Pe.each(function(We){var je=g.select(this),Fe=Le.selectedTextColorFn(We),Ze=We.tp||be.textposition,ut=F(We,be);p.fill(je,Fe);var at=v.traceIs(be,"bar-like");m(je,Ze,ut,We.mrc2||We.mrc,at)})}};var I=.5;h.smoothopen=function(Pe,be){if(Pe.length<3)return"M"+Pe.join("L");var Le="M"+Pe[0],We=[],je;for(je=1;je<Pe.length-1;je++)We.push(H(Pe[je-1],Pe[je],Pe[je+1],be));for(Le+="Q"+We[0][0]+" "+Pe[1],je=2;je<Pe.length-1;je++)Le+="C"+We[je-2][1]+" "+We[je-1][0]+" "+Pe[je];return Le+="Q"+We[Pe.length-3][1]+" "+Pe[Pe.length-1],Le},h.smoothclosed=function(Pe,be){if(Pe.length<3)return"M"+Pe.join("L")+"Z";var Le="M"+Pe[0],We=Pe.length-1,je=[H(Pe[We],Pe[0],Pe[1],be)],Fe;for(Fe=1;Fe<We;Fe++)je.push(H(Pe[Fe-1],Pe[Fe],Pe[Fe+1],be));for(je.push(H(Pe[We-1],Pe[We],Pe[0],be)),Fe=1;Fe<=We;Fe++)Le+="C"+je[Fe-1][1]+" "+je[Fe][0]+" "+Pe[Fe];return Le+="C"+je[We][1]+" "+je[0][0]+" "+Pe[0]+"Z",Le};var U,z;function N(Pe,be,Le){return Le&&(Pe=re(Pe)),be?O(Pe[1]):B(Pe[0])}function B(Pe){var be=g.round(Pe,2);return U=be,be}function O(Pe){var be=g.round(Pe,2);return z=be,be}function H(Pe,be,Le,We){var je=Pe[0]-be[0],Fe=Pe[1]-be[1],Ze=Le[0]-be[0],ut=Le[1]-be[1],at=Math.pow(je*je+Fe*Fe,I/2),it=Math.pow(Ze*Ze+ut*ut,I/2),$e=(it*it*je-at*at*Ze)*We,st=(it*it*Fe-at*at*ut)*We,ct=3*it*(at+it),vt=3*at*(at+it);return[[B(be[0]+(ct&&$e/ct)),O(be[1]+(ct&&st/ct))],[B(be[0]-(vt&&$e/vt)),O(be[1]-(vt&&st/vt))]]}var Y={hv:function(Pe,be,Le){return"H"+B(be[0])+"V"+N(be,1,Le)},vh:function(Pe,be,Le){return"V"+O(be[1])+"H"+N(be,0,Le)},hvh:function(Pe,be,Le){return"H"+B((Pe[0]+be[0])/2)+"V"+O(be[1])+"H"+N(be,0,Le)},vhv:function(Pe,be,Le){return"V"+O((Pe[1]+be[1])/2)+"H"+B(be[0])+"V"+N(be,1,Le)}},J=function(Pe,be,Le){return"L"+N(be,0,Le)+","+N(be,1,Le)};h.steps=function(Pe){var be=Y[Pe]||J;return function(Le){for(var We="M"+B(Le[0][0])+","+O(Le[0][1]),je=Le.length,Fe=1;Fe<je;Fe++)We+=be(Le[Fe-1],Le[Fe],Fe===je-1);return We}};function re(Pe,be){var Le=Pe.backoff,We=Pe.trace,je=Pe.d,Fe=Pe.i;if(Le&&We&&We.marker&&We.marker.angle%360===0&&We.line&&We.line.shape!=="spline"){var Ze=_.isArrayOrTypedArray(Le),ut=Pe,at=be?be[0]:U||0,it=be?be[1]:z||0,$e=ut[0],st=ut[1],ct=$e-at,vt=st-it,St=Math.atan2(vt,ct),Mt=Ze?Le[Fe]:Le;if(Mt==="auto"){var Bt=ut.i;We.type==="scatter"&&Bt--;var Qe=ut.marker,ke=Qe.symbol;_.isArrayOrTypedArray(ke)&&(ke=ke[Bt]);var ze=Qe.size;_.isArrayOrTypedArray(ze)&&(ze=ze[Bt]),Mt=Qe?h.symbolBackOffs[h.symbolNumber(ke)]*ze:0,Mt+=h.getMarkerStandoff(je[Bt],We)||0}var Be=$e-Mt*Math.cos(St),Re=st-Mt*Math.sin(St);(Be<=$e&&Be>=at||Be>=$e&&Be<=at)&&(Re<=st&&Re>=it||Re>=st&&Re<=it)&&(Pe=[Be,Re])}return Pe}h.applyBackoff=re,h.makeTester=function(){var Pe=_.ensureSingleById(g.select("body"),"svg","js-plotly-tester",function(Le){Le.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),be=_.ensureSingle(Pe,"path","js-reference-point",function(Le){Le.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});h.tester=Pe,h.testref=be},h.savedBBoxes={};var ie=0,ce=1e4;h.bBox=function(Pe,be,Le){Le||(Le=Q(Pe));var We;if(Le){if(We=h.savedBBoxes[Le],We)return _.extendFlat({},We)}else if(Pe.childNodes.length===1){var je=Pe.childNodes[0];if(Le=Q(je),Le){var Fe=+je.getAttribute("x")||0,Ze=+je.getAttribute("y")||0,ut=je.getAttribute("transform");if(!ut){var at=h.bBox(je,!1,Le);return Fe&&(at.left+=Fe,at.right+=Fe),Ze&&(at.top+=Ze,at.bottom+=Ze),at}if(Le+="~"+Fe+"~"+Ze+"~"+ut,We=h.savedBBoxes[Le],We)return _.extendFlat({},We)}}var it,$e;be?it=Pe:($e=h.tester.node(),it=Pe.cloneNode(!0),$e.appendChild(it)),g.select(it).attr("transform",null).call(s.positionText,0,0);var st=it.getBoundingClientRect(),ct=h.testref.node().getBoundingClientRect();be||$e.removeChild(it);var vt={height:st.height,width:st.width,left:st.left-ct.left,top:st.top-ct.top,right:st.right-ct.left,bottom:st.bottom-ct.top};return ie>=ce&&(h.savedBBoxes={},ie=0),Le&&(h.savedBBoxes[Le]=vt),ie++,_.extendFlat({},vt)};function Q(Pe){var be=Pe.getAttribute("data-unformatted");if(be!==null)return be+Pe.getAttribute("data-math")+Pe.getAttribute("text-anchor")+Pe.getAttribute("style")}h.setClipUrl=function(Pe,be,Le){Pe.attr("clip-path",j(be,Le))};function j(Pe,be){if(!Pe)return null;var Le=be._context,We=Le._exportedPlot?"":Le._baseUrl||"";return We?"url('"+We+"#"+Pe+"')":"url(#"+Pe+")"}h.getTranslate=function(Pe){var be=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,Le=Pe.attr?"attr":"getAttribute",We=Pe[Le]("transform")||"",je=We.replace(be,function(Fe,Ze,ut){return[Ze,ut].join(" ")}).split(" ");return{x:+je[0]||0,y:+je[1]||0}},h.setTranslate=function(Pe,be,Le){var We=/(\btranslate\(.*?\);?)/,je=Pe.attr?"attr":"getAttribute",Fe=Pe.attr?"attr":"setAttribute",Ze=Pe[je]("transform")||"";return be=be||0,Le=Le||0,Ze=Ze.replace(We,"").trim(),Ze+=r(be,Le),Ze=Ze.trim(),Pe[Fe]("transform",Ze),Ze},h.getScale=function(Pe){var be=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,Le=Pe.attr?"attr":"getAttribute",We=Pe[Le]("transform")||"",je=We.replace(be,function(Fe,Ze,ut){return[Ze,ut].join(" ")}).split(" ");return{x:+je[0]||1,y:+je[1]||1}},h.setScale=function(Pe,be,Le){var We=/(\bscale\(.*?\);?)/,je=Pe.attr?"attr":"getAttribute",Fe=Pe.attr?"attr":"setAttribute",Ze=Pe[je]("transform")||"";return be=be||1,Le=Le||1,Ze=Ze.replace(We,"").trim(),Ze+="scale("+be+","+Le+")",Ze=Ze.trim(),Pe[Fe]("transform",Ze),Ze};var Z=/\s*sc.*/;h.setPointGroupScale=function(Pe,be,Le){if(be=be||1,Le=Le||1,!!Pe){var We=be===1&&Le===1?"":"scale("+be+","+Le+")";Pe.each(function(){var je=(this.getAttribute("transform")||"").replace(Z,"");je+=We,je=je.trim(),this.setAttribute("transform",je)})}};var $=/translate\([^)]*\)\s*$/;h.setTextPointsScale=function(Pe,be,Le){Pe&&Pe.each(function(){var We,je=g.select(this),Fe=je.select("text");if(Fe.node()){var Ze=parseFloat(Fe.attr("x")||0),ut=parseFloat(Fe.attr("y")||0),at=(je.attr("transform")||"").match($);be===1&&Le===1?We=[]:We=[r(Ze,ut),"scale("+be+","+Le+")",r(-Ze,-ut)],at&&We.push(at),je.attr("transform",We.join(""))}})};function te(Pe,be){var Le;return Pe&&(Le=Pe.mf),Le===void 0&&(Le=be.marker&&be.marker.standoff||0),!be._geo&&!be._xA?-Le:Le}h.getMarkerStandoff=te;var se=Math.atan2,ee=Math.cos,q=Math.sin;function le(Pe,be){var Le=be[0],We=be[1];return[Le*ee(Pe)-We*q(Pe),Le*q(Pe)+We*ee(Pe)]}var oe,he,me,Ce,Ae,Ue;function Ve(Pe,be){var Le=Pe.ma;Le===void 0&&(Le=be.marker.angle||0);var We,je,Fe=be.marker.angleref;if(Fe==="previous"||Fe==="north"){if(be._geo){var Ze=be._geo.project(Pe.lonlat);We=Ze[0],je=Ze[1]}else{var ut=be._xA,at=be._yA;if(ut&&at)We=ut.c2p(Pe.x),je=at.c2p(Pe.y);else return 90}if(be._geo){var it=Pe.lonlat[0],$e=Pe.lonlat[1],st=be._geo.project([it,$e+1e-5]),ct=be._geo.project([it+1e-5,$e]),vt=se(ct[1]-je,ct[0]-We),St=se(st[1]-je,st[0]-We),Mt;if(Fe==="north")Mt=Le/180*Math.PI;else if(Fe==="previous"){var Bt=it/180*Math.PI,Qe=$e/180*Math.PI,ke=oe/180*Math.PI,ze=he/180*Math.PI,Be=ke-Bt,Re=ee(ze)*q(Be),we=q(ze)*ee(Qe)-ee(ze)*q(Qe)*ee(Be);Mt=-se(Re,we)-Math.PI,oe=it,he=$e}var ye=le(vt,[ee(Mt),0]),Se=le(St,[q(Mt),0]);Le=se(ye[1]+Se[1],ye[0]+Se[0])/Math.PI*180,Fe==="previous"&&!(Ue===be.uid&&Pe.i===Ae+1)&&(Le=null)}if(Fe==="previous"&&!be._geo)if(Ue===be.uid&&Pe.i===Ae+1&&C(We)&&C(je)){var Me=We-me,He=je-Ce,qe=be.line&&be.line.shape||"",rt=qe.slice(qe.length-1);rt==="h"&&(He=0),rt==="v"&&(Me=0),Le+=se(He,Me)/Math.PI*180+90}else Le=null}return me=We,Ce=je,Ae=Pe.i,Ue=be.uid,Le}h.getMarkerAngle=Ve},90998:function(G,V,e){var g=e(95616),_=e(39898).round,a="M0,0Z",C=Math.sqrt(2),A=Math.sqrt(3),v=Math.PI,p=Math.cos,t=Math.sin;G.exports={circle:{n:0,f:function(y,c,T){if(r(c))return a;var h=_(y,2),l="M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z";return T?u(c,T,l):l}},square:{n:1,f:function(y,c,T){if(r(c))return a;var h=_(y,2);return u(c,T,"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")}},diamond:{n:2,f:function(y,c,T){if(r(c))return a;var h=_(y*1.3,2);return u(c,T,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"Z")}},cross:{n:3,f:function(y,c,T){if(r(c))return a;var h=_(y*.4,2),l=_(y*1.2,2);return u(c,T,"M"+l+","+h+"H"+h+"V"+l+"H-"+h+"V"+h+"H-"+l+"V-"+h+"H-"+h+"V-"+l+"H"+h+"V-"+h+"H"+l+"Z")}},x:{n:4,f:function(y,c,T){if(r(c))return a;var h=_(y*.8/C,2),l="l"+h+","+h,d="l"+h+",-"+h,E="l-"+h+",-"+h,S="l-"+h+","+h;return u(c,T,"M0,"+h+l+d+E+d+E+S+E+S+l+S+l+"Z")}},"triangle-up":{n:5,f:function(y,c,T){if(r(c))return a;var h=_(y*2/A,2),l=_(y/2,2),d=_(y,2);return u(c,T,"M-"+h+","+l+"H"+h+"L0,-"+d+"Z")}},"triangle-down":{n:6,f:function(y,c,T){if(r(c))return a;var h=_(y*2/A,2),l=_(y/2,2),d=_(y,2);return u(c,T,"M-"+h+",-"+l+"H"+h+"L0,"+d+"Z")}},"triangle-left":{n:7,f:function(y,c,T){if(r(c))return a;var h=_(y*2/A,2),l=_(y/2,2),d=_(y,2);return u(c,T,"M"+l+",-"+h+"V"+h+"L-"+d+",0Z")}},"triangle-right":{n:8,f:function(y,c,T){if(r(c))return a;var h=_(y*2/A,2),l=_(y/2,2),d=_(y,2);return u(c,T,"M-"+l+",-"+h+"V"+h+"L"+d+",0Z")}},"triangle-ne":{n:9,f:function(y,c,T){if(r(c))return a;var h=_(y*.6,2),l=_(y*1.2,2);return u(c,T,"M-"+l+",-"+h+"H"+h+"V"+l+"Z")}},"triangle-se":{n:10,f:function(y,c,T){if(r(c))return a;var h=_(y*.6,2),l=_(y*1.2,2);return u(c,T,"M"+h+",-"+l+"V"+h+"H-"+l+"Z")}},"triangle-sw":{n:11,f:function(y,c,T){if(r(c))return a;var h=_(y*.6,2),l=_(y*1.2,2);return u(c,T,"M"+l+","+h+"H-"+h+"V-"+l+"Z")}},"triangle-nw":{n:12,f:function(y,c,T){if(r(c))return a;var h=_(y*.6,2),l=_(y*1.2,2);return u(c,T,"M-"+h+","+l+"V-"+h+"H"+l+"Z")}},pentagon:{n:13,f:function(y,c,T){if(r(c))return a;var h=_(y*.951,2),l=_(y*.588,2),d=_(-y,2),E=_(y*-.309,2),S=_(y*.809,2);return u(c,T,"M"+h+","+E+"L"+l+","+S+"H-"+l+"L-"+h+","+E+"L0,"+d+"Z")}},hexagon:{n:14,f:function(y,c,T){if(r(c))return a;var h=_(y,2),l=_(y/2,2),d=_(y*A/2,2);return u(c,T,"M"+d+",-"+l+"V"+l+"L0,"+h+"L-"+d+","+l+"V-"+l+"L0,-"+h+"Z")}},hexagon2:{n:15,f:function(y,c,T){if(r(c))return a;var h=_(y,2),l=_(y/2,2),d=_(y*A/2,2);return u(c,T,"M-"+l+","+d+"H"+l+"L"+h+",0L"+l+",-"+d+"H-"+l+"L-"+h+",0Z")}},octagon:{n:16,f:function(y,c,T){if(r(c))return a;var h=_(y*.924,2),l=_(y*.383,2);return u(c,T,"M-"+l+",-"+h+"H"+l+"L"+h+",-"+l+"V"+l+"L"+l+","+h+"H-"+l+"L-"+h+","+l+"V-"+l+"Z")}},star:{n:17,f:function(y,c,T){if(r(c))return a;var h=y*1.4,l=_(h*.225,2),d=_(h*.951,2),E=_(h*.363,2),S=_(h*.588,2),P=_(-h,2),x=_(h*-.309,2),M=_(h*.118,2),w=_(h*.809,2),o=_(h*.382,2);return u(c,T,"M"+l+","+x+"H"+d+"L"+E+","+M+"L"+S+","+w+"L0,"+o+"L-"+S+","+w+"L-"+E+","+M+"L-"+d+","+x+"H-"+l+"L0,"+P+"Z")}},hexagram:{n:18,f:function(y,c,T){if(r(c))return a;var h=_(y*.66,2),l=_(y*.38,2),d=_(y*.76,2);return u(c,T,"M-"+d+",0l-"+l+",-"+h+"h"+d+"l"+l+",-"+h+"l"+l+","+h+"h"+d+"l-"+l+","+h+"l"+l+","+h+"h-"+d+"l-"+l+","+h+"l-"+l+",-"+h+"h-"+d+"Z")}},"star-triangle-up":{n:19,f:function(y,c,T){if(r(c))return a;var h=_(y*A*.8,2),l=_(y*.8,2),d=_(y*1.6,2),E=_(y*4,2),S="A "+E+","+E+" 0 0 1 ";return u(c,T,"M-"+h+","+l+S+h+","+l+S+"0,-"+d+S+"-"+h+","+l+"Z")}},"star-triangle-down":{n:20,f:function(y,c,T){if(r(c))return a;var h=_(y*A*.8,2),l=_(y*.8,2),d=_(y*1.6,2),E=_(y*4,2),S="A "+E+","+E+" 0 0 1 ";return u(c,T,"M"+h+",-"+l+S+"-"+h+",-"+l+S+"0,"+d+S+h+",-"+l+"Z")}},"star-square":{n:21,f:function(y,c,T){if(r(c))return a;var h=_(y*1.1,2),l=_(y*2,2),d="A "+l+","+l+" 0 0 1 ";return u(c,T,"M-"+h+",-"+h+d+"-"+h+","+h+d+h+","+h+d+h+",-"+h+d+"-"+h+",-"+h+"Z")}},"star-diamond":{n:22,f:function(y,c,T){if(r(c))return a;var h=_(y*1.4,2),l=_(y*1.9,2),d="A "+l+","+l+" 0 0 1 ";return u(c,T,"M-"+h+",0"+d+"0,"+h+d+h+",0"+d+"0,-"+h+d+"-"+h+",0Z")}},"diamond-tall":{n:23,f:function(y,c,T){if(r(c))return a;var h=_(y*.7,2),l=_(y*1.4,2);return u(c,T,"M0,"+l+"L"+h+",0L0,-"+l+"L-"+h+",0Z")}},"diamond-wide":{n:24,f:function(y,c,T){if(r(c))return a;var h=_(y*1.4,2),l=_(y*.7,2);return u(c,T,"M0,"+l+"L"+h+",0L0,-"+l+"L-"+h+",0Z")}},hourglass:{n:25,f:function(y,c,T){if(r(c))return a;var h=_(y,2);return u(c,T,"M"+h+","+h+"H-"+h+"L"+h+",-"+h+"H-"+h+"Z")},noDot:!0},bowtie:{n:26,f:function(y,c,T){if(r(c))return a;var h=_(y,2);return u(c,T,"M"+h+","+h+"V-"+h+"L-"+h+","+h+"V-"+h+"Z")},noDot:!0},"circle-cross":{n:27,f:function(y,c,T){if(r(c))return a;var h=_(y,2);return u(c,T,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(y,c,T){if(r(c))return a;var h=_(y,2),l=_(y/C,2);return u(c,T,"M"+l+","+l+"L-"+l+",-"+l+"M"+l+",-"+l+"L-"+l+","+l+"M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(y,c,T){if(r(c))return a;var h=_(y,2);return u(c,T,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(y,c,T){if(r(c))return a;var h=_(y,2);return u(c,T,"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h+"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(y,c,T){if(r(c))return a;var h=_(y*1.3,2);return u(c,T,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"ZM0,-"+h+"V"+h+"M-"+h+",0H"+h)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(y,c,T){if(r(c))return a;var h=_(y*1.3,2),l=_(y*.65,2);return u(c,T,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"ZM-"+l+",-"+l+"L"+l+","+l+"M-"+l+","+l+"L"+l+",-"+l)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(y,c,T){if(r(c))return a;var h=_(y*1.4,2);return u(c,T,"M0,"+h+"V-"+h+"M"+h+",0H-"+h)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(y,c,T){if(r(c))return a;var h=_(y,2);return u(c,T,"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(y,c,T){if(r(c))return a;var h=_(y*1.2,2),l=_(y*.85,2);return u(c,T,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+l+","+l+"L-"+l+",-"+l+"M"+l+",-"+l+"L-"+l+","+l)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(y,c,T){if(r(c))return a;var h=_(y/2,2),l=_(y,2);return u(c,T,"M"+h+","+l+"V-"+l+"M"+(h-l)+",-"+l+"V"+l+"M"+l+","+h+"H-"+l+"M-"+l+","+(h-l)+"H"+l)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(y,c,T){if(r(c))return a;var h=_(y*1.2,2),l=_(y*1.6,2),d=_(y*.8,2);return u(c,T,"M-"+h+","+d+"L0,0M"+h+","+d+"L0,0M0,-"+l+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(y,c,T){if(r(c))return a;var h=_(y*1.2,2),l=_(y*1.6,2),d=_(y*.8,2);return u(c,T,"M-"+h+",-"+d+"L0,0M"+h+",-"+d+"L0,0M0,"+l+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(y,c,T){if(r(c))return a;var h=_(y*1.2,2),l=_(y*1.6,2),d=_(y*.8,2);return u(c,T,"M"+d+","+h+"L0,0M"+d+",-"+h+"L0,0M-"+l+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(y,c,T){if(r(c))return a;var h=_(y*1.2,2),l=_(y*1.6,2),d=_(y*.8,2);return u(c,T,"M-"+d+","+h+"L0,0M-"+d+",-"+h+"L0,0M"+l+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(y,c,T){if(r(c))return a;var h=_(y*1.4,2);return u(c,T,"M"+h+",0H-"+h)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(y,c,T){if(r(c))return a;var h=_(y*1.4,2);return u(c,T,"M0,"+h+"V-"+h)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(y,c,T){if(r(c))return a;var h=_(y,2);return u(c,T,"M"+h+",-"+h+"L-"+h+","+h)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(y,c,T){if(r(c))return a;var h=_(y,2);return u(c,T,"M"+h+","+h+"L-"+h+",-"+h)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(y,c,T){if(r(c))return a;var h=_(y,2),l=_(y*2,2);return u(c,T,"M0,0L-"+h+","+l+"H"+h+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(y,c,T){if(r(c))return a;var h=_(y,2),l=_(y*2,2);return u(c,T,"M0,0L-"+h+",-"+l+"H"+h+"Z")},noDot:!0},"arrow-left":{n:47,f:function(y,c,T){if(r(c))return a;var h=_(y*2,2),l=_(y,2);return u(c,T,"M0,0L"+h+",-"+l+"V"+l+"Z")},noDot:!0},"arrow-right":{n:48,f:function(y,c,T){if(r(c))return a;var h=_(y*2,2),l=_(y,2);return u(c,T,"M0,0L-"+h+",-"+l+"V"+l+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(y,c,T){if(r(c))return a;var h=_(y,2),l=_(y*2,2);return u(c,T,"M-"+h+",0H"+h+"M0,0L-"+h+","+l+"H"+h+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(y,c,T){if(r(c))return a;var h=_(y,2),l=_(y*2,2);return u(c,T,"M-"+h+",0H"+h+"M0,0L-"+h+",-"+l+"H"+h+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(y,c,T){if(r(c))return a;var h=_(y*2,2),l=_(y,2);return u(c,T,"M0,-"+l+"V"+l+"M0,0L"+h+",-"+l+"V"+l+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(y,c,T){if(r(c))return a;var h=_(y*2,2),l=_(y,2);return u(c,T,"M0,-"+l+"V"+l+"M0,0L-"+h+",-"+l+"V"+l+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(y,c,T){if(r(c))return a;var h=v/2.5,l=2*y*p(h),d=2*y*t(h);return u(c,T,"M0,0L"+-l+","+d+"L"+l+","+d+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(y,c,T){if(r(c))return a;var h=v/4,l=2*y*p(h),d=2*y*t(h);return u(c,T,"M0,0L"+-l+","+d+"A "+2*y+","+2*y+" 0 0 1 "+l+","+d+"Z")},backoff:.4,noDot:!0}};function r(y){return y===null}var s,n,i,f;function u(y,c,T){if((!y||y%360===0)&&!c)return T;if(i===y&&f===c&&s===T)return n;i=y,f=c,s=T;function h(I,U){var z=p(I),N=t(I),B=U[0],O=U[1]+(c||0);return[B*z-O*N,B*N+O*z]}for(var l=y/180*v,d=0,E=0,S=g(T),P="",x=0;x<S.length;x++){var M=S[x],w=M[0],o=d,L=E;if(w==="M"||w==="L")d=+M[1],E=+M[2];else if(w==="m"||w==="l")d+=+M[1],E+=+M[2];else if(w==="H")d=+M[1];else if(w==="h")d+=+M[1];else if(w==="V")E=+M[1];else if(w==="v")E+=+M[1];else if(w==="A"){d=+M[1],E=+M[2];var m=h(l,[+M[6],+M[7]]);M[6]=m[0],M[7]=m[1],M[3]=+M[3]+y}(w==="H"||w==="V")&&(w="L"),(w==="h"||w==="v")&&(w="l"),(w==="m"||w==="l")&&(d-=o,E-=L);var F=h(l,[d,E]);(w==="H"||w==="V")&&(w="L"),(w==="M"||w==="L"||w==="m"||w==="l")&&(M[1]=F[0],M[2]=F[1]),M[0]=w,P+=M[0]+M.slice(1).join(",")}return n=P,P}},25673:function(G){G.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(G,V,e){var g=e(92770),_=e(73972),a=e(89298),C=e(71828),A=e(45827);G.exports=function(t){for(var r=t.calcdata,s=0;s<r.length;s++){var n=r[s],i=n[0].trace;if(i.visible===!0&&_.traceIs(i,"errorBarsOK")){var f=a.getFromId(t,i.xaxis),u=a.getFromId(t,i.yaxis);v(n,i,f,"x"),v(n,i,u,"y")}}};function v(p,t,r,s){var n=t["error_"+s]||{},i=n.visible&&["linear","log"].indexOf(r.type)!==-1,f=[];if(i){for(var u=A(n),y=0;y<p.length;y++){var c=p[y],T=c.i;if(T===void 0)T=y;else if(T===null)continue;var h=c[s];if(g(r.c2l(h))){var l=u(h,T);if(g(l[0])&&g(l[1])){var d=c[s+"s"]=h-l[0],E=c[s+"h"]=h+l[1];f.push(d,E)}}}var S=r._id,P=t._extremes[S],x=a.findExtremes(r,f,C.extendFlat({tozero:P.opts.tozero},{padded:!0}));P.min=P.min.concat(x.min),P.max=P.max.concat(x.max)}}},45827:function(G){G.exports=function(g){var _=g.type,a=g.symmetric;if(_==="data"){var C=g.array||[];if(a)return function(r,s){var n=+C[s];return[n,n]};var A=g.arrayminus||[];return function(r,s){var n=+C[s],i=+A[s];return!isNaN(n)||!isNaN(i)?[i||0,n||0]:[NaN,NaN]}}else{var v=V(_,g.value),p=V(_,g.valueminus);return a||g.valueminus===void 0?function(r){var s=v(r);return[s,s]}:function(r){return[p(r),v(r)]}}};function V(e,g){if(e==="percent")return function(_){return Math.abs(_*g/100)};if(e==="constant")return function(){return Math.abs(g)};if(e==="sqrt")return function(_){return Math.sqrt(Math.abs(_))}}},97587:function(G,V,e){var g=e(92770),_=e(73972),a=e(71828),C=e(44467),A=e(25673);G.exports=function(v,p,t,r){var s="error_"+r.axis,n=C.newContainer(p,s),i=v[s]||{};function f(d,E){return a.coerce(i,n,A,d,E)}var u=i.array!==void 0||i.value!==void 0||i.type==="sqrt",y=f("visible",u);if(y!==!1){var c=f("type","array"in i?"data":"percent"),T=!0;c!=="sqrt"&&(T=f("symmetric",!((c==="data"?"arrayminus":"valueminus")in i))),c==="data"?(f("array"),f("traceref"),T||(f("arrayminus"),f("tracerefminus"))):(c==="percent"||c==="constant")&&(f("value"),T||f("valueminus"));var h="copy_"+r.inherit+"style";if(r.inherit){var l=p["error_"+r.inherit];(l||{}).visible&&f(h,!(i.color||g(i.thickness)||g(i.width)))}(!r.inherit||!n[h])&&(f("color",t),f("thickness"),f("width",_.traceIs(p,"gl3d")?0:4))}}},37369:function(G,V,e){var g=e(71828),_=e(30962).overrideAll,a=e(25673),C={error_x:g.extendFlat({},a),error_y:g.extendFlat({},a)};delete C.error_x.copy_zstyle,delete C.error_y.copy_zstyle,delete C.error_y.copy_ystyle;var A={error_x:g.extendFlat({},a),error_y:g.extendFlat({},a),error_z:g.extendFlat({},a)};delete A.error_x.copy_ystyle,delete A.error_y.copy_ystyle,delete A.error_z.copy_ystyle,delete A.error_z.copy_zstyle,G.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:C,bar:C,histogram:C,scatter3d:_(A,"calc","nested"),scattergl:_(C,"calc","nested")}},supplyDefaults:e(97587),calc:e(84532),makeComputeError:e(45827),plot:e(19398),style:e(62662),hoverInfo:v};function v(p,t,r){(t.error_y||{}).visible&&(r.yerr=p.yh-p.y,t.error_y.symmetric||(r.yerrneg=p.y-p.ys)),(t.error_x||{}).visible&&(r.xerr=p.xh-p.x,t.error_x.symmetric||(r.xerrneg=p.x-p.xs))}},19398:function(G,V,e){var g=e(39898),_=e(92770),a=e(91424),C=e(34098);G.exports=function(p,t,r,s){var n,i=r.xaxis,f=r.yaxis,u=s&&s.duration>0,y=p._context.staticPlot;t.each(function(c){var T=c[0].trace,h=T.error_x||{},l=T.error_y||{},d;T.ids&&(d=function(x){return x.id});var E=C.hasMarkers(T)&&T.marker.maxdisplayed>0;!l.visible&&!h.visible&&(c=[]);var S=g.select(this).selectAll("g.errorbar").data(c,d);if(S.exit().remove(),!!c.length){h.visible||S.selectAll("path.xerror").remove(),l.visible||S.selectAll("path.yerror").remove(),S.style("opacity",1);var P=S.enter().append("g").classed("errorbar",!0);u&&P.style("opacity",0).transition().duration(s.duration).style("opacity",1),a.setClipUrl(S,r.layerClipId,p),S.each(function(x){var M=g.select(this),w=A(x,i,f);if(!(E&&!x.vis)){var o,L=M.select("path.yerror");if(l.visible&&_(w.x)&&_(w.yh)&&_(w.ys)){var m=l.width;o="M"+(w.x-m)+","+w.yh+"h"+2*m+"m-"+m+",0V"+w.ys,w.noYS||(o+="m-"+m+",0h"+2*m),n=!L.size(),n?L=M.append("path").style("vector-effect",y?"none":"non-scaling-stroke").classed("yerror",!0):u&&(L=L.transition().duration(s.duration).ease(s.easing)),L.attr("d",o)}else L.remove();var F=M.select("path.xerror");if(h.visible&&_(w.y)&&_(w.xh)&&_(w.xs)){var I=(h.copy_ystyle?l:h).width;o="M"+w.xh+","+(w.y-I)+"v"+2*I+"m0,-"+I+"H"+w.xs,w.noXS||(o+="m0,-"+I+"v"+2*I),n=!F.size(),n?F=M.append("path").style("vector-effect",y?"none":"non-scaling-stroke").classed("xerror",!0):u&&(F=F.transition().duration(s.duration).ease(s.easing)),F.attr("d",o)}else F.remove()}})}})};function A(v,p,t){var r={x:p.c2p(v.x),y:t.c2p(v.y)};return v.yh!==void 0&&(r.yh=t.c2p(v.yh),r.ys=t.c2p(v.ys),_(r.ys)||(r.noYS=!0,r.ys=t.c2p(v.ys,!0))),v.xh!==void 0&&(r.xh=p.c2p(v.xh),r.xs=p.c2p(v.xs),_(r.xs)||(r.noXS=!0,r.xs=p.c2p(v.xs,!0))),r}},62662:function(G,V,e){var g=e(39898),_=e(7901);G.exports=function(C){C.each(function(A){var v=A[0].trace,p=v.error_y||{},t=v.error_x||{},r=g.select(this);r.selectAll("path.yerror").style("stroke-width",p.thickness+"px").call(_.stroke,p.color),t.copy_ystyle&&(t=p),r.selectAll("path.xerror").style("stroke-width",t.thickness+"px").call(_.stroke,t.color)})}},77914:function(G,V,e){var g=e(41940),_=e(528).hoverlabel,a=e(1426).extendFlat;G.exports={hoverlabel:{bgcolor:a({},_.bgcolor,{arrayOk:!0}),bordercolor:a({},_.bordercolor,{arrayOk:!0}),font:g({arrayOk:!0,editType:"none"}),align:a({},_.align,{arrayOk:!0}),namelength:a({},_.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(G,V,e){var g=e(71828),_=e(73972);G.exports=function(A){var v=A.calcdata,p=A._fullLayout;function t(f){return function(u){return g.coerceHoverinfo({hoverinfo:u},{_module:f._module},p)}}for(var r=0;r<v.length;r++){var s=v[r],n=s[0].trace;if(!_.traceIs(n,"pie-like")){var i=_.traceIs(n,"2dMap")?a:g.fillArray;i(n.hoverinfo,s,"hi",t(n)),n.hovertemplate&&i(n.hovertemplate,s,"ht"),n.hoverlabel&&(i(n.hoverlabel.bgcolor,s,"hbg"),i(n.hoverlabel.bordercolor,s,"hbc"),i(n.hoverlabel.font.size,s,"hts"),i(n.hoverlabel.font.color,s,"htc"),i(n.hoverlabel.font.family,s,"htf"),i(n.hoverlabel.namelength,s,"hnl"),i(n.hoverlabel.align,s,"hta"))}}};function a(C,A,v,p){p=p||g.identity,Array.isArray(C)&&(A[0][v]=p(C))}},75914:function(G,V,e){var g=e(73972),_=e(88335).hover;G.exports=function(C,A,v){var p=g.getComponentMethod("annotations","onClick")(C,C._hoverdata);v!==void 0&&_(C,A,v,!0);function t(){C.emit("plotly_click",{points:C._hoverdata,event:A})}C._hoverdata&&A&&A.target&&(p&&p.then?p.then(t):t(),A.stopImmediatePropagation&&A.stopImmediatePropagation())}},26675:function(G){G.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(G,V,e){var g=e(71828),_=e(77914),a=e(38048);G.exports=function(A,v,p,t){function r(n,i){return g.coerce(A,v,_,n,i)}var s=g.extendFlat({},t.hoverlabel);v.hovertemplate&&(s.namelength=-1),a(A,v,r,s)}},23469:function(G,V,e){var g=e(71828);V.getSubplot=function(p){return p.subplot||p.xaxis+p.yaxis||p.geo},V.isTraceInSubplots=function(p,t){if(p.type==="splom"){for(var r=p.xaxes||[],s=p.yaxes||[],n=0;n<r.length;n++)for(var i=0;i<s.length;i++)if(t.indexOf(r[n]+s[i])!==-1)return!0;return!1}return t.indexOf(V.getSubplot(p))!==-1},V.flat=function(p,t){for(var r=new Array(p.length),s=0;s<p.length;s++)r[s]=t;return r},V.p2c=function(p,t){for(var r=new Array(p.length),s=0;s<p.length;s++)r[s]=p[s].p2c(t);return r},V.getDistanceFunction=function(p,t,r,s){return p==="closest"?s||V.quadrature(t,r):p.charAt(0)==="x"?t:r},V.getClosest=function(p,t,r){if(r.index!==!1)r.index>=0&&r.index<p.length?r.distance=0:r.index=!1;else for(var s=0;s<p.length;s++){var n=t(p[s]);n<=r.distance&&(r.index=s,r.distance=n)}return r},V.inbox=function(p,t,r){return p*t<0||p===0?r:1/0},V.quadrature=function(p,t){return function(r){var s=p(r),n=t(r);return Math.sqrt(s*s+n*n)}},V.makeEventData=function(p,t,r){var s="index"in p?p.index:p.pointNumber,n={data:t._input,fullData:t,curveNumber:t.index,pointNumber:s};if(t._indexToPoints){var i=t._indexToPoints[s];i.length===1?n.pointIndex=i[0]:n.pointIndices=i}else n.pointIndex=s;return t._module.eventData?n=t._module.eventData(n,p,t,r,s):("xVal"in p?n.x=p.xVal:"x"in p&&(n.x=p.x),"yVal"in p?n.y=p.yVal:"y"in p&&(n.y=p.y),p.xa&&(n.xaxis=p.xa),p.ya&&(n.yaxis=p.ya),p.zLabelVal!==void 0&&(n.z=p.zLabelVal)),V.appendArrayPointValue(n,t,s),n},V.appendArrayPointValue=function(p,t,r){var s=t._arrayAttrs;if(s)for(var n=0;n<s.length;n++){var i=s[n],f=a(i);if(p[f]===void 0){var u=g.nestedProperty(t,i).get(),y=C(u,r);y!==void 0&&(p[f]=y)}}},V.appendArrayMultiPointValues=function(p,t,r){var s=t._arrayAttrs;if(s)for(var n=0;n<s.length;n++){var i=s[n],f=a(i);if(p[f]===void 0){for(var u=g.nestedProperty(t,i).get(),y=new Array(r.length),c=0;c<r.length;c++)y[c]=C(u,r[c]);p[f]=y}}};var _={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function a(p){return _[p]||p}function C(p,t){if(Array.isArray(t)){if(Array.isArray(p)&&Array.isArray(p[t[0]]))return p[t[0]][t[1]]}else return p[t]}var A={x:!0,y:!0},v={"x unified":!0,"y unified":!0};V.isUnifiedHover=function(p){return typeof p!="string"?!1:!!v[p]},V.isXYhover=function(p){return typeof p!="string"?!1:!!A[p]}},88335:function(G,V,e){var g=e(39898),_=e(92770),a=e(84267),C=e(71828),A=C.strTranslate,v=C.strRotate,p=e(11086),t=e(63893),r=e(39918),s=e(91424),n=e(7901),i=e(28569),f=e(89298),u=e(73972),y=e(23469),c=e(26675),T=e(99017),h=e(43969),l=c.YANGLE,d=Math.PI*l/180,E=1/Math.sin(d),S=Math.cos(d),P=Math.sin(d),x=c.HOVERARROWSIZE,M=c.HOVERTEXTPAD,w={box:!0,ohlc:!0,violin:!0,candlestick:!0},o={scatter:!0,scattergl:!0,splom:!0};V.hover=function(se,ee,q,le){se=C.getGraphDiv(se);var oe=ee.target;C.throttle(se._fullLayout._uid+c.HOVERID,c.HOVERMINTIME,function(){L(se,ee,q,le,oe)})},V.loneHover=function(se,ee){var q=!0;Array.isArray(se)||(q=!1,se=[se]);var le=ee.gd,oe=j(le),he=Z(le),me=se.map(function(je){var Fe=je._x0||je.x0||je.x||0,Ze=je._x1||je.x1||je.x||0,ut=je._y0||je.y0||je.y||0,at=je._y1||je.y1||je.y||0,it=je.eventData;if(it){var $e=Math.min(Fe,Ze),st=Math.max(Fe,Ze),ct=Math.min(ut,at),vt=Math.max(ut,at),St=je.trace;if(u.traceIs(St,"gl3d")){var Mt=le._fullLayout[St.scene]._scene.container,Bt=Mt.offsetLeft,Qe=Mt.offsetTop;$e+=Bt,st+=Bt,ct+=Qe,vt+=Qe}it.bbox={x0:$e+he,x1:st+he,y0:ct+oe,y1:vt+oe},ee.inOut_bbox&&ee.inOut_bbox.push(it.bbox)}else it=!1;return{color:je.color||n.defaultLine,x0:je.x0||je.x||0,x1:je.x1||je.x||0,y0:je.y0||je.y||0,y1:je.y1||je.y||0,xLabel:je.xLabel,yLabel:je.yLabel,zLabel:je.zLabel,text:je.text,name:je.name,idealAlign:je.idealAlign,borderColor:je.borderColor,fontFamily:je.fontFamily,fontSize:je.fontSize,fontColor:je.fontColor,nameLength:je.nameLength,textAlign:je.textAlign,trace:je.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:je.hovertemplate||!1,hovertemplateLabels:je.hovertemplateLabels||!1,eventData:it}}),Ce=!1,Ae=I(me,{gd:le,hovermode:"closest",rotateLabels:Ce,bgColor:ee.bgColor||n.background,container:g.select(ee.container),outerContainer:ee.outerContainer||ee.container}),Ue=Ae.hoverLabels,Ve=5,Pe=0,be=0;Ue.sort(function(je,Fe){return je.y0-Fe.y0}).each(function(je,Fe){var Ze=je.y0-je.by/2;Ze-Ve<Pe?je.offset=Pe-Ze+Ve:je.offset=0,Pe=Ze+je.by+je.offset,Fe===ee.anchorIndex&&(be=je.offset)}).each(function(je){je.offset-=be});var Le=le._fullLayout._invScaleX,We=le._fullLayout._invScaleY;return O(Ue,Ce,Le,We),q?Ue:Ue.node()};function L(te,se,ee,q,le){ee||(ee="xy");var oe=Array.isArray(ee)?ee:[ee],he=te._fullLayout,me=he._plots||[],Ce=me[ee],Ae=he._has("cartesian");if(Ce){var Ue=Ce.overlays.map(function(Pr){return Pr.id});oe=oe.concat(Ue)}for(var Ve=oe.length,Pe=new Array(Ve),be=new Array(Ve),Le=!1,We=0;We<Ve;We++){var je=oe[We];if(me[je])Le=!0,Pe[We]=me[je].xaxis,be[We]=me[je].yaxis;else if(he[je]&&he[je]._subplot){var Fe=he[je]._subplot;Pe[We]=Fe.xaxis,be[We]=Fe.yaxis}else{C.warn("Unrecognized subplot: "+je);return}}var Ze=se.hovermode||he.hovermode;if(Ze&&!Le&&(Ze="closest"),["x","y","closest","x unified","y unified"].indexOf(Ze)===-1||!te.calcdata||te.querySelector(".zoombox")||te._dragging)return i.unhoverRaw(te,se);var ut=he.hoverdistance;ut===-1&&(ut=1/0);var at=he.spikedistance;at===-1&&(at=1/0);var it=[],$e=[],st,ct,vt,St,Mt,Bt,Qe,ke,ze,Be,Re,we,ye,Se={hLinePoint:null,vLinePoint:null},Me=!1;if(Array.isArray(se))for(Ze="array",vt=0;vt<se.length;vt++)Mt=te.calcdata[se[vt].curveNumber||0],Mt&&(Bt=Mt[0].trace,Mt[0].trace.hoverinfo!=="skip"&&($e.push(Mt),Bt.orientation==="h"&&(Me=!0)));else{for(St=0;St<te.calcdata.length;St++)Mt=te.calcdata[St],Bt=Mt[0].trace,Bt.hoverinfo!=="skip"&&y.isTraceInSubplots(Bt,oe)&&($e.push(Mt),Bt.orientation==="h"&&(Me=!0));var He=!le,qe,rt;if(He)"xpx"in se?qe=se.xpx:qe=Pe[0]._length/2,"ypx"in se?rt=se.ypx:rt=be[0]._length/2;else{if(p.triggerHandler(te,"plotly_beforehover",se)===!1)return;var pt=le.getBoundingClientRect();qe=se.clientX-pt.left,rt=se.clientY-pt.top,he._calcInverseTransform(te);var At=C.apply3DTransform(he._invTransform)(qe,rt);if(qe=At[0],rt=At[1],qe<0||qe>Pe[0]._length||rt<0||rt>be[0]._length)return i.unhoverRaw(te,se)}if(se.pointerX=qe+Pe[0]._offset,se.pointerY=rt+be[0]._offset,"xval"in se?st=y.flat(oe,se.xval):st=y.p2c(Pe,qe),"yval"in se?ct=y.flat(oe,se.yval):ct=y.p2c(be,rt),!_(st[0])||!_(ct[0]))return C.warn("Fx.hover failed",se,te),i.unhoverRaw(te,se)}var jt=1/0;function tr(Pr,Yr){for(St=0;St<$e.length;St++)if(Mt=$e[St],!(!Mt||!Mt[0]||!Mt[0].trace)&&(Bt=Mt[0].trace,!(Bt.visible!==!0||Bt._length===0)&&["carpet","contourcarpet"].indexOf(Bt._module.name)===-1)){if(Bt.type==="splom"?(ke=0,Qe=oe[ke]):(Qe=y.getSubplot(Bt),ke=oe.indexOf(Qe)),ze=Ze,y.isUnifiedHover(ze)&&(ze=ze.charAt(0)),we={cd:Mt,trace:Bt,xa:Pe[ke],ya:be[ke],maxHoverDistance:ut,maxSpikeDistance:at,index:!1,distance:Math.min(jt,ut),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:n.defaultLine,name:Bt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},he[Qe]&&(we.subplot=he[Qe]._subplot),he._splomScenes&&he._splomScenes[Bt.uid]&&(we.scene=he._splomScenes[Bt.uid]),ye=it.length,ze==="array"){var Hr=se[St];"pointNumber"in Hr?(we.index=Hr.pointNumber,ze="closest"):(ze="","xval"in Hr&&(Be=Hr.xval,ze="x"),"yval"in Hr&&(Re=Hr.yval,ze=ze?"closest":"y"))}else Pr!==void 0&&Yr!==void 0?(Be=Pr,Re=Yr):(Be=st[ke],Re=ct[ke]);if(ut!==0)if(Bt._module&&Bt._module.hoverPoints){var en=Bt._module.hoverPoints(we,Be,Re,ze,{finiteRange:!0,hoverLayer:he._hoverlayer});if(en)for(var cn,hn=0;hn<en.length;hn++)cn=en[hn],_(cn.x0)&&_(cn.y0)&&it.push(H(cn,Ze))}else C.log("Unrecognized trace type in hover:",Bt);if(Ze==="closest"&&it.length>ye&&(it.splice(0,ye),jt=it[0].distance),Ae&&at!==0&&it.length===0){we.distance=at,we.index=!1;var Pn=Bt._module.hoverPoints(we,Be,Re,"closest",{hoverLayer:he._hoverlayer});if(Pn&&(Pn=Pn.filter(function(Qn){return Qn.spikeDistance<=at})),Pn&&Pn.length){var kn,sa=Pn.filter(function(Qn){return Qn.xa.showspikes&&Qn.xa.spikesnap!=="hovered data"});if(sa.length){var Xn=sa[0];_(Xn.x0)&&_(Xn.y0)&&(kn=Nt(Xn),(!Se.vLinePoint||Se.vLinePoint.spikeDistance>kn.spikeDistance)&&(Se.vLinePoint=kn))}var ea=Pn.filter(function(Qn){return Qn.ya.showspikes&&Qn.ya.spikesnap!=="hovered data"});if(ea.length){var Zn=ea[0];_(Zn.x0)&&_(Zn.y0)&&(kn=Nt(Zn),(!Se.hLinePoint||Se.hLinePoint.spikeDistance>kn.spikeDistance)&&(Se.hLinePoint=kn))}}}}}tr();function Ct(Pr,Yr,Hr){for(var en=null,cn=1/0,hn,Pn=0;Pn<Pr.length;Pn++)hn=Pr[Pn].spikeDistance,Hr&&Pn===0&&(hn=-1/0),hn<=cn&&hn<=Yr&&(en=Pr[Pn],cn=hn);return en}function Nt(Pr){return Pr?{xa:Pr.xa,ya:Pr.ya,x:Pr.xSpike!==void 0?Pr.xSpike:(Pr.x0+Pr.x1)/2,y:Pr.ySpike!==void 0?Pr.ySpike:(Pr.y0+Pr.y1)/2,distance:Pr.distance,spikeDistance:Pr.spikeDistance,curveNumber:Pr.trace.index,color:Pr.color,pointNumber:Pr.index}:null}var Kt={fullLayout:he,container:he._hoverlayer,event:se},wr=te._spikepoints,yt={vLinePoint:Se.vLinePoint,hLinePoint:Se.hLinePoint};te._spikepoints=yt;var $t=function(){it.sort(function(Pr,Yr){return Pr.distance-Yr.distance}),it=ce(it,Ze)};$t();var er=Ze.charAt(0),mr=(er==="x"||er==="y")&&it[0]&&o[it[0].trace.type];if(Ae&&at!==0&&it.length!==0){var vr=it.filter(function(Pr){return Pr.ya.showspikes}),bt=Ct(vr,at,mr);Se.hLinePoint=Nt(bt);var ht=it.filter(function(Pr){return Pr.xa.showspikes}),Tt=Ct(ht,at,mr);Se.vLinePoint=Nt(Tt)}if(it.length===0){var Pt=i.unhoverRaw(te,se);return Ae&&(Se.hLinePoint!==null||Se.vLinePoint!==null)&&re(wr)&&Y(te,Se,Kt),Pt}if(Ae&&re(wr)&&Y(te,Se,Kt),y.isXYhover(ze)&&it[0].length!==0&&it[0].trace.type!=="splom"){var zt=it[0];w[zt.trace.type]?it=it.filter(function(Pr){return Pr.trace.index===zt.trace.index}):it=[zt];var Dt=it.length,Vt=Q("x",zt,he),Ut=Q("y",zt,he);tr(Vt,Ut);var Qt=[],hr={},cr=0,lr=function(Pr){var Yr=w[Pr.trace.type]?m(Pr):Pr.trace.index;if(!hr[Yr])cr++,hr[Yr]=cr,Qt.push(Pr);else{var Hr=hr[Yr]-1,en=Qt[Hr];Hr>0&&Math.abs(Pr.distance)<Math.abs(en.distance)&&(Qt[Hr]=Pr)}},Xe;for(Xe=0;Xe<Dt;Xe++)lr(it[Xe]);for(Xe=it.length-1;Xe>Dt-1;Xe--)lr(it[Xe]);it=Qt,$t()}var Ke=te._hoverdata,Ot=[],Lt=j(te),Xt=Z(te);for(vt=0;vt<it.length;vt++){var rr=it[vt],ur=y.makeEventData(rr,rr.trace,rr.cd);if(rr.hovertemplate!==!1){var or=!1;rr.cd[rr.index]&&rr.cd[rr.index].ht&&(or=rr.cd[rr.index].ht),rr.hovertemplate=or||rr.trace.hovertemplate||!1}if(rr.xa&&rr.ya){var Ht=rr.x0+rr.xa._offset,gr=rr.x1+rr.xa._offset,br=rr.y0+rr.ya._offset,xr=rr.y1+rr.ya._offset,dr=Math.min(Ht,gr),Wr=Math.max(Ht,gr),Br=Math.min(br,xr),Ur=Math.max(br,xr);ur.bbox={x0:dr+Xt,x1:Wr+Xt,y0:Br+Lt,y1:Ur+Lt}}rr.eventData=[ur],Ot.push(ur)}te._hoverdata=Ot;var yn=Ze==="y"&&($e.length>1||it.length>1)||Ze==="closest"&&Me&&it.length>1,rn=n.combine(he.plot_bgcolor||n.background,he.paper_bgcolor),Un=I(it,{gd:te,hovermode:Ze,rotateLabels:yn,bgColor:rn,container:he._hoverlayer,outerContainer:he._paper.node(),commonLabelOpts:he.hoverlabel,hoverdistance:he.hoverdistance}),bn=Un.hoverLabels;if(y.isUnifiedHover(Ze)||(z(bn,yn,he,Un.commonLabelBoundingBox),O(bn,yn,he._invScaleX,he._invScaleY)),le&&le.tagName){var Lr=u.getComponentMethod("annotations","hasClickToShow")(te,Ot);r(g.select(le),Lr?"pointer":"")}!le||q||!J(te,se,Ke)||(Ke&&te.emit("plotly_unhover",{event:se,points:Ke}),te.emit("plotly_hover",{event:se,points:te._hoverdata,xaxes:Pe,yaxes:be,xvals:st,yvals:ct}))}function m(te){return[te.trace.index,te.index,te.x0,te.y0,te.name,te.attr,te.xa?te.xa._id:"",te.ya?te.ya._id:""].join(",")}var F=/<extra>([\s\S]*)<\/extra>/;function I(te,se){var ee=se.gd,q=ee._fullLayout,le=se.hovermode,oe=se.rotateLabels,he=se.bgColor,me=se.container,Ce=se.outerContainer,Ae=se.commonLabelOpts||{};if(te.length===0)return[[]];var Ue=se.fontFamily||c.HOVERFONT,Ve=se.fontSize||c.HOVERFONTSIZE,Pe=te[0],be=Pe.xa,Le=Pe.ya,We=le.charAt(0),je=We+"Label",Fe=Pe[je];if(Fe===void 0&&be.type==="multicategory")for(var Ze=0;Ze<te.length&&(Fe=te[Ze][je],Fe===void 0);Ze++);var ut=$(ee,Ce),at=ut.top,it=ut.width,$e=ut.height,st=Fe!==void 0&&Pe.distance<=se.hoverdistance&&(le==="x"||le==="y");if(st){var ct=!0,vt,St;for(vt=0;vt<te.length;vt++)if(ct&&te[vt].zLabel===void 0&&(ct=!1),St=te[vt].hoverinfo||te[vt].trace.hoverinfo,St){var Mt=Array.isArray(St)?St:St.split("+");if(Mt.indexOf("all")===-1&&Mt.indexOf(le)===-1){st=!1;break}}ct&&(st=!1)}var Bt=me.selectAll("g.axistext").data(st?[0]:[]);Bt.enter().append("g").classed("axistext",!0),Bt.exit().remove();var Qe={minX:0,maxX:0,minY:0,maxY:0};if(Bt.each(function(){var Dt=g.select(this),Vt=C.ensureSingle(Dt,"path","",function(Br){Br.style({"stroke-width":"1px"})}),Ut=C.ensureSingle(Dt,"text","",function(Br){Br.attr("data-notex",1)}),Qt=Ae.bgcolor||n.defaultLine,hr=Ae.bordercolor||n.contrast(Qt),cr=n.contrast(Qt),lr={family:Ae.font.family||Ue,size:Ae.font.size||Ve,color:Ae.font.color||cr};Vt.style({fill:Qt,stroke:hr}),Ut.text(Fe).call(s.font,lr).call(t.positionText,0,0).call(t.convertToTspans,ee),Dt.attr("transform","");var Xe=$(ee,Ut.node()),Ke,Ot;if(le==="x"){var Lt=be.side==="top"?"-":"";Ut.attr("text-anchor","middle").call(t.positionText,0,be.side==="top"?at-Xe.bottom-x-M:at-Xe.top+x+M),Ke=be._offset+(Pe.x0+Pe.x1)/2,Ot=Le._offset+(be.side==="top"?0:Le._length);var Xt=Xe.width/2+M;Ke<Xt?(Ke=Xt,Vt.attr("d","M-"+(Xt-x)+",0L-"+(Xt-x*2)+","+Lt+x+"H"+Xt+"v"+Lt+(M*2+Xe.height)+"H-"+Xt+"V"+Lt+x+"Z")):Ke>q.width-Xt?(Ke=q.width-Xt,Vt.attr("d","M"+(Xt-x)+",0L"+Xt+","+Lt+x+"v"+Lt+(M*2+Xe.height)+"H-"+Xt+"V"+Lt+x+"H"+(Xt-x*2)+"Z")):Vt.attr("d","M0,0L"+x+","+Lt+x+"H"+Xt+"v"+Lt+(M*2+Xe.height)+"H-"+Xt+"V"+Lt+x+"H-"+x+"Z"),Qe.minX=Ke-Xt,Qe.maxX=Ke+Xt,be.side==="top"?(Qe.minY=Ot-(M*2+Xe.height),Qe.maxY=Ot-M):(Qe.minY=Ot+M,Qe.maxY=Ot+(M*2+Xe.height))}else{var rr,ur,or;Le.side==="right"?(rr="start",ur=1,or="",Ke=be._offset+be._length):(rr="end",ur=-1,or="-",Ke=be._offset),Ot=Le._offset+(Pe.y0+Pe.y1)/2,Ut.attr("text-anchor",rr),Vt.attr("d","M0,0L"+or+x+","+x+"V"+(M+Xe.height/2)+"h"+or+(M*2+Xe.width)+"V-"+(M+Xe.height/2)+"H"+or+x+"V-"+x+"Z"),Qe.minY=Ot-(M+Xe.height/2),Qe.maxY=Ot+(M+Xe.height/2),Le.side==="right"?(Qe.minX=Ke+x,Qe.maxX=Ke+x+(M*2+Xe.width)):(Qe.minX=Ke-x-(M*2+Xe.width),Qe.maxX=Ke-x);var Ht=Xe.height/2,gr=at-Xe.top-Ht,br="clip"+q._uid+"commonlabel"+Le._id,xr;if(Ke<Xe.width+2*M+x){xr="M-"+(x+M)+"-"+Ht+"h-"+(Xe.width-M)+"V"+Ht+"h"+(Xe.width-M)+"Z";var dr=Xe.width-Ke+M;t.positionText(Ut,dr,gr),rr==="end"&&Ut.selectAll("tspan").each(function(){var Br=g.select(this),Ur=s.tester.append("text").text(Br.text()).call(s.font,lr),yn=$(ee,Ur.node());Math.round(yn.width)<Math.round(Xe.width)&&Br.attr("x",dr-yn.width),Ur.remove()})}else t.positionText(Ut,ur*(M+x),gr),xr=null;var Wr=q._topclips.selectAll("#"+br).data(xr?[0]:[]);Wr.enter().append("clipPath").attr("id",br).append("path"),Wr.exit().remove(),Wr.select("path").attr("d",xr),s.setClipUrl(Ut,xr?br:null,ee)}Dt.attr("transform",A(Ke,Ot))}),y.isUnifiedHover(le)){me.selectAll("g.hovertext").remove();var ke=te.filter(function(Dt){return Dt.hoverinfo!=="none"});if(ke.length===0)return[];var ze=q.hoverlabel,Be=ze.font,Re={showlegend:!0,legend:{title:{text:Fe,font:Be},font:Be,bgcolor:ze.bgcolor,bordercolor:ze.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:q.legend?q.legend.traceorder:void 0,orientation:"v"}},we={font:Be};T(Re,we,ee._fullData);var ye=we.legend;ye.entries=[];for(var Se=0;Se<ke.length;Se++){var Me=ke[Se];if(Me.hoverinfo!=="none"){var He=U(Me,!0,le,q,Fe),qe=He[0],rt=He[1];Me.name=rt,rt!==""?Me.text=rt+" : "+qe:Me.text=qe;var pt=Me.cd[Me.index];pt&&(pt.mc&&(Me.mc=pt.mc),pt.mcc&&(Me.mc=pt.mcc),pt.mlc&&(Me.mlc=pt.mlc),pt.mlcc&&(Me.mlc=pt.mlcc),pt.mlw&&(Me.mlw=pt.mlw),pt.mrc&&(Me.mrc=pt.mrc),pt.dir&&(Me.dir=pt.dir)),Me._distinct=!0,ye.entries.push([Me])}}ye.entries.sort(function(Dt,Vt){return Dt[0].trace.index-Vt[0].trace.index}),ye.layer=me,ye._inHover=!0,ye._groupTitleFont=ze.grouptitlefont,h(ee,ye);var At=me.select("g.legend"),jt=$(ee,At.node()),tr=jt.width+2*M,Ct=jt.height+2*M,Nt=ke[0],Kt=(Nt.x0+Nt.x1)/2,wr=(Nt.y0+Nt.y1)/2,yt=!(u.traceIs(Nt.trace,"bar-like")||u.traceIs(Nt.trace,"box-violin")),$t,er;We==="y"?yt?(er=wr-M,$t=wr+M):(er=Math.min.apply(null,ke.map(function(Dt){return Math.min(Dt.y0,Dt.y1)})),$t=Math.max.apply(null,ke.map(function(Dt){return Math.max(Dt.y0,Dt.y1)}))):er=$t=C.mean(ke.map(function(Dt){return(Dt.y0+Dt.y1)/2}))-Ct/2;var mr,vr;We==="x"?yt?(mr=Kt+M,vr=Kt-M):(mr=Math.max.apply(null,ke.map(function(Dt){return Math.max(Dt.x0,Dt.x1)})),vr=Math.min.apply(null,ke.map(function(Dt){return Math.min(Dt.x0,Dt.x1)}))):mr=vr=C.mean(ke.map(function(Dt){return(Dt.x0+Dt.x1)/2}))-tr/2;var bt=be._offset,ht=Le._offset;$t+=ht,mr+=bt,vr+=bt-tr,er+=ht-Ct;var Tt,Pt;return mr+tr<it&&mr>=0?Tt=mr:vr+tr<it&&vr>=0?Tt=vr:bt+tr<it?Tt=bt:mr-Kt<Kt-vr+tr?Tt=it-tr:Tt=0,Tt+=M,$t+Ct<$e&&$t>=0?Pt=$t:er+Ct<$e&&er>=0?Pt=er:ht+Ct<$e?Pt=ht:$t-wr<wr-er+Ct?Pt=$e-Ct:Pt=0,Pt+=M,At.attr("transform",A(Tt-1,Pt-1)),At}var zt=me.selectAll("g.hovertext").data(te,function(Dt){return m(Dt)});return zt.enter().append("g").classed("hovertext",!0).each(function(){var Dt=g.select(this);Dt.append("rect").call(n.fill,n.addOpacity(he,.8)),Dt.append("text").classed("name",!0),Dt.append("path").style("stroke-width","1px"),Dt.append("text").classed("nums",!0).call(s.font,Ue,Ve)}),zt.exit().remove(),zt.each(function(Dt){var Vt=g.select(this).attr("transform",""),Ut=Dt.color;Array.isArray(Ut)&&(Ut=Ut[Dt.eventData[0].pointNumber]);var Qt=Dt.bgcolor||Ut,hr=n.combine(n.opacity(Qt)?Qt:n.defaultLine,he),cr=n.combine(n.opacity(Ut)?Ut:n.defaultLine,he),lr=Dt.borderColor||n.contrast(hr),Xe=U(Dt,st,le,q,Fe,Vt),Ke=Xe[0],Ot=Xe[1],Lt=Vt.select("text.nums").call(s.font,Dt.fontFamily||Ue,Dt.fontSize||Ve,Dt.fontColor||lr).text(Ke).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,ee),Xt=Vt.select("text.name"),rr=0,ur=0;if(Ot&&Ot!==Ke){Xt.call(s.font,Dt.fontFamily||Ue,Dt.fontSize||Ve,cr).text(Ot).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,ee);var or=$(ee,Xt.node());rr=or.width+2*M,ur=or.height+2*M}else Xt.remove(),Vt.select("rect").remove();Vt.select("path").style({fill:hr,stroke:lr});var Ht=Dt.xa._offset+(Dt.x0+Dt.x1)/2,gr=Dt.ya._offset+(Dt.y0+Dt.y1)/2,br=Math.abs(Dt.x1-Dt.x0),xr=Math.abs(Dt.y1-Dt.y0),dr=$(ee,Lt.node()),Wr=dr.width/q._invScaleX,Br=dr.height/q._invScaleY;Dt.ty0=(at-dr.top)/q._invScaleY,Dt.bx=Wr+2*M,Dt.by=Math.max(Br+2*M,ur),Dt.anchor="start",Dt.txwidth=Wr,Dt.tx2width=rr,Dt.offset=0;var Ur=(Wr+x+M+rr)*q._invScaleX,yn,rn;if(oe)Dt.pos=Ht,yn=gr+xr/2+Ur<=$e,rn=gr-xr/2-Ur>=0,(Dt.idealAlign==="top"||!yn)&&rn?(gr-=xr/2,Dt.anchor="end"):yn?(gr+=xr/2,Dt.anchor="start"):Dt.anchor="middle",Dt.crossPos=gr;else{if(Dt.pos=gr,yn=Ht+br/2+Ur<=it,rn=Ht-br/2-Ur>=0,(Dt.idealAlign==="left"||!yn)&&rn)Ht-=br/2,Dt.anchor="end";else if(yn)Ht+=br/2,Dt.anchor="start";else{Dt.anchor="middle";var Un=Ur/2,bn=Ht+Un-it,Lr=Ht-Un;bn>0&&(Ht-=bn),Lr<0&&(Ht+=-Lr)}Dt.crossPos=Ht}Lt.attr("text-anchor",Dt.anchor),rr&&Xt.attr("text-anchor",Dt.anchor),Vt.attr("transform",A(Ht,gr)+(oe?v(l):""))}),{hoverLabels:zt,commonLabelBoundingBox:Qe}}function U(te,se,ee,q,le,oe){var he="",me="";te.nameOverride!==void 0&&(te.name=te.nameOverride),te.name&&(te.trace._meta&&(te.name=C.templateString(te.name,te.trace._meta)),he=ie(te.name,te.nameLength));var Ce=ee.charAt(0),Ae=Ce==="x"?"y":"x";te.zLabel!==void 0?(te.xLabel!==void 0&&(me+="x: "+te.xLabel+"<br>"),te.yLabel!==void 0&&(me+="y: "+te.yLabel+"<br>"),te.trace.type!=="choropleth"&&te.trace.type!=="choroplethmapbox"&&(me+=(me?"z: ":"")+te.zLabel)):se&&te[Ce+"Label"]===le?me=te[Ae+"Label"]||"":te.xLabel===void 0?te.yLabel!==void 0&&te.trace.type!=="scattercarpet"&&(me=te.yLabel):te.yLabel===void 0?me=te.xLabel:me="("+te.xLabel+", "+te.yLabel+")",(te.text||te.text===0)&&!Array.isArray(te.text)&&(me+=(me?"<br>":"")+te.text),te.extraText!==void 0&&(me+=(me?"<br>":"")+te.extraText),oe&&me===""&&!te.hovertemplate&&(he===""&&oe.remove(),me=he);var Ue=te.hovertemplate||!1;if(Ue){var Ve=te.hovertemplateLabels||te;te[Ce+"Label"]!==le&&(Ve[Ce+"other"]=Ve[Ce+"Val"],Ve[Ce+"otherLabel"]=Ve[Ce+"Label"]),me=C.hovertemplateString(Ue,Ve,q._d3locale,te.eventData[0]||{},te.trace._meta),me=me.replace(F,function(Pe,be){return he=ie(be,te.nameLength),""})}return[me,he]}function z(te,se,ee,q){var le=se?"xa":"ya",oe=se?"ya":"xa",he=0,me=1,Ce=te.size(),Ae=new Array(Ce),Ue=0,Ve=q.minX,Pe=q.maxX,be=q.minY,Le=q.maxY,We=function(Be){return Be*ee._invScaleX},je=function(Be){return Be*ee._invScaleY};te.each(function(Be){var Re=Be[le],we=Be[oe],ye=Re._id.charAt(0)==="x",Se=Re.range;Ue===0&&Se&&Se[0]>Se[1]!==ye&&(me=-1);var Me=0,He=ye?ee.width:ee.height;if(ee.hovermode==="x"||ee.hovermode==="y"){var qe=N(Be,se),rt=Be.anchor,pt=rt==="end"?-1:1,At,jt;if(rt==="middle")At=Be.crossPos+(ye?je(qe.y-Be.by/2):We(Be.bx/2+Be.tx2width/2)),jt=At+(ye?je(Be.by):We(Be.bx));else if(ye)At=Be.crossPos+je(x+qe.y)-je(Be.by/2-x),jt=At+je(Be.by);else{var tr=We(pt*x+qe.x),Ct=tr+We(pt*Be.bx);At=Be.crossPos+Math.min(tr,Ct),jt=Be.crossPos+Math.max(tr,Ct)}ye?be!==void 0&&Le!==void 0&&Math.min(jt,Le)-Math.max(At,be)>1&&(we.side==="left"?(Me=we._mainLinePosition,He=ee.width):He=we._mainLinePosition):Ve!==void 0&&Pe!==void 0&&Math.min(jt,Pe)-Math.max(At,Ve)>1&&(we.side==="top"?(Me=we._mainLinePosition,He=ee.height):He=we._mainLinePosition)}Ae[Ue++]=[{datum:Be,traceIndex:Be.trace.index,dp:0,pos:Be.pos,posref:Be.posref,size:Be.by*(ye?E:1)/2,pmin:Me,pmax:He}]}),Ae.sort(function(Be,Re){return Be[0].posref-Re[0].posref||me*(Re[0].traceIndex-Be[0].traceIndex)});var Fe,Ze,ut,at,it,$e,st;function ct(Be){var Re=Be[0],we=Be[Be.length-1];if(Ze=Re.pmin-Re.pos-Re.dp+Re.size,ut=we.pos+we.dp+we.size-Re.pmax,Ze>.01){for(it=Be.length-1;it>=0;it--)Be[it].dp+=Ze;Fe=!1}if(!(ut<.01)){if(Ze<-.01){for(it=Be.length-1;it>=0;it--)Be[it].dp-=ut;Fe=!1}if(Fe){var ye=0;for(at=0;at<Be.length;at++)$e=Be[at],$e.pos+$e.dp+$e.size>Re.pmax&&ye++;for(at=Be.length-1;at>=0&&!(ye<=0);at--)$e=Be[at],$e.pos>Re.pmax-1&&($e.del=!0,ye--);for(at=0;at<Be.length&&!(ye<=0);at++)if($e=Be[at],$e.pos<Re.pmin+1)for($e.del=!0,ye--,ut=$e.size*2,it=Be.length-1;it>=0;it--)Be[it].dp-=ut;for(at=Be.length-1;at>=0&&!(ye<=0);at--)$e=Be[at],$e.pos+$e.dp+$e.size>Re.pmax&&($e.del=!0,ye--)}}}for(;!Fe&&he<=Ce;){for(he++,Fe=!0,at=0;at<Ae.length-1;){var vt=Ae[at],St=Ae[at+1],Mt=vt[vt.length-1],Bt=St[0];if(Ze=Mt.pos+Mt.dp+Mt.size-Bt.pos-Bt.dp+Bt.size,Ze>.01&&Mt.pmin===Bt.pmin&&Mt.pmax===Bt.pmax){for(it=St.length-1;it>=0;it--)St[it].dp+=Ze;for(vt.push.apply(vt,St),Ae.splice(at+1,1),st=0,it=vt.length-1;it>=0;it--)st+=vt[it].dp;for(ut=st/vt.length,it=vt.length-1;it>=0;it--)vt[it].dp-=ut;Fe=!1}else at++}Ae.forEach(ct)}for(at=Ae.length-1;at>=0;at--){var Qe=Ae[at];for(it=Qe.length-1;it>=0;it--){var ke=Qe[it],ze=ke.datum;ze.offset=ke.dp,ze.del=ke.del}}}function N(te,se){var ee=0,q=te.offset;return se&&(q*=-P,ee=te.offset*S),{x:ee,y:q}}function B(te){var se={start:1,end:-1,middle:0}[te.anchor],ee=se*(x+M),q=ee+se*(te.txwidth+M),le=te.anchor==="middle";return le&&(ee-=te.tx2width/2,q+=te.txwidth/2+M),{alignShift:se,textShiftX:ee,text2ShiftX:q}}function O(te,se,ee,q){var le=function(he){return he*ee},oe=function(he){return he*q};te.each(function(he){var me=g.select(this);if(he.del)return me.remove();var Ce=me.select("text.nums"),Ae=he.anchor,Ue=Ae==="end"?-1:1,Ve=B(he),Pe=N(he,se),be=Pe.x,Le=Pe.y,We=Ae==="middle";me.select("path").attr("d",We?"M-"+le(he.bx/2+he.tx2width/2)+","+oe(Le-he.by/2)+"h"+le(he.bx)+"v"+oe(he.by)+"h-"+le(he.bx)+"Z":"M0,0L"+le(Ue*x+be)+","+oe(x+Le)+"v"+oe(he.by/2-x)+"h"+le(Ue*he.bx)+"v-"+oe(he.by)+"H"+le(Ue*x+be)+"V"+oe(Le-x)+"Z");var je=be+Ve.textShiftX,Fe=Le+he.ty0-he.by/2+M,Ze=he.textAlign||"auto";Ze!=="auto"&&(Ze==="left"&&Ae!=="start"?(Ce.attr("text-anchor","start"),je=We?-he.bx/2-he.tx2width/2+M:-he.bx-M):Ze==="right"&&Ae!=="end"&&(Ce.attr("text-anchor","end"),je=We?he.bx/2-he.tx2width/2-M:he.bx+M)),Ce.call(t.positionText,le(je),oe(Fe)),he.tx2width&&(me.select("text.name").call(t.positionText,le(Ve.text2ShiftX+Ve.alignShift*M+be),oe(Le+he.ty0-he.by/2+M)),me.select("rect").call(s.setRect,le(Ve.text2ShiftX+(Ve.alignShift-1)*he.tx2width/2+be),oe(Le-he.by/2-1),le(he.tx2width),oe(he.by+2)))})}function H(te,se){var ee=te.index,q=te.trace||{},le=te.cd[0],oe=te.cd[ee]||{};function he(Pe){return Pe||_(Pe)&&Pe===0}var me=Array.isArray(ee)?function(Pe,be){var Le=C.castOption(le,ee,Pe);return he(Le)?Le:C.extractOption({},q,"",be)}:function(Pe,be){return C.extractOption(oe,q,Pe,be)};function Ce(Pe,be,Le){var We=me(be,Le);he(We)&&(te[Pe]=We)}if(Ce("hoverinfo","hi","hoverinfo"),Ce("bgcolor","hbg","hoverlabel.bgcolor"),Ce("borderColor","hbc","hoverlabel.bordercolor"),Ce("fontFamily","htf","hoverlabel.font.family"),Ce("fontSize","hts","hoverlabel.font.size"),Ce("fontColor","htc","hoverlabel.font.color"),Ce("nameLength","hnl","hoverlabel.namelength"),Ce("textAlign","hta","hoverlabel.align"),te.posref=se==="y"||se==="closest"&&q.orientation==="h"?te.xa._offset+(te.x0+te.x1)/2:te.ya._offset+(te.y0+te.y1)/2,te.x0=C.constrain(te.x0,0,te.xa._length),te.x1=C.constrain(te.x1,0,te.xa._length),te.y0=C.constrain(te.y0,0,te.ya._length),te.y1=C.constrain(te.y1,0,te.ya._length),te.xLabelVal!==void 0&&(te.xLabel="xLabel"in te?te.xLabel:f.hoverLabelText(te.xa,te.xLabelVal,q.xhoverformat),te.xVal=te.xa.c2d(te.xLabelVal)),te.yLabelVal!==void 0&&(te.yLabel="yLabel"in te?te.yLabel:f.hoverLabelText(te.ya,te.yLabelVal,q.yhoverformat),te.yVal=te.ya.c2d(te.yLabelVal)),te.zLabelVal!==void 0&&te.zLabel===void 0&&(te.zLabel=String(te.zLabelVal)),!isNaN(te.xerr)&&!(te.xa.type==="log"&&te.xerr<=0)){var Ae=f.tickText(te.xa,te.xa.c2l(te.xerr),"hover").text;te.xerrneg!==void 0?te.xLabel+=" +"+Ae+" / -"+f.tickText(te.xa,te.xa.c2l(te.xerrneg),"hover").text:te.xLabel+="  "+Ae,se==="x"&&(te.distance+=1)}if(!isNaN(te.yerr)&&!(te.ya.type==="log"&&te.yerr<=0)){var Ue=f.tickText(te.ya,te.ya.c2l(te.yerr),"hover").text;te.yerrneg!==void 0?te.yLabel+=" +"+Ue+" / -"+f.tickText(te.ya,te.ya.c2l(te.yerrneg),"hover").text:te.yLabel+="  "+Ue,se==="y"&&(te.distance+=1)}var Ve=te.hoverinfo||te.trace.hoverinfo;return Ve&&Ve!=="all"&&(Ve=Array.isArray(Ve)?Ve:Ve.split("+"),Ve.indexOf("x")===-1&&(te.xLabel=void 0),Ve.indexOf("y")===-1&&(te.yLabel=void 0),Ve.indexOf("z")===-1&&(te.zLabel=void 0),Ve.indexOf("text")===-1&&(te.text=void 0),Ve.indexOf("name")===-1&&(te.name=void 0)),te}function Y(te,se,ee){var q=ee.container,le=ee.fullLayout,oe=le._size,he=ee.event,me=!!se.hLinePoint,Ce=!!se.vLinePoint,Ae,Ue;if(q.selectAll(".spikeline").remove(),!!(Ce||me)){var Ve=n.combine(le.plot_bgcolor,le.paper_bgcolor);if(me){var Pe=se.hLinePoint,be,Le;Ae=Pe&&Pe.xa,Ue=Pe&&Pe.ya;var We=Ue.spikesnap;We==="cursor"?(be=he.pointerX,Le=he.pointerY):(be=Ae._offset+Pe.x,Le=Ue._offset+Pe.y);var je=a.readability(Pe.color,Ve)<1.5?n.contrast(Ve):Pe.color,Fe=Ue.spikemode,Ze=Ue.spikethickness,ut=Ue.spikecolor||je,at=f.getPxPosition(te,Ue),it,$e;if(Fe.indexOf("toaxis")!==-1||Fe.indexOf("across")!==-1){if(Fe.indexOf("toaxis")!==-1&&(it=at,$e=be),Fe.indexOf("across")!==-1){var st=Ue._counterDomainMin,ct=Ue._counterDomainMax;Ue.anchor==="free"&&(st=Math.min(st,Ue.position),ct=Math.max(ct,Ue.position)),it=oe.l+st*oe.w,$e=oe.l+ct*oe.w}q.insert("line",":first-child").attr({x1:it,x2:$e,y1:Le,y2:Le,"stroke-width":Ze,stroke:ut,"stroke-dasharray":s.dashStyle(Ue.spikedash,Ze)}).classed("spikeline",!0).classed("crisp",!0),q.insert("line",":first-child").attr({x1:it,x2:$e,y1:Le,y2:Le,"stroke-width":Ze+2,stroke:Ve}).classed("spikeline",!0).classed("crisp",!0)}Fe.indexOf("marker")!==-1&&q.insert("circle",":first-child").attr({cx:at+(Ue.side!=="right"?Ze:-Ze),cy:Le,r:Ze,fill:ut}).classed("spikeline",!0)}if(Ce){var vt=se.vLinePoint,St,Mt;Ae=vt&&vt.xa,Ue=vt&&vt.ya;var Bt=Ae.spikesnap;Bt==="cursor"?(St=he.pointerX,Mt=he.pointerY):(St=Ae._offset+vt.x,Mt=Ue._offset+vt.y);var Qe=a.readability(vt.color,Ve)<1.5?n.contrast(Ve):vt.color,ke=Ae.spikemode,ze=Ae.spikethickness,Be=Ae.spikecolor||Qe,Re=f.getPxPosition(te,Ae),we,ye;if(ke.indexOf("toaxis")!==-1||ke.indexOf("across")!==-1){if(ke.indexOf("toaxis")!==-1&&(we=Re,ye=Mt),ke.indexOf("across")!==-1){var Se=Ae._counterDomainMin,Me=Ae._counterDomainMax;Ae.anchor==="free"&&(Se=Math.min(Se,Ae.position),Me=Math.max(Me,Ae.position)),we=oe.t+(1-Me)*oe.h,ye=oe.t+(1-Se)*oe.h}q.insert("line",":first-child").attr({x1:St,x2:St,y1:we,y2:ye,"stroke-width":ze,stroke:Be,"stroke-dasharray":s.dashStyle(Ae.spikedash,ze)}).classed("spikeline",!0).classed("crisp",!0),q.insert("line",":first-child").attr({x1:St,x2:St,y1:we,y2:ye,"stroke-width":ze+2,stroke:Ve}).classed("spikeline",!0).classed("crisp",!0)}ke.indexOf("marker")!==-1&&q.insert("circle",":first-child").attr({cx:St,cy:Re-(Ae.side!=="top"?ze:-ze),r:ze,fill:Be}).classed("spikeline",!0)}}}function J(te,se,ee){if(!ee||ee.length!==te._hoverdata.length)return!0;for(var q=ee.length-1;q>=0;q--){var le=ee[q],oe=te._hoverdata[q];if(le.curveNumber!==oe.curveNumber||String(le.pointNumber)!==String(oe.pointNumber)||String(le.pointNumbers)!==String(oe.pointNumbers))return!0}return!1}function re(te,se){return!se||se.vLinePoint!==te._spikepoints.vLinePoint||se.hLinePoint!==te._spikepoints.hLinePoint}function ie(te,se){return t.plainText(te||"",{len:se,allowedTags:["br","sub","sup","b","i","em"]})}function ce(te,se){for(var ee=se.charAt(0),q=[],le=[],oe=[],he=0;he<te.length;he++){var me=te[he];u.traceIs(me.trace,"bar-like")||u.traceIs(me.trace,"box-violin")?oe.push(me):me.trace[ee+"period"]?le.push(me):q.push(me)}return q.concat(le).concat(oe)}function Q(te,se,ee){var q=se[te+"a"],le=se[te+"Val"],oe=se.cd[0];if(q.type==="category"||q.type==="multicategory")le=q._categoriesMap[le];else if(q.type==="date"){var he=se.trace[te+"periodalignment"];if(he){var me=se.cd[se.index],Ce=me[te+"Start"];Ce===void 0&&(Ce=me[te]);var Ae=me[te+"End"];Ae===void 0&&(Ae=me[te]);var Ue=Ae-Ce;he==="end"?le+=Ue:he==="middle"&&(le+=Ue/2)}le=q.d2c(le)}return oe&&oe.t&&oe.t.posLetter===q._id&&(ee.boxmode==="group"||ee.violinmode==="group")&&(le+=oe.t.dPos),le}function j(te){return te.offsetTop+te.clientTop}function Z(te){return te.offsetLeft+te.clientLeft}function $(te,se){var ee=te._fullLayout,q=se.getBoundingClientRect(),le=q.left,oe=q.top,he=le+q.width,me=oe+q.height,Ce=C.apply3DTransform(ee._invTransform)(le,oe),Ae=C.apply3DTransform(ee._invTransform)(he,me),Ue=Ce[0],Ve=Ce[1],Pe=Ae[0],be=Ae[1];return{x:Ue,y:Ve,width:Pe-Ue,height:be-Ve,top:Math.min(Ve,be),left:Math.min(Ue,Pe),right:Math.max(Ue,Pe),bottom:Math.max(Ve,be)}}},38048:function(G,V,e){var g=e(71828),_=e(7901),a=e(23469).isUnifiedHover;G.exports=function(A,v,p,t){t=t||{};var r=v.legend;function s(n){t.font[n]||(t.font[n]=r?v.legend.font[n]:v.font[n])}v&&a(v.hovermode)&&(t.font||(t.font={}),s("size"),s("family"),s("color"),r?(t.bgcolor||(t.bgcolor=_.combine(v.legend.bgcolor,v.paper_bgcolor)),t.bordercolor||(t.bordercolor=v.legend.bordercolor)):t.bgcolor||(t.bgcolor=v.paper_bgcolor)),p("hoverlabel.bgcolor",t.bgcolor),p("hoverlabel.bordercolor",t.bordercolor),p("hoverlabel.namelength",t.namelength),g.coerceFont(p,"hoverlabel.font",t.font),p("hoverlabel.align",t.align)}},98212:function(G,V,e){var g=e(71828),_=e(528);G.exports=function(C,A){function v(p,t){return A[p]!==void 0?A[p]:g.coerce(C,A,_,p,t)}return v("clickmode"),v("hovermode")}},30211:function(G,V,e){var g=e(39898),_=e(71828),a=e(28569),C=e(23469),A=e(528),v=e(88335);G.exports={moduleType:"component",name:"fx",constants:e(26675),schema:{layout:A},attributes:e(77914),layoutAttributes:A,supplyLayoutGlobalDefaults:e(22774),supplyDefaults:e(54268),supplyLayoutDefaults:e(34938),calc:e(30732),getDistanceFunction:C.getDistanceFunction,getClosest:C.getClosest,inbox:C.inbox,quadrature:C.quadrature,appendArrayPointValue:C.appendArrayPointValue,castHoverOption:t,castHoverinfo:r,hover:v.hover,unhover:a.unhover,loneHover:v.loneHover,loneUnhover:p,click:e(75914)};function p(s){var n=_.isD3Selection(s)?s:g.select(s);n.selectAll("g.hovertext").remove(),n.selectAll(".spikeline").remove()}function t(s,n,i){return _.castOption(s,n,"hoverlabel."+i)}function r(s,n,i){function f(u){return _.coerceHoverinfo({hoverinfo:u},{_module:s._module},n)}return _.castOption(s,i,"hoverinfo",f)}},528:function(G,V,e){var g=e(26675),_=e(41940),a=_({editType:"none"});a.family.dflt=g.HOVERFONT,a.size.dflt=g.HOVERFONTSIZE,G.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:a,grouptitlefont:_({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(G,V,e){var g=e(71828),_=e(528),a=e(98212),C=e(38048);G.exports=function(v,p){function t(u,y){return g.coerce(v,p,_,u,y)}var r=a(v,p);r&&(t("hoverdistance"),t("spikedistance"));var s=t("dragmode");s==="select"&&t("selectdirection");var n=p._has("mapbox"),i=p._has("geo"),f=p._basePlotModules.length;p.dragmode==="zoom"&&((n||i)&&f===1||n&&i&&f===2)&&(p.dragmode="pan"),C(v,p,t),g.coerceFont(t,"hoverlabel.grouptitlefont",p.hoverlabel.font)}},22774:function(G,V,e){var g=e(71828),_=e(38048),a=e(528);G.exports=function(A,v){function p(t,r){return g.coerce(A,v,a,t,r)}_(A,v,p)}},83312:function(G,V,e){var g=e(71828),_=e(30587).counter,a=e(27670).Y,C=e(85555).idRegex,A=e(44467),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[_("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[C.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[C.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:a({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function p(i,f,u){var y=f[u+"axes"],c=Object.keys((i._splomAxes||{})[u]||{});if(Array.isArray(y))return y;if(c.length)return c}function t(i,f){var u=i.grid||{},y=p(f,u,"x"),c=p(f,u,"y");if(!i.grid&&!y&&!c)return;var T=Array.isArray(u.subplots)&&Array.isArray(u.subplots[0]),h=Array.isArray(y),l=Array.isArray(c),d=h&&y!==u.xaxes&&l&&c!==u.yaxes,E,S;T?(E=u.subplots.length,S=u.subplots[0].length):(l&&(E=c.length),h&&(S=y.length));var P=A.newContainer(f,"grid");function x(N,B){return g.coerce(u,P,v,N,B)}var M=x("rows",E),w=x("columns",S);if(!(M*w>1)){delete f.grid;return}if(!T&&!h&&!l){var o=x("pattern")==="independent";o&&(T=!0)}P._hasSubplotGrid=T;var L=x("roworder"),m=L==="top to bottom",F=T?.2:.1,I=T?.3:.1,U,z;d&&f._splomGridDflt&&(U=f._splomGridDflt.xside,z=f._splomGridDflt.yside),P._domains={x:r("x",x,F,U,w),y:r("y",x,I,z,M,m)}}function r(i,f,u,y,c,T){var h=f(i+"gap",u),l=f("domain."+i);f(i+"side",y);for(var d=new Array(c),E=l[0],S=(l[1]-E)/(c-h),P=S*(1-h),x=0;x<c;x++){var M=E+S*x;d[T?c-1-x:x]=[M,M+P]}return d}function s(i,f){var u=f.grid;if(!(!u||!u._domains)){var y=i.grid||{},c=f._subplots,T=u._hasSubplotGrid,h=u.rows,l=u.columns,d=u.pattern==="independent",E,S,P,x,M,w,o,L=u._axisMap={};if(T){var m=y.subplots||[];w=u.subplots=new Array(h);var F=1;for(E=0;E<h;E++){var I=w[E]=new Array(l),U=m[E]||[];for(S=0;S<l;S++)if(d?(M=F===1?"xy":"x"+F+"y"+F,F++):M=U[S],I[S]="",c.cartesian.indexOf(M)!==-1){if(o=M.indexOf("y"),P=M.slice(0,o),x=M.slice(o),L[P]!==void 0&&L[P]!==S||L[x]!==void 0&&L[x]!==E)continue;I[S]=M,L[P]=S,L[x]=E}}}else{var z=p(f,y,"x"),N=p(f,y,"y");u.xaxes=n(z,c.xaxis,l,L,"x"),u.yaxes=n(N,c.yaxis,h,L,"y")}var B=u._anchors={},O=u.roworder==="top to bottom";for(var H in L){var Y=H.charAt(0),J=u[Y+"side"],re,ie,ce;if(J.length<8)B[H]="free";else if(Y==="x"){if(J.charAt(0)==="t"===O?(re=0,ie=1,ce=h):(re=h-1,ie=-1,ce=-1),T){var Q=L[H];for(E=re;E!==ce;E+=ie)if(M=w[E][Q],!!M&&(o=M.indexOf("y"),M.slice(0,o)===H)){B[H]=M.slice(o);break}}else for(E=re;E!==ce;E+=ie)if(x=u.yaxes[E],c.cartesian.indexOf(H+x)!==-1){B[H]=x;break}}else if(J.charAt(0)==="l"?(re=0,ie=1,ce=l):(re=l-1,ie=-1,ce=-1),T){var j=L[H];for(E=re;E!==ce;E+=ie)if(M=w[j][E],!!M&&(o=M.indexOf("y"),M.slice(o)===H)){B[H]=M.slice(0,o);break}}else for(E=re;E!==ce;E+=ie)if(P=u.xaxes[E],c.cartesian.indexOf(P+H)!==-1){B[H]=P;break}}}}function n(i,f,u,y,c){var T=new Array(u),h;function l(d,E){f.indexOf(E)!==-1&&y[E]===void 0?(T[d]=E,y[E]=d):T[d]=""}if(Array.isArray(i))for(h=0;h<u;h++)l(h,i[h]);else for(l(0,c),h=1;h<u;h++)l(h,c+(h+1));return T}G.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:t,contentDefaults:s}},69819:function(G,V,e){var g=e(85555),_=e(44467).templatedArray;e(24695),G.exports=_("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",g.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",g.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(G,V,e){var g=e(92770),_=e(58163);G.exports=function(C,A,v,p){A=A||{};var t=v==="log"&&A.type==="linear",r=v==="linear"&&A.type==="log";if(t||r){for(var s=C._fullLayout.images,n=A._id.charAt(0),i,f,u=0;u<s.length;u++)if(i=s[u],f="images["+u+"].",i[n+"ref"]===A._id){var y=i[n],c=i["size"+n],T=null,h=null;if(t){T=_(y,A.range);var l=c/Math.pow(10,T)/2;h=2*Math.log(l+Math.sqrt(1+l*l))/Math.LN10}else T=Math.pow(10,y),h=T*(Math.pow(10,c/2)-Math.pow(10,-c/2));g(T)?g(h)||(h=null):(T=null,h=null),p(f+n,T),p(f+"size"+n,h)}}}},81603:function(G,V,e){var g=e(71828),_=e(89298),a=e(85501),C=e(69819),A="images";G.exports=function(t,r){var s={name:A,handleItemDefaults:v};a(t,r,s)};function v(p,t,r){function s(l,d){return g.coerce(p,t,C,l,d)}var n=s("source"),i=s("visible",!!n);if(!i)return t;s("layer"),s("xanchor"),s("yanchor"),s("sizex"),s("sizey"),s("sizing"),s("opacity");for(var f={_fullLayout:r},u=["x","y"],y=0;y<2;y++){var c=u[y],T=_.coerceRef(p,t,f,c,"paper",void 0);if(T!=="paper"){var h=_.getFromId(f,T);h._imgIndices.push(t._index)}_.coercePosition(t,f,s,T,c,0)}return t}},80750:function(G,V,e){var g=e(39898),_=e(91424),a=e(89298),C=e(41675),A=e(77922);G.exports=function(p){var t=p._fullLayout,r=[],s={},n=[],i,f;for(f=0;f<t.images.length;f++){var u=t.images[f];if(u.visible)if(u.layer==="below"&&u.xref!=="paper"&&u.yref!=="paper"){i=C.ref2id(u.xref)+C.ref2id(u.yref);var y=t._plots[i];if(!y){n.push(u);continue}y.mainplot&&(i=y.mainplot.id),s[i]||(s[i]=[]),s[i].push(u)}else u.layer==="above"?r.push(u):n.push(u)}var c={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function T(x){var M=g.select(this);if(this._imgSrc!==x.source)if(M.attr("xmlns",A.svg),x.source&&x.source.slice(0,5)==="data:")M.attr("xlink:href",x.source),this._imgSrc=x.source;else{var w=new Promise((function(o){var L=new Image;this.img=L,L.setAttribute("crossOrigin","anonymous"),L.onerror=m,L.onload=function(){var F=document.createElement("canvas");F.width=this.width,F.height=this.height;var I=F.getContext("2d",{willReadFrequently:!0});I.drawImage(this,0,0);var U=F.toDataURL("image/png");M.attr("xlink:href",U),o()},M.on("error",m),L.src=x.source,this._imgSrc=x.source;function m(){M.remove(),o()}}).bind(this));p._promises.push(w)}}function h(x){var M=g.select(this),w=a.getFromId(p,x.xref),o=a.getFromId(p,x.yref),L=a.getRefType(x.xref)==="domain",m=a.getRefType(x.yref)==="domain",F=t._size,I,U;w!==void 0?I=typeof x.xref=="string"&&L?w._length*x.sizex:Math.abs(w.l2p(x.sizex)-w.l2p(0)):I=x.sizex*F.w,o!==void 0?U=typeof x.yref=="string"&&m?o._length*x.sizey:Math.abs(o.l2p(x.sizey)-o.l2p(0)):U=x.sizey*F.h;var z=I*c.x[x.xanchor].offset,N=U*c.y[x.yanchor].offset,B=c.x[x.xanchor].sizing+c.y[x.yanchor].sizing,O,H;switch(w!==void 0?O=typeof x.xref=="string"&&L?w._length*x.x+w._offset:w.r2p(x.x)+w._offset:O=x.x*F.w+F.l,O+=z,o!==void 0?H=typeof x.yref=="string"&&m?o._length*(1-x.y)+o._offset:o.r2p(x.y)+o._offset:H=F.h-x.y*F.h+F.t,H+=N,x.sizing){case"fill":B+=" slice";break;case"stretch":B="none";break}M.attr({x:O,y:H,width:I,height:U,preserveAspectRatio:B,opacity:x.opacity});var Y=w&&a.getRefType(x.xref)!=="domain"?w._id:"",J=o&&a.getRefType(x.yref)!=="domain"?o._id:"",re=Y+J;_.setClipUrl(M,re?"clip"+t._uid+re:null,p)}var l=t._imageLowerLayer.selectAll("image").data(n),d=t._imageUpperLayer.selectAll("image").data(r);l.enter().append("image"),d.enter().append("image"),l.exit().remove(),d.exit().remove(),l.each(function(x){T.bind(this)(x),h.bind(this)(x)}),d.each(function(x){T.bind(this)(x),h.bind(this)(x)});var E=Object.keys(t._plots);for(f=0;f<E.length;f++){i=E[f];var S=t._plots[i];if(S.imagelayer){var P=S.imagelayer.selectAll("image").data(s[i]||[]);P.enter().append("image"),P.exit().remove(),P.each(function(x){T.bind(this)(x),h.bind(this)(x)})}}}},68804:function(G,V,e){G.exports={moduleType:"component",name:"images",layoutAttributes:e(69819),supplyLayoutDefaults:e(81603),includeBasePlot:e(76325)("images"),draw:e(80750),convertCoords:e(75378)}},33030:function(G,V,e){var g=e(41940),_=e(22399);G.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:_.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:g({editType:"legend"}),grouptitlefont:g({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:g({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(G){G.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(G,V,e){var g=e(73972),_=e(71828),a=e(44467),C=e(9012),A=e(33030),v=e(10820),p=e(10130);function t(r,s,n,i){var f=s[r]||{},u=a.newContainer(n,r);function y(ce,Q){return _.coerce(f,u,A,ce,Q)}var c=_.coerceFont(y,"font",n.font);y("bgcolor",n.paper_bgcolor),y("bordercolor");var T=y("visible");if(T){for(var h,l=function(ce,Q){var j=h._input,Z=h;return _.coerce(j,Z,C,ce,Q)},d=n.font||{},E=_.coerceFont(y,"grouptitlefont",_.extendFlat({},d,{size:Math.round(d.size*1.1)})),S=0,P=!1,x="normal",M=(n.shapes||[]).filter(function(ce){return ce.showlegend}),w=i.concat(M).filter(function(ce){return r===(ce.legend||"legend")}),o=0;o<w.length;o++)if(h=w[o],!!h.visible){var L=h._isShape;(h.showlegend||h._dfltShowLegend&&!(h._module&&h._module.attributes&&h._module.attributes.showlegend&&h._module.attributes.showlegend.dflt===!1))&&(S++,h.showlegend&&(P=!0,(!L&&g.traceIs(h,"pie-like")||h._input.showlegend===!0)&&S++),_.coerceFont(l,"legendgrouptitle.font",E)),(!L&&g.traceIs(h,"bar")&&n.barmode==="stack"||["tonextx","tonexty"].indexOf(h.fill)!==-1)&&(x=p.isGrouped({traceorder:x})?"grouped+reversed":"reversed"),h.legendgroup!==void 0&&h.legendgroup!==""&&(x=p.isReversed({traceorder:x})?"reversed+grouped":"grouped")}var m=_.coerce(s,n,v,"showlegend",P&&S>(r==="legend"?1:0));if(m===!1&&(n[r]=void 0),!(m===!1&&!f.uirevision)&&(y("uirevision",n.uirevision),m!==!1)){y("borderwidth");var F=y("orientation"),I=y("yref"),U=y("xref"),z=F==="h",N=I==="paper",B=U==="paper",O,H,Y,J="left";z?(O=0,g.getComponentMethod("rangeslider","isVisible")(s.xaxis)?N?(H=1.1,Y="bottom"):(H=1,Y="top"):N?(H=-.1,Y="top"):(H=0,Y="bottom")):(H=1,Y="auto",B?O=1.02:(O=1,J="right")),_.coerce(f,u,{x:{valType:"number",editType:"legend",min:B?-2:0,max:B?3:1,dflt:O}},"x"),_.coerce(f,u,{y:{valType:"number",editType:"legend",min:N?-2:0,max:N?3:1,dflt:H}},"y"),y("traceorder",x),p.isGrouped(n[r])&&y("tracegroupgap"),y("entrywidth"),y("entrywidthmode"),y("itemsizing"),y("itemwidth"),y("itemclick"),y("itemdoubleclick"),y("groupclick"),y("xanchor",J),y("yanchor",Y),y("valign"),_.noneOrAll(f,u,["x","y"]);var re=y("title.text");if(re){y("title.side",z?"left":"top");var ie=_.extendFlat({},c,{size:_.bigFont(c.size)});_.coerceFont(y,"title.font",ie)}}}}G.exports=function(s,n,i){var f,u=i.slice(),y=n.shapes;if(y)for(f=0;f<y.length;f++){var c=y[f];if(c.showlegend){var T={_input:c._input,visible:c.visible,showlegend:c.showlegend,legend:c.legend};u.push(T)}}var h=["legend"];for(f=0;f<u.length;f++)_.pushUnique(h,u[f].legend);for(n._legends=[],f=0;f<h.length;f++){var l=h[f];t(l,s,n,u),n[l]&&n[l].visible&&(n[l]._id=l),n._legends.push(l)}}},43969:function(G,V,e){var g=e(39898),_=e(71828),a=e(74875),C=e(73972),A=e(11086),v=e(28569),p=e(91424),t=e(7901),r=e(63893),s=e(85167),n=e(14928),i=e(18783),f=i.LINE_SPACING,u=i.FROM_TL,y=i.FROM_BR,c=e(82424),T=e(53630),h=e(10130),l=1,d=/^legend[0-9]*$/;G.exports=function(H,Y){if(Y)S(H,Y);else{var J=H._fullLayout,re=J._legends,ie=J._infolayer.selectAll('[class^="legend"]');ie.each(function(){var Z=g.select(this),$=Z.attr("class"),te=$.split(" ")[0];te.match(d)&&re.indexOf(te)===-1&&Z.remove()});for(var ce=0;ce<re.length;ce++){var Q=re[ce],j=H._fullLayout[Q];S(H,j)}}};function E(O,H,Y){if(!(H.title.side!=="top center"&&H.title.side!=="top right")){var J=H.title.font,re=J.size*f,ie=0,ce=O.node(),Q=p.bBox(ce).width;H.title.side==="top center"?ie=.5*(H._width-2*Y-2*n.titlePad-Q):H.title.side==="top right"&&(ie=H._width-2*Y-2*n.titlePad-Q),r.positionText(O,Y+n.titlePad+ie,Y+re)}}function S(O,H){var Y=H||{},J=O._fullLayout,re=B(Y),ie,ce,Q=Y._inHover;if(Q?(ce=Y.layer,ie="hover"):(ce=J._infolayer,ie=re),!!ce){ie+=J._uid,O._legendMouseDownTime||(O._legendMouseDownTime=0);var j;if(Q){if(!Y.entries)return;j=c(Y.entries,Y)}else{for(var Z=(O.calcdata||[]).slice(),$=J.shapes,te=0;te<$.length;te++){var se=$[te];if(se.showlegend){var ee={_isShape:!0,_fullInput:se,index:se._index,name:se.name||se.label.text||"shape "+se._index,legend:se.legend,legendgroup:se.legendgroup,legendgrouptitle:se.legendgrouptitle,legendrank:se.legendrank,legendwidth:se.legendwidth,showlegend:se.showlegend,visible:se.visible,opacity:se.opacity,mode:se.type==="line"?"lines":"markers",line:se.line,marker:{line:se.line,color:se.fillcolor,size:12,symbol:se.type==="rect"?"square":se.type==="circle"?"circle":"hexagon2"}};Z.push([{trace:ee}])}}j=J.showlegend&&c(Z,Y,J._legends.length>1)}var q=J.hiddenlabels||[];if(!Q&&(!J.showlegend||!j.length))return ce.selectAll("."+re).remove(),J._topdefs.select("#"+ie).remove(),a.autoMargin(O,re);var le=_.ensureSingle(ce,"g",re,function(be){Q||be.attr("pointer-events","all")}),oe=_.ensureSingleById(J._topdefs,"clipPath",ie,function(be){be.append("rect")}),he=_.ensureSingle(le,"rect","bg",function(be){be.attr("shape-rendering","crispEdges")});he.call(t.stroke,Y.bordercolor).call(t.fill,Y.bgcolor).style("stroke-width",Y.borderwidth+"px");var me=_.ensureSingle(le,"g","scrollbox"),Ce=Y.title;Y._titleWidth=0,Y._titleHeight=0;var Ae;Ce.text?(Ae=_.ensureSingle(me,"text",re+"titletext"),Ae.attr("text-anchor","start").call(p.font,Ce.font).text(Ce.text),L(Ae,me,O,Y,l)):me.selectAll("."+re+"titletext").remove();var Ue=_.ensureSingle(le,"rect","scrollbar",function(be){be.attr(n.scrollBarEnterAttrs).call(t.fill,n.scrollBarColor)}),Ve=me.selectAll("g.groups").data(j);Ve.enter().append("g").attr("class","groups"),Ve.exit().remove();var Pe=Ve.selectAll("g.traces").data(_.identity);Pe.enter().append("g").attr("class","traces"),Pe.exit().remove(),Pe.style("opacity",function(be){var Le=be[0].trace;return C.traceIs(Le,"pie-like")?q.indexOf(be[0].label)!==-1?.5:1:Le.visible==="legendonly"?.5:1}).each(function(){g.select(this).call(M,O,Y)}).call(T,O,Y).each(function(){Q||g.select(this).call(o,O,re)}),_.syncOrAsync([a.previousPromises,function(){return I(O,Ve,Pe,Y)},function(){var be=J._size,Le=Y.borderwidth,We=Y.xref==="paper",je=Y.yref==="paper";if(Ce.text&&E(Ae,Y,Le),!Q){var Fe,Ze;We?Fe=be.l+be.w*Y.x-u[z(Y)]*Y._width:Fe=J.width*Y.x-u[z(Y)]*Y._width,je?Ze=be.t+be.h*(1-Y.y)-u[N(Y)]*Y._effHeight:Ze=J.height*(1-Y.y)-u[N(Y)]*Y._effHeight;var ut=U(O,re,Fe,Ze);if(ut)return;if(J.margin.autoexpand){var at=Fe,it=Ze;Fe=We?_.constrain(Fe,0,J.width-Y._width):at,Ze=je?_.constrain(Ze,0,J.height-Y._effHeight):it,Fe!==at&&_.log("Constrain "+re+".x to make legend fit inside graph"),Ze!==it&&_.log("Constrain "+re+".y to make legend fit inside graph")}p.setTranslate(le,Fe,Ze)}if(Ue.on(".drag",null),le.on("wheel",null),Q||Y._height<=Y._maxHeight||O._context.staticPlot){var $e=Y._effHeight;Q&&($e=Y._height),he.attr({width:Y._width-Le,height:$e-Le,x:Le/2,y:Le/2}),p.setTranslate(me,0,0),oe.select("rect").attr({width:Y._width-2*Le,height:$e-2*Le,x:Le,y:Le}),p.setClipUrl(me,ie,O),p.setRect(Ue,0,0,0,0),delete Y._scrollY}else{var st=Math.max(n.scrollBarMinHeight,Y._effHeight*Y._effHeight/Y._height),ct=Y._effHeight-st-2*n.scrollBarMargin,vt=Y._height-Y._effHeight,St=ct/vt,Mt=Math.min(Y._scrollY||0,vt);he.attr({width:Y._width-2*Le+n.scrollBarWidth+n.scrollBarMargin,height:Y._effHeight-Le,x:Le/2,y:Le/2}),oe.select("rect").attr({width:Y._width-2*Le+n.scrollBarWidth+n.scrollBarMargin,height:Y._effHeight-2*Le,x:Le,y:Le+Mt}),p.setClipUrl(me,ie,O),ye(Mt,st,St),le.on("wheel",function(){Mt=_.constrain(Y._scrollY+g.event.deltaY/ct*vt,0,vt),ye(Mt,st,St),Mt!==0&&Mt!==vt&&g.event.preventDefault()});var Bt,Qe,ke,ze=function(rt,pt,At){var jt=(At-pt)/St+rt;return _.constrain(jt,0,vt)},Be=function(rt,pt,At){var jt=(pt-At)/St+rt;return _.constrain(jt,0,vt)},Re=g.behavior.drag().on("dragstart",function(){var rt=g.event.sourceEvent;rt.type==="touchstart"?Bt=rt.changedTouches[0].clientY:Bt=rt.clientY,ke=Mt}).on("drag",function(){var rt=g.event.sourceEvent;rt.buttons===2||rt.ctrlKey||(rt.type==="touchmove"?Qe=rt.changedTouches[0].clientY:Qe=rt.clientY,Mt=ze(ke,Bt,Qe),ye(Mt,st,St))});Ue.call(Re);var we=g.behavior.drag().on("dragstart",function(){var rt=g.event.sourceEvent;rt.type==="touchstart"&&(Bt=rt.changedTouches[0].clientY,ke=Mt)}).on("drag",function(){var rt=g.event.sourceEvent;rt.type==="touchmove"&&(Qe=rt.changedTouches[0].clientY,Mt=Be(ke,Bt,Qe),ye(Mt,st,St))});me.call(we)}function ye(rt,pt,At){Y._scrollY=O._fullLayout[re]._scrollY=rt,p.setTranslate(me,0,-rt),p.setRect(Ue,Y._width,n.scrollBarMargin+rt*At,n.scrollBarWidth,pt),oe.select("rect").attr("y",Le+rt)}if(O._context.edits.legendPosition){var Se,Me,He,qe;le.classed("cursor-move",!0),v.init({element:le.node(),gd:O,prepFn:function(){var rt=p.getTranslate(le);He=rt.x,qe=rt.y},moveFn:function(rt,pt){var At=He+rt,jt=qe+pt;p.setTranslate(le,At,jt),Se=v.align(At,Y._width,be.l,be.l+be.w,Y.xanchor),Me=v.align(jt+Y._height,-Y._height,be.t+be.h,be.t,Y.yanchor)},doneFn:function(){if(Se!==void 0&&Me!==void 0){var rt={};rt[re+".x"]=Se,rt[re+".y"]=Me,C.call("_guiRelayout",O,rt)}},clickFn:function(rt,pt){var At=ce.selectAll("g.traces").filter(function(){var jt=this.getBoundingClientRect();return pt.clientX>=jt.left&&pt.clientX<=jt.right&&pt.clientY>=jt.top&&pt.clientY<=jt.bottom});At.size()>0&&x(O,le,At,rt,pt)}})}}],O)}}function P(O,H,Y){var J=O[0],re=J.width,ie=H.entrywidthmode,ce=J.trace.legendwidth||H.entrywidth;return ie==="fraction"?H._maxWidth*ce:Y+(ce||re)}function x(O,H,Y,J,re){var ie=Y.data()[0][0].trace,ce={event:re,node:Y.node(),curveNumber:ie.index,expandedIndex:ie._expandedIndex,data:O.data,layout:O.layout,frames:O._transitionData._frames,config:O._context,fullData:O._fullData,fullLayout:O._fullLayout};ie._group&&(ce.group=ie._group),C.traceIs(ie,"pie-like")&&(ce.label=Y.datum()[0].label);var Q=A.triggerHandler(O,"plotly_legendclick",ce);if(J===1){if(Q===!1)return;H._clickTimeout=setTimeout(function(){O._fullLayout&&s(Y,O,J)},O._context.doubleClickDelay)}else if(J===2){H._clickTimeout&&clearTimeout(H._clickTimeout),O._legendMouseDownTime=0;var j=A.triggerHandler(O,"plotly_legenddoubleclick",ce);j!==!1&&Q!==!1&&s(Y,O,J)}}function M(O,H,Y){var J=B(Y),re=O.data()[0][0],ie=re.trace,ce=C.traceIs(ie,"pie-like"),Q=!Y._inHover&&H._context.edits.legendText&&!ce,j=Y._maxNameLength,Z,$;re.groupTitle?(Z=re.groupTitle.text,$=re.groupTitle.font):($=Y.font,Y.entries?Z=re.text:(Z=ce?re.label:ie.name,ie._meta&&(Z=_.templateString(Z,ie._meta))));var te=_.ensureSingle(O,"text",J+"text");te.attr("text-anchor","start").call(p.font,$).text(Q?w(Z,j):Z);var se=Y.itemwidth+n.itemGap*2;r.positionText(te,se,0),Q?te.call(r.makeEditable,{gd:H,text:Z}).call(L,O,H,Y).on("edit",function(ee){this.text(w(ee,j)).call(L,O,H,Y);var q=re.trace._fullInput||{},le={};if(C.hasTransform(q,"groupby")){var oe=C.getTransformIndices(q,"groupby"),he=oe[oe.length-1],me=_.keyedContainer(q,"transforms["+he+"].styles","target","value.name");me.set(re.trace._group,ee),le=me.constructUpdate()}else le.name=ee;return q._isShape?C.call("_guiRelayout",H,"shapes["+ie.index+"].name",le.name):C.call("_guiRestyle",H,le,ie.index)}):L(te,O,H,Y)}function w(O,H){var Y=Math.max(4,H);if(O&&O.trim().length>=Y/2)return O;O=O||"";for(var J=Y-O.length;J>0;J--)O+=" ";return O}function o(O,H,Y){var J=H._context.doubleClickDelay,re,ie=1,ce=_.ensureSingle(O,"rect",Y+"toggle",function(Q){H._context.staticPlot||Q.style("cursor","pointer").attr("pointer-events","all"),Q.call(t.fill,"rgba(0,0,0,0)")});H._context.staticPlot||(ce.on("mousedown",function(){re=new Date().getTime(),re-H._legendMouseDownTime<J?ie+=1:(ie=1,H._legendMouseDownTime=re)}),ce.on("mouseup",function(){if(!(H._dragged||H._editing)){var Q=H._fullLayout[Y];new Date().getTime()-H._legendMouseDownTime>J&&(ie=Math.max(ie-1,1)),x(H,Q,O,ie,g.event)}}))}function L(O,H,Y,J,re){J._inHover&&O.attr("data-notex",!0),r.convertToTspans(O,Y,function(){m(H,Y,J,re)})}function m(O,H,Y,J){var re=O.data()[0][0];if(!Y._inHover&&re&&!re.trace.showlegend){O.remove();return}var ie=O.select("g[class*=math-group]"),ce=ie.node(),Q=B(Y);Y||(Y=H._fullLayout[Q]);var j=Y.borderwidth,Z;J===l?Z=Y.title.font:re.groupTitle?Z=re.groupTitle.font:Z=Y.font;var $=Z.size*f,te,se;if(ce){var ee=p.bBox(ce);te=ee.height,se=ee.width,J===l?p.setTranslate(ie,j,j+te*.75):p.setTranslate(ie,0,te*.25)}else{var q="."+Q+(J===l?"title":"")+"text",le=O.select(q),oe=r.lineCount(le),he=le.node();if(te=$*oe,se=he?p.bBox(he).width:0,J===l)Y.title.side==="left"&&(se+=n.itemGap*2),r.positionText(le,j+n.titlePad,j+$);else{var me=n.itemGap*2+Y.itemwidth;re.groupTitle&&(me=n.itemGap,se-=Y.itemwidth),r.positionText(le,me,-$*((oe-1)/2-.3))}}J===l?(Y._titleWidth=se,Y._titleHeight=te):(re.lineHeight=$,re.height=Math.max(te,16)+3,re.width=se)}function F(O){var H=0,Y=0,J=O.title.side;return J&&(J.indexOf("left")!==-1&&(H=O._titleWidth),J.indexOf("top")!==-1&&(Y=O._titleHeight)),[H,Y]}function I(O,H,Y,J){var re=O._fullLayout,ie=B(J);J||(J=re[ie]);var ce=re._size,Q=h.isVertical(J),j=h.isGrouped(J),Z=J.entrywidthmode==="fraction",$=J.borderwidth,te=2*$,se=n.itemGap,ee=J.itemwidth+se*2,q=2*($+se),le=N(J),oe=J.y<0||J.y===0&&le==="top",he=J.y>1||J.y===1&&le==="bottom",me=J.tracegroupgap,Ce={};J._maxHeight=Math.max(oe||he?re.height/2:ce.h,30);var Ae=0;J._width=0,J._height=0;var Ue=F(J);if(Q)Y.each(function(ke){var ze=ke[0].height;p.setTranslate(this,$+Ue[0],$+Ue[1]+J._height+ze/2+se),J._height+=ze,J._width=Math.max(J._width,ke[0].width)}),Ae=ee+J._width,J._width+=se+ee+te,J._height+=q,j&&(H.each(function(ke,ze){p.setTranslate(this,0,ze*J.tracegroupgap)}),J._height+=(J._lgroupsLength-1)*J.tracegroupgap);else{var Ve=z(J),Pe=J.x<0||J.x===0&&Ve==="right",be=J.x>1||J.x===1&&Ve==="left",Le=he||oe,We=re.width/2;J._maxWidth=Math.max(Pe?Le&&Ve==="left"?ce.l+ce.w:We:be?Le&&Ve==="right"?ce.r+ce.w:We:ce.w,2*ee);var je=0,Fe=0;Y.each(function(ke){var ze=P(ke,J,ee);je=Math.max(je,ze),Fe+=ze}),Ae=null;var Ze=0;if(j){var ut=0,at=0,it=0;H.each(function(){var ke=0,ze=0;g.select(this).selectAll("g.traces").each(function(Re){var we=P(Re,J,ee),ye=Re[0].height;p.setTranslate(this,Ue[0],Ue[1]+$+se+ye/2+ze),ze+=ye,ke=Math.max(ke,we),Ce[Re[0].trace.legendgroup]=ke});var Be=ke+se;at>0&&Be+$+at>J._maxWidth?(Ze=Math.max(Ze,at),at=0,it+=ut+me,ut=ze):ut=Math.max(ut,ze),p.setTranslate(this,at,it),at+=Be}),J._width=Math.max(Ze,at)+$,J._height=it+ut+q}else{var $e=Y.size(),st=Fe+te+($e-1)*se<J._maxWidth,ct=0,vt=0,St=0,Mt=0;Y.each(function(ke){var ze=ke[0].height,Be=P(ke,J,ee),Re=st?Be:je;Z||(Re+=se),Re+$+vt-se>=J._maxWidth&&(Ze=Math.max(Ze,Mt),vt=0,St+=ct,J._height+=ct,ct=0),p.setTranslate(this,Ue[0]+$+vt,Ue[1]+$+St+ze/2+se),Mt=vt+Be+se,vt+=Re,ct=Math.max(ct,ze)}),st?(J._width=vt+te,J._height=ct+q):(J._width=Math.max(Ze,Mt)+te,J._height+=ct+q)}}J._width=Math.ceil(Math.max(J._width+Ue[0],J._titleWidth+2*($+n.titlePad))),J._height=Math.ceil(Math.max(J._height+Ue[1],J._titleHeight+2*($+n.itemGap))),J._effHeight=Math.min(J._height,J._maxHeight);var Bt=O._context.edits,Qe=Bt.legendText||Bt.legendPosition;Y.each(function(ke){var ze=g.select(this).select("."+ie+"toggle"),Be=ke[0].height,Re=ke[0].trace.legendgroup,we=P(ke,J,ee);j&&Re!==""&&(we=Ce[Re]);var ye=Qe?ee:Ae||we;!Q&&!Z&&(ye+=se/2),p.setRect(ze,0,-Be/2,ye,Be)})}function U(O,H,Y,J){var re=O._fullLayout,ie=re[H],ce=z(ie),Q=N(ie),j=ie.xref==="paper",Z=ie.yref==="paper";O._fullLayout._reservedMargin[H]={};var $=ie.y<.5?"b":"t",te=ie.x<.5?"l":"r",se={r:re.width-Y,l:Y+ie._width,b:re.height-J,t:J+ie._effHeight};if(j&&Z)return a.autoMargin(O,H,{x:ie.x,y:ie.y,l:ie._width*u[ce],r:ie._width*y[ce],b:ie._effHeight*y[Q],t:ie._effHeight*u[Q]});j?O._fullLayout._reservedMargin[H][$]=se[$]:Z||ie.orientation==="v"?O._fullLayout._reservedMargin[H][te]=se[te]:O._fullLayout._reservedMargin[H][$]=se[$]}function z(O){return _.isRightAnchor(O)?"right":_.isCenterAnchor(O)?"center":"left"}function N(O){return _.isBottomAnchor(O)?"bottom":_.isMiddleAnchor(O)?"middle":"top"}function B(O){return O._id||"legend"}},82424:function(G,V,e){var g=e(73972),_=e(10130);G.exports=function(C,A,v){var p=A._inHover,t=_.isGrouped(A),r=_.isReversed(A),s={},n=[],i=!1,f={},u=0,y=0,c,T;function h(O,H,Y){if(A.visible!==!1&&!(v&&O!==A._id))if(H===""||!_.isGrouped(A)){var J="~~i"+u;n.push(J),s[J]=[Y],u++}else n.indexOf(H)===-1?(n.push(H),i=!0,s[H]=[Y]):s[H].push(Y)}for(c=0;c<C.length;c++){var l=C[c],d=l[0],E=d.trace,S=E.legend,P=E.legendgroup;if(!(!p&&(!E.visible||!E.showlegend)))if(g.traceIs(E,"pie-like"))for(f[P]||(f[P]={}),T=0;T<l.length;T++){var x=l[T].label;f[P][x]||(h(S,P,{label:x,color:l[T].color,i:l[T].i,trace:E,pts:l[T].pts}),f[P][x]=!0,y=Math.max(y,(x||"").length))}else h(S,P,d),y=Math.max(y,(E.name||"").length)}if(!n.length)return[];var M=!i||!t,w=[];for(c=0;c<n.length;c++){var o=s[n[c]];M?w.push(o[0]):w.push(o)}for(M&&(w=[w]),c=0;c<w.length;c++){var L=1/0;for(T=0;T<w[c].length;T++){var m=w[c][T].trace.legendrank;L>m&&(L=m)}w[c][0]._groupMinRank=L,w[c][0]._preGroupSort=c}var F=function(O,H){return O[0]._groupMinRank-H[0]._groupMinRank||O[0]._preGroupSort-H[0]._preGroupSort},I=function(O,H){return O.trace.legendrank-H.trace.legendrank||O._preSort-H._preSort};for(w.forEach(function(O,H){O[0]._preGroupSort=H}),w.sort(F),c=0;c<w.length;c++){w[c].forEach(function(O,H){O._preSort=H}),w[c].sort(I);var U=w[c][0].trace,z=null;for(T=0;T<w[c].length;T++){var N=w[c][T].trace.legendgrouptitle;if(N&&N.text){z=N,p&&(N.font=A._groupTitleFont);break}}if(r&&w[c].reverse(),z){var B=!1;for(T=0;T<w[c].length;T++)if(g.traceIs(w[c][T].trace,"pie-like")){B=!0;break}w[c].unshift({i:-1,groupTitle:z,noClick:B,trace:{showlegend:U.showlegend,legendgroup:U.legendgroup,visible:A.groupclick==="toggleitem"?!0:U.visible}})}for(T=0;T<w[c].length;T++)w[c][T]=[w[c][T]]}return A._lgroupsLength=w.length,A._maxNameLength=y,w}},85167:function(G,V,e){var g=e(73972),_=e(71828),a=_.pushUnique,C=!0;G.exports=function(v,p,t){var r=p._fullLayout;if(p._dragged||p._editing)return;var s=r.legend.itemclick,n=r.legend.itemdoubleclick,i=r.legend.groupclick;t===1&&s==="toggle"&&n==="toggleothers"&&C&&p.data&&p._context.showTips&&_.notifier(_._(p,"Double-click on legend to isolate one trace"),"long"),C=!1;var f;if(t===1?f=s:t===2&&(f=n),!f)return;var u=i==="togglegroup",y=r.hiddenlabels?r.hiddenlabels.slice():[],c=v.data()[0][0];if(c.groupTitle&&c.noClick)return;var T=p._fullData,h=(r.shapes||[]).filter(function(We){return We.showlegend}),l=T.concat(h),d=c.trace;d._isShape&&(d=d._fullInput);var E=d.legendgroup,S,P,x,M,w,o,L={},m=[],F=[],I=[];function U(We,je){var Fe=m.indexOf(We),Ze=L.visible;return Ze||(Ze=L.visible=[]),m.indexOf(We)===-1&&(m.push(We),Fe=m.length-1),Ze[Fe]=je,Fe}var z=(r.shapes||[]).map(function(We){return We._input}),N=!1;function B(We,je){z[We].visible=je,N=!0}function O(We,je){if(!(c.groupTitle&&!u)){var Fe=We._fullInput||We,Ze=Fe._isShape,ut=Fe.index;if(ut===void 0&&(ut=Fe._index),g.hasTransform(Fe,"groupby")){var at=F[ut];if(!at){var it=g.getTransformIndices(Fe,"groupby"),$e=it[it.length-1];at=_.keyedContainer(Fe,"transforms["+$e+"].styles","target","value.visible"),F[ut]=at}var st=at.get(We._group);st===void 0&&(st=!0),st!==!1&&at.set(We._group,je),I[ut]=U(ut,Fe.visible!==!1)}else{var ct=Fe.visible===!1?!1:je;Ze?B(ut,ct):U(ut,ct)}}}var H=d.legend,Y=d._fullInput,J=Y&&Y._isShape;if(!J&&g.traceIs(d,"pie-like")){var re=c.label,ie=y.indexOf(re);if(f==="toggle")ie===-1?y.push(re):y.splice(ie,1);else if(f==="toggleothers"){var ce=ie!==-1,Q=[];for(S=0;S<p.calcdata.length;S++){var j=p.calcdata[S];for(P=0;P<j.length;P++){var Z=j[P],$=Z.label;H===j[0].trace.legend&&re!==$&&(y.indexOf($)===-1&&(ce=!0),a(y,$),Q.push($))}}if(!ce)for(var te=0;te<Q.length;te++){var se=y.indexOf(Q[te]);se!==-1&&y.splice(se,1)}}g.call("_guiRelayout",p,"hiddenlabels",y)}else{var ee=E&&E.length,q=[],le;if(ee)for(S=0;S<l.length;S++)le=l[S],le.visible&&le.legendgroup===E&&q.push(S);if(f==="toggle"){var oe;switch(d.visible){case!0:oe="legendonly";break;case!1:oe=!1;break;case"legendonly":oe=!0;break}if(ee)if(u)for(S=0;S<l.length;S++){var he=l[S];he.visible!==!1&&he.legendgroup===E&&O(he,oe)}else O(d,oe);else O(d,oe)}else if(f==="toggleothers"){var me,Ce,Ae,Ue,Ve,Pe=!0;for(S=0;S<l.length;S++)if(Ve=l[S],me=Ve===d,Ae=Ve.showlegend!==!0,!(me||Ae)&&(Ce=ee&&Ve.legendgroup===E,!Ce&&Ve.legend===H&&Ve.visible===!0&&!g.traceIs(Ve,"notLegendIsolatable"))){Pe=!1;break}for(S=0;S<l.length;S++)if(Ve=l[S],!(Ve.visible===!1||Ve.legend!==H)&&!g.traceIs(Ve,"notLegendIsolatable"))switch(d.visible){case"legendonly":O(Ve,!0);break;case!0:Ue=Pe?!0:"legendonly",me=Ve===d,Ae=Ve.showlegend!==!0&&!Ve.legendgroup,Ce=me||ee&&Ve.legendgroup===E,O(Ve,Ce||Ae?!0:Ue);break}}for(S=0;S<F.length;S++)if(x=F[S],!!x){var be=x.constructUpdate(),Le=Object.keys(be);for(P=0;P<Le.length;P++)M=Le[P],o=L[M]=L[M]||[],o[I[S]]=be[M]}for(w=Object.keys(L),S=0;S<w.length;S++)for(M=w[S],P=0;P<m.length;P++)L[M].hasOwnProperty(P)||(L[M][P]=void 0);N?g.call("_guiUpdate",p,L,{shapes:z},m):g.call("_guiRestyle",p,L,m)}}},10130:function(G,V){V.isGrouped=function(g){return(g.traceorder||"").indexOf("grouped")!==-1},V.isVertical=function(g){return g.orientation!=="h"},V.isReversed=function(g){return(g.traceorder||"").indexOf("reversed")!==-1}},2199:function(G,V,e){G.exports={moduleType:"component",name:"legend",layoutAttributes:e(33030),supplyLayoutDefaults:e(99017),draw:e(43969),style:e(53630)}},53630:function(G,V,e){var g=e(39898),_=e(73972),a=e(71828),C=a.strTranslate,A=e(91424),v=e(7901),p=e(52075).extractOpts,t=e(34098),r=e(63463),s=e(53581).castOption,n=e(14928),i=12,f=5,u=2,y=10,c=5;G.exports=function(E,S,P){var x=S._fullLayout;P||(P=x.legend);var M=P.itemsizing==="constant",w=P.itemwidth,o=(w+n.itemGap*2)/2,L=C(o,0),m=function(Q,j,Z,$){var te;if(Q+1)te=Q;else if(j&&j.width>0)te=j.width;else return 0;return M?$:Math.min(te,Z)};E.each(function(Q){var j=g.select(this),Z=a.ensureSingle(j,"g","layers");Z.style("opacity",Q[0].trace.opacity);var $=P.valign,te=Q[0].lineHeight,se=Q[0].height;if($==="middle"||!te||!se)Z.attr("transform",null);else{var ee={top:1,bottom:-1}[$],q=ee*(.5*(te-se+3));Z.attr("transform",C(0,q))}var le=Z.selectAll("g.legendfill").data([Q]);le.enter().append("g").classed("legendfill",!0);var oe=Z.selectAll("g.legendlines").data([Q]);oe.enter().append("g").classed("legendlines",!0);var he=Z.selectAll("g.legendsymbols").data([Q]);he.enter().append("g").classed("legendsymbols",!0),he.selectAll("g.legendpoints").data([Q]).enter().append("g").classed("legendpoints",!0)}).each(ce).each(U).each(N).each(z).each(O).each(re).each(J).each(F).each(I).each(H).each(Y);function F(Q){var j=h(Q),Z=j.showFill,$=j.showLine,te=j.showGradientLine,se=j.showGradientFill,ee=j.anyFill,q=j.anyLine,le=Q[0],oe=le.trace,he,me,Ce=p(oe),Ae=Ce.colorscale,Ue=Ce.reversescale,Ve=function(Ze){if(Ze.size())if(Z)A.fillGroupStyle(Ze,S);else{var ut="legendfill-"+oe.uid;A.gradient(Ze,S,ut,T(Ue),Ae,"fill")}},Pe=function(Ze){if(Ze.size()){var ut="legendline-"+oe.uid;A.lineGroupStyle(Ze),A.gradient(Ze,S,ut,T(Ue),Ae,"stroke")}},be=t.hasMarkers(oe)||!ee?"M5,0":q?"M5,-2":"M5,-3",Le=g.select(this),We=Le.select(".legendfill").selectAll("path").data(Z||se?[Q]:[]);if(We.enter().append("path").classed("js-fill",!0),We.exit().remove(),We.attr("d",be+"h"+w+"v6h-"+w+"z").call(Ve),$||te){var je=m(void 0,oe.line,y,f);me=a.minExtend(oe,{line:{width:je}}),he=[a.minExtend(le,{trace:me})]}var Fe=Le.select(".legendlines").selectAll("path").data($||te?[he]:[]);Fe.enter().append("path").classed("js-line",!0),Fe.exit().remove(),Fe.attr("d",be+(te?"l"+w+",0.0001":"h"+w)).call($?A.lineGroupStyle:Pe)}function I(Q){var j=h(Q),Z=j.anyFill,$=j.anyLine,te=j.showLine,se=j.showMarker,ee=Q[0],q=ee.trace,le=!se&&!$&&!Z&&t.hasText(q),oe,he;function me(We,je,Fe,Ze){var ut=a.nestedProperty(q,We).get(),at=a.isArrayOrTypedArray(ut)&&je?je(ut):ut;if(M&&at&&Ze!==void 0&&(at=Ze),Fe){if(at<Fe[0])return Fe[0];if(at>Fe[1])return Fe[1]}return at}function Ce(We){return ee._distinct&&ee.index&&We[ee.index]?We[ee.index]:We[0]}if(se||le||te){var Ae={},Ue={};if(se){Ae.mc=me("marker.color",Ce),Ae.mx=me("marker.symbol",Ce),Ae.mo=me("marker.opacity",a.mean,[.2,1]),Ae.mlc=me("marker.line.color",Ce),Ae.mlw=me("marker.line.width",a.mean,[0,5],u),Ue.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Ve=me("marker.size",a.mean,[2,16],i);Ae.ms=Ve,Ue.marker.size=Ve}te&&(Ue.line={width:me("line.width",Ce,[0,10],f)}),le&&(Ae.tx="Aa",Ae.tp=me("textposition",Ce),Ae.ts=10,Ae.tc=me("textfont.color",Ce),Ae.tf=me("textfont.family",Ce)),oe=[a.minExtend(ee,Ae)],he=a.minExtend(q,Ue),he.selectedpoints=null,he.texttemplate=null}var Pe=g.select(this).select("g.legendpoints"),be=Pe.selectAll("path.scatterpts").data(se?oe:[]);be.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",L),be.exit().remove(),be.call(A.pointStyle,he,S),se&&(oe[0].mrc=3);var Le=Pe.selectAll("g.pointtext").data(le?oe:[]);Le.enter().append("g").classed("pointtext",!0).append("text").attr("transform",L),Le.exit().remove(),Le.selectAll("text").call(A.textPointStyle,he,S)}function U(Q){var j=Q[0].trace,Z=j.type==="waterfall";if(Q[0]._distinct&&Z){var $=Q[0].trace[Q[0].dir].marker;return Q[0].mc=$.color,Q[0].mlw=$.line.width,Q[0].mlc=$.line.color,B(Q,this,"waterfall")}var te=[];j.visible&&Z&&(te=Q[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var se=g.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(te);se.enter().append("path").classed("legendwaterfall",!0).attr("transform",L).style("stroke-miterlimit",1),se.exit().remove(),se.each(function(ee){var q=g.select(this),le=j[ee[0]].marker,oe=m(void 0,le.line,c,u);q.attr("d",ee[1]).style("stroke-width",oe+"px").call(v.fill,le.color),oe&&q.call(v.stroke,le.line.color)})}function z(Q){B(Q,this)}function N(Q){B(Q,this,"funnel")}function B(Q,j,Z){var $=Q[0].trace,te=$.marker||{},se=te.line||{},ee=Z?$.visible&&$.type===Z:_.traceIs($,"bar"),q=g.select(j).select("g.legendpoints").selectAll("path.legend"+Z).data(ee?[Q]:[]);q.enter().append("path").classed("legend"+Z,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",L),q.exit().remove(),q.each(function(le){var oe=g.select(this),he=le[0],me=m(he.mlw,te.line,c,u);oe.style("stroke-width",me+"px");var Ce=he.mcc;if(!P._inHover&&"mc"in he){var Ae=p(te),Ue=Ae.mid;Ue===void 0&&(Ue=(Ae.max+Ae.min)/2),Ce=A.tryColorscale(te,"")(Ue)}var Ve=Ce||he.mc||te.color,Pe=te.pattern,be=Pe&&A.getPatternAttr(Pe.shape,0,"");if(be){var Le=A.getPatternAttr(Pe.bgcolor,0,null),We=A.getPatternAttr(Pe.fgcolor,0,null),je=Pe.fgopacity,Fe=l(Pe.size,8,10),Ze=l(Pe.solidity,.5,1),ut="legend-"+$.uid;oe.call(A.pattern,"legend",S,ut,be,Fe,Ze,Ce,Pe.fillmode,Le,We,je)}else oe.call(v.fill,Ve);me&&v.stroke(oe,he.mlc||se.color)})}function O(Q){var j=Q[0].trace,Z=g.select(this).select("g.legendpoints").selectAll("path.legendbox").data(j.visible&&_.traceIs(j,"box-violin")?[Q]:[]);Z.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",L),Z.exit().remove(),Z.each(function(){var $=g.select(this);if((j.boxpoints==="all"||j.points==="all")&&v.opacity(j.fillcolor)===0&&v.opacity((j.line||{}).color)===0){var te=a.minExtend(j,{marker:{size:M?i:a.constrain(j.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});Z.call(A.pointStyle,te,S)}else{var se=m(void 0,j.line,c,u);$.style("stroke-width",se+"px").call(v.fill,j.fillcolor),se&&v.stroke($,j.line.color)}})}function H(Q){var j=Q[0].trace,Z=g.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(j.visible&&j.type==="candlestick"?[Q,Q]:[]);Z.enter().append("path").classed("legendcandle",!0).attr("d",function($,te){return te?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",L).style("stroke-miterlimit",1),Z.exit().remove(),Z.each(function($,te){var se=g.select(this),ee=j[te?"increasing":"decreasing"],q=m(void 0,ee.line,c,u);se.style("stroke-width",q+"px").call(v.fill,ee.fillcolor),q&&v.stroke(se,ee.line.color)})}function Y(Q){var j=Q[0].trace,Z=g.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(j.visible&&j.type==="ohlc"?[Q,Q]:[]);Z.enter().append("path").classed("legendohlc",!0).attr("d",function($,te){return te?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",L).style("stroke-miterlimit",1),Z.exit().remove(),Z.each(function($,te){var se=g.select(this),ee=j[te?"increasing":"decreasing"],q=m(void 0,ee.line,c,u);se.style("fill","none").call(A.dashLine,ee.line.dash,q),q&&v.stroke(se,ee.line.color)})}function J(Q){ie(Q,this,"pie")}function re(Q){ie(Q,this,"funnelarea")}function ie(Q,j,Z){var $=Q[0],te=$.trace,se=Z?te.visible&&te.type===Z:_.traceIs(te,Z),ee=g.select(j).select("g.legendpoints").selectAll("path.legend"+Z).data(se?[Q]:[]);if(ee.enter().append("path").classed("legend"+Z,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",L),ee.exit().remove(),ee.size()){var q=te.marker||{},le=m(s(q.line.width,$.pts),q.line,c,u),oe="pieLike",he=a.minExtend(te,{marker:{line:{width:le}}},oe),me=a.minExtend($,{trace:he},oe);r(ee,me,he,S)}}function ce(Q){var j=Q[0].trace,Z,$=[];if(j.visible)switch(j.type){case"histogram2d":case"heatmap":$=[["M-15,-2V4H15V-2Z"]],Z=!0;break;case"choropleth":case"choroplethmapbox":$=[["M-6,-6V6H6V-6Z"]],Z=!0;break;case"densitymapbox":$=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],Z="radial";break;case"cone":$=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],Z=!1;break;case"streamtube":$=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],Z=!1;break;case"surface":$=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],Z=!0;break;case"mesh3d":$=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],Z=!1;break;case"volume":$=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],Z=!0;break;case"isosurface":$=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],Z=!1;break}var te=g.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data($);te.enter().append("path").classed("legend3dandfriends",!0).attr("transform",L).style("stroke-miterlimit",1),te.exit().remove(),te.each(function(se,ee){var q=g.select(this),le=p(j),oe=le.colorscale,he=le.reversescale,me=function(Ve){if(Ve.size()){var Pe="legendfill-"+j.uid;A.gradient(Ve,S,Pe,T(he,Z==="radial"),oe,"fill")}},Ce;if(oe){if(!Z){var Ue=oe.length;Ce=ee===0?oe[he?Ue-1:0][1]:ee===1?oe[he?0:Ue-1][1]:oe[Math.floor((Ue-1)/2)][1]}}else{var Ae=j.vertexcolor||j.facecolor||j.color;Ce=a.isArrayOrTypedArray(Ae)?Ae[ee]||Ae[0]:Ae}q.attr("d",se[0]),Ce?q.call(v.fill,Ce):q.call(me)})}};function T(d,E){var S=E?"radial":"horizontal";return S+(d?"":"reversed")}function h(d){var E=d[0].trace,S=E.contours,P=t.hasLines(E),x=t.hasMarkers(E),M=E.visible&&E.fill&&E.fill!=="none",w=!1,o=!1;if(S){var L=S.coloring;L==="lines"?w=!0:P=L==="none"||L==="heatmap"||S.showlines,S.type==="constraint"?M=S._operation!=="=":(L==="fill"||L==="heatmap")&&(o=!0)}return{showMarker:x,showLine:P,showFill:M,showGradientLine:w,showGradientFill:o,anyLine:P||w,anyFill:M||o}}function l(d,E,S){return d&&a.isArrayOrTypedArray(d)?E:d>S?S:d}},42068:function(G,V,e){e(93348),G.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(G,V,e){var g=e(73972),_=e(74875),a=e(41675),C=e(24255),A=e(34031).eraseActiveShape,v=e(71828),p=v._,t=G.exports={};t.toImage={name:"toImage",title:function(d){var E=d._context.toImageButtonOptions||{},S=E.format||"png";return S==="png"?p(d,"Download plot as a png"):p(d,"Download plot")},icon:C.camera,click:function(d){var E=d._context.toImageButtonOptions,S={format:E.format||"png"};v.notifier(p(d,"Taking snapshot - this may take a few seconds"),"long"),S.format!=="svg"&&v.isIE()&&(v.notifier(p(d,"IE only supports svg.  Changing format to svg."),"long"),S.format="svg"),["filename","width","height","scale"].forEach(function(P){P in E&&(S[P]=E[P])}),g.call("downloadImage",d,S).then(function(P){v.notifier(p(d,"Snapshot succeeded")+" - "+P,"long")}).catch(function(){v.notifier(p(d,"Sorry, there was a problem downloading your snapshot!"),"long")})}},t.sendDataToCloud={name:"sendDataToCloud",title:function(d){return p(d,"Edit in Chart Studio")},icon:C.disk,click:function(d){_.sendDataToCloud(d)}},t.editInChartStudio={name:"editInChartStudio",title:function(d){return p(d,"Edit in Chart Studio")},icon:C.pencil,click:function(d){_.sendDataToCloud(d)}},t.zoom2d={name:"zoom2d",_cat:"zoom",title:function(d){return p(d,"Zoom")},attr:"dragmode",val:"zoom",icon:C.zoombox,click:r},t.pan2d={name:"pan2d",_cat:"pan",title:function(d){return p(d,"Pan")},attr:"dragmode",val:"pan",icon:C.pan,click:r},t.select2d={name:"select2d",_cat:"select",title:function(d){return p(d,"Box Select")},attr:"dragmode",val:"select",icon:C.selectbox,click:r},t.lasso2d={name:"lasso2d",_cat:"lasso",title:function(d){return p(d,"Lasso Select")},attr:"dragmode",val:"lasso",icon:C.lasso,click:r},t.drawclosedpath={name:"drawclosedpath",title:function(d){return p(d,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:C.drawclosedpath,click:r},t.drawopenpath={name:"drawopenpath",title:function(d){return p(d,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:C.drawopenpath,click:r},t.drawline={name:"drawline",title:function(d){return p(d,"Draw line")},attr:"dragmode",val:"drawline",icon:C.drawline,click:r},t.drawrect={name:"drawrect",title:function(d){return p(d,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:C.drawrect,click:r},t.drawcircle={name:"drawcircle",title:function(d){return p(d,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:C.drawcircle,click:r},t.eraseshape={name:"eraseshape",title:function(d){return p(d,"Erase active shape")},icon:C.eraseshape,click:A},t.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:r},t.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:r},t.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(d){return p(d,"Autoscale")},attr:"zoom",val:"auto",icon:C.autoscale,click:r},t.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(d){return p(d,"Reset axes")},attr:"zoom",val:"reset",icon:C.home,click:r},t.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(d){return p(d,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:C.tooltip_basic,gravity:"ne",click:r},t.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(d){return p(d,"Compare data on hover")},attr:"hovermode",val:function(d){return d._fullLayout._isHoriz?"y":"x"},icon:C.tooltip_compare,gravity:"ne",click:r};function r(d,E){var S=E.currentTarget,P=S.getAttribute("data-attr"),x=S.getAttribute("data-val")||!0,M=d._fullLayout,w={},o=a.list(d,null,!0),L=M._cartesianSpikesEnabled,m,F;if(P==="zoom"){var I=x==="in"?.5:2,U=(1+I)/2,z=(1-I)/2,N;for(F=0;F<o.length;F++)if(m=o[F],!m.fixedrange)if(N=m._name,x==="auto")w[N+".autorange"]=!0;else if(x==="reset")m._rangeInitial0===void 0&&m._rangeInitial1===void 0?w[N+".autorange"]=!0:m._rangeInitial0===void 0?(w[N+".autorange"]=m._autorangeInitial,w[N+".range"]=[null,m._rangeInitial1]):m._rangeInitial1===void 0?(w[N+".range"]=[m._rangeInitial0,null],w[N+".autorange"]=m._autorangeInitial):w[N+".range"]=[m._rangeInitial0,m._rangeInitial1],m._showSpikeInitial!==void 0&&(w[N+".showspikes"]=m._showSpikeInitial,L==="on"&&!m._showSpikeInitial&&(L="off"));else{var B=[m.r2l(m.range[0]),m.r2l(m.range[1])],O=[U*B[0]+z*B[1],U*B[1]+z*B[0]];w[N+".range[0]"]=m.l2r(O[0]),w[N+".range[1]"]=m.l2r(O[1])}}else P==="hovermode"&&(x==="x"||x==="y")&&(x=M._isHoriz?"y":"x",S.setAttribute("data-val",x)),w[P]=x;M._cartesianSpikesEnabled=L,g.call("_guiRelayout",d,w)}t.zoom3d={name:"zoom3d",_cat:"zoom",title:function(d){return p(d,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:C.zoombox,click:s},t.pan3d={name:"pan3d",_cat:"pan",title:function(d){return p(d,"Pan")},attr:"scene.dragmode",val:"pan",icon:C.pan,click:s},t.orbitRotation={name:"orbitRotation",title:function(d){return p(d,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:C["3d_rotate"],click:s},t.tableRotation={name:"tableRotation",title:function(d){return p(d,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:C["z-axis"],click:s};function s(d,E){for(var S=E.currentTarget,P=S.getAttribute("data-attr"),x=S.getAttribute("data-val")||!0,M=d._fullLayout._subplots.gl3d||[],w={},o=P.split("."),L=0;L<M.length;L++)w[M[L]+"."+o[1]]=x;var m=x==="pan"?x:"zoom";w.dragmode=m,g.call("_guiRelayout",d,w)}t.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(d){return p(d,"Reset camera to default")},attr:"resetDefault",icon:C.home,click:n},t.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(d){return p(d,"Reset camera to last save")},attr:"resetLastSave",icon:C.movie,click:n};function n(d,E){for(var S=E.currentTarget,P=S.getAttribute("data-attr"),x=P==="resetLastSave",M=P==="resetDefault",w=d._fullLayout,o=w._subplots.gl3d||[],L={},m=0;m<o.length;m++){var F=o[m],I=F+".camera",U=F+".aspectratio",z=F+".aspectmode",N=w[F]._scene,B;x?(L[I+".up"]=N.viewInitial.up,L[I+".eye"]=N.viewInitial.eye,L[I+".center"]=N.viewInitial.center,B=!0):M&&(L[I+".up"]=null,L[I+".eye"]=null,L[I+".center"]=null,B=!0),B&&(L[U+".x"]=N.viewInitial.aspectratio.x,L[U+".y"]=N.viewInitial.aspectratio.y,L[U+".z"]=N.viewInitial.aspectratio.z,L[z]=N.viewInitial.aspectmode)}g.call("_guiRelayout",d,L)}t.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:f};function i(d,E){var S=E.currentTarget,P=S._previousVal,x=d._fullLayout,M=x._subplots.gl3d||[],w=["xaxis","yaxis","zaxis"],o={},L={};if(P)L=P,S._previousVal=null;else{for(var m=0;m<M.length;m++){var F=M[m],I=x[F],U=F+".hovermode";o[U]=I.hovermode,L[U]=!1;for(var z=0;z<3;z++){var N=w[z],B=F+"."+N+".showspikes";L[B]=!1,o[B]=I[N].showspikes}}S._previousVal=o}return L}function f(d,E){var S=i(d,E);g.call("_guiRelayout",d,S)}t.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:u},t.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:u},t.resetGeo={name:"resetGeo",_cat:"reset",title:function(d){return p(d,"Reset")},attr:"reset",val:null,icon:C.autoscale,click:u},t.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:c};function u(d,E){for(var S=E.currentTarget,P=S.getAttribute("data-attr"),x=S.getAttribute("data-val")||!0,M=d._fullLayout,w=M._subplots.geo||[],o=0;o<w.length;o++){var L=w[o],m=M[L];if(P==="zoom"){var F=m.projection.scale,I=x==="in"?2*F:.5*F;g.call("_guiRelayout",d,L+".projection.scale",I)}}P==="reset"&&l(d,"geo")}t.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:c},t.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:C.tooltip_basic,gravity:"ne",click:c};function y(d){var E=d._fullLayout;return E.hovermode?!1:E._has("cartesian")?E._isHoriz?"y":"x":"closest"}function c(d){var E=y(d);g.call("_guiRelayout",d,"hovermode",E)}t.resetViewSankey={name:"resetSankeyGroup",title:function(d){return p(d,"Reset view")},icon:C.home,click:function(d){for(var E={"node.groups":[],"node.x":[],"node.y":[]},S=0;S<d._fullData.length;S++){var P=d._fullData[S]._viewInitial;E["node.groups"].push(P.node.groups.slice()),E["node.x"].push(P.node.x.slice()),E["node.y"].push(P.node.y.slice())}g.call("restyle",d,E)}},t.toggleHover={name:"toggleHover",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:function(d,E){var S=i(d,E);S.hovermode=y(d),g.call("_guiRelayout",d,S)}},t.resetViews={name:"resetViews",title:function(d){return p(d,"Reset views")},icon:C.home,click:function(d,E){var S=E.currentTarget;S.setAttribute("data-attr","zoom"),S.setAttribute("data-val","reset"),r(d,E),S.setAttribute("data-attr","resetLastSave"),n(d,E),l(d,"geo"),l(d,"mapbox")}},t.toggleSpikelines={name:"toggleSpikelines",title:function(d){return p(d,"Toggle Spike Lines")},icon:C.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(d){var E=d._fullLayout,S=E._cartesianSpikesEnabled;E._cartesianSpikesEnabled=S==="on"?"off":"on",g.call("_guiRelayout",d,T(d))}};function T(d){for(var E=d._fullLayout,S=E._cartesianSpikesEnabled==="on",P=a.list(d,null,!0),x={},M=0;M<P.length;M++){var w=P[M];x[w._name+".showspikes"]=S?!0:w._showSpikeInitial}return x}t.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(d){return p(d,"Reset view")},attr:"reset",icon:C.home,click:function(d){l(d,"mapbox")}},t.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:h},t.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:h};function h(d,E){for(var S=E.currentTarget,P=S.getAttribute("data-val"),x=d._fullLayout,M=x._subplots.mapbox||[],w=1.05,o={},L=0;L<M.length;L++){var m=M[L],F=x[m].zoom,I=P==="in"?w*F:F/w;o[m+".zoom"]=I}g.call("_guiRelayout",d,o)}function l(d,E){for(var S=d._fullLayout,P=S._subplots[E]||[],x={},M=0;M<P.length;M++)for(var w=P[M],o=S[w]._subplot,L=o.viewInitial,m=Object.keys(L),F=0;F<m.length;F++){var I=m[F];x[w+"."+I]=L[I]}g.call("_guiRelayout",d,x)}},93348:function(G,V,e){var g=e(26023),_=Object.keys(g),a=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],C=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(a),A=[],v=function(p){if(C.indexOf(p._cat||p.name)===-1){var t=p.name,r=(p._cat||p.name).toLowerCase();A.indexOf(t)===-1&&A.push(t),A.indexOf(r)===-1&&A.push(r)}};_.forEach(function(p){v(g[p])}),A.sort(),G.exports={DRAW_MODES:a,backButtons:C,foreButtons:A}},35750:function(G,V,e){var g=e(71828),_=e(7901),a=e(44467),C=e(42068);G.exports=function(v,p){var t=v.modebar||{},r=a.newContainer(p,"modebar");function s(i,f){return g.coerce(t,r,C,i,f)}s("orientation"),s("bgcolor",_.addOpacity(p.paper_bgcolor,.5));var n=_.contrast(_.rgb(p.modebar.bgcolor));s("color",_.addOpacity(n,.3)),s("activecolor",_.addOpacity(n,.7)),s("uirevision",p.uirevision),s("add"),s("remove")}},64168:function(G,V,e){G.exports={moduleType:"component",name:"modebar",layoutAttributes:e(42068),supplyLayoutDefaults:e(35750),manage:e(14192)}},14192:function(G,V,e){var g=e(41675),_=e(34098),a=e(73972),C=e(23469).isUnifiedHover,A=e(37676),v=e(26023),p=e(93348).DRAW_MODES,t=e(71828).extendDeep;G.exports=function(c){var T=c._fullLayout,h=c._context,l=T._modeBar;if(!h.displayModeBar&&!h.watermark){l&&(l.destroy(),delete T._modeBar);return}if(!Array.isArray(h.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(h.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d=h.modeBarButtons,E;Array.isArray(d)&&d.length?E=u(d):!h.displayModeBar&&h.watermark?E=[]:E=r(c),l?l.update(c,E):T._modeBar=A(c,E)};function r(y){var c=y._fullLayout,T=y._fullData,h=y._context;function l(ee,q){if(typeof q=="string"){if(q.toLowerCase()===ee.toLowerCase())return!0}else{var le=q.name,oe=q._cat||q.name;if(le===ee||oe===ee.toLowerCase())return!0}return!1}var d=c.modebar.add;typeof d=="string"&&(d=[d]);var E=c.modebar.remove;typeof E=="string"&&(E=[E]);var S=h.modeBarButtonsToAdd.concat(d.filter(function(ee){for(var q=0;q<h.modeBarButtonsToRemove.length;q++)if(l(ee,h.modeBarButtonsToRemove[q]))return!1;return!0})),P=h.modeBarButtonsToRemove.concat(E.filter(function(ee){for(var q=0;q<h.modeBarButtonsToAdd.length;q++)if(l(ee,h.modeBarButtonsToAdd[q]))return!1;return!0})),x=c._has("cartesian"),M=c._has("gl3d"),w=c._has("geo"),o=c._has("pie"),L=c._has("funnelarea"),m=c._has("gl2d"),F=c._has("ternary"),I=c._has("mapbox"),U=c._has("polar"),z=c._has("smith"),N=c._has("sankey"),B=s(c),O=C(c.hovermode),H=[];function Y(ee){if(ee.length){for(var q=[],le=0;le<ee.length;le++){for(var oe=ee[le],he=v[oe],me=he.name.toLowerCase(),Ce=(he._cat||he.name).toLowerCase(),Ae=!1,Ue=0;Ue<P.length;Ue++){var Ve=P[Ue].toLowerCase();if(Ve===me||Ve===Ce){Ae=!0;break}}Ae||q.push(v[oe])}H.push(q)}}var J=["toImage"];h.showEditInChartStudio?J.push("editInChartStudio"):h.showSendToCloud&&J.push("sendDataToCloud"),Y(J);var re=[],ie=[],ce=[],Q=[];(x||m||o||L||F)+w+M+I+U+z>1?(ie=["toggleHover"],ce=["resetViews"]):w?(re=["zoomInGeo","zoomOutGeo"],ie=["hoverClosestGeo"],ce=["resetGeo"]):M?(ie=["hoverClosest3d"],ce=["resetCameraDefault3d","resetCameraLastSave3d"]):I?(re=["zoomInMapbox","zoomOutMapbox"],ie=["toggleHover"],ce=["resetViewMapbox"]):m?ie=["hoverClosestGl2d"]:o?ie=["hoverClosestPie"]:N?(ie=["hoverClosestCartesian","hoverCompareCartesian"],ce=["resetViewSankey"]):ie=["toggleHover"],x&&(ie=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(i(T)||O)&&(ie=[]),(x||m)&&!B&&(re=["zoomIn2d","zoomOut2d","autoScale2d"],ce[0]!=="resetViews"&&(ce=["resetScale2d"])),M?Q=["zoom3d","pan3d","orbitRotation","tableRotation"]:(x||m)&&!B||F?Q=["zoom2d","pan2d"]:I||w?Q=["pan2d"]:U&&(Q=["zoom2d"]),n(T)&&Q.push("select2d","lasso2d");var j=[],Z=function(ee){j.indexOf(ee)===-1&&ie.indexOf(ee)!==-1&&j.push(ee)};if(Array.isArray(S)){for(var $=[],te=0;te<S.length;te++){var se=S[te];typeof se=="string"?(se=se.toLowerCase(),p.indexOf(se)!==-1?(c._has("mapbox")||c._has("cartesian"))&&Q.push(se):se==="togglespikelines"?Z("toggleSpikelines"):se==="togglehover"?Z("toggleHover"):se==="hovercompare"?Z("hoverCompareCartesian"):se==="hoverclosest"?(Z("hoverClosestCartesian"),Z("hoverClosestGeo"),Z("hoverClosest3d"),Z("hoverClosestGl2d"),Z("hoverClosestPie")):se==="v1hovermode"&&(Z("toggleHover"),Z("hoverClosestCartesian"),Z("hoverCompareCartesian"),Z("hoverClosestGeo"),Z("hoverClosest3d"),Z("hoverClosestGl2d"),Z("hoverClosestPie"))):$.push(se)}S=$}return Y(Q),Y(re.concat(ce)),Y(j),f(H,S)}function s(y){for(var c=g.list({_fullLayout:y},null,!0),T=0;T<c.length;T++)if(!c[T].fixedrange)return!1;return!0}function n(y){for(var c=!1,T=0;T<y.length&&!c;T++){var h=y[T];!h._module||!h._module.selectPoints||(a.traceIs(h,"scatter-like")?(_.hasMarkers(h)||_.hasText(h))&&(c=!0):a.traceIs(h,"box-violin")?(h.boxpoints==="all"||h.points==="all")&&(c=!0):c=!0)}return c}function i(y){for(var c=0;c<y.length;c++)if(!a.traceIs(y[c],"noHover"))return!1;return!0}function f(y,c){if(c.length)if(Array.isArray(c[0]))for(var T=0;T<c.length;T++)y.push(c[T]);else y.push(c);return y}function u(y){for(var c=t([],y),T=0;T<c.length;T++)for(var h=c[T],l=0;l<h.length;l++){var d=h[l];if(typeof d=="string")if(v[d]!==void 0)c[T][l]=v[d];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return c}},37676:function(G,V,e){var g=e(39898),_=e(92770),a=e(71828),C=e(24255),A=e(11506).version,v=new DOMParser;function p(n){this.container=n.container,this.element=document.createElement("div"),this.update(n.graphInfo,n.buttons),this.container.appendChild(this.element)}var t=p.prototype;t.update=function(n,i){this.graphInfo=n;var f=this.graphInfo._context,u=this.graphInfo._fullLayout,y="modebar-"+u._uid;this.element.setAttribute("id",y),this._uid=y,this.element.className="modebar",f.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),u.modebar.orientation==="v"&&(this.element.className+=" vertical",i=i.reverse());var c=u.modebar,T=f.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";a.deleteRelatedStyleRule(y),a.addRelatedStyleRule(y,T+"#"+y+" .modebar-group","background-color: "+c.bgcolor),a.addRelatedStyleRule(y,"#"+y+" .modebar-btn .icon path","fill: "+c.color),a.addRelatedStyleRule(y,"#"+y+" .modebar-btn:hover .icon path","fill: "+c.activecolor),a.addRelatedStyleRule(y,"#"+y+" .modebar-btn.active .icon path","fill: "+c.activecolor);var h=!this.hasButtons(i),l=this.hasLogo!==f.displaylogo,d=this.locale!==f.locale;if(this.locale=f.locale,(h||l||d)&&(this.removeAllButtons(),this.updateButtons(i),f.watermark||f.displaylogo)){var E=this.getLogo();f.watermark&&(E.className=E.className+" watermark"),u.modebar.orientation==="v"?this.element.insertBefore(E,this.element.childNodes[0]):this.element.appendChild(E),this.hasLogo=!0}this.updateActiveButton()},t.updateButtons=function(n){var i=this;this.buttons=n,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(f){var u=i.createGroup();f.forEach(function(y){var c=y.name;if(!c)throw new Error("must provide button 'name' in button config");if(i.buttonsNames.indexOf(c)!==-1)throw new Error("button name '"+c+"' is taken");i.buttonsNames.push(c);var T=i.createButton(y);i.buttonElements.push(T),u.appendChild(T)}),i.element.appendChild(u)})},t.createGroup=function(){var n=document.createElement("div");return n.className="modebar-group",n},t.createButton=function(n){var i=this,f=document.createElement("a");f.setAttribute("rel","tooltip"),f.className="modebar-btn";var u=n.title;u===void 0?u=n.name:typeof u=="function"&&(u=u(this.graphInfo)),(u||u===0)&&f.setAttribute("data-title",u),n.attr!==void 0&&f.setAttribute("data-attr",n.attr);var y=n.val;y!==void 0&&(typeof y=="function"&&(y=y(this.graphInfo)),f.setAttribute("data-val",y));var c=n.click;if(typeof c!="function")throw new Error("must provide button 'click' function in button config");f.addEventListener("click",function(h){n.click(i.graphInfo,h),i.updateActiveButton(h.currentTarget)}),f.setAttribute("data-toggle",n.toggle||!1),n.toggle&&g.select(f).classed("active",!0);var T=n.icon;return typeof T=="function"?f.appendChild(T()):f.appendChild(this.createIcon(T||C.question)),f.setAttribute("data-gravity",n.gravity||"n"),f},t.createIcon=function(n){var i=_(n.height)?Number(n.height):n.ascent-n.descent,f="http://www.w3.org/2000/svg",u;if(n.path){u=document.createElementNS(f,"svg"),u.setAttribute("viewBox",[0,0,n.width,i].join(" ")),u.setAttribute("class","icon");var y=document.createElementNS(f,"path");y.setAttribute("d",n.path),n.transform?y.setAttribute("transform",n.transform):n.ascent!==void 0&&y.setAttribute("transform","matrix(1 0 0 -1 0 "+n.ascent+")"),u.appendChild(y)}if(n.svg){var c=v.parseFromString(n.svg,"application/xml");u=c.childNodes[0]}return u.setAttribute("height","1em"),u.setAttribute("width","1em"),u},t.updateActiveButton=function(n){var i=this.graphInfo._fullLayout,f=n!==void 0?n.getAttribute("data-attr"):null;this.buttonElements.forEach(function(u){var y=u.getAttribute("data-val")||!0,c=u.getAttribute("data-attr"),T=u.getAttribute("data-toggle")==="true",h=g.select(u);if(T)c===f&&h.classed("active",!h.classed("active"));else{var l=c===null?c:a.nestedProperty(i,c).get();h.classed("active",l===y)}})},t.hasButtons=function(n){var i=this.buttons;if(!i||n.length!==i.length)return!1;for(var f=0;f<n.length;++f){if(n[f].length!==i[f].length)return!1;for(var u=0;u<n[f].length;u++)if(n[f][u].name!==i[f][u].name)return!1}return!0};function r(n){return n+" (v"+A+")"}t.getLogo=function(){var n=this.createGroup(),i=document.createElement("a");return i.href="https://plotly.com/",i.target="_blank",i.setAttribute("data-title",r(a._(this.graphInfo,"Produced with Plotly.js"))),i.className="modebar-btn plotlyjsicon modebar-btn--logo",i.appendChild(this.createIcon(C.newplotlylogo)),n.appendChild(i),n},t.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},t.destroy=function(){a.removeElement(this.container.querySelector(".modebar")),a.deleteRelatedStyleRule(this._uid)};function s(n,i){var f=n._fullLayout,u=new p({graphInfo:n,container:f._modebardiv.node(),buttons:i});return f._privateplot&&g.select(u.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),u}G.exports=s},37113:function(G,V,e){var g=e(41940),_=e(22399),a=e(44467).templatedArray,C=a("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});G.exports={visible:{valType:"boolean",editType:"plot"},buttons:C,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:g({editType:"plot"}),bgcolor:{valType:"color",dflt:_.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:_.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(G){G.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(G,V,e){var g=e(71828),_=e(7901),a=e(44467),C=e(85501),A=e(37113),v=e(89573);G.exports=function(s,n,i,f,u){var y=s.rangeselector||{},c=a.newContainer(n,"rangeselector");function T(S,P){return g.coerce(y,c,A,S,P)}var h=C(y,c,{name:"buttons",handleItemDefaults:p,calendar:u}),l=T("visible",h.length>0);if(l){var d=t(n,i,f);T("x",d[0]),T("y",d[1]),g.noneOrAll(s,n,["x","y"]),T("xanchor"),T("yanchor"),g.coerceFont(T,"font",i.font);var E=T("bgcolor");T("activecolor",_.contrast(E,v.lightAmount,v.darkAmount)),T("bordercolor"),T("borderwidth")}};function p(r,s,n,i){var f=i.calendar;function u(T,h){return g.coerce(r,s,A.buttons,T,h)}var y=u("visible");if(y){var c=u("step");c!=="all"&&(f&&f!=="gregorian"&&(c==="month"||c==="year")?s.stepmode="backward":u("stepmode"),u("count")),u("label")}}function t(r,s,n){for(var i=n.filter(function(c){return s[c].anchor===r._id}),f=0,u=0;u<i.length;u++){var y=s[i[u]].domain;y&&(f=Math.max(y[1],f))}return[r.domain[0],f+v.yPad]}},21598:function(G,V,e){var g=e(39898),_=e(73972),a=e(74875),C=e(7901),A=e(91424),v=e(71828),p=v.strTranslate,t=e(63893),r=e(41675),s=e(18783),n=s.LINE_SPACING,i=s.FROM_TL,f=s.FROM_BR,u=e(89573),y=e(70565);G.exports=function(M){var w=M._fullLayout,o=w._infolayer.selectAll(".rangeselector").data(c(M),T);o.enter().append("g").classed("rangeselector",!0),o.exit().remove(),o.style({cursor:"pointer","pointer-events":"all"}),o.each(function(L){var m=g.select(this),F=L,I=F.rangeselector,U=m.selectAll("g.button").data(v.filterVisible(I.buttons));U.enter().append("g").classed("button",!0),U.exit().remove(),U.each(function(z){var N=g.select(this),B=y(F,z);z._isActive=h(F,z,B),N.call(l,I,z),N.call(E,I,z,M),N.on("click",function(){M._dragged||_.call("_guiRelayout",M,B)}),N.on("mouseover",function(){z._isHovered=!0,N.call(l,I,z)}),N.on("mouseout",function(){z._isHovered=!1,N.call(l,I,z)})}),P(M,U,I,F._name,m)})};function c(x){for(var M=r.list(x,"x",!0),w=[],o=0;o<M.length;o++){var L=M[o];L.rangeselector&&L.rangeselector.visible&&w.push(L)}return w}function T(x){return x._id}function h(x,M,w){if(M.step==="all")return x.autorange===!0;var o=Object.keys(w);return x.range[0]===w[o[0]]&&x.range[1]===w[o[1]]}function l(x,M,w){var o=v.ensureSingle(x,"rect","selector-rect",function(L){L.attr("shape-rendering","crispEdges")});o.attr({rx:u.rx,ry:u.ry}),o.call(C.stroke,M.bordercolor).call(C.fill,d(M,w)).style("stroke-width",M.borderwidth+"px")}function d(x,M){return M._isActive||M._isHovered?x.activecolor:x.bgcolor}function E(x,M,w,o){function L(F){t.convertToTspans(F,o)}var m=v.ensureSingle(x,"text","selector-text",function(F){F.attr("text-anchor","middle")});m.call(A.font,M.font).text(S(w,o._fullLayout._meta)).call(L)}function S(x,M){return x.label?M?v.templateString(x.label,M):x.label:x.step==="all"?"all":x.count+x.step.charAt(0)}function P(x,M,w,o,L){var m=0,F=0,I=w.borderwidth;M.each(function(){var H=g.select(this),Y=H.select(".selector-text"),J=w.font.size*n,re=Math.max(J*t.lineCount(Y),16)+3;F=Math.max(F,re)}),M.each(function(){var H=g.select(this),Y=H.select(".selector-rect"),J=H.select(".selector-text"),re=J.node()&&A.bBox(J.node()).width,ie=w.font.size*n,ce=t.lineCount(J),Q=Math.max(re+10,u.minButtonWidth);H.attr("transform",p(I+m,I)),Y.attr({x:0,y:0,width:Q,height:F}),t.positionText(J,Q/2,F/2-(ce-1)*ie/2+3),m+=Q+5});var U=x._fullLayout._size,z=U.l+U.w*w.x,N=U.t+U.h*(1-w.y),B="left";v.isRightAnchor(w)&&(z-=m,B="right"),v.isCenterAnchor(w)&&(z-=m/2,B="center");var O="top";v.isBottomAnchor(w)&&(N-=F,O="bottom"),v.isMiddleAnchor(w)&&(N-=F/2,O="middle"),m=Math.ceil(m),F=Math.ceil(F),z=Math.round(z),N=Math.round(N),a.autoMargin(x,o+"-range-selector",{x:w.x,y:w.y,l:m*i[B],r:m*f[B],b:F*f[O],t:F*i[O]}),L.attr("transform",p(z,N))}},70565:function(G,V,e){var g=e(81041),_=e(71828).titleCase;G.exports=function(A,v){var p=A._name,t={};if(v.step==="all")t[p+".autorange"]=!0;else{var r=a(A,v);t[p+".range[0]"]=r[0],t[p+".range[1]"]=r[1]}return t};function a(C,A){var v=C.range,p=new Date(C.r2l(v[1])),t=A.step,r=g["utc"+_(t)],s=A.count,n;switch(A.stepmode){case"backward":n=C.l2r(+r.offset(p,-s));break;case"todate":var i=r.offset(p,-s);n=C.l2r(+r.ceil(i));break}var f=v[1];return[n,f]}},97218:function(G,V,e){G.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(37113)}}},layoutAttributes:e(37113),handleDefaults:e(28674),draw:e(21598)}},75148:function(G,V,e){var g=e(22399);G.exports={bgcolor:{valType:"color",dflt:g.background,editType:"plot"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(G,V,e){var g=e(41675).list,_=e(71739).getAutoRange,a=e(73251);G.exports=function(A){for(var v=g(A,"x",!0),p=0;p<v.length;p++){var t=v[p],r=t[a.name];r&&r.visible&&r.autorange&&(r._input.autorange=!0,r._input.range=r.range=_(A,t))}}},73251:function(G){G.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(G,V,e){var g=e(71828),_=e(44467),a=e(41675),C=e(75148),A=e(47850);G.exports=function(p,t,r){var s=p[r],n=t[r];if(!(s.rangeslider||t._requestRangeslider[n._id]))return;g.isPlainObject(s.rangeslider)||(s.rangeslider={});var i=s.rangeslider,f=_.newContainer(n,"rangeslider");function u(o,L){return g.coerce(i,f,C,o,L)}var y,c;function T(o,L){return g.coerce(y,c,A,o,L)}var h=u("visible");if(h){u("bgcolor",t.plot_bgcolor),u("bordercolor"),u("borderwidth"),u("thickness"),u("autorange",!n.isValidRange(i.range)),u("range");var l=t._subplots;if(l)for(var d=l.cartesian.filter(function(o){return o.substr(0,o.indexOf("y"))===a.name2id(r)}).map(function(o){return o.substr(o.indexOf("y"),o.length)}),E=g.simpleMap(d,a.id2name),S=0;S<E.length;S++){var P=E[S];y=i[P]||{},c=_.newContainer(f,P,"yaxis");var x=t[P],M;y.range&&x.isValidRange(y.range)&&(M="fixed");var w=T("rangemode",M);w!=="match"&&T("range",x.range.slice())}f._input=i}}},72413:function(G,V,e){var g=e(39898),_=e(73972),a=e(74875),C=e(71828),A=C.strTranslate,v=e(91424),p=e(7901),t=e(92998),r=e(93612),s=e(41675),n=e(28569),i=e(6964),f=e(73251);G.exports=function(x){for(var M=x._fullLayout,w=M._rangeSliderData,o=0;o<w.length;o++){var L=w[o][f.name];L._clipId=L._id+"-"+M._uid}function m(I){return I._name}var F=M._infolayer.selectAll("g."+f.containerClassName).data(w,m);F.exit().each(function(I){var U=I[f.name];M._topdefs.select("#"+U._clipId).remove()}).remove(),w.length!==0&&(F.enter().append("g").classed(f.containerClassName,!0).attr("pointer-events","all"),F.each(function(I){var U=g.select(this),z=I[f.name],N=M[s.id2name(I.anchor)],B=z[s.id2name(I.anchor)];if(z.range){var O=C.simpleMap(z.range,I.r2l),H=C.simpleMap(I.range,I.r2l),Y;H[0]<H[1]?Y=[Math.min(O[0],H[0]),Math.max(O[1],H[1])]:Y=[Math.max(O[0],H[0]),Math.min(O[1],H[1])],z.range=z._input.range=C.simpleMap(Y,I.l2r)}I.cleanRange("rangeslider.range");var J=M._size,re=I.domain;z._width=J.w*(re[1]-re[0]);var ie=Math.round(J.l+J.w*re[0]),ce=Math.round(J.t+J.h*(1-I._counterDomainMin)+(I.side==="bottom"?I._depth:0)+z._offsetShift+f.extraPad);U.attr("transform",A(ie,ce)),z._rl=C.simpleMap(z.range,I.r2l);var Q=z._rl[0],j=z._rl[1],Z=j-Q;if(z.p2d=function(Ce){return Ce/z._width*Z+Q},z.d2p=function(Ce){return(Ce-Q)/Z*z._width},I.rangebreaks){var $=I.locateBreaks(Q,j);if($.length){var te,se,ee=0;for(te=0;te<$.length;te++)se=$[te],ee+=se.max-se.min;var q=z._width/(j-Q-ee),le=[-q*Q];for(te=0;te<$.length;te++)se=$[te],le.push(le[le.length-1]-q*(se.max-se.min));for(z.d2p=function(Ce){for(var Ae=le[0],Ue=0;Ue<$.length;Ue++){var Ve=$[Ue];if(Ce>=Ve.max)Ae=le[Ue+1];else if(Ce<Ve.min)break}return Ae+q*Ce},te=0;te<$.length;te++)se=$[te],se.pmin=z.d2p(se.min),se.pmax=z.d2p(se.max);z.p2d=function(Ce){for(var Ae=le[0],Ue=0;Ue<$.length;Ue++){var Ve=$[Ue];if(Ce>=Ve.pmax)Ae=le[Ue+1];else if(Ce<Ve.pmin)break}return(Ce-Ae)/q}}}if(B.rangemode!=="match"){var oe=N.r2l(B.range[0]),he=N.r2l(B.range[1]),me=he-oe;z.d2pOppAxis=function(Ce){return(Ce-oe)/me*z._height}}U.call(T,x,I,z).call(h,x,I,z).call(l,x,I,z).call(E,x,I,z,B).call(S,x,I,z).call(P,x,I,z),u(U,x,I,z),c(U,x,I,z,N,B),I.side==="bottom"&&t.draw(x,I._id+"title",{propContainer:I,propName:I._name+".title",placeholder:M._dfltTitle.x,attributes:{x:I._offset+I._length/2,y:ce+z._height+z._offsetShift+10+1.5*I.title.font.size,"text-anchor":"middle"}})}))};function u(x,M,w,o){if(M._context.staticPlot)return;var L=x.select("rect."+f.slideBoxClassName).node(),m=x.select("rect."+f.grabAreaMinClassName).node(),F=x.select("rect."+f.grabAreaMaxClassName).node();function I(){var U=g.event,z=U.target,N=U.clientX||U.touches[0].clientX,B=N-x.node().getBoundingClientRect().left,O=o.d2p(w._rl[0]),H=o.d2p(w._rl[1]),Y=n.coverSlip();this.addEventListener("touchmove",J),this.addEventListener("touchend",re),Y.addEventListener("mousemove",J),Y.addEventListener("mouseup",re);function J(ie){var ce=ie.clientX||ie.touches[0].clientX,Q=+ce-N,j,Z,$;switch(z){case L:if($="ew-resize",O+Q>w._length||H+Q<0)return;j=O+Q,Z=H+Q;break;case m:if($="col-resize",O+Q>w._length)return;j=O+Q,Z=H;break;case F:if($="col-resize",H+Q<0)return;j=O,Z=H+Q;break;default:$="ew-resize",j=B,Z=B+Q;break}if(Z<j){var te=Z;Z=j,j=te}o._pixelMin=j,o._pixelMax=Z,i(g.select(Y),$),y(x,M,w,o)}function re(){Y.removeEventListener("mousemove",J),Y.removeEventListener("mouseup",re),this.removeEventListener("touchmove",J),this.removeEventListener("touchend",re),C.removeElement(Y)}}x.on("mousedown",I),x.on("touchstart",I)}function y(x,M,w,o){function L(I){return w.l2r(C.constrain(I,o._rl[0],o._rl[1]))}var m=L(o.p2d(o._pixelMin)),F=L(o.p2d(o._pixelMax));window.requestAnimationFrame(function(){_.call("_guiRelayout",M,w._name+".range",[m,F])})}function c(x,M,w,o,L,m){var F=f.handleWidth/2;function I(ie){return C.constrain(ie,0,o._width)}function U(ie){return C.constrain(ie,0,o._height)}function z(ie){return C.constrain(ie,-F,o._width+F)}var N=I(o.d2p(w._rl[0])),B=I(o.d2p(w._rl[1]));if(x.select("rect."+f.slideBoxClassName).attr("x",N).attr("width",B-N),x.select("rect."+f.maskMinClassName).attr("width",N),x.select("rect."+f.maskMaxClassName).attr("x",B).attr("width",o._width-B),m.rangemode!=="match"){var O=o._height-U(o.d2pOppAxis(L._rl[1])),H=o._height-U(o.d2pOppAxis(L._rl[0]));x.select("rect."+f.maskMinOppAxisClassName).attr("x",N).attr("height",O).attr("width",B-N),x.select("rect."+f.maskMaxOppAxisClassName).attr("x",N).attr("y",H).attr("height",o._height-H).attr("width",B-N),x.select("rect."+f.slideBoxClassName).attr("y",O).attr("height",H-O)}var Y=.5,J=Math.round(z(N-F))-Y,re=Math.round(z(B-F))+Y;x.select("g."+f.grabberMinClassName).attr("transform",A(J,Y)),x.select("g."+f.grabberMaxClassName).attr("transform",A(re,Y))}function T(x,M,w,o){var L=C.ensureSingle(x,"rect",f.bgClassName,function(U){U.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),m=o.borderwidth%2===0?o.borderwidth:o.borderwidth-1,F=-o._offsetShift,I=v.crispRound(M,o.borderwidth);L.attr({width:o._width+m,height:o._height+m,transform:A(F,F),"stroke-width":I}).call(p.stroke,o.bordercolor).call(p.fill,o.bgcolor)}function h(x,M,w,o){var L=M._fullLayout,m=C.ensureSingleById(L._topdefs,"clipPath",o._clipId,function(F){F.append("rect").attr({x:0,y:0})});m.select("rect").attr({width:o._width,height:o._height})}function l(x,M,w,o){var L=M.calcdata,m=x.selectAll("g."+f.rangePlotClassName).data(w._subplotsWith,C.identity);m.enter().append("g").attr("class",function(I){return f.rangePlotClassName+" "+I}).call(v.setClipUrl,o._clipId,M),m.order(),m.exit().remove();var F;m.each(function(I,U){var z=g.select(this),N=U===0,B=s.getFromId(M,I,"y"),O=B._name,H=o[O],Y={data:[],layout:{xaxis:{type:w.type,domain:[0,1],range:o.range.slice(),calendar:w.calendar},width:o._width,height:o._height,margin:{t:0,b:0,l:0,r:0}},_context:M._context};w.rangebreaks&&(Y.layout.xaxis.rangebreaks=w.rangebreaks),Y.layout[O]={type:B.type,domain:[0,1],range:H.rangemode!=="match"?H.range.slice():B.range.slice(),calendar:B.calendar},B.rangebreaks&&(Y.layout[O].rangebreaks=B.rangebreaks),a.supplyDefaults(Y);var J=Y._fullLayout.xaxis,re=Y._fullLayout[O];J.clearCalc(),J.setScale(),re.clearCalc(),re.setScale();var ie={id:I,plotgroup:z,xaxis:J,yaxis:re,isRangePlot:!0};N?F=ie:(ie.mainplot="xy",ie.mainplotinfo=F),r.rangePlot(M,ie,d(L,I))})}function d(x,M){for(var w=[],o=0;o<x.length;o++){var L=x[o],m=L[0].trace;m.xaxis+m.yaxis===M&&w.push(L)}return w}function E(x,M,w,o,L){var m=C.ensureSingle(x,"rect",f.maskMinClassName,function(z){z.attr({x:0,y:0,"shape-rendering":"crispEdges"})});m.attr("height",o._height).call(p.fill,f.maskColor);var F=C.ensureSingle(x,"rect",f.maskMaxClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})});if(F.attr("height",o._height).call(p.fill,f.maskColor),L.rangemode!=="match"){var I=C.ensureSingle(x,"rect",f.maskMinOppAxisClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})});I.attr("width",o._width).call(p.fill,f.maskOppAxisColor);var U=C.ensureSingle(x,"rect",f.maskMaxOppAxisClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})});U.attr("width",o._width).style("border-top",f.maskOppBorder).call(p.fill,f.maskOppAxisColor)}}function S(x,M,w,o){if(!M._context.staticPlot){var L=C.ensureSingle(x,"rect",f.slideBoxClassName,function(m){m.attr({y:0,cursor:f.slideBoxCursor,"shape-rendering":"crispEdges"})});L.attr({height:o._height,fill:f.slideBoxFill})}}function P(x,M,w,o){var L=C.ensureSingle(x,"g",f.grabberMinClassName),m=C.ensureSingle(x,"g",f.grabberMaxClassName),F={x:0,width:f.handleWidth,rx:f.handleRadius,fill:p.background,stroke:p.defaultLine,"stroke-width":f.handleStrokeWidth,"shape-rendering":"crispEdges"},I={y:Math.round(o._height/4),height:Math.round(o._height/2)},U=C.ensureSingle(L,"rect",f.handleMinClassName,function(H){H.attr(F)});U.attr(I);var z=C.ensureSingle(m,"rect",f.handleMaxClassName,function(H){H.attr(F)});z.attr(I);var N={width:f.grabAreaWidth,x:0,y:0,fill:f.grabAreaFill,cursor:M._context.staticPlot?void 0:f.grabAreaCursor},B=C.ensureSingle(L,"rect",f.grabAreaMinClassName,function(H){H.attr(N)});B.attr("height",o._height);var O=C.ensureSingle(m,"rect",f.grabAreaMaxClassName,function(H){H.attr(N)});O.attr("height",o._height)}},549:function(G,V,e){var g=e(41675),_=e(63893),a=e(73251),C=e(18783).LINE_SPACING,A=a.name;function v(p){var t=p&&p[A];return t&&t.visible}V.isVisible=v,V.makeData=function(p){var t=g.list({_fullLayout:p},"x",!0),r=p.margin,s=[];if(!p._has("gl2d"))for(var n=0;n<t.length;n++){var i=t[n];if(v(i)){s.push(i);var f=i[A];f._id=A+i._id,f._height=(p.height-r.b-r.t)*f.thickness,f._offsetShift=Math.floor(f.borderwidth/2)}}p._rangeSliderData=s},V.autoMarginOpts=function(p,t){var r=p._fullLayout,s=t[A],n=t._id.charAt(0),i=0,f=0;if(t.side==="bottom"&&(i=t._depth,t.title.text!==r._dfltTitle[n])){f=1.5*t.title.font.size+10+s._offsetShift;var u=(t.title.text.match(_.BR_TAG_ALL)||[]).length;f+=u*t.title.font.size*C}return{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:s._height+i+Math.max(r.margin.b,f),pad:a.extraPad+s._offsetShift*2}}},13137:function(G,V,e){var g=e(71828),_=e(75148),a=e(47850),C=e(549);G.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:g.extendFlat({},_,{yaxis:a})}}},layoutAttributes:e(75148),handleDefaults:e(26377),calcAutorange:e(88443),draw:e(72413),isVisible:C.isVisible,makeData:C.makeData,autoMarginOpts:C.autoMarginOpts}},47850:function(G){G.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(G,V,e){var g=e(50215),_=e(82196).line,a=e(79952).P,C=e(1426).extendFlat,A=e(30962).overrideAll,v=e(44467).templatedArray;e(24695),G.exports=A(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:C({},g.xref,{}),yref:C({},g.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:_.color,width:C({},_.width,{min:1,dflt:1}),dash:C({},a,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(G){G.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(G,V,e){var g=e(71828),_=e(89298),a=e(85501),C=e(8389),A=e(30477);G.exports=function(t,r){a(t,r,{name:"selections",handleItemDefaults:v});for(var s=r.selections,n=0;n<s.length;n++){var i=s[n];i&&i.path===void 0&&(i.x0===void 0||i.x1===void 0||i.y0===void 0||i.y1===void 0)&&(r.selections[n]=null)}};function v(p,t,r){function s(m,F){return g.coerce(p,t,C,m,F)}var n=s("path"),i=n?"path":"rect",f=s("type",i),u=f!=="path";u&&delete t.path,s("opacity"),s("line.color"),s("line.width"),s("line.dash");for(var y=["x","y"],c=0;c<2;c++){var T=y[c],h={_fullLayout:r},l,d,E,S=_.coerceRef(p,t,h,T);if(l=_.getFromId(h,S),l._selectionIndices.push(t._index),E=A.rangeToShapePosition(l),d=A.shapePositionToRange(l),u){var P=T+"0",x=T+"1",M=p[P],w=p[x];p[P]=d(p[P],!0),p[x]=d(p[x],!0),_.coercePosition(t,h,s,S,P),_.coercePosition(t,h,s,S,x);var o=t[P],L=t[x];o!==void 0&&L!==void 0&&(t[P]=E(o),t[x]=E(L),p[P]=M,p[x]=w)}}u&&g.noneOrAll(p,t,["x0","x1","y0","y1"])}},32485:function(G,V,e){var g=e(60165).readPaths,_=e(42359),a=e(51873).clearOutlineControllers,C=e(7901),A=e(91424),v=e(44467).arrayEditor,p=e(30477),t=p.getPathString;G.exports={draw:r,drawOne:n,activateLastSelection:u};function r(c){var T=c._fullLayout;a(c),T._selectionLayer.selectAll("path").remove();for(var h in T._plots){var l=T._plots[h].selectionLayer;l&&l.selectAll("path").remove()}for(var d=0;d<T.selections.length;d++)n(c,d)}function s(c){return c._context.editSelection}function n(c,T){c._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+T+'"]').remove();var h=p.makeSelectionsOptionsAndPlotinfo(c,T),l=h.options,d=h.plotinfo;if(!l._input)return;E(c._fullLayout._selectionLayer);function E(S){var P=t(c,l),x={"data-index":T,"fill-rule":"evenodd",d:P},M=l.opacity,w="rgba(0,0,0,0)",o=l.line.color||C.contrast(c._fullLayout.plot_bgcolor),L=l.line.width,m=l.line.dash;L||(L=5,m="solid");var F=s(c)&&c._fullLayout._activeSelectionIndex===T;F&&(w=c._fullLayout.activeselection.fillcolor,M=c._fullLayout.activeselection.opacity);for(var I=[],U=1;U>=0;U--){var z=S.append("path").attr(x).style("opacity",U?.1:M).call(C.stroke,o).call(C.fill,w).call(A.dashLine,U?"solid":m,U?4+L:L);if(i(z,c,l),F){var N=v(c.layout,"selections",l);z.style({cursor:"move"});var B={element:z.node(),plotinfo:d,gd:c,editHelpers:N,isActiveSelection:!0},O=g(P,c);_(O,z,B)}else z.style("pointer-events",U?"all":"none");I[U]=z}var H=I[0],Y=I[1];Y.node().addEventListener("click",function(){return f(c,H)})}}function i(c,T,h){var l=h.xref+h.yref;A.setClipUrl(c,"clip"+T._fullLayout._uid+l,T)}function f(c,T){if(s(c)){var h=T.node(),l=+h.getAttribute("data-index");if(l>=0){if(l===c._fullLayout._activeSelectionIndex){y(c);return}c._fullLayout._activeSelectionIndex=l,c._fullLayout._deactivateSelection=y,r(c)}}}function u(c){if(s(c)){var T=c._fullLayout.selections.length-1;c._fullLayout._activeSelectionIndex=T,c._fullLayout._deactivateSelection=y,r(c)}}function y(c){if(s(c)){var T=c._fullLayout._activeSelectionIndex;T>=0&&(a(c),delete c._fullLayout._activeSelectionIndex,r(c))}}},53777:function(G,V,e){var g=e(79952).P,_=e(1426).extendFlat;G.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:_({},g,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(G){G.exports=function(e,g,_){_("newselection.mode");var a=_("newselection.line.width");a&&(_("newselection.line.color"),_("newselection.line.dash")),_("activeselection.fillcolor"),_("activeselection.opacity")}},35855:function(G,V,e){var g=e(64505),_=g.selectMode,a=e(51873),C=a.clearOutline,A=e(60165),v=A.readPaths,p=A.writePaths,t=A.fixDatesForPaths;G.exports=function(s,n){if(s.length){var i=s[0][0];if(i){var f=i.getAttribute("d"),u=n.gd,y=u._fullLayout.newselection,c=n.plotinfo,T=c.xaxis,h=c.yaxis,l=n.isActiveSelection,d=n.dragmode,E=(u.layout||{}).selections||[];if(!_(d)&&l!==void 0){var S=u._fullLayout._activeSelectionIndex;if(S<E.length)switch(u._fullLayout.selections[S].type){case"rect":d="select";break;case"path":d="lasso";break}}var P=v(f,u,c,l),x={xref:T._id,yref:h._id,opacity:y.opacity,line:{color:y.line.color,width:y.line.width,dash:y.line.dash}},M;P.length===1&&(M=P[0]),M&&M.length===5&&d==="select"?(x.type="rect",x.x0=M[0][1],x.y0=M[0][2],x.x1=M[2][1],x.y1=M[2][2]):(x.type="path",T&&h&&t(P,T,h),x.path=p(P),M=null),C(u);for(var w=n.editHelpers,o=(w||{}).modifyItem,L=[],m=0;m<E.length;m++){var F=u._fullLayout.selections[m];if(!F){L[m]=F;continue}if(L[m]=F._input,l!==void 0&&m===u._fullLayout._activeSelectionIndex){var I=x;switch(F.type){case"rect":o("x0",I.x0),o("x1",I.x1),o("y0",I.y0),o("y1",I.y1);break;case"path":o("path",I.path);break}}}return l===void 0?(L.push(x),L):w?w.getUpdateObj():{}}}}},75549:function(G,V,e){var g=e(71828).strTranslate;function _(v,p){switch(v.type){case"log":return v.p2d(p);case"date":return v.p2r(p,0,v.calendar);default:return v.p2r(p)}}function a(v,p){switch(v.type){case"log":return v.d2p(p);case"date":return v.r2p(p,0,v.calendar);default:return v.r2p(p)}}function C(v){var p=v._id.charAt(0)==="y"?1:0;return function(t){return _(v,t[p])}}function A(v){return g(v.xaxis._offset,v.yaxis._offset)}G.exports={p2r:_,r2p:a,axValue:C,getTransform:A}},47322:function(G,V,e){var g=e(32485),_=e(3937);G.exports={moduleType:"component",name:"selections",layoutAttributes:e(8389),supplyLayoutDefaults:e(59402),supplyDrawNewSelectionDefaults:e(90849),includeBasePlot:e(76325)("selections"),draw:g.draw,drawOne:g.drawOne,reselect:_.reselect,prepSelect:_.prepSelect,clearOutline:_.clearOutline,clearSelectionsCache:_.clearSelectionsCache,selectOnClick:_.selectOnClick}},3937:function(G,V,e){var g=e(52142),_=e(38258),a=e(73972),C=e(91424).dashStyle,A=e(7901),v=e(30211),p=e(23469).makeEventData,t=e(64505),r=t.freeMode,s=t.rectMode,n=t.drawMode,i=t.openMode,f=t.selectMode,u=e(30477),y=e(21459),c=e(42359),T=e(51873).clearOutline,h=e(60165),l=h.handleEllipse,d=h.readPaths,E=e(90551).newShapes,S=e(35855),P=e(32485).activateLastSelection,x=e(71828),M=x.sorterAsc,w=e(61082),o=e(79990),L=e(41675).getFromId,m=e(33306),F=e(61549).redrawReglTraces,I=e(34122),U=I.MINSELECT,z=w.filter,N=w.tester,B=e(75549),O=B.p2r,H=B.axValue,Y=B.getTransform;function J(Be){return Be.subplot!==void 0}function re(Be,Re,we,ye,Se){var Me=!J(ye),He=r(Se),qe=s(Se),rt=i(Se),pt=n(Se),At=f(Se),jt=Se==="drawline",tr=Se==="drawcircle",Ct=jt||tr,Nt=ye.gd,Kt=Nt._fullLayout,wr=At&&Kt.newselection.mode==="immediate"&&Me,yt=Kt._zoomlayer,$t=ye.element.getBoundingClientRect(),er=ye.plotinfo,mr=Y(er),vr=Re-$t.left,bt=we-$t.top;Kt._calcInverseTransform(Nt);var ht=x.apply3DTransform(Kt._invTransform)(vr,bt);vr=ht[0],bt=ht[1];var Tt=Kt._invScaleX,Pt=Kt._invScaleY,zt=vr,Dt=bt,Vt="M"+vr+","+bt,Ut=ye.xaxes[0],Qt=ye.yaxes[0],hr=Ut._length,cr=Qt._length,lr=Be.altKey&&!(n(Se)&&rt),Xe,Ke,Ot,Lt,Xt,rr,ur;$(Be,Nt,ye),He&&(Xe=z([[vr,bt]],I.BENDPX));var or=yt.selectAll("path.select-outline-"+er.id).data([1]),Ht=pt?Kt.newshape:Kt.newselection;pt&&(ye.hasText=Ht.label.text||Ht.label.texttemplate);var gr=pt&&!rt?Ht.fillcolor:"rgba(0,0,0,0)",br=Ht.line.color||(Me?A.contrast(Nt._fullLayout.plot_bgcolor):"#7f7f7f");or.enter().append("path").attr("class","select-outline select-outline-"+er.id).style({opacity:pt?Ht.opacity/2:1,"stroke-dasharray":C(Ht.line.dash,Ht.line.width),"stroke-width":Ht.line.width+"px","shape-rendering":"crispEdges"}).call(A.stroke,br).call(A.fill,gr).attr("fill-rule","evenodd").classed("cursor-move",!!pt).attr("transform",mr).attr("d",Vt+"Z");var xr=yt.append("path").attr("class","zoombox-corners").style({fill:A.background,stroke:A.defaultLine,"stroke-width":1}).attr("transform",mr).attr("d","M0,0Z");if(pt&&ye.hasText){var dr=yt.select(".label-temp");dr.empty()&&(dr=yt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Wr=Kt._uid+I.SELECTID,Br=[],Ur=le(Nt,ye.xaxes,ye.yaxes,ye.subplot);wr&&!Be.shiftKey&&(ye._clearSubplotSelections=function(){if(Me){var rn=Ut._id,Un=Qt._id;at(Nt,rn,Un,Ur);for(var bn=(Nt.layout||{}).selections||[],Lr=[],Pr=!1,Yr=0;Yr<bn.length;Yr++){var Hr=Kt.selections[Yr];Hr.xref!==rn||Hr.yref!==Un?Lr.push(bn[Yr]):Pr=!0}Pr&&(Nt._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",Nt,{selections:Lr}))}});var yn=Bt(ye);ye.moveFn=function(rn,Un){ye._clearSubplotSelections&&(ye._clearSubplotSelections(),ye._clearSubplotSelections=void 0),zt=Math.max(0,Math.min(hr,Tt*rn+vr)),Dt=Math.max(0,Math.min(cr,Pt*Un+bt));var bn=Math.abs(zt-vr),Lr=Math.abs(Dt-bt);if(qe){var Pr,Yr,Hr;if(At){var en=Kt.selectdirection;switch(en==="any"?Lr<Math.min(bn*.6,U)?Pr="h":bn<Math.min(Lr*.6,U)?Pr="v":Pr="d":Pr=en,Pr){case"h":Yr=tr?cr/2:0,Hr=cr;break;case"v":Yr=tr?hr/2:0,Hr=hr;break}}if(pt)switch(Kt.newshape.drawdirection){case"vertical":Pr="h",Yr=tr?cr/2:0,Hr=cr;break;case"horizontal":Pr="v",Yr=tr?hr/2:0,Hr=hr;break;case"ortho":bn<Lr?(Pr="h",Yr=bt,Hr=Dt):(Pr="v",Yr=vr,Hr=zt);break;default:Pr="d"}Pr==="h"?(Lt=Ct?l(tr,[zt,Yr],[zt,Hr]):[[vr,Yr],[vr,Hr],[zt,Hr],[zt,Yr]],Lt.xmin=Ct?zt:Math.min(vr,zt),Lt.xmax=Ct?zt:Math.max(vr,zt),Lt.ymin=Math.min(Yr,Hr),Lt.ymax=Math.max(Yr,Hr),xr.attr("d","M"+Lt.xmin+","+(bt-U)+"h-4v"+2*U+"h4ZM"+(Lt.xmax-1)+","+(bt-U)+"h4v"+2*U+"h-4Z")):Pr==="v"?(Lt=Ct?l(tr,[Yr,Dt],[Hr,Dt]):[[Yr,bt],[Yr,Dt],[Hr,Dt],[Hr,bt]],Lt.xmin=Math.min(Yr,Hr),Lt.xmax=Math.max(Yr,Hr),Lt.ymin=Ct?Dt:Math.min(bt,Dt),Lt.ymax=Ct?Dt:Math.max(bt,Dt),xr.attr("d","M"+(vr-U)+","+Lt.ymin+"v-4h"+2*U+"v4ZM"+(vr-U)+","+(Lt.ymax-1)+"v4h"+2*U+"v-4Z")):Pr==="d"&&(Lt=Ct?l(tr,[vr,bt],[zt,Dt]):[[vr,bt],[vr,Dt],[zt,Dt],[zt,bt]],Lt.xmin=Math.min(vr,zt),Lt.xmax=Math.max(vr,zt),Lt.ymin=Math.min(bt,Dt),Lt.ymax=Math.max(bt,Dt),xr.attr("d","M0,0Z"))}else He&&(Xe.addPt([zt,Dt]),Lt=Xe.filtered);if(ye.selectionDefs&&ye.selectionDefs.length?(Ot=be(ye.mergedPolygons,Lt,lr),Lt.subtract=lr,Ke=Z(ye.selectionDefs.concat([Lt]))):(Ot=[Lt],Ke=N(Lt)),c(We(Ot,rt),or,ye),At){var cn=Fe(Nt,!1),hn=cn.eventData?cn.eventData.points.slice():[];cn=Fe(Nt,!1,Ke,Ur,ye),Ke=cn.selectionTesters,ur=cn.eventData;var Pn;Xe?Pn=Xe.filtered:Pn=vt(Ot),o.throttle(Wr,I.SELECTDELAY,function(){Br=je(Ke,Ur);for(var kn=Br.slice(),sa=0;sa<hn.length;sa++){for(var Xn=hn[sa],ea=!1,Zn=0;Zn<kn.length;Zn++)if(kn[Zn].curveNumber===Xn.curveNumber&&kn[Zn].pointNumber===Xn.pointNumber){ea=!0;break}ea||kn.push(Xn)}kn.length&&(ur||(ur={}),ur.points=kn),yn(ur,Pn),Qe(Nt,ur)})}},ye.clickFn=function(rn,Un){if(xr.remove(),Nt._fullLayout._activeShapeIndex>=0){Nt._fullLayout._deactivateShape(Nt);return}if(!pt){var bn=Kt.clickmode;o.done(Wr).then(function(){if(o.clear(Wr),rn===2){for(or.remove(),Xt=0;Xt<Ur.length;Xt++)rr=Ur[Xt],rr._module.selectPoints(rr,!1);if(Ve(Nt,Ur),ee(ye),ze(Nt),Ur.length){var Lr=Ur[0].xaxis,Pr=Ur[0].yaxis;if(Lr&&Pr){for(var Yr=[],Hr=Nt._fullLayout.selections,en=0;en<Hr.length;en++){var cn=Hr[en];cn&&(cn.xref!==Lr._id||cn.yref!==Pr._id)&&Yr.push(cn)}Yr.length<Hr.length&&(Nt._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",Nt,{selections:Yr}))}}}else bn.indexOf("select")>-1&&ie(Un,Nt,ye.xaxes,ye.yaxes,ye.subplot,ye,or),bn==="event"&&ke(Nt,void 0);v.click(Nt,Un,er.id)}).catch(x.error)}},ye.doneFn=function(){xr.remove(),o.done(Wr).then(function(){o.clear(Wr),!wr&&Lt&&ye.selectionDefs&&(Lt.subtract=lr,ye.selectionDefs.push(Lt),ye.mergedPolygons.length=0,[].push.apply(ye.mergedPolygons,Ot)),(wr||pt)&&ee(ye,wr),ye.doneFnCompleted&&ye.doneFnCompleted(Br),At&&ke(Nt,ur)}).catch(x.error)}}function ie(Be,Re,we,ye,Se,Me,He){var qe=Re._hoverdata,rt=Re._fullLayout,pt=rt.clickmode,At=pt.indexOf("event")>-1,jt=[],tr,Ct,Nt,Kt,wr,yt,$t,er,mr,vr;if(he(qe)){$(Be,Re,Me),tr=le(Re,we,ye,Se);var bt=me(qe,tr),ht=bt.pointNumbers.length>0;if(ht?Ae(tr,bt):Ue(tr)&&($t=Ce(bt))){for(He&&He.remove(),vr=0;vr<tr.length;vr++)Ct=tr[vr],Ct._module.selectPoints(Ct,!1);Ve(Re,tr),ee(Me),At&&ze(Re)}else{er=Be.shiftKey&&($t!==void 0?$t:Ce(bt)),Nt=ce(bt.pointNumber,bt.searchInfo,er);var Tt=Me.selectionDefs.concat([Nt]);for(Kt=Z(Tt),vr=0;vr<tr.length;vr++)if(wr=tr[vr]._module.selectPoints(tr[vr],Kt),yt=Le(wr,tr[vr]),jt.length)for(var Pt=0;Pt<yt.length;Pt++)jt.push(yt[Pt]);else jt=yt;if(mr={points:jt},Ve(Re,tr,mr),Nt&&Me&&Me.selectionDefs.push(Nt),He){var zt=Me.mergedPolygons,Dt=i(Me.dragmode);c(We(zt,Dt),He,Me)}At&&ke(Re,mr)}}}function ce(Be,Re,we){return{pointNumber:Be,searchInfo:Re,subtract:!!we}}function Q(Be){return"pointNumber"in Be&&"searchInfo"in Be}function j(Be){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Re,we,ye,Se){var Me=Be.searchInfo.cd[0].trace._expandedIndex,He=Se.cd[0].trace._expandedIndex;return He===Me&&ye===Be.pointNumber},isRect:!1,degenerate:!1,subtract:!!Be.subtract}}function Z(Be){if(!Be.length)return;for(var Re=[],we=Q(Be[0])?0:Be[0][0][0],ye=we,Se=Q(Be[0])?0:Be[0][0][1],Me=Se,He=0;He<Be.length;He++)if(Q(Be[He]))Re.push(j(Be[He]));else{var qe=N(Be[He]);qe.subtract=!!Be[He].subtract,Re.push(qe),we=Math.min(we,qe.xmin),ye=Math.max(ye,qe.xmax),Se=Math.min(Se,qe.ymin),Me=Math.max(Me,qe.ymax)}function rt(pt,At,jt,tr){for(var Ct=!1,Nt=0;Nt<Re.length;Nt++)Re[Nt].contains(pt,At,jt,tr)&&(Ct=!Re[Nt].subtract);return Ct}return{xmin:we,xmax:ye,ymin:Se,ymax:Me,pts:[],contains:rt,isRect:!1,degenerate:!1}}function $(Be,Re,we){var ye=Re._fullLayout,Se=we.plotinfo,Me=we.dragmode,He=ye._lastSelectedSubplot&&ye._lastSelectedSubplot===Se.id,qe=(Be.shiftKey||Be.altKey)&&!(n(Me)&&i(Me));He&&qe&&Se.selection&&Se.selection.selectionDefs&&!we.selectionDefs?(we.selectionDefs=Se.selection.selectionDefs,we.mergedPolygons=Se.selection.mergedPolygons):(!qe||!Se.selection)&&ee(we),He||(T(Re),ye._lastSelectedSubplot=Se.id)}function te(Be){return Be._fullLayout._activeShapeIndex>=0}function se(Be){return Be._fullLayout._activeSelectionIndex>=0}function ee(Be,Re){var we=Be.dragmode,ye=Be.plotinfo,Se=Be.gd;te(Se)&&Se._fullLayout._deactivateShape(Se),se(Se)&&Se._fullLayout._deactivateSelection(Se);var Me=Se._fullLayout,He=Me._zoomlayer,qe=n(we),rt=f(we);if(qe||rt){var pt=He.selectAll(".select-outline-"+ye.id);if(pt&&Se._fullLayout._outlining){var At;qe&&(At=E(pt,Be)),At&&a.call("_guiRelayout",Se,{shapes:At});var jt;rt&&!J(Be)&&(jt=S(pt,Be)),jt&&(Se._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",Se,{selections:jt}).then(function(){Re&&P(Se)})),Se._fullLayout._outlining=!1}}ye.selection={},ye.selection.selectionDefs=Be.selectionDefs=[],ye.selection.mergedPolygons=Be.mergedPolygons=[]}function q(Be){return Be._id}function le(Be,Re,we,ye){if(!Be.calcdata)return[];var Se=[],Me=Re.map(q),He=we.map(q),qe,rt,pt;for(pt=0;pt<Be.calcdata.length;pt++)if(qe=Be.calcdata[pt],rt=qe[0].trace,!(rt.visible!==!0||!rt._module||!rt._module.selectPoints))if(J({subplot:ye})&&(rt.subplot===ye||rt.geo===ye))Se.push(oe(rt._module,qe,Re[0],we[0]));else if(rt.type==="splom"){if(rt._xaxes[Me[0]]&&rt._yaxes[He[0]]){var At=oe(rt._module,qe,Re[0],we[0]);At.scene=Be._fullLayout._splomScenes[rt.uid],Se.push(At)}}else if(rt.type==="sankey"){var jt=oe(rt._module,qe,Re[0],we[0]);Se.push(jt)}else{if(Me.indexOf(rt.xaxis)===-1||He.indexOf(rt.yaxis)===-1)continue;Se.push(oe(rt._module,qe,L(Be,rt.xaxis),L(Be,rt.yaxis)))}return Se}function oe(Be,Re,we,ye){return{_module:Be,cd:Re,xaxis:we,yaxis:ye}}function he(Be){return Be&&Array.isArray(Be)&&Be[0].hoverOnBox!==!0}function me(Be,Re){var we=Be[0],ye=-1,Se=[],Me,He;for(He=0;He<Re.length;He++)if(Me=Re[He],we.fullData._expandedIndex===Me.cd[0].trace._expandedIndex){if(we.hoverOnBox===!0)break;we.pointNumber!==void 0?ye=we.pointNumber:we.binNumber!==void 0&&(ye=we.binNumber,Se=we.pointNumbers);break}return{pointNumber:ye,pointNumbers:Se,searchInfo:Me}}function Ce(Be){var Re=Be.searchInfo.cd[0].trace,we=Be.pointNumber,ye=Be.pointNumbers,Se=ye.length>0,Me=Se?ye[0]:we;return Re.selectedpoints?Re.selectedpoints.indexOf(Me)>-1:!1}function Ae(Be,Re){var we=[],ye,Se,Me,He;for(He=0;He<Be.length;He++)ye=Be[He],ye.cd[0].trace.selectedpoints&&ye.cd[0].trace.selectedpoints.length>0&&we.push(ye);if(we.length===1&&(Me=we[0]===Re.searchInfo,Me&&(Se=Re.searchInfo.cd[0].trace,Se.selectedpoints.length===Re.pointNumbers.length))){for(He=0;He<Re.pointNumbers.length;He++)if(Se.selectedpoints.indexOf(Re.pointNumbers[He])<0)return!1;return!0}return!1}function Ue(Be){var Re=0,we,ye,Se;for(Se=0;Se<Be.length;Se++)if(we=Be[Se],ye=we.cd[0].trace,ye.selectedpoints&&(ye.selectedpoints.length>1||(Re+=ye.selectedpoints.length,Re>1)))return!1;return Re===1}function Ve(Be,Re,we){var ye;for(ye=0;ye<Re.length;ye++){var Se=Re[ye].cd[0].trace._fullInput,Me=Be._fullLayout._tracePreGUI[Se.uid]||{};Me.selectedpoints===void 0&&(Me.selectedpoints=Se._input.selectedpoints||null)}var He;if(we){var qe=we.points||[];for(ye=0;ye<Re.length;ye++)He=Re[ye].cd[0].trace,He._input.selectedpoints=He._fullInput.selectedpoints=[],He._fullInput!==He&&(He.selectedpoints=[]);for(var rt=0;rt<qe.length;rt++){var pt=qe[rt],At=pt.data,jt=pt.fullData,tr=pt.pointIndex,Ct=pt.pointIndices;Ct?([].push.apply(At.selectedpoints,Ct),He._fullInput!==He&&[].push.apply(jt.selectedpoints,Ct)):(At.selectedpoints.push(tr),He._fullInput!==He&&jt.selectedpoints.push(tr))}}else for(ye=0;ye<Re.length;ye++)He=Re[ye].cd[0].trace,delete He.selectedpoints,delete He._input.selectedpoints,He._fullInput!==He&&delete He._fullInput.selectedpoints;Pe(Be,Re)}function Pe(Be,Re){for(var we=!1,ye=0;ye<Re.length;ye++){var Se=Re[ye],Me=Se.cd;a.traceIs(Me[0].trace,"regl")&&(we=!0);var He=Se._module,qe=He.styleOnSelect||He.style;qe&&(qe(Be,Me,Me[0].node3),Me[0].nodeRangePlot3&&qe(Be,Me,Me[0].nodeRangePlot3))}we&&(m(Be),F(Be))}function be(Be,Re,we){for(var ye=we?g.difference:g.union,Se=ye({regions:Be},{regions:[Re]}),Me=Se.regions.reverse(),He=0;He<Me.length;He++){var qe=Me[He];qe.subtract=st(qe,Me.slice(0,He))}return Me}function Le(Be,Re){if(Array.isArray(Be))for(var we=Re.cd,ye=Re.cd[0].trace,Se=0;Se<Be.length;Se++)Be[Se]=p(Be[Se],ye,we);return Be}function We(Be,Re){for(var we=[],ye=0;ye<Be.length;ye++){we[ye]=[];for(var Se=0;Se<Be[ye].length;Se++){we[ye][Se]=[],we[ye][Se][0]=Se?"L":"M";for(var Me=0;Me<Be[ye][Se].length;Me++)we[ye][Se].push(Be[ye][Se][Me])}Re||we[ye].push(["Z",we[ye][0][1],we[ye][0][2]])}return we}function je(Be,Re){for(var we=[],ye,Se,Me=0;Me<Re.length;Me++){var He=Re[Me];Se=He._module.selectPoints(He,Be),ye=Le(Se,He),we=we.concat(ye)}return we}function Fe(Be,Re,we,ye,Se){var Me=!!ye,He,qe,rt;Se&&(He=Se.plotinfo,qe=Se.xaxes[0]._id,rt=Se.yaxes[0]._id);var pt=[],At=[],jt=$e(Be),tr=Be._fullLayout;if(He){var Ct=tr._zoomlayer,Nt=tr.dragmode,Kt=n(Nt),wr=f(Nt);if(Kt||wr){var yt=L(Be,qe,"x"),$t=L(Be,rt,"y");if(yt&&$t){var er=Ct.selectAll(".select-outline-"+He.id);if(er&&Be._fullLayout._outlining&&er.length){for(var mr=er[0][0],vr=mr.getAttribute("d"),bt=d(vr,Be,He),ht=[],Tt=0;Tt<bt.length;Tt++){for(var Pt=bt[Tt],zt=[],Dt=0;Dt<Pt.length;Dt++)zt.push([ct(yt,Pt[Dt][1]),ct($t,Pt[Dt][2])]);zt.xref=qe,zt.yref=rt,zt.subtract=st(zt,ht),ht.push(zt)}jt=jt.concat(ht)}}}}var Vt=qe&&rt?[qe+rt]:tr._subplots.cartesian;Ze(Be);for(var Ut={},Qt=0;Qt<Vt.length;Qt++){var hr=Vt[Qt],cr=hr.indexOf("y"),lr=hr.slice(0,cr),Xe=hr.slice(cr),Ke=qe&&rt?we:void 0;if(Ke=it(jt,lr,Xe,Ke),Ke){var Ot=ye;if(!Me){var Lt=L(Be,lr,"x"),Xt=L(Be,Xe,"y");Ot=le(Be,[Lt],[Xt],hr);for(var rr=0;rr<Ot.length;rr++){var ur=Ot[rr],or=ur.cd[0],Ht=or.trace;if(ur._module.name==="scattergl"&&!or.t.xpx){var gr=Ht.x,br=Ht.y,xr=Ht._length;or.t.xpx=[],or.t.ypx=[];for(var dr=0;dr<xr;dr++)or.t.xpx[dr]=Lt.c2p(gr[dr]),or.t.ypx[dr]=Xt.c2p(br[dr])}ur._module.name==="splom"&&(Ut[Ht.uid]||(Ut[Ht.uid]=!0))}}var Wr=je(Ke,Ot);pt=pt.concat(Wr),At=At.concat(Ot)}}var Br={points:pt};Ve(Be,At,Br);var Ur=tr.clickmode,yn=Ur.indexOf("event")>-1&&Re;if(!He&&Re){var rn=$e(Be,!0);if(rn.length){var Un=rn[0].xref,bn=rn[0].yref;if(Un&&bn){var Lr=vt(rn),Pr=Mt([L(Be,Un,"x"),L(Be,bn,"y")]);Pr(Br,Lr)}}Be._fullLayout._noEmitSelectedAtStart?Be._fullLayout._noEmitSelectedAtStart=!1:yn&&ke(Be,Br),tr._reselect=!1}if(!He&&tr._deselect){var Yr=tr._deselect;qe=Yr.xref,rt=Yr.yref,ut(qe,rt,At)||at(Be,qe,rt,ye),yn&&(Br.points.length?ke(Be,Br):ze(Be)),tr._deselect=!1}return{eventData:Br,selectionTesters:we}}function Ze(Be){var Re=Be.calcdata;if(Re)for(var we=0;we<Re.length;we++){var ye=Re[we][0],Se=ye.trace,Me=Be._fullLayout._splomScenes;if(Me){var He=Me[Se.uid];He&&(He.selectBatch=[])}}}function ut(Be,Re,we){for(var ye=0;ye<we.length;ye++){var Se=we[ye];if(Se.xaxis&&Se.xaxis._id===Be&&Se.yaxis&&Se.yaxis._id===Re)return!0}return!1}function at(Be,Re,we,ye){ye=le(Be,[L(Be,Re,"x")],[L(Be,we,"y")],Re+we);for(var Se=0;Se<ye.length;Se++){var Me=ye[Se];Me._module.selectPoints(Me,!1)}Ve(Be,ye)}function it(Be,Re,we,ye){for(var Se,Me=0;Me<Be.length;Me++){var He=Be[Me];if(!(Re!==He.xref||we!==He.yref))if(Se){var qe=!!He.subtract;Se=be(Se,He,qe),ye=Z(Se)}else Se=[He],ye=N(He)}return ye}function $e(Be,Re){for(var we=[],ye=Be._fullLayout,Se=ye.selections,Me=Se.length,He=0;He<Me;He++)if(!(Re&&He!==ye._activeSelectionIndex)){var qe=Se[He];if(qe){var rt=qe.xref,pt=qe.yref,At=L(Be,rt,"x"),jt=L(Be,pt,"y"),tr,Ct,Nt,Kt,wr;if(qe.type==="rect"){wr=[];var yt=ct(At,qe.x0),$t=ct(At,qe.x1),er=ct(jt,qe.y0),mr=ct(jt,qe.y1);wr=[[yt,er],[yt,mr],[$t,mr],[$t,er]],tr=Math.min(yt,$t),Ct=Math.max(yt,$t),Nt=Math.min(er,mr),Kt=Math.max(er,mr),wr.xmin=tr,wr.xmax=Ct,wr.ymin=Nt,wr.ymax=Kt,wr.xref=rt,wr.yref=pt,wr.subtract=!1,wr.isRect=!0,we.push(wr)}else if(qe.type==="path")for(var vr=qe.path.split("Z"),bt=[],ht=0;ht<vr.length;ht++){var Tt=vr[ht];if(Tt){Tt+="Z";var Pt=u.extractPathCoords(Tt,y.paramIsX,"raw"),zt=u.extractPathCoords(Tt,y.paramIsY,"raw");tr=1/0,Ct=-1/0,Nt=1/0,Kt=-1/0,wr=[];for(var Dt=0;Dt<Pt.length;Dt++){var Vt=ct(At,Pt[Dt]),Ut=ct(jt,zt[Dt]);wr.push([Vt,Ut]),tr=Math.min(Vt,tr),Ct=Math.max(Vt,Ct),Nt=Math.min(Ut,Nt),Kt=Math.max(Ut,Kt)}wr.xmin=tr,wr.xmax=Ct,wr.ymin=Nt,wr.ymax=Kt,wr.xref=rt,wr.yref=pt,wr.subtract=st(wr,bt),bt.push(wr),we.push(wr)}}}}return we}function st(Be,Re){for(var we=!1,ye=0;ye<Re.length;ye++)for(var Se=Re[ye],Me=0;Me<Be.length;Me++)if(_(Be[Me],Se)){we=!we;break}return we}function ct(Be,Re){return Be.type==="date"&&(Re=Re.replace("_"," ")),Be.type==="log"?Be.c2p(Re):Be.r2p(Re,null,Be.calendar)}function vt(Be){for(var Re=Be.length,we=[],ye=0;ye<Re;ye++){var Se=Be[ye];we=we.concat(Se),we=we.concat([Se[0]])}return St(we)}function St(Be){return Be.isRect=Be.length===5&&Be[0][0]===Be[4][0]&&Be[0][1]===Be[4][1]&&Be[0][0]===Be[1][0]&&Be[2][0]===Be[3][0]&&Be[0][1]===Be[3][1]&&Be[1][1]===Be[2][1]||Be[0][1]===Be[1][1]&&Be[2][1]===Be[3][1]&&Be[0][0]===Be[3][0]&&Be[1][0]===Be[2][0],Be.isRect&&(Be.xmin=Math.min(Be[0][0],Be[2][0]),Be.xmax=Math.max(Be[0][0],Be[2][0]),Be.ymin=Math.min(Be[0][1],Be[2][1]),Be.ymax=Math.max(Be[0][1],Be[2][1])),Be}function Mt(Be){return function(Re,we){for(var ye,Se,Me=0;Me<Be.length;Me++){var He=Be[Me],qe=He._id,rt=qe.charAt(0);if(we.isRect){ye||(ye={});var pt=we[rt+"min"],At=we[rt+"max"];pt!==void 0&&At!==void 0&&(ye[qe]=[O(He,pt),O(He,At)].sort(M))}else Se||(Se={}),Se[qe]=we.map(H(He))}ye&&(Re.range=ye),Se&&(Re.lassoPoints=Se)}}function Bt(Be){var Re=Be.plotinfo;return Re.fillRangeItems||Mt(Be.xaxes.concat(Be.yaxes))}function Qe(Be,Re){Be.emit("plotly_selecting",Re)}function ke(Be,Re){Re&&(Re.selections=(Be.layout||{}).selections||[]),Be.emit("plotly_selected",Re)}function ze(Be){Be.emit("plotly_deselect",null)}G.exports={reselect:Fe,prepSelect:re,clearOutline:T,clearSelectionsCache:ee,selectOnClick:ie}},89827:function(G,V,e){var g=e(50215),_=e(41940),a=e(82196).line,C=e(79952).P,A=e(1426).extendFlat,v=e(44467).templatedArray;e(24695);var p=e(9012),t=e(5386).R,r=e(37281);G.exports=v("shape",{visible:A({},p.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:A({},p.legend,{editType:"calc+arraydraw"}),legendgroup:A({},p.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:A({},p.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:_({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:A({},p.legendrank,{editType:"calc+arraydraw"}),legendwidth:A({},p.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:A({},g.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:A({},g.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:A({},a.color,{editType:"arraydraw"}),width:A({},a.width,{editType:"calc+arraydraw"}),dash:A({},C,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:t({},{keys:Object.keys(r)}),font:_({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(G,V,e){var g=e(71828),_=e(89298),a=e(21459),C=e(30477);G.exports=function(s){var n=s._fullLayout,i=g.filterVisible(n.shapes);if(!(!i.length||!s._fullData.length))for(var f=0;f<i.length;f++){var u=i[f];u._extremes={};var y,c,T=_.getRefType(u.xref),h=_.getRefType(u.yref);if(u.xref!=="paper"&&T!=="domain"){var l=u.xsizemode==="pixel"?u.xanchor:u.x0,d=u.xsizemode==="pixel"?u.xanchor:u.x1;y=_.getFromId(s,u.xref),c=t(y,l,d,u.path,a.paramIsX),c&&(u._extremes[y._id]=_.findExtremes(y,c,A(u)))}if(u.yref!=="paper"&&h!=="domain"){var E=u.ysizemode==="pixel"?u.yanchor:u.y0,S=u.ysizemode==="pixel"?u.yanchor:u.y1;y=_.getFromId(s,u.yref),c=t(y,E,S,u.path,a.paramIsY),c&&(u._extremes[y._id]=_.findExtremes(y,c,v(u)))}}};function A(r){return p(r.line.width,r.xsizemode,r.x0,r.x1,r.path,!1)}function v(r){return p(r.line.width,r.ysizemode,r.y0,r.y1,r.path,!0)}function p(r,s,n,i,f,u){var y=r/2,c=u;if(s==="pixel"){var T=f?C.extractPathCoords(f,u?a.paramIsY:a.paramIsX):[n,i],h=g.aggNums(Math.max,null,T),l=g.aggNums(Math.min,null,T),d=l<0?Math.abs(l)+y:y,E=h>0?h+y:y;return{ppad:y,ppadplus:c?d:E,ppadminus:c?E:d}}else return{ppad:y}}function t(r,s,n,i,f){var u=r.type==="category"||r.type==="multicategory"?r.r2c:r.d2c;if(s!==void 0)return[u(s),u(n)];if(i){var y=1/0,c=-1/0,T=i.match(a.segmentRE),h,l,d,E,S;for(r.type==="date"&&(u=C.decodeDate(u)),h=0;h<T.length;h++)l=T[h],d=f[l.charAt(0)].drawn,d!==void 0&&(E=T[h].substr(1).match(a.paramRE),!(!E||E.length<d)&&(S=u(E[d]),S<y&&(y=S),S>c&&(c=S)));if(c>=y)return[y,c]}}},21459:function(G){G.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(G,V,e){var g=e(71828),_=e(89298),a=e(85501),C=e(89827),A=e(30477);G.exports=function(r,s){a(r,s,{name:"shapes",handleItemDefaults:p})};function v(t,r){return t?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}function p(t,r,s){function n(Q,j){return g.coerce(t,r,C,Q,j)}r._isShape=!0;var i=n("visible");if(i){var f=n("showlegend");f&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),g.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var u=n("path"),y=u?"path":"rect",c=n("type",y),T=c!=="path";T&&delete r.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var h=n("line.width");h&&(n("line.color"),n("line.dash"));for(var l=n("xsizemode"),d=n("ysizemode"),E=["x","y"],S=0;S<2;S++){var P=E[S],x=P+"anchor",M=P==="x"?l:d,w={_fullLayout:s},o,L,m,F=_.coerceRef(t,r,w,P,void 0,"paper"),I=_.getRefType(F);if(I==="range"?(o=_.getFromId(w,F),o._shapeIndices.push(r._index),m=A.rangeToShapePosition(o),L=A.shapePositionToRange(o)):L=m=g.identity,T){var U=.25,z=.75,N=P+"0",B=P+"1",O=t[N],H=t[B];t[N]=L(t[N],!0),t[B]=L(t[B],!0),M==="pixel"?(n(N,0),n(B,10)):(_.coercePosition(r,w,n,F,N,U),_.coercePosition(r,w,n,F,B,z)),r[N]=m(r[N]),r[B]=m(r[B]),t[N]=O,t[B]=H}if(M==="pixel"){var Y=t[x];t[x]=L(t[x],!0),_.coercePosition(r,w,n,F,x,.25),r[x]=m(r[x]),t[x]=Y}}T&&g.noneOrAll(t,r,["x0","x1","y0","y1"]);var J=c==="line",re,ie;if(T&&(re=n("label.texttemplate")),re||(ie=n("label.text")),ie||re){n("label.textangle");var ce=n("label.textposition",J?"middle":"middle center");n("label.xanchor"),n("label.yanchor",v(J,ce)),n("label.padding"),g.coerceFont(n,"label.font",s.font)}}}},48100:function(G,V,e){var g=e(71828),_=e(89298),a=e(63893),C=e(91424),A=e(60165).readPaths,v=e(30477),p=v.getPathString,t=e(37281),r=e(18783).FROM_TL;G.exports=function(f,u,y,c){if(c.selectAll(".shape-label").remove(),!!(y.label.text||y.label.texttemplate)){var T;if(y.label.texttemplate){var h={};if(y.type!=="path"){var l=_.getFromId(f,y.xref),d=_.getFromId(f,y.yref);for(var E in t){var S=t[E](y,l,d);S!==void 0&&(h[E]=S)}}T=g.texttemplateStringForShapes(y.label.texttemplate,{},f._fullLayout._d3locale,h)}else T=y.label.text;var P={"data-index":u},x=y.label.font,M={"data-notex":1},w=c.append("g").attr(P).classed("shape-label",!0),o=w.append("text").attr(M).classed("shape-label-text",!0).text(T),L,m,F,I;if(y.path){var U=p(f,y),z=A(U,f);L=1/0,F=1/0,m=-1/0,I=-1/0;for(var N=0;N<z.length;N++)for(var B=0;B<z[N].length;B++)for(var O=z[N][B],H=1;H<O.length;H+=2){var Y=O[H],J=O[H+1];L=Math.min(L,Y),m=Math.max(m,Y),F=Math.min(F,J),I=Math.max(I,J)}}else{var re=_.getFromId(f,y.xref),ie=_.getRefType(y.xref),ce=_.getFromId(f,y.yref),Q=_.getRefType(y.yref),j=v.getDataToPixel(f,re,!1,ie),Z=v.getDataToPixel(f,ce,!0,Q);L=j(y.x0),m=j(y.x1),F=Z(y.y0),I=Z(y.y1)}var $=y.label.textangle;$==="auto"&&(y.type==="line"?$=s(L,F,m,I):$=0),o.call(function(oe){return oe.call(C.font,x).attr({}),a.convertToTspans(oe,f),oe});var te=C.bBox(o.node()),se=n(L,F,m,I,y,$,te),ee=se.textx,q=se.texty,le=se.xanchor;o.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[le],y:q,x:ee,transform:"rotate("+$+","+ee+","+q+")"}).call(a.positionText,ee,q)}};function s(i,f,u,y){var c,T;return T=Math.abs(u-i),u>=i?c=f-y:c=y-f,-180/Math.PI*Math.atan2(c,T)}function n(i,f,u,y,c,T,h){var l=c.label.textposition,d=c.label.textangle,E=c.label.padding,S=c.type,P=Math.PI/180*T,x=Math.sin(P),M=Math.cos(P),w=c.label.xanchor,o=c.label.yanchor,L,m,F,I;if(S==="line"){l==="start"?(L=i,m=f):l==="end"?(L=u,m=y):(L=(i+u)/2,m=(f+y)/2),w==="auto"&&(l==="start"?d==="auto"?u>i?w="left":u<i?w="right":w="center":u>i?w="right":u<i?w="left":w="center":l==="end"?d==="auto"?u>i?w="right":u<i?w="left":w="center":u>i?w="left":u<i?w="right":w="center":w="center");var U={left:1,center:0,right:-1},z={bottom:-1,middle:0,top:1};if(d==="auto"){var N=z[o];F=-E*x*N,I=E*M*N}else{var B=U[w],O=z[o];F=E*B,I=E*O}L=L+F,m=m+I}else F=E+3,l.indexOf("right")!==-1?(L=Math.max(i,u)-F,w==="auto"&&(w="right")):l.indexOf("left")!==-1?(L=Math.min(i,u)+F,w==="auto"&&(w="left")):(L=(i+u)/2,w==="auto"&&(w="center")),l.indexOf("top")!==-1?m=Math.min(f,y):l.indexOf("bottom")!==-1?m=Math.max(f,y):m=(f+y)/2,I=E,o==="bottom"?m=m-I:o==="top"&&(m=m+I);var H=r[o],Y=c.label.font.size,J=h.height,re=(J*H-Y)*x,ie=-(J*H-Y)*M;return{textx:L+re,texty:m+ie,xanchor:w}}},42359:function(G,V,e){var g=e(71828),_=g.strTranslate,a=e(28569),C=e(64505),A=C.drawMode,v=C.selectMode,p=e(73972),t=e(7901),r=e(89995),s=r.i000,n=r.i090,i=r.i180,f=r.i270,u=e(51873),y=u.clearOutlineControllers,c=e(60165),T=c.pointsOnRectangle,h=c.pointsOnEllipse,l=c.writePaths,d=e(90551).newShapes,E=e(90551).createShapeObj,S=e(35855),P=e(48100);G.exports=function o(L,m,F,I){I||(I=0);var U=F.gd;function z(){o(L,m,F,I++),(h(L[0])||F.hasText)&&N({redrawing:!0})}function N(be){var Le={};F.isActiveShape!==void 0&&(F.isActiveShape=!1,Le=d(m,F)),F.isActiveSelection!==void 0&&(F.isActiveSelection=!1,Le=S(m,F),U._fullLayout._reselect=!0),Object.keys(Le).length&&p.call((be||{}).redrawing?"relayout":"_guiRelayout",U,Le)}var B=U._fullLayout,O=B._zoomlayer,H=F.dragmode,Y=A(H),J=v(H);(Y||J)&&(U._fullLayout._outlining=!0),y(U),m.attr("d",l(L));var re,ie,ce,Q,j;if(!I&&(F.isActiveShape||F.isActiveSelection)){j=x([],L);var Z=O.append("g").attr("class","outline-controllers");he(Z),Pe()}if(Y&&F.hasText){var $=O.select(".label-temp"),te=E(m,F,F.dragmode);P(U,"label-temp",te,$)}function se(be){ce=+be.srcElement.getAttribute("data-i"),Q=+be.srcElement.getAttribute("data-j"),re[ce][Q].moveFn=ee}function ee(be,Le){if(L.length){var We=j[ce][Q][1],je=j[ce][Q][2],Fe=L[ce],Ze=Fe.length;if(T(Fe)){var ut=be,at=Le;if(F.isActiveSelection){var it=M(Fe,Q);it[1]===Fe[Q][1]?at=0:ut=0}for(var $e=0;$e<Ze;$e++)if($e!==Q){var st=Fe[$e];st[1]===Fe[Q][1]&&(st[1]=We+ut),st[2]===Fe[Q][2]&&(st[2]=je+at)}if(Fe[Q][1]=We+ut,Fe[Q][2]=je+at,!T(Fe))for(var ct=0;ct<Ze;ct++)for(var vt=0;vt<Fe[ct].length;vt++)Fe[ct][vt]=j[ce][ct][vt]}else Fe[Q][1]=We+be,Fe[Q][2]=je+Le;z()}}function q(){N()}function le(){if(L.length&&L[ce]&&L[ce].length){for(var be=[],Le=0;Le<L[ce].length;Le++)Le!==Q&&be.push(L[ce][Le]);be.length>1&&!(be.length===2&&be[1][0]==="Z")&&(Q===0&&(be[0][0]="M"),L[ce]=be,z(),N())}}function oe(be,Le){if(be===2){ce=+Le.srcElement.getAttribute("data-i"),Q=+Le.srcElement.getAttribute("data-j");var We=L[ce];!T(We)&&!h(We)&&le()}}function he(be){re=[];for(var Le=0;Le<L.length;Le++){var We=L[Le],je=T(We),Fe=!je&&h(We);re[Le]=[];for(var Ze=We.length,ut=0;ut<Ze;ut++)if(We[ut][0]!=="Z"&&!(Fe&&ut!==s&&ut!==n&&ut!==i&&ut!==f)){var at=je&&F.isActiveSelection,it;at&&(it=M(We,ut));var $e=We[ut][1],st=We[ut][2],ct=be.append(at?"rect":"circle").attr("data-i",Le).attr("data-j",ut).style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(at){var vt=it[1]-$e,St=it[2]-st,Mt=St?5:Math.max(Math.min(25,Math.abs(vt)-5),5),Bt=vt?5:Math.max(Math.min(25,Math.abs(St)-5),5);ct.classed(St?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Mt).attr("height",Bt).attr("x",$e-Mt/2).attr("y",st-Bt/2).attr("transform",_(vt/2,St/2))}else ct.classed("cursor-grab",!0).attr("r",5).attr("cx",$e).attr("cy",st);re[Le][ut]={element:ct.node(),gd:U,prepFn:se,doneFn:q,clickFn:oe},a.init(re[Le][ut])}}}function me(be,Le){if(L.length)for(var We=0;We<L.length;We++)for(var je=0;je<L[We].length;je++)for(var Fe=0;Fe+2<L[We][je].length;Fe+=2)L[We][je][Fe+1]=j[We][je][Fe+1]+be,L[We][je][Fe+2]=j[We][je][Fe+2]+Le}function Ce(be,Le){me(be,Le),z()}function Ae(be){ce=+be.srcElement.getAttribute("data-i"),ce||(ce=0),ie[ce].moveFn=Ce}function Ue(){N()}function Ve(be){be===2&&w(U)}function Pe(){if(ie=[],!!L.length){var be=0;ie[be]={element:m[0][0],gd:U,prepFn:Ae,doneFn:Ue,clickFn:Ve},a.init(ie[be])}}};function x(o,L){for(var m=0;m<L.length;m++){var F=L[m];o[m]=[];for(var I=0;I<F.length;I++){o[m][I]=[];for(var U=0;U<F[I].length;U++)o[m][I][U]=F[I][U]}}return o}function M(o,L){var m=o[L][1],F=o[L][2],I=o.length,U,z,N;return U=(L+1)%I,z=o[U][1],N=o[U][2],z===m&&N===F&&(U=(L+2)%I,z=o[U][1],N=o[U][2]),[U,z,N]}function w(o){if(v(o._fullLayout.dragmode)){y(o);var L=o._fullLayout._activeSelectionIndex,m=(o.layout||{}).selections||[];if(L<m.length){for(var F=[],I=0;I<m.length;I++)I!==L&&F.push(m[I]);delete o._fullLayout._activeSelectionIndex;var U=o._fullLayout.selections[L];o._fullLayout._deselect={xref:U.xref,yref:U.yref},p.call("_guiRelayout",o,{selections:F})}}}},34031:function(G,V,e){var g=e(39898),_=e(73972),a=e(71828),C=e(89298),A=e(60165).readPaths,v=e(42359),p=e(48100),t=e(51873).clearOutlineControllers,r=e(7901),s=e(91424),n=e(44467).arrayEditor,i=e(28569),f=e(6964),u=e(21459),y=e(30477),c=y.getPathString;G.exports={draw:T,drawOne:d,eraseActiveShape:w,drawLabel:p};function T(o){var L=o._fullLayout;L._shapeUpperLayer.selectAll("path").remove(),L._shapeLowerLayer.selectAll("path").remove(),L._shapeUpperLayer.selectAll("text").remove(),L._shapeLowerLayer.selectAll("text").remove();for(var m in L._plots){var F=L._plots[m].shapelayer;F&&(F.selectAll("path").remove(),F.selectAll("text").remove())}for(var I=0;I<L.shapes.length;I++)L.shapes[I].visible===!0&&d(o,I)}function h(o){return!!o._fullLayout._outlining}function l(o){return!o._context.edits.shapePosition}function d(o,L){o._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+L+'"]').remove();var m=y.makeShapesOptionsAndPlotinfo(o,L),F=m.options,I=m.plotinfo;if(!F._input||F.visible!==!0)return;if(F.layer!=="below")z(o._fullLayout._shapeUpperLayer);else if(F.xref==="paper"||F.yref==="paper")z(o._fullLayout._shapeLowerLayer);else if(I._hadPlotinfo){var U=I.mainplotinfo||I;z(U.shapelayer)}else z(o._fullLayout._shapeLowerLayer);function z(N){var B=c(o,F),O={"data-index":L,"fill-rule":F.fillrule,d:B},H=F.opacity,Y=F.fillcolor,J=F.line.width?F.line.color:"rgba(0,0,0,0)",re=F.line.width,ie=F.line.dash;!re&&F.editable===!0&&(re=5,ie="solid");var ce=B[B.length-1]!=="Z",Q=l(o)&&F.editable&&o._fullLayout._activeShapeIndex===L;Q&&(Y=ce?"rgba(0,0,0,0)":o._fullLayout.activeshape.fillcolor,H=o._fullLayout.activeshape.opacity);var j=N.append("g").classed("shape-group",!0).attr({"data-index":L}),Z=j.append("path").attr(O).style("opacity",H).call(r.stroke,J).call(r.fill,Y).call(s.dashLine,ie,re);E(j,o,F),p(o,L,F,j);var $;if((Q||o._context.edits.shapePosition)&&($=n(o.layout,"shapes",F)),Q){Z.style({cursor:"move"});var te={element:Z.node(),plotinfo:I,gd:o,editHelpers:$,hasText:F.label.text||F.label.texttemplate,isActiveShape:!0},se=A(B,o);v(se,Z,te)}else o._context.edits.shapePosition?S(o,Z,F,L,N,$):F.editable===!0&&Z.style("pointer-events",ce||r.opacity(Y)*H<=.5?"stroke":"all");Z.node().addEventListener("click",function(){return x(o,Z)})}}function E(o,L,m){var F=(m.xref+m.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");s.setClipUrl(o,F?"clip"+L._fullLayout._uid+F:null,L)}function S(o,L,m,F,I,U){var z=10,N=10,B=m.xsizemode==="pixel",O=m.ysizemode==="pixel",H=m.type==="line",Y=m.type==="path",J=U.modifyItem,re,ie,ce,Q,j,Z,$,te,se,ee,q,le,oe,he,me,Ce=g.select(L.node().parentNode),Ae=C.getFromId(o,m.xref),Ue=C.getRefType(m.xref),Ve=C.getFromId(o,m.yref),Pe=C.getRefType(m.yref),be=y.getDataToPixel(o,Ae,!1,Ue),Le=y.getDataToPixel(o,Ve,!0,Pe),We=y.getPixelToData(o,Ae,!1,Ue),je=y.getPixelToData(o,Ve,!0,Pe),Fe=at(),Ze={element:Fe.node(),gd:o,prepFn:st,doneFn:ct,clickFn:vt},ut;i.init(Ze),Fe.node().onmousemove=$e;function at(){return H?it():L}function it(){var ze=10,Be=Math.max(m.line.width,ze),Re=I.append("g").attr("data-index",F).attr("drag-helper",!0);Re.append("path").attr("d",L.attr("d")).style({cursor:"move","stroke-width":Be,"stroke-opacity":"0"});var we={"fill-opacity":"0"},ye=Math.max(Be/2,ze);return Re.append("circle").attr({"data-line-point":"start-point",cx:B?be(m.xanchor)+m.x0:be(m.x0),cy:O?Le(m.yanchor)-m.y0:Le(m.y0),r:ye}).style(we).classed("cursor-grab",!0),Re.append("circle").attr({"data-line-point":"end-point",cx:B?be(m.xanchor)+m.x1:be(m.x1),cy:O?Le(m.yanchor)-m.y1:Le(m.y1),r:ye}).style(we).classed("cursor-grab",!0),Re}function $e(ze){if(h(o)){ut=null;return}if(H)ze.target.tagName==="path"?ut="move":ut=ze.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Be=Ze.element.getBoundingClientRect(),Re=Be.right-Be.left,we=Be.bottom-Be.top,ye=ze.clientX-Be.left,Se=ze.clientY-Be.top,Me=!Y&&Re>z&&we>N&&!ze.shiftKey?i.getCursor(ye/Re,1-Se/we):"move";f(L,Me),ut=Me.split("-")[0]}}function st(ze){h(o)||(B&&(j=be(m.xanchor)),O&&(Z=Le(m.yanchor)),m.type==="path"?me=m.path:(re=B?m.x0:be(m.x0),ie=O?m.y0:Le(m.y0),ce=B?m.x1:be(m.x1),Q=O?m.y1:Le(m.y1)),re<ce?(se=re,oe="x0",ee=ce,he="x1"):(se=ce,oe="x1",ee=re,he="x0"),!O&&ie<Q||O&&ie>Q?($=ie,q="y0",te=Q,le="y1"):($=Q,q="y1",te=ie,le="y0"),$e(ze),Bt(I,m),ke(L,m,o),Ze.moveFn=ut==="move"?St:Mt,Ze.altKey=ze.altKey)}function ct(){h(o)||(f(L),Qe(I),E(L,o,m),_.call("_guiRelayout",o,U.getUpdateObj()))}function vt(){h(o)||Qe(I)}function St(ze,Be){if(m.type==="path"){var Re=function(Se){return Se},we=Re,ye=Re;B?J("xanchor",m.xanchor=We(j+ze)):(we=function(Me){return We(be(Me)+ze)},Ae&&Ae.type==="date"&&(we=y.encodeDate(we))),O?J("yanchor",m.yanchor=je(Z+Be)):(ye=function(Me){return je(Le(Me)+Be)},Ve&&Ve.type==="date"&&(ye=y.encodeDate(ye))),J("path",m.path=P(me,we,ye))}else B?J("xanchor",m.xanchor=We(j+ze)):(J("x0",m.x0=We(re+ze)),J("x1",m.x1=We(ce+ze))),O?J("yanchor",m.yanchor=je(Z+Be)):(J("y0",m.y0=je(ie+Be)),J("y1",m.y1=je(Q+Be)));L.attr("d",c(o,m)),Bt(I,m),p(o,F,m,Ce)}function Mt(ze,Be){if(Y){var Re=function(yt){return yt},we=Re,ye=Re;B?J("xanchor",m.xanchor=We(j+ze)):(we=function($t){return We(be($t)+ze)},Ae&&Ae.type==="date"&&(we=y.encodeDate(we))),O?J("yanchor",m.yanchor=je(Z+Be)):(ye=function($t){return je(Le($t)+Be)},Ve&&Ve.type==="date"&&(ye=y.encodeDate(ye))),J("path",m.path=P(me,we,ye))}else if(H){if(ut==="resize-over-start-point"){var Se=re+ze,Me=O?ie-Be:ie+Be;J("x0",m.x0=B?Se:We(Se)),J("y0",m.y0=O?Me:je(Me))}else if(ut==="resize-over-end-point"){var He=ce+ze,qe=O?Q-Be:Q+Be;J("x1",m.x1=B?He:We(He)),J("y1",m.y1=O?qe:je(qe))}}else{var rt=function(yt){return ut.indexOf(yt)!==-1},pt=rt("n"),At=rt("s"),jt=rt("w"),tr=rt("e"),Ct=pt?$+Be:$,Nt=At?te+Be:te,Kt=jt?se+ze:se,wr=tr?ee+ze:ee;O&&(pt&&(Ct=$-Be),At&&(Nt=te-Be)),(!O&&Nt-Ct>N||O&&Ct-Nt>N)&&(J(q,m[q]=O?Ct:je(Ct)),J(le,m[le]=O?Nt:je(Nt))),wr-Kt>z&&(J(oe,m[oe]=B?Kt:We(Kt)),J(he,m[he]=B?wr:We(wr)))}L.attr("d",c(o,m)),Bt(I,m),p(o,F,m,Ce)}function Bt(ze,Be){(B||O)&&Re();function Re(){var we=Be.type!=="path",ye=ze.selectAll(".visual-cue").data([0]),Se=1;ye.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Se}).classed("visual-cue",!0);var Me=be(B?Be.xanchor:a.midRange(we?[Be.x0,Be.x1]:y.extractPathCoords(Be.path,u.paramIsX))),He=Le(O?Be.yanchor:a.midRange(we?[Be.y0,Be.y1]:y.extractPathCoords(Be.path,u.paramIsY)));if(Me=y.roundPositionForSharpStrokeRendering(Me,Se),He=y.roundPositionForSharpStrokeRendering(He,Se),B&&O){var qe="M"+(Me-1-Se)+","+(He-1-Se)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";ye.attr("d",qe)}else if(B){var rt="M"+(Me-1-Se)+","+(He-9-Se)+"v18 h2 v-18 Z";ye.attr("d",rt)}else{var pt="M"+(Me-9-Se)+","+(He-1-Se)+"h18 v2 h-18 Z";ye.attr("d",pt)}}}function Qe(ze){ze.selectAll(".visual-cue").remove()}function ke(ze,Be,Re){var we=Be.xref,ye=Be.yref,Se=C.getFromId(Re,we),Me=C.getFromId(Re,ye),He="";we!=="paper"&&!Se.autorange&&(He+=we),ye!=="paper"&&!Me.autorange&&(He+=ye),s.setClipUrl(ze,He?"clip"+Re._fullLayout._uid+He:null,Re)}}function P(o,L,m){return o.replace(u.segmentRE,function(F){var I=0,U=F.charAt(0),z=u.paramIsX[U],N=u.paramIsY[U],B=u.numParams[U],O=F.substr(1).replace(u.paramRE,function(H){return I>=B||(z[I]?H=L(H):N[I]&&(H=m(H)),I++),H});return U+O})}function x(o,L){if(l(o)){var m=L.node(),F=+m.getAttribute("data-index");if(F>=0){if(F===o._fullLayout._activeShapeIndex){M(o);return}o._fullLayout._activeShapeIndex=F,o._fullLayout._deactivateShape=M,T(o)}}}function M(o){if(l(o)){var L=o._fullLayout._activeShapeIndex;L>=0&&(t(o),delete o._fullLayout._activeShapeIndex,T(o))}}function w(o){if(l(o)){t(o);var L=o._fullLayout._activeShapeIndex,m=(o.layout||{}).shapes||[];if(L<m.length){for(var F=[],I=0;I<m.length;I++)I!==L&&F.push(m[I]);return delete o._fullLayout._activeShapeIndex,_.call("_guiRelayout",o,{shapes:F})}}}},29241:function(G,V,e){var g=e(30962).overrideAll,_=e(9012),a=e(41940),C=e(79952).P,A=e(1426).extendFlat,v=e(5386).R,p=e(37281);G.exports=g({newshape:{visible:A({},_.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:A({},_.legend,{}),legendgroup:A({},_.legendgroup,{}),legendgrouptitle:{text:A({},_.legendgrouptitle.text,{}),font:a({})},legendrank:A({},_.legendrank,{}),legendwidth:A({},_.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:A({},C,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:A({},_.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:v({newshape:!0},{keys:Object.keys(p)}),font:a({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},89995:function(G){var V=32;G.exports={CIRCLE_SIDES:V,i000:0,i090:V/4,i180:V/2,i270:V/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(G,V,e){var g=e(7901),_=e(71828);function a(C,A){return C?"bottom":A.indexOf("top")!==-1?"top":A.indexOf("bottom")!==-1?"bottom":"middle"}G.exports=function(A,v,p){p("newshape.visible"),p("newshape.name"),p("newshape.showlegend"),p("newshape.legend"),p("newshape.legendwidth"),p("newshape.legendgroup"),p("newshape.legendgrouptitle.text"),_.coerceFont(p,"newshape.legendgrouptitle.font"),p("newshape.legendrank"),p("newshape.drawdirection"),p("newshape.layer"),p("newshape.fillcolor"),p("newshape.fillrule"),p("newshape.opacity");var t=p("newshape.line.width");if(t){var r=(A||{}).plot_bgcolor||"#FFF";p("newshape.line.color",g.contrast(r)),p("newshape.line.dash")}var s=A.dragmode==="drawline",n=p("newshape.label.text"),i=p("newshape.label.texttemplate");if(n||i){p("newshape.label.textangle");var f=p("newshape.label.textposition",s?"middle":"middle center");p("newshape.label.xanchor"),p("newshape.label.yanchor",a(s,f)),p("newshape.label.padding"),_.coerceFont(p,"newshape.label.font",v.font)}p("activeshape.fillcolor"),p("activeshape.opacity")}},60165:function(G,V,e){var g=e(95616),_=e(89995),a=_.CIRCLE_SIDES,C=_.SQRT2,A=e(75549),v=A.p2r,p=A.r2p,t=[0,3,4,5,6,1,2],r=[0,3,4,1,2];V.writePaths=function(i){var f=i.length;if(!f)return"M0,0Z";for(var u="",y=0;y<f;y++)for(var c=i[y].length,T=0;T<c;T++){var h=i[y][T][0];if(h==="Z")u+="Z";else for(var l=i[y][T].length,d=0;d<l;d++){var E=d;h==="Q"||h==="S"?E=r[d]:h==="C"&&(E=t[d]),u+=i[y][T][E],d>0&&d<l-1&&(u+=",")}}return u},V.readPaths=function(i,f,u,y){var c=g(i),T=[],h=-1,l=function(){h++,T[h]=[]},d,E=0,S=0,P,x,M=function(){P=E,x=S};M();for(var w=0;w<c.length;w++){var o=[],L,m,F,I,U=c[w][0],z=U;switch(U){case"M":l(),E=+c[w][1],S=+c[w][2],o.push([z,E,S]),M();break;case"Q":case"S":L=+c[w][1],F=+c[w][2],E=+c[w][3],S=+c[w][4],o.push([z,E,S,L,F]);break;case"C":L=+c[w][1],F=+c[w][2],m=+c[w][3],I=+c[w][4],E=+c[w][5],S=+c[w][6],o.push([z,E,S,L,F,m,I]);break;case"T":case"L":E=+c[w][1],S=+c[w][2],o.push([z,E,S]);break;case"H":z="L",E=+c[w][1],o.push([z,E,S]);break;case"V":z="L",S=+c[w][1],o.push([z,E,S]);break;case"A":z="L";var N=+c[w][1],B=+c[w][2];+c[w][4]||(N=-N,B=-B);var O=E-N,H=S;for(d=1;d<=a/2;d++){var Y=2*Math.PI*d/a;o.push([z,O+N*Math.cos(Y),H+B*Math.sin(Y)])}break;case"Z":(E!==P||S!==x)&&(E=P,S=x,o.push([z,E,S]));break}for(var J=(u||{}).domain,re=f._fullLayout._size,ie=u&&u.xsizemode==="pixel",ce=u&&u.ysizemode==="pixel",Q=y===!1,j=0;j<o.length;j++){for(d=0;d+2<7;d+=2){var Z=o[j][d+1],$=o[j][d+2];Z===void 0||$===void 0||(E=Z,S=$,u&&(u.xaxis&&u.xaxis.p2r?(Q&&(Z-=u.xaxis._offset),ie?Z=p(u.xaxis,u.xanchor)+Z:Z=v(u.xaxis,Z)):(Q&&(Z-=re.l),J?Z=J.x[0]+Z/re.w:Z=Z/re.w),u.yaxis&&u.yaxis.p2r?(Q&&($-=u.yaxis._offset),ce?$=p(u.yaxis,u.yanchor)-$:$=v(u.yaxis,$)):(Q&&($-=re.t),J?$=J.y[1]-$/re.h:$=1-$/re.h)),o[j][d+1]=Z,o[j][d+2]=$)}T[h].push(o[j].slice())}}return T};function s(i,f){return Math.abs(i-f)<=1e-6}function n(i,f){var u=f[1]-i[1],y=f[2]-i[2];return Math.sqrt(u*u+y*y)}V.pointsOnRectangle=function(i){var f=i.length;if(f!==5)return!1;for(var u=1;u<3;u++){var y=i[0][u]-i[1][u],c=i[3][u]-i[2][u];if(!s(y,c))return!1;var T=i[0][u]-i[3][u],h=i[1][u]-i[2][u];if(!s(T,h))return!1}return!s(i[0][1],i[1][1])&&!s(i[0][1],i[3][1])?!1:!!(n(i[0],i[1])*n(i[0],i[3]))},V.pointsOnEllipse=function(i){var f=i.length;if(f!==a+1)return!1;f=a;for(var u=0;u<f;u++){var y=(f*2-u)%f,c=(f/2+y)%f,T=(f/2+u)%f;if(!s(n(i[u],i[T]),n(i[y],i[c])))return!1}return!0},V.handleEllipse=function(i,f,u){if(!i)return[f,u];var y=V.ellipseOver({x0:f[0],y0:f[1],x1:u[0],y1:u[1]}),c=(y.x1+y.x0)/2,T=(y.y1+y.y0)/2,h=(y.x1-y.x0)/2,l=(y.y1-y.y0)/2;h||(h=l=l/C),l||(l=h=h/C);for(var d=[],E=0;E<a;E++){var S=E*2*Math.PI/a;d.push([c+h*Math.cos(S),T+l*Math.sin(S)])}return d},V.ellipseOver=function(i){var f=i.x0,u=i.y0,y=i.x1,c=i.y1,T=y-f,h=c-u;f-=T,u-=h;var l=(f+y)/2,d=(u+c)/2,E=C;return T*=E,h*=E,{x0:l-T,y0:d-h,x1:l+T,y1:d+h}},V.fixDatesForPaths=function(i,f,u){var y=f.type==="date",c=u.type==="date";if(!y&&!c)return i;for(var T=0;T<i.length;T++)for(var h=0;h<i[T].length;h++)for(var l=0;l+2<i[T][h].length;l+=2)y&&(i[T][h][l+1]=i[T][h][l+1].replace(" ","_")),c&&(i[T][h][l+2]=i[T][h][l+2].replace(" ","_"));return i}},90551:function(G,V,e){var g=e(64505),_=g.drawMode,a=g.openMode,C=e(89995),A=C.i000,v=C.i090,p=C.i180,t=C.i270,r=C.cos45,s=C.sin45,n=e(75549),i=n.p2r,f=n.r2p,u=e(51873),y=u.clearOutline,c=e(60165),T=c.readPaths,h=c.writePaths,l=c.ellipseOver,d=c.fixDatesForPaths;function E(P,x){if(P.length){var M=P[0][0];if(M){var w=x.gd,o=x.isActiveShape,L=x.dragmode,m=(w.layout||{}).shapes||[];if(!_(L)&&o!==void 0){var F=w._fullLayout._activeShapeIndex;if(F<m.length)switch(w._fullLayout.shapes[F].type){case"rect":L="drawrect";break;case"circle":L="drawcircle";break;case"line":L="drawline";break;case"path":var I=m[F].path||"";I[I.length-1]==="Z"?L="drawclosedpath":L="drawopenpath";break}}var U=S(P,x,L);y(w);for(var z=x.editHelpers,N=(z||{}).modifyItem,B=[],O=0;O<m.length;O++){var H=w._fullLayout.shapes[O];if(B[O]=H._input,o!==void 0&&O===w._fullLayout._activeShapeIndex){var Y=U;switch(H.type){case"line":case"rect":case"circle":N("x0",Y.x0),N("x1",Y.x1),N("y0",Y.y0),N("y1",Y.y1);break;case"path":N("path",Y.path);break}}}return o===void 0?(B.push(U),B):z?z.getUpdateObj():{}}}}function S(P,x,M){var w=P[0][0],o=x.gd,L=w.getAttribute("d"),m=o._fullLayout.newshape,F=x.plotinfo,I=x.isActiveShape,U=F.xaxis,z=F.yaxis,N=!!F.domain||!F.xaxis,B=!!F.domain||!F.yaxis,O=a(M),H=T(L,o,F,I),Y={editable:!0,visible:m.visible,name:m.name,showlegend:m.showlegend,legend:m.legend,legendwidth:m.legendwidth,legendgroup:m.legendgroup,legendgrouptitle:{text:m.legendgrouptitle.text,font:m.legendgrouptitle.font},legendrank:m.legendrank,label:m.label,xref:N?"paper":U._id,yref:B?"paper":z._id,layer:m.layer,opacity:m.opacity,line:{color:m.line.color,width:m.line.width,dash:m.line.dash}};O||(Y.fillcolor=m.fillcolor,Y.fillrule=m.fillrule);var J;if(H.length===1&&(J=H[0]),J&&J.length===5&&M==="drawrect")Y.type="rect",Y.x0=J[0][1],Y.y0=J[0][2],Y.x1=J[2][1],Y.y1=J[2][2];else if(J&&M==="drawline")Y.type="line",Y.x0=J[0][1],Y.y0=J[0][2],Y.x1=J[1][1],Y.y1=J[1][2];else if(J&&M==="drawcircle"){Y.type="circle";var re=J[A][1],ie=J[v][1],ce=J[p][1],Q=J[t][1],j=J[A][2],Z=J[v][2],$=J[p][2],te=J[t][2],se=F.xaxis&&(F.xaxis.type==="date"||F.xaxis.type==="log"),ee=F.yaxis&&(F.yaxis.type==="date"||F.yaxis.type==="log");se&&(re=f(F.xaxis,re),ie=f(F.xaxis,ie),ce=f(F.xaxis,ce),Q=f(F.xaxis,Q)),ee&&(j=f(F.yaxis,j),Z=f(F.yaxis,Z),$=f(F.yaxis,$),te=f(F.yaxis,te));var q=(ie+Q)/2,le=(j+$)/2,oe=(Q-ie+ce-re)/2,he=(te-Z+$-j)/2,me=l({x0:q,y0:le,x1:q+oe*r,y1:le+he*s});se&&(me.x0=i(F.xaxis,me.x0),me.x1=i(F.xaxis,me.x1)),ee&&(me.y0=i(F.yaxis,me.y0),me.y1=i(F.yaxis,me.y1)),Y.x0=me.x0,Y.y0=me.y0,Y.x1=me.x1,Y.y1=me.y1}else Y.type="path",U&&z&&d(H,U,z),Y.path=h(H),J=null;return Y}G.exports={newShapes:E,createShapeObj:S}},51873:function(G){function V(g){var _=g._fullLayout._zoomlayer;_&&_.selectAll(".outline-controllers").remove()}function e(g){var _=g._fullLayout._zoomlayer;_&&_.selectAll(".select-outline").remove(),g._fullLayout._outlining=!1}G.exports={clearOutlineControllers:V,clearOutline:e}},30477:function(G,V,e){var g=e(21459),_=e(71828),a=e(89298);V.rangeToShapePosition=function(A){return A.type==="log"?A.r2d:function(v){return v}},V.shapePositionToRange=function(A){return A.type==="log"?A.d2r:function(v){return v}},V.decodeDate=function(A){return function(v){return v.replace&&(v=v.replace("_"," ")),A(v)}},V.encodeDate=function(A){return function(v){return A(v).replace(" ","_")}},V.extractPathCoords=function(A,v,p){var t=[],r=A.match(g.segmentRE);return r.forEach(function(s){var n=v[s.charAt(0)].drawn;if(n!==void 0){var i=s.substr(1).match(g.paramRE);if(!(!i||i.length<n)){var f=i[n],u=p?f:_.cleanNumber(f);t.push(u)}}}),t},V.getDataToPixel=function(A,v,p,t){var r=A._fullLayout._size,s;if(v)if(t==="domain")s=function(i){return v._length*(p?1-i:i)+v._offset};else{var n=V.shapePositionToRange(v);s=function(i){return v._offset+v.r2p(n(i,!0))},v.type==="date"&&(s=V.decodeDate(s))}else p?s=function(i){return r.t+r.h*(1-i)}:s=function(i){return r.l+r.w*i};return s},V.getPixelToData=function(A,v,p,t){var r=A._fullLayout._size,s;if(v)if(t==="domain")s=function(i){var f=(i-v._offset)/v._length;return p?1-f:f};else{var n=V.rangeToShapePosition(v);s=function(i){return n(v.p2r(i-v._offset))}}else p?s=function(i){return 1-(i-r.t)/r.h}:s=function(i){return(i-r.l)/r.w};return s},V.roundPositionForSharpStrokeRendering=function(A,v){var p=Math.round(v%2)===1,t=Math.round(A);return p?t+.5:t},V.makeShapesOptionsAndPlotinfo=function(A,v){var p=A._fullLayout.shapes[v]||{},t=A._fullLayout._plots[p.xref+p.yref],r=!!t;return r?t._hadPlotinfo=!0:(t={},p.xref&&p.xref!=="paper"&&(t.xaxis=A._fullLayout[p.xref+"axis"]),p.yref&&p.yref!=="paper"&&(t.yaxis=A._fullLayout[p.yref+"axis"])),t.xsizemode=p.xsizemode,t.ysizemode=p.ysizemode,t.xanchor=p.xanchor,t.yanchor=p.yanchor,{options:p,plotinfo:t}},V.makeSelectionsOptionsAndPlotinfo=function(A,v){var p=A._fullLayout.selections[v]||{},t=A._fullLayout._plots[p.xref+p.yref],r=!!t;return r?t._hadPlotinfo=!0:(t={},p.xref&&(t.xaxis=A._fullLayout[p.xref+"axis"]),p.yref&&(t.yaxis=A._fullLayout[p.yref+"axis"])),{options:p,plotinfo:t}},V.getPathString=function(A,v){var p=v.type,t=a.getRefType(v.xref),r=a.getRefType(v.yref),s=a.getFromId(A,v.xref),n=a.getFromId(A,v.yref),i=A._fullLayout._size,f,u,y,c,T,h,l,d;if(s?t==="domain"?u=function(F){return s._offset+s._length*F}:(f=V.shapePositionToRange(s),u=function(F){return s._offset+s.r2p(f(F,!0))}):u=function(F){return i.l+i.w*F},n?r==="domain"?c=function(F){return n._offset+n._length*(1-F)}:(y=V.shapePositionToRange(n),c=function(F){return n._offset+n.r2p(y(F,!0))}):c=function(F){return i.t+i.h*(1-F)},p==="path")return s&&s.type==="date"&&(u=V.decodeDate(u)),n&&n.type==="date"&&(c=V.decodeDate(c)),C(v,u,c);if(v.xsizemode==="pixel"){var E=u(v.xanchor);T=E+v.x0,h=E+v.x1}else T=u(v.x0),h=u(v.x1);if(v.ysizemode==="pixel"){var S=c(v.yanchor);l=S-v.y0,d=S-v.y1}else l=c(v.y0),d=c(v.y1);if(p==="line")return"M"+T+","+l+"L"+h+","+d;if(p==="rect")return"M"+T+","+l+"H"+h+"V"+d+"H"+T+"Z";var P=(T+h)/2,x=(l+d)/2,M=Math.abs(P-T),w=Math.abs(x-l),o="A"+M+","+w,L=P+M+","+x,m=P+","+(x-w);return"M"+L+o+" 0 1,1 "+m+o+" 0 0,1 "+L+"Z"};function C(A,v,p){var t=A.path,r=A.xsizemode,s=A.ysizemode,n=A.xanchor,i=A.yanchor;return t.replace(g.segmentRE,function(f){var u=0,y=f.charAt(0),c=g.paramIsX[y],T=g.paramIsY[y],h=g.numParams[y],l=f.substr(1).replace(g.paramRE,function(d){return c[u]?r==="pixel"?d=v(n)+Number(d):d=v(d):T[u]&&(s==="pixel"?d=p(i)-Number(d):d=p(d)),u++,u>h&&(d="X"),d});return u>h&&(l=l.replace(/[\s,]*X.*/,""),_.log("Ignoring extra params in segment "+f)),y+l})}},89853:function(G,V,e){var g=e(34031);G.exports={moduleType:"component",name:"shapes",layoutAttributes:e(89827),supplyLayoutDefaults:e(84726),supplyDrawNewShapeDefaults:e(45547),includeBasePlot:e(76325)("shapes"),calcAutorange:e(5627),draw:g.draw,drawOne:g.drawOne}},37281:function(G){function V(f,u){return u?u.d2l(f):f}function e(f,u){return u?u.l2d(f):f}function g(f){return f.x0}function _(f){return f.x1}function a(f){return f.y0}function C(f){return f.y1}function A(f,u){return V(f.x1,u)-V(f.x0,u)}function v(f,u,y){return V(f.y1,y)-V(f.y0,y)}function p(f,u){return Math.abs(A(f,u))}function t(f,u,y){return Math.abs(v(f,u,y))}function r(f,u,y){return f.type!=="line"?void 0:Math.sqrt(Math.pow(A(f,u),2)+Math.pow(v(f,u,y),2))}function s(f,u){return e((V(f.x1,u)+V(f.x0,u))/2,u)}function n(f,u,y){return e((V(f.y1,y)+V(f.y0,y))/2,y)}function i(f,u,y){return f.type!=="line"?void 0:v(f,u,y)/A(f,u)}G.exports={x0:g,x1:_,y0:a,y1:C,slope:i,dx:A,dy:v,width:p,height:t,length:r,xcenter:s,ycenter:n}},75067:function(G,V,e){var g=e(41940),_=e(35025),a=e(1426).extendDeepAll,C=e(30962).overrideAll,A=e(85594),v=e(44467).templatedArray,p=e(98292),t=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});G.exports=C(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:t,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:a(_({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:A.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:g({})},font:g({}),activebgcolor:{valType:"color",dflt:p.gripBgActiveColor},bgcolor:{valType:"color",dflt:p.railBgColor},bordercolor:{valType:"color",dflt:p.railBorderColor},borderwidth:{valType:"number",min:0,dflt:p.railBorderWidth},ticklen:{valType:"number",min:0,dflt:p.tickLength},tickcolor:{valType:"color",dflt:p.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:p.minorTickLength}}),"arraydraw","from-root")},98292:function(G){G.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(G,V,e){var g=e(71828),_=e(85501),a=e(75067),C=e(98292),A=C.name,v=a.steps;G.exports=function(s,n){_(s,n,{name:A,handleItemDefaults:p})};function p(r,s,n){function i(d,E){return g.coerce(r,s,a,d,E)}for(var f=_(r,s,{name:"steps",handleItemDefaults:t}),u=0,y=0;y<f.length;y++)f[y].visible&&u++;var c;if(u<2?c=s.visible=!1:c=i("visible"),!!c){s._stepCount=u;var T=s._visibleSteps=g.filterVisible(f),h=i("active");(f[h]||{}).visible||(s.active=T[0]._index),i("x"),i("y"),g.noneOrAll(r,s,["x","y"]),i("xanchor"),i("yanchor"),i("len"),i("lenmode"),i("pad.t"),i("pad.r"),i("pad.b"),i("pad.l"),g.coerceFont(i,"font",n.font);var l=i("currentvalue.visible");l&&(i("currentvalue.xanchor"),i("currentvalue.prefix"),i("currentvalue.suffix"),i("currentvalue.offset"),g.coerceFont(i,"currentvalue.font",s.font)),i("transition.duration"),i("transition.easing"),i("bgcolor"),i("activebgcolor"),i("bordercolor"),i("borderwidth"),i("ticklen"),i("tickwidth"),i("tickcolor"),i("minorticklen")}}function t(r,s){function n(u,y){return g.coerce(r,s,v,u,y)}var i;if(r.method!=="skip"&&!Array.isArray(r.args)?i=s.visible=!1:i=n("visible"),i){n("method"),n("args");var f=n("label","step-"+s._index);n("value",f),n("execute")}}},44504:function(G,V,e){var g=e(39898),_=e(74875),a=e(7901),C=e(91424),A=e(71828),v=A.strTranslate,p=e(63893),t=e(44467).arrayEditor,r=e(98292),s=e(18783),n=s.LINE_SPACING,i=s.FROM_TL,f=s.FROM_BR;G.exports=function(N){var B=N._context.staticPlot,O=N._fullLayout,H=y(O,N),Y=O._infolayer.selectAll("g."+r.containerClassName).data(H.length>0?[0]:[]);Y.enter().append("g").classed(r.containerClassName,!0).style("cursor",B?null:"ew-resize");function J(Q){Q._commandObserver&&(Q._commandObserver.remove(),delete Q._commandObserver),_.autoMargin(N,u(Q))}if(Y.exit().each(function(){g.select(this).selectAll("g."+r.groupClassName).each(J)}).remove(),H.length!==0){var re=Y.selectAll("g."+r.groupClassName).data(H,c);re.enter().append("g").classed(r.groupClassName,!0),re.exit().each(J).remove();for(var ie=0;ie<H.length;ie++){var ce=H[ie];T(N,ce)}re.each(function(Q){var j=g.select(this);o(Q),_.manageCommandObserver(N,Q,Q._visibleSteps,function(Z){var $=j.data()[0];$.active!==Z.index&&($._dragging||x(N,j,$,Z.index,!1,!0))}),h(N,g.select(this),Q)})}};function u(z){return r.autoMarginIdRoot+z._index}function y(z,N){for(var B=z[r.name],O=[],H=0;H<B.length;H++){var Y=B[H];Y.visible&&(Y._gd=N,O.push(Y))}return O}function c(z){return z._index}function T(z,N){var B=C.tester.selectAll("g."+r.labelGroupClass).data(N._visibleSteps);B.enter().append("g").classed(r.labelGroupClass,!0);var O=0,H=0;B.each(function(te){var se=g.select(this),ee=E(se,{step:te},N),q=ee.node();if(q){var le=C.bBox(q);H=Math.max(H,le.height),O=Math.max(O,le.width)}}),B.remove();var Y=N._dims={};Y.inputAreaWidth=Math.max(r.railWidth,r.gripHeight);var J=z._fullLayout._size;Y.lx=J.l+J.w*N.x,Y.ly=J.t+J.h*(1-N.y),N.lenmode==="fraction"?Y.outerLength=Math.round(J.w*N.len):Y.outerLength=N.len,Y.inputAreaStart=0,Y.inputAreaLength=Math.round(Y.outerLength-N.pad.l-N.pad.r);var re=Y.inputAreaLength-2*r.stepInset,ie=re/(N._stepCount-1),ce=O+r.labelPadding;if(Y.labelStride=Math.max(1,Math.ceil(ce/ie)),Y.labelHeight=H,Y.currentValueMaxWidth=0,Y.currentValueHeight=0,Y.currentValueTotalHeight=0,Y.currentValueMaxLines=1,N.currentvalue.visible){var Q=C.tester.append("g");B.each(function(te){var se=l(Q,N,te.label),ee=se.node()&&C.bBox(se.node())||{width:0,height:0},q=p.lineCount(se);Y.currentValueMaxWidth=Math.max(Y.currentValueMaxWidth,Math.ceil(ee.width)),Y.currentValueHeight=Math.max(Y.currentValueHeight,Math.ceil(ee.height)),Y.currentValueMaxLines=Math.max(Y.currentValueMaxLines,q)}),Y.currentValueTotalHeight=Y.currentValueHeight+N.currentvalue.offset,Q.remove()}Y.height=Y.currentValueTotalHeight+r.tickOffset+N.ticklen+r.labelOffset+Y.labelHeight+N.pad.t+N.pad.b;var j="left";A.isRightAnchor(N)&&(Y.lx-=Y.outerLength,j="right"),A.isCenterAnchor(N)&&(Y.lx-=Y.outerLength/2,j="center");var Z="top";A.isBottomAnchor(N)&&(Y.ly-=Y.height,Z="bottom"),A.isMiddleAnchor(N)&&(Y.ly-=Y.height/2,Z="middle"),Y.outerLength=Math.ceil(Y.outerLength),Y.height=Math.ceil(Y.height),Y.lx=Math.round(Y.lx),Y.ly=Math.round(Y.ly);var $={y:N.y,b:Y.height*f[Z],t:Y.height*i[Z]};N.lenmode==="fraction"?($.l=0,$.xl=N.x-N.len*i[j],$.r=0,$.xr=N.x+N.len*f[j]):($.x=N.x,$.l=Y.outerLength*i[j],$.r=Y.outerLength*f[j]),_.autoMargin(z,u(N),$)}function h(z,N,B){(B.steps[B.active]||{}).visible||(B.active=B._visibleSteps[0]._index),N.call(l,B).call(U,B).call(S,B).call(w,B).call(I,z,B).call(d,z,B);var O=B._dims;C.setTranslate(N,O.lx+B.pad.l,O.ly+B.pad.t),N.call(L,B,!1),N.call(l,B)}function l(z,N,B){if(N.currentvalue.visible){var O=N._dims,H,Y;switch(N.currentvalue.xanchor){case"right":H=O.inputAreaLength-r.currentValueInset-O.currentValueMaxWidth,Y="left";break;case"center":H=O.inputAreaLength*.5,Y="middle";break;default:H=r.currentValueInset,Y="left"}var J=A.ensureSingle(z,"text",r.labelClass,function(Z){Z.attr({"text-anchor":Y,"data-notex":1})}),re=N.currentvalue.prefix?N.currentvalue.prefix:"";if(typeof B=="string")re+=B;else{var ie=N.steps[N.active].label,ce=N._gd._fullLayout._meta;ce&&(ie=A.templateString(ie,ce)),re+=ie}N.currentvalue.suffix&&(re+=N.currentvalue.suffix),J.call(C.font,N.currentvalue.font).text(re).call(p.convertToTspans,N._gd);var Q=p.lineCount(J),j=(O.currentValueMaxLines+1-Q)*N.currentvalue.font.size*n;return p.positionText(J,H,j),J}}function d(z,N,B){var O=A.ensureSingle(z,"rect",r.gripRectClass,function(H){H.call(M,N,z,B).style("pointer-events","all")});O.attr({width:r.gripWidth,height:r.gripHeight,rx:r.gripRadius,ry:r.gripRadius}).call(a.stroke,B.bordercolor).call(a.fill,B.bgcolor).style("stroke-width",B.borderwidth+"px")}function E(z,N,B){var O=A.ensureSingle(z,"text",r.labelClass,function(J){J.attr({"text-anchor":"middle","data-notex":1})}),H=N.step.label,Y=B._gd._fullLayout._meta;return Y&&(H=A.templateString(H,Y)),O.call(C.font,B.font).text(H).call(p.convertToTspans,B._gd),O}function S(z,N){var B=A.ensureSingle(z,"g",r.labelsClass),O=N._dims,H=B.selectAll("g."+r.labelGroupClass).data(O.labelSteps);H.enter().append("g").classed(r.labelGroupClass,!0),H.exit().remove(),H.each(function(Y){var J=g.select(this);J.call(E,Y,N),C.setTranslate(J,m(N,Y.fraction),r.tickOffset+N.ticklen+N.font.size*n+r.labelOffset+O.currentValueTotalHeight)})}function P(z,N,B,O,H){var Y=Math.round(O*(B._stepCount-1)),J=B._visibleSteps[Y]._index;J!==B.active&&x(z,N,B,J,!0,H)}function x(z,N,B,O,H,Y){var J=B.active;B.active=O,t(z.layout,r.name,B).applyUpdate("active",O);var re=B.steps[B.active];N.call(L,B,Y),N.call(l,B),z.emit("plotly_sliderchange",{slider:B,step:B.steps[B.active],interaction:H,previousActive:J}),re&&re.method&&H&&(N._nextMethod?(N._nextMethod.step=re,N._nextMethod.doCallback=H,N._nextMethod.doTransition=Y):(N._nextMethod={step:re,doCallback:H,doTransition:Y},N._nextMethodRaf=window.requestAnimationFrame(function(){var ie=N._nextMethod.step;ie.method&&(ie.execute&&_.executeAPICommand(z,ie.method,ie.args),N._nextMethod=null,N._nextMethodRaf=null)})))}function M(z,N,B){if(N._context.staticPlot)return;var O=B.node(),H=g.select(N);function Y(){return B.data()[0]}function J(){var re=Y();N.emit("plotly_sliderstart",{slider:re});var ie=B.select("."+r.gripRectClass);g.event.stopPropagation(),g.event.preventDefault(),ie.call(a.fill,re.activebgcolor);var ce=F(re,g.mouse(O)[0]);P(N,B,re,ce,!0),re._dragging=!0;function Q(){var Z=Y(),$=F(Z,g.mouse(O)[0]);P(N,B,Z,$,!1)}H.on("mousemove",Q),H.on("touchmove",Q);function j(){var Z=Y();Z._dragging=!1,ie.call(a.fill,Z.bgcolor),H.on("mouseup",null),H.on("mousemove",null),H.on("touchend",null),H.on("touchmove",null),N.emit("plotly_sliderend",{slider:Z,step:Z.steps[Z.active]})}H.on("mouseup",j),H.on("touchend",j)}z.on("mousedown",J),z.on("touchstart",J)}function w(z,N){var B=z.selectAll("rect."+r.tickRectClass).data(N._visibleSteps),O=N._dims;B.enter().append("rect").classed(r.tickRectClass,!0),B.exit().remove(),B.attr({width:N.tickwidth+"px","shape-rendering":"crispEdges"}),B.each(function(H,Y){var J=Y%O.labelStride===0,re=g.select(this);re.attr({height:J?N.ticklen:N.minorticklen}).call(a.fill,N.tickcolor),C.setTranslate(re,m(N,Y/(N._stepCount-1))-.5*N.tickwidth,(J?r.tickOffset:r.minorTickOffset)+O.currentValueTotalHeight)})}function o(z){var N=z._dims;N.labelSteps=[];for(var B=z._stepCount,O=0;O<B;O+=N.labelStride)N.labelSteps.push({fraction:O/(B-1),step:z._visibleSteps[O]})}function L(z,N,B){for(var O=z.select("rect."+r.gripRectClass),H=0,Y=0;Y<N._stepCount;Y++)if(N._visibleSteps[Y]._index===N.active){H=Y;break}var J=m(N,H/(N._stepCount-1));if(!N._invokingCommand){var re=O;B&&N.transition.duration>0&&(re=re.transition().duration(N.transition.duration).ease(N.transition.easing)),re.attr("transform",v(J-r.gripWidth*.5,N._dims.currentValueTotalHeight))}}function m(z,N){var B=z._dims;return B.inputAreaStart+r.stepInset+(B.inputAreaLength-2*r.stepInset)*Math.min(1,Math.max(0,N))}function F(z,N){var B=z._dims;return Math.min(1,Math.max(0,(N-r.stepInset-B.inputAreaStart)/(B.inputAreaLength-2*r.stepInset-2*B.inputAreaStart)))}function I(z,N,B){var O=B._dims,H=A.ensureSingle(z,"rect",r.railTouchRectClass,function(Y){Y.call(M,N,z,B).style("pointer-events","all")});H.attr({width:O.inputAreaLength,height:Math.max(O.inputAreaWidth,r.tickOffset+B.ticklen+O.labelHeight)}).call(a.fill,B.bgcolor).attr("opacity",0),C.setTranslate(H,0,O.currentValueTotalHeight)}function U(z,N){var B=N._dims,O=B.inputAreaLength-r.railInset*2,H=A.ensureSingle(z,"rect",r.railRectClass);H.attr({width:O,height:r.railWidth,rx:r.railRadius,ry:r.railRadius,"shape-rendering":"crispEdges"}).call(a.stroke,N.bordercolor).call(a.fill,N.bgcolor).style("stroke-width",N.borderwidth+"px"),C.setTranslate(H,r.railInset,(B.inputAreaWidth-r.railWidth)*.5+B.currentValueTotalHeight)}},23243:function(G,V,e){var g=e(98292);G.exports={moduleType:"component",name:g.name,layoutAttributes:e(75067),supplyLayoutDefaults:e(12343),draw:e(44504)}},92998:function(G,V,e){var g=e(39898),_=e(92770),a=e(74875),C=e(73972),A=e(71828),v=A.strTranslate,p=e(91424),t=e(7901),r=e(63893),s=e(37822),n=e(18783).OPPOSITE_SIDE,i=/ [XY][0-9]* /;function f(u,y,c){var T=c.propContainer,h=c.propName,l=c.placeholder,d=c.traceIndex,E=c.avoid||{},S=c.attributes,P=c.transform,x=c.containerGroup,M=u._fullLayout,w=1,o=!1,L=T.title,m=(L&&L.text?L.text:"").trim(),F=L&&L.font?L.font:{},I=F.family,U=F.size,z=F.color,N;h==="title.text"?N="titleText":h.indexOf("axis")!==-1?N="axisTitleText":h.indexOf("colorbar"!==-1)&&(N="colorbarTitleText");var B=u._context.edits[N];m===""?w=0:m.replace(i," % ")===l.replace(i," % ")&&(w=.2,o=!0,B||(m="")),c._meta?m=A.templateString(m,c._meta):M._meta&&(m=A.templateString(m,M._meta));var O=m||B,H;x||(x=A.ensureSingle(M._infolayer,"g","g-"+y),H=M._hColorbarMoveTitle);var Y=x.selectAll("text").data(O?[0]:[]);if(Y.enter().append("text"),Y.text(m).attr("class",y),Y.exit().remove(),!O)return x;function J(Q){A.syncOrAsync([re,ie],Q)}function re(Q){var j;return!P&&H&&(P={}),P?(j="",P.rotate&&(j+="rotate("+[P.rotate,S.x,S.y]+")"),(P.offset||H)&&(j+=v(0,(P.offset||0)-(H||0)))):j=null,Q.attr("transform",j),Q.style({"font-family":I,"font-size":g.round(U,2)+"px",fill:t.rgb(z),opacity:w*t.opacity(z),"font-weight":a.fontWeight}).attr(S).call(r.convertToTspans,u),a.previousPromises(u)}function ie(Q){var j=g.select(Q.node().parentNode);if(E&&E.selection&&E.side&&m){j.attr("transform",null);var Z=n[E.side],$=E.side==="left"||E.side==="top"?-1:1,te=_(E.pad)?E.pad:2,se=p.bBox(j.node()),ee={t:0,b:0,l:0,r:0},q=u._fullLayout._reservedMargin;for(var le in q)for(var oe in q[le]){var he=q[le][oe];ee[oe]=Math.max(ee[oe],he)}var me={left:ee.l,top:ee.t,right:M.width-ee.r,bottom:M.height-ee.b},Ce=E.maxShift||$*(me[E.side]-se[E.side]),Ae=0;if(Ce<0)Ae=Ce;else{var Ue=E.offsetLeft||0,Ve=E.offsetTop||0;se.left-=Ue,se.right-=Ue,se.top-=Ve,se.bottom-=Ve,E.selection.each(function(){var be=p.bBox(this);A.bBoxIntersect(se,be,te)&&(Ae=Math.max(Ae,$*(be[E.side]-se[Z])+te))}),Ae=Math.min(Ce,Ae),T._titleScoot=Math.abs(Ae)}if(Ae>0||Ce<0){var Pe={left:[-Ae,0],right:[Ae,0],top:[0,-Ae],bottom:[0,Ae]}[E.side];j.attr("transform",v(Pe[0],Pe[1]))}}}Y.call(J);function ce(){w=0,o=!0,Y.text(l).on("mouseover.opacity",function(){g.select(this).transition().duration(s.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){g.select(this).transition().duration(s.HIDE_PLACEHOLDER).style("opacity",0)})}return B&&(m?Y.on(".opacity",null):ce(),Y.call(r.makeEditable,{gd:u}).on("edit",function(Q){d!==void 0?C.call("_guiRestyle",u,h,Q,d):C.call("_guiRelayout",u,h,Q)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(J)}).on("input",function(Q){this.text(Q||" ").call(r.positionText,S.x,S.y)})),Y.classed("js-placeholder",o),x}G.exports={draw:f}},7163:function(G,V,e){var g=e(41940),_=e(22399),a=e(1426).extendFlat,C=e(30962).overrideAll,A=e(35025),v=e(44467).templatedArray,p=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});G.exports=C(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:p,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:a(A({editType:"arraydraw"}),{}),font:g({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:_.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(G){G.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},64897:function(G,V,e){var g=e(71828),_=e(85501),a=e(7163),C=e(75909),A=C.name,v=a.buttons;G.exports=function(s,n){var i={name:A,handleItemDefaults:p};_(s,n,i)};function p(r,s,n){function i(y,c){return g.coerce(r,s,a,y,c)}var f=_(r,s,{name:"buttons",handleItemDefaults:t}),u=i("visible",f.length>0);u&&(i("active"),i("direction"),i("type"),i("showactive"),i("x"),i("y"),g.noneOrAll(r,s,["x","y"]),i("xanchor"),i("yanchor"),i("pad.t"),i("pad.r"),i("pad.b"),i("pad.l"),g.coerceFont(i,"font",n.font),i("bgcolor",n.paper_bgcolor),i("bordercolor"),i("borderwidth"))}function t(r,s){function n(f,u){return g.coerce(r,s,v,f,u)}var i=n("visible",r.method==="skip"||Array.isArray(r.args));i&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}},13689:function(G,V,e){var g=e(39898),_=e(74875),a=e(7901),C=e(91424),A=e(71828),v=e(63893),p=e(44467).arrayEditor,t=e(18783).LINE_SPACING,r=e(75909),s=e(25849);G.exports=function(F){var I=F._fullLayout,U=A.filterVisible(I[r.name]);function z(ie){_.autoMargin(F,w(ie))}var N=I._menulayer.selectAll("g."+r.containerClassName).data(U.length>0?[0]:[]);if(N.enter().append("g").classed(r.containerClassName,!0).style("cursor","pointer"),N.exit().each(function(){g.select(this).selectAll("g."+r.headerGroupClassName).each(z)}).remove(),U.length!==0){var B=N.selectAll("g."+r.headerGroupClassName).data(U,n);B.enter().append("g").classed(r.headerGroupClassName,!0);for(var O=A.ensureSingle(N,"g",r.dropdownButtonGroupClassName,function(ie){ie.style("pointer-events","all")}),H=0;H<U.length;H++){var Y=U[H];M(F,Y)}var J="updatemenus"+I._uid,re=new s(F,O,J);B.enter().size()&&(O.node().parentNode.appendChild(O.node()),O.call(L)),B.exit().each(function(ie){O.call(L),z(ie)}).remove(),B.each(function(ie){var ce=g.select(this),Q=ie.type==="dropdown"?O:null;_.manageCommandObserver(F,ie,ie.buttons,function(j){u(F,ie,ie.buttons[j.index],ce,Q,re,j.index,!0)}),ie.type==="dropdown"?(y(F,ce,O,re,ie),f(O,ie)&&c(F,ce,O,re,ie)):c(F,ce,null,null,ie)})}};function n(m){return m._index}function i(m){return+m.attr(r.menuIndexAttrName)==-1}function f(m,F){return+m.attr(r.menuIndexAttrName)===F._index}function u(m,F,I,U,z,N,B,O){F.active=B,p(m.layout,r.name,F).applyUpdate("active",B),F.type==="buttons"?c(m,U,null,null,F):F.type==="dropdown"&&(z.attr(r.menuIndexAttrName,"-1"),y(m,U,z,N,F),O||c(m,U,z,N,F))}function y(m,F,I,U,z){var N=A.ensureSingle(F,"g",r.headerClassName,function(ie){ie.style("pointer-events","all")}),B=z._dims,O=z.active,H=z.buttons[O]||r.blankHeaderOpts,Y={y:z.pad.t,yPad:0,x:z.pad.l,xPad:0,index:0},J={width:B.headerWidth,height:B.headerHeight};N.call(l,z,H,m).call(o,z,Y,J);var re=A.ensureSingle(F,"text",r.headerArrowClassName,function(ie){ie.attr("text-anchor","end").call(C.font,z.font).text(r.arrowSymbol[z.direction])});re.attr({x:B.headerWidth-r.arrowOffsetX+z.pad.l,y:B.headerHeight/2+r.textOffsetY+z.pad.t}),N.on("click",function(){I.call(L,String(f(I,z)?-1:z._index)),c(m,F,I,U,z)}),N.on("mouseover",function(){N.call(P)}),N.on("mouseout",function(){N.call(x,z)}),C.setTranslate(F,B.lx,B.ly)}function c(m,F,I,U,z){I||(I=F,I.attr("pointer-events","all"));var N=!i(I)||z.type==="buttons"?z.buttons:[],B=z.type==="dropdown"?r.dropdownButtonClassName:r.buttonClassName,O=I.selectAll("g."+B).data(A.filterVisible(N)),H=O.enter().append("g").classed(B,!0),Y=O.exit();z.type==="dropdown"?(H.attr("opacity","0").transition().attr("opacity","1"),Y.transition().attr("opacity","0").remove()):Y.remove();var J=0,re=0,ie=z._dims,ce=["up","down"].indexOf(z.direction)!==-1;z.type==="dropdown"&&(ce?re=ie.headerHeight+r.gapButtonHeader:J=ie.headerWidth+r.gapButtonHeader),z.type==="dropdown"&&z.direction==="up"&&(re=-r.gapButtonHeader+r.gapButton-ie.openHeight),z.type==="dropdown"&&z.direction==="left"&&(J=-r.gapButtonHeader+r.gapButton-ie.openWidth);var Q={x:ie.lx+J+z.pad.l,y:ie.ly+re+z.pad.t,yPad:r.gapButton,xPad:r.gapButton,index:0},j={l:Q.x+z.borderwidth,t:Q.y+z.borderwidth};O.each(function(Z,$){var te=g.select(this);te.call(l,z,Z,m).call(o,z,Q),te.on("click",function(){g.event.defaultPrevented||(Z.execute&&(Z.args2&&z.active===$?(u(m,z,Z,F,I,U,-1),_.executeAPICommand(m,Z.method,Z.args2)):(u(m,z,Z,F,I,U,$),_.executeAPICommand(m,Z.method,Z.args))),m.emit("plotly_buttonclicked",{menu:z,button:Z,active:z.active}))}),te.on("mouseover",function(){te.call(P)}),te.on("mouseout",function(){te.call(x,z),O.call(S,z)})}),O.call(S,z),ce?(j.w=Math.max(ie.openWidth,ie.headerWidth),j.h=Q.y-j.t):(j.w=Q.x-j.l,j.h=Math.max(ie.openHeight,ie.headerHeight)),j.direction=z.direction,U&&(O.size()?T(m,F,I,U,z,j):h(U))}function T(m,F,I,U,z,N){var B=z.direction,O=B==="up"||B==="down",H=z._dims,Y=z.active,J,re,ie;if(O)for(re=0,ie=0;ie<Y;ie++)re+=H.heights[ie]+r.gapButton;else for(J=0,ie=0;ie<Y;ie++)J+=H.widths[ie]+r.gapButton;U.enable(N,J,re),U.hbar&&U.hbar.attr("opacity","0").transition().attr("opacity","1"),U.vbar&&U.vbar.attr("opacity","0").transition().attr("opacity","1")}function h(m){var F=!!m.hbar,I=!!m.vbar;F&&m.hbar.transition().attr("opacity","0").each("end",function(){F=!1,I||m.disable()}),I&&m.vbar.transition().attr("opacity","0").each("end",function(){I=!1,F||m.disable()})}function l(m,F,I,U){m.call(d,F).call(E,F,I,U)}function d(m,F){var I=A.ensureSingle(m,"rect",r.itemRectClassName,function(U){U.attr({rx:r.rx,ry:r.ry,"shape-rendering":"crispEdges"})});I.call(a.stroke,F.bordercolor).call(a.fill,F.bgcolor).style("stroke-width",F.borderwidth+"px")}function E(m,F,I,U){var z=A.ensureSingle(m,"text",r.itemTextClassName,function(O){O.attr({"text-anchor":"start","data-notex":1})}),N=I.label,B=U._fullLayout._meta;B&&(N=A.templateString(N,B)),z.call(C.font,F.font).text(N).call(v.convertToTspans,U)}function S(m,F){var I=F.active;m.each(function(U,z){var N=g.select(this);z===I&&F.showactive&&N.select("rect."+r.itemRectClassName).call(a.fill,r.activeColor)})}function P(m){m.select("rect."+r.itemRectClassName).call(a.fill,r.hoverColor)}function x(m,F){m.select("rect."+r.itemRectClassName).call(a.fill,F.bgcolor)}function M(m,F){var I=F._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},U=C.tester.selectAll("g."+r.dropdownButtonClassName).data(A.filterVisible(F.buttons));U.enter().append("g").classed(r.dropdownButtonClassName,!0);var z=["up","down"].indexOf(F.direction)!==-1;U.each(function(J,re){var ie=g.select(this);ie.call(l,F,J,m);var ce=ie.select("."+r.itemTextClassName),Q=ce.node()&&C.bBox(ce.node()).width,j=Math.max(Q+r.textPadX,r.minWidth),Z=F.font.size*t,$=v.lineCount(ce),te=Math.max(Z*$,r.minHeight)+r.textOffsetY;te=Math.ceil(te),j=Math.ceil(j),I.widths[re]=j,I.heights[re]=te,I.height1=Math.max(I.height1,te),I.width1=Math.max(I.width1,j),z?(I.totalWidth=Math.max(I.totalWidth,j),I.openWidth=I.totalWidth,I.totalHeight+=te+r.gapButton,I.openHeight+=te+r.gapButton):(I.totalWidth+=j+r.gapButton,I.openWidth+=j+r.gapButton,I.totalHeight=Math.max(I.totalHeight,te),I.openHeight=I.totalHeight)}),z?I.totalHeight-=r.gapButton:I.totalWidth-=r.gapButton,I.headerWidth=I.width1+r.arrowPadX,I.headerHeight=I.height1,F.type==="dropdown"&&(z?(I.width1+=r.arrowPadX,I.totalHeight=I.height1):I.totalWidth=I.width1,I.totalWidth+=r.arrowPadX),U.remove();var N=I.totalWidth+F.pad.l+F.pad.r,B=I.totalHeight+F.pad.t+F.pad.b,O=m._fullLayout._size;I.lx=O.l+O.w*F.x,I.ly=O.t+O.h*(1-F.y);var H="left";A.isRightAnchor(F)&&(I.lx-=N,H="right"),A.isCenterAnchor(F)&&(I.lx-=N/2,H="center");var Y="top";A.isBottomAnchor(F)&&(I.ly-=B,Y="bottom"),A.isMiddleAnchor(F)&&(I.ly-=B/2,Y="middle"),I.totalWidth=Math.ceil(I.totalWidth),I.totalHeight=Math.ceil(I.totalHeight),I.lx=Math.round(I.lx),I.ly=Math.round(I.ly),_.autoMargin(m,w(F),{x:F.x,y:F.y,l:N*({right:1,center:.5}[H]||0),r:N*({left:1,center:.5}[H]||0),b:B*({top:1,middle:.5}[Y]||0),t:B*({bottom:1,middle:.5}[Y]||0)})}function w(m){return r.autoMarginIdRoot+m._index}function o(m,F,I,U){U=U||{};var z=m.select("."+r.itemRectClassName),N=m.select("."+r.itemTextClassName),B=F.borderwidth,O=I.index,H=F._dims;C.setTranslate(m,B+I.x,B+I.y);var Y=["up","down"].indexOf(F.direction)!==-1,J=U.height||(Y?H.heights[O]:H.height1);z.attr({x:0,y:0,width:U.width||(Y?H.width1:H.widths[O]),height:J});var re=F.font.size*t,ie=v.lineCount(N),ce=(ie-1)*re/2;v.positionText(N,r.textOffsetX,J/2-ce+r.textOffsetY),Y?I.y+=H.heights[O]+I.yPad:I.x+=H.widths[O]+I.xPad,I.index++}function L(m,F){m.attr(r.menuIndexAttrName,F||"-1").selectAll("g."+r.dropdownButtonClassName).remove()}},20763:function(G,V,e){var g=e(75909);G.exports={moduleType:"component",name:g.name,layoutAttributes:e(7163),supplyLayoutDefaults:e(64897),draw:e(13689)}},25849:function(G,V,e){G.exports=A;var g=e(39898),_=e(7901),a=e(91424),C=e(71828);function A(v,p,t){this.gd=v,this.container=p,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}A.barWidth=2,A.barLength=20,A.barRadius=2,A.barPad=1,A.barColor="#808BA4",A.prototype.enable=function(p,t,r){var s=this.gd._fullLayout,n=s.width,i=s.height;this.position=p;var f=this.position.l,u=this.position.w,y=this.position.t,c=this.position.h,T=this.position.direction,h=T==="down",l=T==="left",d=T==="right",E=T==="up",S=u,P=c,x,M,w,o;!h&&!l&&!d&&!E&&(this.position.direction="down",h=!0);var L=h||E;L?(x=f,M=x+S,h?(w=y,o=Math.min(w+P,i),P=o-w):(o=y+P,w=Math.max(o-P,0),P=o-w)):(w=y,o=w+P,l?(M=f+S,x=Math.max(M-S,0),S=M-x):(x=f,M=Math.min(x+S,n),S=M-x)),this._box={l:x,t:w,w:S,h:P};var m=u>S,F=A.barLength+2*A.barPad,I=A.barWidth+2*A.barPad,U=f,z=y+c;z+I>i&&(z=i-I);var N=this.container.selectAll("rect.scrollbar-horizontal").data(m?[0]:[]);N.exit().on(".drag",null).remove(),N.enter().append("rect").classed("scrollbar-horizontal",!0).call(_.fill,A.barColor),m?(this.hbar=N.attr({rx:A.barRadius,ry:A.barRadius,x:U,y:z,width:F,height:I}),this._hbarXMin=U+F/2,this._hbarTranslateMax=S-F):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var B=c>P,O=A.barWidth+2*A.barPad,H=A.barLength+2*A.barPad,Y=f+u,J=y;Y+O>n&&(Y=n-O);var re=this.container.selectAll("rect.scrollbar-vertical").data(B?[0]:[]);re.exit().on(".drag",null).remove(),re.enter().append("rect").classed("scrollbar-vertical",!0).call(_.fill,A.barColor),B?(this.vbar=re.attr({rx:A.barRadius,ry:A.barRadius,x:Y,y:J,width:O,height:H}),this._vbarYMin=J+H/2,this._vbarTranslateMax=P-H):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var ie=this.id,ce=x-.5,Q=B?M+O+.5:M+.5,j=w-.5,Z=m?o+I+.5:o+.5,$=s._topdefs.selectAll("#"+ie).data(m||B?[0]:[]);if($.exit().remove(),$.enter().append("clipPath").attr("id",ie).append("rect"),m||B?(this._clipRect=$.select("rect").attr({x:Math.floor(ce),y:Math.floor(j),width:Math.ceil(Q)-Math.floor(ce),height:Math.ceil(Z)-Math.floor(j)}),this.container.call(a.setClipUrl,ie,this.gd),this.bg.attr({x:f,y,width:u,height:c})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),m||B){var te=g.behavior.drag().on("dragstart",function(){g.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(te);var se=g.behavior.drag().on("dragstart",function(){g.event.sourceEvent.preventDefault(),g.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));m&&this.hbar.on(".drag",null).call(se),B&&this.vbar.on(".drag",null).call(se)}this.setTranslate(t,r)},A.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},A.prototype._onBoxDrag=function(){var p=this.translateX,t=this.translateY;this.hbar&&(p-=g.event.dx),this.vbar&&(t-=g.event.dy),this.setTranslate(p,t)},A.prototype._onBoxWheel=function(){var p=this.translateX,t=this.translateY;this.hbar&&(p+=g.event.deltaY),this.vbar&&(t+=g.event.deltaY),this.setTranslate(p,t)},A.prototype._onBarDrag=function(){var p=this.translateX,t=this.translateY;if(this.hbar){var r=p+this._hbarXMin,s=r+this._hbarTranslateMax,n=C.constrain(g.event.x,r,s),i=(n-r)/(s-r),f=this.position.w-this._box.w;p=i*f}if(this.vbar){var u=t+this._vbarYMin,y=u+this._vbarTranslateMax,c=C.constrain(g.event.y,u,y),T=(c-u)/(y-u),h=this.position.h-this._box.h;t=T*h}this.setTranslate(p,t)},A.prototype.setTranslate=function(p,t){var r=this.position.w-this._box.w,s=this.position.h-this._box.h;if(p=C.constrain(p||0,0,r),t=C.constrain(t||0,0,s),this.translateX=p,this.translateY=t,this.container.call(a.setTranslate,this._box.l-this.position.l-p,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+p-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var n=p/r;this.hbar.call(a.setTranslate,p+n*this._hbarTranslateMax,t)}if(this.vbar){var i=t/s;this.vbar.call(a.setTranslate,p,t+i*this._vbarTranslateMax)}}},18783:function(G){G.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(G){G.exports={axisRefDescription:function(V,e,g){return["If set to a",V,"axis id (e.g. *"+V+"* or","*"+V+"2*), the `"+V+"` position refers to a",V,"coordinate. If set to *paper*, the `"+V+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+g+"). If set to a",V,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+V+"2 domain* refers to the domain of the second",V," axis and a",V,"position of 0.5 refers to the","point between the",e,"and the",g,"of the domain of the","second",V,"axis."].join(" ")}}},22372:function(G){G.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:""},DECREASING:{COLOR:"#FF4136",SYMBOL:""}}},31562:function(G){G.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(G){G.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},29659:function(G){G.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87381:function(G){G.exports={circle:"","circle-open":"",square:"","square-open":"",diamond:"","diamond-open":"",cross:"+",x:""}},37822:function(G){G.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(G){G.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},32396:function(G,V){V.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],V.STYLE=V.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},77922:function(G,V){V.xmlns="http://www.w3.org/2000/xmlns/",V.svg="http://www.w3.org/2000/svg",V.xlink="http://www.w3.org/1999/xlink",V.svgAttrs={xmlns:V.svg,"xmlns:xlink":V.xlink}},8729:function(G,V,e){V.version=e(11506).version,e(7417),e(98847);for(var g=e(73972),_=V.register=g.register,a=e(10641),C=Object.keys(a),A=0;A<C.length;A++){var v=C[A];v.charAt(0)!=="_"&&(V[v]=a[v]),_({moduleType:"apiMethod",name:v,fn:a[v]})}_(e(67368)),_([e(32745),e(2468),e(47322),e(89853),e(68804),e(20763),e(23243),e(13137),e(97218),e(83312),e(37369),e(21081),e(12311),e(2199),e(30211),e(64168)]),_([e(92177),e(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(_(window.PlotlyLocales),delete window.PlotlyLocales),V.Icons=e(24255);var p=e(30211),t=e(74875);V.Plots={resize:t.resize,graphJson:t.graphJson,sendDataToCloud:t.sendDataToCloud},V.Fx={hover:p.hover,unhover:p.unhover,loneHover:p.loneHover,loneUnhover:p.loneUnhover},V.Snapshot=e(44511),V.PlotSchema=e(86281)},24255:function(G){G.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(G,V){V.isLeftAnchor=function(g){return g.xanchor==="left"||g.xanchor==="auto"&&g.x<=.3333333333333333},V.isCenterAnchor=function(g){return g.xanchor==="center"||g.xanchor==="auto"&&g.x>.3333333333333333&&g.x<.6666666666666666},V.isRightAnchor=function(g){return g.xanchor==="right"||g.xanchor==="auto"&&g.x>=.6666666666666666},V.isTopAnchor=function(g){return g.yanchor==="top"||g.yanchor==="auto"&&g.y>=.6666666666666666},V.isMiddleAnchor=function(g){return g.yanchor==="middle"||g.yanchor==="auto"&&g.y>.3333333333333333&&g.y<.6666666666666666},V.isBottomAnchor=function(g){return g.yanchor==="bottom"||g.yanchor==="auto"&&g.y<=.3333333333333333}},26348:function(G,V,e){var g=e(64872),_=g.mod,a=g.modHalf,C=Math.PI,A=2*C;function v(T){return T/180*C}function p(T){return T/C*180}function t(T){return Math.abs(T[1]-T[0])>A-1e-14}function r(T,h){return a(h-T,A)}function s(T,h){return Math.abs(r(T,h))}function n(T,h){if(t(h))return!0;var l,d;h[0]<h[1]?(l=h[0],d=h[1]):(l=h[1],d=h[0]),l=_(l,A),d=_(d,A),l>d&&(d+=A);var E=_(T,A),S=E+A;return E>=l&&E<=d||S>=l&&S<=d}function i(T,h,l,d){if(!n(h,d))return!1;var E,S;return l[0]<l[1]?(E=l[0],S=l[1]):(E=l[1],S=l[0]),T>=E&&T<=S}function f(T,h,l,d,E,S,P){E=E||0,S=S||0;var x=t([l,d]),M,w,o,L,m;x?(M=0,w=C,o=A):l<d?(M=l,o=d):(M=d,o=l),T<h?(L=T,m=h):(L=h,m=T);function F(N,B){return[N*Math.cos(B)+E,S-N*Math.sin(B)]}var I=Math.abs(o-M)<=C?0:1;function U(N,B,O){return"A"+[N,N]+" "+[0,I,O]+" "+F(N,B)}var z;return x?L===null?z="M"+F(m,M)+U(m,w,0)+U(m,o,0)+"Z":z="M"+F(L,M)+U(L,w,0)+U(L,o,0)+"ZM"+F(m,M)+U(m,w,1)+U(m,o,1)+"Z":L===null?(z="M"+F(m,M)+U(m,o,0),P&&(z+="L0,0Z")):z="M"+F(L,M)+"L"+F(m,M)+U(m,o,0)+"L"+F(L,o)+U(L,M,1)+"Z",z}function u(T,h,l,d,E){return f(null,T,h,l,d,E,0)}function y(T,h,l,d,E){return f(null,T,h,l,d,E,1)}function c(T,h,l,d,E,S){return f(T,h,l,d,E,S,1)}G.exports={deg2rad:v,rad2deg:p,angleDelta:r,angleDist:s,isFullCircle:t,isAngleInsideSector:n,isPtInsideSector:i,pathArc:u,pathSector:y,pathAnnulus:c}},73627:function(G,V){var e=Array.isArray,g=ArrayBuffer,_=DataView;function a(p){return g.isView(p)&&!(p instanceof _)}V.isTypedArray=a;function C(p){return e(p)||a(p)}V.isArrayOrTypedArray=C;function A(p){return!C(p[0])}V.isArray1D=A,V.ensureArray=function(p,t){return e(p)||(p=[]),p.length=t,p},V.concat=function(){var p=[],t=!0,r=0,s,n,i,f,u,y,c,T;for(i=0;i<arguments.length;i++)f=arguments[i],y=f.length,y&&(n?p.push(f):(n=f,u=y),e(f)?s=!1:(t=!1,r?s!==f.constructor&&(s=!1):s=f.constructor),r+=y);if(!r)return[];if(!p.length)return n;if(t)return n.concat.apply(n,p);if(s){for(c=new s(r),c.set(n),i=0;i<p.length;i++)f=p[i],c.set(f,u),u+=f.length;return c}for(c=new Array(r),T=0;T<n.length;T++)c[T]=n[T];for(i=0;i<p.length;i++){for(f=p[i],T=0;T<f.length;T++)c[u+T]=f[T];u+=T}return c},V.maxRowLength=function(p){return v(p,Math.max,0)},V.minRowLength=function(p){return v(p,Math.min,1/0)};function v(p,t,r){if(C(p))if(C(p[0])){for(var s=r,n=0;n<p.length;n++)s=t(s,p[n].length);return s}else return p.length;return 0}},95218:function(G,V,e){var g=e(92770),_=e(50606).BADNUM,a=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;G.exports=function(A){return typeof A=="string"&&(A=A.replace(a,"")),g(A)?Number(A):_}},33306:function(G){G.exports=function(e){var g=e._fullLayout;g._glcanvas&&g._glcanvas.size()&&g._glcanvas.each(function(_){_.regl&&_.regl.clear({color:!0,depth:!0})})}},86367:function(G){G.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},96554:function(G,V,e){var g=e(92770),_=e(84267),a=e(9012),C=e(63282),A=e(7901),v=e(37822).DESELECTDIM,p=e(65487),t=e(30587).counter,r=e(64872).modHalf,s=e(73627).isArrayOrTypedArray;V.valObjectMeta={data_array:{coerceFunction:function(i,f,u){s(i)?f.set(i):u!==void 0&&f.set(u)}},enumerated:{coerceFunction:function(i,f,u,y){y.coerceNumber&&(i=+i),y.values.indexOf(i)===-1?f.set(u):f.set(i)},validateFunction:function(i,f){f.coerceNumber&&(i=+i);for(var u=f.values,y=0;y<u.length;y++){var c=String(u[y]);if(c.charAt(0)==="/"&&c.charAt(c.length-1)==="/"){var T=new RegExp(c.substr(1,c.length-2));if(T.test(i))return!0}else if(i===u[y])return!0}return!1}},boolean:{coerceFunction:function(i,f,u){i===!0||i===!1?f.set(i):f.set(u)}},number:{coerceFunction:function(i,f,u,y){!g(i)||y.min!==void 0&&i<y.min||y.max!==void 0&&i>y.max?f.set(u):f.set(+i)}},integer:{coerceFunction:function(i,f,u,y){i%1||!g(i)||y.min!==void 0&&i<y.min||y.max!==void 0&&i>y.max?f.set(u):f.set(+i)}},string:{coerceFunction:function(i,f,u,y){if(typeof i!="string"){var c=typeof i=="number";y.strict===!0||!c?f.set(u):f.set(String(i))}else y.noBlank&&!i?f.set(u):f.set(i)}},color:{coerceFunction:function(i,f,u){_(i).isValid()?f.set(i):f.set(u)}},colorlist:{coerceFunction:function(i,f,u){function y(c){return _(c).isValid()}!Array.isArray(i)||!i.length?f.set(u):i.every(y)?f.set(i):f.set(u)}},colorscale:{coerceFunction:function(i,f,u){f.set(C.get(i,u))}},angle:{coerceFunction:function(i,f,u){i==="auto"?f.set("auto"):g(i)?f.set(r(+i,360)):f.set(u)}},subplotid:{coerceFunction:function(i,f,u,y){var c=y.regex||t(u);if(typeof i=="string"&&c.test(i)){f.set(i);return}f.set(u)},validateFunction:function(i,f){var u=f.dflt;return i===u?!0:typeof i!="string"?!1:!!t(u).test(i)}},flaglist:{coerceFunction:function(i,f,u,y){if((y.extras||[]).indexOf(i)!==-1){f.set(i);return}if(typeof i!="string"){f.set(u);return}for(var c=i.split("+"),T=0;T<c.length;){var h=c[T];y.flags.indexOf(h)===-1||c.indexOf(h)<T?c.splice(T,1):T++}c.length?f.set(c.join("+")):f.set(u)}},any:{coerceFunction:function(i,f,u){i===void 0?f.set(u):f.set(i)}},info_array:{coerceFunction:function(i,f,u,y){function c(F,I,U){var z,N={set:function(B){z=B}};return U===void 0&&(U=I.dflt),V.valObjectMeta[I.valType].coerceFunction(F,N,U,I),z}var T=y.dimensions===2||y.dimensions==="1-2"&&Array.isArray(i)&&Array.isArray(i[0]);if(!Array.isArray(i)){f.set(u);return}var h=y.items,l=[],d=Array.isArray(h),E=d&&T&&Array.isArray(h[0]),S=T&&d&&!E,P=d&&!S?h.length:i.length,x,M,w,o,L,m;if(u=Array.isArray(u)?u:[],T)for(x=0;x<P;x++)for(l[x]=[],w=Array.isArray(i[x])?i[x]:[],S?L=h.length:d?L=h[x].length:L=w.length,M=0;M<L;M++)S?o=h[M]:d?o=h[x][M]:o=h,m=c(w[M],o,(u[x]||[])[M]),m!==void 0&&(l[x][M]=m);else for(x=0;x<P;x++)m=c(i[x],d?h[x]:h,u[x]),m!==void 0&&(l[x]=m);f.set(l)},validateFunction:function(i,f){if(!Array.isArray(i))return!1;var u=f.items,y=Array.isArray(u),c=f.dimensions===2;if(!f.freeLength&&i.length!==u.length)return!1;for(var T=0;T<i.length;T++)if(c){if(!Array.isArray(i[T])||!f.freeLength&&i[T].length!==u[T].length)return!1;for(var h=0;h<i[T].length;h++)if(!n(i[T][h],y?u[T][h]:u))return!1}else if(!n(i[T],y?u[T]:u))return!1;return!0}}},V.coerce=function(i,f,u,y,c){var T=p(u,y).get(),h=p(i,y),l=p(f,y),d=h.get(),E=f._template;if(d===void 0&&E&&(d=p(E,y).get(),E=0),c===void 0&&(c=T.dflt),T.arrayOk&&s(d))return l.set(d),d;var S=V.valObjectMeta[T.valType].coerceFunction;S(d,l,c,T);var P=l.get();return E&&P===c&&!n(d,T)&&(d=p(E,y).get(),S(d,l,c,T),P=l.get()),P},V.coerce2=function(i,f,u,y,c){var T=p(i,y),h=V.coerce(i,f,u,y,c),l=T.get();return l!=null?h:!1},V.coerceFont=function(i,f,u){var y={};return u=u||{},y.family=i(f+".family",u.family),y.size=i(f+".size",u.size),y.color=i(f+".color",u.color),y},V.coercePattern=function(i,f,u,y){var c=i(f+".shape");if(c){i(f+".solidity"),i(f+".size");var T=i(f+".fillmode"),h=T==="overlay";if(!y){var l=i(f+".bgcolor",h?u:void 0);i(f+".fgcolor",h?A.contrast(l):u)}i(f+".fgopacity",h?.5:1)}},V.coerceHoverinfo=function(i,f,u){var y=f._module.attributes,c=y.hoverinfo?y:a,T=c.hoverinfo,h;if(u._dataLength===1){var l=T.dflt==="all"?T.flags.slice():T.dflt.split("+");l.splice(l.indexOf("name"),1),h=l.join("+")}return V.coerce(i,f,c,"hoverinfo",h)},V.coerceSelectionMarkerOpacity=function(i,f){if(i.marker){var u=i.marker.opacity;if(u!==void 0){var y,c;!s(u)&&!i.selected&&!i.unselected&&(y=u,c=v*u),f("selected.marker.opacity",y),f("unselected.marker.opacity",c)}}};function n(i,f){var u=V.valObjectMeta[f.valType];if(f.arrayOk&&s(i))return!0;if(u.validateFunction)return u.validateFunction(i,f);var y={},c=y,T={set:function(h){c=h}};return u.coerceFunction(i,T,y,f),c!==y}V.validate=n},41631:function(G,V,e){var g=e(84096).i$,_=e(92770),a=e(47769),C=e(64872).mod,A=e(50606),v=A.BADNUM,p=A.ONEDAY,t=A.ONEHOUR,r=A.ONEMIN,s=A.ONESEC,n=A.EPOCHJD,i=e(73972),f=e(84096).g0,u=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,y=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,c=new Date().getFullYear()-70;function T(z){return z&&i.componentsRegistry.calendars&&typeof z=="string"&&z!=="gregorian"}V.dateTick0=function(z,N){var B=h(z,!!N);if(N<2)return B;var O=V.dateTime2ms(B,z);return O+=p*(N-1),V.ms2DateTime(O,0,z)};function h(z,N){return T(z)?N?i.getComponentMethod("calendars","CANONICAL_SUNDAY")[z]:i.getComponentMethod("calendars","CANONICAL_TICK")[z]:N?"2000-01-02":"2000-01-01"}V.dfltRange=function(z){return T(z)?i.getComponentMethod("calendars","DFLTRANGE")[z]:["2000-01-01","2001-01-01"]},V.isJSDate=function(z){return typeof z=="object"&&z!==null&&typeof z.getTime=="function"};var l,d;V.dateTime2ms=function(z,N){if(V.isJSDate(z)){var B=z.getTimezoneOffset()*r,O=(z.getUTCMinutes()-z.getMinutes())*r+(z.getUTCSeconds()-z.getSeconds())*s+(z.getUTCMilliseconds()-z.getMilliseconds());if(O){var H=3*r;B=B-H/2+C(O-B+H/2,H)}return z=Number(z)-B,z>=l&&z<=d?z:v}if(typeof z!="string"&&typeof z!="number")return v;z=String(z);var Y=T(N),J=z.charAt(0);Y&&(J==="G"||J==="g")&&(z=z.substr(1),N="");var re=Y&&N.substr(0,7)==="chinese",ie=z.match(re?y:u);if(!ie)return v;var ce=ie[1],Q=ie[3]||"1",j=Number(ie[5]||1),Z=Number(ie[7]||0),$=Number(ie[9]||0),te=Number(ie[11]||0);if(Y){if(ce.length===2)return v;ce=Number(ce);var se;try{var ee=i.getComponentMethod("calendars","getCal")(N);if(re){var q=Q.charAt(Q.length-1)==="i";Q=parseInt(Q,10),se=ee.newDate(ce,ee.toMonthIndex(ce,Q,q),j)}else se=ee.newDate(ce,Number(Q),j)}catch{return v}return se?(se.toJD()-n)*p+Z*t+$*r+te*s:v}ce.length===2?ce=(Number(ce)+2e3-c)%100+c:ce=Number(ce),Q-=1;var le=new Date(Date.UTC(2e3,Q,j,Z,$));return le.setUTCFullYear(ce),le.getUTCMonth()!==Q||le.getUTCDate()!==j?v:le.getTime()+te*s},l=V.MIN_MS=V.dateTime2ms("-9999"),d=V.MAX_MS=V.dateTime2ms("9999-12-31 23:59:59.9999"),V.isDateTime=function(z,N){return V.dateTime2ms(z,N)!==v};function E(z,N){return String(z+Math.pow(10,N)).substr(1)}var S=90*p,P=3*t,x=5*r;V.ms2DateTime=function(z,N,B){if(typeof z!="number"||!(z>=l&&z<=d))return v;N||(N=0);var O=Math.floor(C(z+.05,1)*10),H=Math.round(z-O/10),Y,J,re,ie,ce,Q;if(T(B)){var j=Math.floor(H/p)+n,Z=Math.floor(C(z,p));try{Y=i.getComponentMethod("calendars","getCal")(B).fromJD(j).formatDate("yyyy-mm-dd")}catch{Y=f("G%Y-%m-%d")(new Date(H))}if(Y.charAt(0)==="-")for(;Y.length<11;)Y="-0"+Y.substr(1);else for(;Y.length<10;)Y="0"+Y;J=N<S?Math.floor(Z/t):0,re=N<S?Math.floor(Z%t/r):0,ie=N<P?Math.floor(Z%r/s):0,ce=N<x?Z%s*10+O:0}else Q=new Date(H),Y=f("%Y-%m-%d")(Q),J=N<S?Q.getUTCHours():0,re=N<S?Q.getUTCMinutes():0,ie=N<P?Q.getUTCSeconds():0,ce=N<x?Q.getUTCMilliseconds()*10+O:0;return M(Y,J,re,ie,ce)},V.ms2DateTimeLocal=function(z){if(!(z>=l+p&&z<=d-p))return v;var N=Math.floor(C(z+.05,1)*10),B=new Date(Math.round(z-N/10)),O=g("%Y-%m-%d")(B),H=B.getHours(),Y=B.getMinutes(),J=B.getSeconds(),re=B.getUTCMilliseconds()*10+N;return M(O,H,Y,J,re)};function M(z,N,B,O,H){if((N||B||O||H)&&(z+=" "+E(N,2)+":"+E(B,2),(O||H)&&(z+=":"+E(O,2),H))){for(var Y=4;H%10===0;)Y-=1,H/=10;z+="."+E(H,Y)}return z}V.cleanDate=function(z,N,B){if(z===v)return N;if(V.isJSDate(z)||typeof z=="number"&&isFinite(z)){if(T(B))return a.error("JS Dates and milliseconds are incompatible with world calendars",z),N;if(z=V.ms2DateTimeLocal(+z),!z&&N!==void 0)return N}else if(!V.isDateTime(z,B))return a.error("unrecognized date",z),N;return z};var w=/%\d?f/g,o=/%h/g,L={1:"1",2:"1",3:"2",4:"2"};function m(z,N,B,O){z=z.replace(w,function(Y){var J=Math.min(+Y.charAt(1)||6,6),re=(N/1e3%1+2).toFixed(J).substr(2).replace(/0+$/,"")||"0";return re});var H=new Date(Math.floor(N+.05));if(z=z.replace(o,function(){return L[B("%q")(H)]}),T(O))try{z=i.getComponentMethod("calendars","worldCalFmt")(z,N,O)}catch{return"Invalid"}return B(z)(H)}var F=[59,59.9,59.99,59.999,59.9999];function I(z,N){var B=C(z+.05,p),O=E(Math.floor(B/t),2)+":"+E(C(Math.floor(B/r),60),2);if(N!=="M"){_(N)||(N=0);var H=Math.min(C(z/s,60),F[N]),Y=(100+H).toFixed(N).substr(1);N>0&&(Y=Y.replace(/0+$/,"").replace(/[\.]$/,"")),O+=":"+Y}return O}V.formatDate=function(z,N,B,O,H,Y){if(H=T(H)&&H,!N)if(B==="y")N=Y.year;else if(B==="m")N=Y.month;else if(B==="d")N=Y.dayMonth+`
`+Y.year;else return I(z,B)+`
`+m(Y.dayMonthYear,z,O,H);return m(N,z,O,H)};var U=3*p;V.incrementMonth=function(z,N,B){B=T(B)&&B;var O=C(z,p);if(z=Math.round(z-O),B)try{var H=Math.round(z/p)+n,Y=i.getComponentMethod("calendars","getCal")(B),J=Y.fromJD(H);return N%12?Y.add(J,N,"m"):Y.add(J,N/12,"y"),(J.toJD()-n)*p+O}catch{a.error("invalid ms "+z+" in calendar "+B)}var re=new Date(z+U);return re.setUTCMonth(re.getUTCMonth()+N)+O-U},V.findExactDates=function(z,N){for(var B=0,O=0,H=0,Y=0,J,re,ie=T(N)&&i.getComponentMethod("calendars","getCal")(N),ce=0;ce<z.length;ce++){if(re=z[ce],!_(re)){Y++;continue}if(!(re%p))if(ie)try{J=ie.fromJD(re/p+n),J.day()===1?J.month()===1?B++:O++:H++}catch{}else J=new Date(re),J.getUTCDate()===1?J.getUTCMonth()===0?B++:O++:H++}O+=B,H+=O;var Q=z.length-Y;return{exactYears:B/Q,exactMonths:O/Q,exactDays:H/Q}}},24401:function(G,V,e){var g=e(39898),_=e(47769),a=e(35657),C=e(79576);function A(c){var T;if(typeof c=="string"){if(T=document.getElementById(c),T===null)throw new Error("No DOM element with id '"+c+"' exists on the page.");return T}else if(c==null)throw new Error("DOM element provided is null or undefined");return c}function v(c){var T=g.select(c);return T.node()instanceof HTMLElement&&T.size()&&T.classed("js-plotly-plot")}function p(c){var T=c&&c.parentNode;T&&T.removeChild(c)}function t(c,T){r("global",c,T)}function r(c,T,h){var l="plotly.js-style-"+c,d=document.getElementById(l);d||(d=document.createElement("style"),d.setAttribute("id",l),d.appendChild(document.createTextNode("")),document.head.appendChild(d));var E=d.sheet;E.insertRule?E.insertRule(T+"{"+h+"}",0):E.addRule?E.addRule(T,h,0):_.warn("addStyleRule failed")}function s(c){var T="plotly.js-style-"+c,h=document.getElementById(T);h&&p(h)}function n(c){var T=f(c),h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return T.forEach(function(l){var d=i(l);if(d){var E=a.convertCssMatrix(d);h=C.multiply(h,h,E)}}),h}function i(c){var T=window.getComputedStyle(c,null),h=T.getPropertyValue("-webkit-transform")||T.getPropertyValue("-moz-transform")||T.getPropertyValue("-ms-transform")||T.getPropertyValue("-o-transform")||T.getPropertyValue("transform");return h==="none"?null:h.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(l){return+l})}function f(c){for(var T=[];u(c);)T.push(c),c=c.parentNode;return T}function u(c){return c&&(c instanceof Element||c instanceof HTMLElement)}function y(c,T){return c&&T&&c.top===T.top&&c.left===T.left&&c.right===T.right&&c.bottom===T.bottom}G.exports={getGraphDiv:A,isPlotDiv:v,removeElement:p,addStyleRule:t,addRelatedStyleRule:r,deleteRelatedStyleRule:s,getFullTransformMatrix:n,getElementTransformMatrix:i,getElementAndAncestors:f,equalDomRects:y}},11086:function(G,V,e){var g=e(15398).EventEmitter,_={init:function(a){if(a._ev instanceof g)return a;var C=new g,A=new g;return a._ev=C,a._internalEv=A,a.on=C.on.bind(C),a.once=C.once.bind(C),a.removeListener=C.removeListener.bind(C),a.removeAllListeners=C.removeAllListeners.bind(C),a._internalOn=A.on.bind(A),a._internalOnce=A.once.bind(A),a._removeInternalListener=A.removeListener.bind(A),a._removeAllInternalListeners=A.removeAllListeners.bind(A),a.emit=function(v,p){typeof jQuery<"u"&&jQuery(a).trigger(v,p),C.emit(v,p),A.emit(v,p)},a},triggerHandler:function(a,C,A){var v,p;typeof jQuery<"u"&&(v=jQuery(a).triggerHandler(C,A));var t=a._ev;if(!t)return v;var r=t._events[C];if(!r)return v;function s(i){if(i.listener){if(t.removeListener(C,i.listener),!i.fired)return i.fired=!0,i.listener.apply(t,[A])}else return i.apply(t,[A])}r=Array.isArray(r)?r:[r];var n;for(n=0;n<r.length-1;n++)s(r[n]);return p=s(r[n]),v!==void 0?v:p},purge:function(a){return delete a._ev,delete a.on,delete a.once,delete a.removeListener,delete a.removeAllListeners,delete a.emit,delete a._ev,delete a._internalEv,delete a._internalOn,delete a._internalOnce,delete a._removeInternalListener,delete a._removeAllInternalListeners,a}};G.exports=_},1426:function(G,V,e){var g=e(41965),_=Array.isArray;function a(A,v){var p,t;for(p=0;p<A.length;p++){if(t=A[p],t!==null&&typeof t=="object")return!1;t!==void 0&&(v[p]=t)}return!0}V.extendFlat=function(){return C(arguments,!1,!1,!1)},V.extendDeep=function(){return C(arguments,!0,!1,!1)},V.extendDeepAll=function(){return C(arguments,!0,!0,!1)},V.extendDeepNoArrays=function(){return C(arguments,!0,!1,!0)};function C(A,v,p,t){var r=A[0],s=A.length,n,i,f,u,y,c,T;if(s===2&&_(r)&&_(A[1])&&r.length===0){if(T=a(A[1],r),T)return r;r.splice(0,r.length)}for(var h=1;h<s;h++){n=A[h];for(i in n)f=r[i],u=n[i],t&&_(u)?r[i]=u:v&&u&&(g(u)||(y=_(u)))?(y?(y=!1,c=f&&_(f)?f:[]):c=f&&g(f)?f:{},r[i]=C([c,u],v,p,t)):(typeof u<"u"||p)&&(r[i]=u)}return r}},75744:function(G){G.exports=function(e){for(var g={},_=[],a=0,C=0;C<e.length;C++){var A=e[C];g[A]!==1&&(g[A]=1,_[a++]=A)}return _}},76756:function(G){G.exports=function(a){for(var C=g(a)?e:V,A=[],v=0;v<a.length;v++){var p=a[v];C(p)&&A.push(p)}return A};function V(_){return _.visible===!0}function e(_){var a=_[0].trace;return a.visible===!0&&a._length!==0}function g(_){return Array.isArray(_)&&Array.isArray(_[0])&&_[0][0]&&_[0][0].trace}},41327:function(G,V,e){var g=e(39898),_=e(24138),a=e(30774),C=e(29261),A=e(85268),v=e(23389),p=e(47769),t=e(41965),r=e(65487),s=e(61082),n=Object.keys(_),i={"ISO-3":v,"USA-states":v,"country names":f};function f(E){for(var S=0;S<n.length;S++){var P=n[S],x=new RegExp(_[P]);if(x.test(E.trim().toLowerCase()))return P}return p.log("Unrecognized country name: "+E+"."),!1}function u(E,S,P){if(!S||typeof S!="string")return!1;var x=i[E](S),M,w,o;if(x){if(E==="USA-states")for(M=[],o=0;o<P.length;o++)w=P[o],w.properties&&w.properties.gu&&w.properties.gu==="USA"&&M.push(w);else M=P;for(o=0;o<M.length;o++)if(w=M[o],w.id===x)return w;p.log(["Location with id",x,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function y(E){var S=E.geometry,P=S.coordinates,x=E.id,M=[],w,o,L,m;function F(I){for(var U=0;U<I.length-1;U++)if(I[U][0]>0&&I[U+1][0]<0)return U;return null}switch(x==="RUS"||x==="FJI"?w=function(I){var U;if(F(I)===null)U=I;else for(U=new Array(I.length),m=0;m<I.length;m++)U[m]=[I[m][0]<0?I[m][0]+360:I[m][0],I[m][1]];M.push(s.tester(U))}:x==="ATA"?w=function(I){var U=F(I);if(U===null)return M.push(s.tester(I));var z=new Array(I.length+1),N=0;for(m=0;m<I.length;m++)m>U?z[N++]=[I[m][0]+360,I[m][1]]:m===U?(z[N++]=I[m],z[N++]=[I[m][0],-90]):z[N++]=I[m];var B=s.tester(z);B.pts.pop(),M.push(B)}:w=function(I){M.push(s.tester(I))},S.type){case"MultiPolygon":for(o=0;o<P.length;o++)for(L=0;L<P[o].length;L++)w(P[o][L]);break;case"Polygon":for(o=0;o<P.length;o++)w(P[o]);break}return M}function c(E){var S=E.geojson,P=window.PlotlyGeoAssets||{},x=typeof S=="string"?P[S]:S;return t(x)?x:(p.error("Oops ... something went wrong when fetching "+S),!1)}function T(E){var S=E[0].trace,P=c(S);if(!P)return!1;var x={},M=[],w;for(w=0;w<S._length;w++){var o=E[w];(o.loc||o.loc===0)&&(x[o.loc]=o)}function L(I){var U=r(I,S.featureidkey||"id").get(),z=x[U];if(z){var N=I.geometry;if(N.type==="Polygon"||N.type==="MultiPolygon"){var B={type:"Feature",id:U,geometry:N,properties:{}};B.properties.ct=h(B),z.fIn=I,z.fOut=B,M.push(B)}else p.log(["Location",z.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete x[U]}switch(P.type){case"FeatureCollection":var m=P.features;for(w=0;w<m.length;w++)L(m[w]);break;case"Feature":L(P);break;default:return p.warn(["Invalid GeoJSON type",(P.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var F in x)p.log(["Location *"+F+"*","does not have a matching feature with id-key","*"+S.featureidkey+"*."].join(" "));return M}function h(E){var S=E.geometry,P;if(S.type==="MultiPolygon")for(var x=S.coordinates,M=0,w=0;w<x.length;w++){var o={type:"Polygon",coordinates:x[w]},L=a.default(o);L>M&&(M=L,P=o)}else P=S;return C.default(P).geometry.coordinates}function l(E){var S=window.PlotlyGeoAssets||{},P=[];function x(m){return new Promise(function(F,I){g.json(m,function(U,z){if(U){delete S[m];var N=U.status===404?'GeoJSON at URL "'+m+'" does not exist.':"Unexpected error while fetching from "+m;return I(new Error(N))}return S[m]=z,F(z)})})}function M(m){return new Promise(function(F,I){var U=0,z=setInterval(function(){if(S[m]&&S[m]!=="pending")return clearInterval(z),F(S[m]);if(U>100)return clearInterval(z),I("Unexpected error while fetching from "+m);U++},50)})}for(var w=0;w<E.length;w++){var o=E[w][0].trace,L=o.geojson;typeof L=="string"&&(S[L]?S[L]==="pending"&&P.push(M(L)):(S[L]="pending",P.push(x(L))))}return P}function d(E){return A.default(E)}G.exports={locationToFeature:u,feature2polygons:y,getTraceGeojson:c,extractTraceFeature:T,fetchTraceGeoData:l,computeBbox:d}},18214:function(G,V,e){var g=e(50606).BADNUM;V.calcTraceToLineCoords=function(_){for(var a=_[0].trace,C=a.connectgaps,A=[],v=[],p=0;p<_.length;p++){var t=_[p],r=t.lonlat;r[0]!==g?v.push(r):!C&&v.length>0&&(A.push(v),v=[])}return v.length>0&&A.push(v),A},V.makeLine=function(_){return _.length===1?{type:"LineString",coordinates:_[0]}:{type:"MultiLineString",coordinates:_}},V.makePolygon=function(_){if(_.length===1)return{type:"Polygon",coordinates:_};for(var a=new Array(_.length),C=0;C<_.length;C++)a[C]=[_[C]];return{type:"MultiPolygon",coordinates:a}},V.makeBlank=function(){return{type:"Point",coordinates:[]}}},87642:function(G,V,e){var g=e(64872).mod;V.segmentsIntersect=_;function _(p,t,r,s,n,i,f,u){var y=r-p,c=n-p,T=f-n,h=s-t,l=i-t,d=u-i,E=y*d-T*h;if(E===0)return null;var S=(c*d-T*l)/E,P=(c*h-y*l)/E;return P<0||P>1||S<0||S>1?null:{x:p+y*S,y:t+h*S}}V.segmentDistance=function(t,r,s,n,i,f,u,y){if(_(t,r,s,n,i,f,u,y))return 0;var c=s-t,T=n-r,h=u-i,l=y-f,d=c*c+T*T,E=h*h+l*l,S=Math.min(a(c,T,d,i-t,f-r),a(c,T,d,u-t,y-r),a(h,l,E,t-i,r-f),a(h,l,E,s-i,n-f));return Math.sqrt(S)};function a(p,t,r,s,n){var i=s*p+n*t;if(i<0)return s*s+n*n;if(i>r){var f=s-p,u=n-t;return f*f+u*u}else{var y=s*t-n*p;return y*y/r}}var C,A,v;V.getTextLocation=function(t,r,s,n){if((t!==A||n!==v)&&(C={},A=t,v=n),C[s])return C[s];var i=t.getPointAtLength(g(s-n/2,r)),f=t.getPointAtLength(g(s+n/2,r)),u=Math.atan((f.y-i.y)/(f.x-i.x)),y=t.getPointAtLength(g(s,r)),c=(y.x*4+i.x+f.x)/6,T=(y.y*4+i.y+f.y)/6,h={x:c,y:T,theta:u};return C[s]=h,h},V.clearLocationCache=function(){A=null},V.getVisibleSegment=function(t,r,s){var n=r.left,i=r.right,f=r.top,u=r.bottom,y=0,c=t.getTotalLength(),T=c,h,l;function d(S){var P=t.getPointAtLength(S);S===0?h=P:S===c&&(l=P);var x=P.x<n?n-P.x:P.x>i?P.x-i:0,M=P.y<f?f-P.y:P.y>u?P.y-u:0;return Math.sqrt(x*x+M*M)}for(var E=d(y);E;){if(y+=E+s,y>T)return;E=d(y)}for(E=d(T);E;){if(T-=E+s,y>T)return;E=d(T)}return{min:y,max:T,len:T-y,total:c,isClosed:y===0&&T===c&&Math.abs(h.x-l.x)<.1&&Math.abs(h.y-l.y)<.1}},V.findPointOnPath=function(t,r,s,n){n=n||{};for(var i=n.pathLength||t.getTotalLength(),f=n.tolerance||.001,u=n.iterationLimit||30,y=t.getPointAtLength(0)[s]>t.getPointAtLength(i)[s]?-1:1,c=0,T=0,h=i,l,d,E;c<u;){if(l=(T+h)/2,d=t.getPointAtLength(l),E=d[s]-r,Math.abs(E)<f)return d;y*E>0?h=l:T=l,c++}return d}},81697:function(G,V,e){var g=e(92770),_=e(84267),a=e(25075),C=e(21081),A=e(22399).defaultLine,v=e(73627).isArrayOrTypedArray,p=a(A),t=1;function r(u,y){var c=u;return c[3]*=y,c}function s(u){if(g(u))return p;var y=a(u);return y.length?y:p}function n(u){return g(u)?u:t}function i(u,y,c){var T=u.color,h=v(T),l=v(y),d=C.extractOpts(u),E=[],S,P,x,M,w;if(d.colorscale!==void 0?S=C.makeColorScaleFuncFromTrace(u):S=s,h?P=function(L,m){return L[m]===void 0?p:a(S(L[m]))}:P=s,l?x=function(L,m){return L[m]===void 0?t:n(L[m])}:x=n,h||l)for(var o=0;o<c;o++)M=P(T,o),w=x(y,o),E[o]=r(M,w);else E=r(a(T),y);return E}function f(u){var y=C.extractOpts(u),c=y.colorscale;return y.reversescale&&(c=C.flipScale(y.colorscale)),c.map(function(T){var h=T[0],l=_(T[1]),d=l.toRgb();return{index:h,rgb:[d.r,d.g,d.b,d.a]}})}G.exports={formatColor:i,parseColorScale:f}},28984:function(G,V,e){var g=e(23389);function _(a){return[a]}G.exports={keyFun:function(a){return a.key},repeat:_,descend:g,wrap:_,unwrap:function(a){return a[0]}}},23389:function(G){G.exports=function(e){return e}},39240:function(G){G.exports=function(e,g){if(!g)return e;var _=1/Math.abs(g),a=_>1?(_*e+_*g)/_:e+g,C=String(a).length;if(C>16){var A=String(g).length,v=String(e).length;if(C>=v+A){var p=parseFloat(a).toPrecision(12);p.indexOf("e+")===-1&&(a=+p)}}return a}},71828:function(G,V,e){var g=e(39898),_=e(84096).g0,a=e(60721).WU,C=e(92770),A=e(50606),v=A.FP_SAFE,p=-v,t=A.BADNUM,r=G.exports={};r.adjustFormat=function(se){return!se||/^\d[.]\df/.test(se)||/[.]\d%/.test(se)?se:se==="0.f"?"~f":/^\d%/.test(se)?"~%":/^\ds/.test(se)?"~s":!/^[~,.0$]/.test(se)&&/[&fps]/.test(se)?"~"+se:se};var s={};r.warnBadFormat=function(te){var se=String(te);s[se]||(s[se]=1,r.warn('encountered bad format: "'+se+'"'))},r.noFormat=function(te){return String(te)},r.numberFormat=function(te){var se;try{se=a(r.adjustFormat(te))}catch{return r.warnBadFormat(te),r.noFormat}return se},r.nestedProperty=e(65487),r.keyedContainer=e(66636),r.relativeAttr=e(6962),r.isPlainObject=e(41965),r.toLogRange=e(58163),r.relinkPrivateKeys=e(51332);var n=e(73627);r.isTypedArray=n.isTypedArray,r.isArrayOrTypedArray=n.isArrayOrTypedArray,r.isArray1D=n.isArray1D,r.ensureArray=n.ensureArray,r.concat=n.concat,r.maxRowLength=n.maxRowLength,r.minRowLength=n.minRowLength;var i=e(64872);r.mod=i.mod,r.modHalf=i.modHalf;var f=e(96554);r.valObjectMeta=f.valObjectMeta,r.coerce=f.coerce,r.coerce2=f.coerce2,r.coerceFont=f.coerceFont,r.coercePattern=f.coercePattern,r.coerceHoverinfo=f.coerceHoverinfo,r.coerceSelectionMarkerOpacity=f.coerceSelectionMarkerOpacity,r.validate=f.validate;var u=e(41631);r.dateTime2ms=u.dateTime2ms,r.isDateTime=u.isDateTime,r.ms2DateTime=u.ms2DateTime,r.ms2DateTimeLocal=u.ms2DateTimeLocal,r.cleanDate=u.cleanDate,r.isJSDate=u.isJSDate,r.formatDate=u.formatDate,r.incrementMonth=u.incrementMonth,r.dateTick0=u.dateTick0,r.dfltRange=u.dfltRange,r.findExactDates=u.findExactDates,r.MIN_MS=u.MIN_MS,r.MAX_MS=u.MAX_MS;var y=e(65888);r.findBin=y.findBin,r.sorterAsc=y.sorterAsc,r.sorterDes=y.sorterDes,r.distinctVals=y.distinctVals,r.roundUp=y.roundUp,r.sort=y.sort,r.findIndexOfMin=y.findIndexOfMin,r.sortObjectKeys=e(78607);var c=e(80038);r.aggNums=c.aggNums,r.len=c.len,r.mean=c.mean,r.median=c.median,r.midRange=c.midRange,r.variance=c.variance,r.stdev=c.stdev,r.interp=c.interp;var T=e(35657);r.init2dArray=T.init2dArray,r.transposeRagged=T.transposeRagged,r.dot=T.dot,r.translationMatrix=T.translationMatrix,r.rotationMatrix=T.rotationMatrix,r.rotationXYMatrix=T.rotationXYMatrix,r.apply3DTransform=T.apply3DTransform,r.apply2DTransform=T.apply2DTransform,r.apply2DTransform2=T.apply2DTransform2,r.convertCssMatrix=T.convertCssMatrix,r.inverseTransformMatrix=T.inverseTransformMatrix;var h=e(26348);r.deg2rad=h.deg2rad,r.rad2deg=h.rad2deg,r.angleDelta=h.angleDelta,r.angleDist=h.angleDist,r.isFullCircle=h.isFullCircle,r.isAngleInsideSector=h.isAngleInsideSector,r.isPtInsideSector=h.isPtInsideSector,r.pathArc=h.pathArc,r.pathSector=h.pathSector,r.pathAnnulus=h.pathAnnulus;var l=e(99863);r.isLeftAnchor=l.isLeftAnchor,r.isCenterAnchor=l.isCenterAnchor,r.isRightAnchor=l.isRightAnchor,r.isTopAnchor=l.isTopAnchor,r.isMiddleAnchor=l.isMiddleAnchor,r.isBottomAnchor=l.isBottomAnchor;var d=e(87642);r.segmentsIntersect=d.segmentsIntersect,r.segmentDistance=d.segmentDistance,r.getTextLocation=d.getTextLocation,r.clearLocationCache=d.clearLocationCache,r.getVisibleSegment=d.getVisibleSegment,r.findPointOnPath=d.findPointOnPath;var E=e(1426);r.extendFlat=E.extendFlat,r.extendDeep=E.extendDeep,r.extendDeepAll=E.extendDeepAll,r.extendDeepNoArrays=E.extendDeepNoArrays;var S=e(47769);r.log=S.log,r.warn=S.warn,r.error=S.error;var P=e(30587);r.counterRegex=P.counter;var x=e(79990);r.throttle=x.throttle,r.throttleDone=x.done,r.clearThrottle=x.clear;var M=e(24401);r.getGraphDiv=M.getGraphDiv,r.isPlotDiv=M.isPlotDiv,r.removeElement=M.removeElement,r.addStyleRule=M.addStyleRule,r.addRelatedStyleRule=M.addRelatedStyleRule,r.deleteRelatedStyleRule=M.deleteRelatedStyleRule,r.getFullTransformMatrix=M.getFullTransformMatrix,r.getElementTransformMatrix=M.getElementTransformMatrix,r.getElementAndAncestors=M.getElementAndAncestors,r.equalDomRects=M.equalDomRects,r.clearResponsive=e(86367),r.preserveDrawingBuffer=e(45142),r.makeTraceGroups=e(77310),r._=e(15867),r.notifier=e(75046),r.filterUnique=e(75744),r.filterVisible=e(76756),r.pushUnique=e(75138),r.increment=e(39240),r.cleanNumber=e(95218),r.ensureNumber=function(se){return C(se)?(se=Number(se),se>v||se<p?t:se):t},r.isIndex=function(te,se){return se!==void 0&&te>=se?!1:C(te)&&te>=0&&te%1===0},r.noop=e(64213),r.identity=e(23389),r.repeat=function(te,se){for(var ee=new Array(se),q=0;q<se;q++)ee[q]=te;return ee},r.swapAttrs=function(te,se,ee,q){ee||(ee="x"),q||(q="y");for(var le=0;le<se.length;le++){var oe=se[le],he=r.nestedProperty(te,oe.replace("?",ee)),me=r.nestedProperty(te,oe.replace("?",q)),Ce=he.get();he.set(me.get()),me.set(Ce)}},r.raiseToTop=function(se){se.parentNode.appendChild(se)},r.cancelTransition=function(te){return te.transition().duration(0)},r.constrain=function(te,se,ee){return se>ee?Math.max(ee,Math.min(se,te)):Math.max(se,Math.min(ee,te))},r.bBoxIntersect=function(te,se,ee){return ee=ee||0,te.left<=se.right+ee&&se.left<=te.right+ee&&te.top<=se.bottom+ee&&se.top<=te.bottom+ee},r.simpleMap=function(te,se,ee,q,le){for(var oe=te.length,he=new Array(oe),me=0;me<oe;me++)he[me]=se(te[me],ee,q,le);return he},r.randstr=function te(se,ee,q,le){if(q||(q=16),ee===void 0&&(ee=24),ee<=0)return"0";var oe=Math.log(Math.pow(2,ee))/Math.log(q),he="",me,Ce,Ae;for(me=2;oe===1/0;me*=2)oe=Math.log(Math.pow(2,ee/me))/Math.log(q)*me;var Ue=oe-Math.floor(oe);for(me=0;me<Math.floor(oe);me++)Ae=Math.floor(Math.random()*q).toString(q),he=Ae+he;Ue&&(Ce=Math.pow(q,Ue),Ae=Math.floor(Math.random()*Ce).toString(q),he=Ae+he);var Ve=parseInt(he,q);return se&&se[he]||Ve!==1/0&&Ve>=Math.pow(2,ee)?le>10?(r.warn("randstr failed uniqueness"),he):te(se,ee,q,(le||0)+1):he},r.OptionControl=function(te,se){te||(te={}),se||(se="opt");var ee={};return ee.optionList=[],ee._newoption=function(q){q[se]=te,ee[q.name]=q,ee.optionList.push(q)},ee["_"+se]=te,ee},r.smooth=function(te,se){if(se=Math.round(se)||0,se<2)return te;var ee=te.length,q=2*ee,le=2*se-1,oe=new Array(le),he=new Array(ee),me,Ce,Ae,Ue;for(me=0;me<le;me++)oe[me]=(1-Math.cos(Math.PI*(me+1)/se))/(2*se);for(me=0;me<ee;me++){for(Ue=0,Ce=0;Ce<le;Ce++)Ae=me+Ce+1-se,Ae<-ee?Ae-=q*Math.round(Ae/q):Ae>=q&&(Ae-=q*Math.floor(Ae/q)),Ae<0?Ae=-1-Ae:Ae>=ee&&(Ae=q-1-Ae),Ue+=te[Ae]*oe[Ce];he[me]=Ue}return he},r.syncOrAsync=function(te,se,ee){var q,le;function oe(){return r.syncOrAsync(te,se,ee)}for(;te.length;)if(le=te.splice(0,1)[0],q=le(se),q&&q.then)return q.then(oe);return ee&&ee(se)},r.stripTrailingSlash=function(te){return te.substr(-1)==="/"?te.substr(0,te.length-1):te},r.noneOrAll=function(te,se,ee){if(te){var q=!1,le=!0,oe,he;for(oe=0;oe<ee.length;oe++)he=te[ee[oe]],he!=null?q=!0:le=!1;if(q&&!le)for(oe=0;oe<ee.length;oe++)te[ee[oe]]=se[ee[oe]]}},r.mergeArray=function(te,se,ee,q){var le=typeof q=="function";if(r.isArrayOrTypedArray(te))for(var oe=Math.min(te.length,se.length),he=0;he<oe;he++){var me=te[he];se[he][ee]=le?q(me):me}},r.mergeArrayCastPositive=function(te,se,ee){return r.mergeArray(te,se,ee,function(q){var le=+q;return isFinite(le)&&le>0?le:0})},r.fillArray=function(te,se,ee,q){if(q=q||r.identity,r.isArrayOrTypedArray(te))for(var le=0;le<se.length;le++)se[le][ee]=q(te[le])},r.castOption=function(te,se,ee,q){q=q||r.identity;var le=r.nestedProperty(te,ee).get();return r.isArrayOrTypedArray(le)?Array.isArray(se)&&r.isArrayOrTypedArray(le[se[0]])?q(le[se[0]][se[1]]):q(le[se]):le},r.extractOption=function(te,se,ee,q){if(ee in te)return te[ee];var le=r.nestedProperty(se,q).get();if(!Array.isArray(le))return le};function w(te){var se={};for(var ee in te)for(var q=te[ee],le=0;le<q.length;le++)se[q[le]]=+ee;return se}r.tagSelected=function(te,se,ee){var q=se.selectedpoints,le=se._indexToPoints,oe;le&&(oe=w(le));function he(Ve){return Ve!==void 0&&Ve<te.length}for(var me=0;me<q.length;me++){var Ce=q[me];if(r.isIndex(Ce)||r.isArrayOrTypedArray(Ce)&&r.isIndex(Ce[0])&&r.isIndex(Ce[1])){var Ae=oe?oe[Ce]:Ce,Ue=ee?ee[Ae]:Ae;he(Ue)&&(te[Ue].selected=1)}}},r.selIndices2selPoints=function(te){var se=te.selectedpoints,ee=te._indexToPoints;if(ee){for(var q=w(ee),le=[],oe=0;oe<se.length;oe++){var he=se[oe];if(r.isIndex(he)){var me=q[he];r.isIndex(me)&&le.push(me)}}return le}else return se},r.getTargetArray=function(te,se){var ee=se.target;if(typeof ee=="string"&&ee){var q=r.nestedProperty(te,ee).get();return Array.isArray(q)?q:!1}else if(Array.isArray(ee))return ee;return!1};function o(te,se,ee){var q={};typeof se!="object"&&(se={});var le=ee==="pieLike"?-1:3,oe=Object.keys(te),he,me,Ce;for(he=0;he<oe.length;he++)me=oe[he],Ce=te[me],!(me.charAt(0)==="_"||typeof Ce=="function")&&(me==="module"?q[me]=Ce:Array.isArray(Ce)?me==="colorscale"||le===-1?q[me]=Ce.slice():q[me]=Ce.slice(0,le):r.isTypedArray(Ce)?le===-1?q[me]=Ce.subarray():q[me]=Ce.subarray(0,le):Ce&&typeof Ce=="object"?q[me]=o(te[me],se[me],ee):q[me]=Ce);for(oe=Object.keys(se),he=0;he<oe.length;he++)me=oe[he],Ce=se[me],(typeof Ce!="object"||!(me in q)||typeof q[me]!="object")&&(q[me]=Ce);return q}r.minExtend=o,r.titleCase=function(te){return te.charAt(0).toUpperCase()+te.substr(1)},r.containsAny=function(te,se){for(var ee=0;ee<se.length;ee++)if(te.indexOf(se[ee])!==-1)return!0;return!1},r.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var L=/Version\/[\d\.]+.*Safari/;r.isSafari=function(){return L.test(window.navigator.userAgent)};var m=/iPad|iPhone|iPod/;r.isIOS=function(){return m.test(window.navigator.userAgent)};var F=/Firefox\/(\d+)\.\d+/;r.getFirefoxVersion=function(){var te=F.exec(window.navigator.userAgent);if(te&&te.length===2){var se=parseInt(te[1]);if(!isNaN(se))return se}return null},r.isD3Selection=function(te){return te instanceof g.selection},r.ensureSingle=function(te,se,ee,q){var le=te.select(se+(ee?"."+ee:""));if(le.size())return le;var oe=te.append(se);return ee&&oe.classed(ee,!0),q&&oe.call(q),oe},r.ensureSingleById=function(te,se,ee,q){var le=te.select(se+"#"+ee);if(le.size())return le;var oe=te.append(se).attr("id",ee);return q&&oe.call(q),oe},r.objectFromPath=function(te,se){for(var ee=te.split("."),q,le=q={},oe=0;oe<ee.length;oe++){var he=ee[oe],me=null,Ce=ee[oe].match(/(.*)\[([0-9]+)\]/);Ce?(he=Ce[1],me=Ce[2],q=q[he]=[],oe===ee.length-1?q[me]=se:q[me]={},q=q[me]):(oe===ee.length-1?q[he]=se:q[he]={},q=q[he])}return le};var I=/^([^\[\.]+)\.(.+)?/,U=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function z(te){return te.slice(0,2)==="__"}r.expandObjectPaths=function(te){var se,ee,q,le,oe,he,me;if(typeof te=="object"&&!Array.isArray(te)){for(ee in te)if(te.hasOwnProperty(ee))if(se=ee.match(I)){if(le=te[ee],q=se[1],z(q))continue;delete te[ee],te[q]=r.extendDeepNoArrays(te[q]||{},r.objectFromPath(ee,r.expandObjectPaths(le))[q])}else if(se=ee.match(U)){if(le=te[ee],q=se[1],z(q))continue;if(oe=parseInt(se[2]),delete te[ee],te[q]=te[q]||[],se[3]===".")me=se[4],he=te[q][oe]=te[q][oe]||{},r.extendDeepNoArrays(he,r.objectFromPath(me,r.expandObjectPaths(le)));else{if(z(q))continue;te[q][oe]=r.expandObjectPaths(le)}}else{if(z(ee))continue;te[ee]=r.expandObjectPaths(te[ee])}}return te},r.numSeparate=function(te,se,ee){if(ee||(ee=!1),typeof se!="string"||se.length===0)throw new Error("Separator string required for formatting!");typeof te=="number"&&(te=String(te));var q=/(\d+)(\d{3})/,le=se.charAt(0),oe=se.charAt(1),he=te.split("."),me=he[0],Ce=he.length>1?le+he[1]:"";if(oe&&(he.length>1||me.length>4||ee))for(;q.test(me);)me=me.replace(q,"$1"+oe+"$2");return me+Ce},r.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var N=/^\w*$/;r.templateString=function(te,se){var ee={};return te.replace(r.TEMPLATE_STRING_REGEX,function(q,le){var oe;return N.test(le)?oe=se[le]:(ee[le]=ee[le]||r.nestedProperty(se,le).get,oe=ee[le]()),r.isValidTextValue(oe)?oe:""})};var B={max:10,count:0,name:"hovertemplate"};r.hovertemplateString=function(){return ie.apply(B,arguments)};var O={max:10,count:0,name:"texttemplate"};r.texttemplateString=function(){return ie.apply(O,arguments)};var H=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function Y(te){var se=te.match(H);return se?{key:se[1],op:se[2],number:Number(se[3])}:{key:te,op:null,number:null}}var J={max:10,count:0,name:"texttemplate",parseMultDiv:!0};r.texttemplateStringForShapes=function(){return ie.apply(J,arguments)};var re=/^[:|\|]/;function ie(te,se,ee){var q=this,le=arguments;se||(se={});var oe={};return te.replace(r.TEMPLATE_STRING_REGEX,function(he,me,Ce){var Ae=me==="xother"||me==="yother",Ue=me==="_xother"||me==="_yother",Ve=me==="_xother_"||me==="_yother_",Pe=me==="xother_"||me==="yother_",be=Ae||Ue||Pe||Ve,Le=me;(Ue||Ve)&&(Le=Le.substring(1)),(Pe||Ve)&&(Le=Le.substring(0,Le.length-1));var We=null,je=null;if(q.parseMultDiv){var Fe=Y(Le);Le=Fe.key,We=Fe.op,je=Fe.number}var Ze;if(be){if(Ze=se[Le],Ze===void 0)return""}else{var ut,at;for(at=3;at<le.length;at++)if(ut=le[at],!!ut){if(ut.hasOwnProperty(Le)){Ze=ut[Le];break}if(N.test(Le)||(Ze=r.nestedProperty(ut,Le).get(),Ze=oe[Le]||r.nestedProperty(ut,Le).get(),Ze&&(oe[Le]=Ze)),Ze!==void 0)break}}if(Ze!==void 0&&(We==="*"&&(Ze*=je),We==="/"&&(Ze/=je)),Ze===void 0&&q)return q.count<q.max&&(r.warn("Variable '"+Le+"' in "+q.name+" could not be found!"),Ze=he),q.count===q.max&&r.warn("Too many "+q.name+" warnings - additional warnings will be suppressed"),q.count++,he;if(Ce){var it;if(Ce[0]===":"&&(it=ee?ee.numberFormat:r.numberFormat,Ze=it(Ce.replace(re,""))(Ze)),Ce[0]==="|"){it=ee?ee.timeFormat:_;var $e=r.dateTime2ms(Ze);Ze=r.formatDate($e,Ce.replace(re,""),!1,it)}}else{var st=Le+"Label";se.hasOwnProperty(st)&&(Ze=se[st])}return be&&(Ze="("+Ze+")",(Ue||Ve)&&(Ze=" "+Ze),(Pe||Ve)&&(Ze=Ze+" ")),Ze})}var ce=48,Q=57;r.subplotSort=function(te,se){for(var ee=Math.min(te.length,se.length)+1,q=0,le=0,oe=0;oe<ee;oe++){var he=te.charCodeAt(oe)||0,me=se.charCodeAt(oe)||0,Ce=he>=ce&&he<=Q,Ae=me>=ce&&me<=Q;if(Ce&&(q=10*q+he-ce),Ae&&(le=10*le+me-ce),!Ce||!Ae){if(q!==le)return q-le;if(he!==me)return he-me}}return le-q};var j=2e9;r.seedPseudoRandom=function(){j=2e9},r.pseudoRandom=function(){var te=j;return j=(69069*j+1)%4294967296,Math.abs(j-te)<429496729?r.pseudoRandom():j/4294967296},r.fillText=function(te,se,ee){var q=Array.isArray(ee)?function(he){ee.push(he)}:function(he){ee.text=he},le=r.extractOption(te,se,"htx","hovertext");if(r.isValidTextValue(le))return q(le);var oe=r.extractOption(te,se,"tx","text");if(r.isValidTextValue(oe))return q(oe)},r.isValidTextValue=function(te){return te||te===0},r.formatPercent=function(te,se){se=se||0;for(var ee=(Math.round(100*te*Math.pow(10,se))*Math.pow(.1,se)).toFixed(se)+"%",q=0;q<se;q++)ee.indexOf(".")!==-1&&(ee=ee.replace("0%","%"),ee=ee.replace(".%","%"));return ee},r.isHidden=function(te){var se=window.getComputedStyle(te).display;return!se||se==="none"},r.strTranslate=function(te,se){return te||se?"translate("+te+","+se+")":""},r.strRotate=function(te){return te?"rotate("+te+")":""},r.strScale=function(te){return te!==1?"scale("+te+")":""},r.getTextTransform=function(te){var se=te.noCenter,ee=te.textX,q=te.textY,le=te.targetX,oe=te.targetY,he=te.anchorX||0,me=te.anchorY||0,Ce=te.rotate,Ae=te.scale;return Ae?Ae>1&&(Ae=1):Ae=0,r.strTranslate(le-Ae*(ee+he),oe-Ae*(q+me))+r.strScale(Ae)+(Ce?"rotate("+Ce+(se?"":" "+ee+" "+q)+")":"")},r.setTransormAndDisplay=function(te,se){te.attr("transform",r.getTextTransform(se)),te.style("display",se.scale?null:"none")},r.ensureUniformFontSize=function(te,se){var ee=r.extendFlat({},se);return ee.size=Math.max(se.size,te._fullLayout.uniformtext.minsize||0),ee},r.join2=function(te,se,ee){var q=te.length;return q>1?te.slice(0,-1).join(se)+ee+te[q-1]:te.join(se)},r.bigFont=function(te){return Math.round(1.2*te)};var Z=r.getFirefoxVersion(),$=Z!==null&&Z<86;r.getPositionFromD3Event=function(){return $?[g.event.layerX,g.event.layerY]:[g.event.offsetX,g.event.offsetY]}},41965:function(G){G.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},66636:function(G,V,e){var g=e(65487),_=/^\w*$/,a=0,C=1,A=2,v=3,p=4;G.exports=function(r,s,n,i){n=n||"name",i=i||"value";var f,u,y,c={};s&&s.length?(y=g(r,s),u=y.get()):u=r,s=s||"";var T={};if(u)for(f=0;f<u.length;f++)T[u[f][n]]=f;var h=_.test(i),l={set:function(d,E){var S=E===null?p:a;if(!u){if(!y||S===p)return;u=[],y.set(u)}var P=T[d];if(P===void 0){if(S===p)return;S=S|v,P=u.length,T[d]=P}else E!==(h?u[P][i]:g(u[P],i).get())&&(S=S|A);var x=u[P]=u[P]||{};return x[n]=d,h?x[i]=E:g(x,i).set(E),E!==null&&(S=S&~p),c[P]=c[P]|S,l},get:function(d){if(u){var E=T[d];if(E!==void 0)return h?u[E][i]:g(u[E],i).get()}},rename:function(d,E){var S=T[d];return S===void 0||(c[S]=c[S]|C,T[E]=S,delete T[d],u[S][n]=E),l},remove:function(d){var E=T[d];if(E===void 0)return l;var S=u[E];if(Object.keys(S).length>2)return c[E]=c[E]|A,l.set(d,null);if(h){for(f=E;f<u.length;f++)c[f]=c[f]|v;for(f=E;f<u.length;f++)T[u[f][n]]--;u.splice(E,1),delete T[d]}else g(S,i).set(null),c[E]=c[E]|A|p;return l},constructUpdate:function(){for(var d,E,S={},P=Object.keys(c),x=0;x<P.length;x++)E=P[x],d=s+"["+E+"]",u[E]?(c[E]&C&&(S[d+"."+n]=u[E][n]),c[E]&A&&(h?S[d+"."+i]=c[E]&p?null:u[E][i]:S[d+"."+i]=c[E]&p?null:g(u[E],i).get())):S[d]=null;return S}};return l}},15867:function(G,V,e){var g=e(73972);G.exports=function(a,C){for(var A=a._context.locale,v=0;v<2;v++){for(var p=a._context.locales,t=0;t<2;t++){var r=(p[A]||{}).dictionary;if(r){var s=r[C];if(s)return s}p=g.localeRegistry}var n=A.split("-")[0];if(n===A)break;A=n}return C}},47769:function(G,V,e){var g=e(72075).dfltConfig,_=e(75046),a=G.exports={};a.log=function(){var C;if(g.logging>1){var A=["LOG:"];for(C=0;C<arguments.length;C++)A.push(arguments[C]);console.trace.apply(console,A)}if(g.notifyOnLogging>1){var v=[];for(C=0;C<arguments.length;C++)v.push(arguments[C]);_(v.join("<br>"),"long")}},a.warn=function(){var C;if(g.logging>0){var A=["WARN:"];for(C=0;C<arguments.length;C++)A.push(arguments[C]);console.trace.apply(console,A)}if(g.notifyOnLogging>0){var v=[];for(C=0;C<arguments.length;C++)v.push(arguments[C]);_(v.join("<br>"),"stick")}},a.error=function(){var C;if(g.logging>0){var A=["ERROR:"];for(C=0;C<arguments.length;C++)A.push(arguments[C]);console.error.apply(console,A)}if(g.notifyOnLogging>0){var v=[];for(C=0;C<arguments.length;C++)v.push(arguments[C]);_(v.join("<br>"),"stick")}}},77310:function(G,V,e){var g=e(39898);G.exports=function(a,C,A){var v=a.selectAll("g."+A.replace(/\s/g,".")).data(C,function(t){return t[0].trace.uid});v.exit().remove(),v.enter().append("g").attr("class",A),v.order();var p=a.classed("rangeplot")?"nodeRangePlot3":"node3";return v.each(function(t){t[0][p]=g.select(this)}),v}},35657:function(G,V,e){var g=e(79576);V.init2dArray=function(_,a){for(var C=new Array(_),A=0;A<_;A++)C[A]=new Array(a);return C},V.transposeRagged=function(_){var a=0,C=_.length,A,v;for(A=0;A<C;A++)a=Math.max(a,_[A].length);var p=new Array(a);for(A=0;A<a;A++)for(p[A]=new Array(C),v=0;v<C;v++)p[A][v]=_[v][A];return p},V.dot=function(_,a){if(!(_.length&&a.length)||_.length!==a.length)return null;var C=_.length,A,v;if(_[0].length)for(A=new Array(C),v=0;v<C;v++)A[v]=V.dot(_[v],a);else if(a[0].length){var p=V.transposeRagged(a);for(A=new Array(p.length),v=0;v<p.length;v++)A[v]=V.dot(_,p[v])}else for(A=0,v=0;v<C;v++)A+=_[v]*a[v];return A},V.translationMatrix=function(_,a){return[[1,0,_],[0,1,a],[0,0,1]]},V.rotationMatrix=function(_){var a=_*Math.PI/180;return[[Math.cos(a),-Math.sin(a),0],[Math.sin(a),Math.cos(a),0],[0,0,1]]},V.rotationXYMatrix=function(_,a,C){return V.dot(V.dot(V.translationMatrix(a,C),V.rotationMatrix(_)),V.translationMatrix(-a,-C))},V.apply3DTransform=function(_){return function(){var a=arguments,C=arguments.length===1?a[0]:[a[0],a[1],a[2]||0];return V.dot(_,[C[0],C[1],C[2],1]).slice(0,3)}},V.apply2DTransform=function(_){return function(){var a=arguments;a.length===3&&(a=a[0]);var C=arguments.length===1?a[0]:[a[0],a[1]];return V.dot(_,[C[0],C[1],1]).slice(0,2)}},V.apply2DTransform2=function(_){var a=V.apply2DTransform(_);return function(C){return a(C.slice(0,2)).concat(a(C.slice(2,4)))}},V.convertCssMatrix=function(_){if(_){var a=_.length;if(a===16)return _;if(a===6)return[_[0],_[1],0,0,_[2],_[3],0,0,0,0,1,0,_[4],_[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},V.inverseTransformMatrix=function(_){var a=[];return g.invert(a,_),[[a[0],a[1],a[2],a[3]],[a[4],a[5],a[6],a[7]],[a[8],a[9],a[10],a[11]],[a[12],a[13],a[14],a[15]]]}},64872:function(G){function V(g,_){var a=g%_;return a<0?a+_:a}function e(g,_){return Math.abs(g)>_/2?g-Math.round(g/_)*_:g}G.exports={mod:V,modHalf:e}},65487:function(G,V,e){var g=e(92770),_=e(73627).isArrayOrTypedArray;G.exports=function(i,f){if(g(f))f=String(f);else if(typeof f!="string"||f.substr(f.length-4)==="[-1]")throw"bad property string";var u=f.split("."),y,c,T,h;for(h=0;h<u.length;h++)if(String(u[h]).slice(0,2)==="__")throw"bad property string";for(h=0;h<u.length;){if(y=String(u[h]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),y){if(y[1])u[h]=y[1];else if(h===0)u.splice(0,1);else throw"bad property string";for(c=y[2].substr(1,y[2].length-2).split("]["),T=0;T<c.length;T++)h++,u.splice(h,0,Number(c[T]))}h++}return typeof i!="object"?s(i,f,u):{set:v(i,u,f),get:a(i,u),astr:f,parts:u,obj:i}};function a(n,i){return function(){var f=n,u,y,c,T,h;for(T=0;T<i.length-1;T++){if(u=i[T],u===-1){for(y=!0,c=[],h=0;h<f.length;h++)c[h]=a(f[h],i.slice(T+1))(),c[h]!==c[0]&&(y=!1);return y?c[0]:c}if(typeof u=="number"&&!_(f)||(f=f[u],typeof f!="object"||f===null))return}if(!(typeof f!="object"||f===null)&&(c=f[i[T]],c!==null))return c}}var C=/(^|\.)args\[/;function A(n,i){return n===void 0||n===null&&!i.match(C)}function v(n,i,f){return function(u){var y=n,c="",T=A(u,f),h,l;for(l=0;l<i.length-1;l++){if(h=i[l],typeof h=="number"&&!_(y))throw"array index but container is not an array";if(h===-1){if(T=!t(y,i.slice(l+1),u,f),T)break;return}if(!r(y,h,i[l+1],T))break;if(y=y[h],typeof y!="object"||y===null)throw"container is not an object";c=p(c,h)}if(T){if(l===i.length-1&&(delete y[i[l]],Array.isArray(y)&&+i[l]===y.length-1))for(;y.length&&y[y.length-1]===void 0;)y.pop()}else y[i[l]]=u}}function p(n,i){var f=i;return g(i)?f="["+i+"]":n&&(f="."+i),n+f}function t(n,i,f,u){var y=_(f),c=!0,T=f,h=u.replace("-1",0),l=y?!1:A(f,h),d=i[0],E;for(E=0;E<n.length;E++)h=u.replace("-1",E),y&&(T=f[E%f.length],l=A(T,h)),l&&(c=!1),r(n,E,d,l)&&v(n[E],i,u.replace("-1",E))(T);return c}function r(n,i,f,u){if(n[i]===void 0){if(u)return!1;typeof f=="number"?n[i]=[]:n[i]={}}return!0}function s(n,i,f){return{set:function(){throw"bad container"},get:function(){},astr:i,parts:f,obj:n}}},64213:function(G){G.exports=function(){}},75046:function(G,V,e){var g=e(39898),_=e(92770),a=[];G.exports=function(C,A){if(a.indexOf(C)!==-1)return;a.push(C);var v=1e3;_(A)?v=A:A==="long"&&(v=3e3);var p=g.select("body").selectAll(".plotly-notifier").data([0]);p.enter().append("div").classed("plotly-notifier",!0);var t=p.selectAll(".notifier-note").data(a);function r(s){s.duration(700).style("opacity",0).each("end",function(n){var i=a.indexOf(n);i!==-1&&a.splice(i,1),g.select(this).remove()})}t.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(s){var n=g.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(r)});for(var i=n.append("p"),f=s.split(/<br\s*\/?>/g),u=0;u<f.length;u++)u&&i.append("br"),i.append("span").text(f[u]);A==="stick"?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(v).call(r)})}},39918:function(G,V,e){var g=e(6964),_="data-savedcursor",a="!!";G.exports=function(A,v){var p=A.attr(_);if(v){if(!p){for(var t=(A.attr("class")||"").split(" "),r=0;r<t.length;r++){var s=t[r];s.indexOf("cursor-")===0&&A.attr(_,s.substr(7)).classed(s,!1)}A.attr(_)||A.attr(_,a)}g(A,v)}else p&&(A.attr(_,null),p===a?g(A):g(A,p))}},61082:function(G,V,e){var g=e(35657).dot,_=e(50606).BADNUM,a=G.exports={};a.tester=function(A){var v=A.slice(),p=v[0][0],t=p,r=v[0][1],s=r,n;for((v[v.length-1][0]!==v[0][0]||v[v.length-1][1]!==v[0][1])&&v.push(v[0]),n=1;n<v.length;n++)p=Math.min(p,v[n][0]),t=Math.max(t,v[n][0]),r=Math.min(r,v[n][1]),s=Math.max(s,v[n][1]);var i=!1,f;v.length===5&&(v[0][0]===v[1][0]?v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]&&(i=!0,f=function(h){return h[0]===v[0][0]}):v[0][1]===v[1][1]&&v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]&&(i=!0,f=function(h){return h[1]===v[0][1]}));function u(h,l){var d=h[0],E=h[1];return!(d===_||d<p||d>t||E===_||E<r||E>s||l&&f(h))}function y(h,l){var d=h[0],E=h[1];if(d===_||d<p||d>t||E===_||E<r||E>s)return!1;var S=v.length,P=v[0][0],x=v[0][1],M=0,w,o,L,m,F;for(w=1;w<S;w++)if(o=P,L=x,P=v[w][0],x=v[w][1],m=Math.min(o,P),!(d<m||d>Math.max(o,P)||E>Math.max(L,x)))if(E<Math.min(L,x))d!==m&&M++;else{if(P===o?F=E:F=L+(d-o)*(x-L)/(P-o),E===F)return!(w===1&&l);E<=F&&d!==m&&M++}return M%2===1}var c=!0,T=v[0];for(n=1;n<v.length;n++)if(T[0]!==v[n][0]||T[1]!==v[n][1]){c=!1;break}return{xmin:p,xmax:t,ymin:r,ymax:s,pts:v,contains:i?u:y,isRect:i,degenerate:c}},a.isSegmentBent=function(A,v,p,t){var r=A[v],s=[A[p][0]-r[0],A[p][1]-r[1]],n=g(s,s),i=Math.sqrt(n),f=[-s[1]/i,s[0]/i],u,y,c;for(u=v+1;u<p;u++)if(y=[A[u][0]-r[0],A[u][1]-r[1]],c=g(y,s),c<0||c>n||Math.abs(g(y,f))>t)return!0;return!1},a.filter=function(A,v){var p=[A[0]],t=0,r=0;function s(i){A.push(i);var f=p.length,u=t;p.splice(r+1);for(var y=u+1;y<A.length;y++)(y===A.length-1||a.isSegmentBent(A,u,y+1,v))&&(p.push(A[y]),p.length<f-2&&(t=y,r=p.length-1),u=y)}if(A.length>1){var n=A.pop();s(n)}return{addPt:s,raw:A,filtered:p}}},79749:function(G,V,e){var g=e(58617),_=e(98580);G.exports=function(C,A,v){var p=C._fullLayout,t=!0;return p._glcanvas.each(function(r){if(r.regl){r.regl.preloadCachedCode(v);return}if(!(r.pick&&!p._has("parcoords"))){try{r.regl=_({canvas:this,attributes:{antialias:!r.pick,preserveDrawingBuffer:!0},pixelRatio:C._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:A||[],cachedCode:v||{}})}catch{t=!1}r.regl||(t=!1),t&&this.addEventListener("webglcontextlost",function(s){C&&C.emit&&C.emit("plotly_webglcontextlost",{event:s,layer:r.key})},!1)}}),t||g({container:p._glcontainer.node()}),t}},45142:function(G,V,e){var g=e(92770),_=e(35791);G.exports=function(A){var v;if(A&&A.hasOwnProperty("userAgent")?v=A.userAgent:v=a(),typeof v!="string")return!0;var p=_({ua:{headers:{"user-agent":v}},tablet:!0,featureDetect:!1});if(!p)for(var t=v.split(" "),r=1;r<t.length;r++){var s=t[r];if(s.indexOf("Safari")!==-1)for(var n=r-1;n>-1;n--){var i=t[n];if(i.substr(0,8)==="Version/"){var f=i.substr(8).split(".")[0];if(g(f)&&(f=+f),f>=13)return!0}}}return p};function a(){var C;return typeof navigator<"u"&&(C=navigator.userAgent),C&&C.headers&&typeof C.headers["user-agent"]=="string"&&(C=C.headers["user-agent"]),C}},75138:function(G){G.exports=function(e,g){if(g instanceof RegExp){for(var _=g.toString(),a=0;a<e.length;a++)if(e[a]instanceof RegExp&&e[a].toString()===_)return e;e.push(g)}else(g||g===0)&&e.indexOf(g)===-1&&e.push(g);return e}},10847:function(G,V,e){var g=e(71828),_=e(72075).dfltConfig;function a(A,v){for(var p=[],t,r=0;r<v.length;r++)t=v[r],t===A?p[r]=t:typeof t=="object"?p[r]=Array.isArray(t)?g.extendDeep([],t):g.extendDeepAll({},t):p[r]=t;return p}var C={};C.add=function(A,v,p,t,r){var s,n;if(A.undoQueue=A.undoQueue||{index:0,queue:[],sequence:!1},n=A.undoQueue.index,A.autoplay){A.undoQueue.inSequence||(A.autoplay=!1);return}!A.undoQueue.sequence||A.undoQueue.beginSequence?(s={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},A.undoQueue.queue.splice(n,A.undoQueue.queue.length-n,s),A.undoQueue.index+=1):s=A.undoQueue.queue[n-1],A.undoQueue.beginSequence=!1,s&&(s.undo.calls.unshift(v),s.undo.args.unshift(p),s.redo.calls.push(t),s.redo.args.push(r)),A.undoQueue.queue.length>_.queueLength&&(A.undoQueue.queue.shift(),A.undoQueue.index--)},C.startSequence=function(A){A.undoQueue=A.undoQueue||{index:0,queue:[],sequence:!1},A.undoQueue.sequence=!0,A.undoQueue.beginSequence=!0},C.stopSequence=function(A){A.undoQueue=A.undoQueue||{index:0,queue:[],sequence:!1},A.undoQueue.sequence=!1,A.undoQueue.beginSequence=!1},C.undo=function(v){var p,t;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index<=0)){for(v.undoQueue.index--,p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,t=0;t<p.undo.calls.length;t++)C.plotDo(v,p.undo.calls[t],p.undo.args[t]);v.undoQueue.inSequence=!1,v.autoplay=!1}},C.redo=function(v){var p,t;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index>=v.undoQueue.queue.length)){for(p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,t=0;t<p.redo.calls.length;t++)C.plotDo(v,p.redo.calls[t],p.redo.args[t]);v.undoQueue.inSequence=!1,v.autoplay=!1,v.undoQueue.index++}},C.plotDo=function(A,v,p){A.autoplay=!0,p=a(A,p),v.apply(null,p)},G.exports=C},30587:function(G,V){V.counter=function(e,g,_,a){var C=(g||"")+(_?"":"$"),A=a===!1?"":"^";return e==="xy"?new RegExp(A+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+C):new RegExp(A+e+"([2-9]|[1-9][0-9]+)?"+C)}},6962:function(G){var V=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;G.exports=function(g,_){for(;_;){var a=g.match(V);if(a)g=a[1];else if(g.match(e))g="";else throw new Error("bad relativeAttr call:"+[g,_]);if(_.charAt(0)==="^")_=_.slice(1);else break}return g&&_.charAt(0)!=="["?g+"."+_:g+_}},51332:function(G,V,e){var g=e(73627).isArrayOrTypedArray,_=e(41965);G.exports=function a(C,A){for(var v in A){var p=A[v],t=C[v];if(t!==p)if(v.charAt(0)==="_"||typeof p=="function"){if(v in C)continue;C[v]=p}else if(g(p)&&g(t)&&_(p[0])){if(v==="customdata"||v==="ids")continue;for(var r=Math.min(p.length,t.length),s=0;s<r;s++)t[s]!==p[s]&&_(p[s])&&_(t[s])&&a(t[s],p[s])}else _(p)&&_(t)&&(a(t,p),Object.keys(t).length||delete C[v])}}},65888:function(G,V,e){var g=e(92770),_=e(47769),a=e(23389),C=e(50606).BADNUM,A=1e-9;V.findBin=function(s,n,i){if(g(n.start))return i?Math.ceil((s-n.start)/n.size-A)-1:Math.floor((s-n.start)/n.size+A);var f=0,u=n.length,y=0,c=u>1?(n[u-1]-n[0])/(u-1):1,T,h;for(c>=0?h=i?v:p:h=i?r:t,s+=c*A*(i?-1:1)*(c>=0?1:-1);f<u&&y++<100;)T=Math.floor((f+u)/2),h(n[T],s)?f=T+1:u=T;return y>90&&_.log("Long binary search..."),f-1};function v(s,n){return s<n}function p(s,n){return s<=n}function t(s,n){return s>n}function r(s,n){return s>=n}V.sorterAsc=function(s,n){return s-n},V.sorterDes=function(s,n){return n-s},V.distinctVals=function(s){var n=s.slice();n.sort(V.sorterAsc);var i;for(i=n.length-1;i>-1&&n[i]===C;i--);for(var f=n[i]-n[0]||1,u=f/(i||1)/1e4,y=[],c,T=0;T<=i;T++){var h=n[T],l=h-c;c===void 0?(y.push(h),c=h):l>u&&(f=Math.min(f,l),y.push(h),c=h)}return{vals:y,minDiff:f}},V.roundUp=function(s,n,i){for(var f=0,u=n.length-1,y,c=0,T=i?0:1,h=i?1:0,l=i?Math.ceil:Math.floor;f<u&&c++<100;)y=l((f+u)/2),n[y]<=s?f=y+T:u=y-h;return n[f]},V.sort=function(s,n){for(var i=0,f=0,u=1;u<s.length;u++){var y=n(s[u],s[u-1]);if(y<0?i=1:y>0&&(f=1),i&&f)return s.sort(n)}return f?s:s.reverse()},V.findIndexOfMin=function(s,n){n=n||a;for(var i=1/0,f,u=0;u<s.length;u++){var y=n(s[u]);y<i&&(i=y,f=u)}return f}},6964:function(G){G.exports=function(e,g){(e.attr("class")||"").split(" ").forEach(function(_){_.indexOf("cursor-")===0&&e.classed(_,!1)}),g&&e.classed("cursor-"+g,!0)}},58617:function(G,V,e){var g=e(7901),_=function(){};G.exports=function(C){for(var A in C)typeof C[A]=="function"&&(C[A]=_);C.destroy=function(){C.container.parentNode.removeChild(C.container)};var v=document.createElement("div");v.className="no-webgl",v.style.cursor="pointer",v.style.fontSize="24px",v.style.color=g.defaults[0],v.style.position="absolute",v.style.left=v.style.top="0px",v.style.width=v.style.height="100%",v.style["background-color"]=g.lightLine,v.style["z-index"]=30;var p=document.createElement("p");return p.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",p.style.position="relative",p.style.top="50%",p.style.left="50%",p.style.height="30%",p.style.width="50%",p.style.margin="-15% 0 0 -25%",v.appendChild(p),C.container.appendChild(v),C.container.style.background="#FFFFFF",C.container.onclick=function(){window.open("https://get.webgl.org")},!1}},78607:function(G){G.exports=function(e){return Object.keys(e).sort()}},80038:function(G,V,e){var g=e(92770),_=e(73627).isArrayOrTypedArray;V.aggNums=function(a,C,A,v){var p,t;if((!v||v>A.length)&&(v=A.length),g(C)||(C=!1),_(A[0])){for(t=new Array(v),p=0;p<v;p++)t[p]=V.aggNums(a,C,A[p]);A=t}for(p=0;p<v;p++)g(C)?g(A[p])&&(C=a(+C,+A[p])):C=A[p];return C},V.len=function(a){return V.aggNums(function(C){return C+1},0,a)},V.mean=function(a,C){return C||(C=V.len(a)),V.aggNums(function(A,v){return A+v},0,a)/C},V.midRange=function(a){if(!(a===void 0||a.length===0))return(V.aggNums(Math.max,null,a)+V.aggNums(Math.min,null,a))/2},V.variance=function(a,C,A){return C||(C=V.len(a)),g(A)||(A=V.mean(a,C)),V.aggNums(function(v,p){return v+Math.pow(p-A,2)},0,a)/C},V.stdev=function(a,C,A){return Math.sqrt(V.variance(a,C,A))},V.median=function(a){var C=a.slice().sort();return V.interp(C,.5)},V.interp=function(a,C){if(!g(C))throw"n should be a finite number";if(C=C*a.length-.5,C<0)return a[0];if(C>a.length-1)return a[a.length-1];var A=C%1;return A*a[Math.ceil(C)]+(1-A)*a[Math.floor(C)]}},78614:function(G,V,e){var g=e(25075);function _(a){return a?g(a):[0,0,0,1]}G.exports=_},3883:function(G,V,e){var g=e(32396),_=e(91424),a=e(71828),C=null;function A(){if(C!==null)return C;C=!1;var v=a.isIE()||a.isSafari()||a.isIOS();if(window.navigator.userAgent&&!v){var p=Array.from(g.CSS_DECLARATIONS).reverse(),t=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof t=="function")C=p.some(function(i){return t.apply(null,i)});else{var r=_.tester.append("image").attr("style",g.STYLE),s=window.getComputedStyle(r.node()),n=s.imageRendering;C=p.some(function(i){var f=i[1];return n===f||n===f.toLowerCase()}),r.remove()}}return C}G.exports=A},63893:function(G,V,e){var g=e(39898),_=e(71828),a=_.strTranslate,C=e(77922),A=e(18783).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;V.convertToTspans=function(B,O,H){var Y=B.text(),J=!B.attr("data-notex")&&O&&O._context.typesetMath&&typeof MathJax<"u"&&Y.match(v),re=g.select(B.node().parentNode);if(re.empty())return;var ie=B.attr("class")?B.attr("class").split(" ")[0]:"text";ie+="-math",re.selectAll("svg."+ie).remove(),re.selectAll("g."+ie+"-group").remove(),B.style("display",null).attr({"data-unformatted":Y,"data-math":"N"});function ce(){re.empty()||(ie=B.attr("class")+"-math",re.select("svg."+ie).remove()),B.text("").style("white-space","pre");var Q=I(B.node(),Y);Q&&B.style("pointer-events","all"),V.positionText(B),H&&H.call(B)}return J?(O&&O._promises||[]).push(new Promise(function(Q){B.style("display","none");var j=parseInt(B.node().style.fontSize,10),Z={fontSize:j};n(J[2],Z,function($,te,se){re.selectAll("svg."+ie).remove(),re.selectAll("g."+ie+"-group").remove();var ee=$&&$.select("svg");if(!ee||!ee.node()){ce(),Q();return}var q=re.append("g").classed(ie+"-group",!0).attr({"pointer-events":"none","data-unformatted":Y,"data-math":"Y"});q.node().appendChild(ee.node()),te&&te.node()&&ee.node().insertBefore(te.node().cloneNode(!0),ee.node().firstChild);var le=se.width,oe=se.height;ee.attr({class:ie,height:oe,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var he=B.node().style.fill||"black",me=ee.select("g");me.attr({fill:he,stroke:he});var Ce=me.node().getBoundingClientRect(),Ae=Ce.width,Ue=Ce.height;(Ae>le||Ue>oe)&&(ee.style("overflow","hidden"),Ce=ee.node().getBoundingClientRect(),Ae=Ce.width,Ue=Ce.height);var Ve=+B.attr("x"),Pe=+B.attr("y"),be=j||B.node().getBoundingClientRect().height,Le=-be/4;if(ie[0]==="y")q.attr({transform:"rotate("+[-90,Ve,Pe]+")"+a(-Ae/2,Le-Ue/2)});else if(ie[0]==="l")Pe=Le-Ue/2;else if(ie[0]==="a"&&ie.indexOf("atitle")!==0)Ve=0,Pe=Le;else{var We=B.attr("text-anchor");Ve=Ve-Ae*(We==="middle"?.5:We==="end"?1:0),Pe=Pe+Le-Ue/2}ee.attr({x:Ve,y:Pe}),H&&H.call(B,q),Q(q)})})):ce(),B};var p=/(<|&lt;|&#60;)/g,t=/(>|&gt;|&#62;)/g;function r(B){return B.replace(p,"\\lt ").replace(t,"\\gt ")}var s=[["$","$"],["\\(","\\)"]];function n(B,O,H){var Y=parseInt((MathJax.version||"").split(".")[0]);if(Y!==2&&Y!==3){_.warn("No MathJax version:",MathJax.version);return}var J,re,ie,ce,Q=function(){return re=_.extendDeepAll({},MathJax.Hub.config),ie=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:s},displayAlign:"left"})},j=function(){re=_.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=s},Z=function(){if(J=MathJax.Hub.config.menuSettings.renderer,J!=="SVG")return MathJax.Hub.setRenderer("SVG")},$=function(){J=MathJax.config.startup.output,J!=="svg"&&(MathJax.config.startup.output="svg")},te=function(){var he="math-output-"+_.randstr({},64);ce=g.select("body").append("div").attr({id:he}).style({visibility:"hidden",position:"absolute","font-size":O.fontSize+"px"}).text(r(B));var me=ce.node();return Y===2?MathJax.Hub.Typeset(me):MathJax.typeset([me])},se=function(){var he=ce.select(Y===2?".MathJax_SVG":".MathJax"),me=!he.empty()&&ce.select("svg").node();if(!me)_.log("There was an error in the tex syntax.",B),H();else{var Ce=me.getBoundingClientRect(),Ae;Y===2?Ae=g.select("body").select("#MathJax_SVG_glyphs"):Ae=he.select("defs"),H(he,Ae,Ce)}ce.remove()},ee=function(){if(J!=="SVG")return MathJax.Hub.setRenderer(J)},q=function(){J!=="svg"&&(MathJax.config.startup.output=J)},le=function(){return ie!==void 0&&(MathJax.Hub.processSectionDelay=ie),MathJax.Hub.Config(re)},oe=function(){MathJax.config=re};Y===2?MathJax.Hub.Queue(Q,Z,te,se,ee,le):Y===3&&(j(),$(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){te(),se(),q(),oe()}))}var i={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},f={sub:"0.3em",sup:"-0.6em"},u={sub:"-0.21em",sup:"0.42em"},y="",c=["http:","https:","mailto:","",void 0,":"],T=V.NEWLINES=/(\r\n?|\n)/g,h=/(<[^<>]*>)/,l=/<(\/?)([^ >]*)(\s+(.*))?>/i,d=/<br(\s+.*)?>/i;V.BR_TAG_ALL=/<br(\s+.*)?>/gi;var E=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,S=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,P=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,x=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function M(B,O){if(!B)return null;var H=B.match(O),Y=H&&(H[3]||H[4]);return Y&&m(Y)}var w=/(^|;)\s*color:/;V.plainText=function(B,O){O=O||{};for(var H=O.len!==void 0&&O.len!==-1?O.len:1/0,Y=O.allowedTags!==void 0?O.allowedTags:["br"],J="...",re=J.length,ie=B.split(h),ce=[],Q="",j=0,Z=0;Z<ie.length;Z++){var $=ie[Z],te=$.match(l),se=te&&te[2].toLowerCase();if(se)Y.indexOf(se)!==-1&&(ce.push($),Q=se);else{var ee=$.length;if(j+ee<H)ce.push($),j+=ee;else if(j<H){var q=H-j;Q&&(Q!=="br"||q<=re||ee<=re)&&ce.pop(),H>re?ce.push($.substr(0,q-re)+J):ce.push($.substr(0,q));break}Q=""}}return ce.join("")};var o={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},L=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function m(B){return B.replace(L,function(O,H){var Y;return H.charAt(0)==="#"?Y=F(H.charAt(1)==="x"?parseInt(H.substr(2),16):parseInt(H.substr(1),10)):Y=o[H],Y||O})}V.convertEntities=m;function F(B){if(!(B>1114111)){var O=String.fromCodePoint;if(O)return O(B);var H=String.fromCharCode;return B<=65535?H(B):H((B>>10)+55232,B%1024+56320)}}function I(B,O){O=O.replace(T," ");var H=!1,Y=[],J,re=-1;function ie(){re++;var Ue=document.createElementNS(C.svg,"tspan");g.select(Ue).attr({class:"line",dy:re*A+"em"}),B.appendChild(Ue),J=Ue;var Ve=Y;if(Y=[{node:Ue}],Ve.length>1)for(var Pe=1;Pe<Ve.length;Pe++)ce(Ve[Pe])}function ce(Ue){var Ve=Ue.type,Pe={},be;if(Ve==="a"){be="a";var Le=Ue.target,We=Ue.href,je=Ue.popup;We&&(Pe={"xlink:xlink:show":Le==="_blank"||Le.charAt(0)!=="_"?"new":"replace",target:Le,"xlink:xlink:href":We},je&&(Pe.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+je+'");return false;'))}else be="tspan";Ue.style&&(Pe.style=Ue.style);var Fe=document.createElementNS(C.svg,be);if(Ve==="sup"||Ve==="sub"){Q(J,y),J.appendChild(Fe);var Ze=document.createElementNS(C.svg,"tspan");Q(Ze,y),g.select(Ze).attr("dy",u[Ve]),Pe.dy=f[Ve],J.appendChild(Fe),J.appendChild(Ze)}else J.appendChild(Fe);g.select(Fe).attr(Pe),J=Ue.node=Fe,Y.push(Ue)}function Q(Ue,Ve){Ue.appendChild(document.createTextNode(Ve))}function j(Ue){if(Y.length===1){_.log("Ignoring unexpected end tag </"+Ue+">.",O);return}var Ve=Y.pop();Ue!==Ve.type&&_.log("Start tag <"+Ve.type+"> doesnt match end tag <"+Ue+">. Pretending it did match.",O),J=Y[Y.length-1].node}var Z=d.test(O);Z?ie():(J=B,Y=[{node:B}]);for(var $=O.split(h),te=0;te<$.length;te++){var se=$[te],ee=se.match(l),q=ee&&ee[2].toLowerCase(),le=i[q];if(q==="br")ie();else if(le===void 0)Q(J,m(se));else if(ee[1])j(q);else{var oe=ee[4],he={type:q},me=M(oe,E);if(me?(me=me.replace(w,"$1 fill:"),le&&(me+=";"+le)):le&&(me=le),me&&(he.style=me),q==="a"){H=!0;var Ce=M(oe,S);if(Ce){var Ae=U(Ce);Ae&&(he.href=Ae,he.target=M(oe,P)||"_blank",he.popup=M(oe,x))}}ce(he)}}return H}function U(B){var O=encodeURI(decodeURI(B)),H=document.createElement("a"),Y=document.createElement("a");H.href=B,Y.href=O;var J=H.protocol,re=Y.protocol;return c.indexOf(J)!==-1&&c.indexOf(re)!==-1?O:""}V.sanitizeHTML=function(O){O=O.replace(T," ");for(var H=document.createElement("p"),Y=H,J=[],re=O.split(h),ie=0;ie<re.length;ie++){var ce=re[ie],Q=ce.match(l),j=Q&&Q[2].toLowerCase();if(j in i)if(Q[1])J.length&&(Y=J.pop());else{var Z=Q[4],$=M(Z,E),te=$?{style:$}:{};if(j==="a"){var se=M(Z,S);if(se){var ee=U(se);if(ee){te.href=ee;var q=M(Z,P);q&&(te.target=q)}}}var le=document.createElement(j);Y.appendChild(le),g.select(le).attr(te),Y=le,J.push(le)}else Y.appendChild(document.createTextNode(m(ce)))}var oe="innerHTML";return H[oe]},V.lineCount=function(O){return O.selectAll("tspan.line").size()||1},V.positionText=function(O,H,Y){return O.each(function(){var J=g.select(this);function re(Q,j){return j===void 0?(j=J.attr(Q),j===null&&(J.attr(Q,0),j=0)):J.attr(Q,j),j}var ie=re("x",H),ce=re("y",Y);this.nodeName==="text"&&J.selectAll("tspan.line").attr({x:ie,y:ce})})};function z(B,O,H){var Y=H.horizontalAlign,J=H.verticalAlign||"top",re=B.node().getBoundingClientRect(),ie=O.node().getBoundingClientRect(),ce,Q,j;return J==="bottom"?Q=function(){return re.bottom-ce.height}:J==="middle"?Q=function(){return re.top+(re.height-ce.height)/2}:Q=function(){return re.top},Y==="right"?j=function(){return re.right-ce.width}:Y==="center"?j=function(){return re.left+(re.width-ce.width)/2}:j=function(){return re.left},function(){ce=this.node().getBoundingClientRect();var Z=j()-ie.left,$=Q()-ie.top,te=H.gd||{};if(H.gd){te._fullLayout._calcInverseTransform(te);var se=_.apply3DTransform(te._fullLayout._invTransform)(Z,$);Z=se[0],$=se[1]}return this.style({top:$+"px",left:Z+"px","z-index":1e3}),this}}var N="1px ";V.makeTextShadow=function(B){var O=N,H=N,Y=N;return O+H+Y+B+", -"+O+"-"+H+Y+B+", "+O+"-"+H+Y+B+", -"+O+H+Y+B},V.makeEditable=function(B,O){var H=O.gd,Y=O.delegate,J=g.dispatch("edit","input","cancel"),re=Y||B;if(B.style({"pointer-events":Y?"none":"all"}),B.size()!==1)throw new Error("boo");function ie(){Q(),B.style({opacity:0});var j=re.attr("class"),Z;j?Z="."+j.split(" ")[0]+"-math-group":Z="[class*=-math-group]",Z&&g.select(B.node().parentNode).select(Z).style({opacity:0})}function ce(j){var Z=j.node(),$=document.createRange();$.selectNodeContents(Z);var te=window.getSelection();te.removeAllRanges(),te.addRange($),Z.focus()}function Q(){var j=g.select(H),Z=j.select(".svg-container"),$=Z.append("div"),te=B.node().style,se=parseFloat(te.fontSize||12),ee=O.text;ee===void 0&&(ee=B.attr("data-unformatted")),$.classed("plugin-editable editable",!0).style({position:"absolute","font-family":te.fontFamily||"Arial","font-size":se,color:O.fill||te.fill||"black",opacity:1,"background-color":O.background||"transparent",outline:"#ffffff33 1px solid",margin:[-se/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(ee).call(z(B,Z,O)).on("blur",function(){H._editing=!1,B.text(this.textContent).style({opacity:1});var q=g.select(this).attr("class"),le;q?le="."+q.split(" ")[0]+"-math-group":le="[class*=-math-group]",le&&g.select(B.node().parentNode).select(le).style({opacity:0});var oe=this.textContent;g.select(this).transition().duration(0).remove(),g.select(document).on("mouseup",null),J.edit.call(B,oe)}).on("focus",function(){var q=this;H._editing=!0,g.select(document).on("mouseup",function(){if(g.event.target===q)return!1;document.activeElement===$.node()&&$.node().blur()})}).on("keyup",function(){g.event.which===27?(H._editing=!1,B.style({opacity:1}),g.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),J.cancel.call(B,this.textContent)):(J.input.call(B,this.textContent),g.select(this).call(z(B,Z,O)))}).on("keydown",function(){g.event.which===13&&this.blur()}).call(ce)}return O.immediate?ie():re.on("click",ie),g.rebind(B,J,"on")}},79990:function(G,V){var e={};V.throttle=function(a,C,A){var v=e[a],p=Date.now();if(!v){for(var t in e)e[t].ts<p-6e4&&delete e[t];v=e[a]={ts:0,timer:null}}g(v);function r(){A(),v.ts=Date.now(),v.onDone&&(v.onDone(),v.onDone=null)}if(p>v.ts+C){r();return}v.timer=setTimeout(function(){r(),v.timer=null},C)},V.done=function(_){var a=e[_];return!a||!a.timer?Promise.resolve():new Promise(function(C){var A=a.onDone;a.onDone=function(){A&&A(),C(),a.onDone=null}})},V.clear=function(_){if(_)g(e[_]),delete e[_];else for(var a in e)V.clear(a)};function g(_){_&&_.timer!==null&&(clearTimeout(_.timer),_.timer=null)}},58163:function(G,V,e){var g=e(92770);G.exports=function(a,C){if(a>0)return Math.log(a)/Math.LN10;var A=Math.log(Math.min(C[0],C[1]))/Math.LN10;return g(A)||(A=Math.log(Math.max(C[0],C[1]))/Math.LN10-6),A}},90973:function(G,V,e){var g=G.exports={},_=e(78776).locationmodeToLayer,a=e(96892).zL;g.getTopojsonName=function(C){return[C.scope.replace(/ /g,"-"),"_",C.resolution.toString(),"m"].join("")},g.getTopojsonPath=function(C,A){return C+A+".json"},g.getTopojsonFeatures=function(C,A){var v=_[C.locationmode],p=A.objects[v];return a(A,p).features}},37815:function(G){G.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(G){G.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(G,V,e){var g=e(73972);G.exports=function(a){for(var C=g.layoutArrayContainers,A=g.layoutArrayRegexes,v=a.split("[")[0],p,t,r=0;r<A.length;r++)if(t=a.match(A[r]),t&&t.index===0){p=t[0];break}if(p||(p=C[C.indexOf(v)]),!p)return!1;var s=a.substr(p.length);return s?(t=s.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),t?{array:p,index:Number(t[1]),property:t[3]||""}:!1):{array:p,index:"",property:""}}},30962:function(G,V,e){var g=e(1426).extendFlat,_=e(41965),a={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},C={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},A=a.flags.slice().concat(["fullReplot"]),v=C.flags.slice().concat("layoutReplot");G.exports={traces:a,layout:C,traceFlags:function(){return p(A)},layoutFlags:function(){return p(v)},update:function(s,n){var i=n.editType;if(i&&i!=="none")for(var f=i.split("+"),u=0;u<f.length;u++)s[f[u]]=!0},overrideAll:t};function p(s){for(var n={},i=0;i<s.length;i++)n[s[i]]=!1;return n}function t(s,n,i){var f=g({},s);for(var u in f){var y=f[u];_(y)&&(f[u]=r(y,n,i,u))}return i==="from-root"&&(f.editType=n),f}function r(s,n,i,f){if(s.valType){var u=g({},s);if(u.editType=n,Array.isArray(s.items)){u.items=new Array(s.items.length);for(var y=0;y<s.items.length;y++)u.items[y]=r(s.items[y],n)}return u}else return t(s,n,f.charAt(0)==="_"?"nested":"from-root")}},58377:function(G,V,e){var g=e(92770),_=e(27812),a=e(73972),C=e(71828),A=e(74875),v=e(41675),p=e(7901),t=v.cleanId,r=v.getFromTrace,s=a.traceIs;V.clearPromiseQueue=function(d){Array.isArray(d._promises)&&d._promises.length>0&&C.log("Clearing previous rejected promises from queue."),d._promises=[]},V.cleanLayout=function(d){var E,S;d||(d={}),d.xaxis1&&(d.xaxis||(d.xaxis=d.xaxis1),delete d.xaxis1),d.yaxis1&&(d.yaxis||(d.yaxis=d.yaxis1),delete d.yaxis1),d.scene1&&(d.scene||(d.scene=d.scene1),delete d.scene1);var P=(A.subplotsRegistry.cartesian||{}).attrRegex,x=(A.subplotsRegistry.polar||{}).attrRegex,M=(A.subplotsRegistry.ternary||{}).attrRegex,w=(A.subplotsRegistry.gl3d||{}).attrRegex,o=Object.keys(d);for(E=0;E<o.length;E++){var L=o[E];if(P&&P.test(L)){var m=d[L];m.anchor&&m.anchor!=="free"&&(m.anchor=t(m.anchor)),m.overlaying&&(m.overlaying=t(m.overlaying)),m.type||(m.isdate?m.type="date":m.islog?m.type="log":m.isdate===!1&&m.islog===!1&&(m.type="linear")),(m.autorange==="withzero"||m.autorange==="tozero")&&(m.autorange=!0,m.rangemode="tozero"),m.insiderange&&delete m.range,delete m.islog,delete m.isdate,delete m.categories,c(m,"domain")&&delete m.domain,m.autotick!==void 0&&(m.tickmode===void 0&&(m.tickmode=m.autotick?"auto":"linear"),delete m.autotick),i(m)}else if(x&&x.test(L)){var F=d[L];i(F.radialaxis)}else if(M&&M.test(L)){var I=d[L];i(I.aaxis),i(I.baxis),i(I.caxis)}else if(w&&w.test(L)){var U=d[L],z=U.cameraposition;if(Array.isArray(z)&&z[0].length===4){var N=z[0],B=z[1],O=z[2],H=_([],N),Y=[];for(S=0;S<3;++S)Y[S]=B[S]+O*H[2+4*S];U.camera={eye:{x:Y[0],y:Y[1],z:Y[2]},center:{x:B[0],y:B[1],z:B[2]},up:{x:0,y:0,z:1}},delete U.cameraposition}i(U.xaxis),i(U.yaxis),i(U.zaxis)}}var J=Array.isArray(d.annotations)?d.annotations.length:0;for(E=0;E<J;E++){var re=d.annotations[E];C.isPlainObject(re)&&(re.ref&&(re.ref==="paper"?(re.xref="paper",re.yref="paper"):re.ref==="data"&&(re.xref="x",re.yref="y"),delete re.ref),n(re,"xref"),n(re,"yref"))}var ie=Array.isArray(d.shapes)?d.shapes.length:0;for(E=0;E<ie;E++){var ce=d.shapes[E];C.isPlainObject(ce)&&(n(ce,"xref"),n(ce,"yref"))}var Q=Array.isArray(d.images)?d.images.length:0;for(E=0;E<Q;E++){var j=d.images[E];C.isPlainObject(j)&&(n(j,"xref"),n(j,"yref"))}var Z=d.legend;return Z&&(Z.x>3?(Z.x=1.02,Z.xanchor="left"):Z.x<-2&&(Z.x=-.02,Z.xanchor="right"),Z.y>3?(Z.y=1.02,Z.yanchor="bottom"):Z.y<-2&&(Z.y=-.02,Z.yanchor="top")),i(d),d.dragmode==="rotate"&&(d.dragmode="orbit"),p.clean(d),d.template&&d.template.layout&&V.cleanLayout(d.template.layout),d};function n(d,E){var S=d[E],P=E.charAt(0);S&&S!=="paper"&&(d[E]=t(S,P,!0))}function i(d){d&&((typeof d.title=="string"||typeof d.title=="number")&&(d.title={text:d.title}),E("titlefont","font"),E("titleposition","position"),E("titleside","side"),E("titleoffset","offset"));function E(S,P){var x=d[S],M=d.title&&d.title[P];x&&!M&&(d.title||(d.title={}),d.title[P]=d[S],delete d[S])}}V.cleanData=function(d){for(var E=0;E<d.length;E++){var S=d[E],P;if(S.type==="histogramy"&&"xbins"in S&&!("ybins"in S)&&(S.ybins=S.xbins,delete S.xbins),S.error_y&&"opacity"in S.error_y){var x=p.defaults,M=S.error_y.color||(s(S,"bar")?p.defaultLine:x[E%x.length]);S.error_y.color=p.addOpacity(p.rgb(M),p.opacity(M)*S.error_y.opacity),delete S.error_y.opacity}if("bardir"in S&&(S.bardir==="h"&&(s(S,"bar")||S.type.substr(0,9)==="histogram")&&(S.orientation="h",V.swapXYData(S)),delete S.bardir),S.type==="histogramy"&&V.swapXYData(S),(S.type==="histogramx"||S.type==="histogramy")&&(S.type="histogram"),"scl"in S&&!("colorscale"in S)&&(S.colorscale=S.scl,delete S.scl),"reversescl"in S&&!("reversescale"in S)&&(S.reversescale=S.reversescl,delete S.reversescl),S.xaxis&&(S.xaxis=t(S.xaxis,"x")),S.yaxis&&(S.yaxis=t(S.yaxis,"y")),s(S,"gl3d")&&S.scene&&(S.scene=A.subplotsRegistry.gl3d.cleanId(S.scene)),!s(S,"pie-like")&&!s(S,"bar-like"))if(Array.isArray(S.textposition))for(P=0;P<S.textposition.length;P++)S.textposition[P]=y(S.textposition[P]);else S.textposition&&(S.textposition=y(S.textposition));var w=a.getModule(S);if(w&&w.colorbar){var o=w.colorbar.container,L=o?S[o]:S;L&&L.colorscale&&(L.colorscale==="YIGnBu"&&(L.colorscale="YlGnBu"),L.colorscale==="YIOrRd"&&(L.colorscale="YlOrRd"))}if(S.type==="surface"&&C.isPlainObject(S.contours)){var m=["x","y","z"];for(P=0;P<m.length;P++){var F=S.contours[m[P]];C.isPlainObject(F)&&(F.highlightColor&&(F.highlightcolor=F.highlightColor,delete F.highlightColor),F.highlightWidth&&(F.highlightwidth=F.highlightWidth,delete F.highlightWidth))}}if(S.type==="candlestick"||S.type==="ohlc"){var I=(S.increasing||{}).showlegend!==!1,U=(S.decreasing||{}).showlegend!==!1,z=f(S.increasing),N=f(S.decreasing);if(z!==!1&&N!==!1){var B=u(z,N,I,U);B&&(S.name=B)}else(z||N)&&!S.name&&(S.name=z||N)}if(Array.isArray(S.transforms)){var O=S.transforms;for(P=0;P<O.length;P++){var H=O[P];if(C.isPlainObject(H))switch(H.type){case"filter":H.filtersrc&&(H.target=H.filtersrc,delete H.filtersrc),H.calendar&&(H.valuecalendar||(H.valuecalendar=H.calendar),delete H.calendar);break;case"groupby":if(H.styles=H.styles||H.style,H.styles&&!Array.isArray(H.styles)){var Y=H.styles,J=Object.keys(Y);H.styles=[];for(var re=0;re<J.length;re++)H.styles.push({target:J[re],value:Y[J[re]]})}break}}}c(S,"line")&&delete S.line,"marker"in S&&(c(S.marker,"line")&&delete S.marker.line,c(S,"marker")&&delete S.marker),p.clean(S),S.autobinx&&(delete S.autobinx,delete S.xbins),S.autobiny&&(delete S.autobiny,delete S.ybins),i(S),S.colorbar&&i(S.colorbar),S.marker&&S.marker.colorbar&&i(S.marker.colorbar),S.line&&S.line.colorbar&&i(S.line.colorbar),S.aaxis&&i(S.aaxis),S.baxis&&i(S.baxis)}};function f(d){if(!C.isPlainObject(d))return!1;var E=d.name;return delete d.name,delete d.showlegend,(typeof E=="string"||typeof E=="number")&&String(E)}function u(d,E,S,P){if(S&&!P)return d;if(P&&!S||!d.trim())return E;if(!E.trim())return d;var x=Math.min(d.length,E.length),M;for(M=0;M<x&&d.charAt(M)===E.charAt(M);M++);var w=d.substr(0,M);return w.trim()}function y(d){var E="middle",S="center";return typeof d=="string"&&(d.indexOf("top")!==-1?E="top":d.indexOf("bottom")!==-1&&(E="bottom"),d.indexOf("left")!==-1?S="left":d.indexOf("right")!==-1&&(S="right")),E+" "+S}function c(d,E){return E in d&&typeof d[E]=="object"&&Object.keys(d[E]).length===0}V.swapXYData=function(d){var E;if(C.swapAttrs(d,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(d.z)&&Array.isArray(d.z[0])&&(d.transpose?delete d.transpose:d.transpose=!0),d.error_x&&d.error_y){var S=d.error_y,P="copy_ystyle"in S?S.copy_ystyle:!(S.color||S.thickness||S.width);C.swapAttrs(d,["error_?.copy_ystyle"]),P&&C.swapAttrs(d,["error_?.color","error_?.thickness","error_?.width"])}if(typeof d.hoverinfo=="string"){var x=d.hoverinfo.split("+");for(E=0;E<x.length;E++)x[E]==="x"?x[E]="y":x[E]==="y"&&(x[E]="x");d.hoverinfo=x.join("+")}},V.coerceTraceIndices=function(d,E){if(g(E))return[E];if(!Array.isArray(E)||!E.length)return d.data.map(function(x,M){return M});if(Array.isArray(E)){for(var S=[],P=0;P<E.length;P++)C.isIndex(E[P],d.data.length)?S.push(E[P]):C.warn("trace index (",E[P],") is not a number or is out of bounds");return S}return E},V.manageArrayContainers=function(d,E,S){var P=d.obj,x=d.parts,M=x.length,w=x[M-1],o=g(w);if(o&&E===null){var L=x.slice(0,M-1).join("."),m=C.nestedProperty(P,L).get();m.splice(w,1)}else o&&d.get()===void 0&&d.get()===void 0&&(S[d.astr]=null),d.set(E)};var T=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function h(d){var E=d.search(T);if(E>0)return d.substr(0,E)}V.hasParent=function(d,E){for(var S=h(E);S;){if(S in d)return!0;S=h(S)}return!1};var l=["x","y","z"];V.clearAxisTypes=function(d,E,S){for(var P=0;P<E.length;P++)for(var x=d._fullData[P],M=0;M<3;M++){var w=r(d,x,l[M]);if(w&&w.type!=="log"){var o=w._name,L=w._id.substr(1);if(L.substr(0,5)==="scene"){if(S[L]!==void 0)continue;o=L+"."+o}var m=o+".type";S[o]===void 0&&S[m]===void 0&&C.nestedProperty(d.layout,m).set(null)}}}},10641:function(G,V,e){var g=e(72391);V._doPlot=g._doPlot,V.newPlot=g.newPlot,V.restyle=g.restyle,V.relayout=g.relayout,V.redraw=g.redraw,V.update=g.update,V._guiRestyle=g._guiRestyle,V._guiRelayout=g._guiRelayout,V._guiUpdate=g._guiUpdate,V._storeDirectGUIEdit=g._storeDirectGUIEdit,V.react=g.react,V.extendTraces=g.extendTraces,V.prependTraces=g.prependTraces,V.addTraces=g.addTraces,V.deleteTraces=g.deleteTraces,V.moveTraces=g.moveTraces,V.purge=g.purge,V.addFrames=g.addFrames,V.deleteFrames=g.deleteFrames,V.animate=g.animate,V.setPlotConfig=g.setPlotConfig;var _=e(24401).getGraphDiv,a=e(34031).eraseActiveShape;V.deleteActiveShape=function(A){return a(_(A))},V.toImage=e(403),V.validate=e(84936),V.downloadImage=e(7239);var C=e(96318);V.makeTemplate=C.makeTemplate,V.validateTemplate=C.validateTemplate},6611:function(G,V,e){var g=e(41965),_=e(64213),a=e(47769),C=e(65888).sorterAsc,A=e(73972);V.containerArrayMatch=e(14458);var v=V.isAddVal=function(r){return r==="add"||g(r)},p=V.isRemoveVal=function(r){return r===null||r==="remove"};V.applyContainerArrayChanges=function(r,s,n,i,f){var u=s.astr,y=A.getComponentMethod(u,"supplyLayoutDefaults"),c=A.getComponentMethod(u,"draw"),T=A.getComponentMethod(u,"drawOne"),h=i.replot||i.recalc||y===_||c===_,l=r.layout,d=r._fullLayout;if(n[""]){Object.keys(n).length>1&&a.warn("Full array edits are incompatible with other edits",u);var E=n[""][""];if(p(E))s.set(null);else if(Array.isArray(E))s.set(E);else return a.warn("Unrecognized full array edit value",u,E),!0;return h?!1:(y(l,d),c(r),!0)}var S=Object.keys(n).map(Number).sort(C),P=s.get(),x=P||[],M=f(d,u).get(),w=[],o=-1,L=x.length,m,F,I,U,z,N,B,O;for(m=0;m<S.length;m++){if(I=S[m],U=n[I],z=Object.keys(U),N=U[""],B=v(N),I<0||I>x.length-(B?0:1)){a.warn("index out of range",u,I);continue}if(N!==void 0)z.length>1&&a.warn("Insertion & removal are incompatible with edits to the same index.",u,I),p(N)?w.push(I):B?(N==="add"&&(N={}),x.splice(I,0,N),M&&M.splice(I,0,{})):a.warn("Unrecognized full object edit value",u,I,N),o===-1&&(o=I);else for(F=0;F<z.length;F++)O=u+"["+I+"].",f(x[I],z[F],O).set(U[z[F]])}for(m=w.length-1;m>=0;m--)x.splice(w[m],1),M&&M.splice(w[m],1);if(x.length?P||s.set(x):s.set(null),h)return!1;if(y(l,d),T!==_){var H;if(o===-1)H=S;else{for(L=Math.max(x.length,L),H=[],m=0;m<S.length&&(I=S[m],!(I>=o));m++)H.push(I);for(m=o;m<L;m++)H.push(m)}for(m=0;m<H.length;m++)T(r,H[m])}else c(r);return!0}},72391:function(G,V,e){var g=e(39898),_=e(92770),a=e(57035),C=e(71828),A=C.nestedProperty,v=e(11086),p=e(10847),t=e(73972),r=e(86281),s=e(74875),n=e(89298),i=e(23608),f=e(13838),u=e(91424),y=e(7901),c=e(4305).initInteractions,T=e(77922),h=e(47322).clearOutline,l=e(72075).dfltConfig,d=e(6611),E=e(58377),S=e(61549),P=e(30962),x=e(85555).AX_NAME_PATTERN,M=0,w=5;function o(Me,He,qe,rt){var pt;if(Me=C.getGraphDiv(Me),v.init(Me),C.isPlainObject(He)){var At=He;He=At.data,qe=At.layout,rt=At.config,pt=At.frames}var jt=v.triggerHandler(Me,"plotly_beforeplot",[He,qe,rt]);if(jt===!1)return Promise.reject();!He&&!qe&&!C.isPlotDiv(Me)&&C.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Me);function tr(){if(pt)return V.addFrames(Me,pt)}U(Me,rt),qe||(qe={}),g.select(Me).classed("js-plotly-plot",!0),u.makeTester(),Array.isArray(Me._promises)||(Me._promises=[]);var Ct=(Me.data||[]).length===0&&Array.isArray(He);Array.isArray(He)&&(E.cleanData(He),Ct?Me.data=He:Me.data.push.apply(Me.data,He),Me.empty=!1),(!Me.layout||Ct)&&(Me.layout=E.cleanLayout(qe)),s.supplyDefaults(Me);var Nt=Me._fullLayout,Kt=Nt._has("cartesian");Nt._replotting=!0,(Ct||Nt._shouldCreateBgLayer)&&(Se(Me),Nt._shouldCreateBgLayer&&delete Nt._shouldCreateBgLayer),u.initGradients(Me),u.initPatterns(Me),Ct&&n.saveShowSpikeInitial(Me);var wr=!Me.calcdata||Me.calcdata.length!==(Me._fullData||[]).length;wr&&s.doCalcdata(Me);for(var yt=0;yt<Me.calcdata.length;yt++)Me.calcdata[yt][0].trace=Me._fullData[yt];Me._context.responsive?Me._responsiveChartHandler||(Me._responsiveChartHandler=function(){C.isHidden(Me)||s.resize(Me)},window.addEventListener("resize",Me._responsiveChartHandler)):C.clearResponsive(Me);var $t=C.extendFlat({},Nt._size),er=0;function mr(){for(var Vt=Nt._basePlotModules,Ut=0;Ut<Vt.length;Ut++)Vt[Ut].drawFramework&&Vt[Ut].drawFramework(Me);!Nt._glcanvas&&Nt._has("gl")&&(Nt._glcanvas=Nt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(lr){return lr.key}),Nt._glcanvas.enter().append("canvas").attr("class",function(lr){return"gl-canvas gl-canvas-"+lr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Qt=Me._context.plotGlPixelRatio;if(Nt._glcanvas){Nt._glcanvas.attr("width",Nt.width*Qt).attr("height",Nt.height*Qt).style("width",Nt.width+"px").style("height",Nt.height+"px");var hr=Nt._glcanvas.data()[0].regl;if(hr&&(Math.floor(Nt.width*Qt)!==hr._gl.drawingBufferWidth||Math.floor(Nt.height*Qt)!==hr._gl.drawingBufferHeight)){var cr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(er)C.error(cr);else return C.log(cr+" Clearing graph and plotting again."),s.cleanPlot([],{},Me._fullData,Nt),s.supplyDefaults(Me),Nt=Me._fullLayout,s.doCalcdata(Me),er++,mr()}}return Nt.modebar.orientation==="h"?Nt._modebardiv.style("height",null).style("width","100%"):Nt._modebardiv.style("width",null).style("height",Nt.height+"px"),s.previousPromises(Me)}function vr(){if(s.clearAutoMarginIds(Me),S.drawMarginPushers(Me),n.allowAutoMargin(Me),Me._fullLayout.title.text&&Me._fullLayout.title.automargin&&s.allowAutoMargin(Me,"title.automargin"),Nt._has("pie"))for(var Vt=Me._fullData,Ut=0;Ut<Vt.length;Ut++){var Qt=Vt[Ut];Qt.type==="pie"&&Qt.automargin&&s.allowAutoMargin(Me,"pie."+Qt.uid+".automargin")}return s.doAutoMargin(Me),s.previousPromises(Me)}function bt(){if(s.didMarginChange($t,Nt._size))return C.syncOrAsync([vr,S.layoutStyles],Me)}function ht(){if(!wr){Tt();return}return C.syncOrAsync([t.getComponentMethod("shapes","calcAutorange"),t.getComponentMethod("annotations","calcAutorange"),Tt],Me)}function Tt(){Me._transitioning||(S.doAutoRangeAndConstraints(Me),Ct&&n.saveRangeInitial(Me),t.getComponentMethod("rangeslider","calcAutorange")(Me))}function Pt(){return n.draw(Me,Ct?"":"redraw")}var zt=[s.previousPromises,tr,mr,vr,bt];Kt&&zt.push(ht),zt.push(S.layoutStyles),Kt&&zt.push(Pt,function(Ut){var Qt=Ut._fullLayout._insideTickLabelsUpdaterange;if(Qt)return Ut._fullLayout._insideTickLabelsUpdaterange=void 0,Ce(Ut,Qt).then(function(){n.saveRangeInitial(Ut,!0)})}),zt.push(S.drawData,S.finalDraw,c,s.addLinks,s.rehover,s.redrag,s.reselect,s.doAutoMargin,s.previousPromises);var Dt=C.syncOrAsync(zt,Me);return(!Dt||!Dt.then)&&(Dt=Promise.resolve()),Dt.then(function(){return L(Me),Me})}function L(Me){var He=Me._fullLayout;He._redrawFromAutoMarginCount?He._redrawFromAutoMarginCount--:Me.emit("plotly_afterplot")}function m(Me){return C.extendFlat(l,Me)}function F(Me,He){try{Me._fullLayout._paper.style("background",He)}catch(qe){C.error(qe)}}function I(Me,He){var qe=y.combine(He,"white");F(Me,qe)}function U(Me,He){if(!Me._context){Me._context=C.extendDeep({},l);var qe=g.select("base");Me._context._baseUrl=qe.size()&&qe.attr("href")?window.location.href.split("#")[0]:""}var rt=Me._context,pt,At,jt;if(He){for(At=Object.keys(He),pt=0;pt<At.length;pt++)jt=At[pt],!(jt==="editable"||jt==="edits")&&jt in rt&&(jt==="setBackground"&&He[jt]==="opaque"?rt[jt]=I:rt[jt]=He[jt]);He.plot3dPixelRatio&&!rt.plotGlPixelRatio&&(rt.plotGlPixelRatio=rt.plot3dPixelRatio);var tr=He.editable;if(tr!==void 0)for(rt.editable=tr,At=Object.keys(rt.edits),pt=0;pt<At.length;pt++)rt.edits[At[pt]]=tr;if(He.edits)for(At=Object.keys(He.edits),pt=0;pt<At.length;pt++)jt=At[pt],jt in rt.edits&&(rt.edits[jt]=He.edits[jt]);rt._exportedPlot=He._exportedPlot}rt.staticPlot&&(rt.editable=!1,rt.edits={},rt.autosizable=!1,rt.scrollZoom=!1,rt.doubleClick=!1,rt.showTips=!1,rt.showLink=!1,rt.displayModeBar=!1),rt.displayModeBar==="hover"&&!a&&(rt.displayModeBar=!0),(rt.setBackground==="transparent"||typeof rt.setBackground!="function")&&(rt.setBackground=F),rt._hasZeroHeight=rt._hasZeroHeight||Me.clientHeight===0,rt._hasZeroWidth=rt._hasZeroWidth||Me.clientWidth===0;var Ct=rt.scrollZoom,Nt=rt._scrollZoom={};if(Ct===!0)Nt.cartesian=1,Nt.gl3d=1,Nt.geo=1,Nt.mapbox=1;else if(typeof Ct=="string"){var Kt=Ct.split("+");for(pt=0;pt<Kt.length;pt++)Nt[Kt[pt]]=1}else Ct!==!1&&(Nt.gl3d=1,Nt.geo=1,Nt.mapbox=1)}function z(Me){if(Me=C.getGraphDiv(Me),!C.isPlotDiv(Me))throw new Error("This element is not a Plotly plot: "+Me);return E.cleanData(Me.data),E.cleanLayout(Me.layout),Me.calcdata=void 0,V._doPlot(Me).then(function(){return Me.emit("plotly_redraw"),Me})}function N(Me,He,qe,rt){return Me=C.getGraphDiv(Me),s.cleanPlot([],{},Me._fullData||[],Me._fullLayout||{}),s.purge(Me),V._doPlot(Me,He,qe,rt)}function B(Me,He){var qe=He+1,rt=[],pt,At;for(pt=0;pt<Me.length;pt++)At=Me[pt],At<0?rt.push(qe+At):rt.push(At);return rt}function O(Me,He,qe){var rt,pt;for(rt=0;rt<He.length;rt++){if(pt=He[rt],pt!==parseInt(pt,10))throw new Error("all values in "+qe+" must be integers");if(pt>=Me.data.length||pt<-Me.data.length)throw new Error(qe+" must be valid indices for gd.data.");if(He.indexOf(pt,rt+1)>-1||pt>=0&&He.indexOf(-Me.data.length+pt)>-1||pt<0&&He.indexOf(Me.data.length+pt)>-1)throw new Error("each index in "+qe+" must be unique.")}}function H(Me,He,qe){if(!Array.isArray(Me.data))throw new Error("gd.data must be an array.");if(typeof He>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(He)||(He=[He]),O(Me,He,"currentIndices"),typeof qe<"u"&&!Array.isArray(qe)&&(qe=[qe]),typeof qe<"u"&&O(Me,qe,"newIndices"),typeof qe<"u"&&He.length!==qe.length)throw new Error("current and new indices must be of equal length.")}function Y(Me,He,qe){var rt,pt;if(!Array.isArray(Me.data))throw new Error("gd.data must be an array.");if(typeof He>"u")throw new Error("traces must be defined.");for(Array.isArray(He)||(He=[He]),rt=0;rt<He.length;rt++)if(pt=He[rt],typeof pt!="object"||Array.isArray(pt)||pt===null)throw new Error("all values in traces array must be non-array objects");if(typeof qe<"u"&&!Array.isArray(qe)&&(qe=[qe]),typeof qe<"u"&&qe.length!==He.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function J(Me,He,qe,rt){var pt=C.isPlainObject(rt);if(!Array.isArray(Me.data))throw new Error("gd.data must be an array");if(!C.isPlainObject(He))throw new Error("update must be a key:value object");if(typeof qe>"u")throw new Error("indices must be an integer or array of integers");O(Me,qe,"indices");for(var At in He){if(!Array.isArray(He[At])||He[At].length!==qe.length)throw new Error("attribute "+At+" must be an array of length equal to indices array length");if(pt&&(!(At in rt)||!Array.isArray(rt[At])||rt[At].length!==He[At].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function re(Me,He,qe,rt){var pt=C.isPlainObject(rt),At=[],jt,tr,Ct,Nt,Kt;Array.isArray(qe)||(qe=[qe]),qe=B(qe,Me.data.length-1);for(var wr in He)for(var yt=0;yt<qe.length;yt++){if(jt=Me.data[qe[yt]],Ct=A(jt,wr),tr=Ct.get(),Nt=He[wr][yt],!C.isArrayOrTypedArray(Nt))throw new Error("attribute: "+wr+" index: "+yt+" must be an array");if(!C.isArrayOrTypedArray(tr))throw new Error("cannot extend missing or non-array attribute: "+wr);if(tr.constructor!==Nt.constructor)throw new Error("cannot extend array with an array of a different type: "+wr);Kt=pt?rt[wr][yt]:rt,_(Kt)||(Kt=-1),At.push({prop:Ct,target:tr,insert:Nt,maxp:Math.floor(Kt)})}return At}function ie(Me,He,qe,rt,pt){J(Me,He,qe,rt);for(var At=re(Me,He,qe,rt),jt={},tr={},Ct=0;Ct<At.length;Ct++){var Nt=At[Ct].prop,Kt=At[Ct].maxp,wr=pt(At[Ct].target,At[Ct].insert,Kt);Nt.set(wr[0]),Array.isArray(jt[Nt.astr])||(jt[Nt.astr]=[]),jt[Nt.astr].push(wr[1]),Array.isArray(tr[Nt.astr])||(tr[Nt.astr]=[]),tr[Nt.astr].push(At[Ct].target.length)}return{update:jt,maxPoints:tr}}function ce(Me,He){var qe=new Me.constructor(Me.length+He.length);return qe.set(Me),qe.set(He,Me.length),qe}function Q(Me,He,qe,rt){Me=C.getGraphDiv(Me);function pt(Ct,Nt,Kt){var wr,yt;if(C.isTypedArray(Ct))if(Kt<0){var $t=new Ct.constructor(0),er=ce(Ct,Nt);Kt<0?(wr=er,yt=$t):(wr=$t,yt=er)}else if(wr=new Ct.constructor(Kt),yt=new Ct.constructor(Ct.length+Nt.length-Kt),Kt===Nt.length)wr.set(Nt),yt.set(Ct);else if(Kt<Nt.length){var mr=Nt.length-Kt;wr.set(Nt.subarray(mr)),yt.set(Ct),yt.set(Nt.subarray(0,mr),Ct.length)}else{var vr=Kt-Nt.length,bt=Ct.length-vr;wr.set(Ct.subarray(bt)),wr.set(Nt,vr),yt.set(Ct.subarray(0,bt))}else wr=Ct.concat(Nt),yt=Kt>=0&&Kt<wr.length?wr.splice(0,wr.length-Kt):[];return[wr,yt]}var At=ie(Me,He,qe,rt,pt),jt=V.redraw(Me),tr=[Me,At.update,qe,At.maxPoints];return p.add(Me,V.prependTraces,tr,Q,arguments),jt}function j(Me,He,qe,rt){Me=C.getGraphDiv(Me);function pt(Ct,Nt,Kt){var wr,yt;if(C.isTypedArray(Ct))if(Kt<=0){var $t=new Ct.constructor(0),er=ce(Nt,Ct);Kt<0?(wr=er,yt=$t):(wr=$t,yt=er)}else if(wr=new Ct.constructor(Kt),yt=new Ct.constructor(Ct.length+Nt.length-Kt),Kt===Nt.length)wr.set(Nt),yt.set(Ct);else if(Kt<Nt.length){var mr=Nt.length-Kt;wr.set(Nt.subarray(0,mr)),yt.set(Nt.subarray(mr)),yt.set(Ct,mr)}else{var vr=Kt-Nt.length;wr.set(Nt),wr.set(Ct.subarray(0,vr),Nt.length),yt.set(Ct.subarray(vr))}else wr=Nt.concat(Ct),yt=Kt>=0&&Kt<wr.length?wr.splice(Kt,wr.length):[];return[wr,yt]}var At=ie(Me,He,qe,rt,pt),jt=V.redraw(Me),tr=[Me,At.update,qe,At.maxPoints];return p.add(Me,V.extendTraces,tr,j,arguments),jt}function Z(Me,He,qe){Me=C.getGraphDiv(Me);var rt=[],pt=V.deleteTraces,At=Z,jt=[Me,rt],tr=[Me,He],Ct,Nt;for(Y(Me,He,qe),Array.isArray(He)||(He=[He]),He=He.map(function(Kt){return C.extendFlat({},Kt)}),E.cleanData(He),Ct=0;Ct<He.length;Ct++)Me.data.push(He[Ct]);for(Ct=0;Ct<He.length;Ct++)rt.push(-He.length+Ct);if(typeof qe>"u")return Nt=V.redraw(Me),p.add(Me,pt,jt,At,tr),Nt;Array.isArray(qe)||(qe=[qe]);try{H(Me,rt,qe)}catch(Kt){throw Me.data.splice(Me.data.length-He.length,He.length),Kt}return p.startSequence(Me),p.add(Me,pt,jt,At,tr),Nt=V.moveTraces(Me,rt,qe),p.stopSequence(Me),Nt}function $(Me,He){Me=C.getGraphDiv(Me);var qe=[],rt=V.addTraces,pt=$,At=[Me,qe,He],jt=[Me,He],tr,Ct;if(typeof He>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(He)||(He=[He]),O(Me,He,"indices"),He=B(He,Me.data.length-1),He.sort(C.sorterDes),tr=0;tr<He.length;tr+=1)Ct=Me.data.splice(He[tr],1)[0],qe.push(Ct);var Nt=V.redraw(Me);return p.add(Me,rt,At,pt,jt),Nt}function te(Me,He,qe){Me=C.getGraphDiv(Me);var rt=[],pt=[],At=te,jt=te,tr=[Me,qe,He],Ct=[Me,He,qe],Nt;if(H(Me,He,qe),He=Array.isArray(He)?He:[He],typeof qe>"u")for(qe=[],Nt=0;Nt<He.length;Nt++)qe.push(-He.length+Nt);for(qe=Array.isArray(qe)?qe:[qe],He=B(He,Me.data.length-1),qe=B(qe,Me.data.length-1),Nt=0;Nt<Me.data.length;Nt++)He.indexOf(Nt)===-1&&rt.push(Me.data[Nt]);for(Nt=0;Nt<He.length;Nt++)pt.push({newIndex:qe[Nt],trace:Me.data[He[Nt]]});for(pt.sort(function(wr,yt){return wr.newIndex-yt.newIndex}),Nt=0;Nt<pt.length;Nt+=1)rt.splice(pt[Nt].newIndex,0,pt[Nt].trace);Me.data=rt;var Kt=V.redraw(Me);return p.add(Me,At,tr,jt,Ct),Kt}function se(Me,He,qe,rt){Me=C.getGraphDiv(Me),E.clearPromiseQueue(Me);var pt={};if(typeof He=="string")pt[He]=qe;else if(C.isPlainObject(He))pt=C.extendFlat({},He),rt===void 0&&(rt=qe);else return C.warn("Restyle fail.",He,qe,rt),Promise.reject();Object.keys(pt).length&&(Me.changed=!0);var At=E.coerceTraceIndices(Me,rt),jt=he(Me,pt,At),tr=jt.flags;tr.calc&&(Me.calcdata=void 0),tr.clearAxisTypes&&E.clearAxisTypes(Me,At,{});var Ct=[];tr.fullReplot?Ct.push(V._doPlot):(Ct.push(s.previousPromises),s.supplyDefaults(Me),tr.markerSize&&(s.doCalcdata(Me),Ue(Ct)),tr.style&&Ct.push(S.doTraceStyle),tr.colorbars&&Ct.push(S.doColorBars),Ct.push(L)),Ct.push(s.rehover,s.redrag,s.reselect),p.add(Me,se,[Me,jt.undoit,jt.traces],se,[Me,jt.redoit,jt.traces]);var Nt=C.syncOrAsync(Ct,Me);return(!Nt||!Nt.then)&&(Nt=Promise.resolve()),Nt.then(function(){return Me.emit("plotly_restyle",jt.eventData),Me})}function ee(Me){return Me===void 0?null:Me}function q(Me,He){return He?function(qe,rt,pt){var At=A(qe,rt),jt=At.set;return At.set=function(tr){var Ct=(pt||"")+rt;le(Ct,At.get(),tr,Me),jt(tr)},At}:A}function le(Me,He,qe,rt){if(Array.isArray(He)||Array.isArray(qe))for(var pt=Array.isArray(He)?He:[],At=Array.isArray(qe)?qe:[],jt=Math.max(pt.length,At.length),tr=0;tr<jt;tr++)le(Me+"["+tr+"]",pt[tr],At[tr],rt);else if(C.isPlainObject(He)||C.isPlainObject(qe)){var Ct=C.isPlainObject(He)?He:{},Nt=C.isPlainObject(qe)?qe:{},Kt=C.extendFlat({},Ct,Nt);for(var wr in Kt)le(Me+"."+wr,Ct[wr],Nt[wr],rt)}else rt[Me]===void 0&&(rt[Me]=ee(He))}function oe(Me,He,qe){for(var rt in qe){var pt=A(Me,rt);le(rt,pt.get(),qe[rt],He)}}function he(Me,He,qe){var rt=Me._fullLayout,pt=Me._fullData,At=Me.data,jt=rt._guiEditing,tr=q(rt._preGUI,jt),Ct=C.extendDeepAll({},He),Nt;me(He);var Kt=P.traceFlags(),wr={},yt={},$t;function er(){return qe.map(function(){})}function mr(bn){var Lr=n.id2name(bn);$t.indexOf(Lr)===-1&&$t.push(Lr)}function vr(bn){return"LAYOUT"+bn+".autorange"}function bt(bn){return"LAYOUT"+bn+".range"}function ht(bn){for(var Lr=bn;Lr<pt.length;Lr++)if(pt[Lr]._input===At[bn])return pt[Lr]}function Tt(bn,Lr,Pr){if(Array.isArray(bn)){bn.forEach(function(cn){Tt(cn,Lr,Pr)});return}if(!(bn in He||E.hasParent(He,bn))){var Yr;if(bn.substr(0,6)==="LAYOUT")Yr=tr(Me.layout,bn.replace("LAYOUT",""));else{var Hr=qe[Pr],en=rt._tracePreGUI[ht(Hr)._fullInput.uid];Yr=q(en,jt)(At[Hr],bn)}bn in yt||(yt[bn]=er()),yt[bn][Pr]===void 0&&(yt[bn][Pr]=ee(Yr.get())),Lr!==void 0&&Yr.set(Lr)}}function Pt(bn){return function(Lr){return pt[Lr][bn]}}function zt(bn){return function(Lr,Pr){return Lr===!1?pt[qe[Pr]][bn]:null}}for(var Dt in He){if(E.hasParent(He,Dt))throw new Error("cannot set "+Dt+" and a parent attribute simultaneously");var Vt=He[Dt],Ut,Qt,hr,cr,lr,Xe;if((Dt==="autobinx"||Dt==="autobiny")&&(Dt=Dt.charAt(Dt.length-1)+"bins",Array.isArray(Vt)?Vt=Vt.map(zt(Dt)):Vt===!1?Vt=qe.map(Pt(Dt)):Vt=null),wr[Dt]=Vt,Dt.substr(0,6)==="LAYOUT"){hr=tr(Me.layout,Dt.replace("LAYOUT","")),yt[Dt]=[ee(hr.get())],hr.set(Array.isArray(Vt)?Vt[0]:Vt),Kt.calc=!0;continue}for(yt[Dt]=er(),Nt=0;Nt<qe.length;Nt++){Ut=At[qe[Nt]],Qt=ht(qe[Nt]);var Ke=rt._tracePreGUI[Qt._fullInput.uid];if(hr=q(Ke,jt)(Ut,Dt),cr=hr.get(),lr=Array.isArray(Vt)?Vt[Nt%Vt.length]:Vt,lr!==void 0){var Ot=hr.parts[hr.parts.length-1],Lt=Dt.substr(0,Dt.length-Ot.length-1),Xt=Lt?Lt+".":"",rr=Lt?A(Qt,Lt).get():Qt;if(Xe=r.getTraceValObject(Qt,hr.parts),Xe&&Xe.impliedEdits&&lr!==null)for(var ur in Xe.impliedEdits)Tt(C.relativeAttr(Dt,ur),Xe.impliedEdits[ur],Nt);else if((Ot==="thicknessmode"||Ot==="lenmode")&&cr!==lr&&(lr==="fraction"||lr==="pixels")&&rr){var or=rt._size,Ht=rr.orient,gr=Ht==="top"||Ht==="bottom";if(Ot==="thicknessmode"){var br=gr?or.h:or.w;Tt(Xt+"thickness",rr.thickness*(lr==="fraction"?1/br:br),Nt)}else{var xr=gr?or.w:or.h;Tt(Xt+"len",rr.len*(lr==="fraction"?1/xr:xr),Nt)}}else if(Dt==="type"&&(lr==="pie"!=(cr==="pie")||lr==="funnelarea"!=(cr==="funnelarea"))){var dr="x",Wr="y";(lr==="bar"||cr==="bar")&&Ut.orientation==="h"&&(dr="y",Wr="x"),C.swapAttrs(Ut,["?","?src"],"labels",dr),C.swapAttrs(Ut,["d?","?0"],"label",dr),C.swapAttrs(Ut,["?","?src"],"values",Wr),cr==="pie"||cr==="funnelarea"?(A(Ut,"marker.color").set(A(Ut,"marker.colors").get()),rt._pielayer.selectAll("g.trace").remove()):t.traceIs(Ut,"cartesian")&&A(Ut,"marker.colors").set(A(Ut,"marker.color").get())}yt[Dt][Nt]=ee(cr);var Br=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Br.indexOf(Dt)!==-1){if(Dt==="orientation"){hr.set(lr);var Ur=Ut.x&&!Ut.y?"h":"v";if((hr.get()||Ur)===Qt.orientation)continue}else Dt==="orientationaxes"&&(Ut.orientation={v:"h",h:"v"}[Qt.orientation]);E.swapXYData(Ut),Kt.calc=Kt.clearAxisTypes=!0}else s.dataArrayContainers.indexOf(hr.parts[0])!==-1?(E.manageArrayContainers(hr,lr,yt),Kt.calc=!0):(Xe?Xe.arrayOk&&!t.traceIs(Qt,"regl")&&(C.isArrayOrTypedArray(lr)||C.isArrayOrTypedArray(cr))?Kt.calc=!0:P.update(Kt,Xe):Kt.calc=!0,hr.set(lr))}}if(["swapxyaxes","orientationaxes"].indexOf(Dt)!==-1&&n.swap(Me,qe),Dt==="orientationaxes"){var yn=A(Me.layout,"hovermode"),rn=yn.get();rn==="x"?yn.set("y"):rn==="y"?yn.set("x"):rn==="x unified"?yn.set("y unified"):rn==="y unified"&&yn.set("x unified")}if(["orientation","type"].indexOf(Dt)!==-1){for($t=[],Nt=0;Nt<qe.length;Nt++){var Un=At[qe[Nt]];t.traceIs(Un,"cartesian")&&(mr(Un.xaxis||"x"),mr(Un.yaxis||"y"))}Tt($t.map(vr),!0,0),Tt($t.map(bt),[0,1],0)}}return(Kt.calc||Kt.plot)&&(Kt.fullReplot=!0),{flags:Kt,undoit:yt,redoit:wr,traces:qe,eventData:C.extendDeepNoArrays([],[Ct,qe])}}function me(Me){var He=C.counterRegex("axis",".title",!1,!1),qe=/colorbar\.title$/,rt=Object.keys(Me),pt,At,jt;for(pt=0;pt<rt.length;pt++)At=rt[pt],jt=Me[At],(At==="title"||He.test(At)||qe.test(At))&&(typeof jt=="string"||typeof jt=="number")?tr(At,At.replace("title","title.text")):At.indexOf("titlefont")>-1&&At.indexOf("grouptitlefont")===-1?tr(At,At.replace("titlefont","title.font")):At.indexOf("titleposition")>-1?tr(At,At.replace("titleposition","title.position")):At.indexOf("titleside")>-1?tr(At,At.replace("titleside","title.side")):At.indexOf("titleoffset")>-1&&tr(At,At.replace("titleoffset","title.offset"));function tr(Ct,Nt){Me[Nt]=Me[Ct],delete Me[Ct]}}function Ce(Me,He,qe){Me=C.getGraphDiv(Me),E.clearPromiseQueue(Me);var rt={};if(typeof He=="string")rt[He]=qe;else if(C.isPlainObject(He))rt=C.extendFlat({},He);else return C.warn("Relayout fail.",He,qe),Promise.reject();Object.keys(rt).length&&(Me.changed=!0);var pt=Le(Me,rt),At=pt.flags;At.calc&&(Me.calcdata=void 0);var jt=[s.previousPromises];At.layoutReplot?jt.push(S.layoutReplot):Object.keys(rt).length&&(Ae(Me,At,pt)||s.supplyDefaults(Me),At.legend&&jt.push(S.doLegend),At.layoutstyle&&jt.push(S.layoutStyles),At.axrange&&Ue(jt,pt.rangesAltered),At.ticks&&jt.push(S.doTicksRelayout),At.modebar&&jt.push(S.doModeBar),At.camera&&jt.push(S.doCamera),At.colorbars&&jt.push(S.doColorBars),jt.push(L)),jt.push(s.rehover,s.redrag,s.reselect),p.add(Me,Ce,[Me,pt.undoit],Ce,[Me,pt.redoit]);var tr=C.syncOrAsync(jt,Me);return(!tr||!tr.then)&&(tr=Promise.resolve(Me)),tr.then(function(){return Me.emit("plotly_relayout",pt.eventData),Me})}function Ae(Me,He,qe){var rt=Me._fullLayout;if(!He.axrange)return!1;for(var pt in He)if(pt!=="axrange"&&He[pt])return!1;var At,jt,tr=function($t,er){return C.coerce(At,jt,f,$t,er)},Ct={};for(var Nt in qe.rangesAltered){var Kt=n.id2name(Nt);if(At=Me.layout[Kt],jt=rt[Kt],i(At,jt,tr,Ct),jt._matchGroup){for(var wr in jt._matchGroup)if(wr!==Nt){var yt=rt[n.id2name(wr)];yt.autorange=jt.autorange,yt.range=jt.range.slice(),yt._input.range=jt.range.slice()}}}return!0}function Ue(Me,He){var qe=He?function(rt){var pt=[],At=!0;for(var jt in He){var tr=n.getFromId(rt,jt);if(pt.push(jt),(tr.ticklabelposition||"").indexOf("inside")!==-1&&tr._anchorAxis&&pt.push(tr._anchorAxis._id),tr._matchGroup)for(var Ct in tr._matchGroup)He[Ct]||pt.push(Ct)}return n.draw(rt,pt,{skipTitle:At})}:function(rt){return n.draw(rt,"redraw")};Me.push(h,S.doAutoRangeAndConstraints,qe,S.drawData,S.finalDraw)}var Ve=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Pe=/^[xyz]axis[0-9]*\.autorange$/,be=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Le(Me,He){var qe=Me.layout,rt=Me._fullLayout,pt=rt._guiEditing,At=q(rt._preGUI,pt),jt=Object.keys(He),tr=n.list(Me),Ct=C.extendDeepAll({},He),Nt={},Kt,wr,yt;for(me(He),jt=Object.keys(He),wr=0;wr<jt.length;wr++)if(jt[wr].indexOf("allaxes")===0){for(yt=0;yt<tr.length;yt++){var $t=tr[yt]._id.substr(1),er=$t.indexOf("scene")!==-1?$t+".":"",mr=jt[wr].replace("allaxes",er+tr[yt]._name);He[mr]||(He[mr]=He[jt[wr]])}delete He[jt[wr]]}var vr=P.layoutFlags(),bt={},ht={};function Tt(en,cn){if(Array.isArray(en)){en.forEach(function(Pn){Tt(Pn,cn)});return}if(!(en in He||E.hasParent(He,en))){var hn=At(qe,en);en in ht||(ht[en]=ee(hn.get())),cn!==void 0&&hn.set(cn)}}var Pt={},zt;function Dt(en){var cn=n.name2id(en.split(".")[0]);return Pt[cn]=1,cn}for(var Vt in He){if(E.hasParent(He,Vt))throw new Error("cannot set "+Vt+" and a parent attribute simultaneously");for(var Ut=At(qe,Vt),Qt=He[Vt],hr=Ut.parts.length,cr=hr-1;cr>0&&typeof Ut.parts[cr]!="string";)cr--;var lr=Ut.parts[cr],Xe=Ut.parts[cr-1]+"."+lr,Ke=Ut.parts.slice(0,cr).join("."),Ot=A(Me.layout,Ke).get(),Lt=A(rt,Ke).get(),Xt=Ut.get();if(Qt!==void 0){bt[Vt]=Qt,ht[Vt]=lr==="reverse"?Qt:ee(Xt);var rr=r.getLayoutValObject(rt,Ut.parts);if(rr&&rr.impliedEdits&&Qt!==null)for(var ur in rr.impliedEdits)Tt(C.relativeAttr(Vt,ur),rr.impliedEdits[ur]);if(["width","height"].indexOf(Vt)!==-1)if(Qt){Tt("autosize",null);var or=Vt==="height"?"width":"height";Tt(or,rt[or])}else rt[Vt]=Me._initialAutoSize[Vt];else if(Vt==="autosize")Tt("width",Qt?null:rt.width),Tt("height",Qt?null:rt.height);else if(Xe.match(Ve))Dt(Xe),A(rt,Ke+"._inputRange").set(null);else if(Xe.match(Pe)){Dt(Xe),A(rt,Ke+"._inputRange").set(null);var Ht=A(rt,Ke).get();Ht._inputDomain&&(Ht._input.domain=Ht._inputDomain.slice())}else Xe.match(be)&&A(rt,Ke+"._inputDomain").set(null);if(lr==="type"){zt=Ot;var gr=Lt.type==="linear"&&Qt==="log",br=Lt.type==="log"&&Qt==="linear";if(gr||br){if(!zt||!zt.range)Tt(Ke+".autorange",!0);else if(Lt.autorange)gr&&(zt.range=zt.range[1]>zt.range[0]?[1,2]:[2,1]);else{var xr=zt.range[0],dr=zt.range[1];gr?(xr<=0&&dr<=0&&Tt(Ke+".autorange",!0),xr<=0?xr=dr/1e6:dr<=0&&(dr=xr/1e6),Tt(Ke+".range[0]",Math.log(xr)/Math.LN10),Tt(Ke+".range[1]",Math.log(dr)/Math.LN10)):(Tt(Ke+".range[0]",Math.pow(10,xr)),Tt(Ke+".range[1]",Math.pow(10,dr)))}Array.isArray(rt._subplots.polar)&&rt._subplots.polar.length&&rt[Ut.parts[0]]&&Ut.parts[1]==="radialaxis"&&delete rt[Ut.parts[0]]._subplot.viewInitial["radialaxis.range"],t.getComponentMethod("annotations","convertCoords")(Me,Lt,Qt,Tt),t.getComponentMethod("images","convertCoords")(Me,Lt,Qt,Tt)}else Tt(Ke+".autorange",!0),Tt(Ke+".range",null);A(rt,Ke+"._inputRange").set(null)}else if(lr.match(x)){var Wr=A(rt,Vt).get(),Br=(Qt||{}).type;(!Br||Br==="-")&&(Br="linear"),t.getComponentMethod("annotations","convertCoords")(Me,Wr,Br,Tt),t.getComponentMethod("images","convertCoords")(Me,Wr,Br,Tt)}var Ur=d.containerArrayMatch(Vt);if(Ur){Kt=Ur.array,wr=Ur.index;var yn=Ur.property,rn=rr||{editType:"calc"};wr!==""&&yn===""&&(d.isAddVal(Qt)?ht[Vt]=null:d.isRemoveVal(Qt)?ht[Vt]=(A(qe,Kt).get()||[])[wr]:C.warn("unrecognized full object value",He)),P.update(vr,rn),Nt[Kt]||(Nt[Kt]={});var Un=Nt[Kt][wr];Un||(Un=Nt[Kt][wr]={}),Un[yn]=Qt,delete He[Vt]}else lr==="reverse"?(Ot.range?Ot.range.reverse():(Tt(Ke+".autorange",!0),Ot.range=[1,0]),Lt.autorange?vr.calc=!0:vr.plot=!0):(Vt==="dragmode"&&(Qt===!1&&Xt!==!1||Qt!==!1&&Xt===!1)||rt._has("scatter-like")&&rt._has("regl")&&Vt==="dragmode"&&(Qt==="lasso"||Qt==="select")&&!(Xt==="lasso"||Xt==="select")||rt._has("gl2d")?vr.plot=!0:rr?P.update(vr,rr):vr.calc=!0,Ut.set(Qt))}}for(Kt in Nt){var bn=d.applyContainerArrayChanges(Me,At(qe,Kt),Nt[Kt],vr,At);bn||(vr.plot=!0)}for(var Lr in Pt){zt=n.getFromId(Me,Lr);var Pr=zt&&zt._constraintGroup;if(Pr){vr.calc=!0;for(var Yr in Pr)Pt[Yr]||(n.getFromId(Me,Yr)._constraintShrinkable=!0)}}(We(Me)||He.height||He.width)&&(vr.plot=!0);var Hr=rt.shapes;for(wr=0;wr<Hr.length;wr++)if(Hr[wr].showlegend){vr.calc=!0;break}return(vr.plot||vr.calc)&&(vr.layoutReplot=!0),{flags:vr,rangesAltered:Pt,undoit:ht,redoit:bt,eventData:Ct}}function We(Me){var He=Me._fullLayout,qe=He.width,rt=He.height;return Me.layout.autosize&&s.plotAutoSize(Me,Me.layout,He),He.width!==qe||He.height!==rt}function je(Me,He,qe,rt){Me=C.getGraphDiv(Me),E.clearPromiseQueue(Me),C.isPlainObject(He)||(He={}),C.isPlainObject(qe)||(qe={}),Object.keys(He).length&&(Me.changed=!0),Object.keys(qe).length&&(Me.changed=!0);var pt=E.coerceTraceIndices(Me,rt),At=he(Me,C.extendFlat({},He),pt),jt=At.flags,tr=Le(Me,C.extendFlat({},qe)),Ct=tr.flags;(jt.calc||Ct.calc)&&(Me.calcdata=void 0),jt.clearAxisTypes&&E.clearAxisTypes(Me,pt,qe);var Nt=[];Ct.layoutReplot?Nt.push(S.layoutReplot):jt.fullReplot?Nt.push(V._doPlot):(Nt.push(s.previousPromises),Ae(Me,Ct,tr)||s.supplyDefaults(Me),jt.style&&Nt.push(S.doTraceStyle),(jt.colorbars||Ct.colorbars)&&Nt.push(S.doColorBars),Ct.legend&&Nt.push(S.doLegend),Ct.layoutstyle&&Nt.push(S.layoutStyles),Ct.axrange&&Ue(Nt,tr.rangesAltered),Ct.ticks&&Nt.push(S.doTicksRelayout),Ct.modebar&&Nt.push(S.doModeBar),Ct.camera&&Nt.push(S.doCamera),Nt.push(L)),Nt.push(s.rehover,s.redrag,s.reselect),p.add(Me,je,[Me,At.undoit,tr.undoit,At.traces],je,[Me,At.redoit,tr.redoit,At.traces]);var Kt=C.syncOrAsync(Nt,Me);return(!Kt||!Kt.then)&&(Kt=Promise.resolve(Me)),Kt.then(function(){return Me.emit("plotly_update",{data:At.eventData,layout:tr.eventData}),Me})}function Fe(Me){return function(qe){qe._fullLayout._guiEditing=!0;var rt=Me.apply(null,arguments);return qe._fullLayout._guiEditing=!1,rt}}var Ze=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],ut=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function at(Me,He){for(var qe=0;qe<He.length;qe++){var rt=He[qe],pt=Me.match(rt.pattern);if(pt){var At=pt[1]||"";return{head:At,tail:Me.substr(At.length+1),attr:rt.attr}}}}function it(Me,He){var qe=A(He,Me).get();if(qe!==void 0)return qe;var rt=Me.split(".");for(rt.pop();rt.length>1;)if(rt.pop(),qe=A(He,rt.join(".")+".uirevision").get(),qe!==void 0)return qe;return He.uirevision}function $e(Me,He){for(var qe=0;qe<He.length;qe++)if(He[qe]._fullInput.uid===Me)return qe;return-1}function st(Me,He,qe){for(var rt=0;rt<He.length;rt++)if(He[rt].uid===Me)return rt;return!He[qe]||He[qe].uid?-1:qe}function ct(Me,He){var qe=C.isPlainObject(Me),rt=Array.isArray(Me);return qe||rt?(qe&&C.isPlainObject(He)||rt&&Array.isArray(He))&&JSON.stringify(Me)===JSON.stringify(He):Me===He}function vt(Me,He,qe,rt){var pt=rt._preGUI,At,jt,tr,Ct,Nt,Kt,wr,yt,$t,er,mr=[],vr={},bt={};for(At in pt){if(Nt=at(At,Ze),Nt){if($t=Nt.head,er=Nt.tail,jt=Nt.attr||$t+".uirevision",tr=A(rt,jt).get(),Ct=tr&&it(jt,He),Ct&&Ct===tr){if(Kt=pt[At],Kt===null&&(Kt=void 0),wr=A(He,At),yt=wr.get(),ct(yt,Kt)){yt===void 0&&er==="autorange"&&mr.push($t),wr.set(ee(A(rt,At).get()));continue}else if(er==="autorange"||er.substr(0,6)==="range["){var ht=pt[$t+".range[0]"],Tt=pt[$t+".range[1]"],Pt=pt[$t+".autorange"];if(Pt||Pt===null&&ht===null&&Tt===null){if(!($t in vr)){var zt=A(He,$t).get();vr[$t]=zt&&(zt.autorange||zt.autorange!==!1&&(!zt.range||zt.range.length!==2))}if(vr[$t]){wr.set(ee(A(rt,At).get()));continue}}}}}else C.warn("unrecognized GUI edit: "+At);delete pt[At],Nt&&Nt.tail.substr(0,6)==="range["&&(bt[Nt.head]=1)}for(var Dt=0;Dt<mr.length;Dt++){var Vt=mr[Dt];if(bt[Vt]){var Ut=A(He,Vt).get();Ut&&delete Ut.autorange}}var Qt=rt._tracePreGUI;for(var hr in Qt){var cr=Qt[hr],lr=null,Xe;for(At in cr){if(!lr){var Ke=$e(hr,qe);if(Ke<0){delete Qt[hr];break}var Ot=qe[Ke];Xe=Ot._fullInput;var Lt=st(hr,Me,Xe.index);if(Lt<0){delete Qt[hr];break}lr=Me[Lt]}if(Nt=at(At,ut),Nt){if(Nt.attr?(tr=A(rt,Nt.attr).get(),Ct=tr&&it(Nt.attr,He)):(tr=Xe.uirevision,Ct=lr.uirevision,Ct===void 0&&(Ct=He.uirevision)),Ct&&Ct===tr&&(Kt=cr[At],Kt===null&&(Kt=void 0),wr=A(lr,At),yt=wr.get(),ct(yt,Kt))){wr.set(ee(A(Xe,At).get()));continue}}else C.warn("unrecognized GUI edit: "+At+" in trace uid "+hr);delete cr[At]}}}function St(Me,He,qe,rt){var pt,At;function jt(){return V.addFrames(Me,pt)}Me=C.getGraphDiv(Me),E.clearPromiseQueue(Me);var tr=Me._fullData,Ct=Me._fullLayout;if(!C.isPlotDiv(Me)||!tr||!Ct)At=V.newPlot(Me,He,qe,rt);else{if(C.isPlainObject(He)){var Nt=He;He=Nt.data,qe=Nt.layout,rt=Nt.config,pt=Nt.frames}var Kt=!1;if(rt){var wr=C.extendDeep({},Me._context);Me._context=void 0,U(Me,rt),Kt=ke(wr,Me._context)}Me.data=He||[],E.cleanData(Me.data),Me.layout=qe||{},E.cleanLayout(Me.layout),vt(Me.data,Me.layout,tr,Ct),s.supplyDefaults(Me,{skipUpdateCalc:!0});var yt=Me._fullData,$t=Me._fullLayout,er=$t.datarevision===void 0,mr=$t.transition,vr=Bt(Me,Ct,$t,er,mr),bt=vr.newDataRevision,ht=Mt(Me,tr,yt,er,mr,bt);if(We(Me)&&(vr.layoutReplot=!0),ht.calc||vr.calc){Me.calcdata=void 0;for(var Tt=Object.getOwnPropertyNames($t),Pt=0;Pt<Tt.length;Pt++){var zt=Tt[Pt],Dt=zt.substring(0,5);if(Dt==="xaxis"||Dt==="yaxis"){var Vt=$t[zt]._emptyCategories;Vt&&Vt()}}}else s.supplyDefaultsUpdateCalc(Me.calcdata,yt);var Ut=[];if(pt&&(Me._transitionData={},s.createTransitionData(Me),Ut.push(jt)),$t.transition&&!Kt&&(ht.anim||vr.anim))vr.ticks&&Ut.push(S.doTicksRelayout),s.doCalcdata(Me),S.doAutoRangeAndConstraints(Me),Ut.push(function(){return s.transitionFromReact(Me,ht,vr,Ct)});else if(ht.fullReplot||vr.layoutReplot||Kt)Me._fullLayout._skipDefaults=!0,Ut.push(V._doPlot);else{for(var Qt in vr.arrays){var hr=vr.arrays[Qt];if(hr.length){var cr=t.getComponentMethod(Qt,"drawOne");if(cr!==C.noop)for(var lr=0;lr<hr.length;lr++)cr(Me,hr[lr]);else{var Xe=t.getComponentMethod(Qt,"draw");if(Xe===C.noop)throw new Error("cannot draw components: "+Qt);Xe(Me)}}}Ut.push(s.previousPromises),ht.style&&Ut.push(S.doTraceStyle),(ht.colorbars||vr.colorbars)&&Ut.push(S.doColorBars),vr.legend&&Ut.push(S.doLegend),vr.layoutstyle&&Ut.push(S.layoutStyles),vr.axrange&&Ue(Ut),vr.ticks&&Ut.push(S.doTicksRelayout),vr.modebar&&Ut.push(S.doModeBar),vr.camera&&Ut.push(S.doCamera),Ut.push(L)}Ut.push(s.rehover,s.redrag,s.reselect),At=C.syncOrAsync(Ut,Me),(!At||!At.then)&&(At=Promise.resolve(Me))}return At.then(function(){return Me.emit("plotly_react",{data:He,layout:qe}),Me})}function Mt(Me,He,qe,rt,pt,At){var jt=He.length===qe.length;if(!pt&&!jt)return{fullReplot:!0,calc:!0};var tr=P.traceFlags();tr.arrays={},tr.nChanges=0,tr.nChangesAnim=0;var Ct,Nt;function Kt($t){var er=r.getTraceValObject(Nt,$t);return!Nt._module.animatable&&er.anim&&(er.anim=!1),er}var wr={getValObject:Kt,flags:tr,immutable:rt,transition:pt,newDataRevision:At,gd:Me},yt={};for(Ct=0;Ct<He.length;Ct++)if(qe[Ct]){if(Nt=qe[Ct]._fullInput,s.hasMakesDataTransform(Nt)&&(Nt=qe[Ct]),yt[Nt.uid])continue;yt[Nt.uid]=1,Qe(He[Ct]._fullInput,Nt,[],wr)}return(tr.calc||tr.plot)&&(tr.fullReplot=!0),pt&&tr.nChanges&&tr.nChangesAnim&&(tr.anim=tr.nChanges===tr.nChangesAnim&&jt?"all":"some"),tr}function Bt(Me,He,qe,rt,pt){var At=P.layoutFlags();At.arrays={},At.rangesAltered={},At.nChanges=0,At.nChangesAnim=0;function jt(Ct){return r.getLayoutValObject(qe,Ct)}var tr={getValObject:jt,flags:At,immutable:rt,transition:pt,gd:Me};return Qe(He,qe,[],tr),(At.plot||At.calc)&&(At.layoutReplot=!0),pt&&At.nChanges&&At.nChangesAnim&&(At.anim=At.nChanges===At.nChangesAnim?"all":"some"),At}function Qe(Me,He,qe,rt){var pt,At,jt,tr=rt.getValObject,Ct=rt.flags,Nt=rt.immutable,Kt=rt.inArray,wr=rt.arrayIndex;function yt(){var Ke=pt.editType;if(Kt&&Ke.indexOf("arraydraw")!==-1){C.pushUnique(Ct.arrays[Kt],wr);return}P.update(Ct,pt),Ke!=="none"&&Ct.nChanges++,rt.transition&&pt.anim&&Ct.nChangesAnim++,(Ve.test(jt)||Pe.test(jt))&&(Ct.rangesAltered[qe[0]]=1),be.test(jt)&&A(He,"_inputDomain").set(null),At==="datarevision"&&(Ct.newDataRevision=1)}function $t(Ke){return Ke.valType==="data_array"||Ke.arrayOk}for(At in Me){if(Ct.calc&&!rt.transition)return;var er=Me[At],mr=He[At],vr=qe.concat(At);if(jt=vr.join("."),!(At.charAt(0)==="_"||typeof er=="function"||er===mr)){if((At==="tick0"||At==="dtick")&&qe[0]!=="geo"){var bt=He.tickmode;if(bt==="auto"||bt==="array"||!bt)continue}if(!(At==="range"&&He.autorange)&&!((At==="zmin"||At==="zmax")&&He.type==="contourcarpet")&&(pt=tr(vr),!!pt&&!(pt._compareAsJSON&&JSON.stringify(er)===JSON.stringify(mr)))){var ht=pt.valType,Tt,Pt=$t(pt),zt=Array.isArray(er),Dt=Array.isArray(mr);if(zt&&Dt){var Vt="_input_"+At,Ut=Me[Vt],Qt=He[Vt];if(Array.isArray(Ut)&&Ut===Qt)continue}if(mr===void 0)Pt&&zt?Ct.calc=!0:yt();else if(pt._isLinkedToArray){var hr=[],cr=!1;Kt||(Ct.arrays[At]=hr);var lr=Math.min(er.length,mr.length),Xe=Math.max(er.length,mr.length);if(lr!==Xe)if(pt.editType==="arraydraw")cr=!0;else{yt();continue}for(Tt=0;Tt<lr;Tt++)Qe(er[Tt],mr[Tt],vr.concat(Tt),C.extendFlat({inArray:At,arrayIndex:Tt},rt));if(cr)for(Tt=lr;Tt<Xe;Tt++)hr.push(Tt)}else!ht&&C.isPlainObject(er)?Qe(er,mr,vr,rt):Pt?zt&&Dt?(Nt&&(Ct.calc=!0),(Nt||rt.newDataRevision)&&yt()):zt!==Dt?Ct.calc=!0:yt():zt&&Dt?(er.length!==mr.length||String(er)!==String(mr))&&yt():yt()}}}for(At in He)if(!(At in Me||At.charAt(0)==="_"||typeof He[At]=="function"))if(pt=tr(qe.concat(At)),$t(pt)&&Array.isArray(He[At])){Ct.calc=!0;return}else yt()}function ke(Me,He){var qe;for(qe in Me)if(qe.charAt(0)!=="_"){var rt=Me[qe],pt=He[qe];if(rt!==pt)if(C.isPlainObject(rt)&&C.isPlainObject(pt)){if(ke(rt,pt))return!0}else if(Array.isArray(rt)&&Array.isArray(pt)){if(rt.length!==pt.length)return!0;for(var At=0;At<rt.length;At++)if(rt[At]!==pt[At])if(C.isPlainObject(rt[At])&&C.isPlainObject(pt[At])){if(ke(rt[At],pt[At]))return!0}else return!0}else return!0}}function ze(Me,He,qe){if(Me=C.getGraphDiv(Me),!C.isPlotDiv(Me))throw new Error("This element is not a Plotly plot: "+Me+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var rt=Me._transitionData;rt._frameQueue||(rt._frameQueue=[]),qe=s.supplyAnimationDefaults(qe);var pt=qe.transition,At=qe.frame;rt._frameWaitingCnt===void 0&&(rt._frameWaitingCnt=0);function jt(Nt){return Array.isArray(pt)?Nt>=pt.length?pt[0]:pt[Nt]:pt}function tr(Nt){return Array.isArray(At)?Nt>=At.length?At[0]:At[Nt]:At}function Ct(Nt,Kt){var wr=0;return function(){if(Nt&&++wr===Kt)return Nt()}}return new Promise(function(Nt,Kt){function wr(){if(rt._frameQueue.length!==0){for(;rt._frameQueue.length;){var lr=rt._frameQueue.pop();lr.onInterrupt&&lr.onInterrupt()}Me.emit("plotly_animationinterrupted",[])}}function yt(lr){if(lr.length!==0){for(var Xe=0;Xe<lr.length;Xe++){var Ke;lr[Xe].type==="byname"?Ke=s.computeFrame(Me,lr[Xe].name):Ke=lr[Xe].data;var Ot=tr(Xe),Lt=jt(Xe);Lt.duration=Math.min(Lt.duration,Ot.duration);var Xt={frame:Ke,name:lr[Xe].name,frameOpts:Ot,transitionOpts:Lt};Xe===lr.length-1&&(Xt.onComplete=Ct(Nt,2),Xt.onInterrupt=Kt),rt._frameQueue.push(Xt)}qe.mode==="immediate"&&(rt._lastFrameAt=-1/0),rt._animationRaf||mr()}}function $t(){Me.emit("plotly_animated"),window.cancelAnimationFrame(rt._animationRaf),rt._animationRaf=null}function er(){rt._currentFrame&&rt._currentFrame.onComplete&&rt._currentFrame.onComplete();var lr=rt._currentFrame=rt._frameQueue.shift();if(lr){var Xe=lr.name?lr.name.toString():null;Me._fullLayout._currentFrame=Xe,rt._lastFrameAt=Date.now(),rt._timeToNext=lr.frameOpts.duration,s.transition(Me,lr.frame.data,lr.frame.layout,E.coerceTraceIndices(Me,lr.frame.traces),lr.frameOpts,lr.transitionOpts).then(function(){lr.onComplete&&lr.onComplete()}),Me.emit("plotly_animatingframe",{name:Xe,frame:lr.frame,animation:{frame:lr.frameOpts,transition:lr.transitionOpts}})}else $t()}function mr(){Me.emit("plotly_animating"),rt._lastFrameAt=-1/0,rt._timeToNext=0,rt._runningTransitions=0,rt._currentFrame=null;var lr=function(){rt._animationRaf=window.requestAnimationFrame(lr),Date.now()-rt._lastFrameAt>rt._timeToNext&&er()};lr()}var vr=0;function bt(lr){return Array.isArray(pt)?vr>=pt.length?lr.transitionOpts=pt[vr]:lr.transitionOpts=pt[0]:lr.transitionOpts=pt,vr++,lr}var ht,Tt,Pt=[],zt=He==null,Dt=Array.isArray(He),Vt=!zt&&!Dt&&C.isPlainObject(He);if(Vt)Pt.push({type:"object",data:bt(C.extendFlat({},He))});else if(zt||["string","number"].indexOf(typeof He)!==-1)for(ht=0;ht<rt._frames.length;ht++)Tt=rt._frames[ht],Tt&&(zt||String(Tt.group)===String(He))&&Pt.push({type:"byname",name:String(Tt.name),data:bt({name:Tt.name})});else if(Dt)for(ht=0;ht<He.length;ht++){var Ut=He[ht];["number","string"].indexOf(typeof Ut)!==-1?(Ut=String(Ut),Pt.push({type:"byname",name:Ut,data:bt({name:Ut})})):C.isPlainObject(Ut)&&Pt.push({type:"object",data:bt(C.extendFlat({},Ut))})}for(ht=0;ht<Pt.length;ht++)if(Tt=Pt[ht],Tt.type==="byname"&&!rt._frameHash[Tt.data.name]){C.warn('animate failure: frame not found: "'+Tt.data.name+'"'),Kt();return}["next","immediate"].indexOf(qe.mode)!==-1&&wr(),qe.direction==="reverse"&&Pt.reverse();var Qt=Me._fullLayout._currentFrame;if(Qt&&qe.fromcurrent){var hr=-1;for(ht=0;ht<Pt.length;ht++)if(Tt=Pt[ht],Tt.type==="byname"&&Tt.name===Qt){hr=ht;break}if(hr>0&&hr<Pt.length-1){var cr=[];for(ht=0;ht<Pt.length;ht++)Tt=Pt[ht],(Pt[ht].type!=="byname"||ht>hr)&&cr.push(Tt);Pt=cr}}Pt.length>0?yt(Pt):(Me.emit("plotly_animated"),Nt())})}function Be(Me,He,qe){if(Me=C.getGraphDiv(Me),He==null)return Promise.resolve();if(!C.isPlotDiv(Me))throw new Error("This element is not a Plotly plot: "+Me+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var rt,pt,At,jt,tr=Me._transitionData._frames,Ct=Me._transitionData._frameHash;if(!Array.isArray(He))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+He);var Nt=tr.length+He.length*2,Kt=[],wr={};for(rt=He.length-1;rt>=0;rt--)if(C.isPlainObject(He[rt])){var yt=He[rt].name,$t=(Ct[yt]||wr[yt]||{}).name,er=He[rt].name,mr=Ct[$t]||wr[$t];$t&&er&&typeof er=="number"&&mr&&M<w&&(M++,C.warn('addFrames: overwriting frame "'+(Ct[$t]||wr[$t]).name+'" with a frame whose name of type "number" also equates to "'+$t+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),M===w&&C.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),wr[yt]={name:yt},Kt.push({frame:s.supplyFrameDefaults(He[rt]),index:qe&&qe[rt]!==void 0&&qe[rt]!==null?qe[rt]:Nt+rt})}Kt.sort(function(Vt,Ut){return Vt.index>Ut.index?-1:Vt.index<Ut.index?1:0});var vr=[],bt=[],ht=tr.length;for(rt=Kt.length-1;rt>=0;rt--){if(pt=Kt[rt].frame,typeof pt.name=="number"&&C.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!pt.name)for(;Ct[pt.name="frame "+Me._transitionData._counter++];);if(Ct[pt.name]){for(At=0;At<tr.length&&(tr[At]||{}).name!==pt.name;At++);vr.push({type:"replace",index:At,value:pt}),bt.unshift({type:"replace",index:At,value:tr[At]})}else jt=Math.max(0,Math.min(Kt[rt].index,ht)),vr.push({type:"insert",index:jt,value:pt}),bt.unshift({type:"delete",index:jt}),ht++}var Tt=s.modifyFrames,Pt=s.modifyFrames,zt=[Me,bt],Dt=[Me,vr];return p&&p.add(Me,Tt,zt,Pt,Dt),s.modifyFrames(Me,vr)}function Re(Me,He){if(Me=C.getGraphDiv(Me),!C.isPlotDiv(Me))throw new Error("This element is not a Plotly plot: "+Me);var qe,rt,pt=Me._transitionData._frames,At=[],jt=[];if(!He)for(He=[],qe=0;qe<pt.length;qe++)He.push(qe);for(He=He.slice(),He.sort(),qe=He.length-1;qe>=0;qe--)rt=He[qe],At.push({type:"delete",index:rt}),jt.unshift({type:"insert",index:rt,value:pt[rt]});var tr=s.modifyFrames,Ct=s.modifyFrames,Nt=[Me,jt],Kt=[Me,At];return p&&p.add(Me,tr,Nt,Ct,Kt),s.modifyFrames(Me,At)}function we(Me){Me=C.getGraphDiv(Me);var He=Me._fullLayout||{},qe=Me._fullData||[];return s.cleanPlot([],{},qe,He),s.purge(Me),v.purge(Me),He._container&&He._container.remove(),delete Me._context,Me}function ye(Me){var He=Me._fullLayout,qe=Me.getBoundingClientRect();if(!C.equalDomRects(qe,He._lastBBox)){var rt=He._invTransform=C.inverseTransformMatrix(C.getFullTransformMatrix(Me));He._invScaleX=Math.sqrt(rt[0][0]*rt[0][0]+rt[0][1]*rt[0][1]+rt[0][2]*rt[0][2]),He._invScaleY=Math.sqrt(rt[1][0]*rt[1][0]+rt[1][1]*rt[1][1]+rt[1][2]*rt[1][2]),He._lastBBox=qe}}function Se(Me){var He=g.select(Me),qe=Me._fullLayout;if(qe._calcInverseTransform=ye,qe._calcInverseTransform(Me),qe._container=He.selectAll(".plot-container").data([0]),qe._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),qe._paperdiv=qe._container.selectAll(".svg-container").data([0]),qe._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),qe._glcontainer=qe._paperdiv.selectAll(".gl-container").data([{}]),qe._glcontainer.enter().append("div").classed("gl-container",!0),qe._paperdiv.selectAll(".main-svg").remove(),qe._paperdiv.select(".modebar-container").remove(),qe._paper=qe._paperdiv.insert("svg",":first-child").classed("main-svg",!0),qe._toppaper=qe._paperdiv.append("svg").classed("main-svg",!0),qe._modebardiv=qe._paperdiv.append("div"),delete qe._modeBar,qe._hoverpaper=qe._paperdiv.append("svg").classed("main-svg",!0),!qe._uid){var rt={};g.selectAll("defs").each(function(){this.id&&(rt[this.id.split("-")[1]]=1)}),qe._uid=C.randstr(rt)}qe._paperdiv.selectAll(".main-svg").attr(T.svgAttrs),qe._defs=qe._paper.append("defs").attr("id","defs-"+qe._uid),qe._clips=qe._defs.append("g").classed("clips",!0),qe._topdefs=qe._toppaper.append("defs").attr("id","topdefs-"+qe._uid),qe._topclips=qe._topdefs.append("g").classed("clips",!0),qe._bgLayer=qe._paper.append("g").classed("bglayer",!0),qe._draggers=qe._paper.append("g").classed("draglayer",!0);var pt=qe._paper.append("g").classed("layer-below",!0);qe._imageLowerLayer=pt.append("g").classed("imagelayer",!0),qe._shapeLowerLayer=pt.append("g").classed("shapelayer",!0),qe._cartesianlayer=qe._paper.append("g").classed("cartesianlayer",!0),qe._polarlayer=qe._paper.append("g").classed("polarlayer",!0),qe._smithlayer=qe._paper.append("g").classed("smithlayer",!0),qe._ternarylayer=qe._paper.append("g").classed("ternarylayer",!0),qe._geolayer=qe._paper.append("g").classed("geolayer",!0),qe._funnelarealayer=qe._paper.append("g").classed("funnelarealayer",!0),qe._pielayer=qe._paper.append("g").classed("pielayer",!0),qe._iciclelayer=qe._paper.append("g").classed("iciclelayer",!0),qe._treemaplayer=qe._paper.append("g").classed("treemaplayer",!0),qe._sunburstlayer=qe._paper.append("g").classed("sunburstlayer",!0),qe._indicatorlayer=qe._toppaper.append("g").classed("indicatorlayer",!0),qe._glimages=qe._paper.append("g").classed("glimages",!0);var At=qe._toppaper.append("g").classed("layer-above",!0);qe._imageUpperLayer=At.append("g").classed("imagelayer",!0),qe._shapeUpperLayer=At.append("g").classed("shapelayer",!0),qe._selectionLayer=qe._toppaper.append("g").classed("selectionlayer",!0),qe._infolayer=qe._toppaper.append("g").classed("infolayer",!0),qe._menulayer=qe._toppaper.append("g").classed("menulayer",!0),qe._zoomlayer=qe._toppaper.append("g").classed("zoomlayer",!0),qe._hoverlayer=qe._hoverpaper.append("g").classed("hoverlayer",!0),qe._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),Me.emit("plotly_framework")}V.animate=ze,V.addFrames=Be,V.deleteFrames=Re,V.addTraces=Z,V.deleteTraces=$,V.extendTraces=Q,V.moveTraces=te,V.prependTraces=j,V.newPlot=N,V._doPlot=o,V.purge=we,V.react=St,V.redraw=z,V.relayout=Ce,V.restyle=se,V.setPlotConfig=m,V.update=je,V._guiRelayout=Fe(Ce),V._guiRestyle=Fe(se),V._guiUpdate=Fe(je),V._storeDirectGUIEdit=oe},72075:function(G){var V={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function g(_,a){for(var C in _){var A=_[C];A.valType?a[C]=A.dflt:(a[C]||(a[C]={}),g(A,a[C]))}}g(V,e),G.exports={configAttributes:V,dfltConfig:e}},86281:function(G,V,e){var g=e(73972),_=e(71828),a=e(9012),C=e(10820),A=e(31391),v=e(85594),p=e(72075).configAttributes,t=e(30962),r=_.extendDeepAll,s=_.isPlainObject,n=_.isArrayOrTypedArray,i=_.nestedProperty,f=_.valObjectMeta,u="_isSubplotObj",y="_isLinkedToArray",c="_arrayAttrRegexps",T="_deprecated",h=[u,y,c,T];V.IS_SUBPLOT_OBJ=u,V.IS_LINKED_TO_ARRAY=y,V.DEPRECATED=T,V.UNDERSCORE_ATTRS=h,V.get=function(){var U={};g.allTypes.forEach(function(N){U[N]=S(N)});var z={};return Object.keys(g.transformsRegistry).forEach(function(N){z[N]=x(N)}),{defs:{valObjects:f,metaKeys:h.concat(["description","role","editType","impliedEdits"]),editType:{traces:t.traces,layout:t.layout},impliedEdits:{}},traces:U,layout:P(),transforms:z,frames:M(),animation:w(v),config:w(p)}},V.crawl=function(U,z,N,B){var O=N||0;B=B||"",Object.keys(U).forEach(function(H){var Y=U[H];if(h.indexOf(H)===-1){var J=(B?B+".":"")+H;z(Y,H,U,O,J),!V.isValObject(Y)&&s(Y)&&H!=="impliedEdits"&&V.crawl(Y,z,O+1,J)}})},V.isValObject=function(U){return U&&U.valType!==void 0},V.findArrayAttributes=function(U){var z=[],N=[],B=[],O,H;function Y(j,Z,$,te){N=N.slice(0,te).concat([Z]),B=B.slice(0,te).concat([j&&j._isLinkedToArray]);var se=j&&(j.valType==="data_array"||j.arrayOk===!0)&&!(N[te-1]==="colorbar"&&(Z==="ticktext"||Z==="tickvals"));se&&J(O,0,"")}function J(j,Z,$){var te=j[N[Z]],se=$+N[Z];if(Z===N.length-1)n(te)&&z.push(H+se);else if(B[Z]){if(Array.isArray(te))for(var ee=0;ee<te.length;ee++)s(te[ee])&&J(te[ee],Z+1,se+"["+ee+"].")}else s(te)&&J(te,Z+1,se+".")}O=U,H="",V.crawl(a,Y),U._module&&U._module.attributes&&V.crawl(U._module.attributes,Y);var re=U.transforms;if(re)for(var ie=0;ie<re.length;ie++){var ce=re[ie],Q=ce._module;Q&&(H="transforms["+ie+"].",O=ce,V.crawl(Q.attributes,Y))}return z},V.getTraceValObject=function(U,z){var N=z[0],B=1,O,H;if(N==="transforms"){if(z.length===1)return a.transforms;var Y=U.transforms;if(!Array.isArray(Y)||!Y.length)return!1;var J=z[1];if(!E(J)||J>=Y.length)return!1;O=(g.transformsRegistry[Y[J].type]||{}).attributes,H=O&&O[z[2]],B=3}else{var re=U._module;if(re||(re=(g.modules[U.type||a.type.dflt]||{})._module),!re)return!1;if(O=re.attributes,H=O&&O[N],!H){var ie=re.basePlotModule;ie&&ie.attributes&&(H=ie.attributes[N])}H||(H=a[N])}return d(H,z,B)},V.getLayoutValObject=function(U,z){var N=l(U,z[0]);return d(N,z,1)};function l(U,z){var N,B,O,H,Y=U._basePlotModules;if(Y){var J;for(N=0;N<Y.length;N++){if(O=Y[N],O.attrRegex&&O.attrRegex.test(z)){if(O.layoutAttrOverrides)return O.layoutAttrOverrides;!J&&O.layoutAttributes&&(J=O.layoutAttributes)}var re=O.baseLayoutAttrOverrides;if(re&&z in re)return re[z]}if(J)return J}var ie=U._modules;if(ie){for(N=0;N<ie.length;N++)if(H=ie[N].layoutAttributes,H&&z in H)return H[z]}for(B in g.componentsRegistry){if(O=g.componentsRegistry[B],O.name==="colorscale"&&z.indexOf("coloraxis")===0)return O.layoutAttributes[z];if(!O.schema&&z===O.name)return O.layoutAttributes}return z in C?C[z]:!1}function d(U,z,N){if(!U)return!1;if(U._isLinkedToArray){if(E(z[N]))N++;else if(N<z.length)return!1}for(;N<z.length;N++){var B=U[z[N]];if(s(B))U=B;else break;if(N===z.length-1)break;if(U._isLinkedToArray){if(N++,!E(z[N]))return!1}else if(U.valType==="info_array"){N++;var O=z[N];if(!E(O))return!1;var H=U.items;if(Array.isArray(H)){if(O>=H.length)return!1;if(U.dimensions===2){if(N++,z.length===N)return U;var Y=z[N];if(!E(Y))return!1;U=H[O][Y]}else U=H[O]}else U=H}}return U}function E(U){return U===Math.round(U)&&U>=0}function S(U){var z,N;z=g.modules[U]._module,N=z.basePlotModule;var B={};B.type=null;var O=r({},a),H=r({},z.attributes);V.crawl(H,function(re,ie,ce,Q,j){i(O,j).set(void 0),re===void 0&&i(H,j).set(void 0)}),r(B,O),g.traceIs(U,"noOpacity")&&delete B.opacity,g.traceIs(U,"showLegend")||(delete B.showlegend,delete B.legendgroup),g.traceIs(U,"noHover")&&(delete B.hoverinfo,delete B.hoverlabel),z.selectPoints||delete B.selectedpoints,r(B,H),N.attributes&&r(B,N.attributes),B.type=U;var Y={meta:z.meta||{},categories:z.categories||{},animatable:!!z.animatable,type:U,attributes:w(B)};if(z.layoutAttributes){var J={};r(J,z.layoutAttributes),Y.layoutAttributes=w(J)}return z.animatable||V.crawl(Y,function(re){V.isValObject(re)&&"anim"in re&&delete re.anim}),Y}function P(){var U={},z,N;r(U,C);for(z in g.subplotsRegistry)if(N=g.subplotsRegistry[z],!!N.layoutAttributes)if(Array.isArray(N.attr))for(var B=0;B<N.attr.length;B++)F(U,N,N.attr[B]);else{var O=N.attr==="subplot"?N.name:N.attr;F(U,N,O)}for(z in g.componentsRegistry){N=g.componentsRegistry[z];var H=N.schema;if(H&&(H.subplots||H.layout)){var Y=H.subplots;if(Y&&Y.xaxis&&!Y.yaxis)for(var J in Y.xaxis)delete U.yaxis[J];delete U.xaxis.shift,delete U.xaxis.autoshift}else N.name==="colorscale"?r(U,N.layoutAttributes):N.layoutAttributes&&I(U,N.layoutAttributes,N.name)}return{layoutAttributes:w(U)}}function x(U){var z=g.transformsRegistry[U],N=r({},z.attributes);return Object.keys(g.componentsRegistry).forEach(function(B){var O=g.componentsRegistry[B];O.schema&&O.schema.transforms&&O.schema.transforms[U]&&Object.keys(O.schema.transforms[U]).forEach(function(H){I(N,O.schema.transforms[U][H],H)})}),{attributes:w(N)}}function M(){var U={frames:r({},A)};return w(U),U.frames}function w(U){return o(U),L(U),m(U),U}function o(U){function z(B){return{valType:"string",editType:"none"}}function N(B,O,H){V.isValObject(B)?(B.arrayOk===!0||B.valType==="data_array")&&(H[O+"src"]=z()):s(B)&&(B.role="object")}V.crawl(U,N)}function L(U){function z(N,B,O){if(N){var H=N[y];H&&(delete N[y],O[B]={items:{}},O[B].items[H]=N,O[B].role="object")}}V.crawl(U,z)}function m(U){function z(N){for(var B in N)if(s(N[B]))z(N[B]);else if(Array.isArray(N[B]))for(var O=0;O<N[B].length;O++)z(N[B][O]);else N[B]instanceof RegExp&&(N[B]=N[B].toString())}z(U)}function F(U,z,N){var B=i(U,N),O=r({},z.layoutAttributes);O[u]=!0,B.set(O)}function I(U,z,N){var B=i(U,N);B.set(r(B.get()||{},z))}},44467:function(G,V,e){var g=e(71828),_=e(9012),a="templateitemname",C={name:{valType:"string",editType:"none"}};C[a]={valType:"string",editType:"calc"},V.templatedArray=function(p,t){return t._isLinkedToArray=p,t.name=C.name,t[a]=C[a],t},V.traceTemplater=function(p){var t={},r,s;for(r in p)s=p[r],Array.isArray(s)&&s.length&&(t[r]=0);function n(i){r=g.coerce(i,{},_,"type");var f={type:r,_template:null};if(r in t){s=p[r];var u=t[r]%s.length;t[r]++,f._template=s[u]}return f}return{newTrace:n}},V.newContainer=function(p,t,r){var s=p._template,n=s&&(s[t]||r&&s[r]);g.isPlainObject(n)||(n=null);var i=p[t]={_template:n};return i},V.arrayTemplater=function(p,t,r){var s=p._template,n=s&&s[v(t)],i=s&&s[t];(!Array.isArray(i)||!i.length)&&(i=[]);var f={};function u(c){var T={name:c.name,_input:c},h=T[a]=c[a];if(!A(h))return T._template=n,T;for(var l=0;l<i.length;l++){var d=i[l];if(d.name===h)return f[h]=1,T._template=d,T}return T[r]=c[r]||!1,T._template=!1,T}function y(){for(var c=[],T=0;T<i.length;T++){var h=i[T],l=h.name;if(A(l)&&!f[l]){var d={_template:h,name:l,_input:{_templateitemname:l}};d[a]=h[a],c.push(d),f[l]=1}}return c}return{newItem:u,defaultItems:y}};function A(p){return p&&typeof p=="string"}function v(p){var t=p.length-1;return p.charAt(t)!=="s"&&g.warn("bad argument to arrayDefaultKey: "+p),p.substr(0,p.length-1)+"defaults"}V.arrayDefaultKey=v,V.arrayEditor=function(p,t,r){var s=(g.nestedProperty(p,t).get()||[]).length,n=r._index,i=n>=s&&(r._input||{})._templateitemname;i&&(n=s);var f=t+"["+n+"]",u;function y(){u={},i&&(u[f]={},u[f][a]=i)}y();function c(d,E){u[d]=E}function T(d,E){i?g.nestedProperty(u[f],d).set(E):u[f+"."+d]=E}function h(){var d=u;return y(),d}function l(d,E){d&&T(d,E);var S=h();for(var P in S)g.nestedProperty(p,P).set(S[P])}return{modifyBase:c,modifyItem:T,getUpdateObj:h,applyUpdate:l}}},61549:function(G,V,e){var g=e(39898),_=e(73972),a=e(74875),C=e(71828),A=e(63893),v=e(33306),p=e(7901),t=e(91424),r=e(92998),s=e(64168),n=e(89298),i=e(18783),f=e(99082),u=f.enforce,y=f.clean,c=e(71739).doAutoRange,T="start",h="middle",l="end";V.layoutStyles=function(N){return C.syncOrAsync([a.doAutoMargin,E],N)};function d(N,B,O){for(var H=0;H<O.length;H++){var Y=O[H][0],J=O[H][1];if(!(Y[0]>=N[1]||Y[1]<=N[0])&&J[0]<B[1]&&J[1]>B[0])return!0}return!1}function E(N){var B=N._fullLayout,O=B._size,H=O.p,Y=n.list(N,"",!0),J,re,ie,ce,Q,j;if(B._paperdiv.style({width:N._context.responsive&&B.autosize&&!N._context._hasZeroWidth&&!N.layout.width?"100%":B.width+"px",height:N._context.responsive&&B.autosize&&!N._context._hasZeroHeight&&!N.layout.height?"100%":B.height+"px"}).selectAll(".main-svg").call(t.setSize,B.width,B.height),N._context.setBackground(N,B.paper_bgcolor),V.drawMainTitle(N),s.manage(N),!B._has("cartesian"))return a.previousPromises(N);function Z(we,ye,Se){var Me=we._lw/2;if(we._id.charAt(0)==="x"){if(ye){if(Se==="top")return ye._offset-H-Me}else return O.t+O.h*(1-(we.position||0))+Me%1;return ye._offset+ye._length+H+Me}if(ye){if(Se==="right")return ye._offset+ye._length+H+Me}else return O.l+O.w*(we.position||0)+Me%1;return ye._offset-H-Me}for(J=0;J<Y.length;J++){ce=Y[J];var $=ce._anchorAxis;ce._linepositions={},ce._lw=t.crispRound(N,ce.linewidth,1),ce._mainLinePosition=Z(ce,$,ce.side),ce._mainMirrorPosition=ce.mirror&&$?Z(ce,$,i.OPPOSITE_SIDE[ce.side]):null}var te=[],se=[],ee=[],q=p.opacity(B.paper_bgcolor)===1&&p.opacity(B.plot_bgcolor)===1&&B.paper_bgcolor===B.plot_bgcolor;for(re in B._plots)if(ie=B._plots[re],ie.mainplot)ie.bg&&ie.bg.remove(),ie.bg=void 0;else{var le=ie.xaxis.domain,oe=ie.yaxis.domain,he=ie.plotgroup;if(d(le,oe,ee)){var me=he.node(),Ce=ie.bg=C.ensureSingle(he,"rect","bg");me.insertBefore(Ce.node(),me.childNodes[0]),se.push(re)}else he.select("rect.bg").remove(),ee.push([le,oe]),q||(te.push(re),se.push(re))}var Ae=B._bgLayer.selectAll(".bg").data(te);for(Ae.enter().append("rect").classed("bg",!0),Ae.exit().remove(),Ae.each(function(we){B._plots[we].bg=g.select(this)}),J=0;J<se.length;J++)ie=B._plots[se[J]],Q=ie.xaxis,j=ie.yaxis,ie.bg&&Q._offset!==void 0&&j._offset!==void 0&&ie.bg.call(t.setRect,Q._offset-H,j._offset-H,Q._length+2*H,j._length+2*H).call(p.fill,B.plot_bgcolor).style("stroke-width",0);if(!B._hasOnlyLargeSploms)for(re in B._plots){ie=B._plots[re],Q=ie.xaxis,j=ie.yaxis;var Ue=ie.clipId="clip"+B._uid+re+"plot",Ve=C.ensureSingleById(B._clips,"clipPath",Ue,function(we){we.classed("plotclip",!0).append("rect")});ie.clipRect=Ve.select("rect").attr({width:Q._length,height:j._length}),t.setTranslate(ie.plot,Q._offset,j._offset);var Pe,be;ie._hasClipOnAxisFalse?(Pe=null,be=Ue):(Pe=Ue,be=null),t.setClipUrl(ie.plot,Pe,N),ie.layerClipId=be}var Le,We,je,Fe,Ze,ut,at,it,$e,st,ct,vt,St;function Mt(we){return"M"+Le+","+we+"H"+We}function Bt(we){return"M"+Q._offset+","+we+"h"+Q._length}function Qe(we){return"M"+we+","+it+"V"+at}function ke(we){return j._shift!==void 0&&(we+=j._shift),"M"+we+","+j._offset+"v"+j._length}function ze(we,ye,Se){if(!we.showline||re!==we._mainSubplot)return"";if(!we._anchorAxis)return Se(we._mainLinePosition);var Me=ye(we._mainLinePosition);return we.mirror&&(Me+=ye(we._mainMirrorPosition)),Me}for(re in B._plots){ie=B._plots[re],Q=ie.xaxis,j=ie.yaxis;var Be="M0,0";S(Q,re)&&(Ze=x(Q,"left",j,Y),Le=Q._offset-(Ze?H+Ze:0),ut=x(Q,"right",j,Y),We=Q._offset+Q._length+(ut?H+ut:0),je=Z(Q,j,"bottom"),Fe=Z(Q,j,"top"),St=!Q._anchorAxis||re!==Q._mainSubplot,St&&(Q.mirror==="allticks"||Q.mirror==="all")&&(Q._linepositions[re]=[je,Fe]),Be=ze(Q,Mt,Bt),St&&Q.showline&&(Q.mirror==="all"||Q.mirror==="allticks")&&(Be+=Mt(je)+Mt(Fe)),ie.xlines.style("stroke-width",Q._lw+"px").call(p.stroke,Q.showline?Q.linecolor:"rgba(0,0,0,0)")),ie.xlines.attr("d",Be);var Re="M0,0";S(j,re)&&(ct=x(j,"bottom",Q,Y),at=j._offset+j._length+(ct?H:0),vt=x(j,"top",Q,Y),it=j._offset-(vt?H:0),$e=Z(j,Q,"left"),st=Z(j,Q,"right"),St=!j._anchorAxis||re!==j._mainSubplot,St&&(j.mirror==="allticks"||j.mirror==="all")&&(j._linepositions[re]=[$e,st]),Re=ze(j,Qe,ke),St&&j.showline&&(j.mirror==="all"||j.mirror==="allticks")&&(Re+=Qe($e)+Qe(st)),ie.ylines.style("stroke-width",j._lw+"px").call(p.stroke,j.showline?j.linecolor:"rgba(0,0,0,0)")),ie.ylines.attr("d",Re)}return n.makeClipPaths(N),a.previousPromises(N)}function S(N,B){return(N.ticks||N.showline)&&(B===N._mainSubplot||N.mirror==="all"||N.mirror==="allticks")}function P(N,B,O){if(!O.showline||!O._lw)return!1;if(O.mirror==="all"||O.mirror==="allticks")return!0;var H=O._anchorAxis;if(!H)return!1;var Y=i.FROM_BL[B];return O.side===B?H.domain[Y]===N.domain[Y]:O.mirror&&H.domain[1-Y]===N.domain[1-Y]}function x(N,B,O,H){if(P(N,B,O))return O._lw;for(var Y=0;Y<H.length;Y++){var J=H[Y];if(J._mainAxis===O._mainAxis&&P(N,B,J))return J._lw}return 0}V.drawMainTitle=function(N){var B=N._fullLayout.title,O=N._fullLayout,H=U(O),Y=z(O),J=F(O,Y),re=m(O,H);if(r.draw(N,"gtitle",{propContainer:O,propName:"title.text",placeholder:O._dfltTitle.plot,attributes:{x:re,y:J,"text-anchor":H,dy:Y}}),B.text&&B.automargin){var ie=g.selectAll(".gtitle"),ce=t.bBox(ie.node()).height,Q=o(N,B,ce);if(Q>0){L(N,J,Q,ce),ie.attr({x:re,y:J,"text-anchor":H,dy:I(B.yanchor)}).call(A.positionText,re,J);var j=(B.text.match(A.BR_TAG_ALL)||[]).length;if(j){var Z=i.LINE_SPACING*j+i.MID_SHIFT;B.y===0&&(Z=-Z),ie.selectAll(".line").each(function(){var $=+this.getAttribute("dy").slice(0,-2)-Z+"em";this.setAttribute("dy",$)})}}}};function M(N,B,O,H,Y){var J=B.yref==="paper"?N._fullLayout._size.h:N._fullLayout.height,re=C.isTopAnchor(B)?H:H-Y,ie=O==="b"?J-re:re;return C.isTopAnchor(B)&&O==="t"||C.isBottomAnchor(B)&&O==="b"?!1:ie<Y}function w(N,B,O,H,Y){var J=0;return O==="middle"&&(J+=Y/2),N==="t"?(O==="top"&&(J+=Y),J+=H-B*H):(O==="bottom"&&(J+=Y),J+=B*H),J}function o(N,B,O){var H=B.y,Y=B.yanchor,J=H>.5?"t":"b",re=N._fullLayout.margin[J],ie=0;return B.yref==="paper"?ie=O+B.pad.t+B.pad.b:B.yref==="container"&&(ie=w(J,H,Y,N._fullLayout.height,O)+B.pad.t+B.pad.b),ie>re?ie:0}function L(N,B,O,H){var Y="title.automargin",J=N._fullLayout.title,re=J.y>.5?"t":"b",ie={x:J.x,y:J.y,t:0,b:0},ce={};J.yref==="paper"&&M(N,J,re,B,H)?ie[re]=O:J.yref==="container"&&(ce[re]=O,N._fullLayout._reservedMargin[Y]=ce),a.allowAutoMargin(N,Y),a.autoMargin(N,Y,ie)}function m(N,B){var O=N.title,H=N._size,Y=0;switch(B===T?Y=O.pad.l:B===l&&(Y=-O.pad.r),O.xref){case"paper":return H.l+H.w*O.x+Y;case"container":default:return N.width*O.x+Y}}function F(N,B){var O=N.title,H=N._size,Y=0;if(B==="0em"||!B?Y=-O.pad.b:B===i.CAP_SHIFT+"em"&&(Y=O.pad.t),O.y==="auto")return H.t/2;switch(O.yref){case"paper":return H.t+H.h-H.h*O.y+Y;case"container":default:return N.height-N.height*O.y+Y}}function I(N){return N==="top"?i.CAP_SHIFT+.3+"em":N==="bottom"?"-0.3em":i.MID_SHIFT+"em"}function U(N){var B=N.title,O=h;return C.isRightAnchor(B)?O=l:C.isLeftAnchor(B)&&(O=T),O}function z(N){var B=N.title,O="0em";return C.isTopAnchor(B)?O=i.CAP_SHIFT+"em":C.isMiddleAnchor(B)&&(O=i.MID_SHIFT+"em"),O}V.doTraceStyle=function(N){var B=N.calcdata,O=[],H;for(H=0;H<B.length;H++){var Y=B[H],J=Y[0]||{},re=J.trace||{},ie=re._module||{},ce=ie.arraysToCalcdata;ce&&ce(Y,re);var Q=ie.editStyle;Q&&O.push({fn:Q,cd0:J})}if(O.length){for(H=0;H<O.length;H++){var j=O[H];j.fn(N,j.cd0)}v(N),V.redrawReglTraces(N)}return a.style(N),_.getComponentMethod("legend","draw")(N),a.previousPromises(N)},V.doColorBars=function(N){return _.getComponentMethod("colorbar","draw")(N),a.previousPromises(N)},V.layoutReplot=function(N){var B=N.layout;return N.layout=void 0,_.call("_doPlot",N,"",B)},V.doLegend=function(N){return _.getComponentMethod("legend","draw")(N),a.previousPromises(N)},V.doTicksRelayout=function(N){return n.draw(N,"redraw"),N._fullLayout._hasOnlyLargeSploms&&(_.subplotsRegistry.splom.updateGrid(N),v(N),V.redrawReglTraces(N)),V.drawMainTitle(N),a.previousPromises(N)},V.doModeBar=function(N){var B=N._fullLayout;s.manage(N);for(var O=0;O<B._basePlotModules.length;O++){var H=B._basePlotModules[O].updateFx;H&&H(N)}return a.previousPromises(N)},V.doCamera=function(N){for(var B=N._fullLayout,O=B._subplots.gl3d,H=0;H<O.length;H++){var Y=B[O[H]],J=Y._scene;J.setViewport(Y)}},V.drawData=function(N){var B=N._fullLayout;v(N);for(var O=B._basePlotModules,H=0;H<O.length;H++)O[H].plot(N);return V.redrawReglTraces(N),a.style(N),_.getComponentMethod("selections","draw")(N),_.getComponentMethod("shapes","draw")(N),_.getComponentMethod("annotations","draw")(N),_.getComponentMethod("images","draw")(N),B._replotting=!1,a.previousPromises(N)},V.redrawReglTraces=function(N){var B=N._fullLayout;if(B._has("regl")){var O=N._fullData,H=[],Y=[],J,re;for(B._hasOnlyLargeSploms&&B._splomGrid.draw(),J=0;J<O.length;J++){var ie=O[J];ie.visible===!0&&ie._length!==0&&(ie.type==="splom"?B._splomScenes[ie.uid].draw():ie.type==="scattergl"?C.pushUnique(H,ie.xaxis+ie.yaxis):ie.type==="scatterpolargl"&&C.pushUnique(Y,ie.subplot))}for(J=0;J<H.length;J++)re=B._plots[H[J]],re._scene&&re._scene.draw();for(J=0;J<Y.length;J++)re=B[Y[J]]._subplot,re._scene&&re._scene.draw()}},V.doAutoRangeAndConstraints=function(N){for(var B=n.list(N,"",!0),O,H={},Y=0;Y<B.length;Y++)if(O=B[Y],!H[O._id]){H[O._id]=1,y(N,O),c(N,O);var J=O._matchGroup;if(J)for(var re in J){var ie=n.getFromId(N,re);c(N,ie,O.range),H[re]=1}}u(N)},V.finalDraw=function(N){_.getComponentMethod("rangeslider","draw")(N),_.getComponentMethod("rangeselector","draw")(N)},V.drawMarginPushers=function(N){_.getComponentMethod("legend","draw")(N),_.getComponentMethod("rangeselector","draw")(N),_.getComponentMethod("sliders","draw")(N),_.getComponentMethod("updatemenus","draw")(N),_.getComponentMethod("colorbar","draw")(N)}},96318:function(G,V,e){var g=e(71828),_=g.isPlainObject,a=e(86281),C=e(74875),A=e(9012),v=e(44467),p=e(72075).dfltConfig;V.makeTemplate=function(c){c=g.isPlainObject(c)?c:g.getGraphDiv(c),c=g.extendDeep({_context:p},{data:c.data,layout:c.layout}),C.supplyDefaults(c);var T=c.data||[],h=c.layout||{};h._basePlotModules=c._fullLayout._basePlotModules,h._modules=c._fullLayout._modules;var l={data:{},layout:{}};T.forEach(function(m){var F={};s(m,F,i.bind(null,m));var I=g.coerce(m,{},A,"type"),U=l.data[I];U||(U=l.data[I]=[]),U.push(F)}),s(h,l.layout,n.bind(null,h)),delete l.layout.template;var d=h.template;if(_(d)){var E=d.layout,S,P,x,M,w,o;_(E)&&t(E,l.layout);var L=d.data;if(_(L)){for(P in l.data)if(x=L[P],Array.isArray(x)){for(w=l.data[P],o=w.length,M=x.length,S=0;S<o;S++)t(x[S%M],w[S]);for(S=o;S<M;S++)w.push(g.extendDeep({},x[S]))}for(P in L)P in l.data||(l.data[P]=g.extendDeep([],L[P]))}}return l};function t(c,T){c=g.extendDeep({},c);var h=Object.keys(c).sort(),l,d;function E(w,o,L){if(_(o)&&_(w))t(w,o);else if(Array.isArray(o)&&Array.isArray(w)){var m=v.arrayTemplater({_template:c},L);for(d=0;d<o.length;d++){var F=o[d],I=m.newItem(F)._template;I&&t(I,F)}var U=m.defaultItems();for(d=0;d<U.length;d++)o.push(U[d]._template);for(d=0;d<o.length;d++)delete o[d].templateitemname}}for(l=0;l<h.length;l++){var S=h[l],P=c[S];if(S in T?E(P,T[S],S):T[S]=P,r(S)===S)for(var x in T){var M=r(x);x!==M&&M===S&&!(x in c)&&E(P,T[x],S)}}}function r(c){return c.replace(/[0-9]+$/,"")}function s(c,T,h,l,d){var E=d&&h(d);for(var S in c){var P=c[S],x=f(c,S,l),M=f(c,S,d),w=h(M);if(!w){var o=r(S);o!==S&&(M=f(c,o,d),w=h(M))}if(!(E&&E===w)&&!(!w||w._noTemplating||w.valType==="data_array"||w.arrayOk&&Array.isArray(P)))if(!w.valType&&_(P))s(P,T,h,x,M);else if(w._isLinkedToArray&&Array.isArray(P))for(var L=!1,m=0,F={},I=0;I<P.length;I++){var U=P[I];if(_(U)){var z=U.name;if(z)F[z]||(s(U,T,h,f(P,m,x),f(P,m,M)),m++,F[z]=1);else if(!L){var N=v.arrayDefaultKey(S),B=f(c,N,l),O=f(P,m,x);s(U,T,h,O,f(P,m,M));var H=g.nestedProperty(T,O),Y=g.nestedProperty(T,B);Y.set(H.get()),H.set(null),L=!0}}}else{var J=g.nestedProperty(T,x);J.set(P)}}}function n(c,T){return a.getLayoutValObject(c,g.nestedProperty({},T).parts)}function i(c,T){return a.getTraceValObject(c,g.nestedProperty({},T).parts)}function f(c,T,h){var l;return h?Array.isArray(c)?l=h+"["+T+"]":l=h+"."+T:l=T,l}V.validateTemplate=function(c,T){var h=g.extendDeep({},{_context:p,data:c.data,layout:c.layout}),l=h.layout||{};_(T)||(T=l.template||{});var d=T.layout,E=T.data,S=[];h.layout=l,h.layout.template=T,C.supplyDefaults(h);var P=h._fullLayout,x=h._fullData,M={};function w(B,O){for(var H in B)if(H.charAt(0)!=="_"&&_(B[H])){var Y=r(H),J=[],re;for(re=0;re<O.length;re++)J.push(f(B,H,O[re])),Y!==H&&J.push(f(B,Y,O[re]));for(re=0;re<J.length;re++)M[J[re]]=1;w(B[H],J)}}function o(B,O){for(var H in B)if(H.indexOf("defaults")===-1&&_(B[H])){var Y=f(B,H,O);M[Y]?o(B[H],Y):S.push({code:"unused",path:Y})}}if(_(d)?(w(P,["layout"]),o(d,"layout")):S.push({code:"layout"}),!_(E))S.push({code:"data"});else{for(var L={},m,F=0;F<x.length;F++){var I=x[F];m=I.type,L[m]=(L[m]||0)+1,I._fullInput._template||S.push({code:"missing",index:I._fullInput.index,traceType:m})}for(m in E){var U=E[m].length,z=L[m]||0;U>z?S.push({code:"unused",traceType:m,templateCount:U,dataCount:z}):z>U&&S.push({code:"reused",traceType:m,templateCount:U,dataCount:z})}}function N(B,O){for(var H in B)if(H.charAt(0)!=="_"){var Y=B[H],J=f(B,H,O);_(Y)?(Array.isArray(B)&&Y._template===!1&&Y.templateitemname&&S.push({code:"missing",path:J,templateitemname:Y.templateitemname}),N(Y,J)):Array.isArray(Y)&&u(Y)&&N(Y,J)}}if(N({data:x,layout:P},""),S.length)return S.map(y)};function u(c){for(var T=0;T<c.length;T++)if(_(c[T]))return!0}function y(c){var T;switch(c.code){case"data":T="The template has no key data.";break;case"layout":T="The template has no key layout.";break;case"missing":c.path?T="There are no templates for item "+c.path+" with name "+c.templateitemname:T="There are no templates for trace "+c.index+", of type "+c.traceType+".";break;case"unused":c.path?T="The template item at "+c.path+" was not used in constructing the plot.":c.dataCount?T="Some of the templates of type "+c.traceType+" were not used. The template has "+c.templateCount+" traces, the data only has "+c.dataCount+" of this type.":T="The template has "+c.templateCount+" traces of type "+c.traceType+" but there are none in the data.";break;case"reused":T="Some of the templates of type "+c.traceType+" were used more than once. The template has "+c.templateCount+" traces, the data has "+c.dataCount+" of this type.";break}return c.msg=T,c}},403:function(G,V,e){var g=e(92770),_=e(72391),a=e(74875),C=e(71828),A=e(25095),v=e(5900),p=e(70942),t=e(11506).version,r={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function s(n,i){i=i||{};var f,u,y,c;C.isPlainObject(n)?(f=n.data||[],u=n.layout||{},y=n.config||{},c={}):(n=C.getGraphDiv(n),f=C.extendDeep([],n.data),u=C.extendDeep({},n.layout),y=n._context,c=n._fullLayout||{});function T(z){return!(z in i)||C.validate(i[z],r[z])}if(!T("width")&&i.width!==null||!T("height")&&i.height!==null)throw new Error("Height and width should be pixel values.");if(!T("format"))throw new Error("Export format is not "+C.join2(r.format.values,", "," or ")+".");var h={};function l(z,N){return C.coerce(i,h,r,z,N)}var d=l("format"),E=l("width"),S=l("height"),P=l("scale"),x=l("setBackground"),M=l("imageDataOnly"),w=document.createElement("div");w.style.position="absolute",w.style.left="-5000px",document.body.appendChild(w);var o=C.extendFlat({},u);E?o.width=E:i.width===null&&g(c.width)&&(o.width=c.width),S?o.height=S:i.height===null&&g(c.height)&&(o.height=c.height);var L=C.extendFlat({},y,{_exportedPlot:!0,staticPlot:!0,setBackground:x}),m=A.getRedrawFunc(w);function F(){return new Promise(function(z){setTimeout(z,A.getDelay(w._fullLayout))})}function I(){return new Promise(function(z,N){var B=v(w,d,P),O=w._fullLayout.width,H=w._fullLayout.height;function Y(){_.purge(w),document.body.removeChild(w)}if(d==="full-json"){var J=a.graphJson(w,!1,"keepdata","object",!0,!0);return J.version=t,J=JSON.stringify(J),Y(),z(M?J:A.encodeJSON(J))}if(Y(),d==="svg")return z(M?B:A.encodeSVG(B));var re=document.createElement("canvas");re.id=C.randstr(),p({format:d,width:O,height:H,scale:P,canvas:re,svg:B,promise:!0}).then(z).catch(N)})}function U(z){return M?z.replace(A.IMAGE_URL_PREFIX,""):z}return new Promise(function(z,N){_.newPlot(w,f,o,L).then(m).then(F).then(I).then(function(B){z(U(B))}).catch(function(B){N(B)})})}G.exports=s},84936:function(G,V,e){var g=e(71828),_=e(74875),a=e(86281),C=e(72075).dfltConfig,A=g.isPlainObject,v=Array.isArray,p=g.isArrayOrTypedArray;G.exports=function(l,d){l===void 0&&(l=[]),d===void 0&&(d={});var E=a.get(),S=[],P={_context:g.extendFlat({},C)},x,M;v(l)?(P.data=g.extendDeep([],l),x=l):(P.data=[],x=[],S.push(i("array","data"))),A(d)?(P.layout=g.extendDeep({},d),M=d):(P.layout={},M={},arguments.length>1&&S.push(i("object","layout"))),_.supplyDefaults(P);for(var w=P._fullData,o=x.length,L=0;L<o;L++){var m=x[L],F=["data",L];if(!A(m)){S.push(i("object",F));continue}var I=w[L],U=I.type,z=E.traces[U].attributes;z.type={valType:"enumerated",values:[U]},I.visible===!1&&m.visible!==!1&&S.push(i("invisible",F)),t(m,I,z,S,F);var N=m.transforms,B=I.transforms;if(N){v(N)||S.push(i("array",F,["transforms"])),F.push("transforms");for(var O=0;O<N.length;O++){var H=["transforms",O],Y=N[O].type;if(!A(N[O])){S.push(i("object",F,H));continue}var J=E.transforms[Y]?E.transforms[Y].attributes:{};J.type={valType:"enumerated",values:Object.keys(E.transforms)},t(N[O],B[O],J,S,F,H)}}}var re=P._fullLayout,ie=r(E,w);return t(M,re,ie,S,"layout"),S.length===0?void 0:S};function t(h,l,d,E,S,P){P=P||[];for(var x=Object.keys(h),M=0;M<x.length;M++){var w=x[M];if(w!=="transforms"){var o=P.slice();o.push(w);var L=h[w],m=l[w],F=u(d,w),I=(F||{}).valType,U=I==="info_array",z=I==="colorscale",N=(F||{}).items;if(!f(d,w))E.push(i("schema",S,o));else if(A(L)&&A(m)&&I!=="any")t(L,m,F,E,S,o);else if(U&&v(L)){L.length>m.length&&E.push(i("unused",S,o.concat(m.length)));var B=m.length,O=Array.isArray(N);O&&(B=Math.min(B,N.length));var H,Y,J,re,ie;if(F.dimensions===2)for(Y=0;Y<B;Y++)if(v(L[Y])){L[Y].length>m[Y].length&&E.push(i("unused",S,o.concat(Y,m[Y].length)));var ce=m[Y].length;for(H=0;H<(O?Math.min(ce,N[Y].length):ce);H++)J=O?N[Y][H]:N,re=L[Y][H],ie=m[Y][H],g.validate(re,J)?ie!==re&&ie!==+re&&E.push(i("dynamic",S,o.concat(Y,H),re,ie)):E.push(i("value",S,o.concat(Y,H),re))}else E.push(i("array",S,o.concat(Y),L[Y]));else for(Y=0;Y<B;Y++)J=O?N[Y]:N,re=L[Y],ie=m[Y],g.validate(re,J)?ie!==re&&ie!==+re&&E.push(i("dynamic",S,o.concat(Y),re,ie)):E.push(i("value",S,o.concat(Y),re))}else if(F.items&&!U&&v(L)){var Q=N[Object.keys(N)[0]],j=[],Z,$;for(Z=0;Z<m.length;Z++){var te=m[Z]._index||Z;if($=o.slice(),$.push(te),A(L[te])&&A(m[Z])){j.push(te);var se=L[te],ee=m[Z];A(se)&&se.visible!==!1&&ee.visible===!1?E.push(i("invisible",S,$)):t(se,ee,Q,E,S,$)}}for(Z=0;Z<L.length;Z++)$=o.slice(),$.push(Z),A(L[Z])?j.indexOf(Z)===-1&&E.push(i("unused",S,$)):E.push(i("object",S,$,L[Z]))}else!A(L)&&A(m)?E.push(i("object",S,o,L)):!p(L)&&p(m)&&!U&&!z?E.push(i("array",S,o,L)):w in l?g.validate(L,F)?F.valType==="enumerated"&&(F.coerceNumber&&L!==+m||L!==m)&&E.push(i("dynamic",S,o,L,m)):E.push(i("value",S,o,L)):E.push(i("unused",S,o,L))}}return E}function r(h,l){for(var d=h.layout.layoutAttributes,E=0;E<l.length;E++){var S=l[E],P=h.traces[S.type],x=P.layoutAttributes;x&&(S.subplot?g.extendFlat(d[P.attributes.subplot.dflt],x):g.extendFlat(d,x))}return d}var s={object:function(h,l){var d;return h==="layout"&&l===""?d="The layout argument":h[0]==="data"&&l===""?d="Trace "+h[1]+" in the data argument":d=n(h)+"key "+l,d+" must be linked to an object container"},array:function(h,l){var d;return h==="data"?d="The data argument":d=n(h)+"key "+l,d+" must be linked to an array container"},schema:function(h,l){return n(h)+"key "+l+" is not part of the schema"},unused:function(h,l,d){var E=A(d)?"container":"key";return n(h)+E+" "+l+" did not get coerced"},dynamic:function(h,l,d,E){return[n(h)+"key",l,"(set to '"+d+"')","got reset to","'"+E+"'","during defaults."].join(" ")},invisible:function(h,l){return(l?n(h)+"item "+l:"Trace "+h[1])+" got defaulted to be not visible"},value:function(h,l,d){return[n(h)+"key "+l,"is set to an invalid value ("+d+")"].join(" ")}};function n(h){return v(h)?"In data trace "+h[1]+", ":"In "+h+", "}function i(h,l,d,E,S){d=d||"";var P,x;v(l)?(P=l[0],x=l[1]):(P=l,x=null);var M=T(d),w=s[h](l,M,E,S);return g.log(w),{code:h,container:P,trace:x,path:d,astr:M,msg:w}}function f(h,l){var d=c(l),E=d.keyMinusId,S=d.id;return E in h&&h[E]._isSubplotObj&&S?!0:l in h}function u(h,l){if(l in h)return h[l];var d=c(l);return h[d.keyMinusId]}var y=g.counterRegex("([a-z]+)");function c(h){var l=h.match(y);return{keyMinusId:l&&l[1],id:l&&l[2]}}function T(h){if(!v(h))return String(h);for(var l="",d=0;d<h.length;d++){var E=h[d];typeof E=="number"?l=l.substr(0,l.length-1)+"["+E+"]":l+=E,d<h.length-1&&(l+=".")}return l}},85594:function(G){G.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(G,V,e){var g=e(71828),_=e(44467);G.exports=function(C,A,v){var p=v.name,t=v.inclusionAttr||"visible",r=A[p],s=g.isArrayOrTypedArray(C[p])?C[p]:[],n=A[p]=[],i=_.arrayTemplater(A,p,t),f,u;for(f=0;f<s.length;f++){var y=s[f];g.isPlainObject(y)?u=i.newItem(y):(u=i.newItem({}),u[t]=!1),u._index=f,u[t]!==!1&&v.handleItemDefaults(y,u,A,v),n.push(u)}var c=i.defaultItems();for(f=0;f<c.length;f++)u=c[f],u._index=n.length,v.handleItemDefaults({},u,A,v,{}),n.push(u);if(g.isArrayOrTypedArray(r)){var T=Math.min(r.length,n.length);for(f=0;f<T;f++)g.relinkPrivateKeys(n[f],r[f])}return n}},9012:function(G,V,e){var g=e(41940),_=e(77914);G.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:g({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:_.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(G,V,e){var g=e(92770),_=e(71828),a=_.dateTime2ms,C=_.incrementMonth,A=e(50606),v=A.ONEAVGMONTH;G.exports=function(t,r,s,n){if(r.type!=="date")return{vals:n};var i=t[s+"periodalignment"];if(!i)return{vals:n};var f=t[s+"period"],u;if(g(f)){if(f=+f,f<=0)return{vals:n}}else if(typeof f=="string"&&f.charAt(0)==="M"){var y=+f.substring(1);if(y>0&&Math.round(y)===y)u=y;else return{vals:n}}for(var c=r.calendar,T=i==="start",h=i==="end",l=t[s+"period0"],d=a(l,c)||0,E=[],S=[],P=[],x=n.length,M=0;M<x;M++){var w=n[M],o,L,m;if(u){for(o=Math.round((w-d)/(u*v)),m=C(d,u*o,c);m>w;)m=C(m,-u,c);for(;m<=w;)m=C(m,u,c);L=C(m,-u,c)}else{for(o=Math.round((w-d)/f),m=d+o*f;m>w;)m-=f;for(;m<=w;)m+=f;L=m-f}E[M]=T?L:h?m:(L+m)/2,S[M]=L,P[M]=m}return{vals:E,starts:S,ends:P}}},89502:function(G){G.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(G,V,e){var g=e(39898),_=e(92770),a=e(71828),C=e(50606).FP_SAFE,A=e(73972),v=e(91424),p=e(41675),t=p.getFromId,r=p.isLinked;G.exports={applyAutorangeOptions:o,getAutoRange:s,makePadFn:i,doAutoRange:c,findExtremes:T,concatExtremes:y};function s(L,m){var F,I,U=[],z=L._fullLayout,N=i(z,m,0),B=i(z,m,1),O=y(L,m),H=O.min,Y=O.max;if(H.length===0||Y.length===0)return a.simpleMap(m.range,m.r2l);var J=H[0].val,re=Y[0].val;for(F=1;F<H.length&&J===re;F++)J=Math.min(J,H[F].val);for(F=1;F<Y.length&&J===re;F++)re=Math.max(re,Y[F].val);var ie=m.autorange,ce=ie==="reversed"||ie==="min reversed"||ie==="max reversed";if(!ce&&m.range){var Q=a.simpleMap(m.range,m.r2l);ce=Q[1]<Q[0]}m.autorange==="reversed"&&(m.autorange=!0);var j=m.rangemode,Z=j==="tozero",$=j==="nonnegative",te=m._length,se=te/10,ee=0,q,le,oe,he,me,Ce;for(F=0;F<H.length;F++)for(q=H[F],I=0;I<Y.length;I++)le=Y[I],Ce=le.val-q.val-n(m,q.val,le.val),Ce>0&&(me=te-N(q)-B(le),me>se?Ce/me>ee&&(oe=q,he=le,ee=Ce/me):Ce/te>ee&&(oe={val:q.val,nopad:1},he={val:le.val,nopad:1},ee=Ce/te));function Ae(Le,We){return Math.max(Le,B(We))}if(J===re){var Ue=J-1,Ve=J+1;if(Z)if(J===0)U=[0,1];else{var Pe=(J>0?Y:H).reduce(Ae,0),be=J/(1-Math.min(.5,Pe/te));U=J>0?[0,be]:[be,0]}else $?U=[Math.max(0,Ue),Math.max(1,Ve)]:U=[Ue,Ve]}else Z?(oe.val>=0&&(oe={val:0,nopad:1}),he.val<=0&&(he={val:0,nopad:1})):$&&(oe.val-ee*N(oe)<0&&(oe={val:0,nopad:1}),he.val<=0&&(he={val:1,nopad:1})),ee=(he.val-oe.val-n(m,q.val,le.val))/(te-N(oe)-B(he)),U=[oe.val-ee*N(oe),he.val+ee*B(he)];return U=o(U,m),m.limitRange&&m.limitRange(),ce&&U.reverse(),a.simpleMap(U,m.l2r||Number)}function n(L,m,F){var I=0;if(L.rangebreaks)for(var U=L.locateBreaks(m,F),z=0;z<U.length;z++){var N=U[z];I+=N.max-N.min}return I}function i(L,m,F){var I=.05*m._length,U=m._anchorAxis||{};if((m.ticklabelposition||"").indexOf("inside")!==-1||(U.ticklabelposition||"").indexOf("inside")!==-1){var z=m.isReversed();if(!z){var N=a.simpleMap(m.range,m.r2l);z=N[1]<N[0]}z&&(F=!F)}var B=0;return r(L,m._id)||(B=u(L,m,F)),I=Math.max(B,I),m.constrain==="domain"&&m._inputDomain&&(I*=(m._inputDomain[1]-m._inputDomain[0])/(m.domain[1]-m.domain[0])),function(H){return H.nopad?0:H.pad+(H.extrapad?I:B)}}var f=3;function u(L,m,F){var I=0,U=m._id.charAt(0)==="x";for(var z in L._plots){var N=L._plots[z];if(!(m._id!==N.xaxis._id&&m._id!==N.yaxis._id)){var B=(U?N.yaxis:N.xaxis)||{};if((B.ticklabelposition||"").indexOf("inside")!==-1&&(!F&&(B.side==="left"||B.side==="bottom")||F&&(B.side==="top"||B.side==="right"))){if(B._vals){var O=a.deg2rad(B._tickAngles[B._id+"tick"]||0),H=Math.abs(Math.cos(O)),Y=Math.abs(Math.sin(O));if(!B._vals[0].bb){var J=B._id+"tick",re=B._selections[J];re.each(function($){var te=g.select(this),se=te.select(".text-math-group");se.empty()&&($.bb=v.bBox(te.node()))})}for(var ie=0;ie<B._vals.length;ie++){var ce=B._vals[ie],Q=ce.bb;if(Q){var j=2*f+Q.width,Z=2*f+Q.height;I=Math.max(I,U?Math.max(j*H,Z*Y):Math.max(Z*H,j*Y))}}}B.ticks==="inside"&&B.ticklabelposition==="inside"&&(I+=B.ticklen||0)}}}return I}function y(L,m,F){var I=m._id,U=L._fullData,z=L._fullLayout,N=[],B=[],O,H,Y;function J(j,Z){for(O=0;O<Z.length;O++){var $=j[Z[O]],te=($._extremes||{})[I];if($.visible===!0&&te){for(H=0;H<te.min.length;H++)Y=te.min[H],h(N,Y.val,Y.pad,{extrapad:Y.extrapad});for(H=0;H<te.max.length;H++)Y=te.max[H],l(B,Y.val,Y.pad,{extrapad:Y.extrapad})}}}if(J(U,m._traceIndices),J(z.annotations||[],m._annIndices||[]),J(z.shapes||[],m._shapeIndices||[]),m._matchGroup&&!F){for(var re in m._matchGroup)if(re!==m._id){var ie=t(L,re),ce=y(L,ie,!0),Q=m._length/ie._length;for(H=0;H<ce.min.length;H++)Y=ce.min[H],h(N,Y.val,Y.pad*Q,{extrapad:Y.extrapad});for(H=0;H<ce.max.length;H++)Y=ce.max[H],l(B,Y.val,Y.pad*Q,{extrapad:Y.extrapad})}}return{min:N,max:B}}function c(L,m,F){if(m.setScale(),m.autorange){m.range=F?F.slice():s(L,m),m._r=m.range.slice(),m._rl=a.simpleMap(m._r,m.r2l);var I=m._input,U={};U[m._attr+".range"]=m.range,U[m._attr+".autorange"]=m.autorange,A.call("_storeDirectGUIEdit",L.layout,L._fullLayout._preGUI,U),I.range=m.range.slice(),I.autorange=m.autorange}var z=m._anchorAxis;if(z&&z.rangeslider){var N=z.rangeslider[m._name];N&&N.rangemode==="auto"&&(N.range=s(L,m)),z._input.rangeslider[m._name]=a.extendFlat({},N)}}function T(L,m,F){F||(F={}),L._m||L.setScale();var I=[],U=[],z=m.length,N=F.padded||!1,B=F.tozero&&(L.type==="linear"||L.type==="-"),O=L.type==="log",H=!1,Y=F.vpadLinearized||!1,J,re,ie,ce,Q,j,Z,$,te;function se(Ae){if(Array.isArray(Ae))return H=!0,function(Ve){return Math.max(Number(Ae[Ve]||0),0)};var Ue=Math.max(Number(Ae||0),0);return function(){return Ue}}var ee=se((L._m>0?F.ppadplus:F.ppadminus)||F.ppad||0),q=se((L._m>0?F.ppadminus:F.ppadplus)||F.ppad||0),le=se(F.vpadplus||F.vpad),oe=se(F.vpadminus||F.vpad);if(!H){if($=1/0,te=-1/0,O)for(J=0;J<z;J++)re=m[J],re<$&&re>0&&($=re),re>te&&re<C&&(te=re);else for(J=0;J<z;J++)re=m[J],re<$&&re>-C&&($=re),re>te&&re<C&&(te=re);m=[$,te],z=2}var he={tozero:B,extrapad:N};function me(Ae){ie=m[Ae],_(ie)&&(j=ee(Ae),Z=q(Ae),Y?(ce=L.c2l(ie)-oe(Ae),Q=L.c2l(ie)+le(Ae)):($=ie-oe(Ae),te=ie+le(Ae),O&&$<te/10&&($=te/10),ce=L.c2l($),Q=L.c2l(te)),B&&(ce=Math.min(0,ce),Q=Math.max(0,Q)),E(ce)&&h(I,ce,Z,he),E(Q)&&l(U,Q,j,he))}var Ce=Math.min(6,z);for(J=0;J<Ce;J++)me(J);for(J=z-1;J>=Ce;J--)me(J);return{min:I,max:U,opts:F}}function h(L,m,F,I){d(L,m,F,I,S)}function l(L,m,F,I){d(L,m,F,I,P)}function d(L,m,F,I,U){for(var z=I.tozero,N=I.extrapad,B=!0,O=0;O<L.length&&B;O++){var H=L[O];if(U(H.val,m)&&H.pad>=F&&(H.extrapad||!N)){B=!1;break}else U(m,H.val)&&H.pad<=F&&(N||!H.extrapad)&&(L.splice(O,1),O--)}if(B){var Y=z&&m===0;L.push({val:m,pad:Y?0:F,extrapad:Y?!1:N})}}function E(L){return _(L)&&Math.abs(L)<C}function S(L,m){return L<=m}function P(L,m){return L>=m}function x(L,m){var F=m.autorangeoptions;return F&&F.minallowed!==void 0&&w(m,F.minallowed,F.maxallowed)?F.minallowed:F&&F.clipmin!==void 0&&w(m,F.clipmin,F.clipmax)?Math.max(L,m.d2l(F.clipmin)):L}function M(L,m){var F=m.autorangeoptions;return F&&F.maxallowed!==void 0&&w(m,F.minallowed,F.maxallowed)?F.maxallowed:F&&F.clipmax!==void 0&&w(m,F.clipmin,F.clipmax)?Math.min(L,m.d2l(F.clipmax)):L}function w(L,m,F){return m!==void 0&&F!==void 0?(m=L.d2l(m),F=L.d2l(F),m<F):!0}function o(L,m){if(!m||!m.autorangeoptions)return L;var F=L[0],I=L[1],U=m.autorangeoptions.include;if(U!==void 0){var z=m.d2l(F),N=m.d2l(I);a.isArrayOrTypedArray(U)||(U=[U]);for(var B=0;B<U.length;B++){var O=m.d2l(U[B]);z>=O&&(z=O,F=O),N<=O&&(N=O,I=O)}}return F=x(F,m),I=M(I,m),[F,I]}},23074:function(G){G.exports=function(e,g,_){var a,C;if(_){var A=g==="reversed"||g==="min reversed"||g==="max reversed";a=_[A?1:0],C=_[A?0:1]}var v=e("autorangeoptions.minallowed",C===null?a:void 0),p=e("autorangeoptions.maxallowed",a===null?C:void 0);v===void 0&&e("autorangeoptions.clipmin"),p===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},89298:function(G,V,e){var g=e(39898),_=e(92770),a=e(74875),C=e(73972),A=e(71828),v=A.strTranslate,p=e(63893),t=e(92998),r=e(7901),s=e(91424),n=e(13838),i=e(66287),f=e(50606),u=f.ONEMAXYEAR,y=f.ONEAVGYEAR,c=f.ONEMINYEAR,T=f.ONEMAXQUARTER,h=f.ONEAVGQUARTER,l=f.ONEMINQUARTER,d=f.ONEMAXMONTH,E=f.ONEAVGMONTH,S=f.ONEMINMONTH,P=f.ONEWEEK,x=f.ONEDAY,M=x/2,w=f.ONEHOUR,o=f.ONEMIN,L=f.ONESEC,m=f.MINUS_SIGN,F=f.BADNUM,I={K:"zeroline"},U={K:"gridline",L:"path"},z={K:"minor-gridline",L:"path"},N={K:"tick",L:"path"},B={K:"tick",L:"text"},O={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},H=e(18783),Y=H.MID_SHIFT,J=H.CAP_SHIFT,re=H.LINE_SPACING,ie=H.OPPOSITE_SIDE,ce=3,Q=G.exports={};Q.setConvert=e(21994);var j=e(4322),Z=e(41675),$=Z.idSort,te=Z.isLinked;Q.id2name=Z.id2name,Q.name2id=Z.name2id,Q.cleanId=Z.cleanId,Q.list=Z.list,Q.listIds=Z.listIds,Q.getFromId=Z.getFromId,Q.getFromTrace=Z.getFromTrace;var se=e(71739);Q.getAutoRange=se.getAutoRange,Q.findExtremes=se.findExtremes;var ee=1e-4;function q(Xe){var Ke=(Xe[1]-Xe[0])*ee;return[Xe[0]-Ke,Xe[1]+Ke]}Q.coerceRef=function(Xe,Ke,Ot,Lt,Xt,rr){var ur=Lt.charAt(Lt.length-1),or=Ot._fullLayout._subplots[ur+"axis"],Ht=Lt+"ref",gr={};return Xt||(Xt=or[0]||(typeof rr=="string"?rr:rr[0])),rr||(rr=Xt),or=or.concat(or.map(function(br){return br+" domain"})),gr[Ht]={valType:"enumerated",values:or.concat(rr?typeof rr=="string"?[rr]:rr:[]),dflt:Xt},A.coerce(Xe,Ke,gr,Ht)},Q.getRefType=function(Xe){return Xe===void 0?Xe:Xe==="paper"?"paper":Xe==="pixel"?"pixel":/( domain)$/.test(Xe)?"domain":"range"},Q.coercePosition=function(Xe,Ke,Ot,Lt,Xt,rr){var ur,or,Ht=Q.getRefType(Lt);if(Ht!=="range")ur=A.ensureNumber,or=Ot(Xt,rr);else{var gr=Q.getFromId(Ke,Lt);rr=gr.fraction2r(rr),or=Ot(Xt,rr),ur=gr.cleanPos}Xe[Xt]=ur(or)},Q.cleanPosition=function(Xe,Ke,Ot){var Lt=Ot==="paper"||Ot==="pixel"?A.ensureNumber:Q.getFromId(Ke,Ot).cleanPos;return Lt(Xe)},Q.redrawComponents=function(Xe,Ke){Ke=Ke||Q.listIds(Xe);var Ot=Xe._fullLayout;function Lt(Xt,rr,ur,or){for(var Ht=C.getComponentMethod(Xt,rr),gr={},br=0;br<Ke.length;br++)for(var xr=Ot[Q.id2name(Ke[br])],dr=xr[ur],Wr=0;Wr<dr.length;Wr++){var Br=dr[Wr];if(!gr[Br]&&(Ht(Xe,Br),gr[Br]=1,or))return}}Lt("annotations","drawOne","_annIndices"),Lt("shapes","drawOne","_shapeIndices"),Lt("images","draw","_imgIndices",!0),Lt("selections","drawOne","_selectionIndices")};var le=Q.getDataConversions=function(Xe,Ke,Ot,Lt){var Xt,rr=Ot==="x"||Ot==="y"||Ot==="z"?Ot:Lt;if(Array.isArray(rr)){if(Xt={type:j(Lt,void 0,{autotypenumbers:Xe._fullLayout.autotypenumbers}),_categories:[]},Q.setConvert(Xt),Xt.type==="category")for(var ur=0;ur<Lt.length;ur++)Xt.d2c(Lt[ur])}else Xt=Q.getFromTrace(Xe,Ke,rr);return Xt?{d2c:Xt.d2c,c2d:Xt.c2d}:rr==="ids"?{d2c:he,c2d:he}:{d2c:oe,c2d:oe}};function oe(Xe){return+Xe}function he(Xe){return String(Xe)}Q.getDataToCoordFunc=function(Xe,Ke,Ot,Lt){return le(Xe,Ke,Ot,Lt).d2c},Q.counterLetter=function(Xe){var Ke=Xe.charAt(0);if(Ke==="x")return"y";if(Ke==="y")return"x"},Q.minDtick=function(Xe,Ke,Ot,Lt){["log","category","multicategory"].indexOf(Xe.type)!==-1||!Lt?Xe._minDtick=0:Xe._minDtick===void 0?(Xe._minDtick=Ke,Xe._forceTick0=Ot):Xe._minDtick&&((Xe._minDtick/Ke+1e-6)%1<2e-6&&((Ot-Xe._forceTick0)/Ke%1+1.000001)%1<2e-6?(Xe._minDtick=Ke,Xe._forceTick0=Ot):((Ke/Xe._minDtick+1e-6)%1>2e-6||((Ot-Xe._forceTick0)/Xe._minDtick%1+1.000001)%1>2e-6)&&(Xe._minDtick=0))},Q.saveRangeInitial=function(Xe,Ke){for(var Ot=Q.list(Xe,"",!0),Lt=!1,Xt=0;Xt<Ot.length;Xt++){var rr=Ot[Xt],ur=rr._rangeInitial0===void 0&&rr._rangeInitial1===void 0,or=ur||rr.range[0]!==rr._rangeInitial0||rr.range[1]!==rr._rangeInitial1,Ht=rr.autorange;(ur&&Ht!==!0||Ke&&or)&&(rr._rangeInitial0=Ht==="min"||Ht==="max reversed"?void 0:rr.range[0],rr._rangeInitial1=Ht==="max"||Ht==="min reversed"?void 0:rr.range[1],rr._autorangeInitial=Ht,Lt=!0)}return Lt},Q.saveShowSpikeInitial=function(Xe,Ke){for(var Ot=Q.list(Xe,"",!0),Lt=!1,Xt="on",rr=0;rr<Ot.length;rr++){var ur=Ot[rr],or=ur._showSpikeInitial===void 0,Ht=or||ur.showspikes!==ur._showspikes;(or||Ke&&Ht)&&(ur._showSpikeInitial=ur.showspikes,Lt=!0),Xt==="on"&&!ur.showspikes&&(Xt="off")}return Xe._fullLayout._cartesianSpikesEnabled=Xt,Lt},Q.autoBin=function(Xe,Ke,Ot,Lt,Xt,rr){var ur=A.aggNums(Math.min,null,Xe),or=A.aggNums(Math.max,null,Xe);if(Ke.type==="category"||Ke.type==="multicategory")return{start:ur-.5,end:or+.5,size:Math.max(1,Math.round(rr)||1),_dataSpan:or-ur};Xt||(Xt=Ke.calendar);var Ht;if(Ke.type==="log"?Ht={type:"linear",range:[ur,or]}:Ht={type:Ke.type,range:A.simpleMap([ur,or],Ke.c2r,0,Xt),calendar:Xt},Q.setConvert(Ht),rr=rr&&i.dtick(rr,Ht.type),rr)Ht.dtick=rr,Ht.tick0=i.tick0(void 0,Ht.type,Xt);else{var gr;if(Ot)gr=(or-ur)/Ot;else{var br=A.distinctVals(Xe),xr=Math.pow(10,Math.floor(Math.log(br.minDiff)/Math.LN10)),dr=xr*A.roundUp(br.minDiff/xr,[.9,1.9,4.9,9.9],!0);gr=Math.max(dr,2*A.stdev(Xe)/Math.pow(Xe.length,Lt?.25:.4)),_(gr)||(gr=1)}Q.autoTicks(Ht,gr)}var Wr=Ht.dtick,Br=Q.tickIncrement(Q.tickFirst(Ht),Wr,"reverse",Xt),Ur,yn;if(typeof Wr=="number")Br=me(Br,Xe,Ht,ur,or),yn=1+Math.floor((or-Br)/Wr),Ur=Br+yn*Wr;else for(Ht.dtick.charAt(0)==="M"&&(Br=Ce(Br,Xe,Wr,ur,Xt)),Ur=Br,yn=0;Ur<=or;)Ur=Q.tickIncrement(Ur,Wr,!1,Xt),yn++;return{start:Ke.c2r(Br,0,Xt),end:Ke.c2r(Ur,0,Xt),size:Wr,_dataSpan:or-ur}};function me(Xe,Ke,Ot,Lt,Xt){var rr=0,ur=0,or=0,Ht=0;function gr(Wr){return(1+(Wr-Xe)*100/Ot.dtick)%100<2}for(var br=0;br<Ke.length;br++)Ke[br]%1===0?or++:_(Ke[br])||Ht++,gr(Ke[br])&&rr++,gr(Ke[br]+Ot.dtick/2)&&ur++;var xr=Ke.length-Ht;if(or===xr&&Ot.type!=="date")Ot.dtick<1?Xe=Lt-.5*Ot.dtick:(Xe-=.5,Xe+Ot.dtick<Lt&&(Xe+=Ot.dtick));else if(ur<xr*.1&&(rr>xr*.3||gr(Lt)||gr(Xt))){var dr=Ot.dtick/2;Xe+=Xe+dr<Lt?dr:-dr}return Xe}function Ce(Xe,Ke,Ot,Lt,Xt){var rr=A.findExactDates(Ke,Xt),ur=.8;if(rr.exactDays>ur){var or=Number(Ot.substr(1));rr.exactYears>ur&&or%12===0?Xe=Q.tickIncrement(Xe,"M6","reverse")+x*1.5:rr.exactMonths>ur?Xe=Q.tickIncrement(Xe,"M1","reverse")+x*15.5:Xe-=M;var Ht=Q.tickIncrement(Xe,Ot);if(Ht<=Lt)return Ht}return Xe}Q.prepMinorTicks=function(Xe,Ke,Ot){if(!Ke.minor.dtick){delete Xe.dtick;var Lt=Ke.dtick&&_(Ke._tmin),Xt;if(Lt){var rr=Q.tickIncrement(Ke._tmin,Ke.dtick,!0);Xt=[Ke._tmin,rr*.99+Ke._tmin*.01]}else{var ur=A.simpleMap(Ke.range,Ke.r2l);Xt=[ur[0],.8*ur[0]+.2*ur[1]]}if(Xe.range=A.simpleMap(Xt,Ke.l2r),Xe._isMinor=!0,Q.prepTicks(Xe,Ot),Lt){var or=_(Ke.dtick),Ht=_(Xe.dtick),gr=or?Ke.dtick:+Ke.dtick.substring(1),br=Ht?Xe.dtick:+Xe.dtick.substring(1);or&&Ht?Ae(gr,br)?gr===2*P&&br===2*x&&(Xe.dtick=P):gr===2*P&&br===3*x?Xe.dtick=P:gr===P&&!(Ke._input.minor||{}).nticks?Xe.dtick=x:Ue(gr/br,2.5)?Xe.dtick=gr/2:Xe.dtick=gr:String(Ke.dtick).charAt(0)==="M"?Ht?Xe.dtick="M1":Ae(gr,br)?gr>=12&&br===2&&(Xe.dtick="M3"):Xe.dtick=Ke.dtick:String(Xe.dtick).charAt(0)==="L"?String(Ke.dtick).charAt(0)==="L"?Ae(gr,br)||(Xe.dtick=Ue(gr/br,2.5)?Ke.dtick/2:Ke.dtick):Xe.dtick="D1":Xe.dtick==="D2"&&+Ke.dtick>1&&(Xe.dtick=1)}Xe.range=Ke.range}Ke.minor._tick0Init===void 0&&(Xe.tick0=Ke.tick0)};function Ae(Xe,Ke){return Math.abs((Xe/Ke+.5)%1-.5)<.001}function Ue(Xe,Ke){return Math.abs(Xe/Ke-1)<.001}Q.prepTicks=function(Xe,Ke){var Ot=A.simpleMap(Xe.range,Xe.r2l,void 0,void 0,Ke);if(Xe.tickmode==="auto"||!Xe.dtick){var Lt=Xe.nticks,Xt;Lt||(Xe.type==="category"||Xe.type==="multicategory"?(Xt=Xe.tickfont?A.bigFont(Xe.tickfont.size||12):15,Lt=Xe._length/Xt):(Xt=Xe._id.charAt(0)==="y"?40:80,Lt=A.constrain(Xe._length/Xt,4,9)+1),Xe._name==="radialaxis"&&(Lt*=2)),Xe.minor&&Xe.minor.tickmode!=="array"||Xe.tickmode==="array"&&(Lt*=100),Xe._roughDTick=Math.abs(Ot[1]-Ot[0])/Lt,Q.autoTicks(Xe,Xe._roughDTick),Xe._minDtick>0&&Xe.dtick<Xe._minDtick*2&&(Xe.dtick=Xe._minDtick,Xe.tick0=Xe.l2r(Xe._forceTick0))}Xe.ticklabelmode==="period"&&Pe(Xe),Xe.tick0||(Xe.tick0=Xe.type==="date"?"2000-01-01":0),Xe.type==="date"&&Xe.dtick<.1&&(Xe.dtick=.1),vt(Xe)};function Ve(Xe){return+Xe.substring(1)}function Pe(Xe){var Ke;function Ot(){return!(_(Xe.dtick)||Xe.dtick.charAt(0)!=="M")}var Lt=Ot(),Xt=Q.getTickFormat(Xe);if(Xt){var rr=Xe._dtickInit!==Xe.dtick;/%[fLQsSMX]/.test(Xt)||(/%[HI]/.test(Xt)?(Ke=w,rr&&!Lt&&Xe.dtick<w&&(Xe.dtick=w)):/%p/.test(Xt)?(Ke=M,rr&&!Lt&&Xe.dtick<M&&(Xe.dtick=M)):/%[Aadejuwx]/.test(Xt)?(Ke=x,rr&&!Lt&&Xe.dtick<x&&(Xe.dtick=x)):/%[UVW]/.test(Xt)?(Ke=P,rr&&!Lt&&Xe.dtick<P&&(Xe.dtick=P)):/%[Bbm]/.test(Xt)?(Ke=E,rr&&(Lt?Ve(Xe.dtick)<1:Xe.dtick<S)&&(Xe.dtick="M1")):/%[q]/.test(Xt)?(Ke=h,rr&&(Lt?Ve(Xe.dtick)<3:Xe.dtick<l)&&(Xe.dtick="M3")):/%[Yy]/.test(Xt)&&(Ke=y,rr&&(Lt?Ve(Xe.dtick)<12:Xe.dtick<c)&&(Xe.dtick="M12")))}Lt=Ot(),Lt&&Xe.tick0===Xe._dowTick0&&(Xe.tick0=Xe._rawTick0),Xe._definedDelta=Ke}function be(Xe,Ke,Ot){for(var Lt=0;Lt<Xe.length;Lt++){var Xt=Xe[Lt].value,rr=Lt,ur=Lt+1;Lt<Xe.length-1?(rr=Lt,ur=Lt+1):Lt>0?(rr=Lt-1,ur=Lt):(rr=Lt,ur=Lt);var or=Xe[rr].value,Ht=Xe[ur].value,gr=Math.abs(Ht-or),br=Ot||gr,xr=0;br>=c?gr>=c&&gr<=u?xr=gr:xr=y:Ot===h&&br>=l?gr>=l&&gr<=T?xr=gr:xr=h:br>=S?gr>=S&&gr<=d?xr=gr:xr=E:Ot===P&&br>=P?xr=P:br>=x?xr=x:Ot===M&&br>=M?xr=M:Ot===w&&br>=w&&(xr=w);var dr;xr>=gr&&(xr=gr,dr=!0);var Wr=Xt+xr;if(Ke.rangebreaks&&xr>0){for(var Br=84,Ur=0,yn=0;yn<Br;yn++){var rn=(yn+.5)/Br;Ke.maskBreaks(Xt*(1-rn)+rn*Wr)!==F&&Ur++}xr*=Ur/Br,xr||(Xe[Lt].drop=!0),dr&&gr>P&&(xr=gr)}(xr>0||Lt===0)&&(Xe[Lt].periodX=Xt+xr/2)}}Q.calcTicks=function(Ke,Ot){for(var Lt=Ke.type,Xt=Ke.calendar,rr=Ke.ticklabelstep,ur=Ke.ticklabelmode==="period",or=A.simpleMap(Ke.range,Ke.r2l,void 0,void 0,Ot),Ht=or[1]<or[0],gr=Math.min(or[0],or[1]),br=Math.max(or[0],or[1]),xr=Math.max(1e3,Ke._length||0),dr=[],Wr=[],Br=[],Ur=[],yn=Ke.minor&&(Ke.minor.ticks||Ke.minor.showgrid),rn=1;rn>=(yn?0:1);rn--){var Un=!rn;rn?(Ke._dtickInit=Ke.dtick,Ke._tick0Init=Ke.tick0):(Ke.minor._dtickInit=Ke.minor.dtick,Ke.minor._tick0Init=Ke.minor.tick0);var bn=rn?Ke:A.extendFlat({},Ke,Ke.minor);if(Un?Q.prepMinorTicks(bn,Ke,Ot):Q.prepTicks(bn,Ot),bn.tickmode==="array"){rn?(Br=[],dr=je(Ke)):(Ur=[],Wr=je(Ke));continue}if(bn.tickmode==="sync"){Br=[],dr=We(Ke);continue}var Lr=q(or),Pr=Lr[0],Yr=Lr[1],Hr=_(bn.dtick),en=Lt==="log"&&!(Hr||bn.dtick.charAt(0)==="L"),cn=Q.tickFirst(bn,Ot);if(rn){if(Ke._tmin=cn,cn<Pr!==Ht)break;(Lt==="category"||Lt==="multicategory")&&(Yr=Ht?Math.max(-.5,Yr):Math.min(Ke._categories.length-.5,Yr))}var hn=null,Pn=cn,kn;if(rn){var sa;Hr?sa=Ke.dtick:Lt==="date"?typeof Ke.dtick=="string"&&Ke.dtick.charAt(0)==="M"&&(sa=E*Ke.dtick.substring(1)):sa=Ke._roughDTick,kn=Math.round((Ke.r2l(Pn)-Ke.r2l(Ke.tick0))/sa)-1}var Xn=bn.dtick;for(bn.rangebreaks&&bn._tick0Init!==bn.tick0&&(Pn=Ut(Pn,Ke),Ht||(Pn=Q.tickIncrement(Pn,Xn,!Ht,Xt))),rn&&ur&&(Pn=Q.tickIncrement(Pn,Xn,!Ht,Xt),kn--);Ht?Pn>=Yr:Pn<=Yr;Pn=Q.tickIncrement(Pn,Xn,Ht,Xt)){if(rn&&kn++,bn.rangebreaks&&!Ht){if(Pn<Pr)continue;if(bn.maskBreaks(Pn)===F&&Ut(Pn,bn)>=br)break}if(Br.length>xr||Pn===hn)break;hn=Pn;var ea={value:Pn};rn?(en&&Pn!==(Pn|0)&&(ea.simpleLabel=!0),rr>1&&kn%rr&&(ea.skipLabel=!0),Br.push(ea)):(ea.minor=!0,Ur.push(ea))}}if(yn){var Zn=Ke.minor.ticks==="inside"&&Ke.ticks==="outside"||Ke.minor.ticks==="outside"&&Ke.ticks==="inside";if(!Zn){for(var Qn=Br.map(function(En){return En.value}),Mr=[],on=0;on<Ur.length;on++){var nn=Ur[on],mn=nn.value;if(Qn.indexOf(mn)===-1){for(var Gn=!1,Mn=0;!Gn&&Mn<Br.length;Mn++)1e7+Br[Mn].value===1e7+mn&&(Gn=!0);Gn||Mr.push(nn)}}Ur=Mr}}ur&&be(Br,Ke,Ke._definedDelta);var Ln;if(Ke.rangebreaks){var Hn=Ke._id.charAt(0)==="y",ra=1;Ke.tickmode==="auto"&&(ra=Ke.tickfont?Ke.tickfont.size:12);var ba=NaN;for(Ln=Br.length-1;Ln>-1;Ln--){if(Br[Ln].drop){Br.splice(Ln,1);continue}Br[Ln].value=Ut(Br[Ln].value,Ke);var Za=Ke.c2p(Br[Ln].value);(Hn?ba>Za-ra:ba<Za+ra)?Br.splice(Ht?Ln+1:Ln,1):ba=Za}}Vt(Ke)&&Math.abs(or[1]-or[0])===360&&Br.pop(),Ke._tmax=(Br[Br.length-1]||{}).value,Ke._prevDateHead="",Ke._inCalcTicks=!0;var Jt,Er=function(En){En.text="",Ke._prevDateHead=Jt};Br=Br.concat(Ur);var qr,sn;for(Ln=0;Ln<Br.length;Ln++){var fn=Br[Ln].minor,Cn=Br[Ln].value;fn?Wr.push({x:Cn,minor:!0}):(Jt=Ke._prevDateHead,qr=Q.tickText(Ke,Cn,!1,Br[Ln].simpleLabel),sn=Br[Ln].periodX,sn!==void 0&&(qr.periodX=sn,(sn>br||sn<gr)&&(sn>br&&(qr.periodX=br),sn<gr&&(qr.periodX=gr),Er(qr))),Br[Ln].skipLabel&&Er(qr),dr.push(qr))}return dr=dr.concat(Wr),Ke._inCalcTicks=!1,ur&&dr.length&&(dr[0].noTick=!0),dr};function Le(Xe,Ke){return Xe.rangebreaks&&(Ke=Ke.filter(function(Ot){return Xe.maskBreaks(Ot.x)!==F})),Ke}function We(Xe){var Ke=Xe._mainAxis,Ot=[];if(Ke._vals){for(var Lt=0;Lt<Ke._vals.length;Lt++)if(!Ke._vals[Lt].noTick){var Xt=Ke.l2p(Ke._vals[Lt].x),rr=Xe.p2l(Xt),ur=Q.tickText(Xe,rr);Ke._vals[Lt].minor&&(ur.minor=!0,ur.text=""),Ot.push(ur)}}return Ot=Le(Xe,Ot),Ot}function je(Xe){var Ke=A.simpleMap(Xe.range,Xe.r2l),Ot=q(Ke),Lt=Math.min(Ot[0],Ot[1]),Xt=Math.max(Ot[0],Ot[1]),rr=Xe.type==="category"?Xe.d2l_noadd:Xe.d2l;Xe.type==="log"&&String(Xe.dtick).charAt(0)!=="L"&&(Xe.dtick="L"+Math.pow(10,Math.floor(Math.min(Xe.range[0],Xe.range[1]))-1));for(var ur=[],or=0;or<=1;or++)if(!(or&&!Xe.minor)){var Ht=or?Xe.minor.tickvals:Xe.tickvals,gr=or?[]:Xe.ticktext;if(Ht){Array.isArray(gr)||(gr=[]);for(var br=0;br<Ht.length;br++){var xr=rr(Ht[br]);if(xr>Lt&&xr<Xt){var dr=gr[br]===void 0?Q.tickText(Xe,xr):St(Xe,xr,String(gr[br]));or&&(dr.minor=!0,dr.text=""),ur.push(dr)}}}}return ur=Le(Xe,ur),ur}var Fe=[2,5,10],Ze=[1,2,3,6,12],ut=[1,2,5,10,15,30],at=[1,2,3,7,14],it=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],$e=[-.301,0,.301,.699,1],st=[15,30,45,90,180];function ct(Xe,Ke,Ot){return Ke*A.roundUp(Xe/Ke,Ot)}Q.autoTicks=function(Xe,Ke,Ot){var Lt;function Xt(xr){return Math.pow(xr,Math.floor(Math.log(Ke)/Math.LN10))}if(Xe.type==="date"){Xe.tick0=A.dateTick0(Xe.calendar,0);var rr=2*Ke;if(rr>y)Ke/=y,Lt=Xt(10),Xe.dtick="M"+12*ct(Ke,Lt,Fe);else if(rr>E)Ke/=E,Xe.dtick="M"+ct(Ke,1,Ze);else if(rr>x){if(Xe.dtick=ct(Ke,x,Xe._hasDayOfWeekBreaks?[1,2,7,14]:at),!Ot){var ur=Q.getTickFormat(Xe),or=Xe.ticklabelmode==="period";or&&(Xe._rawTick0=Xe.tick0),/%[uVW]/.test(ur)?Xe.tick0=A.dateTick0(Xe.calendar,2):Xe.tick0=A.dateTick0(Xe.calendar,1),or&&(Xe._dowTick0=Xe.tick0)}}else rr>w?Xe.dtick=ct(Ke,w,Ze):rr>o?Xe.dtick=ct(Ke,o,ut):rr>L?Xe.dtick=ct(Ke,L,ut):(Lt=Xt(10),Xe.dtick=ct(Ke,Lt,Fe))}else if(Xe.type==="log"){Xe.tick0=0;var Ht=A.simpleMap(Xe.range,Xe.r2l);if(Xe._isMinor&&(Ke*=1.5),Ke>.7)Xe.dtick=Math.ceil(Ke);else if(Math.abs(Ht[1]-Ht[0])<1){var gr=1.5*Math.abs((Ht[1]-Ht[0])/Ke);Ke=Math.abs(Math.pow(10,Ht[1])-Math.pow(10,Ht[0]))/gr,Lt=Xt(10),Xe.dtick="L"+ct(Ke,Lt,Fe)}else Xe.dtick=Ke>.3?"D2":"D1"}else Xe.type==="category"||Xe.type==="multicategory"?(Xe.tick0=0,Xe.dtick=Math.ceil(Math.max(Ke,1))):Vt(Xe)?(Xe.tick0=0,Lt=1,Xe.dtick=ct(Ke,Lt,st)):(Xe.tick0=0,Lt=Xt(10),Xe.dtick=ct(Ke,Lt,Fe));if(Xe.dtick===0&&(Xe.dtick=1),!_(Xe.dtick)&&typeof Xe.dtick!="string"){var br=Xe.dtick;throw Xe.dtick=1,"ax.dtick error: "+String(br)}};function vt(Xe){var Ke=Xe.dtick;if(Xe._tickexponent=0,!_(Ke)&&typeof Ke!="string"&&(Ke=1),(Xe.type==="category"||Xe.type==="multicategory")&&(Xe._tickround=null),Xe.type==="date"){var Ot=Xe.r2l(Xe.tick0),Lt=Xe.l2r(Ot).replace(/(^-|i)/g,""),Xt=Lt.length;if(String(Ke).charAt(0)==="M")Xt>10||Lt.substr(5)!=="01-01"?Xe._tickround="d":Xe._tickround=+Ke.substr(1)%12===0?"y":"m";else if(Ke>=x&&Xt<=10||Ke>=x*15)Xe._tickround="d";else if(Ke>=o&&Xt<=16||Ke>=w)Xe._tickround="M";else if(Ke>=L&&Xt<=19||Ke>=o)Xe._tickround="S";else{var rr=Xe.l2r(Ot+Ke).replace(/^-/,"").length;Xe._tickround=Math.max(Xt,rr)-20,Xe._tickround<0&&(Xe._tickround=4)}}else if(_(Ke)||Ke.charAt(0)==="L"){var ur=Xe.range.map(Xe.r2d||Number);_(Ke)||(Ke=Number(Ke.substr(1))),Xe._tickround=2-Math.floor(Math.log(Ke)/Math.LN10+.01);var or=Math.max(Math.abs(ur[0]),Math.abs(ur[1])),Ht=Math.floor(Math.log(or)/Math.LN10+.01),gr=Xe.minexponent===void 0?3:Xe.minexponent;Math.abs(Ht)>gr&&(ye(Xe.exponentformat)&&!Se(Ht)?Xe._tickexponent=3*Math.round((Ht-1)/3):Xe._tickexponent=Ht)}else Xe._tickround=null}Q.tickIncrement=function(Xe,Ke,Ot,Lt){var Xt=Ot?-1:1;if(_(Ke))return A.increment(Xe,Xt*Ke);var rr=Ke.charAt(0),ur=Xt*Number(Ke.substr(1));if(rr==="M")return A.incrementMonth(Xe,ur,Lt);if(rr==="L")return Math.log(Math.pow(10,Xe)+ur)/Math.LN10;if(rr==="D"){var or=Ke==="D2"?$e:it,Ht=Xe+Xt*.01,gr=A.roundUp(A.mod(Ht,1),or,Ot);return Math.floor(Ht)+Math.log(g.round(Math.pow(10,gr),1))/Math.LN10}throw"unrecognized dtick "+String(Ke)},Q.tickFirst=function(Xe,Ke){var Ot=Xe.r2l||Number,Lt=A.simpleMap(Xe.range,Ot,void 0,void 0,Ke),Xt=Lt[1]<Lt[0],rr=Xt?Math.floor:Math.ceil,ur=q(Lt)[0],or=Xe.dtick,Ht=Ot(Xe.tick0);if(_(or)){var gr=rr((ur-Ht)/or)*or+Ht;return(Xe.type==="category"||Xe.type==="multicategory")&&(gr=A.constrain(gr,0,Xe._categories.length-1)),gr}var br=or.charAt(0),xr=Number(or.substr(1));if(br==="M"){for(var dr=0,Wr=Ht,Br,Ur,yn;dr<10;){if(Br=Q.tickIncrement(Wr,or,Xt,Xe.calendar),(Br-ur)*(Wr-ur)<=0)return Xt?Math.min(Wr,Br):Math.max(Wr,Br);Ur=(ur-(Wr+Br)/2)/(Br-Wr),yn=br+(Math.abs(Math.round(Ur))||1)*xr,Wr=Q.tickIncrement(Wr,yn,Ur<0?!Xt:Xt,Xe.calendar),dr++}return A.error("tickFirst did not converge",Xe),Wr}else{if(br==="L")return Math.log(rr((Math.pow(10,ur)-Ht)/xr)*xr+Ht)/Math.LN10;if(br==="D"){var rn=or==="D2"?$e:it,Un=A.roundUp(A.mod(ur,1),rn,Xt);return Math.floor(ur)+Math.log(g.round(Math.pow(10,Un),1))/Math.LN10}else throw"unrecognized dtick "+String(or)}},Q.tickText=function(Xe,Ke,Ot,Lt){var Xt=St(Xe,Ke),rr=Xe.tickmode==="array",ur=Ot||rr,or=Xe.type,Ht=or==="category"?Xe.d2l_noadd:Xe.d2l,gr;if(rr&&Array.isArray(Xe.ticktext)){var br=A.simpleMap(Xe.range,Xe.r2l),xr=(Math.abs(br[1]-br[0])-(Xe._lBreaks||0))/1e4;for(gr=0;gr<Xe.ticktext.length&&!(Math.abs(Ke-Ht(Xe.tickvals[gr]))<xr);gr++);if(gr<Xe.ticktext.length)return Xt.text=String(Xe.ticktext[gr]),Xt}function dr(yn){if(yn===void 0)return!0;if(Ot)return yn==="none";var rn={first:Xe._tmin,last:Xe._tmax}[yn];return yn!=="all"&&Ke!==rn}var Wr=Ot?"never":Xe.exponentformat!=="none"&&dr(Xe.showexponent)?"hide":"";if(or==="date"?Mt(Xe,Xt,Ot,ur):or==="log"?Bt(Xe,Xt,Ot,ur,Wr):or==="category"?Qe(Xe,Xt):or==="multicategory"?ke(Xe,Xt,Ot):Vt(Xe)?Be(Xe,Xt,Ot,ur,Wr):ze(Xe,Xt,Ot,ur,Wr),Lt||(Xe.tickprefix&&!dr(Xe.showtickprefix)&&(Xt.text=Xe.tickprefix+Xt.text),Xe.ticksuffix&&!dr(Xe.showticksuffix)&&(Xt.text+=Xe.ticksuffix)),Xe.labelalias&&Xe.labelalias.hasOwnProperty(Xt.text)){var Br=Xe.labelalias[Xt.text];typeof Br=="string"&&(Xt.text=Br)}if(Xe.tickson==="boundaries"||Xe.showdividers){var Ur=function(yn){var rn=Xe.l2p(yn);return rn>=0&&rn<=Xe._length?yn:null};Xt.xbnd=[Ur(Xt.x-.5),Ur(Xt.x+Xe.dtick-.5)]}return Xt},Q.hoverLabelText=function(Xe,Ke,Ot){Ot&&(Xe=A.extendFlat({},Xe,{hoverformat:Ot}));var Lt=Array.isArray(Ke)?Ke[0]:Ke,Xt=Array.isArray(Ke)?Ke[1]:void 0;if(Xt!==void 0&&Xt!==Lt)return Q.hoverLabelText(Xe,Lt,Ot)+" - "+Q.hoverLabelText(Xe,Xt,Ot);var rr=Xe.type==="log"&&Lt<=0,ur=Q.tickText(Xe,Xe.c2l(rr?-Lt:Lt),"hover").text;return rr?Lt===0?"0":m+ur:ur};function St(Xe,Ke,Ot){var Lt=Xe.tickfont||{};return{x:Ke,dx:0,dy:0,text:Ot||"",fontSize:Lt.size,font:Lt.family,fontColor:Lt.color}}function Mt(Xe,Ke,Ot,Lt){var Xt=Xe._tickround,rr=Ot&&Xe.hoverformat||Q.getTickFormat(Xe);Lt=!rr&&Lt,Lt&&(_(Xt)?Xt=4:Xt={y:"m",m:"d",d:"M",M:"S",S:4}[Xt]);var ur=A.formatDate(Ke.x,rr,Xt,Xe._dateFormat,Xe.calendar,Xe._extraFormat),or,Ht=ur.indexOf(`
`);if(Ht!==-1&&(or=ur.substr(Ht+1),ur=ur.substr(0,Ht)),Lt&&(or!==void 0&&(ur==="00:00:00"||ur==="00:00")?(ur=or,or=""):ur.length===8&&(ur=ur.replace(/:00$/,""))),or)if(Ot)Xt==="d"?ur+=", "+or:ur=or+(ur?", "+ur:"");else if(!Xe._inCalcTicks||Xe._prevDateHead!==or)Xe._prevDateHead=or,ur+="<br>"+or;else{var gr=Qt(Xe),br=Xe._trueSide||Xe.side;(!gr&&br==="top"||gr&&br==="bottom")&&(ur+="<br> ")}Ke.text=ur}function Bt(Xe,Ke,Ot,Lt,Xt){var rr=Xe.dtick,ur=Ke.x,or=Xe.tickformat,Ht=typeof rr=="string"&&rr.charAt(0);if(Xt==="never"&&(Xt=""),Lt&&Ht!=="L"&&(rr="L3",Ht="L"),or||Ht==="L")Ke.text=Me(Math.pow(10,ur),Xe,Xt,Lt);else if(_(rr)||Ht==="D"&&A.mod(ur+.01,1)<.1){var gr=Math.round(ur),br=Math.abs(gr),xr=Xe.exponentformat;xr==="power"||ye(xr)&&Se(gr)?(gr===0?Ke.text=1:gr===1?Ke.text="10":Ke.text="10<sup>"+(gr>1?"":m)+br+"</sup>",Ke.fontSize*=1.25):(xr==="e"||xr==="E")&&br>2?Ke.text="1"+xr+(gr>0?"+":m)+br:(Ke.text=Me(Math.pow(10,ur),Xe,"","fakehover"),rr==="D1"&&Xe._id.charAt(0)==="y"&&(Ke.dy-=Ke.fontSize/6))}else if(Ht==="D")Ke.text=String(Math.round(Math.pow(10,A.mod(ur,1)))),Ke.fontSize*=.75;else throw"unrecognized dtick "+String(rr);if(Xe.dtick==="D1"){var dr=String(Ke.text).charAt(0);(dr==="0"||dr==="1")&&(Xe._id.charAt(0)==="y"?Ke.dx-=Ke.fontSize/4:(Ke.dy+=Ke.fontSize/2,Ke.dx+=(Xe.range[1]>Xe.range[0]?1:-1)*Ke.fontSize*(ur<0?.5:.25)))}}function Qe(Xe,Ke){var Ot=Xe._categories[Math.round(Ke.x)];Ot===void 0&&(Ot=""),Ke.text=String(Ot)}function ke(Xe,Ke,Ot){var Lt=Math.round(Ke.x),Xt=Xe._categories[Lt]||[],rr=Xt[1]===void 0?"":String(Xt[1]),ur=Xt[0]===void 0?"":String(Xt[0]);Ot?Ke.text=ur+" - "+rr:(Ke.text=rr,Ke.text2=ur)}function ze(Xe,Ke,Ot,Lt,Xt){Xt==="never"?Xt="":Xe.showexponent==="all"&&Math.abs(Ke.x/Xe.dtick)<1e-6&&(Xt="hide"),Ke.text=Me(Ke.x,Xe,Xt,Lt)}function Be(Xe,Ke,Ot,Lt,Xt){if(Xe.thetaunit==="radians"&&!Ot){var rr=Ke.x/180;if(rr===0)Ke.text="0";else{var ur=Re(rr);if(ur[1]>=100)Ke.text=Me(A.deg2rad(Ke.x),Xe,Xt,Lt);else{var or=Ke.x<0;ur[1]===1?ur[0]===1?Ke.text="":Ke.text=ur[0]+"":Ke.text=["<sup>",ur[0],"</sup>","","<sub>",ur[1],"</sub>",""].join(""),or&&(Ke.text=m+Ke.text)}}}else Ke.text=Me(Ke.x,Xe,Xt,Lt)}function Re(Xe){function Ke(or,Ht){return Math.abs(or-Ht)<=1e-6}function Ot(or,Ht){return Ke(Ht,0)?or:Ot(Ht,or%Ht)}function Lt(or){for(var Ht=1;!Ke(Math.round(or*Ht)/Ht,or);)Ht*=10;return Ht}var Xt=Lt(Xe),rr=Xe*Xt,ur=Math.abs(Ot(rr,Xt));return[Math.round(rr/ur),Math.round(Xt/ur)]}var we=["f","p","n","","m","","k","M","G","T"];function ye(Xe){return Xe==="SI"||Xe==="B"}function Se(Xe){return Xe>14||Xe<-15}function Me(Xe,Ke,Ot,Lt){var Xt=Xe<0,rr=Ke._tickround,ur=Ot||Ke.exponentformat||"B",or=Ke._tickexponent,Ht=Q.getTickFormat(Ke),gr=Ke.separatethousands;if(Lt){var br={exponentformat:ur,minexponent:Ke.minexponent,dtick:Ke.showexponent==="none"?Ke.dtick:_(Xe)&&Math.abs(Xe)||1,range:Ke.showexponent==="none"?Ke.range.map(Ke.r2d):[0,Xe||1]};vt(br),rr=(Number(br._tickround)||0)+4,or=br._tickexponent,Ke.hoverformat&&(Ht=Ke.hoverformat)}if(Ht)return Ke._numFormat(Ht)(Xe).replace(/-/g,m);var xr=Math.pow(10,-rr)/2;if(ur==="none"&&(or=0),Xe=Math.abs(Xe),Xe<xr)Xe="0",Xt=!1;else{if(Xe+=xr,or&&(Xe*=Math.pow(10,-or),rr+=or),rr===0)Xe=String(Math.floor(Xe));else if(rr<0){Xe=String(Math.round(Xe)),Xe=Xe.substr(0,Xe.length+rr);for(var dr=rr;dr<0;dr++)Xe+="0"}else{Xe=String(Xe);var Wr=Xe.indexOf(".")+1;Wr&&(Xe=Xe.substr(0,Wr+rr).replace(/\.?0+$/,""))}Xe=A.numSeparate(Xe,Ke._separators,gr)}if(or&&ur!=="hide"){ye(ur)&&Se(or)&&(ur="power");var Br;or<0?Br=m+-or:ur!=="power"?Br="+"+or:Br=String(or),ur==="e"||ur==="E"?Xe+=ur+Br:ur==="power"?Xe+="10<sup>"+Br+"</sup>":ur==="B"&&or===9?Xe+="B":ye(ur)&&(Xe+=we[or/3+5])}return Xt?m+Xe:Xe}Q.getTickFormat=function(Xe){var Ke;function Ot(Ht){return typeof Ht!="string"?Ht:Number(Ht.replace("M",""))*E}function Lt(Ht,gr){var br=["L","D"];if(typeof Ht==typeof gr){if(typeof Ht=="number")return Ht-gr;var xr=br.indexOf(Ht.charAt(0)),dr=br.indexOf(gr.charAt(0));return xr===dr?Number(Ht.replace(/(L|D)/g,""))-Number(gr.replace(/(L|D)/g,"")):xr-dr}else return typeof Ht=="number"?1:-1}function Xt(Ht,gr,br){var xr=br||function(Br){return Br},dr=gr[0],Wr=gr[1];return(!dr&&typeof dr!="number"||xr(dr)<=xr(Ht))&&(!Wr&&typeof Wr!="number"||xr(Wr)>=xr(Ht))}function rr(Ht,gr){var br=gr[0]===null,xr=gr[1]===null,dr=Lt(Ht,gr[0])>=0,Wr=Lt(Ht,gr[1])<=0;return(br||dr)&&(xr||Wr)}var ur,or;if(Xe.tickformatstops&&Xe.tickformatstops.length>0)switch(Xe.type){case"date":case"linear":{for(Ke=0;Ke<Xe.tickformatstops.length;Ke++)if(or=Xe.tickformatstops[Ke],or.enabled&&Xt(Xe.dtick,or.dtickrange,Ot)){ur=or;break}break}case"log":{for(Ke=0;Ke<Xe.tickformatstops.length;Ke++)if(or=Xe.tickformatstops[Ke],or.enabled&&rr(Xe.dtick,or.dtickrange)){ur=or;break}break}}return ur?ur.value:Xe.tickformat},Q.getSubplots=function(Xe,Ke){var Ot=Xe._fullLayout._subplots,Lt=Ot.cartesian.concat(Ot.gl2d||[]),Xt=Ke?Q.findSubplotsWithAxis(Lt,Ke):Lt;return Xt.sort(function(rr,ur){var or=rr.substr(1).split("y"),Ht=ur.substr(1).split("y");return or[0]===Ht[0]?+or[1]-+Ht[1]:+or[0]-+Ht[0]}),Xt},Q.findSubplotsWithAxis=function(Xe,Ke){for(var Ot=new RegExp(Ke._id.charAt(0)==="x"?"^"+Ke._id+"y":Ke._id+"$"),Lt=[],Xt=0;Xt<Xe.length;Xt++){var rr=Xe[Xt];Ot.test(rr)&&Lt.push(rr)}return Lt},Q.makeClipPaths=function(Xe){var Ke=Xe._fullLayout;if(!Ke._hasOnlyLargeSploms){var Ot={_offset:0,_length:Ke.width,_id:""},Lt={_offset:0,_length:Ke.height,_id:""},Xt=Q.list(Xe,"x",!0),rr=Q.list(Xe,"y",!0),ur=[],or,Ht;for(or=0;or<Xt.length;or++)for(ur.push({x:Xt[or],y:Lt}),Ht=0;Ht<rr.length;Ht++)or===0&&ur.push({x:Ot,y:rr[Ht]}),ur.push({x:Xt[or],y:rr[Ht]});var gr=Ke._clips.selectAll(".axesclip").data(ur,function(br){return br.x._id+br.y._id});gr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(br){return"clip"+Ke._uid+br.x._id+br.y._id}).append("rect"),gr.exit().remove(),gr.each(function(br){g.select(this).select("rect").attr({x:br.x._offset||0,y:br.y._offset||0,width:br.x._length||1,height:br.y._length||1})})}},Q.draw=function(Xe,Ke,Ot){var Lt=Xe._fullLayout;Ke==="redraw"&&Lt._paper.selectAll("g.subplot").each(function(Ht){var gr=Ht[0],br=Lt._plots[gr];if(br){var xr=br.xaxis,dr=br.yaxis;br.xaxislayer.selectAll("."+xr._id+"tick").remove(),br.yaxislayer.selectAll("."+dr._id+"tick").remove(),br.xaxislayer.selectAll("."+xr._id+"tick2").remove(),br.yaxislayer.selectAll("."+dr._id+"tick2").remove(),br.xaxislayer.selectAll("."+xr._id+"divider").remove(),br.yaxislayer.selectAll("."+dr._id+"divider").remove(),br.minorGridlayer&&br.minorGridlayer.selectAll("path").remove(),br.gridlayer&&br.gridlayer.selectAll("path").remove(),br.zerolinelayer&&br.zerolinelayer.selectAll("path").remove(),Lt._infolayer.select(".g-"+xr._id+"title").remove(),Lt._infolayer.select(".g-"+dr._id+"title").remove()}});var Xt=!Ke||Ke==="redraw"?Q.listIds(Xe):Ke,rr=Q.list(Xe),ur=rr.filter(function(Ht){return Ht.autoshift}).map(function(Ht){return Ht.overlaying});Xt.map(function(Ht){var gr=Q.getFromId(Xe,Ht);if(gr.tickmode==="sync"&&gr.overlaying){var br=Xt.findIndex(function(xr){return xr===gr.overlaying});br>=0&&Xt.unshift(Xt.splice(br,1).shift())}});var or={false:{left:0,right:0}};return A.syncOrAsync(Xt.map(function(Ht){return function(){if(Ht){var gr=Q.getFromId(Xe,Ht);Ot||(Ot={}),Ot.axShifts=or,Ot.overlayingShiftedAx=ur;var br=Q.drawOne(Xe,gr,Ot);return gr._shiftPusher&&cr(gr,gr._fullDepth||0,or,!0),gr._r=gr.range.slice(),gr._rl=A.simpleMap(gr._r,gr.r2l),br}}}))},Q.drawOne=function(Xe,Ke,Ot){Ot=Ot||{};var Lt=Ot.axShifts||{},Xt=Ot.overlayingShiftedAx||[],rr,ur,or;Ke.setScale();var Ht=Xe._fullLayout,gr=Ke._id,br=gr.charAt(0),xr=Q.counterLetter(gr),dr=Ht._plots[Ke._mainSubplot];if(!dr)return;if(Ke._shiftPusher=Ke.autoshift||Xt.indexOf(Ke._id)!==-1||Xt.indexOf(Ke.overlaying)!==-1,Ke._shiftPusher&Ke.anchor==="free"){var Wr=Ke.linewidth/2||0;Ke.ticks==="inside"&&(Wr+=Ke.ticklen),cr(Ke,Wr,Lt,!0),cr(Ke,Ke.shift||0,Lt,!1)}(Ot.skipTitle!==!0||Ke._shift===void 0)&&(Ke._shift=lr(Ke,Lt));var Br=dr[br+"axislayer"],Ur=Ke._mainLinePosition,yn=Ur+=Ke._shift,rn=Ke._mainMirrorPosition,Un=Ke._vals=Q.calcTicks(Ke),bn=[Ke.mirror,yn,rn].join("_");for(rr=0;rr<Un.length;rr++)Un[rr].axInfo=bn;Ke._selections={},Ke._tickAngles&&(Ke._prevTickAngles=Ke._tickAngles),Ke._tickAngles={},Ke._depth=null;var Lr={};function Pr(Nr){var vn=gr+(Nr||"tick");return Lr[vn]||(Lr[vn]=At(Ke,vn)),Lr[vn]}if(Ke.visible){var Yr=Q.makeTransTickFn(Ke),Hr=Q.makeTransTickLabelFn(Ke),en,cn,hn=Ke.ticks==="inside",Pn=Ke.ticks==="outside";if(Ke.tickson==="boundaries"){var kn=qe(Ke,Un);cn=Q.clipEnds(Ke,kn),en=hn?cn:kn}else cn=Q.clipEnds(Ke,Un),en=hn&&Ke.ticklabelmode!=="period"?cn:Un;var sa=Ke._gridVals=cn,Xn=pt(Ke,Un);if(!Ht._hasOnlyLargeSploms){var ea=Ke._subplotsWith,Zn={};for(rr=0;rr<ea.length;rr++){ur=ea[rr],or=Ht._plots[ur];var Qn=or[xr+"axis"],Mr=Qn._mainAxis._id;if(!Zn[Mr]){Zn[Mr]=1;var on=br==="x"?"M0,"+Qn._offset+"v"+Qn._length:"M"+Qn._offset+",0h"+Qn._length;Q.drawGrid(Xe,Ke,{vals:sa,counterAxis:Qn,layer:or.gridlayer.select("."+gr),minorLayer:or.minorGridlayer.select("."+gr),path:on,transFn:Yr}),Q.drawZeroLine(Xe,Ke,{counterAxis:Qn,layer:or.zerolinelayer,path:on,transFn:Yr})}}}var nn,mn=Q.getTickSigns(Ke),Gn=Q.getTickSigns(Ke,"minor");if(Ke.ticks||Ke.minor&&Ke.minor.ticks){var Mn=Q.makeTickPath(Ke,yn,mn[2]),Ln=Q.makeTickPath(Ke,yn,Gn[2],{minor:!0}),Hn,ra,ba,Za;if(Ke._anchorAxis&&Ke.mirror&&Ke.mirror!==!0?(Hn=Q.makeTickPath(Ke,rn,mn[3]),ra=Q.makeTickPath(Ke,rn,Gn[3],{minor:!0}),ba=Mn+Hn,Za=Ln+ra):(Hn="",ra="",ba=Mn,Za=Ln),Ke.showdividers&&Pn&&Ke.tickson==="boundaries"){var Jt={};for(rr=0;rr<Xn.length;rr++)Jt[Xn[rr].x]=1;nn=function(Nr){return Jt[Nr.x]?Hn:ba}}else nn=function(Nr){return Nr.minor?Za:ba}}if(Q.drawTicks(Xe,Ke,{vals:en,layer:Br,path:nn,transFn:Yr}),Ke.mirror==="allticks"){var Er=Object.keys(Ke._linepositions||{});for(rr=0;rr<Er.length;rr++){ur=Er[rr],or=Ht._plots[ur];var qr=Ke._linepositions[ur]||[],sn=qr[0],fn=qr[1],Cn=qr[2],En=Q.makeTickPath(Ke,sn,Cn?mn[0]:Gn[0],{minor:Cn})+Q.makeTickPath(Ke,fn,Cn?mn[1]:Gn[1],{minor:Cn});Q.drawTicks(Xe,Ke,{vals:en,layer:or[br+"axislayer"],path:En,transFn:Yr})}}var pn=[];if(pn.push(function(){return Q.drawLabels(Xe,Ke,{vals:Un,layer:Br,plotinfo:or,transFn:Hr,labelFns:Q.makeLabelFns(Ke,yn)})}),Ke.type==="multicategory"){var zr={x:2,y:10}[br];pn.push(function(){var Nr={x:"height",y:"width"}[br],vn=Pr()[Nr]+zr+(Ke._tickAngles[gr+"tick"]?Ke.tickfont.size*re:0);return Q.drawLabels(Xe,Ke,{vals:rt(Ke,Un),layer:Br,cls:gr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Yr,labelFns:Q.makeLabelFns(Ke,yn+vn*mn[4])})}),pn.push(function(){return Ke._depth=mn[4]*(Pr("tick2")[Ke.side]-yn),Nt(Xe,Ke,{vals:Xn,layer:Br,path:Q.makeTickPath(Ke,yn,mn[4],{len:Ke._depth}),transFn:Yr})})}else Ke.title.hasOwnProperty("standoff")&&pn.push(function(){Ke._depth=mn[4]*(Pr()[Ke.side]-yn)});var _r=C.getComponentMethod("rangeslider","isVisible")(Ke);return!Ot.skipTitle&&!(_r&&Ke.side==="bottom")&&pn.push(function(){return wr(Xe,Ke)}),pn.push(function(){var Nr=Ke.side.charAt(0),vn=ie[Ke.side].charAt(0),Fn=Q.getPxPosition(Xe,Ke),Kn=Pn?Ke.ticklen:0,xn,Vn,aa,va;(Ke.automargin||_r||Ke._shiftPusher)&&(Ke.type==="multicategory"?xn=Pr("tick2"):(xn=Pr(),br==="x"&&Nr==="b"&&(Ke._depth=Math.max(xn.width>0?xn.bottom-Fn:0,Kn))));var ha=0,la=0;if(Ke._shiftPusher&&(ha=Math.max(Kn,xn.height>0?Nr==="l"?Fn-xn.left:xn.right-Fn:0),Ke.title.text!==Ht._dfltTitle[br]&&(la=(Ke._titleStandoff||0)+(Ke._titleScoot||0),Nr==="l"&&(la+=Kt(Ke))),Ke._fullDepth=Math.max(ha,la)),Ke.automargin){Vn={x:0,y:0,r:0,l:0,t:0,b:0};var ma=[0,1],_i=typeof Ke._shift=="number"?Ke._shift:0;if(br==="x"){if(Nr==="b"?Vn[Nr]=Ke._depth:(Vn[Nr]=Ke._depth=Math.max(xn.width>0?Fn-xn.top:0,Kn),ma.reverse()),xn.width>0){var Ji=xn.right-(Ke._offset+Ke._length);Ji>0&&(Vn.xr=1,Vn.r=Ji);var po=Ke._offset-xn.left;po>0&&(Vn.xl=0,Vn.l=po)}}else if(Nr==="l"?(Ke._depth=Math.max(xn.height>0?Fn-xn.left:0,Kn),Vn[Nr]=Ke._depth-_i):(Ke._depth=Math.max(xn.height>0?xn.right-Fn:0,Kn),Vn[Nr]=Ke._depth+_i,ma.reverse()),xn.height>0){var Ro=xn.bottom-(Ke._offset+Ke._length);Ro>0&&(Vn.yb=0,Vn.b=Ro);var Qi=Ke._offset-xn.top;Qi>0&&(Vn.yt=1,Vn.t=Qi)}Vn[xr]=Ke.anchor==="free"?Ke.position:Ke._anchorAxis.domain[ma[0]],Ke.title.text!==Ht._dfltTitle[br]&&(Vn[Nr]+=Kt(Ke)+(Ke.title.standoff||0)),Ke.mirror&&Ke.anchor!=="free"&&(aa={x:0,y:0,r:0,l:0,t:0,b:0},aa[vn]=Ke.linewidth,Ke.mirror&&Ke.mirror!==!0&&(aa[vn]+=Kn),Ke.mirror===!0||Ke.mirror==="ticks"?aa[xr]=Ke._anchorAxis.domain[ma[1]]:(Ke.mirror==="all"||Ke.mirror==="allticks")&&(aa[xr]=[Ke._counterDomainMin,Ke._counterDomainMax][ma[1]]))}_r&&(va=C.getComponentMethod("rangeslider","autoMarginOpts")(Xe,Ke)),typeof Ke.automargin=="string"&&(He(Vn,Ke.automargin),He(aa,Ke.automargin)),a.autoMargin(Xe,vr(Ke),Vn),a.autoMargin(Xe,bt(Ke),aa),a.autoMargin(Xe,ht(Ke),va)}),A.syncOrAsync(pn)}};function He(Xe,Ke){if(Xe){var Ot=Object.keys(O).reduce(function(Lt,Xt){return Ke.indexOf(Xt)!==-1&&O[Xt].forEach(function(rr){Lt[rr]=1}),Lt},{});Object.keys(Xe).forEach(function(Lt){Ot[Lt]||(Lt.length===1?Xe[Lt]=0:delete Xe[Lt])})}}function qe(Xe,Ke){var Ot=[],Lt,Xt=function(rr,ur){var or=rr.xbnd[ur];or!==null&&Ot.push(A.extendFlat({},rr,{x:or}))};if(Ke.length){for(Lt=0;Lt<Ke.length;Lt++)Xt(Ke[Lt],0);Xt(Ke[Lt-1],1)}return Ot}function rt(Xe,Ke){for(var Ot=[],Lt={},Xt=0;Xt<Ke.length;Xt++){var rr=Ke[Xt];Lt[rr.text2]?Lt[rr.text2].push(rr.x):Lt[rr.text2]=[rr.x]}for(var ur in Lt)Ot.push(St(Xe,A.interp(Lt[ur],.5),ur));return Ot}function pt(Xe,Ke){var Ot=[],Lt,Xt,rr=Ke.length&&Ke[Ke.length-1].x<Ke[0].x,ur=function(Ht,gr){var br=Ht.xbnd[gr];br!==null&&Ot.push(A.extendFlat({},Ht,{x:br}))};if(Xe.showdividers&&Ke.length){for(Lt=0;Lt<Ke.length;Lt++){var or=Ke[Lt];or.text2!==Xt&&ur(or,rr?1:0),Xt=or.text2}ur(Ke[Lt-1],rr?0:1)}return Ot}function At(Xe,Ke){var Ot,Lt,Xt,rr;return Xe._selections[Ke].size()?(Ot=1/0,Lt=-1/0,Xt=1/0,rr=-1/0,Xe._selections[Ke].each(function(){var ur=mr(this),or=s.bBox(ur.node().parentNode);Ot=Math.min(Ot,or.top),Lt=Math.max(Lt,or.bottom),Xt=Math.min(Xt,or.left),rr=Math.max(rr,or.right)})):(Ot=0,Lt=0,Xt=0,rr=0),{top:Ot,bottom:Lt,left:Xt,right:rr,height:Lt-Ot,width:rr-Xt}}Q.getTickSigns=function(Xe,Ke){var Ot=Xe._id.charAt(0),Lt={x:"top",y:"right"}[Ot],Xt=Xe.side===Lt?1:-1,rr=[-1,1,Xt,-Xt],ur=Ke?(Xe.minor||{}).ticks:Xe.ticks;return ur!=="inside"==(Ot==="x")&&(rr=rr.map(function(or){return-or})),Xe.side&&rr.push({l:-1,t:-1,r:1,b:1}[Xe.side.charAt(0)]),rr},Q.makeTransTickFn=function(Xe){return Xe._id.charAt(0)==="x"?function(Ke){return v(Xe._offset+Xe.l2p(Ke.x),0)}:function(Ke){return v(0,Xe._offset+Xe.l2p(Ke.x))}},Q.makeTransTickLabelFn=function(Xe){var Ke=tr(Xe),Ot=Ke[0],Lt=Ke[1];return Xe._id.charAt(0)==="x"?function(Xt){return v(Ot+Xe._offset+Xe.l2p(jt(Xt)),Lt)}:function(Xt){return v(Lt,Ot+Xe._offset+Xe.l2p(jt(Xt)))}};function jt(Xe){return Xe.periodX!==void 0?Xe.periodX:Xe.x}function tr(Xe){var Ke=Xe.ticklabelposition||"",Ot=function(Wr){return Ke.indexOf(Wr)!==-1},Lt=Ot("top"),Xt=Ot("left"),rr=Ot("right"),ur=Ot("bottom"),or=Ot("inside"),Ht=ur||Xt||Lt||rr;if(!Ht&&!or)return[0,0];var gr=Xe.side,br=Ht?(Xe.tickwidth||0)/2:0,xr=ce,dr=Xe.tickfont?Xe.tickfont.size:12;return(ur||Lt)&&(br+=dr*J,xr+=(Xe.linewidth||0)/2),(Xt||rr)&&(br+=(Xe.linewidth||0)/2,xr+=ce),or&&gr==="top"&&(xr-=dr*(1-J)),(Xt||Lt)&&(br=-br),(gr==="bottom"||gr==="right")&&(xr=-xr),[Ht?br:0,or?xr:0]}Q.makeTickPath=function(Xe,Ke,Ot,Lt){Lt||(Lt={});var Xt=Lt.minor;if(Xt&&!Xe.minor)return"";var rr=Lt.len!==void 0?Lt.len:Xt?Xe.minor.ticklen:Xe.ticklen,ur=Xe._id.charAt(0),or=(Xe.linewidth||1)/2;return ur==="x"?"M0,"+(Ke+or*Ot)+"v"+rr*Ot:"M"+(Ke+or*Ot)+",0h"+rr*Ot},Q.makeLabelFns=function(Xe,Ke,Ot){var Lt=Xe.ticklabelposition||"",Xt=function(kn){return Lt.indexOf(kn)!==-1},rr=Xt("top"),ur=Xt("left"),or=Xt("right"),Ht=Xt("bottom"),gr=Ht||ur||rr||or,br=Xt("inside"),xr=Lt==="inside"&&Xe.ticks==="inside"||!br&&Xe.ticks==="outside"&&Xe.tickson!=="boundaries",dr=0,Wr=0,Br=xr?Xe.ticklen:0;if(br?Br*=-1:gr&&(Br=0),xr&&(dr+=Br,Ot)){var Ur=A.deg2rad(Ot);dr=Br*Math.cos(Ur)+1,Wr=Br*Math.sin(Ur)}Xe.showticklabels&&(xr||Xe.showline)&&(dr+=.2*Xe.tickfont.size),dr+=(Xe.linewidth||1)/2*(br?-1:1);var yn={labelStandoff:dr,labelShift:Wr},rn,Un,bn,Lr,Pr=0,Yr=Xe.side,Hr=Xe._id.charAt(0),en=Xe.tickangle,cn;if(Hr==="x")cn=!br&&Yr==="bottom"||br&&Yr==="top",Lr=cn?1:-1,br&&(Lr*=-1),rn=Wr*Lr,Un=Ke+dr*Lr,bn=cn?1:-.2,Math.abs(en)===90&&(br?bn+=Y:en===-90&&Yr==="bottom"?bn=J:en===90&&Yr==="top"?bn=Y:bn=.5,Pr=Y/2*(en/90)),yn.xFn=function(kn){return kn.dx+rn+Pr*kn.fontSize},yn.yFn=function(kn){return kn.dy+Un+kn.fontSize*bn},yn.anchorFn=function(kn,sa){if(gr){if(ur)return"end";if(or)return"start"}return!_(sa)||sa===0||sa===180?"middle":sa*Lr<0!==br?"end":"start"},yn.heightFn=function(kn,sa,Xn){return sa<-60||sa>60?-.5*Xn:Xe.side==="top"!==br?-Xn:0};else if(Hr==="y"){if(cn=!br&&Yr==="left"||br&&Yr==="right",Lr=cn?1:-1,br&&(Lr*=-1),rn=dr,Un=Wr*Lr,bn=0,!br&&Math.abs(en)===90&&(en===-90&&Yr==="left"||en===90&&Yr==="right"?bn=J:bn=.5),br){var hn=_(en)?+en:0;if(hn!==0){var Pn=A.deg2rad(hn);Pr=Math.abs(Math.sin(Pn))*J*Lr,bn=0}}yn.xFn=function(kn){return kn.dx+Ke-(rn+kn.fontSize*bn)*Lr+Pr*kn.fontSize},yn.yFn=function(kn){return kn.dy+Un+kn.fontSize*Y},yn.anchorFn=function(kn,sa){return _(sa)&&Math.abs(sa)===90?"middle":cn?"end":"start"},yn.heightFn=function(kn,sa,Xn){return Xe.side==="right"&&(sa*=-1),sa<-30?-Xn:sa<30?-.5*Xn:0}}return yn};function Ct(Xe){return[Xe.text,Xe.x,Xe.axInfo,Xe.font,Xe.fontSize,Xe.fontColor].join("_")}Q.drawTicks=function(Xe,Ke,Ot){Ot=Ot||{};var Lt=Ke._id+"tick",Xt=[].concat(Ke.minor&&Ke.minor.ticks?Ot.vals.filter(function(ur){return ur.minor&&!ur.noTick}):[]).concat(Ke.ticks?Ot.vals.filter(function(ur){return!ur.minor&&!ur.noTick}):[]),rr=Ot.layer.selectAll("path."+Lt).data(Xt,Ct);rr.exit().remove(),rr.enter().append("path").classed(Lt,1).classed("ticks",1).classed("crisp",Ot.crisp!==!1).each(function(ur){return r.stroke(g.select(this),ur.minor?Ke.minor.tickcolor:Ke.tickcolor)}).style("stroke-width",function(ur){return s.crispRound(Xe,ur.minor?Ke.minor.tickwidth:Ke.tickwidth,1)+"px"}).attr("d",Ot.path).style("display",null),hr(Ke,[N]),rr.attr("transform",Ot.transFn)},Q.drawGrid=function(Xe,Ke,Ot){if(Ot=Ot||{},Ke.tickmode!=="sync"){var Lt=Ke._id+"grid",Xt=Ke.minor&&Ke.minor.showgrid,rr=Xt?Ot.vals.filter(function(rn){return rn.minor}):[],ur=Ke.showgrid?Ot.vals.filter(function(rn){return!rn.minor}):[],or=Ot.counterAxis;if(or&&Q.shouldShowZeroLine(Xe,Ke,or))for(var Ht=Ke.tickmode==="array",gr=0;gr<ur.length;gr++){var br=ur[gr].x;if(Ht?!br:Math.abs(br)<Ke.dtick/100)if(ur=ur.slice(0,gr).concat(ur.slice(gr+1)),Ht)gr--;else break}Ke._gw=s.crispRound(Xe,Ke.gridwidth,1);for(var xr=Xt?s.crispRound(Xe,Ke.minor.gridwidth,1):0,dr=Ot.layer,Wr=Ot.minorLayer,Br=1;Br>=0;Br--){var Ur=Br?dr:Wr;if(Ur){var yn=Ur.selectAll("path."+Lt).data(Br?ur:rr,Ct);yn.exit().remove(),yn.enter().append("path").classed(Lt,1).classed("crisp",Ot.crisp!==!1),yn.attr("transform",Ot.transFn).attr("d",Ot.path).each(function(rn){return r.stroke(g.select(this),rn.minor?Ke.minor.gridcolor:Ke.gridcolor||"#ddd")}).style("stroke-dasharray",function(rn){return s.dashStyle(rn.minor?Ke.minor.griddash:Ke.griddash,rn.minor?Ke.minor.gridwidth:Ke.gridwidth)}).style("stroke-width",function(rn){return(rn.minor?xr:Ke._gw)+"px"}).style("display",null),typeof Ot.path=="function"&&yn.attr("d",Ot.path)}}hr(Ke,[U,z])}},Q.drawZeroLine=function(Xe,Ke,Ot){Ot=Ot||Ot;var Lt=Ke._id+"zl",Xt=Q.shouldShowZeroLine(Xe,Ke,Ot.counterAxis),rr=Ot.layer.selectAll("path."+Lt).data(Xt?[{x:0,id:Ke._id}]:[]);rr.exit().remove(),rr.enter().append("path").classed(Lt,1).classed("zl",1).classed("crisp",Ot.crisp!==!1).each(function(){Ot.layer.selectAll("path").sort(function(ur,or){return $(ur.id,or.id)})}),rr.attr("transform",Ot.transFn).attr("d",Ot.path).call(r.stroke,Ke.zerolinecolor||r.defaultLine).style("stroke-width",s.crispRound(Xe,Ke.zerolinewidth,Ke._gw||1)+"px").style("display",null),hr(Ke,[I])},Q.drawLabels=function(Xe,Ke,Ot){Ot=Ot||{};var Lt=Xe._fullLayout,Xt=Ke._id,rr=Xt.charAt(0),ur=Ot.cls||Xt+"tick",or=Ot.vals.filter(function(Xn){return Xn.text}),Ht=Ot.labelFns,gr=Ot.secondary?0:Ke.tickangle,br=(Ke._prevTickAngles||{})[ur],xr=Ot.layer.selectAll("g."+ur).data(Ke.showticklabels?or:[],Ct),dr=[];xr.enter().append("g").classed(ur,1).append("text").attr("text-anchor","middle").each(function(Xn){var ea=g.select(this),Zn=Xe._promises.length;ea.call(p.positionText,Ht.xFn(Xn),Ht.yFn(Xn)).call(s.font,Xn.font,Xn.fontSize,Xn.fontColor).text(Xn.text).call(p.convertToTspans,Xe),Xe._promises[Zn]?dr.push(Xe._promises.pop().then(function(){Wr(ea,gr)})):Wr(ea,gr)}),hr(Ke,[B]),xr.exit().remove(),Ot.repositionOnUpdate&&xr.each(function(Xn){g.select(this).select("text").call(p.positionText,Ht.xFn(Xn),Ht.yFn(Xn))});function Wr(Xn,ea){Xn.each(function(Zn){var Qn=g.select(this),Mr=Qn.select(".text-math-group"),on=Ht.anchorFn(Zn,ea),nn=Ot.transFn.call(Qn.node(),Zn)+(_(ea)&&+ea!=0?" rotate("+ea+","+Ht.xFn(Zn)+","+(Ht.yFn(Zn)-Zn.fontSize/2)+")":""),mn=p.lineCount(Qn),Gn=re*Zn.fontSize,Mn=Ht.heightFn(Zn,_(ea)?+ea:0,(mn-1)*Gn);if(Mn&&(nn+=v(0,Mn)),Mr.empty()){var Ln=Qn.select("text");Ln.attr({transform:nn,"text-anchor":on}),Ln.style("opacity",1),Ke._adjustTickLabelsOverflow&&Ke._adjustTickLabelsOverflow()}else{var Hn=s.bBox(Mr.node()).width,ra=Hn*{end:-.5,start:.5}[on];Mr.attr("transform",nn+v(ra,0))}})}Ke._adjustTickLabelsOverflow=function(){var Xn=Ke.ticklabeloverflow;if(!(!Xn||Xn==="allow")){var ea=Xn.indexOf("hide")!==-1,Zn=Ke._id.charAt(0)==="x",Qn=0,Mr=Zn?Xe._fullLayout.width:Xe._fullLayout.height;if(Xn.indexOf("domain")!==-1){var on=A.simpleMap(Ke.range,Ke.r2l);Qn=Ke.l2p(on[0])+Ke._offset,Mr=Ke.l2p(on[1])+Ke._offset}var nn=Math.min(Qn,Mr),mn=Math.max(Qn,Mr),Gn=Ke.side,Mn=1/0,Ln=-1/0;xr.each(function(Za){var Jt=g.select(this),Er=Jt.select(".text-math-group");if(Er.empty()){var qr=s.bBox(Jt.node()),sn=0;Zn?(qr.right>mn||qr.left<nn)&&(sn=1):(qr.bottom>mn||qr.top+(Ke.tickangle?0:Za.fontSize/4)<nn)&&(sn=1);var fn=Jt.select("text");sn?ea&&fn.style("opacity",0):(fn.style("opacity",1),Gn==="bottom"||Gn==="right"?Mn=Math.min(Mn,Zn?qr.top:qr.left):Mn=-1/0,Gn==="top"||Gn==="left"?Ln=Math.max(Ln,Zn?qr.bottom:qr.right):Ln=1/0)}});for(var Hn in Lt._plots){var ra=Lt._plots[Hn];if(!(Ke._id!==ra.xaxis._id&&Ke._id!==ra.yaxis._id)){var ba=Zn?ra.yaxis:ra.xaxis;ba&&(ba["_visibleLabelMin_"+Ke._id]=Mn,ba["_visibleLabelMax_"+Ke._id]=Ln)}}}},Ke._hideCounterAxisInsideTickLabels=function(Xn){var ea=Ke._id.charAt(0)==="x",Zn=[];for(var Qn in Lt._plots){var Mr=Lt._plots[Qn];Ke._id!==Mr.xaxis._id&&Ke._id!==Mr.yaxis._id||Zn.push(ea?Mr.yaxis:Mr.xaxis)}Zn.forEach(function(on,nn){on&&Qt(on)&&(Xn||[I,z,U,N,B]).forEach(function(mn){var Gn=mn.K==="tick"&&mn.L==="text"&&Ke.ticklabelmode==="period",Mn=Lt._plots[Ke._mainSubplot],Ln;mn.K===I.K?Ln=Mn.zerolinelayer.selectAll("."+Ke._id+"zl"):mn.K===z.K?Ln=Mn.minorGridlayer.selectAll("."+Ke._id):mn.K===U.K?Ln=Mn.gridlayer.selectAll("."+Ke._id):Ln=Mn[Ke._id.charAt(0)+"axislayer"],Ln.each(function(){var Hn=g.select(this);mn.L&&(Hn=Hn.selectAll(mn.L)),Hn.each(function(ra){var ba=Ke.l2p(Gn?jt(ra):ra.x)+Ke._offset,Za=g.select(this);ba<Ke["_visibleLabelMax_"+on._id]&&ba>Ke["_visibleLabelMin_"+on._id]?Za.style("display","none"):mn.K==="tick"&&!nn&&Za.style("display",null)})})})})},Wr(xr,br+1?br:gr);function Br(){return dr.length&&Promise.all(dr)}var Ur=null;function yn(){if(Wr(xr,gr),or.length&&rr==="x"&&!_(gr)&&(Ke.type!=="log"||String(Ke.dtick).charAt(0)!=="D")){Ur=0;var Xn=0,ea=[],Zn;if(xr.each(function(qr){Xn=Math.max(Xn,qr.fontSize);var sn=Ke.l2p(qr.x),fn=mr(this),Cn=s.bBox(fn.node());ea.push({top:0,bottom:10,height:10,left:sn-Cn.width/2,right:sn+Cn.width/2+2,width:Cn.width+2})}),(Ke.tickson==="boundaries"||Ke.showdividers)&&!Ot.secondary){var Qn=2;for(Ke.ticks&&(Qn+=Ke.tickwidth/2),Zn=0;Zn<ea.length;Zn++){var Mr=or[Zn].xbnd,on=ea[Zn];if(Mr[0]!==null&&on.left-Ke.l2p(Mr[0])<Qn||Mr[1]!==null&&Ke.l2p(Mr[1])-on.right<Qn){Ur=90;break}}}else{var nn=or.length,mn=Math.abs((or[nn-1].x-or[0].x)*Ke._m)/(nn-1),Gn=Ke.ticklabelposition||"",Mn=function(qr){return Gn.indexOf(qr)!==-1},Ln=Mn("top"),Hn=Mn("left"),ra=Mn("right"),ba=Mn("bottom"),Za=ba||Hn||Ln||ra,Jt=Za?(Ke.tickwidth||0)+2*ce:0,Er=mn<Xn*2.5||Ke.type==="multicategory"||Ke._name==="realaxis";for(Zn=0;Zn<ea.length-1;Zn++)if(A.bBoxIntersect(ea[Zn],ea[Zn+1],Jt)){Ur=Er?90:30;break}}Ur&&Wr(xr,Ur)}}Ke._selections&&(Ke._selections[ur]=xr);var rn=[Br];Ke.automargin&&Lt._redrawFromAutoMarginCount&&br===90?(Ur=90,rn.push(function(){Wr(xr,br)})):rn.push(yn),Ke._tickAngles&&rn.push(function(){Ke._tickAngles[ur]=Ur===null?_(gr)?gr:0:Ur});var Un=function(){var Xn=0,ea=0;return xr.each(function(Zn,Qn){var Mr=mr(this),on=Mr.select(".text-math-group");if(on.empty()){var nn;Ke._vals[Qn]&&(nn=Ke._vals[Qn].bb||s.bBox(Mr.node()),Ke._vals[Qn].bb=nn),Xn=Math.max(Xn,nn.width),ea=Math.max(ea,nn.height)}}),{labelsMaxW:Xn,labelsMaxH:ea}},bn=Ke._anchorAxis;if(bn&&(bn.autorange||bn.insiderange)&&Qt(Ke)&&!te(Lt,Ke._id)&&(Lt._insideTickLabelsUpdaterange||(Lt._insideTickLabelsUpdaterange={}),bn.autorange&&(Lt._insideTickLabelsUpdaterange[bn._name+".autorange"]=bn.autorange,rn.push(Un)),bn.insiderange)){var Lr=Un(),Pr=Ke._id.charAt(0)==="y"?Lr.labelsMaxW:Lr.labelsMaxH;Pr+=2*ce,Ke.ticklabelposition==="inside"&&(Pr+=Ke.ticklen||0);var Yr=Ke.side==="right"||Ke.side==="top"?1:-1,Hr=Yr===1?1:0,en=Yr===1?0:1,cn=[];cn[en]=bn.range[en];var hn=bn.d2p(bn.range[Hr]),Pn=bn.d2p(bn.range[en]),kn=Math.abs(Pn-hn);kn-Pr>0?(kn-=Pr,Pr*=1+Pr/kn):Pr=0,Ke._id.charAt(0)!=="y"&&(Pr=-Pr),cn[Hr]=bn.p2d(bn.d2p(bn.range[Hr])+Yr*Pr),bn.autorange==="min"||bn.autorange==="max reversed"?(cn[0]=null,bn._rangeInitial0=void 0,bn._rangeInitial1=void 0):(bn.autorange==="max"||bn.autorange==="min reversed")&&(cn[1]=null,bn._rangeInitial0=void 0,bn._rangeInitial1=void 0),Lt._insideTickLabelsUpdaterange[bn._name+".range"]=cn}var sa=A.syncOrAsync(rn);return sa&&sa.then&&Xe._promises.push(sa),sa};function Nt(Xe,Ke,Ot){var Lt=Ke._id+"divider",Xt=Ot.vals,rr=Ot.layer.selectAll("path."+Lt).data(Xt,Ct);rr.exit().remove(),rr.enter().insert("path",":first-child").classed(Lt,1).classed("crisp",1).call(r.stroke,Ke.dividercolor).style("stroke-width",s.crispRound(Xe,Ke.dividerwidth,1)+"px"),rr.attr("transform",Ot.transFn).attr("d",Ot.path)}Q.getPxPosition=function(Xe,Ke){var Ot=Xe._fullLayout._size,Lt=Ke._id.charAt(0),Xt=Ke.side,rr;if(Ke.anchor!=="free"?rr=Ke._anchorAxis:Lt==="x"?rr={_offset:Ot.t+(1-(Ke.position||0))*Ot.h,_length:0}:Lt==="y"&&(rr={_offset:Ot.l+(Ke.position||0)*Ot.w+Ke._shift,_length:0}),Xt==="top"||Xt==="left")return rr._offset;if(Xt==="bottom"||Xt==="right")return rr._offset+rr._length};function Kt(Xe){var Ke=Xe.title.font.size,Ot=(Xe.title.text.match(p.BR_TAG_ALL)||[]).length;return Xe.title.hasOwnProperty("standoff")?Ot?Ke*(J+Ot*re):Ke*J:Ot?Ke*(Ot+1)*re:Ke}function wr(Xe,Ke){var Ot=Xe._fullLayout,Lt=Ke._id,Xt=Lt.charAt(0),rr=Ke.title.font.size,ur;if(Ke.title.hasOwnProperty("standoff"))ur=Ke._depth+Ke.title.standoff+Kt(Ke);else{var or=Qt(Ke);if(Ke.type==="multicategory")ur=Ke._depth;else{var Ht=1.5*rr;or&&(Ht=.5*rr,Ke.ticks==="outside"&&(Ht+=Ke.ticklen)),ur=10+Ht+(Ke.linewidth?Ke.linewidth-1:0)}or||(Xt==="x"?ur+=Ke.side==="top"?rr*(Ke.showticklabels?1:0):rr*(Ke.showticklabels?1.5:.5):ur+=Ke.side==="right"?rr*(Ke.showticklabels?1:.5):rr*(Ke.showticklabels?.5:0))}var gr=Q.getPxPosition(Xe,Ke),br,xr,dr;Xt==="x"?(xr=Ke._offset+Ke._length/2,dr=Ke.side==="top"?gr-ur:gr+ur):(dr=Ke._offset+Ke._length/2,xr=Ke.side==="right"?gr+ur:gr-ur,br={rotate:"-90",offset:0});var Wr;if(Ke.type!=="multicategory"){var Br=Ke._selections[Ke._id+"tick"];if(Wr={selection:Br,side:Ke.side},Br&&Br.node()&&Br.node().parentNode){var Ur=s.getTranslate(Br.node().parentNode);Wr.offsetLeft=Ur.x,Wr.offsetTop=Ur.y}Ke.title.hasOwnProperty("standoff")&&(Wr.pad=0)}return Ke._titleStandoff=ur,t.draw(Xe,Lt+"title",{propContainer:Ke,propName:Ke._name+".title.text",placeholder:Ot._dfltTitle[Xt],avoid:Wr,transform:br,attributes:{x:xr,y:dr,"text-anchor":"middle"}})}Q.shouldShowZeroLine=function(Xe,Ke,Ot){var Lt=A.simpleMap(Ke.range,Ke.r2l);return Lt[0]*Lt[1]<=0&&Ke.zeroline&&(Ke.type==="linear"||Ke.type==="-")&&!(Ke.rangebreaks&&Ke.maskBreaks(0)===F)&&(yt(Ke,0)||!$t(Xe,Ke,Ot,Lt)||er(Xe,Ke))},Q.clipEnds=function(Xe,Ke){return Ke.filter(function(Ot){return yt(Xe,Ot.x)})};function yt(Xe,Ke){var Ot=Xe.l2p(Ke);return Ot>1&&Ot<Xe._length-1}function $t(Xe,Ke,Ot,Lt){var Xt=Ot._mainAxis;if(!Xt)return;var rr=Xe._fullLayout,ur=Ke._id.charAt(0),or=Q.counterLetter(Ke._id),Ht=Ke._offset+(Math.abs(Lt[0])<Math.abs(Lt[1])==(ur==="x")?0:Ke._length);function gr(Br){if(!Br.showline||!Br.linewidth)return!1;var Ur=Math.max((Br.linewidth+Ke.zerolinewidth)/2,1);function yn(bn){return typeof bn=="number"&&Math.abs(bn-Ht)<Ur}if(yn(Br._mainLinePosition)||yn(Br._mainMirrorPosition))return!0;var rn=Br._linepositions||{};for(var Un in rn)if(yn(rn[Un][0])||yn(rn[Un][1]))return!0}var br=rr._plots[Ot._mainSubplot];if(!(br.mainplotinfo||br).overlays.length)return gr(Ot);for(var xr=Q.list(Xe,or),dr=0;dr<xr.length;dr++){var Wr=xr[dr];if(Wr._mainAxis===Xt&&gr(Wr))return!0}}function er(Xe,Ke){for(var Ot=Xe._fullData,Lt=Ke._mainSubplot,Xt=Ke._id.charAt(0),rr=0;rr<Ot.length;rr++){var ur=Ot[rr];if(ur.visible===!0&&ur.xaxis+ur.yaxis===Lt&&(C.traceIs(ur,"bar-like")&&ur.orientation==={x:"h",y:"v"}[Xt]||ur.fill&&ur.fill.charAt(ur.fill.length-1)===Xt))return!0}return!1}function mr(Xe){var Ke=g.select(Xe),Ot=Ke.select(".text-math-group");return Ot.empty()?Ke.select("text"):Ot}Q.allowAutoMargin=function(Xe){for(var Ke=Q.list(Xe,"",!0),Ot=0;Ot<Ke.length;Ot++){var Lt=Ke[Ot];Lt.automargin&&(a.allowAutoMargin(Xe,vr(Lt)),Lt.mirror&&a.allowAutoMargin(Xe,bt(Lt))),C.getComponentMethod("rangeslider","isVisible")(Lt)&&a.allowAutoMargin(Xe,ht(Lt))}};function vr(Xe){return Xe._id+".automargin"}function bt(Xe){return vr(Xe)+".mirror"}function ht(Xe){return Xe._id+".rangeslider"}Q.swap=function(Xe,Ke){for(var Ot=Tt(Xe,Ke),Lt=0;Lt<Ot.length;Lt++)zt(Xe,Ot[Lt].x,Ot[Lt].y)};function Tt(Xe,Ke){var Ot=[],Lt,Xt;for(Lt=0;Lt<Ke.length;Lt++){var rr=[],ur=Xe._fullData[Ke[Lt]].xaxis,or=Xe._fullData[Ke[Lt]].yaxis;if(!(!ur||!or)){for(Xt=0;Xt<Ot.length;Xt++)(Ot[Xt].x.indexOf(ur)!==-1||Ot[Xt].y.indexOf(or)!==-1)&&rr.push(Xt);if(!rr.length){Ot.push({x:[ur],y:[or]});continue}var Ht=Ot[rr[0]],gr;if(rr.length>1)for(Xt=1;Xt<rr.length;Xt++)gr=Ot[rr[Xt]],Pt(Ht.x,gr.x),Pt(Ht.y,gr.y);Pt(Ht.x,[ur]),Pt(Ht.y,[or])}}return Ot}function Pt(Xe,Ke){for(var Ot=0;Ot<Ke.length;Ot++)Xe.indexOf(Ke[Ot])===-1&&Xe.push(Ke[Ot])}function zt(Xe,Ke,Ot){var Lt=[],Xt=[],rr=Xe.layout,ur,or;for(ur=0;ur<Ke.length;ur++)Lt.push(Q.getFromId(Xe,Ke[ur]));for(ur=0;ur<Ot.length;ur++)Xt.push(Q.getFromId(Xe,Ot[ur]));var Ht=Object.keys(n),gr=["anchor","domain","overlaying","position","side","tickangle","editType"],br=["linear","log"];for(ur=0;ur<Ht.length;ur++){var xr=Ht[ur],dr=Lt[0][xr],Wr=Xt[0][xr],Br=!0,Ur=!1,yn=!1;if(!(xr.charAt(0)==="_"||typeof dr=="function"||gr.indexOf(xr)!==-1)){for(or=1;or<Lt.length&&Br;or++){var rn=Lt[or][xr];xr==="type"&&br.indexOf(dr)!==-1&&br.indexOf(rn)!==-1&&dr!==rn?Ur=!0:rn!==dr&&(Br=!1)}for(or=1;or<Xt.length&&Br;or++){var Un=Xt[or][xr];xr==="type"&&br.indexOf(Wr)!==-1&&br.indexOf(Un)!==-1&&Wr!==Un?yn=!0:Xt[or][xr]!==Wr&&(Br=!1)}Br&&(Ur&&(rr[Lt[0]._name].type="linear"),yn&&(rr[Xt[0]._name].type="linear"),Dt(rr,xr,Lt,Xt,Xe._fullLayout._dfltTitle))}}for(ur=0;ur<Xe._fullLayout.annotations.length;ur++){var bn=Xe._fullLayout.annotations[ur];Ke.indexOf(bn.xref)!==-1&&Ot.indexOf(bn.yref)!==-1&&A.swapAttrs(rr.annotations[ur],["?"])}}function Dt(Xe,Ke,Ot,Lt,Xt){var rr=A.nestedProperty,ur=rr(Xe[Ot[0]._name],Ke).get(),or=rr(Xe[Lt[0]._name],Ke).get(),Ht;for(Ke==="title"&&(ur&&ur.text===Xt.x&&(ur.text=Xt.y),or&&or.text===Xt.y&&(or.text=Xt.x)),Ht=0;Ht<Ot.length;Ht++)rr(Xe,Ot[Ht]._name+"."+Ke).set(or);for(Ht=0;Ht<Lt.length;Ht++)rr(Xe,Lt[Ht]._name+"."+Ke).set(ur)}function Vt(Xe){return Xe._id==="angularaxis"}function Ut(Xe,Ke){for(var Ot=Ke._rangebreaks.length,Lt=0;Lt<Ot;Lt++){var Xt=Ke._rangebreaks[Lt];if(Xe>=Xt.min&&Xe<Xt.max)return Xt.max}return Xe}function Qt(Xe){return(Xe.ticklabelposition||"").indexOf("inside")!==-1}function hr(Xe,Ke){Qt(Xe._anchorAxis||{})&&Xe._hideCounterAxisInsideTickLabels&&Xe._hideCounterAxisInsideTickLabels(Ke)}function cr(Xe,Ke,Ot,Lt){var Xt=Xe.anchor!=="free"&&(Xe.overlaying===void 0||Xe.overlaying===!1)?Xe._id:Xe.overlaying,rr;Lt?rr=Xe.side==="right"?Ke:-Ke:rr=Ke,Xt in Ot||(Ot[Xt]={}),Xe.side in Ot[Xt]||(Ot[Xt][Xe.side]=0),Ot[Xt][Xe.side]+=rr}function lr(Xe,Ke){return Xe.autoshift?Ke[Xe.overlaying][Xe.side]:Xe.shift||0}},4322:function(G,V,e){var g=e(92770),_=e(71828),a=e(50606).BADNUM,C=_.isArrayOrTypedArray,A=_.isDateTime,v=_.cleanNumber,p=Math.round;G.exports=function(y,c,T){var h=y,l=T.noMultiCategory;if(C(h)&&!h.length)return"-";if(!l&&f(h))return"multicategory";if(l&&Array.isArray(h[0])){for(var d=[],E=0;E<h.length;E++)if(C(h[E]))for(var S=0;S<h[E].length;S++)d.push(h[E][S]);h=d}if(s(h,c))return"date";var P=T.autotypenumbers!=="strict";return i(h,P)?"category":r(h,P)?"linear":"-"};function t(u,y){return y?g(u):typeof u=="number"}function r(u,y){for(var c=u.length,T=0;T<c;T++)if(t(u[T],y))return!0;return!1}function s(u,y){for(var c=u.length,T=n(c),h=0,l=0,d={},E=0;E<c;E+=T){var S=p(E),P=u[S],x=String(P);d[x]||(d[x]=1,A(P,y)&&h++,g(P)&&l++)}return h>l*2}function n(u){return Math.max(1,(u-1)/1e3)}function i(u,y){for(var c=u.length,T=n(c),h=0,l=0,d={},E=0;E<c;E+=T){var S=p(E),P=u[S],x=String(P);if(!d[x]){d[x]=1;var M=typeof P;M==="boolean"?l++:(y?v(P)!==a:M==="number")?h++:M==="string"&&l++}}return l>h*2}function f(u){return C(u[0])&&C(u[1])}},71453:function(G,V,e){var g=e(92770),_=e(73972),a=e(71828),C=e(44467),A=e(85501),v=e(13838),p=e(26218),t=e(38701),r=e(96115),s=e(89426),n=e(15258),i=e(92128),f=e(23608),u=e(21994),y=e(85555).WEEKDAY_PATTERN,c=e(85555).HOUR_PATTERN;G.exports=function(E,S,P,x,M){var w=x.letter,o=x.font||{},L=x.splomStash||{},m=P("visible",!x.visibleDflt),F=S._template||{},I=S.type||F.type||"-",U;if(I==="date"){var z=_.getComponentMethod("calendars","handleDefaults");z(E,S,"calendar",x.calendar),x.noTicklabelmode||(U=P("ticklabelmode"))}var N="";(!x.noTicklabelposition||I==="multicategory")&&(N=a.coerce(E,S,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:U==="period"?["outside","inside"]:w==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),x.noTicklabeloverflow||P("ticklabeloverflow",N.indexOf("inside")!==-1?"hide past domain":I==="category"||I==="multicategory"?"allow":"hide past div"),u(S,M),f(E,S,P,x),n(E,S,P,x),I!=="category"&&!x.noHover&&P("hoverformat");var B=P("color"),O=B!==v.color.dflt?B:o.color,H=L.label||M._dfltTitle[w];if(s(E,S,P,I,x),!m)return S;P("title.text",H),a.coerceFont(P,"title.font",{family:o.family,size:a.bigFont(o.size),color:O}),p(E,S,P,I);var Y=x.hasMinor;if(Y&&(C.newContainer(S,"minor"),p(E,S,P,I,{isMinor:!0})),r(E,S,P,I,x),t(E,S,P,x),Y){var J=x.isMinor;x.isMinor=!0,t(E,S,P,x),x.isMinor=J}i(E,S,P,{dfltColor:B,bgColor:x.bgColor,showGrid:x.showGrid,hasMinor:Y,attributes:v}),Y&&!S.minor.ticks&&!S.minor.showgrid&&delete S.minor,(S.showline||S.ticks)&&P("mirror");var re=I==="multicategory";if(!x.noTickson&&(I==="category"||re)&&(S.ticks||S.showgrid)){var ie;re&&(ie="boundaries");var ce=P("tickson",ie);ce==="boundaries"&&delete S.ticklabelposition}if(re){var Q=P("showdividers");Q&&(P("dividercolor"),P("dividerwidth"))}if(I==="date")if(A(E,S,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:T}),!S.rangebreaks.length)delete S.rangebreaks;else{for(var j=0;j<S.rangebreaks.length;j++)if(S.rangebreaks[j].pattern===y){S._hasDayOfWeekBreaks=!0;break}if(u(S,M),M._has("scattergl")||M._has("splom"))for(var Z=0;Z<x.data.length;Z++){var $=x.data[Z];($.type==="scattergl"||$.type==="splom")&&($.visible=!1,a.warn($.type+" traces do not work on axes with rangebreaks. Setting trace "+$.index+" to `visible: false`."))}}return S};function T(d,E,S){function P(U,z){return a.coerce(d,E,v.rangebreaks,U,z)}var x=P("enabled");if(x){var M=P("bounds");if(M&&M.length>=2){var w="",o,L;if(M.length===2){for(o=0;o<2;o++)if(L=l(M[o]),L){w=y;break}}var m=P("pattern",w);if(m===y)for(o=0;o<2;o++)L=l(M[o]),L&&(E.bounds[o]=M[o]=L-1);if(m)for(o=0;o<2;o++)switch(L=M[o],m){case y:if(!g(L)){E.enabled=!1;return}if(L=+L,L!==Math.floor(L)||L<0||L>=7){E.enabled=!1;return}E.bounds[o]=M[o]=L;break;case c:if(!g(L)){E.enabled=!1;return}if(L=+L,L<0||L>24){E.enabled=!1;return}E.bounds[o]=M[o]=L;break}if(S.autorange===!1){var F=S.range;if(F[0]<F[1]){if(M[0]<F[0]&&M[1]>F[1]){E.enabled=!1;return}}else if(M[0]>F[0]&&M[1]<F[1]){E.enabled=!1;return}}}else{var I=P("values");if(I&&I.length)P("dvalue");else{E.enabled=!1;return}}}}var h={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function l(d){if(typeof d=="string")return h[d.substr(0,3).toLowerCase()]}},12663:function(G,V,e){var g=e(31562),_=g.FORMAT_LINK,a=g.DATE_FORMAT_LINK;function C(p,t){return{valType:"string",dflt:"",editType:"none",description:(t?A:v)("hover text",p)+["By default the values are formatted using "+(t?"generic number format":"`"+p+"axis.hoverformat`")+"."].join(" ")}}function A(p,t){return["Sets the "+p+" formatting rule"+(t?"for `"+t+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+_+"."].join(" ")}function v(p,t){return A(p,t)+[" And for dates see: "+a+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}G.exports={axisHoverFormat:C,descriptionOnlyNumbers:A,descriptionWithDates:v}},41675:function(G,V,e){var g=e(73972),_=e(85555);V.id2name=function(A){if(!(typeof A!="string"||!A.match(_.AX_ID_PATTERN))){var v=A.split(" ")[0].substr(1);return v==="1"&&(v=""),A.charAt(0)+"axis"+v}},V.name2id=function(A){if(A.match(_.AX_NAME_PATTERN)){var v=A.substr(5);return v==="1"&&(v=""),A.charAt(0)+v}},V.cleanId=function(A,v,p){var t=/( domain)$/.test(A);if(!(typeof A!="string"||!A.match(_.AX_ID_PATTERN))&&!(v&&A.charAt(0)!==v)&&!(t&&!p)){var r=A.split(" ")[0].substr(1).replace(/^0+/,"");return r==="1"&&(r=""),A.charAt(0)+r+(t&&p?" domain":"")}},V.list=function(C,A,v){var p=C._fullLayout;if(!p)return[];var t=V.listIds(C,A),r=new Array(t.length),s;for(s=0;s<t.length;s++){var n=t[s];r[s]=p[n.charAt(0)+"axis"+n.substr(1)]}if(!v){var i=p._subplots.gl3d||[];for(s=0;s<i.length;s++){var f=p[i[s]];A?r.push(f[A+"axis"]):r.push(f.xaxis,f.yaxis,f.zaxis)}}return r},V.listIds=function(C,A){var v=C._fullLayout;if(!v)return[];var p=v._subplots;return A?p[A+"axis"]:p.xaxis.concat(p.yaxis)},V.getFromId=function(C,A,v){var p=C._fullLayout;return A=A===void 0||typeof A!="string"?A:A.replace(" domain",""),v==="x"?A=A.replace(/y[0-9]*/,""):v==="y"&&(A=A.replace(/x[0-9]*/,"")),p[V.id2name(A)]},V.getFromTrace=function(C,A,v){var p=C._fullLayout,t=null;if(g.traceIs(A,"gl3d")){var r=A.scene;r.substr(0,5)==="scene"&&(t=p[r][v+"axis"])}else t=V.getFromId(C,A[v+"axis"]||v);return t},V.idSort=function(C,A){var v=C.charAt(0),p=A.charAt(0);return v!==p?v>p?1:-1:+(C.substr(1)||1)-+(A.substr(1)||1)},V.ref2id=function(C){return/^[xyz]/.test(C)?C.split(" ")[0]:!1};function a(C,A){if(A&&A.length){for(var v=0;v<A.length;v++)if(A[v][C])return!0}return!1}V.isLinked=function(C,A){return a(A,C._axisMatchGroups)||a(A,C._axisConstraintGroups)}},15258:function(G){function V(e,g){var _=g.dataAttr||e._id.charAt(0),a={},C,A,v;if(g.axData)C=g.axData;else for(C=[],A=0;A<g.data.length;A++){var p=g.data[A];p[_+"axis"]===e._id&&C.push(p)}for(A=0;A<C.length;A++){var t=C[A][_];for(v=0;v<t.length;v++){var r=t[v];r!=null&&(a[r]=1)}}return Object.keys(a)}G.exports=function(g,_,a,C){if(_.type==="category"){var A=g.categoryarray,v=Array.isArray(A)&&A.length>0,p;v&&(p="array");var t=a("categoryorder",p),r;t==="array"&&(r=a("categoryarray")),!v&&t==="array"&&(t=_.categoryorder="trace"),t==="trace"?_._initialCategories=[]:t==="array"?_._initialCategories=r.slice():(r=V(_,C).sort(),t==="category ascending"?_._initialCategories=r:t==="category descending"&&(_._initialCategories=r.reverse()))}}},66287:function(G,V,e){var g=e(92770),_=e(71828),a=e(50606),C=a.ONEDAY,A=a.ONEWEEK;V.dtick=function(v,p){var t=p==="log",r=p==="date",s=p==="category",n=r?C:1;if(!v)return n;if(g(v))return v=Number(v),v<=0?n:s?Math.max(1,Math.round(v)):r?Math.max(.1,v):v;if(typeof v!="string"||!(r||t))return n;var i=v.charAt(0),f=v.substr(1);return f=g(f)?Number(f):0,f<=0||!(r&&i==="M"&&f===Math.round(f)||t&&i==="L"||t&&i==="D"&&(f===1||f===2))?n:v},V.tick0=function(v,p,t,r){if(p==="date")return _.cleanDate(v,_.dateTick0(t,r%A===0?1:0));if(!(r==="D1"||r==="D2"))return g(v)?Number(v):0}},85555:function(G,V,e){var g=e(30587).counter;G.exports={idRegex:{x:g("x","( domain)?"),y:g("y","( domain)?")},attrRegex:g("[xy]axis"),xAxisMatch:g("xaxis"),yAxisMatch:g("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(G,V,e){var g=e(71828),_=e(71739),a=e(41675).id2name,C=e(13838),A=e(42449),v=e(21994),p=e(50606).ALMOST_EQUAL,t=e(18783).FROM_BL;V.handleDefaults=function(c,T,h){var l=h.axIds,d=h.axHasImage,E=T._axisConstraintGroups=[],S=T._axisMatchGroups=[],P,x,M,w,o,L,m,F;for(P=0;P<l.length;P++)w=a(l[P]),o=c[w],L=T[w],r(o,L,{axIds:l,layoutOut:T,hasImage:d[w]});function I(re,ie){for(P=0;P<re.length;P++){x=re[P];for(M in x)T[a(M)][ie]=x}}for(I(S,"_matchGroup"),P=0;P<E.length;P++){x=E[P];for(M in x)if(L=T[a(M)],L.fixedrange){for(var U in x){var z=a(U);(c[z]||{}).fixedrange===!1&&g.warn("fixedrange was specified as false for axis "+z+" but was overridden because another axis in its constraint group has fixedrange true"),T[z].fixedrange=!0}break}}for(P=0;P<E.length;){x=E[P];for(M in x){L=T[a(M)],L._matchGroup&&Object.keys(L._matchGroup).length===Object.keys(x).length&&(E.splice(P,1),P--);break}P++}I(E,"_constraintGroup");var N=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],B=!1,O=!1;function H(){F=L[m],m==="rangebreaks"&&(O=L._hasDayOfWeekBreaks)}for(P=0;P<S.length;P++){x=S[P];for(var Y=0;Y<N.length;Y++){m=N[Y],F=null;var J;for(M in x)if(w=a(M),o=c[w],L=T[w],m in L){if(!L.matches&&(J=L,m in o)){H();break}F===null&&m in o&&H()}if(m==="range"&&F&&o.range&&o.range.length===2&&o.range[0]!==null&&o.range[1]!==null&&(B=!0),m==="autorange"&&F===null&&B&&(F=!1),F===null&&m in J&&(F=J[m]),F!==null)for(M in x)L=T[a(M)],L[m]=m==="range"?F.slice():F,m==="rangebreaks"&&(L._hasDayOfWeekBreaks=O,v(L,T))}}};function r(c,T,h){var l=h.axIds,d=h.layoutOut,E=h.hasImage,S=d._axisConstraintGroups,P=d._axisMatchGroups,x=T._id,M=x.charAt(0),w=((d._splomAxes||{})[M]||{})[x]||{},o=T._id,L=o.charAt(0)==="x";T._matchGroup=null,T._constraintGroup=null;function m(j,Z){return g.coerce(c,T,C,j,Z)}m("constrain",E?"domain":"range"),g.coerce(c,T,{constraintoward:{valType:"enumerated",values:L?["left","center","right"]:["bottom","middle","top"],dflt:L?"center":"middle"}},"constraintoward");var F=T.type,I,U,z=[];for(I=0;I<l.length;I++)if(U=l[I],U!==o){var N=d[a(U)];N.type===F&&z.push(U)}var B=n(S,o);if(B){var O=[];for(I=0;I<z.length;I++)U=z[I],B[U]||O.push(U);z=O}var H=z.length,Y,J;H&&(c.matches||w.matches)&&(Y=g.coerce(c,T,{matches:{valType:"enumerated",values:z,dflt:z.indexOf(w.matches)!==-1?w.matches:void 0}},"matches"));var re=E&&!L?T.anchor:void 0;if(H&&!Y&&(c.scaleanchor||re)&&(J=g.coerce(c,T,{scaleanchor:{valType:"enumerated",values:z.concat([!1])}},"scaleanchor",re)),Y){T._matchGroup=i(P,o,Y,1);var ie=d[a(Y)],ce=s(d,T)/s(d,ie);L!==(Y.charAt(0)==="x")&&(ce=(L?"x":"y")+ce),i(S,o,Y,ce)}else c.matches&&l.indexOf(c.matches)!==-1&&g.warn("ignored "+T._name+'.matches: "'+c.matches+'" to avoid an infinite loop');if(J){var Q=m("scaleratio");Q||(Q=T.scaleratio=1),i(S,o,J,Q)}else c.scaleanchor&&l.indexOf(c.scaleanchor)!==-1&&g.warn("ignored "+T._name+'.scaleanchor: "'+c.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function s(c,T){var h=T.domain;return h||(h=c[a(T.overlaying)].domain),h[1]-h[0]}function n(c,T){for(var h=0;h<c.length;h++)if(c[h][T])return c[h];return null}function i(c,T,h,l){var d,E,S,P,x,M=n(c,T);M===null?(M={},M[T]=1,x=c.length,c.push(M)):x=c.indexOf(M);var w=Object.keys(M);for(d=0;d<c.length;d++)if(S=c[d],d!==x&&S[h]){var o=S[h];for(E=0;E<w.length;E++)P=w[E],S[P]=f(o,f(l,M[P]));c.splice(x,1);return}if(l!==1)for(E=0;E<w.length;E++){var L=w[E];M[L]=f(l,M[L])}M[h]=1}function f(c,T){var h="",l="",d,E;typeof c=="string"&&(h=c.match(/^[xy]*/)[0],d=h.length,c=+c.substr(d)),typeof T=="string"&&(l=T.match(/^[xy]*/)[0],E=l.length,T=+T.substr(E));var S=c*T;return!d&&!E?S:!d||!E||h.charAt(0)===l.charAt(0)?h+l+c*T:d===E?S:(d>E?h.substr(E):l.substr(d))+S}function u(c,T){for(var h=T._size,l=h.h/h.w,d={},E=Object.keys(c),S=0;S<E.length;S++){var P=E[S],x=c[P];if(typeof x=="string"){var M=x.match(/^[xy]*/)[0],w=M.length;x=+x.substr(w);for(var o=M.charAt(0)==="y"?l:1/l,L=0;L<w;L++)x*=o}d[P]=x}return d}V.enforce=function(T){var h=T._fullLayout,l=h._axisConstraintGroups||[],d,E,S,P,x,M,w,o;for(d=0;d<l.length;d++){S=u(l[d],h);var L=Object.keys(S),m=1/0,F=0,I=1/0,U={},z={},N=!1;for(E=0;E<L.length;E++)P=L[E],z[P]=x=h[a(P)],x._inputDomain?x.domain=x._inputDomain.slice():x._inputDomain=x.domain.slice(),x._inputRange||(x._inputRange=x.range.slice()),x.setScale(),U[P]=M=Math.abs(x._m)/S[P],m=Math.min(m,M),(x.constrain==="domain"||!x._constraintShrinkable)&&(I=Math.min(I,M)),delete x._constraintShrinkable,F=Math.max(F,M),x.constrain==="domain"&&(N=!0);if(!(m>p*F&&!N)){for(E=0;E<L.length;E++)if(P=L[E],M=U[P],x=z[P],w=x.constrain,M!==I||w==="domain")if(o=M/I,w==="range")A(x,o);else{var B=x._inputDomain,O=(x.domain[1]-x.domain[0])/(B[1]-B[0]),H=(x.r2l(x.range[1])-x.r2l(x.range[0]))/(x.r2l(x._inputRange[1])-x.r2l(x._inputRange[0]));if(o/=O,o*H<1){x.domain=x._input.domain=B.slice(),A(x,o);continue}if(H<1&&(x.range=x._input.range=x._inputRange.slice(),o*=H),x.autorange){var Y=x.r2l(x.range[0]),J=x.r2l(x.range[1]),re=(Y+J)/2,ie=re,ce=re,Q=Math.abs(J-re),j=re-Q*o*1.0001,Z=re+Q*o*1.0001,$=_.makePadFn(h,x,0),te=_.makePadFn(h,x,1);y(x,o);var se=Math.abs(x._m),ee=_.concatExtremes(T,x),q=ee.min,le=ee.max,oe,he;for(he=0;he<q.length;he++)oe=q[he].val-$(q[he])/se,oe>j&&oe<ie&&(ie=oe);for(he=0;he<le.length;he++)oe=le[he].val+te(le[he])/se,oe<Z&&oe>ce&&(ce=oe);var me=(ce-ie)/(2*Q);o/=me,ie=x.l2r(ie),ce=x.l2r(ce),x.range=x._input.range=Y<J?[ie,ce]:[ce,ie]}y(x,o)}}}},V.getAxisGroup=function(T,h){for(var l=T._axisMatchGroups,d=0;d<l.length;d++){var E=l[d];if(E[h])return"g"+d}return h},V.clean=function(T,h){if(h._inputDomain){for(var l=!1,d=h._id,E=T._fullLayout._axisConstraintGroups,S=0;S<E.length;S++)if(E[S][d]){l=!0;break}(!l||h.constrain!=="domain")&&(h._input.domain=h.domain=h._inputDomain,delete h._inputDomain)}};function y(c,T){var h=c._inputDomain,l=t[c.constraintoward],d=h[0]+(h[1]-h[0])*l;c.domain=c._input.domain=[d+(h[0]-d)/T,d+(h[1]-d)/T],c.setScale()}},29323:function(G,V,e){var g=e(39898),_=e(71828),a=_.numberFormat,C=e(84267),A=e(38520),v=e(73972),p=_.strTranslate,t=e(63893),r=e(7901),s=e(91424),n=e(30211),i=e(89298),f=e(6964),u=e(28569),y=e(64505),c=y.selectingOrDrawing,T=y.freeMode,h=e(18783).FROM_TL,l=e(33306),d=e(61549).redrawReglTraces,E=e(74875),S=e(41675).getFromId,P=e(47322).prepSelect,x=e(47322).clearOutline,M=e(47322).selectOnClick,w=e(42449),o=e(85555),L=o.MINDRAG,m=o.MINZOOM,F=!0;function I(oe,he,me,Ce,Ae,Ue,Ve,Pe){var be=oe._fullLayout._zoomlayer,Le=Ve+Pe==="nsew",We=(Ve+Pe).length===1,je,Fe,Ze,ut,at,it,$e,st,ct,vt,St,Mt,Bt,Qe,ke,ze,Be,Re,we,ye,Se,Me,He;me+=he.yaxis._shift;function qe(){if(je=he.xaxis,Fe=he.yaxis,ct=je._length,vt=Fe._length,$e=je._offset,st=Fe._offset,Ze={},Ze[je._id]=je,ut={},ut[Fe._id]=Fe,Ve&&Pe)for(var or=he.overlays,Ht=0;Ht<or.length;Ht++){var gr=or[Ht].xaxis;Ze[gr._id]=gr;var br=or[Ht].yaxis;ut[br._id]=br}at=le(Ze),it=le(ut),Bt=N(at,Pe),Qe=N(it,Ve),ke=!Qe&&!Bt,Mt=ee(oe,oe._fullLayout._axisMatchGroups,Ze,ut),St=ee(oe,oe._fullLayout._axisConstraintGroups,Ze,ut,Mt);var xr=St.isSubplotConstrained||Mt.isSubplotConstrained;ze=Pe||xr,Be=Ve||xr;var dr=oe._fullLayout;Re=dr._has("scattergl"),we=dr._has("splom"),ye=dr._has("svg")}qe();var rt=J(Qe+Bt,oe._fullLayout.dragmode,Le),pt=z(he,Ve+Pe+"drag",rt,me,Ce,Ae,Ue);if(ke&&!Le)return pt.onmousedown=null,pt.style.pointerEvents="none",pt;var At={element:pt,gd:oe,plotinfo:he};At.prepFn=function(or,Ht,gr){var br=At.dragmode,xr=oe._fullLayout.dragmode;xr!==br&&(At.dragmode=xr),qe(),Me=oe._fullLayout._invScaleX,He=oe._fullLayout._invScaleY,ke||(Le?or.shiftKey?xr==="pan"?xr="zoom":c(xr)||(xr="pan"):or.ctrlKey&&(xr="pan"):xr="pan"),T(xr)?At.minDrag=1:At.minDrag=void 0,c(xr)?(At.xaxes=at,At.yaxes=it,P(or,Ht,gr,At,xr)):(At.clickFn=tr,c(br)&&jt(),ke||(xr==="zoom"?(At.moveFn=Tt,At.doneFn=zt,At.minDrag=1,ht(or,Ht,gr)):xr==="pan"&&(At.moveFn=cr,At.doneFn=Ot))),oe._fullLayout._redrag=function(){var dr=oe._dragdata;if(dr&&dr.element===pt){var Wr=oe._fullLayout.dragmode;c(Wr)||(qe(),Lt([0,0,ct,vt]),At.moveFn(dr.dx,dr.dy))}}};function jt(){At.plotinfo.selection=!1,x(oe)}function tr(or,Ht){var gr=At.gd;if(gr._fullLayout._activeShapeIndex>=0){gr._fullLayout._deactivateShape(gr);return}var br=gr._fullLayout.clickmode;if(j(gr),or===2&&!We&&Ke(),Le)br.indexOf("select")>-1&&M(Ht,gr,at,it,he.id,At),br.indexOf("event")>-1&&n.click(gr,Ht,he.id);else if(or===1&&We){var xr=Ve?Fe:je,dr=Ve==="s"||Pe==="w"?0:1,Wr=xr._name+".range["+dr+"]",Br=B(xr,dr),Ur="left",yn="middle";if(xr.fixedrange)return;Ve?(yn=Ve==="n"?"top":"bottom",xr.side==="right"&&(Ur="right")):Pe==="e"&&(Ur="right"),gr._context.showAxisRangeEntryBoxes&&g.select(pt).call(t.makeEditable,{gd:gr,immediate:!0,background:gr._fullLayout.paper_bgcolor,text:String(Br),fill:xr.tickfont?xr.tickfont.color:"#444",horizontalAlign:Ur,verticalAlign:yn}).on("edit",function(rn){var Un=xr.d2r(rn);Un!==void 0&&v.call("_guiRelayout",gr,Wr,Un)})}}u.init(At);var Ct,Nt,Kt,wr,yt,$t,er,mr,vr,bt;function ht(or,Ht,gr){var br=pt.getBoundingClientRect();Ct=Ht-br.left,Nt=gr-br.top,oe._fullLayout._calcInverseTransform(oe);var xr=_.apply3DTransform(oe._fullLayout._invTransform)(Ct,Nt);Ct=xr[0],Nt=xr[1],Kt={l:Ct,r:Ct,w:0,t:Nt,b:Nt,h:0},wr=oe._hmpixcount?oe._hmlumcount/oe._hmpixcount:C(oe._fullLayout.plot_bgcolor).getLuminance(),yt="M0,0H"+ct+"V"+vt+"H0V0",$t=!1,er="xy",bt=!1,mr=re(be,wr,$e,st,yt),vr=ie(be,$e,st)}function Tt(or,Ht){if(oe._transitioningWithDuration)return!1;var gr=Math.max(0,Math.min(ct,Me*or+Ct)),br=Math.max(0,Math.min(vt,He*Ht+Nt)),xr=Math.abs(gr-Ct),dr=Math.abs(br-Nt);Kt.l=Math.min(Ct,gr),Kt.r=Math.max(Ct,gr),Kt.t=Math.min(Nt,br),Kt.b=Math.max(Nt,br);function Wr(){er="",Kt.r=Kt.l,Kt.t=Kt.b,vr.attr("d","M0,0Z")}if(St.isSubplotConstrained)xr>m||dr>m?(er="xy",xr/ct>dr/vt?(dr=xr*vt/ct,Nt>br?Kt.t=Nt-dr:Kt.b=Nt+dr):(xr=dr*ct/vt,Ct>gr?Kt.l=Ct-xr:Kt.r=Ct+xr),vr.attr("d",se(Kt))):Wr();else if(Mt.isSubplotConstrained)if(xr>m||dr>m){er="xy";var Br=Math.min(Kt.l/ct,(vt-Kt.b)/vt),Ur=Math.max(Kt.r/ct,(vt-Kt.t)/vt);Kt.l=Br*ct,Kt.r=Ur*ct,Kt.b=(1-Br)*vt,Kt.t=(1-Ur)*vt,vr.attr("d",se(Kt))}else Wr();else!Qe||dr<Math.min(Math.max(xr*.6,L),m)?xr<L||!Bt?Wr():(Kt.t=0,Kt.b=vt,er="x",vr.attr("d",$(Kt,Nt))):!Bt||xr<Math.min(dr*.6,m)?(Kt.l=0,Kt.r=ct,er="y",vr.attr("d",te(Kt,Ct))):(er="xy",vr.attr("d",se(Kt)));Kt.w=Kt.r-Kt.l,Kt.h=Kt.b-Kt.t,er&&(bt=!0),oe._dragged=bt,ce(mr,vr,Kt,yt,$t,wr),Pt(),oe.emit("plotly_relayouting",Se),$t=!0}function Pt(){Se={},(er==="xy"||er==="x")&&(O(at,Kt.l/ct,Kt.r/ct,Se,St.xaxes),lr("x",Se)),(er==="xy"||er==="y")&&(O(it,(vt-Kt.b)/vt,(vt-Kt.t)/vt,Se,St.yaxes),lr("y",Se))}function zt(){Pt(),j(oe),Ot(),Z(oe)}var Dt=[0,0,ct,vt],Vt=null,Ut=o.REDRAWDELAY,Qt=he.mainplot?oe._fullLayout._plots[he.mainplot]:he;function hr(or){if(!oe._context._scrollZoom.cartesian&&!oe._fullLayout._enablescrollzoom)return;if(jt(),oe._transitioningWithDuration){or.preventDefault(),or.stopPropagation();return}qe(),clearTimeout(Vt);var Ht=-or.deltaY;if(isFinite(Ht)||(Ht=or.wheelDelta/10),!isFinite(Ht)){_.log("Did not find wheel motion attributes: ",or);return}var gr=Math.exp(-Math.min(Math.max(Ht,-20),20)/200),br=Qt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),xr=(or.clientX-br.left)/br.width,dr=(br.bottom-or.clientY)/br.height,Wr;function Br(Ur,yn,rn){if(Ur.fixedrange)return;var Un=_.simpleMap(Ur.range,Ur.r2l),bn=Un[0]+(Un[1]-Un[0])*yn;function Lr(Pr){return Ur.l2r(bn+(Pr-bn)*rn)}Ur.range=Un.map(Lr)}if(ze){for(Pe||(xr=.5),Wr=0;Wr<at.length;Wr++)Br(at[Wr],xr,gr);lr("x"),Dt[2]*=gr,Dt[0]+=Dt[2]*xr*(1/gr-1)}if(Be){for(Ve||(dr=.5),Wr=0;Wr<it.length;Wr++)Br(it[Wr],dr,gr);lr("y"),Dt[3]*=gr,Dt[1]+=Dt[3]*(1-dr)*(1/gr-1)}Lt(Dt),Xe(),oe.emit("plotly_relayouting",Se),Vt=setTimeout(function(){oe._fullLayout&&(Dt=[0,0,ct,vt],Ot())},Ut),or.preventDefault()}Ve.length*Pe.length!==1&&q(pt,hr);function cr(or,Ht){if(or=or*Me,Ht=Ht*He,oe._transitioningWithDuration)return;if(oe._fullLayout._replotting=!0,Bt==="ew"||Qe==="ns"){var gr=Bt?-or:0,br=Qe?-Ht:0;if(Mt.isSubplotConstrained){if(Bt&&Qe){var xr=(or/ct-Ht/vt)/2;or=xr*ct,Ht=-xr*vt,gr=-or,br=-Ht}Qe?gr=-br*ct/vt:br=-gr*vt/ct}Bt&&(H(at,or),lr("x")),Qe&&(H(it,Ht),lr("y")),Lt([gr,br,ct,vt]),Xe(),oe.emit("plotly_relayouting",Se);return}function dr(Lr,Pr,Yr){for(var Hr=1-Pr,en,cn,hn=0;hn<Lr.length;hn++){var Pn=Lr[hn];if(!Pn.fixedrange){en=Pn,cn=Pn._rl[Hr]+(Pn._rl[Pr]-Pn._rl[Hr])/Y(Yr/Pn._length);var kn=Pn.l2r(cn);kn!==!1&&kn!==void 0&&(Pn.range[Pr]=kn)}}return en._length*(en._rl[Pr]-cn)/(en._rl[Pr]-en._rl[Hr])}var Wr=Bt==="w"==(Qe==="n")?1:-1;if(Bt&&Qe&&(St.isSubplotConstrained||Mt.isSubplotConstrained)){var Br=(or/ct+Wr*Ht/vt)/2;or=Br*ct,Ht=Wr*Br*vt}var Ur,yn;if(Bt==="w"?or=dr(at,0,or):Bt==="e"?or=dr(at,1,-or):Bt||(or=0),Qe==="n"?Ht=dr(it,1,Ht):Qe==="s"?Ht=dr(it,0,-Ht):Qe||(Ht=0),Ur=Bt==="w"?or:0,yn=Qe==="n"?Ht:0,St.isSubplotConstrained&&!Mt.isSubplotConstrained||Mt.isSubplotConstrained&&Bt&&Qe&&Wr>0){var rn;if(Mt.isSubplotConstrained||!Bt&&Qe.length===1){for(rn=0;rn<at.length;rn++)at[rn].range=at[rn]._r.slice(),w(at[rn],1-Ht/vt);or=Ht*ct/vt,Ur=or/2}if(Mt.isSubplotConstrained||!Qe&&Bt.length===1){for(rn=0;rn<it.length;rn++)it[rn].range=it[rn]._r.slice(),w(it[rn],1-or/ct);Ht=or*vt/ct,yn=Ht/2}}(!Mt.isSubplotConstrained||!Qe)&&lr("x"),(!Mt.isSubplotConstrained||!Bt)&&lr("y");var Un=ct-or,bn=vt-Ht;Mt.isSubplotConstrained&&!(Bt&&Qe)&&(Bt?(yn=Ur?0:or*vt/ct,bn=Un*vt/ct):(Ur=yn?0:Ht*ct/vt,Un=bn*ct/vt)),Lt([Ur,yn,Un,bn]),Xe(),oe.emit("plotly_relayouting",Se)}function lr(or,Ht){for(var gr=Mt.isSubplotConstrained?{x:it,y:at}[or]:Mt[or+"axes"],br=Mt.isSubplotConstrained?{x:at,y:it}[or]:[],xr=0;xr<gr.length;xr++){var dr=gr[xr],Wr=dr._id,Br=Mt.xLinks[Wr]||Mt.yLinks[Wr],Ur=br[0]||Ze[Br]||ut[Br];Ur&&(Ht?(Ht[dr._name+".range[0]"]=Ht[Ur._name+".range[0]"],Ht[dr._name+".range[1]"]=Ht[Ur._name+".range[1]"]):dr.range=Ur.range.slice())}}function Xe(){var or=[],Ht;function gr(Wr){for(Ht=0;Ht<Wr.length;Ht++)Wr[Ht].fixedrange||or.push(Wr[Ht]._id)}function br(Wr,Br){for(Ht=0;Ht<Wr.length;Ht++){var Ur=Wr[Ht],yn=Ur[Br];!Ur.fixedrange&&yn.tickmode==="sync"&&or.push(yn._id)}}for(ze&&(gr(at),gr(St.xaxes),gr(Mt.xaxes),br(he.overlays,"xaxis")),Be&&(gr(it),gr(St.yaxes),gr(Mt.yaxes),br(he.overlays,"yaxis")),Se={},Ht=0;Ht<or.length;Ht++){var xr=or[Ht],dr=S(oe,xr);i.drawOne(oe,dr,{skipTitle:!0}),Se[dr._name+".range[0]"]=dr.range[0],Se[dr._name+".range[1]"]=dr.range[1]}i.redrawComponents(oe,or)}function Ke(){if(!oe._transitioningWithDuration){var or=oe._context.doubleClick,Ht=[];Bt&&(Ht=Ht.concat(at)),Qe&&(Ht=Ht.concat(it)),Mt.xaxes&&(Ht=Ht.concat(Mt.xaxes)),Mt.yaxes&&(Ht=Ht.concat(Mt.yaxes));var gr={},br,xr;if(or==="reset+autosize")for(or="autosize",xr=0;xr<Ht.length;xr++){br=Ht[xr];var dr=br._rangeInitial0,Wr=br._rangeInitial1,Br=dr!==void 0||Wr!==void 0;if(Br&&(dr!==void 0&&dr!==br.range[0]||Wr!==void 0&&Wr!==br.range[1])||!Br&&br.autorange!==!0){or="reset";break}}if(or==="autosize")for(xr=0;xr<Ht.length;xr++)br=Ht[xr],br.fixedrange||(gr[br._name+".autorange"]=!0);else if(or==="reset"){for((Bt||St.isSubplotConstrained)&&(Ht=Ht.concat(St.xaxes)),Qe&&!St.isSubplotConstrained&&(Ht=Ht.concat(St.yaxes)),St.isSubplotConstrained&&(Bt?Qe||(Ht=Ht.concat(it)):Ht=Ht.concat(at)),xr=0;xr<Ht.length;xr++)if(br=Ht[xr],!br.fixedrange){var Ur=br._name,yn=br._autorangeInitial;br._rangeInitial0===void 0&&br._rangeInitial1===void 0?gr[Ur+".autorange"]=!0:br._rangeInitial0===void 0?(gr[Ur+".autorange"]=yn,gr[Ur+".range"]=[null,br._rangeInitial1]):br._rangeInitial1===void 0?(gr[Ur+".range"]=[br._rangeInitial0,null],gr[Ur+".autorange"]=yn):gr[Ur+".range"]=[br._rangeInitial0,br._rangeInitial1]}}oe.emit("plotly_doubleclick",null),v.call("_guiRelayout",oe,gr)}}function Ot(){Lt([0,0,ct,vt]),_.syncOrAsync([E.previousPromises,function(){oe._fullLayout._replotting=!1,v.call("_guiRelayout",oe,Se)}],oe)}function Lt(or){var Ht=oe._fullLayout,gr=Ht._plots,br=Ht._subplots.cartesian,xr,dr,Wr,Br;if(we&&v.subplotsRegistry.splom.drag(oe),Re){for(xr=0;xr<br.length;xr++)if(dr=gr[br[xr]],Wr=dr.xaxis,Br=dr.yaxis,dr._scene){var Ur=_.simpleMap(Wr.range,Wr.r2l),yn=_.simpleMap(Br.range,Br.r2l);Wr.limitRange&&Wr.limitRange(),Br.limitRange&&Br.limitRange(),Ur=Wr.range,yn=Br.range,dr._scene.update({range:[Ur[0],yn[0],Ur[1],yn[1]]})}}if((we||Re)&&(l(oe),d(oe)),ye){var rn=or[2]/je._length,Un=or[3]/Fe._length;for(xr=0;xr<br.length;xr++){dr=gr[br[xr]],Wr=dr.xaxis,Br=dr.yaxis;var bn=(ze||Mt.isSubplotConstrained)&&!Wr.fixedrange&&Ze[Wr._id],Lr=(Be||Mt.isSubplotConstrained)&&!Br.fixedrange&&ut[Br._id],Pr,Yr,Hr,en;if(bn?(Pr=rn,Hr=Pe||Mt.isSubplotConstrained?or[0]:ur(Wr,Pr)):Mt.xaHash[Wr._id]?(Pr=rn,Hr=or[0]*Wr._length/je._length):Mt.yaHash[Wr._id]?(Pr=Un,Hr=Qe==="ns"?-or[1]*Wr._length/Fe._length:ur(Wr,Pr,{n:"top",s:"bottom"}[Qe])):(Pr=Xt(Wr,rn,Un),Hr=rr(Wr,Pr)),Pr>1&&(Wr.maxallowed!==void 0&&ze===(Wr.range[0]<Wr.range[1]?"e":"w")||Wr.minallowed!==void 0&&ze===(Wr.range[0]<Wr.range[1]?"w":"e"))&&(Pr=1,Hr=0),Lr?(Yr=Un,en=Ve||Mt.isSubplotConstrained?or[1]:ur(Br,Yr)):Mt.yaHash[Br._id]?(Yr=Un,en=or[1]*Br._length/Fe._length):Mt.xaHash[Br._id]?(Yr=rn,en=Bt==="ew"?-or[0]*Br._length/je._length:ur(Br,Yr,{e:"right",w:"left"}[Bt])):(Yr=Xt(Br,rn,Un),en=rr(Br,Yr)),Yr>1&&(Br.maxallowed!==void 0&&Be===(Br.range[0]<Br.range[1]?"n":"s")||Br.minallowed!==void 0&&Be===(Br.range[0]<Br.range[1]?"s":"n"))&&(Yr=1,en=0),!(!Pr&&!Yr)){Pr||(Pr=1),Yr||(Yr=1);var cn=Wr._offset-Hr/Pr,hn=Br._offset-en/Yr;dr.clipRect.call(s.setTranslate,Hr,en).call(s.setScale,Pr,Yr),dr.plot.call(s.setTranslate,cn,hn).call(s.setScale,1/Pr,1/Yr),(Pr!==dr.xScaleFactor||Yr!==dr.yScaleFactor)&&(s.setPointGroupScale(dr.zoomScalePts,Pr,Yr),s.setTextPointsScale(dr.zoomScaleTxt,Pr,Yr)),s.hideOutsideRangePoints(dr.clipOnAxisFalseTraces,dr),dr.xScaleFactor=Pr,dr.yScaleFactor=Yr}}}}function Xt(or,Ht,gr){return or.fixedrange?0:ze&&St.xaHash[or._id]?Ht:Be&&(St.isSubplotConstrained?St.xaHash:St.yaHash)[or._id]?gr:0}function rr(or,Ht){return Ht?(or.range=or._r.slice(),w(or,Ht),ur(or,Ht)):0}function ur(or,Ht,gr){return or._length*(1-Ht)*h[gr||or.constraintoward||"middle"]}return pt}function U(oe,he,me,Ce){var Ae=_.ensureSingle(oe.draglayer,he,me,function(Ue){Ue.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",oe.id)});return Ae.call(f,Ce),Ae.node()}function z(oe,he,me,Ce,Ae,Ue,Ve){var Pe=U(oe,"rect",he,me);return g.select(Pe).call(s.setRect,Ce,Ae,Ue,Ve),Pe}function N(oe,he){for(var me=0;me<oe.length;me++)if(!oe[me].fixedrange)return he;return""}function B(oe,he){var me=oe.range[he],Ce=Math.abs(me-oe.range[1-he]),Ae;return oe.type==="date"?me:oe.type==="log"?(Ae=Math.ceil(Math.max(0,-Math.log(Ce)/Math.LN10))+3,a("."+Ae+"g")(Math.pow(10,me))):(Ae=Math.floor(Math.log(Math.abs(me))/Math.LN10)-Math.floor(Math.log(Ce)/Math.LN10)+4,a("."+String(Ae)+"g")(me))}function O(oe,he,me,Ce,Ae){for(var Ue=0;Ue<oe.length;Ue++){var Ve=oe[Ue];if(!Ve.fixedrange)if(Ve.rangebreaks){var Pe=Ve._id.charAt(0)==="y",be=Pe?1-he:he,Le=Pe?1-me:me;Ce[Ve._name+".range[0]"]=Ve.l2r(Ve.p2l(be*Ve._length)),Ce[Ve._name+".range[1]"]=Ve.l2r(Ve.p2l(Le*Ve._length))}else{var We=Ve._rl[0],je=Ve._rl[1]-We;Ce[Ve._name+".range[0]"]=Ve.l2r(We+je*he),Ce[Ve._name+".range[1]"]=Ve.l2r(We+je*me)}}if(Ae&&Ae.length){var Fe=(he+(1-me))/2;O(Ae,Fe,1-Fe,Ce,[])}}function H(oe,he){for(var me=0;me<oe.length;me++){var Ce=oe[me];if(!Ce.fixedrange){if(Ce.rangebreaks){var Ae=0,Ue=Ce._length,Ve=Ce.p2l(Ae+he)-Ce.p2l(Ae),Pe=Ce.p2l(Ue+he)-Ce.p2l(Ue),be=(Ve+Pe)/2;Ce.range=[Ce.l2r(Ce._rl[0]-be),Ce.l2r(Ce._rl[1]-be)]}else Ce.range=[Ce.l2r(Ce._rl[0]-he/Ce._m),Ce.l2r(Ce._rl[1]-he/Ce._m)];Ce.limitRange&&Ce.limitRange()}}}function Y(oe){return 1-(oe>=0?Math.min(oe,.9):1/(1/Math.max(oe,-.3)+3.222))}function J(oe,he,me){return oe?oe==="nsew"?me?"":he==="pan"?"move":"crosshair":oe.toLowerCase()+"-resize":"pointer"}function re(oe,he,me,Ce,Ae){return oe.append("path").attr("class","zoombox").style({fill:he>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",p(me,Ce)).attr("d",Ae+"Z")}function ie(oe,he,me){return oe.append("path").attr("class","zoombox-corners").style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,opacity:0}).attr("transform",p(he,me)).attr("d","M0,0Z")}function ce(oe,he,me,Ce,Ae,Ue){oe.attr("d",Ce+"M"+me.l+","+me.t+"v"+me.h+"h"+me.w+"v-"+me.h+"h-"+me.w+"Z"),Q(oe,he,Ae,Ue)}function Q(oe,he,me,Ce){me||(oe.transition().style("fill",Ce>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),he.transition().style("opacity",1).duration(200))}function j(oe){g.select(oe).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function Z(oe){F&&oe.data&&oe._context.showTips&&(_.notifier(_._(oe,"Double-click to zoom back out"),"long"),F=!1)}function $(oe,he){return"M"+(oe.l-.5)+","+(he-m-.5)+"h-3v"+(2*m+1)+"h3ZM"+(oe.r+.5)+","+(he-m-.5)+"h3v"+(2*m+1)+"h-3Z"}function te(oe,he){return"M"+(he-m-.5)+","+(oe.t-.5)+"v-3h"+(2*m+1)+"v3ZM"+(he-m-.5)+","+(oe.b+.5)+"v3h"+(2*m+1)+"v-3Z"}function se(oe){var he=Math.floor(Math.min(oe.b-oe.t,oe.r-oe.l,m)/2);return"M"+(oe.l-3.5)+","+(oe.t-.5+he)+"h3v"+-he+"h"+he+"v-3h-"+(he+3)+"ZM"+(oe.r+3.5)+","+(oe.t-.5+he)+"h-3v"+-he+"h"+-he+"v-3h"+(he+3)+"ZM"+(oe.r+3.5)+","+(oe.b+.5-he)+"h-3v"+he+"h"+-he+"v3h"+(he+3)+"ZM"+(oe.l-3.5)+","+(oe.b+.5-he)+"h3v"+he+"h"+he+"v3h-"+(he+3)+"Z"}function ee(oe,he,me,Ce,Ae){for(var Ue=!1,Ve={},Pe={},be,Le,We,je,Fe=(Ae||{}).xaHash,Ze=(Ae||{}).yaHash,ut=0;ut<he.length;ut++){var at=he[ut];for(be in me)if(at[be]){for(We in at)!(Ae&&(Fe[We]||Ze[We]))&&!(We.charAt(0)==="x"?me:Ce)[We]&&(Ve[We]=be);for(Le in Ce)!(Ae&&(Fe[Le]||Ze[Le]))&&at[Le]&&(Ue=!0)}for(Le in Ce)if(at[Le])for(je in at)!(Ae&&(Fe[je]||Ze[je]))&&!(je.charAt(0)==="x"?me:Ce)[je]&&(Pe[je]=Le)}Ue&&(_.extendFlat(Ve,Pe),Pe={});var it={},$e=[];for(We in Ve){var st=S(oe,We);$e.push(st),it[st._id]=st}var ct={},vt=[];for(je in Pe){var St=S(oe,je);vt.push(St),ct[St._id]=St}return{xaHash:it,yaHash:ct,xaxes:$e,yaxes:vt,xLinks:Ve,yLinks:Pe,isSubplotConstrained:Ue}}function q(oe,he){if(!A)oe.onwheel!==void 0?oe.onwheel=he:oe.onmousewheel!==void 0?oe.onmousewheel=he:oe.isAddedWheelEvent||(oe.isAddedWheelEvent=!0,oe.addEventListener("wheel",he,{passive:!1}));else{var me=oe.onwheel!==void 0?"wheel":"mousewheel";oe._onwheel&&oe.removeEventListener(me,oe._onwheel),oe._onwheel=he,oe.addEventListener(me,he,{passive:!1})}}function le(oe){var he=[];for(var me in oe)he.push(oe[me]);return he}G.exports={makeDragBox:I,makeDragger:U,makeRectDragger:z,makeZoombox:re,makeCorners:ie,updateZoombox:ce,xyCorners:se,transitionZoombox:Q,removeZoombox:j,showDoubleClickNotifier:Z,attachWheelEventHandler:q}},4305:function(G,V,e){var g=e(39898),_=e(30211),a=e(28569),C=e(6964),A=e(29323).makeDragBox,v=e(85555).DRAGGERSIZE;V.initInteractions=function(t){var r=t._fullLayout;if(t._context.staticPlot){g.select(t).selectAll(".drag").remove();return}if(!(!r._has("cartesian")&&!r._has("splom"))){var s=Object.keys(r._plots||{}).sort(function(i,f){if((r._plots[i].mainplot&&!0)===(r._plots[f].mainplot&&!0)){var u=i.split("y"),y=f.split("y");return u[0]===y[0]?Number(u[1]||1)-Number(y[1]||1):Number(u[0]||1)-Number(y[0]||1)}return r._plots[i].mainplot?1:-1});s.forEach(function(i){var f=r._plots[i],u=f.xaxis,y=f.yaxis;if(!f.mainplot){var c=A(t,f,u._offset,y._offset,u._length,y._length,"ns","ew");c.onmousemove=function(l){t._fullLayout._rehover=function(){t._fullLayout._hoversubplot===i&&t._fullLayout._plots[i]&&_.hover(t,l,i)},_.hover(t,l,i),t._fullLayout._lasthover=c,t._fullLayout._hoversubplot=i},c.onmouseout=function(l){t._dragging||(t._fullLayout._hoversubplot=null,a.unhover(t,l))},t._context.showAxisDragHandles&&(A(t,f,u._offset-v,y._offset-v,v,v,"n","w"),A(t,f,u._offset+u._length,y._offset-v,v,v,"n","e"),A(t,f,u._offset-v,y._offset+y._length,v,v,"s","w"),A(t,f,u._offset+u._length,y._offset+y._length,v,v,"s","e"))}if(t._context.showAxisDragHandles){if(i===u._mainSubplot){var T=u._mainLinePosition;u.side==="top"&&(T-=v),A(t,f,u._offset+u._length*.1,T,u._length*.8,v,"","ew"),A(t,f,u._offset,T,u._length*.1,v,"","w"),A(t,f,u._offset+u._length*.9,T,u._length*.1,v,"","e")}if(i===y._mainSubplot){var h=y._mainLinePosition;y.side!=="right"&&(h-=v),A(t,f,h,y._offset+y._length*.1,v,y._length*.8,"ns",""),A(t,f,h,y._offset+y._length*.9,v,y._length*.1,"s",""),A(t,f,h,y._offset,v,y._length*.1,"n","")}}});var n=r._hoverlayer.node();n.onmousemove=function(i){i.target=t._fullLayout._lasthover,_.hover(t,i,r._hoversubplot)},n.onclick=function(i){i.target=t._fullLayout._lasthover,_.click(t,i)},n.onmousedown=function(i){t._fullLayout._lasthover.onmousedown(i)},V.updateFx(t)}},V.updateFx=function(p){var t=p._fullLayout,r=t.dragmode==="pan"?"move":"crosshair";C(t._draggers,r)}},76325:function(G,V,e){var g=e(73972),_=e(71828),a=e(41675);G.exports=function(A){return function(p,t){var r=p[A];if(Array.isArray(r))for(var s=g.subplotsRegistry.cartesian,n=s.idRegex,i=t._subplots,f=i.xaxis,u=i.yaxis,y=i.cartesian,c=t._has("cartesian")||t._has("gl2d"),T=0;T<r.length;T++){var h=r[T];if(_.isPlainObject(h)){var l=a.cleanId(h.xref,"x",!1),d=a.cleanId(h.yref,"y",!1),E=n.x.test(l),S=n.y.test(d);if(E||S){c||_.pushUnique(t._basePlotModules,s);var P=!1;E&&f.indexOf(l)===-1&&(f.push(l),P=!0),S&&u.indexOf(d)===-1&&(u.push(d),P=!0),P&&E&&S&&y.push(l+d)}}}}}},93612:function(G,V,e){var g=e(39898),_=e(73972),a=e(71828),C=e(74875),A=e(91424),v=e(27659).a0,p=e(41675),t=e(85555),r=e(77922),s=a.ensureSingle;function n(T,h,l){return a.ensureSingle(T,h,l,function(d){d.datum(l)})}V.name="cartesian",V.attr=["xaxis","yaxis"],V.idRoot=["x","y"],V.idRegex=t.idRegex,V.attrRegex=t.attrRegex,V.attributes=e(89502),V.layoutAttributes=e(13838),V.supplyLayoutDefaults=e(86763),V.transitionAxes=e(66847),V.finalizeSubplots=function(T,h){var l=h._subplots,d=l.xaxis,E=l.yaxis,S=l.cartesian,P=S.concat(l.gl2d||[]),x={},M={},w,o,L;for(w=0;w<P.length;w++){var m=P[w].split("y");x[m[0]]=1,M["y"+m[1]]=1}for(w=0;w<d.length;w++)o=d[w],x[o]||(L=(T[p.id2name(o)]||{}).anchor,t.idRegex.y.test(L)||(L="y"),S.push(o+L),P.push(o+L),M[L]||(M[L]=1,a.pushUnique(E,L)));for(w=0;w<E.length;w++)L=E[w],M[L]||(o=(T[p.id2name(L)]||{}).anchor,t.idRegex.x.test(o)||(o="x"),S.push(o+L),P.push(o+L),x[o]||(x[o]=1,a.pushUnique(d,o)));if(!P.length){o="",L="";for(var F in T)if(t.attrRegex.test(F)){var I=F.charAt(0);I==="x"?(!o||+F.substr(5)<+o.substr(5))&&(o=F):(!L||+F.substr(5)<+L.substr(5))&&(L=F)}o=o?p.name2id(o):"x",L=L?p.name2id(L):"y",d.push(o),E.push(L),S.push(o+L)}},V.plot=function(T,h,l,d){var E=T._fullLayout,S=E._subplots.cartesian,P=T.calcdata,x;if(!Array.isArray(h))for(h=[],x=0;x<P.length;x++)h.push(x);for(x=0;x<S.length;x++){for(var M=S[x],w=E._plots[M],o=[],L,m=0;m<P.length;m++){var F=P[m],I=F[0].trace;I.xaxis+I.yaxis===M&&((h.indexOf(I.index)!==-1||I.carpet)&&(L&&L[0].trace.xaxis+L[0].trace.yaxis===M&&["tonextx","tonexty","tonext"].indexOf(I.fill)!==-1&&o.indexOf(L)===-1&&o.push(L),o.push(F)),L=F)}i(T,w,o,l,d)}};function i(T,h,l,d,E){for(var S=t.traceLayerClasses,P=T._fullLayout,x=P._modules,M,w,o,L=[],m=[],F=0;F<x.length;F++){M=x[F];var I=M.name,U=_.modules[I].categories;if(U.svg){var z=M.layerName||I+"layer",N=M.plot;w=v(l,N),o=w[0],l=w[1],o.length&&L.push({i:S.indexOf(z),className:z,plotMethod:N,cdModule:o}),U.zoomScale&&m.push("."+z)}}L.sort(function(H,Y){return H.i-Y.i});var B=h.plot.selectAll("g.mlayer").data(L,function(H){return H.className});if(B.enter().append("g").attr("class",function(H){return H.className}).classed("mlayer",!0).classed("rangeplot",h.isRangePlot),B.exit().remove(),B.order(),B.each(function(H){var Y=g.select(this),J=H.className;H.plotMethod(T,h,H.cdModule,Y,d,E),t.clipOnAxisFalseQuery.indexOf("."+J)===-1&&A.setClipUrl(Y,h.layerClipId,T)}),P._has("scattergl")&&(M=_.getModule("scattergl"),o=v(l,M)[0],M.plot(T,h,o)),!T._context.staticPlot&&(h._hasClipOnAxisFalse&&(h.clipOnAxisFalseTraces=h.plot.selectAll(t.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),m.length)){var O=h.plot.selectAll(m.join(",")).selectAll(".trace");h.zoomScalePts=O.selectAll("path.point"),h.zoomScaleTxt=O.selectAll(".textpoint")}}V.clean=function(T,h,l,d){var E=d._plots||{},S=h._plots||{},P=d._subplots||{},x,M,w;if(d._hasOnlyLargeSploms&&!h._hasOnlyLargeSploms)for(w in E)x=E[w],x.plotgroup&&x.plotgroup.remove();var o=d._has&&d._has("gl"),L=h._has&&h._has("gl");if(o&&!L)for(w in E)x=E[w],x._scene&&x._scene.destroy();if(P.xaxis&&P.yaxis){var m=p.listIds({_fullLayout:d});for(M=0;M<m.length;M++){var F=m[M];h[p.id2name(F)]||d._infolayer.selectAll(".g-"+F+"title").remove()}}var I=d._has&&d._has("cartesian"),U=h._has&&h._has("cartesian");if(I&&!U)y(d._cartesianlayer.selectAll(".subplot"),d),d._defs.selectAll(".axesclip").remove(),delete d._axisConstraintGroups,delete d._axisMatchGroups;else if(P.cartesian)for(M=0;M<P.cartesian.length;M++){var z=P.cartesian[M];if(!S[z]){var N="."+z+",."+z+"-x,."+z+"-y";d._cartesianlayer.selectAll(N).remove(),c(z,d)}}},V.drawFramework=function(T){var h=T._fullLayout,l=f(T),d=h._cartesianlayer.selectAll(".subplot").data(l,String);d.enter().append("g").attr("class",function(E){return"subplot "+E[0]}),d.order(),d.exit().call(y,h),d.each(function(E){var S=E[0],P=h._plots[S];P.plotgroup=g.select(this),u(T,P),P.draglayer=s(h._draggers,"g",S)})},V.rangePlot=function(T,h,l){u(T,h),i(T,h,l),C.style(T)};function f(T){var h=T._fullLayout,l=h._subplots.cartesian,d=l.length,E,S,P,x,M,w,o=[],L=[];for(E=0;E<d;E++){P=l[E],x=h._plots[P],M=x.xaxis,w=x.yaxis;var m=M._mainAxis,F=w._mainAxis,I=m._id+F._id,U=h._plots[I];x.overlays=[],I!==P&&U?(x.mainplot=I,x.mainplotinfo=U,L.push(P)):(x.mainplot=void 0,x.mainplotinfo=void 0,o.push(P))}for(E=0;E<L.length;E++)P=L[E],x=h._plots[P],x.mainplotinfo.overlays.push(x);var z=o.concat(L),N=new Array(d);for(E=0;E<d;E++){P=z[E],x=h._plots[P],M=x.xaxis,w=x.yaxis;var B=[P,M.layer,w.layer,M.overlaying||"",w.overlaying||""];for(S=0;S<x.overlays.length;S++)B.push(x.overlays[S].id);N[E]=B}return N}function u(T,h){var l=h.plotgroup,d=h.id,E=t.layerValue2layerClass[h.xaxis.layer],S=t.layerValue2layerClass[h.yaxis.layer],P=T._fullLayout._hasOnlyLargeSploms;if(h.mainplot){var M=h.mainplotinfo,w=M.plotgroup,o=d+"-x",L=d+"-y";h.minorGridlayer=M.minorGridlayer,h.gridlayer=M.gridlayer,h.zerolinelayer=M.zerolinelayer,s(M.overlinesBelow,"path",o),s(M.overlinesBelow,"path",L),s(M.overaxesBelow,"g",o),s(M.overaxesBelow,"g",L),h.plot=s(M.overplot,"g",d),s(M.overlinesAbove,"path",o),s(M.overlinesAbove,"path",L),s(M.overaxesAbove,"g",o),s(M.overaxesAbove,"g",L),h.xlines=w.select(".overlines-"+E).select("."+o),h.ylines=w.select(".overlines-"+S).select("."+L),h.xaxislayer=w.select(".overaxes-"+E).select("."+o),h.yaxislayer=w.select(".overaxes-"+S).select("."+L)}else if(P)h.xlines=s(l,"path","xlines-above"),h.ylines=s(l,"path","ylines-above"),h.xaxislayer=s(l,"g","xaxislayer-above"),h.yaxislayer=s(l,"g","yaxislayer-above");else{var x=s(l,"g","layer-subplot");h.shapelayer=s(x,"g","shapelayer"),h.imagelayer=s(x,"g","imagelayer"),h.minorGridlayer=s(l,"g","minor-gridlayer"),h.gridlayer=s(l,"g","gridlayer"),h.zerolinelayer=s(l,"g","zerolinelayer"),s(l,"path","xlines-below"),s(l,"path","ylines-below"),h.overlinesBelow=s(l,"g","overlines-below"),s(l,"g","xaxislayer-below"),s(l,"g","yaxislayer-below"),h.overaxesBelow=s(l,"g","overaxes-below"),h.plot=s(l,"g","plot"),h.overplot=s(l,"g","overplot"),h.xlines=s(l,"path","xlines-above"),h.ylines=s(l,"path","ylines-above"),h.overlinesAbove=s(l,"g","overlines-above"),s(l,"g","xaxislayer-above"),s(l,"g","yaxislayer-above"),h.overaxesAbove=s(l,"g","overaxes-above"),h.xlines=l.select(".xlines-"+E),h.ylines=l.select(".ylines-"+S),h.xaxislayer=l.select(".xaxislayer-"+E),h.yaxislayer=l.select(".yaxislayer-"+S)}P||(n(h.minorGridlayer,"g",h.xaxis._id),n(h.minorGridlayer,"g",h.yaxis._id),h.minorGridlayer.selectAll("g").map(function(m){return m[0]}).sort(p.idSort),n(h.gridlayer,"g",h.xaxis._id),n(h.gridlayer,"g",h.yaxis._id),h.gridlayer.selectAll("g").map(function(m){return m[0]}).sort(p.idSort)),h.xlines.style("fill","none").classed("crisp",!0),h.ylines.style("fill","none").classed("crisp",!0)}function y(T,h){if(T){var l={};T.each(function(M){var w=M[0],o=g.select(this);o.remove(),c(w,h),l[w]=!0});for(var d in h._plots)for(var E=h._plots[d],S=E.overlays||[],P=0;P<S.length;P++){var x=S[P];l[x.id]&&x.plot.selectAll(".trace").remove()}}}function c(T,h){h._draggers.selectAll("g."+T).remove(),h._defs.select("#clip"+h._uid+T+"plot").remove()}V.toSVG=function(T){var h=T._fullLayout._glimages,l=g.select(T).selectAll(".svg-container"),d=l.filter(function(S,P){return P===l.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function E(){var S=this,P=S.toDataURL("image/png"),x=h.append("svg:image");x.attr({xmlns:r.svg,"xlink:href":P,preserveAspectRatio:"none",x:0,y:0,width:S.style.width,height:S.style.height})}d.each(E)},V.updateFx=e(4305).updateFx},13838:function(G,V,e){var g=e(41940),_=e(22399),a=e(79952).P,C=e(1426).extendFlat,A=e(44467).templatedArray,v=e(12663).descriptionWithDates,p=e(50606).ONEDAY,t=e(85555),r=t.HOUR_PATTERN,s=t.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},i=C({},n,{values:n.values.slice().concat(["sync"])});function f(M){return{valType:"integer",min:0,dflt:M?5:0,editType:"ticks"}}var u={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},y={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},c={valType:"data_array",editType:"ticks"},T={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function h(M){var w={valType:"number",min:0,editType:"ticks"};return M||(w.dflt=5),w}function l(M){var w={valType:"number",min:0,editType:"ticks"};return M||(w.dflt=1),w}var d={valType:"color",dflt:_.defaultLine,editType:"ticks"},E={valType:"color",dflt:_.lightLine,editType:"ticks"};function S(M){var w={valType:"number",min:0,editType:"ticks"};return M||(w.dflt=1),w}var P=C({},a,{editType:"ticks"}),x={valType:"boolean",editType:"ticks"};G.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:_.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:g({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"calc"},rangebreaks:A("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[s,r,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:p},editType:"calc"}),tickmode:i,nticks:f(),tick0:u,dtick:y,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:c,ticktext:{valType:"data_array",editType:"ticks"},ticks:T,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:h(),tickwidth:l(),tickcolor:d,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:C({},a,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:g({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:A("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:_.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:x,gridcolor:E,gridwidth:S(),griddash:P,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:_.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:_.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:f("minor"),tick0:u,dtick:y,tickvals:c,ticks:T,ticklen:h("minor"),tickwidth:l("minor"),tickcolor:d,gridcolor:E,gridwidth:S("minor"),griddash:P,showgrid:x,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:g({editType:"ticks"})}}},86763:function(G,V,e){var g=e(71828),_=e(7901),a=e(23469).isUnifiedHover,C=e(98212),A=e(44467),v=e(10820),p=e(13838),t=e(951),r=e(71453),s=e(99082),n=e(52830),i=e(41675),f=i.id2name,u=i.name2id,y=e(85555).AX_ID_PATTERN,c=e(73972),T=c.traceIs,h=c.getComponentMethod;function l(d,E,S){Array.isArray(d[E])?d[E].push(S):d[E]=[S]}G.exports=function(E,S,P){var x=S.autotypenumbers,M={},w={},o={},L={},m={},F={},I={},U={},z={},N={},B,O;for(B=0;B<P.length;B++){var H=P[B];if(!(!T(H,"cartesian")&&!T(H,"gl2d"))){var Y;if(H.xaxis)Y=f(H.xaxis),l(M,Y,H);else if(H.xaxes)for(O=0;O<H.xaxes.length;O++)l(M,f(H.xaxes[O]),H);var J;if(H.yaxis)J=f(H.yaxis),l(M,J,H);else if(H.yaxes)for(O=0;O<H.yaxes.length;O++)l(M,f(H.yaxes[O]),H);if(H.type==="funnel"?H.orientation==="h"?(Y&&(w[Y]=!0),J&&(I[J]=!0)):J&&(o[J]=!0):H.type==="image"?(J&&(U[J]=!0),Y&&(U[Y]=!0)):(J&&(m[J]=!0,F[J]=!0),(!T(H,"carpet")||H.type==="carpet"&&!H._cheater)&&Y&&(L[Y]=!0)),H.type==="carpet"&&H._cheater&&Y&&(w[Y]=!0),T(H,"2dMap")&&(z[Y]=!0,z[J]=!0),T(H,"oriented")){var re=H.orientation==="h"?J:Y;N[re]=!0}}}var ie=S._subplots,ce=ie.xaxis,Q=ie.yaxis,j=g.simpleMap(ce,f),Z=g.simpleMap(Q,f),$=j.concat(Z),te=_.background;ce.length&&Q.length&&(te=g.coerce(E,S,v,"plot_bgcolor"));var se=_.combine(te,S.paper_bgcolor),ee,q,le,oe,he;function me(){var Me=M[ee]||[];he._traceIndices=Me.map(function(He){return He._expandedIndex}),he._annIndices=[],he._shapeIndices=[],he._selectionIndices=[],he._imgIndices=[],he._subplotsWith=[],he._counterAxes=[],he._name=he._attr=ee,he._id=q}function Ce(Me,He){return g.coerce(oe,he,p,Me,He)}function Ae(Me,He){return g.coerce2(oe,he,p,Me,He)}function Ue(Me){return Me==="x"?Q:ce}function Ve(Me,He){for(var qe=Me==="x"?j:Z,rt=[],pt=0;pt<qe.length;pt++){var At=qe[pt];At!==He&&!(E[At]||{}).overlaying&&rt.push(u(At))}return rt}var Pe={x:Ue("x"),y:Ue("y")},be=Pe.x.concat(Pe.y),Le={},We=[];function je(){var Me=oe.matches;y.test(Me)&&be.indexOf(Me)===-1&&(Le[Me]=oe.type,We=Object.keys(Le))}var Fe=C(E,S),Ze=a(Fe);for(B=0;B<$.length;B++){ee=$[B],q=u(ee),le=ee.charAt(0),g.isPlainObject(E[ee])||(E[ee]={}),oe=E[ee],he=A.newContainer(S,ee,le+"axis"),me();var ut=le==="x"&&!L[ee]&&w[ee]||le==="y"&&!m[ee]&&o[ee],at=le==="y"&&(!F[ee]&&I[ee]||U[ee]),it={hasMinor:!0,letter:le,font:S.font,outerTicks:z[ee],showGrid:!N[ee],data:M[ee]||[],bgColor:se,calendar:S.calendar,automargin:!0,visibleDflt:ut,reverseDflt:at,autotypenumbersDflt:x,splomStash:((S._splomAxes||{})[le]||{})[q]};Ce("uirevision",S.uirevision),t(oe,he,Ce,it),r(oe,he,Ce,it,S);var $e=Ze&&le===Fe.charAt(0),st=Ae("spikecolor",Ze?he.color:void 0),ct=Ae("spikethickness",Ze?1.5:void 0),vt=Ae("spikedash",Ze?"dot":void 0),St=Ae("spikemode",Ze?"across":void 0),Mt=Ae("spikesnap"),Bt=Ce("showspikes",!!$e||!!st||!!ct||!!vt||!!St||!!Mt);Bt||(delete he.spikecolor,delete he.spikethickness,delete he.spikedash,delete he.spikemode,delete he.spikesnap);var Qe=f(oe.overlaying),ke=[0,1];if(S[Qe]!==void 0){var ze=f(S[Qe].anchor);S[ze]!==void 0&&(ke=S[ze].domain)}n(oe,he,Ce,{letter:le,counterAxes:Pe[le],overlayableAxes:Ve(le,ee),grid:S.grid,overlayingDomain:ke}),Ce("title.standoff"),je(),he._input=oe}for(B=0;B<We.length;){q=We[B++],ee=f(q),le=ee.charAt(0),g.isPlainObject(E[ee])||(E[ee]={}),oe=E[ee],he=A.newContainer(S,ee,le+"axis"),me();var Be={letter:le,font:S.font,outerTicks:z[ee],showGrid:!N[ee],data:[],bgColor:se,calendar:S.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:x,splomStash:((S._splomAxes||{})[le]||{})[q]};Ce("uirevision",S.uirevision),he.type=Le[q]||"linear",r(oe,he,Ce,Be,S),n(oe,he,Ce,{letter:le,counterAxes:Pe[le],overlayableAxes:Ve(le,ee),grid:S.grid}),Ce("fixedrange"),je(),he._input=oe}var Re=h("rangeslider","handleDefaults"),we=h("rangeselector","handleDefaults");for(B=0;B<j.length;B++)ee=j[B],oe=E[ee],he=S[ee],Re(E,S,ee),he.type==="date"&&we(oe,he,S,Z,he.calendar),Ce("fixedrange");for(B=0;B<Z.length;B++){ee=Z[B],oe=E[ee],he=S[ee];var ye=S[f(he.anchor)],Se=h("rangeslider","isVisible")(ye);Ce("fixedrange",Se)}s.handleDefaults(E,S,{axIds:be.concat(We).sort(i.idSort),axHasImage:U})}},92128:function(G,V,e){var g=e(84267).mix,_=e(22399),a=e(71828);G.exports=function(A,v,p,t){t=t||{};var r=t.dfltColor;function s(o,L){return a.coerce2(A,v,t.attributes,o,L)}var n=s("linecolor",r),i=s("linewidth"),f=p("showline",t.showLine||!!n||!!i);f||(delete v.linecolor,delete v.linewidth);var u=g(r,t.bgColor,t.blend||_.lightFraction).toRgbString(),y=s("gridcolor",u),c=s("gridwidth"),T=s("griddash"),h=p("showgrid",t.showGrid||!!y||!!c||!!T);if(h||(delete v.gridcolor,delete v.gridwidth,delete v.griddash),t.hasMinor){var l=g(v.gridcolor,t.bgColor,67).toRgbString(),d=s("minor.gridcolor",l),E=s("minor.gridwidth",v.gridwidth||1),S=s("minor.griddash",v.griddash||"solid"),P=p("minor.showgrid",!!d||!!E||!!S);P||(delete v.minor.gridcolor,delete v.minor.gridwidth,delete v.minor.griddash)}if(!t.noZeroLine){var x=s("zerolinecolor",r),M=s("zerolinewidth"),w=p("zeroline",t.showGrid||!!x||!!M);w||(delete v.zerolinecolor,delete v.zerolinewidth)}}},52830:function(G,V,e){var g=e(92770),_=e(71828);G.exports=function(C,A,v,p){var t=p.counterAxes||[],r=p.overlayableAxes||[],s=p.letter,n=p.grid,i=p.overlayingDomain,f,u,y,c,T,h;n&&(u=n._domains[s][n._axisMap[A._id]],f=n._anchors[A._id],u&&(y=n[s+"side"].split(" ")[0],c=n.domain[s][y==="right"||y==="top"?1:0])),u=u||[0,1],f=f||(g(C.position)?"free":t[0]||"free"),y=y||(s==="x"?"bottom":"left"),c=c||0,T=0,h=!1;var l=_.coerce(C,A,{anchor:{valType:"enumerated",values:["free"].concat(t),dflt:f}},"anchor"),d=_.coerce(C,A,{side:{valType:"enumerated",values:s==="x"?["bottom","top"]:["left","right"],dflt:y}},"side");if(l==="free"){if(s==="y"){var E=v("autoshift");E&&(c=d==="left"?i[0]:i[1],h=A.automargin?A.automargin:!0,T=d==="left"?-3:3),v("shift",T)}v("position",c)}v("automargin",h);var S=!1;if(r.length&&(S=_.coerce(C,A,{overlaying:{valType:"enumerated",values:[!1].concat(r),dflt:!1}},"overlaying")),!S){var P=v("domain",u);P[0]>P[1]-.000244140625&&(A.domain=u),_.noneOrAll(C.domain,A.domain,u),A.tickmode==="sync"&&(A.tickmode="auto")}return v("layer"),A}},89426:function(G,V,e){var g=e(59652);G.exports=function(a,C,A,v,p){p||(p={});var t=p.tickSuffixDflt,r=g(a),s=A("tickprefix");s&&A("showtickprefix",r);var n=A("ticksuffix",t);n&&A("showticksuffix",r)}},23608:function(G,V,e){var g=e(23074);G.exports=function(a,C,A,v){var p=C._template||{},t=C.type||p.type||"-";A("minallowed"),A("maxallowed");var r=A("range");if(!r){var s;!v.noInsiderange&&t!=="log"&&(s=A("insiderange"),s&&(s[0]===null||s[1]===null)&&(C.insiderange=!1,s=void 0),s&&(r=A("range",s)))}var n=C.getAutorangeDflt(r,v),i=A("autorange",n),f;r&&(r[0]===null&&r[1]===null||(r[0]===null||r[1]===null)&&(i==="reversed"||i===!0)||r[0]!==null&&(i==="min"||i==="max reversed")||r[1]!==null&&(i==="max"||i==="min reversed"))&&(r=void 0,delete C.range,C.autorange=!0,f=!0),f||(n=C.getAutorangeDflt(r,v),i=A("autorange",n)),i&&(g(A,i,r),(t==="linear"||t==="-")&&A("rangemode")),C.cleanRange()}},42449:function(G,V,e){var g=e(18783).FROM_BL;G.exports=function(a,C,A){A===void 0&&(A=g[a.constraintoward||"center"]);var v=[a.r2l(a.range[0]),a.r2l(a.range[1])],p=v[0]+(v[1]-v[0])*A;a.range=a._input.range=[a.l2r(p+(v[0]-p)*C),a.l2r(p+(v[1]-p)*C)],a.setScale()}},21994:function(G,V,e){var g=e(39898),_=e(84096).g0,a=e(71828),C=a.numberFormat,A=e(92770),v=a.cleanNumber,p=a.ms2DateTime,t=a.dateTime2ms,r=a.ensureNumber,s=a.isArrayOrTypedArray,n=e(50606),i=n.FP_SAFE,f=n.BADNUM,u=n.LOG_CLIP,y=n.ONEWEEK,c=n.ONEDAY,T=n.ONEHOUR,h=n.ONEMIN,l=n.ONESEC,d=e(41675),E=e(85555),S=E.HOUR_PATTERN,P=E.WEEKDAY_PATTERN;function x(w){return Math.pow(10,w)}function M(w){return w!=null}G.exports=function(o,L){L=L||{};var m=o._id||"x",F=m.charAt(0);function I($,te){if($>0)return Math.log($)/Math.LN10;if($<=0&&te&&o.range&&o.range.length===2){var se=o.range[0],ee=o.range[1];return .5*(se+ee-2*u*Math.abs(se-ee))}else return f}function U($,te,se,ee){if((ee||{}).msUTC&&A($))return+$;var q=t($,se||o.calendar);if(q===f)if(A($)){$=+$;var le=Math.floor(a.mod($+.05,1)*10),oe=Math.round($-le/10);q=t(new Date(oe))+le/10}else return f;return q}function z($,te,se){return p($,te,se||o.calendar)}function N($){return o._categories[Math.round($)]}function B($){if(M($)){if(o._categoriesMap===void 0&&(o._categoriesMap={}),o._categoriesMap[$]!==void 0)return o._categoriesMap[$];o._categories.push(typeof $=="number"?String($):$);var te=o._categories.length-1;return o._categoriesMap[$]=te,te}return f}function O($,te){for(var se=new Array(te),ee=0;ee<te;ee++){var q=($[0]||[])[ee],le=($[1]||[])[ee];se[ee]=H([q,le])}return se}function H($){if(o._categoriesMap)return o._categoriesMap[$]}function Y($){var te=H($);if(te!==void 0)return te;if(A($))return+$}function J($){return A($)?+$:H($)}function re($,te,se){return g.round(se+te*$,2)}function ie($,te,se){return($-se)/te}var ce=function(te){return A(te)?re(te,o._m,o._b):f},Q=function($){return ie($,o._m,o._b)};if(o.rangebreaks){var j=F==="y";ce=function($){if(!A($))return f;var te=o._rangebreaks.length;if(!te)return re($,o._m,o._b);var se=j;o.range[0]>o.range[1]&&(se=!se);for(var ee=se?-1:1,q=ee*$,le=0,oe=0;oe<te;oe++){var he=ee*o._rangebreaks[oe].min,me=ee*o._rangebreaks[oe].max;if(q<he)break;if(q>me)le=oe+1;else{le=q<(he+me)/2?oe:oe+1;break}}var Ce=o._B[le]||0;return isFinite(Ce)?re($,o._m2,Ce):0},Q=function($){var te=o._rangebreaks.length;if(!te)return ie($,o._m,o._b);for(var se=0,ee=0;ee<te&&!($<o._rangebreaks[ee].pmin);ee++)$>o._rangebreaks[ee].pmax&&(se=ee+1);return ie($,o._m2,o._B[se])}}o.c2l=o.type==="log"?I:r,o.l2c=o.type==="log"?x:r,o.l2p=ce,o.p2l=Q,o.c2p=o.type==="log"?function($,te){return ce(I($,te))}:ce,o.p2c=o.type==="log"?function($){return x(Q($))}:Q,["linear","-"].indexOf(o.type)!==-1?(o.d2r=o.r2d=o.d2c=o.r2c=o.d2l=o.r2l=v,o.c2d=o.c2r=o.l2d=o.l2r=r,o.d2p=o.r2p=function($){return o.l2p(v($))},o.p2d=o.p2r=Q,o.cleanPos=r):o.type==="log"?(o.d2r=o.d2l=function($,te){return I(v($),te)},o.r2d=o.r2c=function($){return x(v($))},o.d2c=o.r2l=v,o.c2d=o.l2r=r,o.c2r=I,o.l2d=x,o.d2p=function($,te){return o.l2p(o.d2r($,te))},o.p2d=function($){return x(Q($))},o.r2p=function($){return o.l2p(v($))},o.p2r=Q,o.cleanPos=r):o.type==="date"?(o.d2r=o.r2d=a.identity,o.d2c=o.r2c=o.d2l=o.r2l=U,o.c2d=o.c2r=o.l2d=o.l2r=z,o.d2p=o.r2p=function($,te,se){return o.l2p(U($,0,se))},o.p2d=o.p2r=function($,te,se){return z(Q($),te,se)},o.cleanPos=function($){return a.cleanDate($,f,o.calendar)}):o.type==="category"?(o.d2c=o.d2l=B,o.r2d=o.c2d=o.l2d=N,o.d2r=o.d2l_noadd=Y,o.r2c=function($){var te=J($);return te!==void 0?te:o.fraction2r(.5)},o.l2r=o.c2r=r,o.r2l=J,o.d2p=function($){return o.l2p(o.r2c($))},o.p2d=function($){return N(Q($))},o.r2p=o.d2p,o.p2r=Q,o.cleanPos=function($){return typeof $=="string"&&$!==""?$:r($)}):o.type==="multicategory"&&(o.r2d=o.c2d=o.l2d=N,o.d2r=o.d2l_noadd=Y,o.r2c=function($){var te=Y($);return te!==void 0?te:o.fraction2r(.5)},o.r2c_just_indices=H,o.l2r=o.c2r=r,o.r2l=Y,o.d2p=function($){return o.l2p(o.r2c($))},o.p2d=function($){return N(Q($))},o.r2p=o.d2p,o.p2r=Q,o.cleanPos=function($){return Array.isArray($)||typeof $=="string"&&$!==""?$:r($)},o.setupMultiCategory=function($){var te=o._traceIndices,se,ee,q=o._matchGroup;if(q&&o._categories.length===0){for(var le in q)if(le!==m){var oe=L[d.id2name(le)];te=te.concat(oe._traceIndices)}}var he=[[0,{}],[0,{}]],me=[];for(se=0;se<te.length;se++){var Ce=$[te[se]];if(F in Ce){var Ae=Ce[F],Ue=Ce._length||a.minRowLength(Ae);if(s(Ae[0])&&s(Ae[1]))for(ee=0;ee<Ue;ee++){var Ve=Ae[0][ee],Pe=Ae[1][ee];M(Ve)&&M(Pe)&&(me.push([Ve,Pe]),Ve in he[0][1]||(he[0][1][Ve]=he[0][0]++),Pe in he[1][1]||(he[1][1][Pe]=he[1][0]++))}}}for(me.sort(function(be,Le){var We=he[0][1],je=We[be[0]]-We[Le[0]];if(je)return je;var Fe=he[1][1];return Fe[be[1]]-Fe[Le[1]]}),se=0;se<me.length;se++)B(me[se])}),o.fraction2r=function($){var te=o.r2l(o.range[0]),se=o.r2l(o.range[1]);return o.l2r(te+$*(se-te))},o.r2fraction=function($){var te=o.r2l(o.range[0]),se=o.r2l(o.range[1]);return(o.r2l($)-te)/(se-te)},o.limitRange=function($){var te=o.minallowed,se=o.maxallowed;if(!(te===void 0&&se===void 0)){$||($="range");var ee=a.nestedProperty(o,$).get(),q=a.simpleMap(ee,o.r2l),le=q[1]<q[0];le&&q.reverse();var oe=a.simpleMap([te,se],o.r2l);te!==void 0&&q[0]<oe[0]&&(ee[le?1:0]=te),se!==void 0&&q[1]>oe[1]&&(ee[le?0:1]=se)}},o.cleanRange=function($,te){o._cleanRange($,te),o.limitRange($)},o._cleanRange=function($,te){te||(te={}),$||($="range");var se=a.nestedProperty(o,$).get(),ee,q;if(o.type==="date"?q=a.dfltRange(o.calendar):F==="y"?q=E.DFLTRANGEY:o._name==="realaxis"?q=[0,1]:q=te.dfltRange||E.DFLTRANGEX,q=q.slice(),(o.rangemode==="tozero"||o.rangemode==="nonnegative")&&(q[0]=0),!se||se.length!==2){a.nestedProperty(o,$).set(q);return}var le=se[0]===null,oe=se[1]===null;for(o.type==="date"&&!o.autorange&&(se[0]=a.cleanDate(se[0],f,o.calendar),se[1]=a.cleanDate(se[1],f,o.calendar)),ee=0;ee<2;ee++)if(o.type==="date"){if(!a.isDateTime(se[ee],o.calendar)){o[$]=q;break}if(o.r2l(se[0])===o.r2l(se[1])){var he=a.constrain(o.r2l(se[0]),a.MIN_MS+1e3,a.MAX_MS-1e3);se[0]=o.l2r(he-1e3),se[1]=o.l2r(he+1e3);break}}else{if(!A(se[ee]))if(!(le||oe)&&A(se[1-ee]))se[ee]=se[1-ee]*(ee?10:.1);else{o[$]=q;break}if(se[ee]<-i?se[ee]=-i:se[ee]>i&&(se[ee]=i),se[0]===se[1]){var me=Math.max(1,Math.abs(se[0]*1e-6));se[0]-=me,se[1]+=me}}},o.setScale=function($){var te=L._size;if(o.overlaying){var se=d.getFromId({_fullLayout:L},o.overlaying);o.domain=se.domain}var ee=$&&o._r?"_r":"range",q=o.calendar;o.cleanRange(ee);var le=o.r2l(o[ee][0],q),oe=o.r2l(o[ee][1],q),he=F==="y";if(he?(o._offset=te.t+(1-o.domain[1])*te.h,o._length=te.h*(o.domain[1]-o.domain[0]),o._m=o._length/(le-oe),o._b=-o._m*oe):(o._offset=te.l+o.domain[0]*te.w,o._length=te.w*(o.domain[1]-o.domain[0]),o._m=o._length/(oe-le),o._b=-o._m*le),o._rangebreaks=[],o._lBreaks=0,o._m2=0,o._B=[],o.rangebreaks){var me,Ce;if(o._rangebreaks=o.locateBreaks(Math.min(le,oe),Math.max(le,oe)),o._rangebreaks.length){for(me=0;me<o._rangebreaks.length;me++)Ce=o._rangebreaks[me],o._lBreaks+=Math.abs(Ce.max-Ce.min);var Ae=he;le>oe&&(Ae=!Ae),Ae&&o._rangebreaks.reverse();var Ue=Ae?-1:1;for(o._m2=Ue*o._length/(Math.abs(oe-le)-o._lBreaks),o._B.push(-o._m2*(he?oe:le)),me=0;me<o._rangebreaks.length;me++)Ce=o._rangebreaks[me],o._B.push(o._B[o._B.length-1]-Ue*o._m2*(Ce.max-Ce.min));for(me=0;me<o._rangebreaks.length;me++)Ce=o._rangebreaks[me],Ce.pmin=ce(Ce.min),Ce.pmax=ce(Ce.max)}}if(!isFinite(o._m)||!isFinite(o._b)||o._length<0)throw L._replotting=!1,new Error("Something went wrong with axis scaling")},o.maskBreaks=function($){var te=o.rangebreaks||[],se,ee,q,le,oe;te._cachedPatterns||(te._cachedPatterns=te.map(function(We){return We.enabled&&We.bounds?a.simpleMap(We.bounds,We.pattern?v:o.d2c):null})),te._cachedValues||(te._cachedValues=te.map(function(We){return We.enabled&&We.values?a.simpleMap(We.values,o.d2c).sort(a.sorterAsc):null}));for(var he=0;he<te.length;he++){var me=te[he];if(me.enabled){if(me.bounds){var Ce=me.pattern;switch(se=te._cachedPatterns[he],ee=se[0],q=se[1],Ce){case P:oe=new Date($),le=oe.getUTCDay(),ee>q&&(q+=7,le<ee&&(le+=7));break;case S:oe=new Date($);var Ae=oe.getUTCHours(),Ue=oe.getUTCMinutes(),Ve=oe.getUTCSeconds(),Pe=oe.getUTCMilliseconds();le=Ae+(Ue/60+Ve/3600+Pe/36e5),ee>q&&(q+=24,le<ee&&(le+=24));break;case"":le=$;break}if(le>=ee&&le<q)return f}else for(var be=te._cachedValues[he],Le=0;Le<be.length;Le++)if(ee=be[Le],q=ee+me.dvalue,$>=ee&&$<q)return f}}return $},o.locateBreaks=function($,te){var se,ee,q,le,oe=[];if(!o.rangebreaks)return oe;var he=o.rangebreaks.slice().sort(function(Fe,Ze){return Fe.pattern===P&&Ze.pattern===S?-1:Ze.pattern===P&&Fe.pattern===S?1:0}),me=function(Fe,Ze){if(Fe=a.constrain(Fe,$,te),Ze=a.constrain(Ze,$,te),Fe!==Ze){for(var ut=!0,at=0;at<oe.length;at++){var it=oe[at];Fe<it.max&&Ze>=it.min&&(Fe<it.min&&(it.min=Fe),Ze>it.max&&(it.max=Ze),ut=!1)}ut&&oe.push({min:Fe,max:Ze})}};for(se=0;se<he.length;se++){var Ce=he[se];if(Ce.enabled)if(Ce.bounds){var Ae=$,Ue=te;Ce.pattern&&(Ae=Math.floor(Ae)),ee=a.simpleMap(Ce.bounds,Ce.pattern?v:o.r2l),q=ee[0],le=ee[1];var Ve=new Date(Ae),Pe,be;switch(Ce.pattern){case P:be=y,Pe=((le<q?7:0)+(le-q))*c,Ae+=q*c-(Ve.getUTCDay()*c+Ve.getUTCHours()*T+Ve.getUTCMinutes()*h+Ve.getUTCSeconds()*l+Ve.getUTCMilliseconds());break;case S:be=c,Pe=((le<q?24:0)+(le-q))*T,Ae+=q*T-(Ve.getUTCHours()*T+Ve.getUTCMinutes()*h+Ve.getUTCSeconds()*l+Ve.getUTCMilliseconds());break;default:Ae=Math.min(ee[0],ee[1]),Ue=Math.max(ee[0],ee[1]),be=Ue-Ae,Pe=be}for(var Le=Ae;Le<Ue;Le+=be)me(Le,Le+Pe)}else for(var We=a.simpleMap(Ce.values,o.d2c),je=0;je<We.length;je++)q=We[je],le=q+Ce.dvalue,me(q,le)}return oe.sort(function(Fe,Ze){return Fe.min-Ze.min}),oe},o.makeCalcdata=function($,te,se){var ee,q,le,oe,he=o.type,me=he==="date"&&$[te+"calendar"];if(te in $){if(ee=$[te],oe=$._length||a.minRowLength(ee),a.isTypedArray(ee)&&(he==="linear"||he==="log")){if(oe===ee.length)return ee;if(ee.subarray)return ee.subarray(0,oe)}if(he==="multicategory")return O(ee,oe);for(q=new Array(oe),le=0;le<oe;le++)q[le]=o.d2c(ee[le],0,me,se)}else{var Ce=te+"0"in $?o.d2c($[te+"0"],0,me):0,Ae=$["d"+te]?Number($["d"+te]):1;for(ee=$[{x:"y",y:"x"}[te]],oe=$._length||ee.length,q=new Array(oe),le=0;le<oe;le++)q[le]=Ce+le*Ae}if(o.rangebreaks)for(le=0;le<oe;le++)q[le]=o.maskBreaks(q[le]);return q},o.isValidRange=function($,te){return Array.isArray($)&&$.length===2&&(te&&$[0]===null||A(o.r2l($[0])))&&(te&&$[1]===null||A(o.r2l($[1])))},o.getAutorangeDflt=function($,te){var se=!o.isValidRange($,"nullOk");return se&&te&&te.reverseDflt?se="reversed":$&&($[0]===null&&$[1]===null?se=!0:$[0]===null&&$[1]!==null?se="min":$[0]!==null&&$[1]===null&&(se="max")),se},o.isReversed=function(){var $=o.autorange;return $==="reversed"||$==="min reversed"||$==="max reversed"},o.isPtWithinRange=function($,te){var se=o.c2l($[F],null,te),ee=o.r2l(o.range[0]),q=o.r2l(o.range[1]);return ee<q?ee<=se&&se<=q:q<=se&&se<=ee},o._emptyCategories=function(){o._categories=[],o._categoriesMap={}},o.clearCalc=function(){var $=o._matchGroup;if($){var te=null,se=null;for(var ee in $){var q=L[d.id2name(ee)];if(q._categories){te=q._categories,se=q._categoriesMap;break}}te&&se?(o._categories=te,o._categoriesMap=se):o._emptyCategories()}else o._emptyCategories();if(o._initialCategories)for(var le=0;le<o._initialCategories.length;le++)B(o._initialCategories[le])},o.sortByInitialCategories=function(){var $=[];if(o._emptyCategories(),o._initialCategories)for(var te=0;te<o._initialCategories.length;te++)B(o._initialCategories[te]);$=$.concat(o._traceIndices);var se=o._matchGroup;for(var ee in se)if(m!==ee){var q=L[d.id2name(ee)];q._categories=o._categories,q._categoriesMap=o._categoriesMap,$=$.concat(q._traceIndices)}return $};var Z=L._d3locale;o.type==="date"&&(o._dateFormat=Z?Z.timeFormat:_,o._extraFormat=L._extraFormat),o._separators=L.separators,o._numFormat=Z?Z.numberFormat:C,delete o._minDtick,delete o._forceTick0}},59652:function(G){G.exports=function(e){var g=["showexponent","showtickprefix","showticksuffix"],_=g.filter(function(C){return e[C]!==void 0}),a=function(C){return e[C]===e[_[0]]};if(_.every(a)||_.length===1)return e[_[0]]}},96115:function(G,V,e){var g=e(71828),_=e(7901).contrast,a=e(13838),C=e(59652),A=e(85501);G.exports=function(t,r,s,n,i){i||(i={});var f=s("labelalias");g.isPlainObject(f)||delete r.labelalias;var u=C(t),y=s("showticklabels");if(y){var c=i.font||{},T=r.color,h=r.ticklabelposition||"",l=h.indexOf("inside")!==-1?_(i.bgColor):T&&T!==a.color.dflt?T:c.color;if(g.coerceFont(s,"tickfont",{family:c.family,size:c.size,color:l}),!i.noTicklabelstep&&n!=="multicategory"&&n!=="log"&&s("ticklabelstep"),i.noAng||s("tickangle"),n!=="category"){var d=s("tickformat");A(t,r,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),r.tickformatstops.length||delete r.tickformatstops,!i.noExp&&!d&&n!=="date"&&(s("showexponent",u),s("exponentformat"),s("minexponent"),s("separatethousands"))}}};function v(p,t){function r(n,i){return g.coerce(p,t,a.tickformatstops,n,i)}var s=r("enabled");s&&(r("dtickrange"),r("value"))}},38701:function(G,V,e){var g=e(71828),_=e(13838);G.exports=function(C,A,v,p){var t=p.isMinor,r=t?C.minor||{}:C,s=t?A.minor:A,n=t?_.minor:_,i=t?"minor.":"",f=g.coerce2(r,s,n,"ticklen",t?(A.ticklen||5)*.6:void 0),u=g.coerce2(r,s,n,"tickwidth",t?A.tickwidth||1:void 0),y=g.coerce2(r,s,n,"tickcolor",(t?A.tickcolor:void 0)||s.color),c=v(i+"ticks",!t&&p.outerTicks||f||u||y?"outside":"");c||(delete s.ticklen,delete s.tickwidth,delete s.tickcolor)}},26218:function(G,V,e){var g=e(66287),_=e(71828).isArrayOrTypedArray;G.exports=function(C,A,v,p,t){t||(t={});var r=t.isMinor,s=r?C.minor||{}:C,n=r?A.minor:A,i=r?"minor.":"";function f(E){var S=s[E];return S!==void 0?S:(n._template||{})[E]}var u=f("tick0"),y=f("dtick"),c=f("tickvals"),T=_(c)?"array":y?"linear":"auto",h=v(i+"tickmode",T);if(h==="auto"||h==="sync")v(i+"nticks");else if(h==="linear"){var l=n.dtick=g.dtick(y,p);n.tick0=g.tick0(u,p,A.calendar,l)}else if(p!=="multicategory"){var d=v(i+"tickvals");d===void 0?n.tickmode="auto":r||v("ticktext")}}},66847:function(G,V,e){var g=e(39898),_=e(73972),a=e(71828),C=e(91424),A=e(89298);G.exports=function(p,t,r,s){var n=p._fullLayout;if(t.length===0){A.redrawComponents(p);return}function i(S){var P=S.xaxis,x=S.yaxis;n._defs.select("#"+S.clipId+"> rect").call(C.setTranslate,0,0).call(C.setScale,1,1),S.plot.call(C.setTranslate,P._offset,x._offset).call(C.setScale,1,1);var M=S.plot.selectAll(".scatterlayer .trace");M.selectAll(".point").call(C.setPointGroupScale,1,1),M.selectAll(".textpoint").call(C.setTextPointsScale,1,1),M.call(C.hideOutsideRangePoints,S)}function f(S,P){var x=S.plotinfo,M=x.xaxis,w=x.yaxis,o=M._length,L=w._length,m=!!S.xr1,F=!!S.yr1,I=[];if(m){var U=a.simpleMap(S.xr0,M.r2l),z=a.simpleMap(S.xr1,M.r2l),N=U[1]-U[0],B=z[1]-z[0];I[0]=(U[0]*(1-P)+P*z[0]-U[0])/(U[1]-U[0])*o,I[2]=o*(1-P+P*B/N),M.range[0]=M.l2r(U[0]*(1-P)+P*z[0]),M.range[1]=M.l2r(U[1]*(1-P)+P*z[1])}else I[0]=0,I[2]=o;if(F){var O=a.simpleMap(S.yr0,w.r2l),H=a.simpleMap(S.yr1,w.r2l),Y=O[1]-O[0],J=H[1]-H[0];I[1]=(O[1]*(1-P)+P*H[1]-O[1])/(O[0]-O[1])*L,I[3]=L*(1-P+P*J/Y),w.range[0]=M.l2r(O[0]*(1-P)+P*H[0]),w.range[1]=w.l2r(O[1]*(1-P)+P*H[1])}else I[1]=0,I[3]=L;A.drawOne(p,M,{skipTitle:!0}),A.drawOne(p,w,{skipTitle:!0}),A.redrawComponents(p,[M._id,w._id]);var re=m?o/I[2]:1,ie=F?L/I[3]:1,ce=m?I[0]:0,Q=F?I[1]:0,j=m?I[0]/I[2]*o:0,Z=F?I[1]/I[3]*L:0,$=M._offset-j,te=w._offset-Z;x.clipRect.call(C.setTranslate,ce,Q).call(C.setScale,1/re,1/ie),x.plot.call(C.setTranslate,$,te).call(C.setScale,re,ie),C.setPointGroupScale(x.zoomScalePts,1/re,1/ie),C.setTextPointsScale(x.zoomScaleTxt,1/re,1/ie)}var u;s&&(u=s());function y(){for(var S={},P=0;P<t.length;P++){var x=t[P],M=x.plotinfo.xaxis,w=x.plotinfo.yaxis;x.xr1&&(S[M._name+".range"]=x.xr1.slice()),x.yr1&&(S[w._name+".range"]=x.yr1.slice())}return u&&u(),_.call("relayout",p,S).then(function(){for(var o=0;o<t.length;o++)i(t[o].plotinfo)})}function c(){for(var S={},P=0;P<t.length;P++){var x=t[P],M=x.plotinfo.xaxis,w=x.plotinfo.yaxis;x.xr0&&(S[M._name+".range"]=x.xr0.slice()),x.yr0&&(S[w._name+".range"]=x.yr0.slice())}return _.call("relayout",p,S).then(function(){for(var o=0;o<t.length;o++)i(t[o].plotinfo)})}var T,h,l,d=g.ease(r.easing);p._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(l),l=null,c()});function E(){h=Date.now();for(var S=Math.min(1,(h-T)/r.duration),P=d(S),x=0;x<t.length;x++)f(t[x],P);h-T>r.duration?(y(),l=window.cancelAnimationFrame(E)):l=window.requestAnimationFrame(E)}return T=Date.now(),l=window.requestAnimationFrame(E),Promise.resolve()}},951:function(G,V,e){var g=e(73972).traceIs,_=e(4322);G.exports=function(t,r,s,n){s("autotypenumbers",n.autotypenumbersDflt);var i=s("type",(n.splomStash||{}).type);i==="-"&&(a(r,n.data),r.type==="-"?r.type="linear":t.type=r.type)};function a(p,t){if(p.type==="-"){var r=p._id,s=r.charAt(0),n;r.indexOf("scene")!==-1&&(r=s);var i=C(t,r,s);if(i){if(i.type==="histogram"&&s==={v:"y",h:"x"}[i.orientation||"v"]){p.type="linear";return}var f=s+"calendar",u=i[f],y={noMultiCategory:!g(i,"cartesian")||g(i,"noMultiCategory")};if(i.type==="box"&&i._hasPreCompStats&&s==={h:"x",v:"y"}[i.orientation||"v"]&&(y.noMultiCategory=!0),y.autotypenumbers=p.autotypenumbers,v(i,s)){var c=A(i),T=[];for(n=0;n<t.length;n++){var h=t[n];!g(h,"box-violin")||(h[s+"axis"]||s)!==r||(h[c]!==void 0?T.push(h[c][0]):h.name!==void 0?T.push(h.name):T.push("text"),h[f]!==u&&(u=void 0))}p.type=_(T,u,y)}else if(i.type==="splom"){var l=i.dimensions,d=l[i._axesDim[r]];d.visible&&(p.type=_(d.values,u,y))}else p.type=_(i[s]||[i[s+"0"]],u,y)}}}function C(p,t,r){for(var s=0;s<p.length;s++){var n=p[s];if(n.type==="splom"&&n._length>0&&(n["_"+r+"axes"]||{})[t])return n;if((n[r+"axis"]||r)===t){if(v(n,r))return n;if((n[r]||[]).length||n[r+"0"])return n}}}function A(p){return{v:"x",h:"y"}[p.orientation||"v"]}function v(p,t){var r=A(p),s=g(p,"box-violin"),n=g(p._fullInput||{},"candlestick");return s&&!n&&t===r&&p[r]===void 0&&p[r+"0"]===void 0}},31137:function(G,V,e){var g=e(73972),_=e(71828);V.manageCommandObserver=function(t,r,s,n){var i={},f=!0;r&&r._commandObserver&&(i=r._commandObserver),i.cache||(i.cache={}),i.lookupTable={};var u=V.hasSimpleAPICommandBindings(t,s,i.lookupTable);if(r&&r._commandObserver){if(u)return i;if(r._commandObserver.remove)return r._commandObserver.remove(),r._commandObserver=null,i}if(u){a(t,u,i.cache),i.check=function(){if(f){var h=a(t,u,i.cache);return h.changed&&n&&i.lookupTable[h.value]!==void 0&&(i.disable(),Promise.resolve(n({value:h.value,type:u.type,prop:u.prop,traces:u.traces,index:i.lookupTable[h.value]})).then(i.enable,i.enable)),h.changed}};for(var y=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],c=0;c<y.length;c++)t._internalOn(y[c],i.check);i.remove=function(){for(var T=0;T<y.length;T++)t._removeInternalListener(y[T],i.check)}}else _.log("Unable to automatically bind plot updates to API command"),i.lookupTable={},i.remove=function(){};return i.disable=function(){f=!1},i.enable=function(){f=!0},r&&(r._commandObserver=i),i},V.hasSimpleAPICommandBindings=function(t,r,s){var n,i=r.length,f;for(n=0;n<i;n++){var u,y=r[n],c=y.method,T=y.args;if(Array.isArray(T)||(T=[]),!c)return!1;var h=V.computeAPICommandBindings(t,c,T);if(h.length!==1)return!1;if(!f)f=h[0],Array.isArray(f.traces)&&f.traces.sort();else{if(u=h[0],u.type!==f.type||u.prop!==f.prop)return!1;if(Array.isArray(f.traces))if(Array.isArray(u.traces)){u.traces.sort();for(var l=0;l<f.traces.length;l++)if(f.traces[l]!==u.traces[l])return!1}else return!1;else if(u.prop!==f.prop)return!1}u=h[0];var d=u.value;if(Array.isArray(d))if(d.length===1)d=d[0];else return!1;s&&(s[d]=n)}return f};function a(t,r,s){var n,i,f,u=!1;if(r.type==="data")n=t._fullData[r.traces!==null?r.traces[0]:0];else if(r.type==="layout")n=t._fullLayout;else return!1;return i=_.nestedProperty(n,r.prop).get(),f=s[r.type]=s[r.type]||{},f.hasOwnProperty(r.prop)&&f[r.prop]!==i&&(u=!0),f[r.prop]=i,{changed:u,value:i}}V.executeAPICommand=function(t,r,s){if(r==="skip")return Promise.resolve();var n=g.apiMethodRegistry[r],i=[t];Array.isArray(s)||(s=[]);for(var f=0;f<s.length;f++)i.push(s[f]);return n.apply(null,i).catch(function(u){return _.warn("API call to Plotly."+r+" rejected.",u),Promise.reject(u)})},V.computeAPICommandBindings=function(t,r,s){var n;switch(Array.isArray(s)||(s=[]),r){case"restyle":n=v(t,s);break;case"relayout":n=A(t,s);break;case"update":n=v(t,[s[0],s[2]]).concat(A(t,[s[1]]));break;case"animate":n=C(t,s);break;default:n=[]}return n};function C(t,r){return Array.isArray(r[0])&&r[0].length===1&&["string","number"].indexOf(typeof r[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:r[0][0].toString()}]:[]}function A(t,r){var s=[],n=r[0],i={};if(typeof n=="string")i[n]=r[1];else if(_.isPlainObject(n))i=n;else return s;return p(i,function(f,u,y){s.push({type:"layout",prop:f,value:y})},"",0),s}function v(t,r){var s,n,i,f,u=[];if(n=r[0],i=r[1],s=r[2],f={},typeof n=="string")f[n]=i;else if(_.isPlainObject(n))f=n,s===void 0&&(s=i);else return u;return s===void 0&&(s=null),p(f,function(y,c,T){var h,l;if(Array.isArray(T)){l=T.slice();var d=Math.min(l.length,t.data.length);s&&(d=Math.min(d,s.length)),h=[];for(var E=0;E<d;E++)h[E]=s?s[E]:E}else l=T,h=s?s.slice():null;if(h===null)Array.isArray(l)&&(l=l[0]);else if(Array.isArray(h)){if(!Array.isArray(l)){var S=l;l=[];for(var P=0;P<h.length;P++)l[P]=S}l.length=Math.min(h.length,l.length)}u.push({type:"data",prop:y,traces:h,value:l})},"",0),u}function p(t,r,s,n){Object.keys(t).forEach(function(i){var f=t[i];if(i[0]!=="_"){var u=s+(n>0?".":"")+i;_.isPlainObject(f)?p(f,r,u,n+1):r(u,i,f)}})}},27670:function(G,V,e){var g=e(1426).extendFlat;V.Y=function(_,a){_=_||{},a=a||{};var C={valType:"info_array",editType:_.editType,items:[{valType:"number",min:0,max:1,editType:_.editType},{valType:"number",min:0,max:1,editType:_.editType}],dflt:[0,1]};_.name&&_.name+"",_.trace,a.description&&""+a.description;var A={x:g({},C,{}),y:g({},C,{}),editType:_.editType};return _.noGridCell||(A.row={valType:"integer",min:0,dflt:0,editType:_.editType},A.column={valType:"integer",min:0,dflt:0,editType:_.editType}),A},V.c=function(_,a,C,A){var v=A&&A.x||[0,1],p=A&&A.y||[0,1],t=a.grid;if(t){var r=C("domain.column");r!==void 0&&(r<t.columns?v=t._domains.x[r]:delete _.domain.column);var s=C("domain.row");s!==void 0&&(s<t.rows?p=t._domains.y[s]:delete _.domain.row)}var n=C("domain.x",v),i=C("domain.y",p);n[0]<n[1]||(_.domain.x=v.slice()),i[0]<i[1]||(_.domain.y=p.slice())}},41940:function(G){G.exports=function(V){var e=V.editType,g=V.colorEditType;g===void 0&&(g=e);var _={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:g},editType:e};return V.autoSize&&(_.size.dflt="auto"),V.autoColor&&(_.color.dflt="auto"),V.arrayOk&&(_.family.arrayOk=!0,_.size.arrayOk=!0,_.color.arrayOk=!0),_}},31391:function(G){G.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},78776:function(G,V){V.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},V.axesNames=["lonaxis","lataxis"],V.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},V.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},V.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},V.clipPad=.001,V.precision=.1,V.landColor="#F0DC82",V.waterColor="#3399FF",V.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},V.sphereSVG={type:"Sphere"},V.fillLayers={ocean:1,land:1,lakes:1},V.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},V.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],V.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],V.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},69082:function(G,V,e){var g=e(39898),_=e(27362),a=_.geoPath,C=_.geoDistance,A=e(65704),v=e(73972),p=e(71828),t=p.strTranslate,r=e(7901),s=e(91424),n=e(30211),i=e(74875),f=e(89298),u=e(71739).getAutoRange,y=e(28569),c=e(47322).prepSelect,T=e(47322).clearOutline,h=e(47322).selectOnClick,l=e(74455),d=e(78776),E=e(41327),S=e(90973),P=e(96892).zL;function x(m){this.id=m.id,this.graphDiv=m.graphDiv,this.container=m.container,this.topojsonURL=m.topojsonURL,this.isStatic=m.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var M=x.prototype;G.exports=function(F){return new x(F)},M.plot=function(m,F,I,U){var z=this;if(U)return z.update(m,F,!0);z._geoCalcData=m,z._fullLayout=F;var N=F[this.id],B=[],O=!1;for(var H in d.layerNameToAdjective)if(H!=="frame"&&N["show"+H]){O=!0;break}for(var Y=!1,J=0;J<m.length;J++){var re=m[0][0].trace;re._geo=z,re.locationmode&&(O=!0);var ie=re.marker;if(ie){var ce=ie.angle,Q=ie.angleref;(ce||Q==="north"||Q==="previous")&&(Y=!0)}}if(this._hasMarkerAngles=Y,O){var j=S.getTopojsonName(N);(z.topojson===null||j!==z.topojsonName)&&(z.topojsonName=j,PlotlyGeoAssets.topojson[z.topojsonName]===void 0&&B.push(z.fetchTopojson()))}B=B.concat(E.fetchTraceGeoData(m)),I.push(new Promise(function(Z,$){Promise.all(B).then(function(){z.topojson=PlotlyGeoAssets.topojson[z.topojsonName],z.update(m,F),Z()}).catch($)}))},M.fetchTopojson=function(){var m=this,F=S.getTopojsonPath(m.topojsonURL,m.topojsonName);return new Promise(function(I,U){g.json(F,function(z,N){if(z)return z.status===404?U(new Error(["plotly.js could not find topojson file at",F+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):U(new Error(["unexpected error while fetching topojson file at",F].join(" ")));PlotlyGeoAssets.topojson[m.topojsonName]=N,I()})})},M.update=function(m,F,I){var U=F[this.id];this.hasChoropleth=!1;for(var z=0;z<m.length;z++){var N=m[z],B=N[0].trace;B.type==="choropleth"&&(this.hasChoropleth=!0),B.visible===!0&&B._length>0&&B._module.calcGeoJSON(N,F)}if(!I){var O=this.updateProjection(m,F);if(O)return;(!this.viewInitial||this.scope!==U.scope)&&this.saveViewInitial(U)}this.scope=U.scope,this.updateBaseLayers(F,U),this.updateDims(F,U),this.updateFx(F,U),i.generalUpdatePerTraceModule(this.graphDiv,this,m,U);var H=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=H.selectAll(".point"),this.dataPoints.text=H.selectAll("text"),this.dataPaths.line=H.selectAll(".js-line");var Y=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=Y.selectAll("path"),this._render()},M.updateProjection=function(m,F){var I=this.graphDiv,U=F[this.id],z=F._size,N=U.domain,B=U.projection,O=U.lonaxis,H=U.lataxis,Y=O._ax,J=H._ax,re=this.projection=w(U),ie=[[z.l+z.w*N.x[0],z.t+z.h*(1-N.y[1])],[z.l+z.w*N.x[1],z.t+z.h*(1-N.y[0])]],ce=U.center||{},Q=B.rotation||{},j=O.range||[],Z=H.range||[];if(U.fitbounds){Y._length=ie[1][0]-ie[0][0],J._length=ie[1][1]-ie[0][1],Y.range=u(I,Y),J.range=u(I,J);var $=(Y.range[0]+Y.range[1])/2,te=(J.range[0]+J.range[1])/2;if(U._isScoped)ce={lon:$,lat:te};else if(U._isClipped){ce={lon:$,lat:te},Q={lon:$,lat:te,roll:Q.roll};var se=B.type,ee=d.lonaxisSpan[se]/2||180,q=d.lataxisSpan[se]/2||90;j=[$-ee,$+ee],Z=[te-q,te+q]}else ce={lon:$,lat:te},Q={lon:$,lat:Q.lat,roll:Q.roll}}re.center([ce.lon-Q.lon,ce.lat-Q.lat]).rotate([-Q.lon,-Q.lat,Q.roll]).parallels(B.parallels);var le=L(j,Z);re.fitExtent(ie,le);var oe=this.bounds=re.getBounds(le),he=this.fitScale=re.scale(),me=re.translate();if(U.fitbounds){var Ce=re.getBounds(L(Y.range,J.range)),Ae=Math.min((oe[1][0]-oe[0][0])/(Ce[1][0]-Ce[0][0]),(oe[1][1]-oe[0][1])/(Ce[1][1]-Ce[0][1]));isFinite(Ae)?re.scale(Ae*he):p.warn("Something went wrong during"+this.id+"fitbounds computations.")}else re.scale(B.scale*he);var Ue=this.midPt=[(oe[0][0]+oe[1][0])/2,(oe[0][1]+oe[1][1])/2];if(re.translate([me[0]+(Ue[0]-me[0]),me[1]+(Ue[1]-me[1])]).clipExtent(oe),U._isAlbersUsa){var Ve=re([ce.lon,ce.lat]),Pe=re.translate();re.translate([Pe[0]-(Ve[0]-Pe[0]),Pe[1]-(Ve[1]-Pe[1])])}},M.updateBaseLayers=function(m,F){var I=this,U=I.topojson,z=I.layers,N=I.basePaths;function B(ie){return ie==="lonaxis"||ie==="lataxis"}function O(ie){return!!d.lineLayers[ie]}function H(ie){return!!d.fillLayers[ie]}var Y=this.hasChoropleth?d.layersForChoropleth:d.layers,J=Y.filter(function(ie){return O(ie)||H(ie)?F["show"+ie]:B(ie)?F[ie].showgrid:!0}),re=I.framework.selectAll(".layer").data(J,String);re.exit().each(function(ie){delete z[ie],delete N[ie],g.select(this).remove()}),re.enter().append("g").attr("class",function(ie){return"layer "+ie}).each(function(ie){var ce=z[ie]=g.select(this);ie==="bg"?I.bgRect=ce.append("rect").style("pointer-events","all"):B(ie)?N[ie]=ce.append("path").style("fill","none"):ie==="backplot"?ce.append("g").classed("choroplethlayer",!0):ie==="frontplot"?ce.append("g").classed("scatterlayer",!0):O(ie)?N[ie]=ce.append("path").style("fill","none").style("stroke-miterlimit",2):H(ie)&&(N[ie]=ce.append("path").style("stroke","none"))}),re.order(),re.each(function(ie){var ce=N[ie],Q=d.layerNameToAdjective[ie];ie==="frame"?ce.datum(d.sphereSVG):O(ie)||H(ie)?ce.datum(P(U,U.objects[ie])):B(ie)&&ce.datum(o(ie,F,m)).call(r.stroke,F[ie].gridcolor).call(s.dashLine,F[ie].griddash,F[ie].gridwidth),O(ie)?ce.call(r.stroke,F[Q+"color"]).call(s.dashLine,"",F[Q+"width"]):H(ie)&&ce.call(r.fill,F[Q+"color"])})},M.updateDims=function(m,F){var I=this.bounds,U=(F.framewidth||0)/2,z=I[0][0]-U,N=I[0][1]-U,B=I[1][0]-z+U,O=I[1][1]-N+U;s.setRect(this.clipRect,z,N,B,O),this.bgRect.call(s.setRect,z,N,B,O).call(r.fill,F.bgcolor),this.xaxis._offset=z,this.xaxis._length=B,this.yaxis._offset=N,this.yaxis._length=O},M.updateFx=function(m,F){var I=this,U=I.graphDiv,z=I.bgRect,N=m.dragmode,B=m.clickmode;if(I.isStatic)return;function O(){var re=I.viewInitial,ie={};for(var ce in re)ie[I.id+"."+ce]=re[ce];v.call("_guiRelayout",U,ie),U.emit("plotly_doubleclick",null)}function H(re){return I.projection.invert([re[0]+I.xaxis._offset,re[1]+I.yaxis._offset])}var Y=function(re,ie){if(ie.isRect){var ce=re.range={};ce[I.id]=[H([ie.xmin,ie.ymin]),H([ie.xmax,ie.ymax])]}else{var Q=re.lassoPoints={};Q[I.id]=ie.map(H)}},J={element:I.bgRect.node(),gd:U,plotinfo:{id:I.id,xaxis:I.xaxis,yaxis:I.yaxis,fillRangeItems:Y},xaxes:[I.xaxis],yaxes:[I.yaxis],subplot:I.id,clickFn:function(re){re===2&&T(U)}};N==="pan"?(z.node().onmousedown=null,z.call(l(I,F)),z.on("dblclick.zoom",O),U._context._scrollZoom.geo||z.on("wheel.zoom",null)):(N==="select"||N==="lasso")&&(z.on(".zoom",null),J.prepFn=function(re,ie,ce){c(re,ie,ce,J,N)},y.init(J)),z.on("mousemove",function(){var re=I.projection.invert(p.getPositionFromD3Event());if(!re)return y.unhover(U,g.event);I.xaxis.p2c=function(){return re[0]},I.yaxis.p2c=function(){return re[1]},n.hover(U,g.event,I.id)}),z.on("mouseout",function(){U._dragging||y.unhover(U,g.event)}),z.on("click",function(){N!=="select"&&N!=="lasso"&&(B.indexOf("select")>-1&&h(g.event,U,[I.xaxis],[I.yaxis],I.id,J),B.indexOf("event")>-1&&n.click(U,g.event))})},M.makeFramework=function(){var m=this,F=m.graphDiv,I=F._fullLayout,U="clip"+I._uid+m.id;m.clipDef=I._clips.append("clipPath").attr("id",U),m.clipRect=m.clipDef.append("rect"),m.framework=g.select(m.container).append("g").attr("class","geo "+m.id).call(s.setClipUrl,U,F),m.project=function(z){var N=m.projection(z);return N?[N[0]-m.xaxis._offset,N[1]-m.yaxis._offset]:[null,null]},m.xaxis={_id:"x",c2p:function(z){return m.project(z)[0]}},m.yaxis={_id:"y",c2p:function(z){return m.project(z)[1]}},m.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},f.setConvert(m.mockAxis,I)},M.saveViewInitial=function(m){var F=m.center||{},I=m.projection,U=I.rotation||{};this.viewInitial={fitbounds:m.fitbounds,"projection.scale":I.scale};var z;m._isScoped?z={"center.lon":F.lon,"center.lat":F.lat}:m._isClipped?z={"projection.rotation.lon":U.lon,"projection.rotation.lat":U.lat}:z={"center.lon":F.lon,"center.lat":F.lat,"projection.rotation.lon":U.lon},p.extendFlat(this.viewInitial,z)},M.render=function(m){this._hasMarkerAngles&&m?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},M._render=function(){var m=this.projection,F=m.getPath(),I;function U(N){var B=m(N.lonlat);return B?t(B[0],B[1]):null}function z(N){return m.isLonLatOverEdges(N.lonlat)?"none":null}for(I in this.basePaths)this.basePaths[I].attr("d",F);for(I in this.dataPaths)this.dataPaths[I].attr("d",function(N){return F(N.geojson)});for(I in this.dataPoints)this.dataPoints[I].attr("display",z).attr("transform",U)};function w(m){var F=m.projection,I=F.type,U=d.projNames[I];U="geo"+p.titleCase(U);for(var z=_[U]||A[U],N=z(),B=m._isSatellite?Math.acos(1/F.distance)*180/Math.PI:m._isClipped?d.lonaxisSpan[I]/2:null,O=["center","rotate","parallels","clipExtent"],H=function(re){return re?N:[]},Y=0;Y<O.length;Y++){var J=O[Y];typeof N[J]!="function"&&(N[J]=H)}return N.isLonLatOverEdges=function(re){if(N(re)===null)return!0;if(B){var ie=N.rotate(),ce=C(re,[-ie[0],-ie[1]]),Q=B*Math.PI/180;return ce>Q}else return!1},N.getPath=function(){return a().projection(N)},N.getBounds=function(re){return N.getPath().bounds(re)},N.precision(d.precision),m._isSatellite&&N.tilt(F.tilt).distance(F.distance),B&&N.clipAngle(B-d.clipPad),N}function o(m,F,I){var U=1e-6,z=2.5,N=F[m],B=d.scopeDefaults[F.scope],O,H,Y;m==="lonaxis"?(O=B.lonaxisRange,H=B.lataxisRange,Y=function(te,se){return[te,se]}):m==="lataxis"&&(O=B.lataxisRange,H=B.lonaxisRange,Y=function(te,se){return[se,te]});var J={type:"linear",range:[O[0],O[1]-U],tick0:N.tick0,dtick:N.dtick};f.setConvert(J,I);var re=f.calcTicks(J);!F.isScoped&&m==="lonaxis"&&re.pop();for(var ie=re.length,ce=new Array(ie),Q=0;Q<ie;Q++)for(var j=re[Q].x,Z=ce[Q]=[],$=H[0];$<H[1]+z;$+=z)Z.push(Y(j,$));return{type:"MultiLineString",coordinates:ce}}function L(m,F){var I=d.clipPad,U=m[0]+I,z=m[1]-I,N=F[0]+I,B=F[1]-I;U>0&&z<0&&(z+=360);var O=(z-U)/4;return{type:"Polygon",coordinates:[[[U,N],[U,B],[U+O,B],[U+2*O,B],[U+3*O,B],[z,B],[z,N],[z-O,N],[z-2*O,N],[z-3*O,N],[U,N]]]}}},44622:function(G,V,e){var g=e(27659).AU,_=e(71828).counterRegex,a=e(69082),C="geo",A=_(C),v={};v[C]={valType:"subplotid",dflt:C,editType:"calc"};function p(s){for(var n=s._fullLayout,i=s.calcdata,f=n._subplots[C],u=0;u<f.length;u++){var y=f[u],c=g(i,C,y),T=n[y],h=T._subplot;h||(h=a({id:y,graphDiv:s,container:n._geolayer.node(),topojsonURL:s._context.topojsonURL,staticPlot:s._context.staticPlot}),n[y]._subplot=h),h.plot(c,n,s._promises)}}function t(s,n,i,f){for(var u=f._subplots[C]||[],y=0;y<u.length;y++){var c=u[y],T=f[c]._subplot;!n[c]&&T&&(T.framework.remove(),T.clipDef.remove())}}function r(s){for(var n=s._fullLayout,i=n._subplots[C],f=0;f<i.length;f++){var u=n[i[f]],y=u._subplot;y.updateFx(n,u)}}G.exports={attr:C,name:C,idRoot:C,idRegex:A,attrRegex:A,attributes:v,layoutAttributes:e(77519),supplyLayoutDefaults:e(82161),plot:p,updateFx:r,clean:t}},77519:function(G,V,e){var g=e(22399),_=e(27670).Y,a=e(79952).P,C=e(78776),A=e(30962).overrideAll,v=e(78607),p={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:g.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:a},t=G.exports=A({domain:_({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(C.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(C.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:g.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:C.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:C.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:C.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:C.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:g.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:g.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:g.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:g.background},lonaxis:p,lataxis:p},"plot","from-root");t.uirevision={valType:"any",editType:"none"}},82161:function(G,V,e){var g=e(71828),_=e(49119),a=e(27659).NG,C=e(78776),A=e(77519),v=C.axesNames;G.exports=function(r,s,n){_(r,s,n,{type:"geo",attributes:A,handleDefaults:p,fullData:n,partition:"y"})};function p(t,r,s,n){var i=a(n.fullData,"geo",n.id),f=i.map(function(Z){return Z._expandedIndex}),u=s("resolution"),y=s("scope"),c=C.scopeDefaults[y],T=s("projection.type",c.projType),h=r._isAlbersUsa=T==="albers usa";h&&(y=r.scope="usa");var l=r._isScoped=y!=="world",d=r._isSatellite=T==="satellite",E=r._isConic=T.indexOf("conic")!==-1||T==="albers",S=r._isClipped=!!C.lonaxisSpan[T];if(t.visible===!1){var P=g.extendDeep({},r._template);P.showcoastlines=!1,P.showcountries=!1,P.showframe=!1,P.showlakes=!1,P.showland=!1,P.showocean=!1,P.showrivers=!1,P.showsubunits=!1,P.lonaxis&&(P.lonaxis.showgrid=!1),P.lataxis&&(P.lataxis.showgrid=!1),r._template=P}for(var x=s("visible"),M,w=0;w<v.length;w++){var o=v[w],L=[30,10][w],m;if(l)m=c[o+"Range"];else{var F=C[o+"Span"],I=(F[T]||F["*"])/2,U=s("projection.rotation."+o.substr(0,3),c.projRotate[w]);m=[U-I,U+I]}var z=s(o+".range",m);s(o+".tick0"),s(o+".dtick",L),M=s(o+".showgrid",x?void 0:!1),M&&(s(o+".gridcolor"),s(o+".gridwidth"),s(o+".griddash")),r[o]._ax={type:"linear",_id:o.slice(0,3),_traceIndices:f,setScale:g.identity,c2l:g.identity,r2l:g.identity,autorange:!0,range:z.slice(),_m:1,_input:{}}}var N=r.lonaxis.range,B=r.lataxis.range,O=N[0],H=N[1];O>0&&H<0&&(H+=360);var Y=(O+H)/2,J;if(!h){var re=l?c.projRotate:[Y,0,0];J=s("projection.rotation.lon",re[0]),s("projection.rotation.lat",re[1]),s("projection.rotation.roll",re[2]),M=s("showcoastlines",!l&&x),M&&(s("coastlinecolor"),s("coastlinewidth")),M=s("showocean",x?void 0:!1),M&&s("oceancolor")}var ie,ce;if(h?(ie=-96.6,ce=38.7):(ie=l?Y:J,ce=(B[0]+B[1])/2),s("center.lon",ie),s("center.lat",ce),d&&(s("projection.tilt"),s("projection.distance")),E){var Q=c.projParallels||[0,60];s("projection.parallels",Q)}s("projection.scale"),M=s("showland",x?void 0:!1),M&&s("landcolor"),M=s("showlakes",x?void 0:!1),M&&s("lakecolor"),M=s("showrivers",x?void 0:!1),M&&(s("rivercolor"),s("riverwidth")),M=s("showcountries",l&&y!=="usa"&&x),M&&(s("countrycolor"),s("countrywidth")),(y==="usa"||y==="north america"&&u===50)&&(s("showsubunits",x),s("subunitcolor"),s("subunitwidth")),l||(M=s("showframe",x),M&&(s("framecolor"),s("framewidth"))),s("bgcolor");var j=s("fitbounds");j&&(delete r.projection.scale,l?(delete r.center.lon,delete r.center.lat):S?(delete r.center.lon,delete r.center.lat,delete r.projection.rotation.lon,delete r.projection.rotation.lat,delete r.lonaxis.range,delete r.lataxis.range):(delete r.center.lon,delete r.center.lat,delete r.projection.rotation.lon))}},74455:function(G,V,e){var g=e(39898),_=e(71828),a=e(73972),C=Math.PI/180,A=180/Math.PI,v={cursor:"pointer"},p={cursor:"auto"};function t(o,L){var m=o.projection,F;return L._isScoped?F=n:L._isClipped?F=f:F=i,F(o,m)}G.exports=t;function r(o,L){return g.behavior.zoom().translate(L.translate()).scale(L.scale())}function s(o,L,m){var F=o.id,I=o.graphDiv,U=I.layout,z=U[F],N=I._fullLayout,B=N[F],O={},H={};function Y(J,re){O[F+"."+J]=_.nestedProperty(z,J).get(),a.call("_storeDirectGUIEdit",U,N._preGUI,O);var ie=_.nestedProperty(B,J);ie.get()!==re&&(ie.set(re),_.nestedProperty(z,J).set(re),H[F+"."+J]=re)}m(Y),Y("projection.scale",L.scale()/o.fitScale),Y("fitbounds",!1),I.emit("plotly_relayout",H)}function n(o,L){var m=r(o,L);function F(){g.select(this).style(v)}function I(){L.scale(g.event.scale).translate(g.event.translate),o.render(!0);var N=L.invert(o.midPt);o.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":L.scale()/o.fitScale,"geo.center.lon":N[0],"geo.center.lat":N[1]})}function U(N){var B=L.invert(o.midPt);N("center.lon",B[0]),N("center.lat",B[1])}function z(){g.select(this).style(p),s(o,L,U)}return m.on("zoomstart",F).on("zoom",I).on("zoomend",z),m}function i(o,L){var m=r(o,L),F=2,I,U,z,N,B,O,H,Y,J;function re($){return L.invert($)}function ie($){var te=re($);if(!te)return!0;var se=L(te);return Math.abs(se[0]-$[0])>F||Math.abs(se[1]-$[1])>F}function ce(){g.select(this).style(v),I=g.mouse(this),U=L.rotate(),z=L.translate(),N=U,B=re(I)}function Q(){if(O=g.mouse(this),ie(I)){m.scale(L.scale()),m.translate(L.translate());return}L.scale(g.event.scale),L.translate([z[0],g.event.translate[1]]),B?re(O)&&(Y=re(O),H=[N[0]+(Y[0]-B[0]),U[1],U[2]],L.rotate(H),N=H):(I=O,B=re(I)),J=!0,o.render(!0);var $=L.rotate(),te=L.invert(o.midPt);o.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":L.scale()/o.fitScale,"geo.center.lon":te[0],"geo.center.lat":te[1],"geo.projection.rotation.lon":-$[0]})}function j(){g.select(this).style(p),J&&s(o,L,Z)}function Z($){var te=L.rotate(),se=L.invert(o.midPt);$("projection.rotation.lon",-te[0]),$("center.lon",se[0]),$("center.lat",se[1])}return m.on("zoomstart",ce).on("zoom",Q).on("zoomend",j),m}function f(o,L){L.rotate(),L.scale();var m=r(o,L),F=w(m,"zoomstart","zoom","zoomend"),I=0,U=m.on,z;m.on("zoomstart",function(){g.select(this).style(v);var Y=g.mouse(this),J=L.rotate(),re=J,ie=L.translate(),ce=y(J);z=u(L,Y),U.call(m,"zoom",function(){var Q=g.mouse(this);if(L.scale(g.event.scale),!z)Y=Q,z=u(L,Y);else if(u(L,Q)){L.rotate(J).translate(ie);var j=u(L,Q),Z=T(z,j),$=S(c(ce,Z)),te=h($,z,re);(!isFinite(te[0])||!isFinite(te[1])||!isFinite(te[2]))&&(te=re),L.rotate(te),re=te}B(F.of(this,arguments))}),N(F.of(this,arguments))}).on("zoomend",function(){g.select(this).style(p),U.call(m,"zoom",null),O(F.of(this,arguments)),s(o,L,H)}).on("zoom.redraw",function(){o.render(!0);var Y=L.rotate();o.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":L.scale()/o.fitScale,"geo.projection.rotation.lon":-Y[0],"geo.projection.rotation.lat":-Y[1]})});function N(Y){I++||Y({type:"zoomstart"})}function B(Y){Y({type:"zoom"})}function O(Y){--I||Y({type:"zoomend"})}function H(Y){var J=L.rotate();Y("projection.rotation.lon",-J[0]),Y("projection.rotation.lat",-J[1])}return g.rebind(m,F,"on")}function u(o,L){var m=o.invert(L);return m&&isFinite(m[0])&&isFinite(m[1])&&P(m)}function y(o){var L=.5*o[0]*C,m=.5*o[1]*C,F=.5*o[2]*C,I=Math.sin(L),U=Math.cos(L),z=Math.sin(m),N=Math.cos(m),B=Math.sin(F),O=Math.cos(F);return[U*N*O+I*z*B,I*N*O-U*z*B,U*z*O+I*N*B,U*N*B-I*z*O]}function c(o,L){var m=o[0],F=o[1],I=o[2],U=o[3],z=L[0],N=L[1],B=L[2],O=L[3];return[m*z-F*N-I*B-U*O,m*N+F*z+I*O-U*B,m*B-F*O+I*z+U*N,m*O+F*B-I*N+U*z]}function T(o,L){if(!(!o||!L)){var m=M(o,L),F=Math.sqrt(x(m,m)),I=.5*Math.acos(Math.max(-1,Math.min(1,x(o,L)))),U=Math.sin(I)/F;return F&&[Math.cos(I),m[2]*U,-m[1]*U,m[0]*U]}}function h(o,L,m){var F=E(L,2,o[0]);F=E(F,1,o[1]),F=E(F,0,o[2]-m[2]);var I=L[0],U=L[1],z=L[2],N=F[0],B=F[1],O=F[2],H=Math.atan2(U,I)*A,Y=Math.sqrt(I*I+U*U),J,re;Math.abs(B)>Y?(re=(B>0?90:-90)-H,J=0):(re=Math.asin(B/Y)*A-H,J=Math.sqrt(Y*Y-B*B));var ie=180-re-2*H,ce=(Math.atan2(O,N)-Math.atan2(z,J))*A,Q=(Math.atan2(O,N)-Math.atan2(z,-J))*A,j=l(m[0],m[1],re,ce),Z=l(m[0],m[1],ie,Q);return j<=Z?[re,ce,m[2]]:[ie,Q,m[2]]}function l(o,L,m,F){var I=d(m-o),U=d(F-L);return Math.sqrt(I*I+U*U)}function d(o){return(o%360+540)%360-180}function E(o,L,m){var F=m*C,I=o.slice(),U=L===0?1:0,z=L===2?1:2,N=Math.cos(F),B=Math.sin(F);return I[U]=o[U]*N-o[z]*B,I[z]=o[z]*N+o[U]*B,I}function S(o){return[Math.atan2(2*(o[0]*o[1]+o[2]*o[3]),1-2*(o[1]*o[1]+o[2]*o[2]))*A,Math.asin(Math.max(-1,Math.min(1,2*(o[0]*o[2]-o[3]*o[1]))))*A,Math.atan2(2*(o[0]*o[3]+o[1]*o[2]),1-2*(o[2]*o[2]+o[3]*o[3]))*A]}function P(o){var L=o[0]*C,m=o[1]*C,F=Math.cos(m);return[F*Math.cos(L),F*Math.sin(L),Math.sin(m)]}function x(o,L){for(var m=0,F=0,I=o.length;F<I;++F)m+=o[F]*L[F];return m}function M(o,L){return[o[1]*L[2]-o[2]*L[1],o[2]*L[0]-o[0]*L[2],o[0]*L[1]-o[1]*L[0]]}function w(o){for(var L=0,m=arguments.length,F=[];++L<m;)F.push(arguments[L]);var I=g.dispatch.apply(null,F);return I.of=function(U,z){return function(N){var B;try{B=N.sourceEvent=g.event,N.target=o,g.event=N,I[N.type].apply(U,z)}finally{g.event=B}}},I}},27659:function(G,V,e){var g=e(73972),_=e(85555).SUBPLOT_PATTERN;V.AU=function(a,C,A){var v=g.subplotsRegistry[C];if(!v)return[];for(var p=v.attr,t=[],r=0;r<a.length;r++){var s=a[r],n=s[0].trace;n[p]===A&&t.push(s)}return t},V.a0=function(a,C){var A=[],v=[],p;if(typeof C=="string"?p=g.getModule(C).plot:typeof C=="function"?p=C:p=C.plot,!p)return[A,a];for(var t=0;t<a.length;t++){var r=a[t],s=r[0].trace;s.visible!==!0||s._length===0||(s._module&&s._module.plot===p?A.push(r):v.push(r))}return[A,v]},V.NG=function(C,A,v){if(!g.subplotsRegistry[A])return[];var p=g.subplotsRegistry[A].attr,t=[],r,s,n;if(A==="gl2d"){var i=v.match(_);s="x"+i[1],n="y"+i[2]}for(var f=0;f<C.length;f++)r=C[f],A==="gl2d"&&g.traceIs(r,"gl2d")?r[p[0]]===s&&r[p[1]]===n&&t.push(r):r[p]===v&&t.push(r);return t}},75071:function(G,V,e){var g=e(16825),_=e(1195),a=e(48956),C=e(85555),A=e(38520);G.exports=p;function v(t,r){this.element=t,this.plot=r,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function p(t){var r=t.mouseContainer,s=t.glplot,n=new v(r,s);function i(){t.xaxis.autorange=!1,t.yaxis.autorange=!1}function f(){for(var y=t.graphDiv._fullLayout._axisConstraintGroups,c=t.xaxis._id,T=t.yaxis._id,h=0;h<y.length;h++)if(y[h][c]!==-1){if(y[h][T]!==-1)return!0;break}return!1}n.mouseListener=g(r,u),r.addEventListener("touchstart",function(y){var c=a(y.changedTouches[0],r);u(0,c[0],c[1]),u(1,c[0],c[1]),y.preventDefault()},A?{passive:!1}:!1),r.addEventListener("touchmove",function(y){y.preventDefault();var c=a(y.changedTouches[0],r);u(1,c[0],c[1]),y.preventDefault()},A?{passive:!1}:!1),r.addEventListener("touchend",function(y){u(0,n.lastPos[0],n.lastPos[1]),y.preventDefault()},A?{passive:!1}:!1);function u(y,c,T){var h=t.calcDataBox(),l=s.viewBox,d=n.lastPos[0],E=n.lastPos[1],S=C.MINDRAG*s.pixelRatio,P=C.MINZOOM*s.pixelRatio,x,M;c*=s.pixelRatio,T*=s.pixelRatio,T=l[3]-l[1]-T;function w(U,z,N){var B=Math.min(z,N),O=Math.max(z,N);B!==O?(h[U]=B,h[U+2]=O,n.dataBox=h,t.setRanges(h)):(t.selectBox.selectBox=[0,0,1,1],t.glplot.setDirty())}switch(t.fullLayout.dragmode){case"zoom":if(y){var o=c/(l[2]-l[0])*(h[2]-h[0])+h[0],L=T/(l[3]-l[1])*(h[3]-h[1])+h[1];n.boxInited||(n.boxStart[0]=o,n.boxStart[1]=L,n.dragStart[0]=c,n.dragStart[1]=T),n.boxEnd[0]=o,n.boxEnd[1]=L,n.boxInited=!0,!n.boxEnabled&&(n.boxStart[0]!==n.boxEnd[0]||n.boxStart[1]!==n.boxEnd[1])&&(n.boxEnabled=!0);var m=Math.abs(n.dragStart[0]-c)<P,F=Math.abs(n.dragStart[1]-T)<P;if(f()&&!(m&&F)){x=n.boxEnd[0]-n.boxStart[0],M=n.boxEnd[1]-n.boxStart[1];var I=(h[3]-h[1])/(h[2]-h[0]);Math.abs(x*I)>Math.abs(M)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(x)*I*(M>=0?1:-1),n.boxEnd[1]<h[1]?(n.boxEnd[1]=h[1],n.boxEnd[0]=n.boxStart[0]+(h[1]-n.boxStart[1])/Math.abs(I)):n.boxEnd[1]>h[3]&&(n.boxEnd[1]=h[3],n.boxEnd[0]=n.boxStart[0]+(h[3]-n.boxStart[1])/Math.abs(I))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(M)/I*(x>=0?1:-1),n.boxEnd[0]<h[0]?(n.boxEnd[0]=h[0],n.boxEnd[1]=n.boxStart[1]+(h[0]-n.boxStart[0])*Math.abs(I)):n.boxEnd[0]>h[2]&&(n.boxEnd[0]=h[2],n.boxEnd[1]=n.boxStart[1]+(h[2]-n.boxStart[0])*Math.abs(I)))}else m&&(n.boxEnd[0]=n.boxStart[0]),F&&(n.boxEnd[1]=n.boxStart[1])}else n.boxEnabled?(x=n.boxStart[0]!==n.boxEnd[0],M=n.boxStart[1]!==n.boxEnd[1],x||M?(x&&(w(0,n.boxStart[0],n.boxEnd[0]),t.xaxis.autorange=!1),M&&(w(1,n.boxStart[1],n.boxEnd[1]),t.yaxis.autorange=!1),t.relayoutCallback()):t.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,y?(n.panning||(n.dragStart[0]=c,n.dragStart[1]=T),Math.abs(n.dragStart[0]-c)<S&&(c=n.dragStart[0]),Math.abs(n.dragStart[1]-T)<S&&(T=n.dragStart[1]),x=(d-c)*(h[2]-h[0])/(s.viewBox[2]-s.viewBox[0]),M=(E-T)*(h[3]-h[1])/(s.viewBox[3]-s.viewBox[1]),h[0]+=x,h[2]+=x,h[1]+=M,h[3]+=M,t.setRanges(h),n.panning=!0,n.lastInputTime=Date.now(),i(),t.cameraChanged(),t.handleAnnotations()):n.panning&&(n.panning=!1,t.relayoutCallback());break}n.lastPos[0]=c,n.lastPos[1]=T}return n.wheelListener=_(r,function(y,c){if(!t.scrollZoom)return!1;var T=t.calcDataBox(),h=s.viewBox,l=n.lastPos[0],d=n.lastPos[1],E=Math.exp(5*c/(h[3]-h[1])),S=l/(h[2]-h[0])*(T[2]-T[0])+T[0],P=d/(h[3]-h[1])*(T[3]-T[1])+T[1];return T[0]=(T[0]-S)*E+S,T[2]=(T[2]-S)*E+S,T[1]=(T[1]-P)*E+P,T[3]=(T[3]-P)*E+P,t.setRanges(T),n.lastInputTime=Date.now(),i(),t.cameraChanged(),t.handleAnnotations(),t.relayoutCallback(),!0},!0),n}},82961:function(G,V,e){var g=e(89298),_=e(78614);function a(p){this.scene=p,this.gl=p.gl,this.pixelRatio=p.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var C=a.prototype,A=["xaxis","yaxis"];C.merge=function(p){this.titleEnable=!1,this.backgroundColor=_(p.plot_bgcolor);var t,r,s,n,i,f,u,y,c,T,h;for(T=0;T<2;++T){t=A[T];var l=t.charAt(0);for(r=p[this.scene[t]._name],s=r.title.text===this.scene.fullLayout._dfltTitle[l]?"":r.title.text,h=0;h<=2;h+=2)this.labelEnable[T+h]=!1,this.labels[T+h]=s,this.labelColor[T+h]=_(r.title.font.color),this.labelFont[T+h]=r.title.font.family,this.labelSize[T+h]=r.title.font.size,this.labelPad[T+h]=this.getLabelPad(t,r),this.tickEnable[T+h]=!1,this.tickColor[T+h]=_((r.tickfont||{}).color),this.tickAngle[T+h]=r.tickangle==="auto"?0:Math.PI*-r.tickangle/180,this.tickPad[T+h]=this.getTickPad(r),this.tickMarkLength[T+h]=0,this.tickMarkWidth[T+h]=r.tickwidth||0,this.tickMarkColor[T+h]=_(r.tickcolor),this.borderLineEnable[T+h]=!1,this.borderLineColor[T+h]=_(r.linecolor),this.borderLineWidth[T+h]=r.linewidth||0;u=this.hasSharedAxis(r),i=this.hasAxisInDfltPos(t,r)&&!u,f=this.hasAxisInAltrPos(t,r)&&!u,n=r.mirror||!1,y=u?String(n).indexOf("all")!==-1:!!n,c=u?n==="allticks":String(n).indexOf("ticks")!==-1,i?this.labelEnable[T]=!0:f&&(this.labelEnable[T+2]=!0),i?this.tickEnable[T]=r.showticklabels:f&&(this.tickEnable[T+2]=r.showticklabels),(i||y)&&(this.borderLineEnable[T]=r.showline),(f||y)&&(this.borderLineEnable[T+2]=r.showline),(i||c)&&(this.tickMarkLength[T]=this.getTickMarkLength(r)),(f||c)&&(this.tickMarkLength[T+2]=this.getTickMarkLength(r)),this.gridLineEnable[T]=r.showgrid,this.gridLineColor[T]=_(r.gridcolor),this.gridLineWidth[T]=r.gridwidth,this.zeroLineEnable[T]=r.zeroline,this.zeroLineColor[T]=_(r.zerolinecolor),this.zeroLineWidth[T]=r.zerolinewidth}},C.hasSharedAxis=function(p){var t=this.scene,r=t.fullLayout._subplots.gl2d,s=g.findSubplotsWithAxis(r,p);return s.indexOf(t.id)!==0},C.hasAxisInDfltPos=function(p,t){var r=t.side;if(p==="xaxis")return r==="bottom";if(p==="yaxis")return r==="left"},C.hasAxisInAltrPos=function(p,t){var r=t.side;if(p==="xaxis")return r==="top";if(p==="yaxis")return r==="right"},C.getLabelPad=function(p,t){var r=1.5,s=t.title.font.size,n=t.showticklabels;if(p==="xaxis")return t.side==="top"?-10+s*(r+(n?1:0)):-10+s*(r+(n?.5:0));if(p==="yaxis")return t.side==="right"?10+s*(r+(n?1:.5)):10+s*(r+(n?.5:0))},C.getTickPad=function(p){return p.ticks==="outside"?10+p.ticklen:15},C.getTickMarkLength=function(p){if(!p.ticks)return 0;var t=p.ticklen;return p.ticks==="inside"?-t:t};function v(p){return new a(p)}G.exports=v},4796:function(G,V,e){var g=e(30962).overrideAll,_=e(92918),a=e(10820),C=e(77922),A=e(85555),v=e(93612),p=e(528),t=e(27659).NG;V.name="gl2d",V.attr=["xaxis","yaxis"],V.idRoot=["x","y"],V.idRegex=A.idRegex,V.attrRegex=A.attrRegex,V.attributes=e(89502),V.supplyLayoutDefaults=function(r,s,n){s._has("cartesian")||v.supplyLayoutDefaults(r,s,n)},V.layoutAttrOverrides=g(v.layoutAttributes,"plot","from-root"),V.baseLayoutAttrOverrides=g({plot_bgcolor:a.plot_bgcolor,hoverlabel:p.hoverlabel},"plot","nested"),V.plot=function(s){for(var n=s._fullLayout,i=s._fullData,f=n._subplots.gl2d,u=0;u<f.length;u++){var y=f[u],c=n._plots[y],T=t(i,"gl2d",y),h=c._scene2d;h===void 0&&(h=new _({id:y,graphDiv:s,container:s.querySelector(".gl-container"),staticPlot:s._context.staticPlot,plotGlPixelRatio:s._context.plotGlPixelRatio},n),c._scene2d=h),h.plot(T,s.calcdata,n,s.layout)}},V.clean=function(r,s,n,i){for(var f=i._subplots.gl2d||[],u=0;u<f.length;u++){var y=f[u],c=i._plots[y];if(c._scene2d){var T=t(r,"gl2d",y);T.length===0&&(c._scene2d.destroy(),delete i._plots[y])}}v.clean.apply(this,arguments)},V.drawFramework=function(r){r._context.staticPlot||v.drawFramework(r)},V.toSVG=function(r){for(var s=r._fullLayout,n=s._subplots.gl2d,i=0;i<n.length;i++){var f=s._plots[n[i]],u=f._scene2d,y=u.toImage("png"),c=s._glimages.append("svg:image");c.attr({xmlns:C.svg,"xlink:href":y,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),u.destroy()}},V.updateFx=function(r){for(var s=r._fullLayout,n=s._subplots.gl2d,i=0;i<n.length;i++){var f=s._plots[n[i]]._scene2d;f.updateFx(s.dragmode)}}},92918:function(G,V,e){var g=e(73972),_=e(89298),a=e(30211),C=e(9330).gl_plot2d,A=e(9330).gl_spikes2d,v=e(9330).gl_select_box,p=e(40372),t=e(82961),r=e(75071),s=e(58617),n=e(99082),i=n.enforce,f=n.clean,u=e(71739).doAutoRange,y=e(64505),c=y.drawMode,T=y.selectMode,h=["xaxis","yaxis"],l,d,E=e(85555).SUBPLOT_PATTERN;function S(M,w){this.container=M.container,this.graphDiv=M.graphDiv,this.pixelRatio=M.plotGlPixelRatio||window.devicePixelRatio,this.id=M.id,this.staticPlot=!!M.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(w),this.makeFramework(),!this.stopped&&(this.glplotOptions=t(this),this.glplotOptions.merge(w),this.glplot=C(this.glplotOptions),this.camera=r(this),this.traces={},this.spikes=A(this.glplot),this.selectBox=v(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}G.exports=S;var P=S.prototype;P.makeFramework=function(){if(this.staticPlot){if(!d&&(l=document.createElement("canvas"),d=p({canvas:l,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!d))throw new Error("Error creating static canvas/context for image server");this.canvas=l,this.gl=d}else{var M=this.container.querySelector(".gl-canvas-focus"),w=p({canvas:M,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!w){s(this),this.stopped=!0;return}this.canvas=M,this.gl=w}var o=this.canvas;o.style.width="100%",o.style.height="100%",o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style["pointer-events"]="none",this.updateSize(o);var L=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");L.style.position="absolute",L.style.top=L.style.left="0px",L.style.width=L.style.height="100%",L.style["z-index"]=20,L.style["pointer-events"]="none";var m=this.mouseContainer=document.createElement("div");m.style.position="absolute",m.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var F=this.container;F.appendChild(L),F.appendChild(m);var I=this;m.addEventListener("mouseout",function(){I.isMouseOver=!1,I.unhover()}),m.addEventListener("mouseover",function(){I.isMouseOver=!0})},P.toImage=function(M){M||(M="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(l),this.updateSize(this.canvas);var w=this.glplot.gl,o=w.drawingBufferWidth,L=w.drawingBufferHeight;w.clearColor(1,1,1,0),w.clear(w.COLOR_BUFFER_BIT|w.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),w.bindFramebuffer(w.FRAMEBUFFER,null);var m=new Uint8Array(o*L*4);w.readPixels(0,0,o,L,w.RGBA,w.UNSIGNED_BYTE,m);for(var F=0,I=L-1;F<I;++F,--I)for(var U=0;U<o;++U)for(var z=0;z<4;++z){var N=m[4*(o*F+U)+z];m[4*(o*F+U)+z]=m[4*(o*I+U)+z],m[4*(o*I+U)+z]=N}var B=document.createElement("canvas");B.width=o,B.height=L;var O=B.getContext("2d",{willReadFrequently:!0}),H=O.createImageData(o,L);H.data.set(m),O.putImageData(H,0,0);var Y;switch(M){case"jpeg":Y=B.toDataURL("image/jpeg");break;case"webp":Y=B.toDataURL("image/webp");break;default:Y=B.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(l),Y},P.updateSize=function(M){M||(M=this.canvas);var w=this.pixelRatio,o=this.fullLayout,L=o.width,m=o.height,F=Math.ceil(w*L)|0,I=Math.ceil(w*m)|0;return(M.width!==F||M.height!==I)&&(M.width=F,M.height=I),M},P.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var M=[_.calcTicks(this.xaxis),_.calcTicks(this.yaxis)],w=0;w<2;++w)for(var o=0;o<M[w].length;++o)M[w][o].text=M[w][o].text+"";return M};function x(M,w){for(var o=0;o<2;++o){var L=M[o],m=w[o];if(L.length!==m.length)return!0;for(var F=0;F<L.length;++F)if(L[F].x!==m[F].x)return!0}return!1}P.updateRefs=function(M){this.fullLayout=M;var w=this.id.match(E),o="xaxis"+w[1],L="yaxis"+w[2];this.xaxis=this.fullLayout[o],this.yaxis=this.fullLayout[L]},P.relayoutCallback=function(){var M=this.graphDiv,w=this.xaxis,o=this.yaxis,L=M.layout,m={},F=m[w._name+".range"]=w.range.slice(),I=m[o._name+".range"]=o.range.slice();m[w._name+".autorange"]=w.autorange,m[o._name+".autorange"]=o.autorange,g.call("_storeDirectGUIEdit",M.layout,M._fullLayout._preGUI,m);var U=L[w._name];U.range=F,U.autorange=w.autorange;var z=L[o._name];z.range=I,z.autorange=o.autorange,m.lastInputTime=this.camera.lastInputTime,M.emit("plotly_relayout",m)},P.cameraChanged=function(){var M=this.camera;this.glplot.setDataBox(this.calcDataBox());var w=this.computeTickMarks(),o=this.glplotOptions.ticks;x(w,o)&&(this.glplotOptions.ticks=w,this.glplotOptions.dataBox=M.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},P.handleAnnotations=function(){for(var M=this.graphDiv,w=this.fullLayout.annotations,o=0;o<w.length;o++){var L=w[o];L.xref===this.xaxis._id&&L.yref===this.yaxis._id&&g.getComponentMethod("annotations","drawOne")(M,o)}},P.destroy=function(){if(this.glplot){var M=this.traces;M&&Object.keys(M).map(function(w){M[w].dispose(),delete M[w]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},P.plot=function(M,w,o){var L=this.glplot;this.updateRefs(o),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(M,w),this.updateFx(o.dragmode);var m=o.width,F=o.height;this.updateSize(this.canvas);var I=this.glplotOptions;I.merge(o),I.screenBox=[0,0,m,F];var U={_fullLayout:{_axisConstraintGroups:o._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:o._size}};f(U,this.xaxis),f(U,this.yaxis);var z=o._size,N=this.xaxis.domain,B=this.yaxis.domain;I.viewBox=[z.l+N[0]*z.w,z.b+B[0]*z.h,m-z.r-(1-N[1])*z.w,F-z.t-(1-B[1])*z.h],this.mouseContainer.style.width=z.w*(N[1]-N[0])+"px",this.mouseContainer.style.height=z.h*(B[1]-B[0])+"px",this.mouseContainer.height=z.h*(B[1]-B[0]),this.mouseContainer.style.left=z.l+N[0]*z.w+"px",this.mouseContainer.style.top=z.t+(1-B[1])*z.h+"px";var O,H;for(H=0;H<2;++H)O=this[h[H]],O._length=I.viewBox[H+2]-I.viewBox[H],u(this.graphDiv,O),O.setScale();i(U),I.ticks=this.computeTickMarks(),I.dataBox=this.calcDataBox(),I.merge(o),L.update(I),this.glplot.draw()},P.calcDataBox=function(){var M=this.xaxis,w=this.yaxis,o=M.range,L=w.range,m=M.r2l,F=w.r2l;return[m(o[0]),F(L[0]),m(o[1]),F(L[1])]},P.setRanges=function(M){var w=this.xaxis,o=this.yaxis,L=w.l2r,m=o.l2r;w.range=[L(M[0]),L(M[2])],o.range=[m(M[1]),m(M[3])]},P.updateTraces=function(M,w){var o=Object.keys(this.traces),L,m,F;this.fullData=M;e:for(L=0;L<o.length;L++){var I=o[L],U=this.traces[I];for(m=0;m<M.length;m++)if(F=M[m],F.uid===I&&F.type===U.type)continue e;U.dispose(),delete this.traces[I]}for(L=0;L<M.length;L++){F=M[L];var z=w[L],N=this.traces[F.uid];N?N.update(F,z):(N=F._module.plot(this,F,z),this.traces[F.uid]=N)}this.glplot.objects.sort(function(B,O){return B._trace.index-O._trace.index})},P.updateFx=function(M){T(M)||c(M)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),M==="pan"?this.mouseContainer.style.cursor="move":M==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},P.emitPointAction=function(M,w){for(var o=M.trace.uid,L=M.pointIndex,m,F=0;F<this.fullData.length;F++)this.fullData[F].uid===o&&(m=this.fullData[F]);var I={x:M.traceCoord[0],y:M.traceCoord[1],curveNumber:m.index,pointNumber:L,data:m._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};a.appendArrayPointValue(I,m,L),this.graphDiv.emit(w,{points:[I]})},P.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var M=this.glplot,w=this.camera,o=w.mouseListener,L=this.lastButtonState===1&&o.buttons===0,m=this.fullLayout;this.lastButtonState=o.buttons,this.cameraChanged();var F=o.x*M.pixelRatio,I=this.canvas.height-M.pixelRatio*o.y,U;if(w.boxEnabled&&m.dragmode==="zoom"){this.selectBox.enabled=!0;for(var z=this.selectBox.selectBox=[Math.min(w.boxStart[0],w.boxEnd[0]),Math.min(w.boxStart[1],w.boxEnd[1]),Math.max(w.boxStart[0],w.boxEnd[0]),Math.max(w.boxStart[1],w.boxEnd[1])],N=0;N<2;N++)w.boxStart[N]===w.boxEnd[N]&&(z[N]=M.dataBox[N],z[N+2]=M.dataBox[N+2]);M.setDirty()}else if(!w.panning&&this.isMouseOver){this.selectBox.enabled=!1;var B=m._size,O=this.xaxis.domain,H=this.yaxis.domain;U=M.pick(F/M.pixelRatio+B.l+O[0]*B.w,I/M.pixelRatio-(B.t+(1-H[1])*B.h));var Y=U&&U.object._trace.handlePick(U);if(Y&&L&&this.emitPointAction(Y,"plotly_click"),U&&U.object._trace.hoverinfo!=="skip"&&m.hovermode&&Y&&(!this.lastPickResult||this.lastPickResult.traceUid!==Y.trace.uid||this.lastPickResult.dataCoord[0]!==Y.dataCoord[0]||this.lastPickResult.dataCoord[1]!==Y.dataCoord[1])){var J=Y;this.lastPickResult={traceUid:Y.trace?Y.trace.uid:null,dataCoord:Y.dataCoord.slice()},this.spikes.update({center:U.dataCoord}),J.screenCoord=[((M.viewBox[2]-M.viewBox[0])*(U.dataCoord[0]-M.dataBox[0])/(M.dataBox[2]-M.dataBox[0])+M.viewBox[0])/M.pixelRatio,(this.canvas.height-(M.viewBox[3]-M.viewBox[1])*(U.dataCoord[1]-M.dataBox[1])/(M.dataBox[3]-M.dataBox[1])-M.viewBox[1])/M.pixelRatio],this.emitPointAction(Y,"plotly_hover");var re=this.fullData[J.trace.index]||{},ie=J.pointIndex,ce=a.castHoverinfo(re,m,ie);if(ce&&ce!=="all"){var Q=ce.split("+");Q.indexOf("x")===-1&&(J.traceCoord[0]=void 0),Q.indexOf("y")===-1&&(J.traceCoord[1]=void 0),Q.indexOf("z")===-1&&(J.traceCoord[2]=void 0),Q.indexOf("text")===-1&&(J.textLabel=void 0),Q.indexOf("name")===-1&&(J.name=void 0)}a.loneHover({x:J.screenCoord[0],y:J.screenCoord[1],xLabel:this.hoverFormatter("xaxis",J.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",J.traceCoord[1]),zLabel:J.traceCoord[2],text:J.textLabel,name:J.name,color:a.castHoverOption(re,ie,"bgcolor")||J.color,borderColor:a.castHoverOption(re,ie,"bordercolor"),fontFamily:a.castHoverOption(re,ie,"font.family"),fontSize:a.castHoverOption(re,ie,"font.size"),fontColor:a.castHoverOption(re,ie,"font.color"),nameLength:a.castHoverOption(re,ie,"namelength"),textAlign:a.castHoverOption(re,ie,"align")},{container:this.svgContainer,gd:this.graphDiv})}}U||this.unhover(),M.draw()}},P.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),a.loneUnhover(this.svgContainer))},P.hoverFormatter=function(M,w){if(w!==void 0){var o=this[M];return _.tickText(o,o.c2l(w),"hover").text}}},58547:function(G,V,e){var g=e(30962).overrideAll,_=e(528),a=e(33539),C=e(27659).NG,A=e(71828),v=e(77922),p="gl3d",t="scene";V.name=p,V.attr=t,V.idRoot=t,V.idRegex=V.attrRegex=A.counterRegex("scene"),V.attributes=e(59084),V.layoutAttributes=e(65500),V.baseLayoutAttrOverrides=g({hoverlabel:_.hoverlabel},"plot","nested"),V.supplyLayoutDefaults=e(24682),V.plot=function(s){for(var n=s._fullLayout,i=s._fullData,f=n._subplots[p],u=0;u<f.length;u++){var y=f[u],c=C(i,p,y),T=n[y],h=T.camera,l=T._scene;l||(l=new a({id:y,graphDiv:s,container:s.querySelector(".gl-container"),staticPlot:s._context.staticPlot,plotGlPixelRatio:s._context.plotGlPixelRatio,camera:h},n),T._scene=l),l.viewInitial||(l.viewInitial={up:{x:h.up.x,y:h.up.y,z:h.up.z},eye:{x:h.eye.x,y:h.eye.y,z:h.eye.z},center:{x:h.center.x,y:h.center.y,z:h.center.z}}),l.plot(c,n,s.layout)}},V.clean=function(r,s,n,i){for(var f=i._subplots[p]||[],u=0;u<f.length;u++){var y=f[u];!s[y]&&i[y]._scene&&(i[y]._scene.destroy(),i._infolayer&&i._infolayer.selectAll(".annotation-"+y).remove())}},V.toSVG=function(r){for(var s=r._fullLayout,n=s._subplots[p],i=s._size,f=0;f<n.length;f++){var u=s[n[f]],y=u.domain,c=u._scene,T=c.toImage("png"),h=s._glimages.append("svg:image");h.attr({xmlns:v.svg,"xlink:href":T,x:i.l+i.w*y.x[0],y:i.t+i.h*(1-y.y[1]),width:i.w*(y.x[1]-y.x[0]),height:i.h*(y.y[1]-y.y[0]),preserveAspectRatio:"none"}),c.destroy()}},V.cleanId=function(s){if(s.match(/^scene[0-9]*$/)){var n=s.substr(5);return n==="1"&&(n=""),t+n}},V.updateFx=function(r){for(var s=r._fullLayout,n=s._subplots[p],i=0;i<n.length;i++){var f=s[n[i]]._scene;f.updateFx(s.dragmode,s.hovermode)}}},59084:function(G){G.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},77894:function(G,V,e){var g=e(7901),_=e(13838),a=e(1426).extendFlat,C=e(30962).overrideAll;G.exports=C({visible:_.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:g.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:_.color,categoryorder:_.categoryorder,categoryarray:_.categoryarray,title:{text:_.title.text,font:_.title.font},type:a({},_.type,{values:["-","linear","log","date","category"]}),autotypenumbers:_.autotypenumbers,autorange:_.autorange,autorangeoptions:{minallowed:_.autorangeoptions.minallowed,maxallowed:_.autorangeoptions.maxallowed,clipmin:_.autorangeoptions.clipmin,clipmax:_.autorangeoptions.clipmax,include:_.autorangeoptions.include,editType:"plot"},rangemode:_.rangemode,minallowed:_.minallowed,maxallowed:_.maxallowed,range:a({},_.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:_.minor.tickmode,nticks:_.nticks,tick0:_.tick0,dtick:_.dtick,tickvals:_.tickvals,ticktext:_.ticktext,ticks:_.ticks,mirror:_.mirror,ticklen:_.ticklen,tickwidth:_.tickwidth,tickcolor:_.tickcolor,showticklabels:_.showticklabels,labelalias:_.labelalias,tickfont:_.tickfont,tickangle:_.tickangle,tickprefix:_.tickprefix,showtickprefix:_.showtickprefix,ticksuffix:_.ticksuffix,showticksuffix:_.showticksuffix,showexponent:_.showexponent,exponentformat:_.exponentformat,minexponent:_.minexponent,separatethousands:_.separatethousands,tickformat:_.tickformat,tickformatstops:_.tickformatstops,hoverformat:_.hoverformat,showline:_.showline,linecolor:_.linecolor,linewidth:_.linewidth,showgrid:_.showgrid,gridcolor:a({},_.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:_.gridwidth,zeroline:_.zeroline,zerolinecolor:_.zerolinecolor,zerolinewidth:_.zerolinewidth,_deprecated:{title:_._deprecated.title,titlefont:_._deprecated.titlefont}},"plot","from-root")},3277:function(G,V,e){var g=e(84267).mix,_=e(71828),a=e(44467),C=e(77894),A=e(951),v=e(71453),p=["xaxis","yaxis","zaxis"],t=100*(204-68)/(255-68);G.exports=function(s,n,i){var f,u;function y(h,l){return _.coerce(f,u,C,h,l)}for(var c=0;c<p.length;c++){var T=p[c];f=s[T]||{},u=a.newContainer(n,T),u._id=T[0]+i.scene,u._name=T,A(f,u,y,i),v(f,u,y,{font:i.font,letter:T[0],data:i.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:i.bgColor,calendar:i.calendar},i.fullLayout),y("gridcolor",g(u.color,i.bgColor,t).toRgbString()),y("title.text",T[0]),u.setScale=_.noop,y("showspikes")&&(y("spikesides"),y("spikethickness"),y("spikecolor",u.color)),y("showaxeslabels"),y("showbackground")&&y("backgroundcolor")}}},30422:function(G,V,e){var g=e(78614),_=e(71828),a=["xaxis","yaxis","zaxis"];function C(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var A=C.prototype;A.merge=function(p,t){for(var r=this,s=0;s<3;++s){var n=t[a[s]];if(!n.visible){r.tickEnable[s]=!1,r.labelEnable[s]=!1,r.lineEnable[s]=!1,r.lineTickEnable[s]=!1,r.gridEnable[s]=!1,r.zeroEnable[s]=!1,r.backgroundEnable[s]=!1;continue}r.labels[s]=p._meta?_.templateString(n.title.text,p._meta):n.title.text,"font"in n.title&&(n.title.font.color&&(r.labelColor[s]=g(n.title.font.color)),n.title.font.family&&(r.labelFont[s]=n.title.font.family),n.title.font.size&&(r.labelSize[s]=n.title.font.size)),"showline"in n&&(r.lineEnable[s]=n.showline),"linecolor"in n&&(r.lineColor[s]=g(n.linecolor)),"linewidth"in n&&(r.lineWidth[s]=n.linewidth),"showgrid"in n&&(r.gridEnable[s]=n.showgrid),"gridcolor"in n&&(r.gridColor[s]=g(n.gridcolor)),"gridwidth"in n&&(r.gridWidth[s]=n.gridwidth),n.type==="log"?r.zeroEnable[s]=!1:"zeroline"in n&&(r.zeroEnable[s]=n.zeroline),"zerolinecolor"in n&&(r.zeroLineColor[s]=g(n.zerolinecolor)),"zerolinewidth"in n&&(r.zeroLineWidth[s]=n.zerolinewidth),"ticks"in n&&n.ticks?r.lineTickEnable[s]=!0:r.lineTickEnable[s]=!1,"ticklen"in n&&(r.lineTickLength[s]=r._defaultLineTickLength[s]=n.ticklen),"tickcolor"in n&&(r.lineTickColor[s]=g(n.tickcolor)),"tickwidth"in n&&(r.lineTickWidth[s]=n.tickwidth),"tickangle"in n&&(r.tickAngle[s]=n.tickangle==="auto"?-3600:Math.PI*-n.tickangle/180),"showticklabels"in n&&(r.tickEnable[s]=n.showticklabels),"tickfont"in n&&(n.tickfont.color&&(r.tickColor[s]=g(n.tickfont.color)),n.tickfont.family&&(r.tickFont[s]=n.tickfont.family),n.tickfont.size&&(r.tickSize[s]=n.tickfont.size)),"mirror"in n?["ticks","all","allticks"].indexOf(n.mirror)!==-1?(r.lineTickMirror[s]=!0,r.lineMirror[s]=!0):n.mirror===!0?(r.lineTickMirror[s]=!1,r.lineMirror[s]=!0):(r.lineTickMirror[s]=!1,r.lineMirror[s]=!1):r.lineMirror[s]=!1,"showbackground"in n&&n.showbackground!==!1?(r.backgroundEnable[s]=!0,r.backgroundColor[s]=g(n.backgroundcolor)):r.backgroundEnable[s]=!1}};function v(p,t){var r=new C;return r.merge(p,t),r}G.exports=v},24682:function(G,V,e){var g=e(71828),_=e(7901),a=e(73972),C=e(49119),A=e(3277),v=e(65500),p=e(27659).NG,t="gl3d";G.exports=function(n,i,f){var u=i._basePlotModules.length>1;function y(c){if(!u){var T=g.validate(n[c],v[c]);if(T)return n[c]}}C(n,i,f,{type:t,attributes:v,handleDefaults:r,fullLayout:i,font:i.font,fullData:f,getDfltFromLayout:y,autotypenumbersDflt:i.autotypenumbers,paper_bgcolor:i.paper_bgcolor,calendar:i.calendar})};function r(s,n,i,f){for(var u=i("bgcolor"),y=_.combine(u,f.paper_bgcolor),c=["up","center","eye"],T=0;T<c.length;T++)i("camera."+c[T]+".x"),i("camera."+c[T]+".y"),i("camera."+c[T]+".z");i("camera.projection.type");var h=!!i("aspectratio.x")&&!!i("aspectratio.y")&&!!i("aspectratio.z"),l=h?"manual":"auto",d=i("aspectmode",l);h||(s.aspectratio=n.aspectratio={x:1,y:1,z:1},d==="manual"&&(n.aspectmode="auto"),s.aspectmode=n.aspectmode);var E=p(f.fullData,t,f.id);A(s,n,{font:f.font,scene:f.id,data:E,bgColor:y,calendar:f.calendar,autotypenumbersDflt:f.autotypenumbersDflt,fullLayout:f.fullLayout}),a.getComponentMethod("annotations3d","handleDefaults")(s,n,f);var S=f.getDfltFromLayout("dragmode");if(S!==!1&&!S)if(S="orbit",s.camera&&s.camera.up){var P=s.camera.up.x,x=s.camera.up.y,M=s.camera.up.z;M!==0&&(!P||!x||!M||M/Math.sqrt(P*P+x*x+M*M)>.999)&&(S="turntable")}else S="turntable";i("dragmode",S),i("hovermode",f.getDfltFromLayout("hovermode"))}},65500:function(G,V,e){var g=e(77894),_=e(27670).Y,a=e(1426).extendFlat,C=e(71828).counterRegex;function A(v,p,t){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:p,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}G.exports={_arrayAttrRegexps:[C("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:a(A(0,0,1),{}),center:a(A(0,0,0),{}),eye:a(A(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:_({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:g,yaxis:g,zaxis:g,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},13133:function(G,V,e){var g=e(78614),_=["xaxis","yaxis","zaxis"];function a(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var C=a.prototype;C.merge=function(v){for(var p=0;p<3;++p){var t=v[_[p]];if(!t.visible){this.enabled[p]=!1,this.drawSides[p]=!1;continue}this.enabled[p]=t.showspikes,this.colors[p]=g(t.spikecolor),this.drawSides[p]=t.spikesides,this.lineWidth[p]=t.spikethickness}};function A(v){var p=new a;return p.merge(v),p}G.exports=A},96085:function(G,V,e){G.exports=A;var g=e(89298),_=e(71828),a=["xaxis","yaxis","zaxis"];function C(v){for(var p=new Array(3),t=0;t<3;++t){for(var r=v[t],s=new Array(r.length),n=0;n<r.length;++n)s[n]=r[n].x;p[t]=s}return p}function A(v){for(var p=v.axesOptions,t=v.glplot.axesPixels,r=v.fullSceneLayout,s=[[],[],[]],n=0;n<3;++n){var i=r[a[n]];if(i._length=(t[n].hi-t[n].lo)*t[n].pixelsPerDataUnit/v.dataScale[n],Math.abs(i._length)===1/0||isNaN(i._length))s[n]=[];else{i._input_range=i.range.slice(),i.range[0]=t[n].lo/v.dataScale[n],i.range[1]=t[n].hi/v.dataScale[n],i._m=1/(v.dataScale[n]*t[n].pixelsPerDataUnit),i.range[0]===i.range[1]&&(i.range[0]-=1,i.range[1]+=1);var f=i.tickmode;if(i.tickmode==="auto"){i.tickmode="linear";var u=i.nticks||_.constrain(i._length/40,4,9);g.autoTicks(i,Math.abs(i.range[1]-i.range[0])/u)}for(var y=g.calcTicks(i,{msUTC:!0}),c=0;c<y.length;++c)y[c].x=y[c].x*v.dataScale[n],i.type==="date"&&(y[c].text=y[c].text.replace(/\<br\>/g," "));s[n]=y,i.tickmode=f}}p.ticks=s;for(var n=0;n<3;++n){.5*(v.glplot.bounds[0][n]+v.glplot.bounds[1][n]);for(var c=0;c<2;++c)p.bounds[c][n]=v.glplot.bounds[c][n]}v.contourLevels=C(s)}},63538:function(G){function V(g,_){var a=[0,0,0,0],C,A;for(C=0;C<4;++C)for(A=0;A<4;++A)a[A]+=g[4*C+A]*_[C];return a}function e(g,_){var a=V(g.projection,V(g.view,V(g.model,[_[0],_[1],_[2],1])));return a}G.exports=e},33539:function(G,V,e){var g=e(9330).gl_plot3d,_=g.createCamera,a=g.createScene,C=e(40372),A=e(38520),v=e(73972),p=e(71828),t=p.preserveDrawingBuffer(),r=e(89298),s=e(30211),n=e(78614),i=e(58617),f=e(63538),u=e(30422),y=e(13133),c=e(96085),T=e(71739).applyAutorangeOptions,h,l,d=!1;function E(I,U){var z=document.createElement("div"),N=I.container;this.graphDiv=I.graphDiv;var B=document.createElementNS("http://www.w3.org/2000/svg","svg");B.style.position="absolute",B.style.top=B.style.left="0px",B.style.width=B.style.height="100%",B.style["z-index"]=20,B.style["pointer-events"]="none",z.appendChild(B),this.svgContainer=B,z.id=I.id,z.style.position="absolute",z.style.top=z.style.left="0px",z.style.width=z.style.height="100%",N.appendChild(z),this.fullLayout=U,this.id=I.id||"scene",this.fullSceneLayout=U[this.id],this.plotArgs=[[],{},{}],this.axesOptions=u(U,U[this.id]),this.spikeOptions=y(U[this.id]),this.container=z,this.staticMode=!!I.staticPlot,this.pixelRatio=this.pixelRatio||I.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=v.getComponentMethod("annotations3d","convert"),this.drawAnnotations=v.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var S=E.prototype;S.prepareOptions=function(){var I=this,U={canvas:I.canvas,gl:I.gl,glOptions:{preserveDrawingBuffer:t,premultipliedAlpha:!0,antialias:!0},container:I.container,axes:I.axesOptions,spikes:I.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:I.camera,pixelRatio:I.pixelRatio};if(I.staticMode){if(!l&&(h=document.createElement("canvas"),l=C({canvas:h,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!l))throw new Error("error creating static canvas/context for image server");U.gl=l,U.canvas=h}return U};var P=!0;S.tryCreatePlot=function(){var I=this,U=I.prepareOptions(),z=!0;try{I.glplot=a(U)}catch{if(I.staticMode||!P||t)z=!1;else{p.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{t=U.glOptions.preserveDrawingBuffer=!0,I.glplot=a(U)}catch{t=U.glOptions.preserveDrawingBuffer=!1,z=!1}}}return P=!1,z},S.initializeGLCamera=function(){var I=this,U=I.fullSceneLayout.camera,z=U.projection.type==="orthographic";I.camera=_(I.container,{center:[U.center.x,U.center.y,U.center.z],eye:[U.eye.x,U.eye.y,U.eye.z],up:[U.up.x,U.up.y,U.up.z],_ortho:z,zoomMin:.01,zoomMax:100,mode:"orbit"})},S.initializeGLPlot=function(){var I=this;I.initializeGLCamera();var U=I.tryCreatePlot();if(!U)return i(I);I.traces={},I.make4thDimension();var z=I.graphDiv,N=z.layout,B=function(){var H={};return I.isCameraChanged(N)&&(H[I.id+".camera"]=I.getCamera()),I.isAspectChanged(N)&&(H[I.id+".aspectratio"]=I.glplot.getAspectratio(),N[I.id].aspectmode!=="manual"&&(I.fullSceneLayout.aspectmode=N[I.id].aspectmode=H[I.id+".aspectmode"]="manual")),H},O=function(H){if(H.fullSceneLayout.dragmode!==!1){var Y=B();H.saveLayout(N),H.graphDiv.emit("plotly_relayout",Y)}};return I.glplot.canvas&&(I.glplot.canvas.addEventListener("mouseup",function(){O(I)}),I.glplot.canvas.addEventListener("touchstart",function(){d=!0}),I.glplot.canvas.addEventListener("wheel",function(H){if(z._context._scrollZoom.gl3d){if(I.camera._ortho){var Y=H.deltaX>H.deltaY?1.1:.9090909090909091,J=I.glplot.getAspectratio();I.glplot.setAspectratio({x:Y*J.x,y:Y*J.y,z:Y*J.z})}O(I)}},A?{passive:!1}:!1),I.glplot.canvas.addEventListener("mousemove",function(){if(I.fullSceneLayout.dragmode!==!1&&I.camera.mouseListener.buttons!==0){var H=B();I.graphDiv.emit("plotly_relayouting",H)}}),I.staticMode||I.glplot.canvas.addEventListener("webglcontextlost",function(H){z&&z.emit&&z.emit("plotly_webglcontextlost",{event:H,layer:I.id})},!1)),I.glplot.oncontextloss=function(){I.recoverContext()},I.glplot.onrender=function(){I.render()},!0},S.render=function(){var I=this,U=I.graphDiv,z,N=I.svgContainer,B=I.container.getBoundingClientRect();U._fullLayout._calcInverseTransform(U);var O=U._fullLayout._invScaleX,H=U._fullLayout._invScaleY,Y=B.width*O,J=B.height*H;N.setAttributeNS(null,"viewBox","0 0 "+Y+" "+J),N.setAttributeNS(null,"width",Y),N.setAttributeNS(null,"height",J),c(I),I.glplot.axes.update(I.axesOptions);for(var re=Object.keys(I.traces),ie=null,ce=I.glplot.selection,Q=0;Q<re.length;++Q)z=I.traces[re[Q]],z.data.hoverinfo!=="skip"&&z.handlePick(ce)&&(ie=z),z.setContourLevels&&z.setContourLevels();function j(Ue,Ve,Pe){var be=I.fullSceneLayout[Ue+"axis"];return be.type!=="log"&&(Ve=be.d2l(Ve)),r.hoverLabelText(be,Ve,Pe)}if(ie!==null){var Z=f(I.glplot.cameraParams,ce.dataCoordinate);z=ie.data;var $=U._fullData[z.index],te=ce.index,se={xLabel:j("x",ce.traceCoordinate[0],z.xhoverformat),yLabel:j("y",ce.traceCoordinate[1],z.yhoverformat),zLabel:j("z",ce.traceCoordinate[2],z.zhoverformat)},ee=s.castHoverinfo($,I.fullLayout,te),q=(ee||"").split("+"),le=ee&&ee==="all";!$.hovertemplate&&!le&&(q.indexOf("x")===-1&&(se.xLabel=void 0),q.indexOf("y")===-1&&(se.yLabel=void 0),q.indexOf("z")===-1&&(se.zLabel=void 0),q.indexOf("text")===-1&&(ce.textLabel=void 0),q.indexOf("name")===-1&&(ie.name=void 0));var oe,he=[];z.type==="cone"||z.type==="streamtube"?(se.uLabel=j("x",ce.traceCoordinate[3],z.uhoverformat),(le||q.indexOf("u")!==-1)&&he.push("u: "+se.uLabel),se.vLabel=j("y",ce.traceCoordinate[4],z.vhoverformat),(le||q.indexOf("v")!==-1)&&he.push("v: "+se.vLabel),se.wLabel=j("z",ce.traceCoordinate[5],z.whoverformat),(le||q.indexOf("w")!==-1)&&he.push("w: "+se.wLabel),se.normLabel=ce.traceCoordinate[6].toPrecision(3),(le||q.indexOf("norm")!==-1)&&he.push("norm: "+se.normLabel),z.type==="streamtube"&&(se.divergenceLabel=ce.traceCoordinate[7].toPrecision(3),(le||q.indexOf("divergence")!==-1)&&he.push("divergence: "+se.divergenceLabel)),ce.textLabel&&he.push(ce.textLabel),oe=he.join("<br>")):z.type==="isosurface"||z.type==="volume"?(se.valueLabel=r.hoverLabelText(I._mockAxis,I._mockAxis.d2l(ce.traceCoordinate[3]),z.valuehoverformat),he.push("value: "+se.valueLabel),ce.textLabel&&he.push(ce.textLabel),oe=he.join("<br>")):oe=ce.textLabel;var me={x:ce.traceCoordinate[0],y:ce.traceCoordinate[1],z:ce.traceCoordinate[2],data:$._input,fullData:$,curveNumber:$.index,pointNumber:te};s.appendArrayPointValue(me,$,te),z._module.eventData&&(me=$._module.eventData(me,ce,$,{},te));var Ce={points:[me]};if(I.fullSceneLayout.hovermode){var Ae=[];s.loneHover({trace:$,x:(.5+.5*Z[0]/Z[3])*Y,y:(.5-.5*Z[1]/Z[3])*J,xLabel:se.xLabel,yLabel:se.yLabel,zLabel:se.zLabel,text:oe,name:ie.name,color:s.castHoverOption($,te,"bgcolor")||ie.color,borderColor:s.castHoverOption($,te,"bordercolor"),fontFamily:s.castHoverOption($,te,"font.family"),fontSize:s.castHoverOption($,te,"font.size"),fontColor:s.castHoverOption($,te,"font.color"),nameLength:s.castHoverOption($,te,"namelength"),textAlign:s.castHoverOption($,te,"align"),hovertemplate:p.castOption($,te,"hovertemplate"),hovertemplateLabels:p.extendFlat({},me,se),eventData:[me]},{container:N,gd:U,inOut_bbox:Ae}),me.bbox=Ae[0]}ce.distance<5&&(ce.buttons||d)?U.emit("plotly_click",Ce):U.emit("plotly_hover",Ce),this.oldEventData=Ce}else s.loneUnhover(N),this.oldEventData&&U.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;I.drawAnnotations(I)},S.recoverContext=function(){var I=this;I.glplot.dispose();var U=function(){if(I.glplot.gl.isContextLost()){requestAnimationFrame(U);return}if(!I.initializeGLPlot()){p.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}I.plot.apply(I,I.plotArgs)};requestAnimationFrame(U)};var x=["xaxis","yaxis","zaxis"];function M(I,U,z){for(var N=I.fullSceneLayout,B=0;B<3;B++){var O=x[B],H=O.charAt(0),Y=N[O],J=U[H],re=U[H+"calendar"],ie=U["_"+H+"length"];if(!p.isArrayOrTypedArray(J))z[0][B]=Math.min(z[0][B],0),z[1][B]=Math.max(z[1][B],ie-1);else for(var ce,Q=0;Q<(ie||J.length);Q++)if(p.isArrayOrTypedArray(J[Q]))for(var j=0;j<J[Q].length;++j)ce=Y.d2l(J[Q][j],0,re),!isNaN(ce)&&isFinite(ce)&&(z[0][B]=Math.min(z[0][B],ce),z[1][B]=Math.max(z[1][B],ce));else ce=Y.d2l(J[Q],0,re),!isNaN(ce)&&isFinite(ce)&&(z[0][B]=Math.min(z[0][B],ce),z[1][B]=Math.max(z[1][B],ce))}}function w(I,U){for(var z=I.fullSceneLayout,N=z.annotations||[],B=0;B<3;B++)for(var O=x[B],H=O.charAt(0),Y=z[O],J=0;J<N.length;J++){var re=N[J];if(re.visible){var ie=Y.r2l(re[H]);!isNaN(ie)&&isFinite(ie)&&(U[0][B]=Math.min(U[0][B],ie),U[1][B]=Math.max(U[1][B],ie))}}}S.plot=function(I,U,z){var N=this;if(N.plotArgs=[I,U,z],!N.glplot.contextLost){var B,O,H,Y,J,re,ie=U[N.id],ce=z[N.id];N.fullLayout=U,N.fullSceneLayout=ie,N.axesOptions.merge(U,ie),N.spikeOptions.merge(ie),N.setViewport(ie),N.updateFx(ie.dragmode,ie.hovermode),N.camera.enableWheel=N.graphDiv._context._scrollZoom.gl3d,N.glplot.setClearColor(n(ie.bgcolor)),N.setConvert(J),I?Array.isArray(I)||(I=[I]):I=[];var Q=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(H=0;H<I.length;++H)B=I[H],!(B.visible!==!0||B._length===0)&&M(this,B,Q);w(this,Q);var j=[1,1,1];for(Y=0;Y<3;++Y)Q[1][Y]===Q[0][Y]?j[Y]=1:j[Y]=1/(Q[1][Y]-Q[0][Y]);for(N.dataScale=j,N.convertAnnotations(this),H=0;H<I.length;++H)B=I[H],!(B.visible!==!0||B._length===0)&&(O=N.traces[B.uid],O?O.data.type===B.type?O.update(B):(O.dispose(),O=B._module.plot(this,B),N.traces[B.uid]=O):(O=B._module.plot(this,B),N.traces[B.uid]=O),O.name=B.name);var Z=Object.keys(N.traces);e:for(H=0;H<Z.length;++H){for(Y=0;Y<I.length;++Y)if(I[Y].uid===Z[H]&&I[Y].visible===!0&&I[Y]._length!==0)continue e;O=N.traces[Z[H]],O.dispose(),delete N.traces[Z[H]]}N.glplot.objects.sort(function(at,it){return at._trace.data.index-it._trace.data.index});var $=[[0,0,0],[0,0,0]],te={};for(H=0;H<3;++H){J=ie[x[H]],re=J.type,re in te?(te[re].acc*=j[H],te[re].count+=1):te[re]={acc:j[H],count:1};var se;if(J.autorange){$[0][H]=1/0,$[1][H]=-1/0;var ee=N.glplot.objects,q=N.fullSceneLayout.annotations||[],le=J._name.charAt(0);for(Y=0;Y<ee.length;Y++){var oe=ee[Y],he=oe.bounds,me=oe._trace.data._pad||0;oe.constructor.name==="ErrorBars"&&J._lowerLogErrorBound?$[0][H]=Math.min($[0][H],J._lowerLogErrorBound):$[0][H]=Math.min($[0][H],he[0][H]/j[H]-me),$[1][H]=Math.max($[1][H],he[1][H]/j[H]+me)}for(Y=0;Y<q.length;Y++){var Ce=q[Y];if(Ce.visible){var Ae=J.r2l(Ce[le]);$[0][H]=Math.min($[0][H],Ae),$[1][H]=Math.max($[1][H],Ae)}}if("rangemode"in J&&J.rangemode==="tozero"&&($[0][H]=Math.min($[0][H],0),$[1][H]=Math.max($[1][H],0)),$[0][H]>$[1][H])$[0][H]=-1,$[1][H]=1;else{var Ue=$[1][H]-$[0][H];$[0][H]-=Ue/32,$[1][H]+=Ue/32}if(se=[$[0][H],$[1][H]],se=T(se,J),$[0][H]=se[0],$[1][H]=se[1],J.isReversed()){var Ve=$[0][H];$[0][H]=$[1][H],$[1][H]=Ve}}else se=J.range,$[0][H]=J.r2l(se[0]),$[1][H]=J.r2l(se[1]);$[0][H]===$[1][H]&&($[0][H]-=1,$[1][H]+=1),J.range=[$[0][H],$[1][H]],J.limitRange(),N.glplot.setBounds(H,{min:J.range[0]*j[H],max:J.range[1]*j[H]})}var Pe,be=ie.aspectmode;if(be==="cube")Pe=[1,1,1];else if(be==="manual"){var Le=ie.aspectratio;Pe=[Le.x,Le.y,Le.z]}else if(be==="auto"||be==="data"){var We=[1,1,1];for(H=0;H<3;++H){J=ie[x[H]],re=J.type;var je=te[re];We[H]=Math.pow(je.acc,1/je.count)/j[H]}be==="data"||Math.max.apply(null,We)/Math.min.apply(null,We)<=4?Pe=We:Pe=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");ie.aspectratio.x=ce.aspectratio.x=Pe[0],ie.aspectratio.y=ce.aspectratio.y=Pe[1],ie.aspectratio.z=ce.aspectratio.z=Pe[2],N.glplot.setAspectratio(ie.aspectratio),N.viewInitial.aspectratio||(N.viewInitial.aspectratio={x:ie.aspectratio.x,y:ie.aspectratio.y,z:ie.aspectratio.z}),N.viewInitial.aspectmode||(N.viewInitial.aspectmode=ie.aspectmode);var Fe=ie.domain||null,Ze=U._size||null;if(Fe&&Ze){var ut=N.container.style;ut.position="absolute",ut.left=Ze.l+Fe.x[0]*Ze.w+"px",ut.top=Ze.t+(1-Fe.y[1])*Ze.h+"px",ut.width=Ze.w*(Fe.x[1]-Fe.x[0])+"px",ut.height=Ze.h*(Fe.y[1]-Fe.y[0])+"px"}N.glplot.redraw()}},S.destroy=function(){var I=this;I.glplot&&(I.camera.mouseListener.enabled=!1,I.container.removeEventListener("wheel",I.camera.wheelListener),I.camera=null,I.glplot.dispose(),I.container.parentNode.removeChild(I.container),I.glplot=null)};function o(I){return[[I.eye.x,I.eye.y,I.eye.z],[I.center.x,I.center.y,I.center.z],[I.up.x,I.up.y,I.up.z]]}function L(I){return{up:{x:I.up[0],y:I.up[1],z:I.up[2]},center:{x:I.center[0],y:I.center[1],z:I.center[2]},eye:{x:I.eye[0],y:I.eye[1],z:I.eye[2]},projection:{type:I._ortho===!0?"orthographic":"perspective"}}}S.getCamera=function(){var I=this;return I.camera.view.recalcMatrix(I.camera.view.lastT()),L(I.camera)},S.setViewport=function(I){var U=this,z=I.camera;U.camera.lookAt.apply(this,o(z)),U.glplot.setAspectratio(I.aspectratio);var N=z.projection.type==="orthographic",B=U.camera._ortho;N!==B&&(U.glplot.redraw(),U.glplot.clearRGBA(),U.glplot.dispose(),U.initializeGLPlot())},S.isCameraChanged=function(I){var U=this,z=U.getCamera(),N=p.nestedProperty(I,U.id+".camera"),B=N.get();function O(re,ie,ce,Q){var j=["up","center","eye"],Z=["x","y","z"];return ie[j[ce]]&&re[j[ce]][Z[Q]]===ie[j[ce]][Z[Q]]}var H=!1;if(B===void 0)H=!0;else{for(var Y=0;Y<3;Y++)for(var J=0;J<3;J++)if(!O(z,B,Y,J)){H=!0;break}(!B.projection||z.projection&&z.projection.type!==B.projection.type)&&(H=!0)}return H},S.isAspectChanged=function(I){var U=this,z=U.glplot.getAspectratio(),N=p.nestedProperty(I,U.id+".aspectratio"),B=N.get();return B===void 0||B.x!==z.x||B.y!==z.y||B.z!==z.z},S.saveLayout=function(I){var U=this,z=U.fullLayout,N,B,O,H,Y,J,re=U.isCameraChanged(I),ie=U.isAspectChanged(I),ce=re||ie;if(ce){var Q={};if(re&&(N=U.getCamera(),B=p.nestedProperty(I,U.id+".camera"),O=B.get(),Q[U.id+".camera"]=O),ie&&(H=U.glplot.getAspectratio(),Y=p.nestedProperty(I,U.id+".aspectratio"),J=Y.get(),Q[U.id+".aspectratio"]=J),v.call("_storeDirectGUIEdit",I,z._preGUI,Q),re){B.set(N);var j=p.nestedProperty(z,U.id+".camera");j.set(N)}if(ie){Y.set(H);var Z=p.nestedProperty(z,U.id+".aspectratio");Z.set(H),U.glplot.redraw()}}return ce},S.updateFx=function(I,U){var z=this,N=z.camera;if(N)if(I==="orbit")N.mode="orbit",N.keyBindingMode="rotate";else if(I==="turntable"){N.up=[0,0,1],N.mode="turntable",N.keyBindingMode="rotate";var B=z.graphDiv,O=B._fullLayout,H=z.fullSceneLayout.camera,Y=H.up.x,J=H.up.y,re=H.up.z;if(re/Math.sqrt(Y*Y+J*J+re*re)<.999){var ie=z.id+".camera.up",ce={x:0,y:0,z:1},Q={};Q[ie]=ce;var j=B.layout;v.call("_storeDirectGUIEdit",j,O._preGUI,Q),H.up=ce,p.nestedProperty(j,ie).set(ce)}}else N.keyBindingMode=I;z.fullSceneLayout.hovermode=U};function m(I,U,z){for(var N=0,B=z-1;N<B;++N,--B)for(var O=0;O<U;++O)for(var H=0;H<4;++H){var Y=4*(U*N+O)+H,J=4*(U*B+O)+H,re=I[Y];I[Y]=I[J],I[J]=re}}function F(I,U,z){for(var N=0;N<z;++N)for(var B=0;B<U;++B){var O=4*(U*N+B),H=I[O+3];if(H>0)for(var Y=255/H,J=0;J<3;++J)I[O+J]=Math.min(Y*I[O+J],255)}}S.toImage=function(I){var U=this;I||(I="png"),U.staticMode&&U.container.appendChild(h),U.glplot.redraw();var z=U.glplot.gl,N=z.drawingBufferWidth,B=z.drawingBufferHeight;z.bindFramebuffer(z.FRAMEBUFFER,null);var O=new Uint8Array(N*B*4);z.readPixels(0,0,N,B,z.RGBA,z.UNSIGNED_BYTE,O),m(O,N,B),F(O,N,B);var H=document.createElement("canvas");H.width=N,H.height=B;var Y=H.getContext("2d",{willReadFrequently:!0}),J=Y.createImageData(N,B);J.data.set(O),Y.putImageData(J,0,0);var re;switch(I){case"jpeg":re=H.toDataURL("image/jpeg");break;case"webp":re=H.toDataURL("image/webp");break;default:re=H.toDataURL("image/png")}return U.staticMode&&U.container.removeChild(h),re},S.setConvert=function(){for(var I=this,U=0;U<3;U++){var z=I.fullSceneLayout[x[U]];r.setConvert(z,I.fullLayout),z.setScale=p.noop}},S.make4thDimension=function(){var I=this,U=I.graphDiv,z=U._fullLayout;I._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},r.setConvert(I._mockAxis,z)},G.exports=E},90060:function(G){G.exports=function(e,g,_,a){a=a||e.length;for(var C=new Array(a),A=0;A<a;A++)C[A]=[e[A],g[A],_[A]];return C}},10820:function(G,V,e){var g=e(41940),_=e(85594),a=e(22399),C=e(29241),A=e(53777),v=e(35025),p=e(1426).extendFlat,t=g({editType:"calc"});t.family.dflt='"Open Sans", verdana, arial, sans-serif',t.size.dflt=12,t.color.dflt=a.defaultLine,G.exports={font:t,title:{text:{valType:"string",editType:"layoutstyle"},font:g({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:p(v({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:a.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:a.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:a.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:C.newshape,activeshape:C.activeshape,newselection:A.newselection,activeselection:A.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:p({},_.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:g({editType:"layoutstyle"})}}},77734:function(G,V,e){var g=e(78607),_="1.10.1",a=' <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',C=[' <a target="_blank" href="https://carto.com/">Carto</a>',a].join(" "),A=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),v=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),p={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:a,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:C,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:C,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:A,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:A,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:v,tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},t=g(p);G.exports={requiredVersion:_,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:p,styleValuesNonMapbox:t,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install mapbox-gl@"+_+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",t.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},13056:function(G,V,e){var g=e(71828);G.exports=function(a,C){var A=a.split(" "),v=A[0],p=A[1],t=g.isArrayOrTypedArray(C)?g.mean(C):C,r=.5+t/100,s=1.5+t/100,n=["",""],i=[0,0];switch(v){case"top":n[0]="top",i[1]=-s;break;case"bottom":n[0]="bottom",i[1]=s;break}switch(p){case"left":n[1]="right",i[0]=-r;break;case"right":n[1]="left",i[0]=r;break}var f;return n[0]&&n[1]?f=n.join("-"):n[0]?f=n[0]:n[1]?f=n[1]:f="center",{anchor:f,offset:i}}},50101:function(G,V,e){var g=e(44517),_=e(71828),a=_.strTranslate,C=_.strScale,A=e(27659).AU,v=e(77922),p=e(39898),t=e(91424),r=e(63893),s=e(10481),n="mapbox",i=V.constants=e(77734);V.name=n,V.attr="subplot",V.idRoot=n,V.idRegex=V.attrRegex=_.counterRegex(n),V.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},V.layoutAttributes=e(23585),V.supplyLayoutDefaults=e(77882),V.plot=function(c){var T=c._fullLayout,h=c.calcdata,l=T._subplots[n];if(g.version!==i.requiredVersion)throw new Error(i.wrongVersionErrorMsg);var d=f(c,l);g.accessToken=d;for(var E=0;E<l.length;E++){var S=l[E],P=A(h,n,S),x=T[S],M=x._subplot;M||(M=new s(c,S),T[S]._subplot=M),M.viewInitial||(M.viewInitial={center:_.extendFlat({},x.center),zoom:x.zoom,bearing:x.bearing,pitch:x.pitch}),M.plot(P,T,c._promises)}},V.clean=function(y,c,T,h){for(var l=h._subplots[n]||[],d=0;d<l.length;d++){var E=l[d];!c[E]&&h[E]._subplot&&h[E]._subplot.destroy()}},V.toSVG=function(y){for(var c=y._fullLayout,T=c._subplots[n],h=c._size,l=0;l<T.length;l++){var d=c[T[l]],E=d.domain,S=d._subplot,P=S.toImage("png"),x=c._glimages.append("svg:image");x.attr({xmlns:v.svg,"xlink:href":P,x:h.l+h.w*E.x[0],y:h.t+h.h*(1-E.y[1]),width:h.w*(E.x[1]-E.x[0]),height:h.h*(E.y[1]-E.y[0]),preserveAspectRatio:"none"});var M=p.select(d._subplot.div),w=M.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!w){var o=c._glimages.append("g");o.attr("transform",a(h.l+h.w*E.x[0]+10,h.t+h.h*(1-E.y[0])-31)),o.append("path").attr("d",i.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),o.append("path").attr("d",i.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),o.append("path").attr("d",i.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),o.append("polygon").attr("points",i.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var L=M.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),m=c._glimages.append("g"),F=m.append("text");F.text(L).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":L});var I=t.bBox(F.node()),U=h.w*(E.x[1]-E.x[0]);if(I.width>U/2){var z=L.split("|").join("<br>");F.text(z).attr("data-unformatted",z).call(r.convertToTspans,y),I=t.bBox(F.node())}F.attr("transform",a(-3,-I.height+8)),m.insert("rect",".static-attribution").attr({x:-I.width-6,y:-I.height-3,width:I.width+6,height:I.height+3,fill:"rgba(255, 255, 255, 0.75)"});var N=1;I.width+6>U&&(N=U/(I.width+6));var B=[h.l+h.w*E.x[1],h.t+h.h*(1-E.y[0])];m.attr("transform",a(B[0],B[1])+C(N))}};function f(y,c){var T=y._fullLayout,h=y._context;if(h.mapboxAccessToken==="")return"";for(var l=[],d=[],E=!1,S=!1,P=0;P<c.length;P++){var x=T[c[P]],M=x.accesstoken;u(x.style)&&(M?_.pushUnique(l,M):(u(x._input.style)&&(_.error("Uses Mapbox map style, but did not set an access token."),E=!0),S=!0)),M&&_.pushUnique(d,M)}if(S){var w=E?i.noAccessTokenErrorMsg:i.missingStyleErrorMsg;throw _.error(w),new Error(w)}return l.length?(l.length>1&&_.warn(i.multipleTokensErrorMsg),l[0]):(d.length&&_.log(["Listed mapbox access token(s)",d.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function u(y){return typeof y=="string"&&(i.styleValuesMapbox.indexOf(y)!==-1||y.indexOf("mapbox://")===0||y.indexOf("stamen")===0)}V.updateFx=function(y){for(var c=y._fullLayout,T=c._subplots[n],h=0;h<T.length;h++){var l=c[T[h]]._subplot;l.updateFx(c)}}},67911:function(G,V,e){var g=e(71828),_=e(63893).sanitizeHTML,a=e(13056),C=e(77734);function A(s,n){this.subplot=s,this.uid=s.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=C.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=A.prototype;v.update=function(n){this.visible?this.needsNewImage(n)?this.updateImage(n):this.needsNewSource(n)?(this.removeLayer(),this.updateSource(n),this.updateLayer(n)):this.needsNewLayer(n)?this.updateLayer(n):this.updateStyle(n):(this.updateSource(n),this.updateLayer(n)),this.visible=p(n)},v.needsNewImage=function(s){var n=this.subplot.map;return n.getSource(this.idSource)&&this.sourceType==="image"&&s.sourcetype==="image"&&(this.source!==s.source||JSON.stringify(this.coordinates)!==JSON.stringify(s.coordinates))},v.needsNewSource=function(s){return this.sourceType!==s.sourcetype||JSON.stringify(this.source)!==JSON.stringify(s.source)||this.layerType!==s.type},v.needsNewLayer=function(s){return this.layerType!==s.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(s){var n=this.subplot.map;n.getSource(this.idSource).updateImage({url:s.source,coordinates:s.coordinates});var i=this.findFollowingMapboxLayerId(this.lookupBelow());i!==null&&this.subplot.map.moveLayer(this.idLayer,i)},v.updateSource=function(s){var n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=s.sourcetype,this.source=s.source,!!p(s)){var i=r(s);n.addSource(this.idSource,i)}},v.findFollowingMapboxLayerId=function(s){if(s==="traces")for(var n=this.subplot.getMapLayers(),i=0;i<n.length;i++){var f=n[i].id;if(typeof f=="string"&&f.indexOf(C.traceLayerPrefix)===0){s=f;break}}return s},v.updateLayer=function(s){var n=this.subplot,i=t(s),f=this.lookupBelow(),u=this.findFollowingMapboxLayerId(f);this.removeLayer(),p(s)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":s.sourcelayer||"",type:s.type,minzoom:s.minzoom,maxzoom:s.maxzoom,layout:i.layout,paint:i.paint},u),this.layerType=s.type,this.below=f},v.updateStyle=function(s){if(p(s)){var n=t(s);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},v.removeLayer=function(){var s=this.subplot.map;s.getLayer(this.idLayer)&&s.removeLayer(this.idLayer)},v.dispose=function(){var s=this.subplot.map;s.getLayer(this.idLayer)&&s.removeLayer(this.idLayer),s.getSource(this.idSource)&&s.removeSource(this.idSource)};function p(s){if(!s.visible)return!1;var n=s.source;if(Array.isArray(n)&&n.length>0){for(var i=0;i<n.length;i++)if(typeof n[i]!="string"||n[i].length===0)return!1;return!0}return g.isPlainObject(n)||typeof n=="string"&&n.length>0}function t(s){var n={},i={};switch(s.type){case"circle":g.extendFlat(i,{"circle-radius":s.circle.radius,"circle-color":s.color,"circle-opacity":s.opacity});break;case"line":g.extendFlat(i,{"line-width":s.line.width,"line-color":s.color,"line-opacity":s.opacity,"line-dasharray":s.line.dash});break;case"fill":g.extendFlat(i,{"fill-color":s.color,"fill-outline-color":s.fill.outlinecolor,"fill-opacity":s.opacity});break;case"symbol":var f=s.symbol,u=a(f.textposition,f.iconsize);g.extendFlat(n,{"icon-image":f.icon+"-15","icon-size":f.iconsize/10,"text-field":f.text,"text-size":f.textfont.size,"text-anchor":u.anchor,"text-offset":u.offset,"symbol-placement":f.placement}),g.extendFlat(i,{"icon-color":s.color,"text-color":f.textfont.color,"text-opacity":s.opacity});break;case"raster":g.extendFlat(i,{"raster-fade-duration":0,"raster-opacity":s.opacity});break}return{layout:n,paint:i}}function r(s){var n=s.sourcetype,i=s.source,f={type:n},u;return n==="geojson"?u="data":n==="vector"?u=typeof i=="string"?"url":"tiles":n==="raster"?(u="tiles",f.tileSize=256):n==="image"&&(u="url",f.coordinates=s.coordinates),f[u]=i,s.sourceattribution&&(f.attribution=_(s.sourceattribution)),f}G.exports=function(n,i,f){var u=new A(n,i);return u.update(f),u}},23585:function(G,V,e){var g=e(71828),_=e(7901).defaultLine,a=e(27670).Y,C=e(41940),A=e(82196).textposition,v=e(30962).overrideAll,p=e(44467).templatedArray,t=e(77734),r=C({});r.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var s=G.exports=v({_arrayAttrRegexps:[g.counterRegex("mapbox",".layers",!0)],domain:a({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:t.styleValuesMapbox.concat(t.styleValuesNonMapbox),dflt:t.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:p("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:_},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:_}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:r,textposition:g.extendFlat({},A,{arrayOk:!1})}})},"plot","from-root");s.uirevision={valType:"any",editType:"none"}},77882:function(G,V,e){var g=e(71828),_=e(49119),a=e(85501),C=e(23585);G.exports=function(t,r,s){_(t,r,s,{type:"mapbox",attributes:C,handleDefaults:A,partition:"y",accessToken:r._mapboxAccessToken})};function A(p,t,r,s){r("accesstoken",s.accessToken),r("style"),r("center.lon"),r("center.lat"),r("zoom"),r("bearing"),r("pitch");var n=r("bounds.west"),i=r("bounds.east"),f=r("bounds.south"),u=r("bounds.north");(n===void 0||i===void 0||f===void 0||u===void 0)&&delete t.bounds,a(p,t,{name:"layers",handleItemDefaults:v}),t._input=p}function v(p,t){function r(y,c){return g.coerce(p,t,C.layers,y,c)}var s=r("visible");if(s){var n=r("sourcetype"),i=n==="raster"||n==="image";r("source"),r("sourceattribution"),n==="vector"&&r("sourcelayer"),n==="image"&&r("coordinates");var f;i&&(f="raster");var u=r("type",f);i&&u!=="raster"&&(u=t.type="raster",g.log("Source types *raster* and *image* must drawn *raster* layer type.")),r("below"),r("color"),r("opacity"),r("minzoom"),r("maxzoom"),u==="circle"&&r("circle.radius"),u==="line"&&(r("line.width"),r("line.dash")),u==="fill"&&r("fill.outlinecolor"),u==="symbol"&&(r("symbol.icon"),r("symbol.iconsize"),r("symbol.text"),g.coerceFont(r,"symbol.textfont"),r("symbol.textposition"),r("symbol.placement"))}}},10481:function(G,V,e){var g=e(44517),_=e(71828),a=e(41327),C=e(73972),A=e(89298),v=e(28569),p=e(30211),t=e(64505),r=t.drawMode,s=t.selectMode,n=e(47322).prepSelect,i=e(47322).clearOutline,f=e(47322).clearSelectionsCache,u=e(47322).selectOnClick,y=e(77734),c=e(67911);function T(P,x){this.id=x,this.gd=P;var M=P._fullLayout,w=P._context;this.container=M._glcontainer.node(),this.isStatic=w.staticPlot,this.uid=M._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(M),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var h=T.prototype;h.plot=function(P,x,M){var w=this,o=x[w.id];w.map&&o.accesstoken!==w.accessToken&&(w.map.remove(),w.map=null,w.styleObj=null,w.traceHash={},w.layerList=[]);var L;w.map?L=new Promise(function(m,F){w.updateMap(P,x,m,F)}):L=new Promise(function(m,F){w.createMap(P,x,m,F)}),M.push(L)},h.createMap=function(P,x,M,w){var o=this,L=x[o.id],m=o.styleObj=d(L.style,x);o.accessToken=L.accesstoken;var F=L.bounds,I=F?[[F.west,F.south],[F.east,F.north]]:null,U=o.map=new g.Map({container:o.div,style:m.style,center:S(L.center),zoom:L.zoom,bearing:L.bearing,pitch:L.pitch,maxBounds:I,interactive:!o.isStatic,preserveDrawingBuffer:o.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new g.AttributionControl({compact:!0}));U._canvas.style.left="0px",U._canvas.style.top="0px",o.rejectOnError(w),o.isStatic||o.initFx(P,x);var z=[];z.push(new Promise(function(N){U.once("load",N)})),z=z.concat(a.fetchTraceGeoData(P)),Promise.all(z).then(function(){o.fillBelowLookup(P,x),o.updateData(P),o.updateLayout(x),o.resolveOnRender(M)}).catch(w)},h.updateMap=function(P,x,M,w){var o=this,L=o.map,m=x[this.id];o.rejectOnError(w);var F=[],I=d(m.style,x);JSON.stringify(o.styleObj)!==JSON.stringify(I)&&(o.styleObj=I,L.setStyle(I.style),o.traceHash={},F.push(new Promise(function(U){L.once("styledata",U)}))),F=F.concat(a.fetchTraceGeoData(P)),Promise.all(F).then(function(){o.fillBelowLookup(P,x),o.updateData(P),o.updateLayout(x),o.resolveOnRender(M)}).catch(w)},h.fillBelowLookup=function(P,x){var M=x[this.id],w=M.layers,o,L,m=this.belowLookup={},F=!1;for(o=0;o<P.length;o++){var I=P[o][0].trace,U=I._module;typeof I.below=="string"?L=I.below:U.getBelow&&(L=U.getBelow(I,this)),L===""&&(F=!0),m["trace-"+I.uid]=L||""}for(o=0;o<w.length;o++){var z=w[o];typeof z.below=="string"?L=z.below:F?L="traces":L="",m["layout-"+o]=L}var N={},B,O;for(B in m)L=m[B],N[L]?N[L].push(B):N[L]=[B];for(L in N){var H=N[L];if(H.length>1)for(o=0;o<H.length;o++)B=H[o],B.indexOf("trace-")===0?(O=B.split("trace-")[1],this.traceHash[O]&&(this.traceHash[O].below=null)):B.indexOf("layout-")===0&&(O=B.split("layout-")[1],this.layerList[O]&&(this.layerList[O].below=null))}};var l={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};h.updateData=function(P){var x=this.traceHash,M,w,o,L,m=P.slice().sort(function(N,B){return l[N[0].trace.type]-l[B[0].trace.type]});for(o=0;o<m.length;o++){var F=m[o];w=F[0].trace,M=x[w.uid];var I=!1;M&&(M.type===w.type?(M.update(F),I=!0):M.dispose()),!I&&w._module&&(x[w.uid]=w._module.plot(this,F))}var U=Object.keys(x);e:for(o=0;o<U.length;o++){var z=U[o];for(L=0;L<P.length;L++)if(w=P[L][0].trace,z===w.uid)continue e;M=x[z],M.dispose(),delete x[z]}},h.updateLayout=function(P){var x=this.map,M=P[this.id];!this.dragging&&!this.wheeling&&(x.setCenter(S(M.center)),x.setZoom(M.zoom),x.setBearing(M.bearing),x.setPitch(M.pitch)),this.updateLayers(P),this.updateFramework(P),this.updateFx(P),this.map.resize(),this.gd._context._scrollZoom.mapbox?x.scrollZoom.enable():x.scrollZoom.disable()},h.resolveOnRender=function(P){var x=this.map;x.on("render",function M(){x.loaded()&&(x.off("render",M),setTimeout(P,10))})},h.rejectOnError=function(P){var x=this.map;function M(){P(new Error(y.mapOnErrorMsg))}x.once("error",M),x.once("style.error",M),x.once("source.error",M),x.once("tile.error",M),x.once("layer.error",M)},h.createFramework=function(P){var x=this,M=x.div=document.createElement("div");M.id=x.uid,M.style.position="absolute",x.container.appendChild(M),x.xaxis={_id:"x",c2p:function(w){return x.project(w).x}},x.yaxis={_id:"y",c2p:function(w){return x.project(w).y}},x.updateFramework(P),x.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},A.setConvert(x.mockAxis,P)},h.initFx=function(P,x){var M=this,w=M.gd,o=M.map;o.on("moveend",function(F){if(M.map){var I=w._fullLayout;if(F.originalEvent||M.wheeling){var U=I[M.id];C.call("_storeDirectGUIEdit",w.layout,I._preGUI,M.getViewEdits(U));var z=M.getView();U._input.center=U.center=z.center,U._input.zoom=U.zoom=z.zoom,U._input.bearing=U.bearing=z.bearing,U._input.pitch=U.pitch=z.pitch,w.emit("plotly_relayout",M.getViewEditsWithDerived(z))}F.originalEvent&&F.originalEvent.type==="mouseup"?M.dragging=!1:M.wheeling&&(M.wheeling=!1),I._rehover&&I._rehover()}}),o.on("wheel",function(){M.wheeling=!0}),o.on("mousemove",function(F){var I=M.div.getBoundingClientRect(),U=[F.originalEvent.offsetX,F.originalEvent.offsetY];F.target.getBoundingClientRect=function(){return I},M.xaxis.p2c=function(){return o.unproject(U).lng},M.yaxis.p2c=function(){return o.unproject(U).lat},w._fullLayout._rehover=function(){w._fullLayout._hoversubplot===M.id&&w._fullLayout[M.id]&&p.hover(w,F,M.id)},p.hover(w,F,M.id),w._fullLayout._hoversubplot=M.id});function L(){p.loneUnhover(x._hoverlayer)}o.on("dragstart",function(){M.dragging=!0,L()}),o.on("zoomstart",L),o.on("mouseout",function(){w._fullLayout._hoversubplot=null});function m(){var F=M.getView();w.emit("plotly_relayouting",M.getViewEditsWithDerived(F))}o.on("drag",m),o.on("zoom",m),o.on("dblclick",function(){var F=w._fullLayout[M.id];C.call("_storeDirectGUIEdit",w.layout,w._fullLayout._preGUI,M.getViewEdits(F));var I=M.viewInitial;o.setCenter(S(I.center)),o.setZoom(I.zoom),o.setBearing(I.bearing),o.setPitch(I.pitch);var U=M.getView();F._input.center=F.center=U.center,F._input.zoom=F.zoom=U.zoom,F._input.bearing=F.bearing=U.bearing,F._input.pitch=F.pitch=U.pitch,w.emit("plotly_doubleclick",null),w.emit("plotly_relayout",M.getViewEditsWithDerived(U))}),M.clearOutline=function(){f(M.dragOptions),i(M.dragOptions.gd)},M.onClickInPanFn=function(F){return function(I){var U=w._fullLayout.clickmode;U.indexOf("select")>-1&&u(I.originalEvent,w,[M.xaxis],[M.yaxis],M.id,F),U.indexOf("event")>-1&&p.click(w,I.originalEvent)}}},h.updateFx=function(P){var x=this,M=x.map,w=x.gd;if(x.isStatic)return;function o(I){var U=x.map.unproject(I);return[U.lng,U.lat]}var L=P.dragmode,m;m=function(I,U){if(U.isRect){var z=I.range={};z[x.id]=[o([U.xmin,U.ymin]),o([U.xmax,U.ymax])]}else{var N=I.lassoPoints={};N[x.id]=U.map(o)}};var F=x.dragOptions;x.dragOptions=_.extendDeep(F||{},{dragmode:P.dragmode,element:x.div,gd:w,plotinfo:{id:x.id,domain:P[x.id].domain,xaxis:x.xaxis,yaxis:x.yaxis,fillRangeItems:m},xaxes:[x.xaxis],yaxes:[x.yaxis],subplot:x.id}),M.off("click",x.onClickInPanHandler),s(L)||r(L)?(M.dragPan.disable(),M.on("zoomstart",x.clearOutline),x.dragOptions.prepFn=function(I,U,z){n(I,U,z,x.dragOptions,L)},v.init(x.dragOptions)):(M.dragPan.enable(),M.off("zoomstart",x.clearOutline),x.div.onmousedown=null,x.div.ontouchstart=null,x.div.removeEventListener("touchstart",x.div._ontouchstart),x.onClickInPanHandler=x.onClickInPanFn(x.dragOptions),M.on("click",x.onClickInPanHandler))},h.updateFramework=function(P){var x=P[this.id].domain,M=P._size,w=this.div.style;w.width=M.w*(x.x[1]-x.x[0])+"px",w.height=M.h*(x.y[1]-x.y[0])+"px",w.left=M.l+x.x[0]*M.w+"px",w.top=M.t+(1-x.y[1])*M.h+"px",this.xaxis._offset=M.l+x.x[0]*M.w,this.xaxis._length=M.w*(x.x[1]-x.x[0]),this.yaxis._offset=M.t+(1-x.y[1])*M.h,this.yaxis._length=M.h*(x.y[1]-x.y[0])},h.updateLayers=function(P){var x=P[this.id],M=x.layers,w=this.layerList,o;if(M.length!==w.length){for(o=0;o<w.length;o++)w[o].dispose();for(w=this.layerList=[],o=0;o<M.length;o++)w.push(c(this,o,M[o]))}else for(o=0;o<M.length;o++)w[o].update(M[o])},h.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},h.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},h.setOptions=function(P,x,M){for(var w in M)this.map[x](P,w,M[w])},h.getMapLayers=function(){return this.map.getStyle().layers},h.addLayer=function(P,x){var M=this.map;if(typeof x=="string"){if(x===""){M.addLayer(P,x);return}for(var w=this.getMapLayers(),o=0;o<w.length;o++)if(x===w[o].id){M.addLayer(P,x);return}_.warn(["Trying to add layer with *below* value",x,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}M.addLayer(P)},h.project=function(P){return this.map.project(new g.LngLat(P[0],P[1]))},h.getView=function(){var P=this.map,x=P.getCenter(),M=x.lng,w=x.lat,o={lon:M,lat:w},L=P.getCanvas(),m=parseInt(L.style.width),F=parseInt(L.style.height);return{center:o,zoom:P.getZoom(),bearing:P.getBearing(),pitch:P.getPitch(),_derived:{coordinates:[P.unproject([0,0]).toArray(),P.unproject([m,0]).toArray(),P.unproject([m,F]).toArray(),P.unproject([0,F]).toArray()]}}},h.getViewEdits=function(P){for(var x=this.id,M=["center","zoom","bearing","pitch"],w={},o=0;o<M.length;o++){var L=M[o];w[x+"."+L]=P[L]}return w},h.getViewEditsWithDerived=function(P){var x=this.id,M=this.getViewEdits(P);return M[x+"._derived"]=P._derived,M};function d(P,x){var M={};if(_.isPlainObject(P))M.id=P.id,M.style=P;else if(typeof P=="string")if(M.id=P,y.styleValuesMapbox.indexOf(P)!==-1)M.style=E(P);else if(y.stylesNonMapbox[P]){M.style=y.stylesNonMapbox[P];var w=M.style.sources["plotly-"+P],o=w?w.tiles:void 0;o&&o[0]&&o[0].slice(-9)==="?api_key="&&(o[0]+=x._mapboxAccessToken)}else M.style=P;else M.id=y.styleValueDflt,M.style=E(y.styleValueDflt);return M.transition={duration:0,delay:0},M}function E(P){return y.styleUrlPrefix+P+"-"+y.styleUrlSuffix}function S(P){return[P.lon,P.lat]}G.exports=T},35025:function(G){G.exports=function(V){var e=V.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},74875:function(G,V,e){var g=e(39898),_=e(84096).Dq,a=e(60721).FF,C=e(92770),A=e(73972),v=e(86281),p=e(44467),t=e(71828),r=e(7901),s=e(50606).BADNUM,n=e(41675),i=e(51873).clearOutline,f=e(21479),u=e(85594),y=e(31391),c=e(27659).a0,T=t.relinkPrivateKeys,h=t._,l=G.exports={};t.extendFlat(l,A),l.attributes=e(9012),l.attributes.type.values=l.allTypes,l.fontAttrs=e(41940),l.layoutAttributes=e(10820),l.fontWeight="normal";var d=l.transformsRegistry,E=e(31137);l.executeAPICommand=E.executeAPICommand,l.computeAPICommandBindings=E.computeAPICommandBindings,l.manageCommandObserver=E.manageCommandObserver,l.hasSimpleAPICommandBindings=E.hasSimpleAPICommandBindings,l.redrawText=function(Z){return Z=t.getGraphDiv(Z),new Promise(function($){setTimeout(function(){Z._fullLayout&&(A.getComponentMethod("annotations","draw")(Z),A.getComponentMethod("legend","draw")(Z),A.getComponentMethod("colorbar","draw")(Z),$(l.previousPromises(Z)))},300)})},l.resize=function(Z){Z=t.getGraphDiv(Z);var $,te=new Promise(function(se,ee){(!Z||t.isHidden(Z))&&ee(new Error("Resize must be passed a displayed plot div element.")),Z._redrawTimer&&clearTimeout(Z._redrawTimer),Z._resolveResize&&($=Z._resolveResize),Z._resolveResize=se,Z._redrawTimer=setTimeout(function(){if(!Z.layout||Z.layout.width&&Z.layout.height||t.isHidden(Z)){se(Z);return}delete Z.layout.width,delete Z.layout.height;var q=Z.changed;Z.autoplay=!0,A.call("relayout",Z,{autosize:!0}).then(function(){Z.changed=q,Z._resolveResize===se&&(delete Z._resolveResize,se(Z))})},100)});return $&&$(te),te},l.previousPromises=function(Z){if((Z._promises||[]).length)return Promise.all(Z._promises).then(function(){Z._promises=[]})},l.addLinks=function(Z){if(!(!Z._context.showLink&&!Z._context.showSources)){var $=Z._fullLayout,te=t.ensureSingle($._paper,"text","js-plot-link-container",function(he){he.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:r.defaultLine,"pointer-events":"all"}).each(function(){var me=g.select(this);me.append("tspan").classed("js-link-to-tool",!0),me.append("tspan").classed("js-link-spacer",!0),me.append("tspan").classed("js-sourcelinks",!0)})}),se=te.node(),ee={y:$._paper.attr("height")-9};document.body.contains(se)&&se.getComputedTextLength()>=$.width-20?(ee["text-anchor"]="start",ee.x=5):(ee["text-anchor"]="end",ee.x=$._paper.attr("width")-7),te.attr(ee);var q=te.select(".js-link-to-tool"),le=te.select(".js-link-spacer"),oe=te.select(".js-sourcelinks");Z._context.showSources&&Z._context.showSources(Z),Z._context.showLink&&S(Z,q),le.text(q.text()&&oe.text()?" - ":"")}};function S(Z,$){$.text("");var te=$.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(Z._context.linkText+" "+String.fromCharCode(187));if(Z._context.sendData)te.on("click",function(){l.sendDataToCloud(Z)});else{var se=window.location.pathname.split("/"),ee=window.location.search;te.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+se[2].split(".")[0]+"/"+se[1]+ee})}}l.sendDataToCloud=function(Z){var $=(window.PLOTLYENV||{}).BASE_URL||Z._context.plotlyServerURL;if($){Z.emit("plotly_beforeexport");var te=g.select(Z).append("div").attr("id","hiddenform").style("display","none"),se=te.append("form").attr({action:$+"/external",method:"post",target:"_blank"}),ee=se.append("input").attr({type:"text",name:"data"});return ee.node().value=l.graphJson(Z,!1,"keepdata"),se.node().submit(),te.remove(),Z.emit("plotly_afterexport"),!1}};var P=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],x=["year","month","dayMonth","dayMonthYear"];l.supplyDefaults=function(Z,$){var te=$&&$.skipUpdateCalc,se=Z._fullLayout||{};if(se._skipDefaults){delete se._skipDefaults;return}var ee=Z._fullLayout={},q=Z.layout||{},le=Z._fullData||[],oe=Z._fullData=[],he=Z.data||[],me=Z.calcdata||[],Ce=Z._context||{},Ae;Z._transitionData||l.createTransitionData(Z),ee._dfltTitle={plot:h(Z,"Click to enter Plot title"),x:h(Z,"Click to enter X axis title"),y:h(Z,"Click to enter Y axis title"),colorbar:h(Z,"Click to enter Colorscale title"),annotation:h(Z,"new text")},ee._traceWord=h(Z,"trace");var Ue=o(Z,P);if(ee._mapboxAccessToken=Ce.mapboxAccessToken,se._initialAutoSizeIsDone){var Ve=se.width,Pe=se.height;l.supplyLayoutGlobalDefaults(q,ee,Ue),q.width||(ee.width=Ve),q.height||(ee.height=Pe),l.sanitizeMargins(ee)}else{l.supplyLayoutGlobalDefaults(q,ee,Ue);var be=!q.width||!q.height,Le=ee.autosize,We=Ce.autosizable,je=be&&(Le||We);je?l.plotAutoSize(Z,q,ee):be&&l.sanitizeMargins(ee),!Le&&be&&(q.width=ee.width,q.height=ee.height)}ee._d3locale=L(Ue,ee.separators),ee._extraFormat=o(Z,x),ee._initialAutoSizeIsDone=!0,ee._dataLength=he.length,ee._modules=[],ee._visibleModules=[],ee._basePlotModules=[];var Fe=ee._subplots=w(),Ze=ee._splomAxes={x:{},y:{}},ut=ee._splomSubplots={};ee._splomGridDflt={},ee._scatterStackOpts={},ee._firstScatter={},ee._alignmentOpts={},ee._colorAxes={},ee._requestRangeslider={},ee._traceUids=M(le,he),ee._globalTransforms=(Z._context||{}).globalTransforms,l.supplyDataDefaults(he,oe,q,ee);var at=Object.keys(Ze.x),it=Object.keys(Ze.y);if(at.length>1&&it.length>1){for(A.getComponentMethod("grid","sizeDefaults")(q,ee),Ae=0;Ae<at.length;Ae++)t.pushUnique(Fe.xaxis,at[Ae]);for(Ae=0;Ae<it.length;Ae++)t.pushUnique(Fe.yaxis,it[Ae]);for(var $e in ut)t.pushUnique(Fe.cartesian,$e)}if(ee._has=l._hasPlotType.bind(ee),le.length===oe.length)for(Ae=0;Ae<oe.length;Ae++)T(oe[Ae],le[Ae]);l.supplyLayoutModuleDefaults(q,ee,oe,Z._transitionData);var st=ee._visibleModules,ct=[];for(Ae=0;Ae<st.length;Ae++){var vt=st[Ae].crossTraceDefaults;vt&&t.pushUnique(ct,vt)}for(Ae=0;Ae<ct.length;Ae++)ct[Ae](oe,ee);ee._hasOnlyLargeSploms=ee._basePlotModules.length===1&&ee._basePlotModules[0].name==="splom"&&at.length>15&&it.length>15&&ee.shapes.length===0&&ee.images.length===0,l.linkSubplots(oe,ee,le,se),l.cleanPlot(oe,ee,le,se);var St=!!(se._has&&se._has("gl2d")),Mt=!!(ee._has&&ee._has("gl2d")),Bt=!!(se._has&&se._has("cartesian")),Qe=!!(ee._has&&ee._has("cartesian")),ke=Bt||St,ze=Qe||Mt;ke&&!ze?se._bgLayer.remove():ze&&!ke&&(ee._shouldCreateBgLayer=!0),se._zoomlayer&&!Z._dragging&&i({_fullLayout:se}),m(oe,ee),T(ee,se),A.getComponentMethod("colorscale","crossTraceDefaults")(oe,ee),ee._preGUI||(ee._preGUI={}),ee._tracePreGUI||(ee._tracePreGUI={});var Be=ee._tracePreGUI,Re={},we;for(we in Be)Re[we]="old";for(Ae=0;Ae<oe.length;Ae++)we=oe[Ae]._fullInput.uid,Re[we]||(Be[we]={}),Re[we]="new";for(we in Re)Re[we]==="old"&&delete Be[we];N(ee),A.getComponentMethod("rangeslider","makeData")(ee),!te&&me.length===oe.length&&l.supplyDefaultsUpdateCalc(me,oe)},l.supplyDefaultsUpdateCalc=function(Z,$){for(var te=0;te<$.length;te++){var se=$[te],ee=(Z[te]||[])[0];if(ee&&ee.trace){var q=ee.trace;if(q._hasCalcTransform){var le=q._arrayAttrs,oe,he,me;for(oe=0;oe<le.length;oe++)he=le[oe],me=t.nestedProperty(q,he).get().slice(),t.nestedProperty(se,he).set(me)}ee.trace=se}}};function M(Z,$){var te=$.length,se=[],ee,q;for(ee=0;ee<Z.length;ee++){var le=Z[ee]._fullInput;le!==q&&se.push(le),q=le}var oe=se.length,he=new Array(te),me={};function Ce(Ve,Pe){he[Pe]=Ve,me[Ve]=1}function Ae(Ve,Pe){if(Ve&&typeof Ve=="string"&&!me[Ve])return Ce(Ve,Pe),!0}for(ee=0;ee<te;ee++){var Ue=$[ee].uid;typeof Ue=="number"&&(Ue=String(Ue)),!Ae(Ue,ee)&&(ee<oe&&Ae(se[ee].uid,ee)||Ce(t.randstr(me),ee))}return he}function w(){var Z=A.collectableSubplotTypes,$={},te,se;if(!Z){Z=[];var ee=A.subplotsRegistry;for(var q in ee){var le=ee[q],oe=le.attr;if(oe&&(Z.push(q),Array.isArray(oe)))for(se=0;se<oe.length;se++)t.pushUnique(Z,oe[se])}}for(te=0;te<Z.length;te++)$[Z[te]]=[];return $}function o(Z,$){var te=Z._context.locale;te||(te="en-US");var se=!1,ee={};function q(Ae){for(var Ue=!0,Ve=0;Ve<$.length;Ve++){var Pe=$[Ve];ee[Pe]||(Ae[Pe]?ee[Pe]=Ae[Pe]:Ue=!1)}Ue&&(se=!0)}for(var le=0;le<2;le++){for(var oe=Z._context.locales,he=0;he<2;he++){var me=(oe[te]||{}).format;if(me&&(q(me),se))break;oe=A.localeRegistry}var Ce=te.split("-")[0];if(se||Ce===te)break;te=Ce}return se||q(A.localeRegistry.en.format),ee}function L(Z,$){return Z.decimal=$.charAt(0),Z.thousands=$.charAt(1),{numberFormat:function(te){try{te=a(Z).format(t.adjustFormat(te))}catch{return t.warnBadFormat(te),t.noFormat}return te},timeFormat:_(Z).utcFormat}}function m(Z,$){var te,se=[];$.meta&&(te=$._meta={meta:$.meta,layout:{meta:$.meta}});for(var ee=0;ee<Z.length;ee++){var q=Z[ee];q.meta?se[q.index]=q._meta={meta:q.meta}:$.meta&&(q._meta={meta:$.meta}),$.meta&&(q._meta.layout={meta:$.meta})}se.length&&(te||(te=$._meta={}),te.data=se)}l.createTransitionData=function(Z){Z._transitionData||(Z._transitionData={}),Z._transitionData._frames||(Z._transitionData._frames=[]),Z._transitionData._frameHash||(Z._transitionData._frameHash={}),Z._transitionData._counter||(Z._transitionData._counter=0),Z._transitionData._interruptCallbacks||(Z._transitionData._interruptCallbacks=[])},l._hasPlotType=function(Z){var $,te=this._basePlotModules||[];for($=0;$<te.length;$++)if(te[$].name===Z)return!0;var se=this._modules||[];for($=0;$<se.length;$++){var ee=se[$].name;if(ee===Z)return!0;var q=A.modules[ee];if(q&&q.categories[Z])return!0}return!1},l.cleanPlot=function(Z,$,te,se){var ee,q,le=se._basePlotModules||[];for(ee=0;ee<le.length;ee++){var oe=le[ee];oe.clean&&oe.clean(Z,$,te,se)}var he=se._has&&se._has("gl"),me=$._has&&$._has("gl");he&&!me&&se._glcontainer!==void 0&&(se._glcontainer.selectAll(".gl-canvas").remove(),se._glcontainer.selectAll(".no-webgl").remove(),se._glcanvas=null);var Ce=!!se._infolayer;e:for(ee=0;ee<te.length;ee++){var Ae=te[ee],Ue=Ae.uid;for(q=0;q<Z.length;q++){var Ve=Z[q];if(Ue===Ve.uid)continue e}Ce&&se._infolayer.select(".cb"+Ue).remove()}},l.linkSubplots=function(Z,$,te,se){var ee,q,le=se._plots||{},oe=$._plots={},he=$._subplots,me={_fullData:Z,_fullLayout:$},Ce=he.cartesian.concat(he.gl2d||[]);for(ee=0;ee<Ce.length;ee++){var Ae=Ce[ee],Ue=le[Ae],Ve=n.getFromId(me,Ae,"x"),Pe=n.getFromId(me,Ae,"y"),be;for(Ue?be=oe[Ae]=Ue:(be=oe[Ae]={},be.id=Ae),Ve._counterAxes.push(Pe._id),Pe._counterAxes.push(Ve._id),Ve._subplotsWith.push(Ae),Pe._subplotsWith.push(Ae),be.xaxis=Ve,be.yaxis=Pe,be._hasClipOnAxisFalse=!1,q=0;q<Z.length;q++){var Le=Z[q];if(Le.xaxis===be.xaxis._id&&Le.yaxis===be.yaxis._id&&Le.cliponaxis===!1){be._hasClipOnAxisFalse=!0;break}}}var We=n.list(me,null,!0),je;for(ee=0;ee<We.length;ee++){je=We[ee];var Fe=null;je.overlaying&&(Fe=n.getFromId(me,je.overlaying),Fe&&Fe.overlaying&&(je.overlaying=!1,Fe=null)),je._mainAxis=Fe||je,Fe&&(je.domain=Fe.domain.slice()),je._anchorAxis=je.anchor==="free"?null:n.getFromId(me,je.anchor)}for(ee=0;ee<We.length;ee++)if(je=We[ee],je._counterAxes.sort(n.idSort),je._subplotsWith.sort(t.subplotSort),je._mainSubplot=F(je,$),je._counterAxes.length&&(je.spikemode&&je.spikemode.indexOf("across")!==-1||je.automargin&&je.mirror&&je.anchor!=="free"||A.getComponentMethod("rangeslider","isVisible")(je))){var Ze=1,ut=0;for(q=0;q<je._counterAxes.length;q++){var at=n.getFromId(me,je._counterAxes[q]);Ze=Math.min(Ze,at.domain[0]),ut=Math.max(ut,at.domain[1])}Ze<ut&&(je._counterDomainMin=Ze,je._counterDomainMax=ut)}};function F(Z,$){var te={_fullLayout:$},se=Z._id.charAt(0)==="x",ee=Z._mainAxis._anchorAxis,q="",le="",oe="";if(ee&&(oe=ee._mainAxis._id,q=se?Z._id+oe:oe+Z._id),!q||!$._plots[q]){q="";for(var he=Z._counterAxes,me=0;me<he.length;me++){var Ce=he[me],Ae=se?Z._id+Ce:Ce+Z._id;le||(le=Ae);var Ue=n.getFromId(te,Ce);if(oe&&Ue.overlaying===oe){q=Ae;break}}}return q||le}l.clearExpandedTraceDefaultColors=function(Z){var $,te,se;function ee(le,oe,he,me){te[me]=oe,te.length=me+1,le.valType==="color"&&le.dflt===void 0&&$.push(te.join("."))}for(te=[],$=Z._module._colorAttrs,$||(Z._module._colorAttrs=$=[],v.crawl(Z._module.attributes,ee)),se=0;se<$.length;se++){var q=t.nestedProperty(Z,"_input."+$[se]);q.get()||t.nestedProperty(Z,$[se]).set(null)}},l.supplyDataDefaults=function(Z,$,te,se){var ee=se._modules,q=se._visibleModules,le=se._basePlotModules,oe=0,he=0,me,Ce,Ae;se._transformModules=[];function Ue(it){$.push(it);var $e=it._module;$e&&(t.pushUnique(ee,$e),it.visible===!0&&t.pushUnique(q,$e),t.pushUnique(le,it._module.basePlotModule),oe++,it._input.visible!==!1&&he++)}var Ve={},Pe=[],be=(te.template||{}).data||{},Le=p.traceTemplater(be);for(me=0;me<Z.length;me++){if(Ae=Z[me],Ce=Le.newTrace(Ae),Ce.uid=se._traceUids[me],l.supplyTraceDefaults(Ae,Ce,he,se,me),Ce.index=me,Ce._input=Ae,Ce._expandedIndex=oe,Ce.transforms&&Ce.transforms.length)for(var We=Ae.visible!==!1&&Ce.visible===!1,je=U(Ce,$,te,se),Fe=0;Fe<je.length;Fe++){var Ze=je[Fe],ut={_template:Ce._template,type:Ce.type,uid:Ce.uid+Fe};We&&Ze.visible===!1&&delete Ze.visible,l.supplyTraceDefaults(Ze,ut,oe,se,me),T(ut,Ze),ut.index=me,ut._input=Ae,ut._fullInput=Ce,ut._expandedIndex=oe,ut._expandedInput=Ze,Ue(ut)}else Ce._fullInput=Ce,Ce._expandedInput=Ce,Ue(Ce);A.traceIs(Ce,"carpetAxis")&&(Ve[Ce.carpet]=Ce),A.traceIs(Ce,"carpetDependent")&&Pe.push(me)}for(me=0;me<Pe.length;me++)if(Ce=$[Pe[me]],!!Ce.visible){var at=Ve[Ce.carpet];if(Ce._carpet=at,!at||!at.visible){Ce.visible=!1;continue}Ce.xaxis=at.xaxis,Ce.yaxis=at.yaxis}},l.supplyAnimationDefaults=function(Z){Z=Z||{};var $,te={};function se(ee,q){return t.coerce(Z||{},te,u,ee,q)}if(se("mode"),se("direction"),se("fromcurrent"),Array.isArray(Z.frame))for(te.frame=[],$=0;$<Z.frame.length;$++)te.frame[$]=l.supplyAnimationFrameDefaults(Z.frame[$]||{});else te.frame=l.supplyAnimationFrameDefaults(Z.frame||{});if(Array.isArray(Z.transition))for(te.transition=[],$=0;$<Z.transition.length;$++)te.transition[$]=l.supplyAnimationTransitionDefaults(Z.transition[$]||{});else te.transition=l.supplyAnimationTransitionDefaults(Z.transition||{});return te},l.supplyAnimationFrameDefaults=function(Z){var $={};function te(se,ee){return t.coerce(Z||{},$,u.frame,se,ee)}return te("duration"),te("redraw"),$},l.supplyAnimationTransitionDefaults=function(Z){var $={};function te(se,ee){return t.coerce(Z||{},$,u.transition,se,ee)}return te("duration"),te("easing"),$},l.supplyFrameDefaults=function(Z){var $={};function te(se,ee){return t.coerce(Z,$,y,se,ee)}return te("group"),te("name"),te("traces"),te("baseframe"),te("data"),te("layout"),$},l.supplyTraceDefaults=function(Z,$,te,se,ee){var q=se.colorway||r.defaults,le=q[te%q.length],oe;function he(je,Fe){return t.coerce(Z,$,l.attributes,je,Fe)}var me=he("visible");he("type"),he("name",se._traceWord+" "+ee),he("uirevision",se.uirevision);var Ce=l.getModule($);if($._module=Ce,Ce){var Ae=Ce.basePlotModule,Ue=Ae.attr,Ve=Ae.attributes;if(Ue&&Ve){var Pe=se._subplots,be="";if(me||Ae.name!=="gl2d"){if(Array.isArray(Ue))for(oe=0;oe<Ue.length;oe++){var Le=Ue[oe],We=t.coerce(Z,$,Ve,Le);Pe[Le]&&t.pushUnique(Pe[Le],We),be+=We}else be=t.coerce(Z,$,Ve,Ue);Pe[Ae.name]&&t.pushUnique(Pe[Ae.name],be)}}}return me&&(he("customdata"),he("ids"),he("meta"),A.traceIs($,"showLegend")?(t.coerce(Z,$,Ce.attributes.showlegend?Ce.attributes:l.attributes,"showlegend"),he("legend"),he("legendwidth"),he("legendgroup"),he("legendgrouptitle.text"),he("legendrank"),$._dfltShowLegend=!0):$._dfltShowLegend=!1,Ce&&Ce.supplyDefaults(Z,$,le,se),A.traceIs($,"noOpacity")||he("opacity"),A.traceIs($,"notLegendIsolatable")&&($.visible=!!$.visible),A.traceIs($,"noHover")||($.hovertemplate||t.coerceHoverinfo(Z,$,se),$.type!=="parcats"&&A.getComponentMethod("fx","supplyDefaults")(Z,$,le,se)),Ce&&Ce.selectPoints&&he("selectedpoints"),l.supplyTransformDefaults(Z,$,se)),$};function I(Z){var $=Z.transforms;if(Array.isArray($)&&$.length)for(var te=0;te<$.length;te++){var se=$[te],ee=se._module||d[se.type];if(ee&&ee.makesData)return!0}return!1}l.hasMakesDataTransform=I,l.supplyTransformDefaults=function(Z,$,te){if($._length||I(Z)){var se=te._globalTransforms||[],ee=te._transformModules||[];if(!(!Array.isArray(Z.transforms)&&se.length===0))for(var q=Z.transforms||[],le=se.concat(q),oe=$.transforms=[],he=0;he<le.length;he++){var me=le[he],Ce=me.type,Ae=d[Ce],Ue,Ve=!(me._module&&me._module===Ae),Pe=Ae&&typeof Ae.transform=="function";Ae||t.warn("Unrecognized transform type "+Ce+"."),Ae&&Ae.supplyDefaults&&(Ve||Pe)?(Ue=Ae.supplyDefaults(me,$,te,Z),Ue.type=Ce,Ue._module=Ae,t.pushUnique(ee,Ae)):Ue=t.extendFlat({},me),oe.push(Ue)}}};function U(Z,$,te,se){for(var ee=Z.transforms,q=[Z],le=0;le<ee.length;le++){var oe=ee[le],he=d[oe.type];he&&he.transform&&(q=he.transform(q,{transform:oe,fullTrace:Z,fullData:$,layout:te,fullLayout:se,transformIndex:le}))}return q}l.supplyLayoutGlobalDefaults=function(Z,$,te){function se(Ae,Ue){return t.coerce(Z,$,l.layoutAttributes,Ae,Ue)}var ee=Z.template;t.isPlainObject(ee)&&($.template=ee,$._template=ee.layout,$._dataTemplate=ee.data),se("autotypenumbers");var q=t.coerceFont(se,"font"),le=q.size;t.coerceFont(se,"title.font",t.extendFlat({},q,{size:Math.round(le*1.4)})),se("title.text",$._dfltTitle.plot),se("title.xref");var oe=se("title.yref");se("title.pad.t"),se("title.pad.r"),se("title.pad.b"),se("title.pad.l");var he=se("title.automargin");se("title.x"),se("title.xanchor"),se("title.y"),se("title.yanchor"),he&&(oe==="paper"&&($.title.y!==0&&($.title.y=1),$.title.yanchor==="auto"&&($.title.yanchor=$.title.y===0?"top":"bottom")),oe==="container"&&($.title.y==="auto"&&($.title.y=1),$.title.yanchor==="auto"&&($.title.yanchor=$.title.y<.5?"bottom":"top")));var me=se("uniformtext.mode");me&&se("uniformtext.minsize"),se("autosize",!(Z.width&&Z.height)),se("width"),se("height"),se("minreducedwidth"),se("minreducedheight"),se("margin.l"),se("margin.r"),se("margin.t"),se("margin.b"),se("margin.pad"),se("margin.autoexpand"),Z.width&&Z.height&&l.sanitizeMargins($),A.getComponentMethod("grid","sizeDefaults")(Z,$),se("paper_bgcolor"),se("separators",te.decimal+te.thousands),se("hidesources"),se("colorway"),se("datarevision");var Ce=se("uirevision");se("editrevision",Ce),se("selectionrevision",Ce),A.getComponentMethod("modebar","supplyLayoutDefaults")(Z,$),A.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(Z,$,se),A.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(Z,$,se),se("meta"),t.isPlainObject(Z.transition)&&(se("transition.duration"),se("transition.easing"),se("transition.ordering")),A.getComponentMethod("calendars","handleDefaults")(Z,$,"calendar"),A.getComponentMethod("fx","supplyLayoutGlobalDefaults")(Z,$,se),t.coerce(Z,$,f,"scattermode")};function z(Z){return typeof Z=="string"&&Z.substr(Z.length-2)==="px"&&parseFloat(Z)}l.plotAutoSize=function($,te,se){var ee=$._context||{},q=ee.frameMargins,le,oe,he=t.isPlotDiv($);if(he&&$.emit("plotly_autosize"),ee.fillFrame)le=window.innerWidth,oe=window.innerHeight,document.body.style.overflow="hidden";else{var me=he?window.getComputedStyle($):{};if(le=z(me.width)||z(me.maxWidth)||se.width,oe=z(me.height)||z(me.maxHeight)||se.height,C(q)&&q>0){var Ce=1-2*q;le=Math.round(Ce*le),oe=Math.round(Ce*oe)}}var Ae=l.layoutAttributes.width.min,Ue=l.layoutAttributes.height.min;le<Ae&&(le=Ae),oe<Ue&&(oe=Ue);var Ve=!te.width&&Math.abs(se.width-le)>1,Pe=!te.height&&Math.abs(se.height-oe)>1;(Pe||Ve)&&(Ve&&(se.width=le),Pe&&(se.height=oe)),$._initialAutoSize||($._initialAutoSize={width:le,height:oe}),l.sanitizeMargins(se)},l.supplyLayoutModuleDefaults=function(Z,$,te,se){var ee=A.componentsRegistry,q=$._basePlotModules,le,oe,he,me=A.subplotsRegistry.cartesian;for(le in ee)he=ee[le],he.includeBasePlot&&he.includeBasePlot(Z,$);q.length||q.push(me),$._has("cartesian")&&(A.getComponentMethod("grid","contentDefaults")(Z,$),me.finalizeSubplots(Z,$));for(var Ce in $._subplots)$._subplots[Ce].sort(t.subplotSort);for(oe=0;oe<q.length;oe++)he=q[oe],he.supplyLayoutDefaults&&he.supplyLayoutDefaults(Z,$,te);var Ae=$._modules;for(oe=0;oe<Ae.length;oe++)he=Ae[oe],he.supplyLayoutDefaults&&he.supplyLayoutDefaults(Z,$,te);var Ue=$._transformModules;for(oe=0;oe<Ue.length;oe++)he=Ue[oe],he.supplyLayoutDefaults&&he.supplyLayoutDefaults(Z,$,te,se);for(le in ee)he=ee[le],he.supplyLayoutDefaults&&he.supplyLayoutDefaults(Z,$,te)},l.purge=function(Z){var $=Z._fullLayout||{};$._glcontainer!==void 0&&($._glcontainer.selectAll(".gl-canvas").remove(),$._glcontainer.remove(),$._glcanvas=null),$._modeBar&&$._modeBar.destroy(),Z._transitionData&&(Z._transitionData._interruptCallbacks&&(Z._transitionData._interruptCallbacks.length=0),Z._transitionData._animationRaf&&window.cancelAnimationFrame(Z._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(Z),delete Z.data,delete Z.layout,delete Z._fullData,delete Z._fullLayout,delete Z.calcdata,delete Z.empty,delete Z.fid,delete Z.undoqueue,delete Z.undonum,delete Z.autoplay,delete Z.changed,delete Z._promises,delete Z._redrawTimer,delete Z._hmlumcount,delete Z._hmpixcount,delete Z._transitionData,delete Z._transitioning,delete Z._initialAutoSize,delete Z._transitioningWithDuration,delete Z._dragging,delete Z._dragged,delete Z._dragdata,delete Z._hoverdata,delete Z._snapshotInProgress,delete Z._editing,delete Z._mouseDownTime,delete Z._legendMouseDownTime,Z.removeAllListeners&&Z.removeAllListeners()},l.style=function(Z){var $=Z._fullLayout._visibleModules,te=[],se;for(se=0;se<$.length;se++){var ee=$[se];ee.style&&t.pushUnique(te,ee.style)}for(se=0;se<te.length;se++)te[se](Z)},l.sanitizeMargins=function(Z){if(!(!Z||!Z.margin)){var $=Z.width,te=Z.height,se=Z.margin,ee=$-(se.l+se.r),q=te-(se.t+se.b),le;ee<0&&(le=($-1)/(se.l+se.r),se.l=Math.floor(le*se.l),se.r=Math.floor(le*se.r)),q<0&&(le=(te-1)/(se.t+se.b),se.t=Math.floor(le*se.t),se.b=Math.floor(le*se.b))}},l.clearAutoMarginIds=function(Z){Z._fullLayout._pushmarginIds={}},l.allowAutoMargin=function(Z,$){Z._fullLayout._pushmarginIds[$]=1};function N(Z){var $=Z.margin;if(!Z._size){var te=Z._size={l:Math.round($.l),r:Math.round($.r),t:Math.round($.t),b:Math.round($.b),p:Math.round($.pad)};te.w=Math.round(Z.width)-te.l-te.r,te.h=Math.round(Z.height)-te.t-te.b}Z._pushmargin||(Z._pushmargin={}),Z._pushmarginIds||(Z._pushmarginIds={}),Z._reservedMargin||(Z._reservedMargin={})}var B=2,O=2;l.autoMargin=function(Z,$,te){var se=Z._fullLayout,ee=se.width,q=se.height,le=se.margin,oe=se.minreducedwidth,he=se.minreducedheight,me=t.constrain(ee-le.l-le.r,B,oe),Ce=t.constrain(q-le.t-le.b,O,he),Ae=Math.max(0,ee-me),Ue=Math.max(0,q-Ce),Ve=se._pushmargin,Pe=se._pushmarginIds;if(le.autoexpand!==!1){if(!te)delete Ve[$],delete Pe[$];else{var be=te.pad;if(be===void 0&&(be=Math.min(12,le.l,le.r,le.t,le.b)),Ae){var Le=(te.l+te.r)/Ae;Le>1&&(te.l/=Le,te.r/=Le)}if(Ue){var We=(te.t+te.b)/Ue;We>1&&(te.t/=We,te.b/=We)}var je=te.xl!==void 0?te.xl:te.x,Fe=te.xr!==void 0?te.xr:te.x,Ze=te.yt!==void 0?te.yt:te.y,ut=te.yb!==void 0?te.yb:te.y;Ve[$]={l:{val:je,size:te.l+be},r:{val:Fe,size:te.r+be},b:{val:ut,size:te.b+be},t:{val:Ze,size:te.t+be}},Pe[$]=1}if(!se._replotting)return l.doAutoMargin(Z)}};function H(Z){if("_redrawFromAutoMarginCount"in Z._fullLayout)return!1;var $=n.list(Z,"",!0);for(var te in $)if($[te].autoshift||$[te].shift)return!0;return!1}l.doAutoMargin=function(Z){var $=Z._fullLayout,te=$.width,se=$.height;$._size||($._size={}),N($);var ee=$._size,q=$.margin,le={t:0,b:0,l:0,r:0},oe=t.extendFlat({},ee),he=q.l,me=q.r,Ce=q.t,Ae=q.b,Ue=$._pushmargin,Ve=$._pushmarginIds,Pe=$.minreducedwidth,be=$.minreducedheight;if(q.autoexpand!==!1){for(var Le in Ue)Ve[Le]||delete Ue[Le];var We=Z._fullLayout._reservedMargin;for(var je in We)for(var Fe in We[je]){var Ze=We[je][Fe];le[Fe]=Math.max(le[Fe],Ze)}Ue.base={l:{val:0,size:he},r:{val:1,size:me},t:{val:1,size:Ce},b:{val:0,size:Ae}};for(var ut in le){var at=0;for(var it in Ue)it!=="base"&&C(Ue[it][ut].size)&&(at=Ue[it][ut].size>at?Ue[it][ut].size:at);var $e=Math.max(0,q[ut]-at);le[ut]=Math.max(0,le[ut]-$e)}for(var st in Ue){var ct=Ue[st].l||{},vt=Ue[st].b||{},St=ct.val,Mt=ct.size,Bt=vt.val,Qe=vt.size,ke=te-le.r-le.l,ze=se-le.t-le.b;for(var Be in Ue){if(C(Mt)&&Ue[Be].r){var Re=Ue[Be].r.val,we=Ue[Be].r.size;if(Re>St){var ye=(Mt*Re+(we-ke)*St)/(Re-St),Se=(we*(1-St)+(Mt-ke)*(1-Re))/(Re-St);ye+Se>he+me&&(he=ye,me=Se)}}if(C(Qe)&&Ue[Be].t){var Me=Ue[Be].t.val,He=Ue[Be].t.size;if(Me>Bt){var qe=(Qe*Me+(He-ze)*Bt)/(Me-Bt),rt=(He*(1-Bt)+(Qe-ze)*(1-Me))/(Me-Bt);qe+rt>Ae+Ce&&(Ae=qe,Ce=rt)}}}}}var pt=t.constrain(te-q.l-q.r,B,Pe),At=t.constrain(se-q.t-q.b,O,be),jt=Math.max(0,te-pt),tr=Math.max(0,se-At);if(jt){var Ct=(he+me)/jt;Ct>1&&(he/=Ct,me/=Ct)}if(tr){var Nt=(Ae+Ce)/tr;Nt>1&&(Ae/=Nt,Ce/=Nt)}if(ee.l=Math.round(he)+le.l,ee.r=Math.round(me)+le.r,ee.t=Math.round(Ce)+le.t,ee.b=Math.round(Ae)+le.b,ee.p=Math.round(q.pad),ee.w=Math.round(te)-ee.l-ee.r,ee.h=Math.round(se)-ee.t-ee.b,!$._replotting&&(l.didMarginChange(oe,ee)||H(Z))){"_redrawFromAutoMarginCount"in $?$._redrawFromAutoMarginCount++:$._redrawFromAutoMarginCount=1;var Kt=3*(1+Object.keys(Ve).length);if($._redrawFromAutoMarginCount<Kt)return A.call("_doPlot",Z);$._size=oe,t.warn("Too many auto-margin redraws.")}Y(Z)};function Y(Z){var $=n.list(Z,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(te){for(var se=0;se<$.length;se++){var ee=$[se][te];ee&&ee()}})}var J=["l","r","t","b","p","w","h"];l.didMarginChange=function(Z,$){for(var te=0;te<J.length;te++){var se=J[te],ee=Z[se],q=$[se];if(!C(ee)||Math.abs(q-ee)>1)return!0}return!1},l.graphJson=function(Z,$,te,se,ee,q){(ee&&$&&!Z._fullData||ee&&!$&&!Z._fullLayout)&&l.supplyDefaults(Z);var le=ee?Z._fullData:Z.data,oe=ee?Z._fullLayout:Z.layout,he=(Z._transitionData||{})._frames;function me(Ue,Ve){if(typeof Ue=="function")return Ve?"_function_":null;if(t.isPlainObject(Ue)){var Pe={},be;return Object.keys(Ue).sort().forEach(function(Le){if(["_","["].indexOf(Le.charAt(0))===-1){if(typeof Ue[Le]=="function"){Ve&&(Pe[Le]="_function");return}if(te==="keepdata"){if(Le.substr(Le.length-3)==="src")return}else if(te==="keepstream"){if(be=Ue[Le+"src"],typeof be=="string"&&be.indexOf(":")>0&&!t.isPlainObject(Ue.stream))return}else if(te!=="keepall"&&(be=Ue[Le+"src"],typeof be=="string"&&be.indexOf(":")>0))return;Pe[Le]=me(Ue[Le],Ve)}}),Pe}return Array.isArray(Ue)?Ue.map(function(Le){return me(Le,Ve)}):t.isTypedArray(Ue)?t.simpleMap(Ue,t.identity):t.isJSDate(Ue)?t.ms2DateTimeLocal(+Ue):Ue}var Ce={data:(le||[]).map(function(Ue){var Ve=me(Ue);return $&&delete Ve.fit,Ve})};if(!$&&(Ce.layout=me(oe),ee)){var Ae=oe._size;Ce.layout.computed={margin:{b:Ae.b,l:Ae.l,r:Ae.r,t:Ae.t}}}return he&&(Ce.frames=me(he)),q&&(Ce.config=me(Z._context,!0)),se==="object"?Ce:JSON.stringify(Ce)},l.modifyFrames=function(Z,$){var te,se,ee,q=Z._transitionData._frames,le=Z._transitionData._frameHash;for(te=0;te<$.length;te++)switch(se=$[te],se.type){case"replace":ee=se.value;var oe=(q[se.index]||{}).name,he=ee.name;q[se.index]=le[he]=ee,he!==oe&&(delete le[oe],le[he]=ee);break;case"insert":ee=se.value,le[ee.name]=ee,q.splice(se.index,0,ee);break;case"delete":ee=q[se.index],delete le[ee.name],q.splice(se.index,1);break}return Promise.resolve()},l.computeFrame=function(Z,$){var te=Z._transitionData._frameHash,se,ee,q,le;if(!$)throw new Error("computeFrame must be given a string frame name");var oe=te[$.toString()];if(!oe)return!1;for(var he=[oe],me=[oe.name];oe.baseframe&&(oe=te[oe.baseframe.toString()])&&me.indexOf(oe.name)===-1;)he.push(oe),me.push(oe.name);for(var Ce={};oe=he.pop();)if(oe.layout&&(Ce.layout=l.extendLayout(Ce.layout,oe.layout)),oe.data){if(Ce.data||(Ce.data=[]),ee=oe.traces,!ee)for(ee=[],se=0;se<oe.data.length;se++)ee[se]=se;for(Ce.traces||(Ce.traces=[]),se=0;se<oe.data.length;se++)q=ee[se],q!=null&&(le=Ce.traces.indexOf(q),le===-1&&(le=Ce.data.length,Ce.traces[le]=q),Ce.data[le]=l.extendTrace(Ce.data[le],oe.data[se]))}return Ce},l.recomputeFrameHash=function(Z){for(var $=Z._transitionData._frameHash={},te=Z._transitionData._frames,se=0;se<te.length;se++){var ee=te[se];ee&&ee.name&&($[ee.name]=ee)}},l.extendObjectWithContainers=function(Z,$,te){var se,ee,q,le,oe,he,me,Ce,Ae=t.extendDeepNoArrays({},$||{}),Ue=t.expandObjectPaths(Ae),Ve={};if(te&&te.length)for(q=0;q<te.length;q++)se=t.nestedProperty(Ue,te[q]),ee=se.get(),ee===void 0?t.nestedProperty(Ve,te[q]).set(null):(se.set(null),t.nestedProperty(Ve,te[q]).set(ee));if(Z=t.extendDeepNoArrays(Z||{},Ue),te&&te.length){for(q=0;q<te.length;q++)if(oe=t.nestedProperty(Ve,te[q]),me=oe.get(),!!me){for(he=t.nestedProperty(Z,te[q]),Ce=he.get(),Array.isArray(Ce)||(Ce=[],he.set(Ce)),le=0;le<me.length;le++){var Pe=me[le];Pe===null?Ce[le]=null:Ce[le]=l.extendObjectWithContainers(Ce[le],Pe)}he.set(Ce)}}return Z},l.dataArrayContainers=["transforms","dimensions"],l.layoutArrayContainers=A.layoutArrayContainers,l.extendTrace=function(Z,$){return l.extendObjectWithContainers(Z,$,l.dataArrayContainers)},l.extendLayout=function(Z,$){return l.extendObjectWithContainers(Z,$,l.layoutArrayContainers)},l.transition=function(Z,$,te,se,ee,q){var le={redraw:ee.redraw},oe={},he=[];return le.prepareFn=function(){for(var me=Array.isArray($)?$.length:0,Ce=se.slice(0,me),Ae=0;Ae<Ce.length;Ae++){var Ue=Ce[Ae],Ve=Z._fullData[Ue],Pe=Ve._module;if(Pe){if(Pe.animatable){var be=Pe.basePlotModule.name;oe[be]||(oe[be]=[]),oe[be].push(Ue)}Z.data[Ce[Ae]]=l.extendTrace(Z.data[Ce[Ae]],$[Ae])}}var Le=t.expandObjectPaths(t.extendDeepNoArrays({},te)),We=/^[xy]axis[0-9]*$/;for(var je in Le)We.test(je)&&delete Le[je].range;l.extendLayout(Z.layout,Le),delete Z.calcdata,l.supplyDefaults(Z),l.doCalcdata(Z);var Fe=t.expandObjectPaths(te);if(Fe){var Ze=Z._fullLayout._plots;for(var ut in Ze){var at=Ze[ut],it=at.xaxis,$e=at.yaxis,st=it.range.slice(),ct=$e.range.slice(),vt=null,St=null,Mt=null,Bt=null;Array.isArray(Fe[it._name+".range"])?vt=Fe[it._name+".range"].slice():Array.isArray((Fe[it._name]||{}).range)&&(vt=Fe[it._name].range.slice()),Array.isArray(Fe[$e._name+".range"])?St=Fe[$e._name+".range"].slice():Array.isArray((Fe[$e._name]||{}).range)&&(St=Fe[$e._name].range.slice()),st&&vt&&(it.r2l(st[0])!==it.r2l(vt[0])||it.r2l(st[1])!==it.r2l(vt[1]))&&(Mt={xr0:st,xr1:vt}),ct&&St&&($e.r2l(ct[0])!==$e.r2l(St[0])||$e.r2l(ct[1])!==$e.r2l(St[1]))&&(Bt={yr0:ct,yr1:St}),(Mt||Bt)&&he.push(t.extendFlat({plotinfo:at},Mt,Bt))}}return Promise.resolve()},le.runFn=function(me){var Ce,Ae=Z._fullLayout._basePlotModules,Ue=he.length,Ve;if(te)for(Ve=0;Ve<Ae.length;Ve++)Ae[Ve].transitionAxes&&Ae[Ve].transitionAxes(Z,he,q,me);Ue?(Ce=t.extendFlat({},q),Ce.duration=0,delete oe.cartesian):Ce=q;for(var Pe in oe){var be=oe[Pe],Le=Z._fullData[be[0]]._module;Le.basePlotModule.plot(Z,be,Ce,me)}},re(Z,q,le)},l.transitionFromReact=function(Z,$,te,se){var ee=Z._fullLayout,q=ee.transition,le={},oe=[];return le.prepareFn=function(){var he=ee._plots;le.redraw=!1,$.anim==="some"&&(le.redraw=!0),te.anim==="some"&&(le.redraw=!0);for(var me in he){var Ce=he[me],Ae=Ce.xaxis,Ue=Ce.yaxis,Ve=se[Ae._name].range.slice(),Pe=se[Ue._name].range.slice(),be=Ae.range.slice(),Le=Ue.range.slice();Ae.setScale(),Ue.setScale();var We=null,je=null;(Ae.r2l(Ve[0])!==Ae.r2l(be[0])||Ae.r2l(Ve[1])!==Ae.r2l(be[1]))&&(We={xr0:Ve,xr1:be}),(Ue.r2l(Pe[0])!==Ue.r2l(Le[0])||Ue.r2l(Pe[1])!==Ue.r2l(Le[1]))&&(je={yr0:Pe,yr1:Le}),(We||je)&&oe.push(t.extendFlat({plotinfo:Ce},We,je))}return Promise.resolve()},le.runFn=function(he){for(var me=Z._fullData,Ce=Z._fullLayout,Ae=Ce._basePlotModules,Ue,Ve,Pe,be=[],Le=0;Le<me.length;Le++)be.push(Le);function We(){if(Z._fullLayout)for(var Fe=0;Fe<Ae.length;Fe++)Ae[Fe].transitionAxes&&Ae[Fe].transitionAxes(Z,oe,Ue,he)}function je(){if(Z._fullLayout)for(var Fe=0;Fe<Ae.length;Fe++)Ae[Fe].plot(Z,Pe,Ve,he)}oe.length&&$.anim?q.ordering==="traces first"?(Ue=t.extendFlat({},q,{duration:0}),Pe=be,Ve=q,setTimeout(We,q.duration),je()):(Ue=q,Pe=null,Ve=t.extendFlat({},q,{duration:0}),setTimeout(je,Ue.duration),We()):oe.length?(Ue=q,We()):$.anim&&(Pe=be,Ve=q,je())},re(Z,q,le)};function re(Z,$,te){var se=!1;function ee(Ae){var Ue=Promise.resolve();if(!Ae)return Ue;for(;Ae.length;)Ue=Ue.then(Ae.shift());return Ue}function q(Ae){if(Ae)for(;Ae.length;)Ae.shift()}function le(){return Z.emit("plotly_transitioning",[]),new Promise(function(Ae){Z._transitioning=!0,$.duration>0&&(Z._transitioningWithDuration=!0),Z._transitionData._interruptCallbacks.push(function(){se=!0}),te.redraw&&Z._transitionData._interruptCallbacks.push(function(){return A.call("redraw",Z)}),Z._transitionData._interruptCallbacks.push(function(){Z.emit("plotly_transitioninterrupted",[])});var Ue=0,Ve=0;function Pe(){return Ue++,function(){Ve++,!se&&Ve===Ue&&oe(Ae)}}te.runFn(Pe),setTimeout(Pe())})}function oe(Ae){if(Z._transitionData)return q(Z._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(te.redraw)return A.call("redraw",Z)}).then(function(){Z._transitioning=!1,Z._transitioningWithDuration=!1,Z.emit("plotly_transitioned",[])}).then(Ae)}function he(){if(Z._transitionData)return Z._transitioning=!1,ee(Z._transitionData._interruptCallbacks)}var me=[l.previousPromises,he,te.prepareFn,l.rehover,l.reselect,le],Ce=t.syncOrAsync(me,Z);return(!Ce||!Ce.then)&&(Ce=Promise.resolve()),Ce.then(function(){return Z})}l.doCalcdata=function(Z,$){var te=n.list(Z),se=Z._fullData,ee=Z._fullLayout,q,le,oe,he,me=new Array(se.length),Ce=(Z.calcdata||[]).slice();for(Z.calcdata=me,ee._numBoxes=0,ee._numViolins=0,ee._violinScaleGroupStats={},Z._hmpixcount=0,Z._hmlumcount=0,ee._piecolormap={},ee._sunburstcolormap={},ee._treemapcolormap={},ee._iciclecolormap={},ee._funnelareacolormap={},oe=0;oe<se.length;oe++)if(Array.isArray($)&&$.indexOf(oe)===-1){me[oe]=Ce[oe];continue}for(oe=0;oe<se.length;oe++)q=se[oe],q._arrayAttrs=v.findArrayAttributes(q),q._extremes={};var Ae=ee._subplots.polar||[];for(oe=0;oe<Ae.length;oe++)te.push(ee[Ae[oe]].radialaxis,ee[Ae[oe]].angularaxis);for(var Ue in ee._colorAxes){var Ve=ee[Ue];Ve.cauto!==!1&&(delete Ve.cmin,delete Ve.cmax)}var Pe=!1;function be(je){if(q=se[je],le=q._module,q.visible===!0&&q.transforms){if(le&&le.calc){var Fe=le.calc(Z,q);Fe[0]&&Fe[0].t&&Fe[0].t._scene&&delete Fe[0].t._scene.dirty}for(he=0;he<q.transforms.length;he++){var Ze=q.transforms[he];le=d[Ze.type],le&&le.calcTransform&&(q._hasCalcTransform=!0,Pe=!0,le.calcTransform(Z,q,Ze))}}}function Le(je,Fe){if(q=se[je],le=q._module,!!le.isContainer===Fe){var Ze=[];if(q.visible===!0&&q._length!==0){delete q._indexToPoints;var ut=q.transforms||[];for(he=ut.length-1;he>=0;he--)if(ut[he].enabled){q._indexToPoints=ut[he]._indexToPoints;break}le&&le.calc&&(Ze=le.calc(Z,q))}(!Array.isArray(Ze)||!Ze[0])&&(Ze=[{x:s,y:s}]),Ze[0].t||(Ze[0].t={}),Ze[0].trace=q,me[je]=Ze}}for(Q(te,se,ee),oe=0;oe<se.length;oe++)Le(oe,!0);for(oe=0;oe<se.length;oe++)be(oe);for(Pe&&Q(te,se,ee),oe=0;oe<se.length;oe++)Le(oe,!0);for(oe=0;oe<se.length;oe++)Le(oe,!1);j(Z);var We=ce(te,Z);if(We.length){for(ee._numBoxes=0,ee._numViolins=0,oe=0;oe<We.length;oe++)Le(We[oe],!0);for(oe=0;oe<We.length;oe++)Le(We[oe],!1);j(Z)}A.getComponentMethod("fx","calc")(Z),A.getComponentMethod("errorbars","calc")(Z)};var ie=/(total|sum|min|max|mean|median) (ascending|descending)/;function ce(Z,$){var te=[],se,ee,q,le,oe;function he(Be,Re,we){var ye=Re._id.charAt(0);if(Be==="histogram2dcontour"){var Se=Re._counterAxes[0],Me=n.getFromId($,Se),He=ye==="x"||Se==="x"&&Me.type==="category",qe=ye==="y"||Se==="y"&&Me.type==="category";return function(rt,pt){return rt===0||pt===0||He&&rt===we[pt].length-1||qe&&pt===we.length-1?-1:(ye==="y"?pt:rt)-1}}else return function(rt,pt){return ye==="y"?pt:rt}}var me={min:function(Be){return t.aggNums(Math.min,null,Be)},max:function(Be){return t.aggNums(Math.max,null,Be)},sum:function(Be){return t.aggNums(function(Re,we){return Re+we},null,Be)},total:function(Be){return t.aggNums(function(Re,we){return Re+we},null,Be)},mean:function(Be){return t.mean(Be)},median:function(Be){return t.median(Be)}};function Ce(Be,Re){return Be[1]-Re[1]}function Ae(Be,Re){return Re[1]-Be[1]}for(se=0;se<Z.length;se++){var Ue=Z[se];if(Ue.type==="category"){var Ve=Ue.categoryorder.match(ie);if(Ve){var Pe=Ve[1],be=Ve[2],Le=Ue._id.charAt(0),We=Le==="x",je=[];for(ee=0;ee<Ue._categories.length;ee++)je.push([Ue._categories[ee],[]]);for(ee=0;ee<Ue._traceIndices.length;ee++){var Fe=Ue._traceIndices[ee],Ze=$._fullData[Fe];if(Ze.visible===!0){var ut=Ze.type;A.traceIs(Ze,"histogram")&&(delete Ze._xautoBinFinished,delete Ze._yautoBinFinished);var at=ut==="splom",it=ut==="scattergl",$e=$.calcdata[Fe];for(q=0;q<$e.length;q++){var st=$e[q],ct,vt;if(at){var St=Ze._axesDim[Ue._id];if(!We){var Mt=Ze._diag[St][0];Mt&&(Ue=$._fullLayout[n.id2name(Mt)])}var Bt=st.trace.dimensions[St].values;for(le=0;le<Bt.length;le++)for(ct=Ue._categoriesMap[Bt[le]],oe=0;oe<st.trace.dimensions.length;oe++)if(oe!==St){var Qe=st.trace.dimensions[oe];je[ct][1].push(Qe.values[le])}}else if(it){for(le=0;le<st.t.x.length;le++)We?(ct=st.t.x[le],vt=st.t.y[le]):(ct=st.t.y[le],vt=st.t.x[le]),je[ct][1].push(vt);st.t&&st.t._scene&&delete st.t._scene.dirty}else if(st.hasOwnProperty("z")){vt=st.z;var ke=he(Ze.type,Ue,vt);for(le=0;le<vt.length;le++)for(oe=0;oe<vt[le].length;oe++)ct=ke(oe,le),ct+1&&je[ct][1].push(vt[le][oe])}else for(ct=st.p,ct===void 0&&(ct=st[Le]),vt=st.s,vt===void 0&&(vt=st.v),vt===void 0&&(vt=We?st.y:st.x),Array.isArray(vt)||(vt===void 0?vt=[]:vt=[vt]),le=0;le<vt.length;le++)je[ct][1].push(vt[le])}}}Ue._categoriesValue=je;var ze=[];for(ee=0;ee<je.length;ee++)ze.push([je[ee][0],me[Pe](je[ee][1])]);ze.sort(be==="descending"?Ae:Ce),Ue._categoriesAggregatedValue=ze,Ue._initialCategories=ze.map(function(Be){return Be[0]}),te=te.concat(Ue.sortByInitialCategories())}}}return te}function Q(Z,$,te){var se={};function ee(he){he.clearCalc(),he.type==="multicategory"&&he.setupMultiCategory($),se[he._id]=1}t.simpleMap(Z,ee);for(var q=te._axisMatchGroups||[],le=0;le<q.length;le++)for(var oe in q[le])se[oe]||ee(te[n.id2name(oe)])}function j(Z){var $=Z._fullLayout,te=$._visibleModules,se={},ee,q,le;for(q=0;q<te.length;q++){var oe=te[q],he=oe.crossTraceCalc;if(he){var me=oe.basePlotModule.name;se[me]?t.pushUnique(se[me],he):se[me]=[he]}}for(le in se){var Ce=se[le],Ae=$._subplots[le];if(Array.isArray(Ae))for(ee=0;ee<Ae.length;ee++){var Ue=Ae[ee],Ve=le==="cartesian"?$._plots[Ue]:$[Ue];for(q=0;q<Ce.length;q++)Ce[q](Z,Ve,Ue)}else for(q=0;q<Ce.length;q++)Ce[q](Z)}}l.rehover=function(Z){Z._fullLayout._rehover&&Z._fullLayout._rehover()},l.redrag=function(Z){Z._fullLayout._redrag&&Z._fullLayout._redrag()},l.reselect=function(Z){var $=Z._fullLayout,te=(Z.layout||{}).selections,se=$._previousSelections;$._previousSelections=te;var ee=$._reselect||JSON.stringify(te)!==JSON.stringify(se);A.getComponentMethod("selections","reselect")(Z,ee)},l.generalUpdatePerTraceModule=function(Z,$,te,se){var ee=$.traceHash,q={},le;for(le=0;le<te.length;le++){var oe=te[le],he=oe[0].trace;he.visible&&(q[he.type]=q[he.type]||[],q[he.type].push(oe))}for(var me in ee)if(!q[me]){var Ce=ee[me][0],Ae=Ce[0].trace;Ae.visible=!1,q[me]=[Ce]}for(var Ue in q){var Ve=q[Ue],Pe=Ve[0][0].trace._module;Pe.plot(Z,$,t.filterVisible(Ve),se)}$.traceHash=q},l.plotBasePlot=function(Z,$,te,se,ee){var q=A.getModule(Z),le=c($.calcdata,q)[0];q.plot($,le,se,ee)},l.cleanBasePlot=function(Z,$,te,se,ee){var q=ee._has&&ee._has(Z),le=te._has&&te._has(Z);q&&!le&&ee["_"+Z+"layer"].selectAll("g.trace").remove()}},9813:function(G){G.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},10869:function(G,V,e){var g=e(71828),_=e(61082).tester,a=g.findIndexOfMin,C=g.isAngleInsideSector,A=g.angleDelta,v=g.angleDist;function p(l,d,E,S,P){if(!C(d,S))return!1;var x,M;E[0]<E[1]?(x=E[0],M=E[1]):(x=E[1],M=E[0]);var w=_(i(x,S[0],S[1],P)),o=_(i(M,S[0],S[1],P)),L=[l*Math.cos(d),l*Math.sin(d)];return o.contains(L)&&!w.contains(L)}function t(l,d,E,S){var P,x,M=S[0],w=S[1],o=y(Math.sin(d)-Math.sin(l)),L=y(Math.cos(d)-Math.cos(l)),m=Math.tan(E),F=y(1/m),I=o/L,U=w-I*M;return F?o&&L?(P=U/(m-I),x=m*P):L?(P=w*F,x=w):(P=M,x=M*m):o&&L?(P=0,x=U):L?(P=0,x=w):P=x=NaN,[P,x]}function r(l,d,E,S){var P=-d*E,x=d*d+1,M=2*(d*P-E),w=P*P+E*E-l*l,o=Math.sqrt(M*M-4*x*w),L=(-M+o)/(2*x),m=(-M-o)/(2*x);return[[L,d*L+P+S],[m,d*m+P+S]]}function s(l,d){var E=d.length,S=new Array(E+1),P;for(P=0;P<E;P++){var x=d[P];S[P]=[l*Math.cos(x),l*Math.sin(x)]}return S[P]=S[0].slice(),S}function n(l,d,E,S){var P=S.length,x=[],M,w;function o(O){return[l*Math.cos(O),l*Math.sin(O)]}function L(O,H,Y){return t(O,H,Y,o(O))}function m(O){return g.mod(O,P)}function F(O){return C(O,[d,E])}var I=a(S,function(O){return F(O)?v(O,d):1/0}),U=L(S[I],S[m(I-1)],d);for(x.push(U),M=I,w=0;w<P;M++,w++){var z=S[m(M)];if(!F(z))break;x.push(o(z))}var N=a(S,function(O){return F(O)?v(O,E):1/0}),B=L(S[N],S[m(N+1)],E);return x.push(B),x.push([0,0]),x.push(x[0].slice()),x}function i(l,d,E,S){return g.isFullCircle([d,E])?s(l,S):n(l,d,E,S)}function f(l,d,E,S){for(var P=1/0,x=1/0,M=i(l,d,E,S),w=0;w<M.length;w++){var o=M[w];P=Math.min(P,o[0]),x=Math.min(x,-o[1])}return[P,x]}function u(l,d){var E=function(x){var M=A(x,l);return M>0?M:1/0},S=a(d,E),P=g.mod(S+1,d.length);return[d[S],d[P]]}function y(l){return Math.abs(l)>1e-10?l:0}function c(l,d,E){d=d||0,E=E||0;for(var S=l.length,P=new Array(S),x=0;x<S;x++){var M=l[x];P[x]=[d+M[0],E-M[1]]}return P}function T(l,d,E,S,P,x){var M=i(l,d,E,S);return"M"+c(M,P,x).join("L")}function h(l,d,E,S,P,x,M){var w,o;l<d?(w=l,o=d):(w=d,o=l);var L=c(i(w,E,S,P),x,M),m=c(i(o,E,S,P),x,M);return"M"+m.reverse().join("L")+"M"+L.join("L")}G.exports={isPtInsidePolygon:p,findPolygonOffset:f,findEnclosingVertexAngles:u,findIntersectionXY:t,findXYatLength:r,clampTiny:y,pathPolygon:T,pathPolygonAnnulus:h}},23580:function(G,V,e){var g=e(27659).AU,_=e(71828).counterRegex,a=e(77997),C=e(9813),A=C.attr,v=C.name,p=_(v),t={};t[A]={valType:"subplotid",dflt:v,editType:"calc"};function r(n){for(var i=n._fullLayout,f=n.calcdata,u=i._subplots[v],y=0;y<u.length;y++){var c=u[y],T=g(f,v,c),h=i[c]._subplot;h||(h=a(n,c),i[c]._subplot=h),h.plot(T,i,n._promises)}}function s(n,i,f,u){for(var y=u._subplots[v]||[],c=u._has&&u._has("gl"),T=i._has&&i._has("gl"),h=c&&!T,l=0;l<y.length;l++){var d=y[l],E=u[d]._subplot;if(!i[d]&&E){E.framework.remove(),E.layers["radial-axis-title"].remove();for(var S in E.clipPaths)E.clipPaths[S].remove()}h&&E._scene&&(E._scene.destroy(),E._scene=null)}}G.exports={attr:A,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:t,layoutAttributes:e(73812),supplyLayoutDefaults:e(68993),plot:r,clean:s,toSVG:e(93612).toSVG}},73812:function(G,V,e){var g=e(22399),_=e(13838),a=e(27670).Y,C=e(71828).extendFlat,A=e(30962).overrideAll,v=A({color:_.color,showline:C({},_.showline,{dflt:!0}),linecolor:_.linecolor,linewidth:_.linewidth,showgrid:C({},_.showgrid,{dflt:!0}),gridcolor:_.gridcolor,gridwidth:_.gridwidth,griddash:_.griddash},"plot","from-root"),p=A({tickmode:_.minor.tickmode,nticks:_.nticks,tick0:_.tick0,dtick:_.dtick,tickvals:_.tickvals,ticktext:_.ticktext,ticks:_.ticks,ticklen:_.ticklen,tickwidth:_.tickwidth,tickcolor:_.tickcolor,ticklabelstep:_.ticklabelstep,showticklabels:_.showticklabels,labelalias:_.labelalias,showtickprefix:_.showtickprefix,tickprefix:_.tickprefix,showticksuffix:_.showticksuffix,ticksuffix:_.ticksuffix,showexponent:_.showexponent,exponentformat:_.exponentformat,minexponent:_.minexponent,separatethousands:_.separatethousands,tickfont:_.tickfont,tickangle:_.tickangle,tickformat:_.tickformat,tickformatstops:_.tickformatstops,layer:_.layer},"plot","from-root"),t={visible:C({},_.visible,{dflt:!0}),type:C({},_.type,{values:["-","linear","log","date","category"]}),autotypenumbers:_.autotypenumbers,autorangeoptions:{minallowed:_.autorangeoptions.minallowed,maxallowed:_.autorangeoptions.maxallowed,clipmin:_.autorangeoptions.clipmin,clipmax:_.autorangeoptions.clipmax,include:_.autorangeoptions.include,editType:"plot"},autorange:C({},_.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:C({},_.minallowed,{editType:"plot"}),maxallowed:C({},_.maxallowed,{editType:"plot"}),range:C({},_.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:_.categoryorder,categoryarray:_.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:C({},_.title.text,{editType:"plot",dflt:""}),font:C({},_.title.font,{editType:"plot"}),editType:"plot"},hoverformat:_.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:_._deprecated.title,titlefont:_._deprecated.titlefont}};C(t,v,p);var r={visible:C({},_.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:_.autotypenumbers,categoryorder:_.categoryorder,categoryarray:_.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:_.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};C(r,v,p),G.exports={domain:a({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:g.background},radialaxis:t,angularaxis:r,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},68993:function(G,V,e){var g=e(71828),_=e(7901),a=e(44467),C=e(49119),A=e(27659).NG,v=e(26218),p=e(38701),t=e(96115),r=e(89426),s=e(15258),n=e(92128),i=e(23074),f=e(4322),u=e(73812),y=e(12101),c=e(9813),T=c.axisNames;function h(d,E,S,P){var x=S("bgcolor");P.bgColor=_.combine(x,P.paper_bgcolor);var M=S("sector");S("hole");var w=A(P.fullData,c.name,P.id),o=P.layoutOut,L;function m(te,se){return S(L+"."+te,se)}for(var F=0;F<T.length;F++){L=T[F],g.isPlainObject(d[L])||(d[L]={});var I=d[L],U=a.newContainer(E,L);U._id=U._name=L,U._attr=P.id+"."+L,U._traceIndices=w.map(function(te){return te._expandedIndex});var z=c.axisName2dataArray[L],N=l(I,U,m,w,z,P);s(I,U,m,{axData:w,dataAttr:z});var B=m("visible");switch(y(U,E,o),m("uirevision",E.uirevision),U._m=1,L){case"radialaxis":m("minallowed"),m("maxallowed");var O=m("range"),H=U.getAutorangeDflt(O),Y=m("autorange",H),J;O&&(O[0]===null&&O[1]===null||(O[0]===null||O[1]===null)&&(Y==="reversed"||Y===!0)||O[0]!==null&&(Y==="min"||Y==="max reversed")||O[1]!==null&&(Y==="max"||Y==="min reversed"))&&(O=void 0,delete U.range,U.autorange=!0,J=!0),J||(H=U.getAutorangeDflt(O),Y=m("autorange",H)),I.autorange=Y,Y&&(i(m,Y,O),(N==="linear"||N==="-")&&m("rangemode"),U.isReversed()&&(U._m=-1)),U.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(N==="date"){g.log("Polar plots do not support date angular axes yet.");for(var re=0;re<w.length;re++)w[re].visible=!1;N=I.type=U.type="linear"}m(N==="linear"?"thetaunit":"period");var ie=m("direction");m("rotation",{counterclockwise:0,clockwise:90}[ie]);break}if(r(I,U,m,U.type,{tickSuffixDflt:U.thetaunit==="degrees"?"":void 0}),B){var ce,Q,j,Z,$=P.font||{};ce=m("color"),Q=ce===I.color?ce:$.color,j=$.size,Z=$.family,v(I,U,m,U.type),t(I,U,m,U.type,{font:{color:Q,size:j,family:Z}}),p(I,U,m,{outerTicks:!0}),n(I,U,m,{dfltColor:ce,bgColor:P.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:u[L]}),m("layer"),L==="radialaxis"&&(m("side"),m("angle",M[0]),m("title.text"),g.coerceFont(m,"title.font",{color:Q,size:g.bigFont(j),family:Z}))}N!=="category"&&m("hoverformat"),U._input=I}E.angularaxis.type==="category"&&S("gridshape")}function l(d,E,S,P,x,M){var w=S("autotypenumbers",M.autotypenumbersDflt),o=S("type");if(o==="-"){for(var L,m=0;m<P.length;m++)if(P[m].visible){L=P[m];break}L&&L[x]&&(E.type=f(L[x],"gregorian",{noMultiCategory:!0,autotypenumbers:w})),E.type==="-"?E.type="linear":d.type=E.type}return E.type}G.exports=function(E,S,P){C(E,S,P,{type:c.name,attributes:u,handleDefaults:h,font:S.font,autotypenumbersDflt:S.autotypenumbers,paper_bgcolor:S.paper_bgcolor,fullData:P,layoutOut:S})}},77997:function(G,V,e){var g=e(39898),_=e(84267),a=e(73972),C=e(71828),A=C.strRotate,v=C.strTranslate,p=e(7901),t=e(91424),r=e(74875),s=e(89298),n=e(21994),i=e(12101),f=e(71739).doAutoRange,u=e(29323),y=e(28569),c=e(30211),T=e(92998),h=e(47322).prepSelect,l=e(47322).selectOnClick,d=e(47322).clearOutline,E=e(6964),S=e(33306),P=e(61549).redrawReglTraces,x=e(18783).MID_SHIFT,M=e(9813),w=e(10869),o=e(23893),L=o.smith,m=o.reactanceArc,F=o.resistanceArc,I=o.smithTransform,U=C._,z=C.mod,N=C.deg2rad,B=C.rad2deg;function O(ce,Q,j){this.isSmith=j||!1,this.id=Q,this.gd=ce,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var Z=ce._fullLayout,$="clip"+Z._uid+Q;this.clipIds.forTraces=$+"-for-traces",this.clipPaths.forTraces=Z._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=Z["_"+(j?"smith":"polar")+"layer"].append("g").attr("class",Q),this.getHole=function(te){return this.isSmith?0:te.hole},this.getSector=function(te){return this.isSmith?[0,360]:te.sector},this.getRadial=function(te){return this.isSmith?te.realaxis:te.radialaxis},this.getAngular=function(te){return this.isSmith?te.imaginaryaxis:te.angularaxis},j||(this.radialTickLayout=null,this.angularTickLayout=null)}var H=O.prototype;G.exports=function(Q,j,Z){return new O(Q,j,Z)},H.plot=function(ce,Q){for(var j=this,Z=Q[j.id],$=!1,te=0;te<ce.length;te++){var se=ce[te][0].trace;if(se.cliponaxis===!1){$=!0;break}}j._hasClipOnAxisFalse=$,j.updateLayers(Q,Z),j.updateLayout(Q,Z),r.generalUpdatePerTraceModule(j.gd,j,ce,Z),j.updateFx(Q,Z),j.isSmith&&(delete Z.realaxis.range,delete Z.imaginaryaxis.range)},H.updateLayers=function(ce,Q){var j=this,Z=j.isSmith,$=j.layers,te=j.getRadial(Q),se=j.getAngular(Q),ee=M.layerNames,q=ee.indexOf("frontplot"),le=ee.slice(0,q),oe=se.layer==="below traces",he=te.layer==="below traces";oe&&le.push("angular-line"),he&&le.push("radial-line"),oe&&le.push("angular-axis"),he&&le.push("radial-axis"),le.push("frontplot"),oe||le.push("angular-line"),he||le.push("radial-line"),oe||le.push("angular-axis"),he||le.push("radial-axis");var me=(Z?"smith":"polar")+"sublayer",Ce=j.framework.selectAll("."+me).data(le,String);Ce.enter().append("g").attr("class",function(Ae){return me+" "+Ae}).each(function(Ae){var Ue=$[Ae]=g.select(this);switch(Ae){case"frontplot":Z||Ue.append("g").classed("barlayer",!0),Ue.append("g").classed("scatterlayer",!0);break;case"backplot":Ue.append("g").classed("maplayer",!0);break;case"plotbg":$.bg=Ue.append("path");break;case"radial-grid":Ue.style("fill","none");break;case"angular-grid":Ue.style("fill","none");break;case"radial-line":Ue.append("line").style("fill","none");break;case"angular-line":Ue.append("path").style("fill","none");break}}),Ce.order()},H.updateLayout=function(ce,Q){var j=this,Z=j.layers,$=ce._size,te=j.getRadial(Q),se=j.getAngular(Q),ee=Q.domain.x,q=Q.domain.y;j.xOffset=$.l+$.w*ee[0],j.yOffset=$.t+$.h*(1-q[1]);var le=j.xLength=$.w*(ee[1]-ee[0]),oe=j.yLength=$.h*(q[1]-q[0]),he=j.getSector(Q);j.sectorInRad=he.map(N);var me=j.sectorBBox=J(he),Ce=me[2]-me[0],Ae=me[3]-me[1],Ue=oe/le,Ve=Math.abs(Ae/Ce),Pe,be,Le,We,je;Ue>Ve?(Pe=le,be=le*Ve,je=(oe-be)/$.h/2,Le=[ee[0],ee[1]],We=[q[0]+je,q[1]-je]):(Pe=oe/Ve,be=oe,je=(le-Pe)/$.w/2,Le=[ee[0]+je,ee[1]-je],We=[q[0],q[1]]),j.xLength2=Pe,j.yLength2=be,j.xDomain2=Le,j.yDomain2=We;var Fe=j.xOffset2=$.l+$.w*Le[0],Ze=j.yOffset2=$.t+$.h*(1-We[1]),ut=j.radius=Pe/Ce,at=j.innerRadius=j.getHole(Q)*ut,it=j.cx=Fe-ut*me[0],$e=j.cy=Ze+ut*me[3],st=j.cxx=it-Fe,ct=j.cyy=$e-Ze,vt=te.side,St;vt==="counterclockwise"?(St=vt,vt="top"):vt==="clockwise"&&(St=vt,vt="bottom"),j.radialAxis=j.mockAxis(ce,Q,te,{_id:"x",side:vt,_trueSide:St,domain:[at/$.w,ut/$.w]}),j.angularAxis=j.mockAxis(ce,Q,se,{side:"right",domain:[0,Math.PI],autorange:!1}),j.doAutoRange(ce,Q),j.updateAngularAxis(ce,Q),j.updateRadialAxis(ce,Q),j.updateRadialAxisTitle(ce,Q),j.xaxis=j.mockCartesianAxis(ce,Q,{_id:"x",domain:Le}),j.yaxis=j.mockCartesianAxis(ce,Q,{_id:"y",domain:We});var Mt=j.pathSubplot();j.clipPaths.forTraces.select("path").attr("d",Mt).attr("transform",v(st,ct)),Z.frontplot.attr("transform",v(Fe,Ze)).call(t.setClipUrl,j._hasClipOnAxisFalse?null:j.clipIds.forTraces,j.gd),Z.bg.attr("d",Mt).attr("transform",v(it,$e)).call(p.fill,Q.bgcolor)},H.mockAxis=function(ce,Q,j,Z){var $=C.extendFlat({},j,Z);return i($,Q,ce),$},H.mockCartesianAxis=function(ce,Q,j){var Z=this,$=Z.isSmith,te=j._id,se=C.extendFlat({type:"linear"},j);n(se,ce);var ee={x:[0,2],y:[1,3]};return se.setRange=function(){var q=Z.sectorBBox,le=ee[te],oe=Z.radialAxis._rl,he=(oe[1]-oe[0])/(1-Z.getHole(Q));se.range=[q[le[0]]*he,q[le[1]]*he]},se.isPtWithinRange=te==="x"&&!$?function(q){return Z.isPtInside(q)}:function(){return!0},se.setRange(),se.setScale(),se},H.doAutoRange=function(ce,Q){var j=this,Z=j.gd,$=j.radialAxis,te=j.getRadial(Q);f(Z,$);var se=$.range;te.range=se.slice(),te._input.range=se.slice(),$._rl=[$.r2l(se[0],null,"gregorian"),$.r2l(se[1],null,"gregorian")]},H.updateRadialAxis=function(ce,Q){var j=this,Z=j.gd,$=j.layers,te=j.radius,se=j.innerRadius,ee=j.cx,q=j.cy,le=j.getRadial(Q),oe=z(j.getSector(Q)[0],360),he=j.radialAxis,me=se<te,Ce=j.isSmith;Ce||(j.fillViewInitialKey("radialaxis.angle",le.angle),j.fillViewInitialKey("radialaxis.range",he.range.slice()),he.setGeometry()),he.tickangle==="auto"&&oe>90&&oe<=270&&(he.tickangle=180);var Ae=Ce?function(ut){var at=I(j,L([ut.x,0]));return v(at[0]-ee,at[1]-q)}:function(ut){return v(he.l2p(ut.x)+se,0)},Ue=Ce?function(ut){return F(j,ut.x,-1/0,1/0)}:function(ut){return j.pathArc(he.r2p(ut.x)+se)},Ve=Y(le);if(j.radialTickLayout!==Ve&&($["radial-axis"].selectAll(".xtick").remove(),j.radialTickLayout=Ve),me){he.setScale();var Pe=0,be=Ce?(he.tickvals||[]).filter(function(ut){return ut>=0}).map(function(ut){return s.tickText(he,ut,!0,!1)}):s.calcTicks(he),Le=Ce?be:s.clipEnds(he,be),We=s.getTickSigns(he)[2];Ce&&((he.ticks==="top"&&he.side==="bottom"||he.ticks==="bottom"&&he.side==="top")&&(We=-We),he.ticks==="top"&&he.side==="top"&&(Pe=-he.ticklen),he.ticks==="bottom"&&he.side==="bottom"&&(Pe=he.ticklen)),s.drawTicks(Z,he,{vals:be,layer:$["radial-axis"],path:s.makeTickPath(he,0,We),transFn:Ae,crisp:!1}),s.drawGrid(Z,he,{vals:Le,layer:$["radial-grid"],path:Ue,transFn:C.noop,crisp:!1}),s.drawLabels(Z,he,{vals:be,layer:$["radial-axis"],transFn:Ae,labelFns:s.makeLabelFns(he,Pe)})}var je=j.radialAxisAngle=j.vangles?B(re(N(le.angle),j.vangles)):le.angle,Fe=v(ee,q),Ze=Fe+A(-je);ie($["radial-axis"],me&&(le.showticklabels||le.ticks),{transform:Ze}),ie($["radial-grid"],me&&le.showgrid,{transform:Ce?"":Fe}),ie($["radial-line"].select("line"),me&&le.showline,{x1:Ce?-te:se,y1:0,x2:te,y2:0,transform:Ze}).attr("stroke-width",le.linewidth).call(p.stroke,le.linecolor)},H.updateRadialAxisTitle=function(ce,Q,j){if(!this.isSmith){var Z=this,$=Z.gd,te=Z.radius,se=Z.cx,ee=Z.cy,q=Z.getRadial(Q),le=Z.id+"title",oe=0;if(q.title){var he=t.bBox(Z.layers["radial-axis"].node()).height,me=q.title.font.size,Ce=q.side;oe=Ce==="top"?me:Ce==="counterclockwise"?-(he+me*.4):he+me*.8}var Ae=j!==void 0?j:Z.radialAxisAngle,Ue=N(Ae),Ve=Math.cos(Ue),Pe=Math.sin(Ue),be=se+te/2*Ve+oe*Pe,Le=ee-te/2*Pe+oe*Ve;Z.layers["radial-axis-title"]=T.draw($,le,{propContainer:q,propName:Z.id+".radialaxis.title",placeholder:U($,"Click to enter radial axis title"),attributes:{x:be,y:Le,"text-anchor":"middle"},transform:{rotate:-Ae}})}},H.updateAngularAxis=function(ce,Q){var j=this,Z=j.gd,$=j.layers,te=j.radius,se=j.innerRadius,ee=j.cx,q=j.cy,le=j.getAngular(Q),oe=j.angularAxis,he=j.isSmith;he||(j.fillViewInitialKey("angularaxis.rotation",le.rotation),oe.setGeometry(),oe.setScale());var me=he?function(at){var it=I(j,L([0,at.x]));return Math.atan2(it[0]-ee,it[1]-q)-Math.PI/2}:function(at){return oe.t2g(at.x)};oe.type==="linear"&&oe.thetaunit==="radians"&&(oe.tick0=B(oe.tick0),oe.dtick=B(oe.dtick));var Ce=function(at){return v(ee+te*Math.cos(at),q-te*Math.sin(at))},Ae=he?function(at){var it=I(j,L([0,at.x]));return v(it[0],it[1])}:function(at){return Ce(me(at))},Ue=he?function(at){var it=I(j,L([0,at.x])),$e=Math.atan2(it[0]-ee,it[1]-q)-Math.PI/2;return v(it[0],it[1])+A(-B($e))}:function(at){var it=me(at);return Ce(it)+A(-B(it))},Ve=he?function(at){return m(j,at.x,0,1/0)}:function(at){var it=me(at),$e=Math.cos(it),st=Math.sin(it);return"M"+[ee+se*$e,q-se*st]+"L"+[ee+te*$e,q-te*st]},Pe=s.makeLabelFns(oe,0),be=Pe.labelStandoff,Le={};Le.xFn=function(at){var it=me(at);return Math.cos(it)*be},Le.yFn=function(at){var it=me(at),$e=Math.sin(it)>0?.2:1;return-Math.sin(it)*(be+at.fontSize*$e)+Math.abs(Math.cos(it))*(at.fontSize*x)},Le.anchorFn=function(at){var it=me(at),$e=Math.cos(it);return Math.abs($e)<.1?"middle":$e>0?"start":"end"},Le.heightFn=function(at,it,$e){var st=me(at);return-.5*(1+Math.sin(st))*$e};var We=Y(le);j.angularTickLayout!==We&&($["angular-axis"].selectAll("."+oe._id+"tick").remove(),j.angularTickLayout=We);var je=he?[1/0].concat(oe.tickvals||[]).map(function(at){return s.tickText(oe,at,!0,!1)}):s.calcTicks(oe);he&&(je[0].text="",je[0].fontSize*=1.75);var Fe;if(Q.gridshape==="linear"?(Fe=je.map(me),C.angleDelta(Fe[0],Fe[1])<0&&(Fe=Fe.slice().reverse())):Fe=null,j.vangles=Fe,oe.type==="category"&&(je=je.filter(function(at){return C.isAngleInsideSector(me(at),j.sectorInRad)})),oe.visible){var Ze=oe.ticks==="inside"?-1:1,ut=(oe.linewidth||1)/2;s.drawTicks(Z,oe,{vals:je,layer:$["angular-axis"],path:"M"+Ze*ut+",0h"+Ze*oe.ticklen,transFn:Ue,crisp:!1}),s.drawGrid(Z,oe,{vals:je,layer:$["angular-grid"],path:Ve,transFn:C.noop,crisp:!1}),s.drawLabels(Z,oe,{vals:je,layer:$["angular-axis"],repositionOnUpdate:!0,transFn:Ae,labelFns:Le})}ie($["angular-line"].select("path"),le.showline,{d:j.pathSubplot(),transform:v(ee,q)}).attr("stroke-width",le.linewidth).call(p.stroke,le.linecolor)},H.updateFx=function(ce,Q){if(!this.gd._context.staticPlot){var j=!this.isSmith;j&&(this.updateAngularDrag(ce),this.updateRadialDrag(ce,Q,0),this.updateRadialDrag(ce,Q,1)),this.updateHoverAndMainDrag(ce)}},H.updateHoverAndMainDrag=function(ce){var Q=this,j=Q.isSmith,Z=Q.gd,$=Q.layers,te=ce._zoomlayer,se=M.MINZOOM,ee=M.OFFEDGE,q=Q.radius,le=Q.innerRadius,oe=Q.cx,he=Q.cy,me=Q.cxx,Ce=Q.cyy,Ae=Q.sectorInRad,Ue=Q.vangles,Ve=Q.radialAxis,Pe=w.clampTiny,be=w.findXYatLength,Le=w.findEnclosingVertexAngles,We=M.cornerHalfWidth,je=M.cornerLen/2,Fe,Ze,ut=u.makeDragger($,"path","maindrag",ce.dragmode===!1?"none":"crosshair");g.select(ut).attr("d",Q.pathSubplot()).attr("transform",v(oe,he)),ut.onmousemove=function(Ct){c.hover(Z,Ct,Q.id),Z._fullLayout._lasthover=ut,Z._fullLayout._hoversubplot=Q.id},ut.onmouseout=function(Ct){Z._dragging||y.unhover(Z,Ct)};var at={element:ut,gd:Z,subplot:Q.id,plotinfo:{id:Q.id,xaxis:Q.xaxis,yaxis:Q.yaxis},xaxes:[Q.xaxis],yaxes:[Q.yaxis]},it,$e,st,ct,vt,St,Mt,Bt,Qe;function ke(Ct,Nt){return Math.sqrt(Ct*Ct+Nt*Nt)}function ze(Ct,Nt){return ke(Ct-me,Nt-Ce)}function Be(Ct,Nt){return Math.atan2(Ce-Nt,Ct-me)}function Re(Ct,Nt){return[Ct*Math.cos(Nt),Ct*Math.sin(-Nt)]}function we(Ct,Nt){if(Ct===0)return Q.pathSector(2*We);var Kt=je/Ct,wr=Nt-Kt,yt=Nt+Kt,$t=Math.max(0,Math.min(Ct,q)),er=$t-We,mr=$t+We;return"M"+Re(er,wr)+"A"+[er,er]+" 0,0,0 "+Re(er,yt)+"L"+Re(mr,yt)+"A"+[mr,mr]+" 0,0,1 "+Re(mr,wr)+"Z"}function ye(Ct,Nt,Kt){if(Ct===0)return Q.pathSector(2*We);var wr=Re(Ct,Nt),yt=Re(Ct,Kt),$t=Pe((wr[0]+yt[0])/2),er=Pe((wr[1]+yt[1])/2),mr,vr;if($t&&er){var bt=er/$t,ht=-1/bt,Tt=be(We,bt,$t,er);mr=be(je,ht,Tt[0][0],Tt[0][1]),vr=be(je,ht,Tt[1][0],Tt[1][1])}else{var Pt,zt;er?(Pt=je,zt=We):(Pt=We,zt=je),mr=[[$t-Pt,er-zt],[$t+Pt,er-zt]],vr=[[$t-Pt,er+zt],[$t+Pt,er+zt]]}return"M"+mr.join("L")+"L"+vr.reverse().join("L")+"Z"}function Se(){st=null,ct=null,vt=Q.pathSubplot(),St=!1;var Ct=Z._fullLayout[Q.id];Mt=_(Ct.bgcolor).getLuminance(),Bt=u.makeZoombox(te,Mt,oe,he,vt),Bt.attr("fill-rule","evenodd"),Qe=u.makeCorners(te,oe,he),d(Z)}function Me(Ct,Nt){return Nt=Math.max(Math.min(Nt,q),le),Ct<ee?Ct=0:q-Ct<ee?Ct=q:Nt<ee?Nt=0:q-Nt<ee&&(Nt=q),Math.abs(Nt-Ct)>se?(Ct<Nt?(st=Ct,ct=Nt):(st=Nt,ct=Ct),!0):(st=null,ct=null,!1)}function He(Ct,Nt){Ct=Ct||vt,Nt=Nt||"M0,0Z",Bt.attr("d",Ct),Qe.attr("d",Nt),u.transitionZoombox(Bt,Qe,St,Mt),St=!0;var Kt={};jt(Kt),Z.emit("plotly_relayouting",Kt)}function qe(Ct,Nt){Ct=Ct*Fe,Nt=Nt*Ze;var Kt=it+Ct,wr=$e+Nt,yt=ze(it,$e),$t=Math.min(ze(Kt,wr),q),er=Be(it,$e),mr,vr;Me(yt,$t)&&(mr=vt+Q.pathSector(ct),st&&(mr+=Q.pathSector(st)),vr=we(st,er)+we(ct,er)),He(mr,vr)}function rt(Ct,Nt,Kt,wr){var yt=w.findIntersectionXY(Kt,wr,Kt,[Ct-me,Ce-Nt]);return ke(yt[0],yt[1])}function pt(Ct,Nt){var Kt=it+Ct,wr=$e+Nt,yt=Be(it,$e),$t=Be(Kt,wr),er=Le(yt,Ue),mr=Le($t,Ue),vr=rt(it,$e,er[0],er[1]),bt=Math.min(rt(Kt,wr,mr[0],mr[1]),q),ht,Tt;Me(vr,bt)&&(ht=vt+Q.pathSector(ct),st&&(ht+=Q.pathSector(st)),Tt=[ye(st,er[0],er[1]),ye(ct,er[0],er[1])].join(" ")),He(ht,Tt)}function At(){if(u.removeZoombox(Z),!(st===null||ct===null)){var Ct={};jt(Ct),u.showDoubleClickNotifier(Z),a.call("_guiRelayout",Z,Ct)}}function jt(Ct){var Nt=Ve._rl,Kt=(Nt[1]-Nt[0])/(1-le/q)/q,wr=[Nt[0]+(st-le)*Kt,Nt[0]+(ct-le)*Kt];Ct[Q.id+".radialaxis.range"]=wr}function tr(Ct,Nt){var Kt=Z._fullLayout.clickmode;if(u.removeZoombox(Z),Ct===2){var wr={};for(var yt in Q.viewInitial)wr[Q.id+"."+yt]=Q.viewInitial[yt];Z.emit("plotly_doubleclick",null),a.call("_guiRelayout",Z,wr)}Kt.indexOf("select")>-1&&Ct===1&&l(Nt,Z,[Q.xaxis],[Q.yaxis],Q.id,at),Kt.indexOf("event")>-1&&c.click(Z,Nt,Q.id)}at.prepFn=function(Ct,Nt,Kt){var wr=Z._fullLayout.dragmode,yt=ut.getBoundingClientRect();Z._fullLayout._calcInverseTransform(Z);var $t=Z._fullLayout._invTransform;Fe=Z._fullLayout._invScaleX,Ze=Z._fullLayout._invScaleY;var er=C.apply3DTransform($t)(Nt-yt.left,Kt-yt.top);if(it=er[0],$e=er[1],Ue){var mr=w.findPolygonOffset(q,Ae[0],Ae[1],Ue);it+=me+mr[0],$e+=Ce+mr[1]}switch(wr){case"zoom":at.clickFn=tr,j||(Ue?at.moveFn=pt:at.moveFn=qe,at.doneFn=At,Se());break;case"select":case"lasso":h(Ct,Nt,Kt,at,wr);break}},y.init(at)},H.updateRadialDrag=function(ce,Q,j){var Z=this,$=Z.gd,te=Z.layers,se=Z.radius,ee=Z.innerRadius,q=Z.cx,le=Z.cy,oe=Z.radialAxis,he=M.radialDragBoxSize,me=he/2;if(!oe.visible)return;var Ce=N(Z.radialAxisAngle),Ae=oe._rl,Ue=Ae[0],Ve=Ae[1],Pe=Ae[j],be=.75*(Ae[1]-Ae[0])/(1-Z.getHole(Q))/se,Le,We,je;j?(Le=q+(se+me)*Math.cos(Ce),We=le-(se+me)*Math.sin(Ce),je="radialdrag"):(Le=q+(ee-me)*Math.cos(Ce),We=le-(ee-me)*Math.sin(Ce),je="radialdrag-inner");var Fe=u.makeRectDragger(te,je,"crosshair",-me,-me,he,he),Ze={element:Fe,gd:$};ce.dragmode===!1&&(Ze.dragmode=!1),ie(g.select(Fe),oe.visible&&ee<se,{transform:v(Le,We)});var ut,at,it;function $e(Mt,Bt){if(ut)ut(Mt,Bt);else{var Qe=[Mt,-Bt],ke=[Math.cos(Ce),Math.sin(Ce)],ze=Math.abs(C.dot(Qe,ke)/Math.sqrt(C.dot(Qe,Qe)));isNaN(ze)||(ut=ze<.5?vt:St)}var Be={};st(Be),$.emit("plotly_relayouting",Be)}function st(Mt){at!==null?Mt[Z.id+".radialaxis.angle"]=at:it!==null&&(Mt[Z.id+".radialaxis.range["+j+"]"]=it)}function ct(){at!==null?a.call("_guiRelayout",$,Z.id+".radialaxis.angle",at):it!==null&&a.call("_guiRelayout",$,Z.id+".radialaxis.range["+j+"]",it)}function vt(Mt,Bt){if(j!==0){var Qe=Le+Mt,ke=We+Bt;at=Math.atan2(le-ke,Qe-q),Z.vangles&&(at=re(at,Z.vangles)),at=B(at);var ze=v(q,le)+A(-at);te["radial-axis"].attr("transform",ze),te["radial-line"].select("line").attr("transform",ze);var Be=Z.gd._fullLayout,Re=Be[Z.id];Z.updateRadialAxisTitle(Be,Re,at)}}function St(Mt,Bt){var Qe=C.dot([Mt,-Bt],[Math.cos(Ce),Math.sin(Ce)]);if(it=Pe-be*Qe,be>0!=(j?it>Ue:it<Ve)){it=null;return}var ke=$._fullLayout,ze=ke[Z.id];oe.range[j]=it,oe._rl[j]=it,Z.updateRadialAxis(ke,ze),Z.xaxis.setRange(),Z.xaxis.setScale(),Z.yaxis.setRange(),Z.yaxis.setScale();var Be=!1;for(var Re in Z.traceHash){var we=Z.traceHash[Re],ye=C.filterVisible(we),Se=we[0][0].trace._module;Se.plot($,Z,ye,ze),a.traceIs(Re,"gl")&&ye.length&&(Be=!0)}Be&&(S($),P($))}Ze.prepFn=function(){ut=null,at=null,it=null,Ze.moveFn=$e,Ze.doneFn=ct,d($)},Ze.clampFn=function(Mt,Bt){return Math.sqrt(Mt*Mt+Bt*Bt)<M.MINDRAG&&(Mt=0,Bt=0),[Mt,Bt]},y.init(Ze)},H.updateAngularDrag=function(ce){var Q=this,j=Q.gd,Z=Q.layers,$=Q.radius,te=Q.angularAxis,se=Q.cx,ee=Q.cy,q=Q.cxx,le=Q.cyy,oe=M.angularDragBoxSize,he=u.makeDragger(Z,"path","angulardrag",ce.dragmode===!1?"none":"move"),me={element:he,gd:j};ce.dragmode===!1?me.dragmode=!1:g.select(he).attr("d",Q.pathAnnulus($,$+oe)).attr("transform",v(se,ee)).call(E,"move");function Ce(it,$e){return Math.atan2(le+oe-$e,it-q-oe)}var Ae=Z.frontplot.select(".scatterlayer").selectAll(".trace"),Ue=Ae.selectAll(".point"),Ve=Ae.selectAll(".textpoint"),Pe,be,Le,We,je,Fe;function Ze(it,$e){var st=Q.gd._fullLayout,ct=st[Q.id],vt=Pe+it*ce._invScaleX,St=be+$e*ce._invScaleY,Mt=Ce(vt,St),Bt=B(Mt-Fe);if(We=Le+Bt,Z.frontplot.attr("transform",v(Q.xOffset2,Q.yOffset2)+A([-Bt,q,le])),Q.vangles){je=Q.radialAxisAngle+Bt;var Qe=v(se,ee)+A(-Bt),ke=v(se,ee)+A(-je);Z.bg.attr("transform",Qe),Z["radial-grid"].attr("transform",Qe),Z["radial-axis"].attr("transform",ke),Z["radial-line"].select("line").attr("transform",ke),Q.updateRadialAxisTitle(st,ct,je)}else Q.clipPaths.forTraces.select("path").attr("transform",v(q,le)+A(Bt));Ue.each(function(){var Me=g.select(this),He=t.getTranslate(Me);Me.attr("transform",v(He.x,He.y)+A([Bt]))}),Ve.each(function(){var Me=g.select(this),He=Me.select("text"),qe=t.getTranslate(Me);Me.attr("transform",A([Bt,He.attr("x"),He.attr("y")])+v(qe.x,qe.y))}),te.rotation=C.modHalf(We,360),Q.updateAngularAxis(st,ct),Q._hasClipOnAxisFalse&&!C.isFullCircle(Q.sectorInRad)&&Ae.call(t.hideOutsideRangePoints,Q);var ze=!1;for(var Be in Q.traceHash)if(a.traceIs(Be,"gl")){var Re=Q.traceHash[Be],we=C.filterVisible(Re),ye=Re[0][0].trace._module;ye.plot(j,Q,we,ct),we.length&&(ze=!0)}ze&&(S(j),P(j));var Se={};ut(Se),j.emit("plotly_relayouting",Se)}function ut(it){it[Q.id+".angularaxis.rotation"]=We,Q.vangles&&(it[Q.id+".radialaxis.angle"]=je)}function at(){Ve.select("text").attr("transform",null);var it={};ut(it),a.call("_guiRelayout",j,it)}me.prepFn=function(it,$e,st){var ct=ce[Q.id];Le=ct.angularaxis.rotation;var vt=he.getBoundingClientRect();Pe=$e-vt.left,be=st-vt.top,j._fullLayout._calcInverseTransform(j);var St=C.apply3DTransform(ce._invTransform)(Pe,be);Pe=St[0],be=St[1],Fe=Ce(Pe,be),me.moveFn=Ze,me.doneFn=at,d(j)},Q.vangles&&!C.isFullCircle(Q.sectorInRad)&&(me.prepFn=C.noop,E(g.select(he),null)),y.init(me)},H.isPtInside=function(ce){if(this.isSmith)return!0;var Q=this.sectorInRad,j=this.vangles,Z=this.angularAxis.c2g(ce.theta),$=this.radialAxis,te=$.c2l(ce.r),se=$._rl,ee=j?w.isPtInsidePolygon:C.isPtInsideSector;return ee(te,Z,se,Q,j)},H.pathArc=function(ce){var Q=this.sectorInRad,j=this.vangles,Z=j?w.pathPolygon:C.pathArc;return Z(ce,Q[0],Q[1],j)},H.pathSector=function(ce){var Q=this.sectorInRad,j=this.vangles,Z=j?w.pathPolygon:C.pathSector;return Z(ce,Q[0],Q[1],j)},H.pathAnnulus=function(ce,Q){var j=this.sectorInRad,Z=this.vangles,$=Z?w.pathPolygonAnnulus:C.pathAnnulus;return $(ce,Q,j[0],j[1],Z)},H.pathSubplot=function(){var ce=this.innerRadius,Q=this.radius;return ce?this.pathAnnulus(ce,Q):this.pathSector(Q)},H.fillViewInitialKey=function(ce,Q){ce in this.viewInitial||(this.viewInitial[ce]=Q)};function Y(ce){var Q=ce.ticks+String(ce.ticklen)+String(ce.showticklabels);return"side"in ce&&(Q+=ce.side),Q}function J(ce){var Q=ce[0],j=ce[1],Z=j-Q,$=z(Q,360),te=$+Z,se=Math.cos(N($)),ee=Math.sin(N($)),q=Math.cos(N(te)),le=Math.sin(N(te)),oe,he,me,Ce;return $<=90&&te>=90||$>90&&te>=450?Ce=1:ee<=0&&le<=0?Ce=0:Ce=Math.max(ee,le),$<=180&&te>=180||$>180&&te>=540?oe=-1:se>=0&&q>=0?oe=0:oe=Math.min(se,q),$<=270&&te>=270||$>270&&te>=630?he=-1:ee>=0&&le>=0?he=0:he=Math.min(ee,le),te>=360?me=1:se<=0&&q<=0?me=0:me=Math.max(se,q),[oe,he,me,Ce]}function re(ce,Q){var j=function($){return C.angleDist(ce,$)},Z=C.findIndexOfMin(Q,j);return Q[Z]}function ie(ce,Q,j){return Q?(ce.attr("display",null),ce.attr(j)):ce&&ce.attr("display","none"),ce}},12101:function(G,V,e){var g=e(71828),_=e(21994),a=g.deg2rad,C=g.rad2deg;G.exports=function(s,n,i){switch(_(s,i),s._id){case"x":case"radialaxis":A(s,n);break;case"angularaxis":t(s,n);break}};function A(r,s){var n=s._subplot;r.setGeometry=function(){var i=r._rl[0],f=r._rl[1],u=n.innerRadius,y=(n.radius-u)/(f-i),c=u/y,T=i>f?function(h){return h<=0}:function(h){return h>=0};r.c2g=function(h){var l=r.c2l(h)-i;return(T(l)?l:0)+c},r.g2c=function(h){return r.l2c(h+i-c)},r.g2p=function(h){return h*y},r.c2p=function(h){return r.g2p(r.c2g(h))}}}function v(r,s){return s==="degrees"?a(r):r}function p(r,s){return s==="degrees"?C(r):r}function t(r,s){var n=r.type;if(n==="linear"){var i=r.d2c,f=r.c2d;r.d2c=function(u,y){return v(i(u),y)},r.c2d=function(u,y){return f(p(u,y))}}r.makeCalcdata=function(u,y){var c=u[y],T=u._length,h,l,d=function(M){return r.d2c(M,u.thetaunit)};if(c){if(g.isTypedArray(c)&&n==="linear"){if(T===c.length)return c;if(c.subarray)return c.subarray(0,T)}for(h=new Array(T),l=0;l<T;l++)h[l]=d(c[l])}else{var E=y+"0",S="d"+y,P=E in u?d(u[E]):0,x=u[S]?d(u[S]):(r.period||2*Math.PI)/T;for(h=new Array(T),l=0;l<T;l++)h[l]=P+l*x}return h},r.setGeometry=function(){var u=s.sector,y=u.map(a),c={clockwise:-1,counterclockwise:1}[r.direction],T=a(r.rotation),h=function(w){return c*w+T},l=function(w){return(w-T)/c},d,E,S,P;switch(n){case"linear":E=d=g.identity,P=a,S=C,r.range=g.isFullCircle(y)?[u[0],u[0]+360]:y.map(l).map(C);break;case"category":var x=r._categories.length,M=r.period?Math.max(r.period,x):x;M===0&&(M=1),E=P=function(w){return w*2*Math.PI/M},d=S=function(w){return w*M/Math.PI/2},r.range=[0,M];break}r.c2g=function(w){return h(E(w))},r.g2c=function(w){return d(l(w))},r.t2g=function(w){return h(P(w))},r.g2t=function(w){return S(l(w))}}}},39779:function(G){G.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},23893:function(G){function V(A){return A<0?-1:A>0?1:0}function e(A){var v=A[0],p=A[1];if(!isFinite(v)||!isFinite(p))return[1,0];var t=(v+1)*(v+1)+p*p;return[(v*v+p*p-1)/t,2*p/t]}function g(A,v){var p=v[0],t=v[1];return[p*A.radius+A.cx,-t*A.radius+A.cy]}function _(A,v){return v*A.radius}function a(A,v,p,t){var r=g(A,e([p,v])),s=r[0],n=r[1],i=g(A,e([t,v])),f=i[0],u=i[1];if(v===0)return["M"+s+","+n,"L"+f+","+u].join(" ");var y=_(A,1/Math.abs(v));return["M"+s+","+n,"A"+y+","+y+" 0 0,"+(v<0?1:0)+" "+f+","+u].join(" ")}function C(A,v,p,t){var r=_(A,1/(v+1)),s=g(A,e([v,p])),n=s[0],i=s[1],f=g(A,e([v,t])),u=f[0],y=f[1];if(V(p)!==V(t)){var c=g(A,e([v,0])),T=c[0],h=c[1];return["M"+n+","+i,"A"+r+","+r+" 0 0,"+(0<p?0:1)+" "+T+","+h,"A"+r+","+r+" 0 0,"+(t<0?0:1)+u+","+y].join(" ")}return["M"+n+","+i,"A"+r+","+r+" 0 0,"+(t<p?0:1)+" "+u+","+y].join(" ")}G.exports={smith:e,reactanceArc:a,resistanceArc:C,smithTransform:g}},7504:function(G,V,e){var g=e(27659).AU,_=e(71828).counterRegex,a=e(77997),C=e(39779),A=C.attr,v=C.name,p=_(v),t={};t[A]={valType:"subplotid",dflt:v,editType:"calc"};function r(n){for(var i=n._fullLayout,f=n.calcdata,u=i._subplots[v],y=0;y<u.length;y++){var c=u[y],T=g(f,v,c),h=i[c]._subplot;h||(h=a(n,c,!0),i[c]._subplot=h),h.plot(T,i,n._promises)}}function s(n,i,f,u){for(var y=u._subplots[v]||[],c=0;c<y.length;c++){var T=y[c],h=u[T]._subplot;if(!i[T]&&h){h.framework.remove();for(var l in h.clipPaths)h.clipPaths[l].remove()}}}G.exports={attr:A,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:t,layoutAttributes:e(33419),supplyLayoutDefaults:e(9558),plot:r,clean:s,toSVG:e(93612).toSVG}},33419:function(G,V,e){var g=e(22399),_=e(13838),a=e(27670).Y,C=e(71828).extendFlat,A=e(30962).overrideAll,v=A({color:_.color,showline:C({},_.showline,{dflt:!0}),linecolor:_.linecolor,linewidth:_.linewidth,showgrid:C({},_.showgrid,{dflt:!0}),gridcolor:_.gridcolor,gridwidth:_.gridwidth,griddash:_.griddash},"plot","from-root"),p=A({ticklen:_.ticklen,tickwidth:C({},_.tickwidth,{dflt:2}),tickcolor:_.tickcolor,showticklabels:_.showticklabels,labelalias:_.labelalias,showtickprefix:_.showtickprefix,tickprefix:_.tickprefix,showticksuffix:_.showticksuffix,ticksuffix:_.ticksuffix,tickfont:_.tickfont,tickformat:_.tickformat,hoverformat:_.hoverformat,layer:_.layer},"plot","from-root"),t=C({visible:C({},_.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:C({},_.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,p),r=C({visible:C({},_.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:_.ticks,editType:"calc"},v,p);G.exports={domain:a({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:g.background},realaxis:t,imaginaryaxis:r,editType:"calc"}},9558:function(G,V,e){var g=e(71828),_=e(7901),a=e(44467),C=e(49119),A=e(27659).NG,v=e(89426),p=e(96115),t=e(92128),r=e(21994),s=e(33419),n=e(39779),i=n.axisNames,f=y(function(c){return c.slice().reverse().map(function(T){return-T}).concat([0]).concat(c)},String);function u(c,T,h,l){var d=h("bgcolor");l.bgColor=_.combine(d,l.paper_bgcolor);var E=A(l.fullData,n.name,l.id),S=l.layoutOut,P;function x(H,Y){return h(P+"."+H,Y)}for(var M=0;M<i.length;M++){P=i[M],g.isPlainObject(c[P])||(c[P]={});var w=c[P],o=a.newContainer(T,P);o._id=o._name=P,o._attr=l.id+"."+P,o._traceIndices=E.map(function(H){return H._expandedIndex});var L=x("visible");if(o.type="linear",r(o,S),v(w,o,x,o.type),L){var m=P==="realaxis";if(m&&x("side"),m)x("tickvals");else{var F=f(T.realaxis.tickvals||s.realaxis.tickvals.dflt);x("tickvals",F)}var I,U,z,N,B=l.font||{};L&&(I=x("color"),U=I===w.color?I:B.color,z=B.size,N=B.family),p(w,o,x,o.type,{noTicklabelstep:!0,noAng:!m,noExp:!0,font:{color:U,size:z,family:N}}),g.coerce2(c,T,s,P+".ticklen"),g.coerce2(c,T,s,P+".tickwidth"),g.coerce2(c,T,s,P+".tickcolor",T.color);var O=x("ticks");O||(delete T[P].ticklen,delete T[P].tickwidth,delete T[P].tickcolor),t(w,o,x,{dfltColor:I,bgColor:l.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:s[P]}),x("layer")}x("hoverformat"),delete o.type,o._input=w}}G.exports=function(T,h,l){C(T,h,l,{noUirevision:!0,type:n.name,attributes:s,handleDefaults:u,font:h.font,paper_bgcolor:h.paper_bgcolor,fullData:l,layoutOut:h})};function y(c,T){var h={};return function(l){var d=T?T(l):l;if(d in h)return h[d];var E=c(l);return h[d]=E,E}}},49119:function(G,V,e){var g=e(71828),_=e(44467),a=e(27670).c;G.exports=function(A,v,p,t){var r=t.type,s=t.attributes,n=t.handleDefaults,i=t.partition||"x",f=v._subplots[r],u=f.length,y=u&&f[0].replace(/\d+$/,""),c,T;function h(S,P){return g.coerce(c,T,s,S,P)}for(var l=0;l<u;l++){var d=f[l];A[d]?c=A[d]:c=A[d]={},T=_.newContainer(v,d,y),t.noUirevision||h("uirevision",v.uirevision);var E={};E[i]=[l/u,(l+1)/u],a(T,v,h,E),t.id=d,n(c,T,h,t)}}},5386:function(G,V,e){var g=e(31562);g.FORMAT_LINK,g.DATE_FORMAT_LINK;function _(a){var C=a.description?" "+a.description:"",A=a.keys||[];if(A.length>0){for(var v=[],p=0;p<A.length;p++)v[p]="`"+A[p]+"`";C=C+"Finally, the template string has access to ",A.length===1?C=C+"variable "+v[0]:C=C+"variables "+v.slice(0,-1).join(", ")+" and "+v.slice(-1)+"."}return C}V.fF=function(a,C){a=a||{},C=C||{},_(C);var A={valType:"string",dflt:"",editType:a.editType||"none"};return a.arrayOk!==!1&&(A.arrayOk=!0),A},V.si=function(a,C){a=a||{},C=C||{},_(C);var A={valType:"string",dflt:"",editType:a.editType||"calc"};return a.arrayOk!==!1&&(A.arrayOk=!0),A},V.R=function(a,C){a=a||{},C=C||{},a.newshape,_(C);var A={valType:"string",dflt:"",editType:a.editType||"arraydraw"};return A}},61639:function(G,V,e){var g=e(64380),_=e(27659).AU,a=e(71828).counterRegex,C="ternary";V.name=C;var A=V.attr="subplot";V.idRoot=C,V.idRegex=V.attrRegex=a(C);var v=V.attributes={};v[A]={valType:"subplotid",dflt:"ternary",editType:"calc"},V.layoutAttributes=e(81367),V.supplyLayoutDefaults=e(25369),V.plot=function(t){for(var r=t._fullLayout,s=t.calcdata,n=r._subplots[C],i=0;i<n.length;i++){var f=n[i],u=_(s,C,f),y=r[f]._subplot;y||(y=new g({id:f,graphDiv:t,container:r._ternarylayer.node()},r),r[f]._subplot=y),y.plot(u,r,t._promises)}},V.clean=function(p,t,r,s){for(var n=s._subplots[C]||[],i=0;i<n.length;i++){var f=n[i],u=s[f]._subplot;!t[f]&&u&&(u.plotContainer.remove(),u.clipDef.remove(),u.clipDefRelative.remove(),u.layers["a-title"].remove(),u.layers["b-title"].remove(),u.layers["c-title"].remove())}}},81367:function(G,V,e){var g=e(22399),_=e(27670).Y,a=e(13838),C=e(30962).overrideAll,A=e(1426).extendFlat,v={title:{text:a.title.text,font:a.title.font},color:a.color,tickmode:a.minor.tickmode,nticks:A({},a.nticks,{dflt:6,min:1}),tick0:a.tick0,dtick:a.dtick,tickvals:a.tickvals,ticktext:a.ticktext,ticks:a.ticks,ticklen:a.ticklen,tickwidth:a.tickwidth,tickcolor:a.tickcolor,ticklabelstep:a.ticklabelstep,showticklabels:a.showticklabels,labelalias:a.labelalias,showtickprefix:a.showtickprefix,tickprefix:a.tickprefix,showticksuffix:a.showticksuffix,ticksuffix:a.ticksuffix,showexponent:a.showexponent,exponentformat:a.exponentformat,minexponent:a.minexponent,separatethousands:a.separatethousands,tickfont:a.tickfont,tickangle:a.tickangle,tickformat:a.tickformat,tickformatstops:a.tickformatstops,hoverformat:a.hoverformat,showline:A({},a.showline,{dflt:!0}),linecolor:a.linecolor,linewidth:a.linewidth,showgrid:A({},a.showgrid,{dflt:!0}),gridcolor:a.gridcolor,gridwidth:a.gridwidth,griddash:a.griddash,layer:a.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:a._deprecated.title,titlefont:a._deprecated.titlefont}},p=G.exports=C({domain:_({name:"ternary"}),bgcolor:{valType:"color",dflt:g.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");p.uirevision={valType:"any",editType:"none"},p.aaxis.uirevision=p.baxis.uirevision=p.caxis.uirevision={valType:"any",editType:"none"}},25369:function(G,V,e){var g=e(7901),_=e(44467),a=e(71828),C=e(49119),A=e(96115),v=e(89426),p=e(38701),t=e(26218),r=e(92128),s=e(81367),n=["aaxis","baxis","caxis"];G.exports=function(y,c,T){C(y,c,T,{type:"ternary",attributes:s,handleDefaults:i,font:c.font,paper_bgcolor:c.paper_bgcolor})};function i(u,y,c,T){var h=c("bgcolor"),l=c("sum");T.bgColor=g.combine(h,T.paper_bgcolor);for(var d,E,S,P=0;P<n.length;P++)d=n[P],E=u[d]||{},S=_.newContainer(y,d),S._name=d,f(E,S,T,y);var x=y.aaxis,M=y.baxis,w=y.caxis;x.min+M.min+w.min>=l&&(x.min=0,M.min=0,w.min=0,u.aaxis&&delete u.aaxis.min,u.baxis&&delete u.baxis.min,u.caxis&&delete u.caxis.min)}function f(u,y,c,T){var h=s[y._name];function l(o,L){return a.coerce(u,y,h,o,L)}l("uirevision",T.uirevision),y.type="linear";var d=l("color"),E=d!==h.color.dflt?d:c.font.color,S=y._name,P=S.charAt(0).toUpperCase(),x="Component "+P,M=l("title.text",x);y._hovertitle=M===x?M:P,a.coerceFont(l,"title.font",{family:c.font.family,size:a.bigFont(c.font.size),color:E}),l("min"),t(u,y,l,"linear"),v(u,y,l,"linear"),A(u,y,l,"linear"),p(u,y,l,{outerTicks:!0});var w=l("showticklabels");w&&(a.coerceFont(l,"tickfont",{family:c.font.family,size:c.font.size,color:E}),l("tickangle"),l("tickformat")),r(u,y,l,{dfltColor:d,bgColor:c.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:h}),l("hoverformat"),l("layer")}},64380:function(G,V,e){var g=e(39898),_=e(84267),a=e(73972),C=e(71828),A=C.strTranslate,v=C._,p=e(7901),t=e(91424),r=e(21994),s=e(1426).extendFlat,n=e(74875),i=e(89298),f=e(28569),u=e(30211),y=e(64505),c=y.freeMode,T=y.rectMode,h=e(92998),l=e(47322).prepSelect,d=e(47322).selectOnClick,E=e(47322).clearOutline,S=e(47322).clearSelectionsCache,P=e(85555);function x(B,O){this.id=B.id,this.graphDiv=B.graphDiv,this.init(O),this.makeFramework(O),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}G.exports=x;var M=x.prototype;M.init=function(B){this.container=B._ternarylayer,this.defs=B._defs,this.layoutId=B._uid,this.traceHash={},this.layers={}},M.plot=function(B,O){var H=this,Y=O[H.id],J=O._size;H._hasClipOnAxisFalse=!1;for(var re=0;re<B.length;re++){var ie=B[re][0].trace;if(ie.cliponaxis===!1){H._hasClipOnAxisFalse=!0;break}}H.updateLayers(Y),H.adjustLayout(Y,J),n.generalUpdatePerTraceModule(H.graphDiv,H,B,Y),H.layers.plotbg.select("path").call(p.fill,Y.bgcolor)},M.makeFramework=function(B){var O=this,H=O.graphDiv,Y=B[O.id],J=O.clipId="clip"+O.layoutId+O.id,re=O.clipIdRelative="clip-relative"+O.layoutId+O.id;O.clipDef=C.ensureSingleById(B._clips,"clipPath",J,function(ie){ie.append("path").attr("d","M0,0Z")}),O.clipDefRelative=C.ensureSingleById(B._clips,"clipPath",re,function(ie){ie.append("path").attr("d","M0,0Z")}),O.plotContainer=C.ensureSingle(O.container,"g",O.id),O.updateLayers(Y),t.setClipUrl(O.layers.backplot,J,H),t.setClipUrl(O.layers.grids,J,H)},M.updateLayers=function(B){var O=this,H=O.layers,Y=["draglayer","plotbg","backplot","grids"];B.aaxis.layer==="below traces"&&Y.push("aaxis","aline"),B.baxis.layer==="below traces"&&Y.push("baxis","bline"),B.caxis.layer==="below traces"&&Y.push("caxis","cline"),Y.push("frontplot"),B.aaxis.layer==="above traces"&&Y.push("aaxis","aline"),B.baxis.layer==="above traces"&&Y.push("baxis","bline"),B.caxis.layer==="above traces"&&Y.push("caxis","cline");var J=O.plotContainer.selectAll("g.toplevel").data(Y,String),re=["agrid","bgrid","cgrid"];J.enter().append("g").attr("class",function(ie){return"toplevel "+ie}).each(function(ie){var ce=g.select(this);H[ie]=ce,ie==="frontplot"?ce.append("g").classed("scatterlayer",!0):ie==="backplot"?ce.append("g").classed("maplayer",!0):ie==="plotbg"?ce.append("path").attr("d","M0,0Z"):ie==="aline"||ie==="bline"||ie==="cline"?ce.append("path"):ie==="grids"&&re.forEach(function(Q){H[Q]=ce.append("g").classed("grid "+Q,!0)})}),J.order()};var w=Math.sqrt(4/3);M.adjustLayout=function(B,O){var H=this,Y=B.domain,J=(Y.x[0]+Y.x[1])/2,re=(Y.y[0]+Y.y[1])/2,ie=Y.x[1]-Y.x[0],ce=Y.y[1]-Y.y[0],Q=ie*O.w,j=ce*O.h,Z=B.sum,$=B.aaxis.min,te=B.baxis.min,se=B.caxis.min,ee,q,le,oe,he,me;Q>w*j?(oe=j,le=oe*w):(le=Q,oe=le/w),he=ie*le/Q,me=ce*oe/j,ee=O.l+O.w*J-le/2,q=O.t+O.h*(1-re)-oe/2,H.x0=ee,H.y0=q,H.w=le,H.h=oe,H.sum=Z,H.xaxis={type:"linear",range:[$+2*se-Z,Z-$-2*te],domain:[J-he/2,J+he/2],_id:"x"},r(H.xaxis,H.graphDiv._fullLayout),H.xaxis.setScale(),H.xaxis.isPtWithinRange=function(Ze){return Ze.a>=H.aaxis.range[0]&&Ze.a<=H.aaxis.range[1]&&Ze.b>=H.baxis.range[1]&&Ze.b<=H.baxis.range[0]&&Ze.c>=H.caxis.range[1]&&Ze.c<=H.caxis.range[0]},H.yaxis={type:"linear",range:[$,Z-te-se],domain:[re-me/2,re+me/2],_id:"y"},r(H.yaxis,H.graphDiv._fullLayout),H.yaxis.setScale(),H.yaxis.isPtWithinRange=function(){return!0};var Ce=H.yaxis.domain[0],Ae=H.aaxis=s({},B.aaxis,{range:[$,Z-te-se],side:"left",tickangle:(+B.aaxis.tickangle||0)-30,domain:[Ce,Ce+me*w],anchor:"free",position:0,_id:"y",_length:le});r(Ae,H.graphDiv._fullLayout),Ae.setScale();var Ue=H.baxis=s({},B.baxis,{range:[Z-$-se,te],side:"bottom",domain:H.xaxis.domain,anchor:"free",position:0,_id:"x",_length:le});r(Ue,H.graphDiv._fullLayout),Ue.setScale();var Ve=H.caxis=s({},B.caxis,{range:[Z-$-te,se],side:"right",tickangle:(+B.caxis.tickangle||0)+30,domain:[Ce,Ce+me*w],anchor:"free",position:0,_id:"y",_length:le});r(Ve,H.graphDiv._fullLayout),Ve.setScale();var Pe="M"+ee+","+(q+oe)+"h"+le+"l-"+le/2+",-"+oe+"Z";H.clipDef.select("path").attr("d",Pe),H.layers.plotbg.select("path").attr("d",Pe);var be="M0,"+oe+"h"+le+"l-"+le/2+",-"+oe+"Z";H.clipDefRelative.select("path").attr("d",be);var Le=A(ee,q);H.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Le),H.clipDefRelative.select("path").attr("transform",null);var We=A(ee-Ue._offset,q+oe);H.layers.baxis.attr("transform",We),H.layers.bgrid.attr("transform",We);var je=A(ee+le/2,q)+"rotate(30)"+A(0,-Ae._offset);H.layers.aaxis.attr("transform",je),H.layers.agrid.attr("transform",je);var Fe=A(ee+le/2,q)+"rotate(-30)"+A(0,-Ve._offset);H.layers.caxis.attr("transform",Fe),H.layers.cgrid.attr("transform",Fe),H.drawAxes(!0),H.layers.aline.select("path").attr("d",Ae.showline?"M"+ee+","+(q+oe)+"l"+le/2+",-"+oe:"M0,0").call(p.stroke,Ae.linecolor||"#000").style("stroke-width",(Ae.linewidth||0)+"px"),H.layers.bline.select("path").attr("d",Ue.showline?"M"+ee+","+(q+oe)+"h"+le:"M0,0").call(p.stroke,Ue.linecolor||"#000").style("stroke-width",(Ue.linewidth||0)+"px"),H.layers.cline.select("path").attr("d",Ve.showline?"M"+(ee+le/2)+","+q+"l"+le/2+","+oe:"M0,0").call(p.stroke,Ve.linecolor||"#000").style("stroke-width",(Ve.linewidth||0)+"px"),H.graphDiv._context.staticPlot||H.initInteractions(),t.setClipUrl(H.layers.frontplot,H._hasClipOnAxisFalse?null:H.clipId,H.graphDiv)},M.drawAxes=function(B){var O=this,H=O.graphDiv,Y=O.id.substr(7)+"title",J=O.layers,re=O.aaxis,ie=O.baxis,ce=O.caxis;if(O.drawAx(re),O.drawAx(ie),O.drawAx(ce),B){var Q=Math.max(re.showticklabels?re.tickfont.size/2:0,(ce.showticklabels?ce.tickfont.size*.75:0)+(ce.ticks==="outside"?ce.ticklen*.87:0)),j=(ie.showticklabels?ie.tickfont.size:0)+(ie.ticks==="outside"?ie.ticklen:0)+3;J["a-title"]=h.draw(H,"a"+Y,{propContainer:re,propName:O.id+".aaxis.title",placeholder:v(H,"Click to enter Component A title"),attributes:{x:O.x0+O.w/2,y:O.y0-re.title.font.size/3-Q,"text-anchor":"middle"}}),J["b-title"]=h.draw(H,"b"+Y,{propContainer:ie,propName:O.id+".baxis.title",placeholder:v(H,"Click to enter Component B title"),attributes:{x:O.x0-j,y:O.y0+O.h+ie.title.font.size*.83+j,"text-anchor":"middle"}}),J["c-title"]=h.draw(H,"c"+Y,{propContainer:ce,propName:O.id+".caxis.title",placeholder:v(H,"Click to enter Component C title"),attributes:{x:O.x0+O.w+j,y:O.y0+O.h+ce.title.font.size*.83+j,"text-anchor":"middle"}})}},M.drawAx=function(B){var O=this,H=O.graphDiv,Y=B._name,J=Y.charAt(0),re=B._id,ie=O.layers[Y],ce=30,Q=J+"tickLayout",j=o(B);O[Q]!==j&&(ie.selectAll("."+re+"tick").remove(),O[Q]=j),B.setScale();var Z=i.calcTicks(B),$=i.clipEnds(B,Z),te=i.makeTransTickFn(B),se=i.getTickSigns(B)[2],ee=C.deg2rad(ce),q=se*(B.linewidth||1)/2,le=se*B.ticklen,oe=O.w,he=O.h,me=J==="b"?"M0,"+q+"l"+Math.sin(ee)*le+","+Math.cos(ee)*le:"M"+q+",0l"+Math.cos(ee)*le+","+-Math.sin(ee)*le,Ce={a:"M0,0l"+he+",-"+oe/2,b:"M0,0l-"+oe/2+",-"+he,c:"M0,0l-"+he+","+oe/2}[J];i.drawTicks(H,B,{vals:B.ticks==="inside"?$:Z,layer:ie,path:me,transFn:te,crisp:!1}),i.drawGrid(H,B,{vals:$,layer:O.layers[J+"grid"],path:Ce,transFn:te,crisp:!1}),i.drawLabels(H,B,{vals:Z,layer:ie,transFn:te,labelFns:i.makeLabelFns(B,0,ce)})};function o(B){return B.ticks+String(B.ticklen)+String(B.showticklabels)}var L=P.MINZOOM/2+.87,m="m-0.87,.5h"+L+"v3h-"+(L+5.2)+"l"+(L/2+2.6)+",-"+(L*.87+4.5)+"l2.6,1.5l-"+L/2+","+L*.87+"Z",F="m0.87,.5h-"+L+"v3h"+(L+5.2)+"l-"+(L/2+2.6)+",-"+(L*.87+4.5)+"l-2.6,1.5l"+L/2+","+L*.87+"Z",I="m0,1l"+L/2+","+L*.87+"l2.6,-1.5l-"+(L/2+2.6)+",-"+(L*.87+4.5)+"l-"+(L/2+2.6)+","+(L*.87+4.5)+"l2.6,1.5l"+L/2+",-"+L*.87+"Z",U="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",z=!0;M.clearOutline=function(){S(this.dragOptions),E(this.dragOptions.gd)},M.initInteractions=function(){var B=this,O=B.layers.plotbg.select("path").node(),H=B.graphDiv,Y=H._fullLayout._zoomlayer,J,re;this.dragOptions={element:O,gd:H,plotinfo:{id:B.id,domain:H._fullLayout[B.id].domain,xaxis:B.xaxis,yaxis:B.yaxis},subplot:B.id,prepFn:function(We,je,Fe){B.dragOptions.xaxes=[B.xaxis],B.dragOptions.yaxes=[B.yaxis],J=H._fullLayout._invScaleX,re=H._fullLayout._invScaleY;var Ze=B.dragOptions.dragmode=H._fullLayout.dragmode;c(Ze)?B.dragOptions.minDrag=1:B.dragOptions.minDrag=void 0,Ze==="zoom"?(B.dragOptions.moveFn=Ue,B.dragOptions.clickFn=oe,B.dragOptions.doneFn=Ve,he(We,je,Fe)):Ze==="pan"?(B.dragOptions.moveFn=be,B.dragOptions.clickFn=oe,B.dragOptions.doneFn=Le,Pe(),B.clearOutline(H)):(T(Ze)||c(Ze))&&l(We,je,Fe,B.dragOptions,Ze)}};var ie,ce,Q,j,Z,$,te,se,ee,q;function le(We){var je={};return je[B.id+".aaxis.min"]=We.a,je[B.id+".baxis.min"]=We.b,je[B.id+".caxis.min"]=We.c,je}function oe(We,je){var Fe=H._fullLayout.clickmode;N(H),We===2&&(H.emit("plotly_doubleclick",null),a.call("_guiRelayout",H,le({a:0,b:0,c:0}))),Fe.indexOf("select")>-1&&We===1&&d(je,H,[B.xaxis],[B.yaxis],B.id,B.dragOptions),Fe.indexOf("event")>-1&&u.click(H,je,B.id)}function he(We,je,Fe){var Ze=O.getBoundingClientRect();ie=je-Ze.left,ce=Fe-Ze.top,H._fullLayout._calcInverseTransform(H);var ut=H._fullLayout._invTransform,at=C.apply3DTransform(ut)(ie,ce);ie=at[0],ce=at[1],Q={a:B.aaxis.range[0],b:B.baxis.range[1],c:B.caxis.range[1]},Z=Q,j=B.aaxis.range[1]-Q.a,$=_(B.graphDiv._fullLayout[B.id].bgcolor).getLuminance(),te="M0,"+B.h+"L"+B.w/2+", 0L"+B.w+","+B.h+"Z",se=!1,ee=Y.append("path").attr("class","zoombox").attr("transform",A(B.x0,B.y0)).style({fill:$>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",te),q=Y.append("path").attr("class","zoombox-corners").attr("transform",A(B.x0,B.y0)).style({fill:p.background,stroke:p.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),B.clearOutline(H)}function me(We,je){return 1-je/B.h}function Ce(We,je){return 1-(We+(B.h-je)/Math.sqrt(3))/B.w}function Ae(We,je){return(We-(B.h-je)/Math.sqrt(3))/B.w}function Ue(We,je){var Fe=ie+We*J,Ze=ce+je*re,ut=Math.max(0,Math.min(1,me(ie,ce),me(Fe,Ze))),at=Math.max(0,Math.min(1,Ce(ie,ce),Ce(Fe,Ze))),it=Math.max(0,Math.min(1,Ae(ie,ce),Ae(Fe,Ze))),$e=(ut/2+it)*B.w,st=(1-ut/2-at)*B.w,ct=($e+st)/2,vt=st-$e,St=(1-ut)*B.h,Mt=St-vt/w;vt<P.MINZOOM?(Z=Q,ee.attr("d",te),q.attr("d","M0,0Z")):(Z={a:Q.a+ut*j,b:Q.b+at*j,c:Q.c+it*j},ee.attr("d",te+"M"+$e+","+St+"H"+st+"L"+ct+","+Mt+"L"+$e+","+St+"Z"),q.attr("d","M"+ie+","+ce+U+"M"+$e+","+St+m+"M"+st+","+St+F+"M"+ct+","+Mt+I)),se||(ee.transition().style("fill",$>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),q.transition().style("opacity",1).duration(200),se=!0),H.emit("plotly_relayouting",le(Z))}function Ve(){N(H),Z!==Q&&(a.call("_guiRelayout",H,le(Z)),z&&H.data&&H._context.showTips&&(C.notifier(v(H,"Double-click to zoom back out"),"long"),z=!1))}function Pe(){Q={a:B.aaxis.range[0],b:B.baxis.range[1],c:B.caxis.range[1]},Z=Q}function be(We,je){var Fe=We/B.xaxis._m,Ze=je/B.yaxis._m;Z={a:Q.a-Ze,b:Q.b+(Fe+Ze)/2,c:Q.c-(Fe-Ze)/2};var ut=[Z.a,Z.b,Z.c].sort(C.sorterAsc),at={a:ut.indexOf(Z.a),b:ut.indexOf(Z.b),c:ut.indexOf(Z.c)};ut[0]<0&&(ut[1]+ut[0]/2<0?(ut[2]+=ut[0]+ut[1],ut[0]=ut[1]=0):(ut[2]+=ut[0]/2,ut[1]+=ut[0]/2,ut[0]=0),Z={a:ut[at.a],b:ut[at.b],c:ut[at.c]},je=(Q.a-Z.a)*B.yaxis._m,We=(Q.c-Z.c-Q.b+Z.b)*B.xaxis._m);var it=A(B.x0+We,B.y0+je);B.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",it);var $e=A(-We,-je);B.clipDefRelative.select("path").attr("transform",$e),B.aaxis.range=[Z.a,B.sum-Z.b-Z.c],B.baxis.range=[B.sum-Z.a-Z.c,Z.b],B.caxis.range=[B.sum-Z.a-Z.b,Z.c],B.drawAxes(!1),B._hasClipOnAxisFalse&&B.plotContainer.select(".scatterlayer").selectAll(".trace").call(t.hideOutsideRangePoints,B),H.emit("plotly_relayouting",le(Z))}function Le(){a.call("_guiRelayout",H,le(Z))}O.onmousemove=function(We){u.hover(H,We,B.id),H._fullLayout._lasthover=O,H._fullLayout._hoversubplot=B.id},O.onmouseout=function(We){H._dragging||f.unhover(H,We)},f.init(this.dragOptions)};function N(B){g.select(B).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},73972:function(G,V,e){var g=e(47769),_=e(64213),a=e(75138),C=e(41965),A=e(24401).addStyleRule,v=e(1426),p=e(9012),t=e(10820),r=v.extendFlat,s=v.extendDeepAll;V.modules={},V.allCategories={},V.allTypes=[],V.subplotsRegistry={},V.transformsRegistry={},V.componentsRegistry={},V.layoutArrayContainers=[],V.layoutArrayRegexes=[],V.traceLayoutAttributes={},V.localeRegistry={},V.apiMethodRegistry={},V.collectableSubplotTypes=null,V.register=function(S){if(V.collectableSubplotTypes=null,S)S&&!Array.isArray(S)&&(S=[S]);else throw new Error("No argument passed to Plotly.register.");for(var P=0;P<S.length;P++){var x=S[P];if(!x)throw new Error("Invalid module was attempted to be registered!");switch(x.moduleType){case"trace":n(x);break;case"transform":u(x);break;case"component":f(x);break;case"locale":y(x);break;case"apiMethod":var M=x.name;V.apiMethodRegistry[M]=x.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},V.getModule=function(E){var S=V.modules[d(E)];return S?S._module:!1},V.traceIs=function(E,S){if(E=d(E),E==="various")return!1;var P=V.modules[E];return P||(E&&g.log("Unrecognized trace type "+E+"."),P=V.modules[p.type.dflt]),!!P.categories[S]},V.getTransformIndices=function(E,S){for(var P=[],x=E.transforms||[],M=0;M<x.length;M++)x[M].type===S&&P.push(M);return P},V.hasTransform=function(E,S){for(var P=E.transforms||[],x=0;x<P.length;x++)if(P[x].type===S)return!0;return!1},V.getComponentMethod=function(E,S){var P=V.componentsRegistry[E];return P&&P[S]||_},V.call=function(){var E=arguments[0],S=[].slice.call(arguments,1);return V.apiMethodRegistry[E].apply(null,S)};function n(E){var S=E.name,P=E.categories,x=E.meta;if(V.modules[S]){g.log("Type "+S+" already registered");return}V.subplotsRegistry[E.basePlotModule.name]||i(E.basePlotModule);for(var M={},w=0;w<P.length;w++)M[P[w]]=!0,V.allCategories[P[w]]=!0;V.modules[S]={_module:E,categories:M},x&&Object.keys(x).length&&(V.modules[S].meta=x),V.allTypes.push(S);for(var o in V.componentsRegistry)T(o,S);E.layoutAttributes&&r(V.traceLayoutAttributes,E.layoutAttributes);var L=E.basePlotModule,m=L.name;if(m==="mapbox"){var F=L.constants.styleRules;for(var I in F)A(".js-plotly-plot .plotly .mapboxgl-"+I,F[I])}(m==="geo"||m==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function i(E){var S=E.name;if(V.subplotsRegistry[S]){g.log("Plot type "+S+" already registered.");return}c(E),V.subplotsRegistry[S]=E;for(var P in V.componentsRegistry)l(P,E.name)}function f(E){if(typeof E.name!="string")throw new Error("Component module *name* must be a string.");var S=E.name;V.componentsRegistry[S]=E,E.layoutAttributes&&(E.layoutAttributes._isLinkedToArray&&a(V.layoutArrayContainers,S),c(E));for(var P in V.modules)T(S,P);for(var x in V.subplotsRegistry)l(S,x);for(var M in V.transformsRegistry)h(S,M);E.schema&&E.schema.layout&&s(t,E.schema.layout)}function u(E){if(typeof E.name!="string")throw new Error("Transform module *name* must be a string.");var S="Transform module "+E.name,P=typeof E.transform=="function",x=typeof E.calcTransform=="function";if(!P&&!x)throw new Error(S+" is missing a *transform* or *calcTransform* method.");P&&x&&g.log([S+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),C(E.attributes)||g.log(S+" registered without an *attributes* object."),typeof E.supplyDefaults!="function"&&g.log(S+" registered without a *supplyDefaults* method."),V.transformsRegistry[E.name]=E;for(var M in V.componentsRegistry)h(M,E.name)}function y(E){var S=E.name,P=S.split("-")[0],x=E.dictionary,M=E.format,w=x&&Object.keys(x).length,o=M&&Object.keys(M).length,L=V.localeRegistry,m=L[S];if(m||(L[S]=m={}),P!==S){var F=L[P];F||(L[P]=F={}),w&&F.dictionary===m.dictionary&&(F.dictionary=x),o&&F.format===m.format&&(F.format=M)}w&&(m.dictionary=x),o&&(m.format=M)}function c(E){if(E.layoutAttributes){var S=E.layoutAttributes._arrayAttrRegexps;if(S)for(var P=0;P<S.length;P++)a(V.layoutArrayRegexes,S[P])}}function T(E,S){var P=V.componentsRegistry[E].schema;if(!(!P||!P.traces)){var x=P.traces[S];x&&s(V.modules[S]._module.attributes,x)}}function h(E,S){var P=V.componentsRegistry[E].schema;if(!(!P||!P.transforms)){var x=P.transforms[S];x&&s(V.transformsRegistry[S].attributes,x)}}function l(E,S){var P=V.componentsRegistry[E].schema;if(!(!P||!P.subplots)){var x=V.subplotsRegistry[S],M=x.layoutAttributes,w=x.attr==="subplot"?x.name:x.attr;Array.isArray(w)&&(w=w[0]);var o=P.subplots[w];M&&o&&s(M,o)}}function d(E){return typeof E=="object"&&(E=E.type),E}},61914:function(G,V,e){var g=e(73972),_=e(71828),a=_.extendFlat,C=_.extendDeep;function A(p){var t;switch(p){case"themes__thumb":t={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}function v(p){var t=["xaxis","yaxis","zaxis"];return t.indexOf(p.slice(0,5))>-1}G.exports=function(t,r){var s,n=t.data,i=t.layout,f=C([],n),u=C({},i,A(r.tileClass)),y=t._context||{};if(r.width&&(u.width=r.width),r.height&&(u.height=r.height),r.tileClass==="thumbnail"||r.tileClass==="themes__thumb"){u.annotations=[];var c=Object.keys(u);for(s=0;s<c.length;s++)v(c[s])&&(u[c[s]].title={text:""});for(s=0;s<f.length;s++){var T=f[s];T.showscale=!1,T.marker&&(T.marker.showscale=!1),g.traceIs(T,"pie-like")&&(T.textposition="none")}}if(Array.isArray(r.annotations))for(s=0;s<r.annotations.length;s++)u.annotations.push(r.annotations[s]);var h=Object.keys(u).filter(function(P){return P.match(/^scene\d*$/)});if(h.length){var l={};for(r.tileClass==="thumbnail"&&(l={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),s=0;s<h.length;s++){var d=u[h[s]];d.xaxis||(d.xaxis={}),d.yaxis||(d.yaxis={}),d.zaxis||(d.zaxis={}),a(d.xaxis,l),a(d.yaxis,l),a(d.zaxis,l),d._scene=null}}var E=document.createElement("div");r.tileClass&&(E.className=r.tileClass);var S={gd:E,td:E,layout:u,data:f,config:{staticPlot:r.staticPlot===void 0?!0:r.staticPlot,plotGlPixelRatio:r.plotGlPixelRatio===void 0?2:r.plotGlPixelRatio,displaylogo:r.displaylogo||!1,showLink:r.showLink||!1,showTips:r.showTips||!1,mapboxAccessToken:y.mapboxAccessToken}};return r.setBackground!=="transparent"&&(S.config.setBackground=r.setBackground||"opaque"),S.gd.defaultLayout=A(r.tileClass),S}},7239:function(G,V,e){var g=e(71828),_=e(403),a=e(22435),C=e(25095);function A(v,p){var t;return g.isPlainObject(v)||(t=g.getGraphDiv(v)),p=p||{},p.format=p.format||"png",p.width=p.width||null,p.height=p.height||null,p.imageDataOnly=!0,new Promise(function(r,s){t&&t._snapshotInProgress&&s(new Error("Snapshotting already in progress.")),g.isIE()&&p.format!=="svg"&&s(new Error(C.MSG_IE_BAD_FORMAT)),t&&(t._snapshotInProgress=!0);var n=_(v,p),i=p.filename||v.fn||"newplot";i+="."+p.format.replace("-","."),n.then(function(f){return t&&(t._snapshotInProgress=!1),a(f,i,p.format)}).then(function(f){r(f)}).catch(function(f){t&&(t._snapshotInProgress=!1),s(f)})})}G.exports=A},22435:function(G,V,e){var g=e(71828),_=e(25095);function a(C,A,v){var p=document.createElement("a"),t="download"in p,r=new Promise(function(s,n){var i,f;if(g.isIE())return i=_.createBlob(C,"svg"),window.navigator.msSaveBlob(i,A),i=null,s(A);if(t)return i=_.createBlob(C,v),f=_.createObjectURL(i),p.href=f,p.download=A,document.body.appendChild(p),p.click(),document.body.removeChild(p),_.revokeObjectURL(f),i=null,s(A);if(g.isSafari()){var u=v==="svg"?",":";base64,";return _.octetStream(u+encodeURIComponent(C)),s(A)}n(new Error("download error"))});return r}G.exports=a},25095:function(G,V,e){var g=e(73972);V.getDelay=function(C){return C._has&&(C._has("gl3d")||C._has("gl2d")||C._has("mapbox"))?500:0},V.getRedrawFunc=function(C){return function(){g.getComponentMethod("colorbar","draw")(C)}},V.encodeSVG=function(C){return"data:image/svg+xml,"+encodeURIComponent(C)},V.encodeJSON=function(C){return"data:application/json,"+encodeURIComponent(C)};var _=window.URL||window.webkitURL;V.createObjectURL=function(C){return _.createObjectURL(C)},V.revokeObjectURL=function(C){return _.revokeObjectURL(C)},V.createBlob=function(C,A){if(A==="svg")return new window.Blob([C],{type:"image/svg+xml;charset=utf-8"});if(A==="full-json")return new window.Blob([C],{type:"application/json;charset=utf-8"});var v=a(window.atob(C));return new window.Blob([v],{type:"image/"+A})},V.octetStream=function(C){document.location.href="data:application/octet-stream"+C};function a(C){for(var A=C.length,v=new ArrayBuffer(A),p=new Uint8Array(v),t=0;t<A;t++)p[t]=C.charCodeAt(t);return v}V.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,V.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(G,V,e){var g=e(25095),_={getDelay:g.getDelay,getRedrawFunc:g.getRedrawFunc,clone:e(61914),toSVG:e(5900),svgToImg:e(70942),toImage:e(56395),downloadImage:e(7239)};G.exports=_},70942:function(G,V,e){var g=e(71828),_=e(15398).EventEmitter,a=e(25095);function C(A){var v=A.emitter||new _,p=new Promise(function(t,r){var s=window.Image,n=A.svg,i=A.format||"png";if(g.isIE()&&i!=="svg"){var f=new Error(a.MSG_IE_BAD_FORMAT);return r(f),A.promise?p:v.emit("error",f)}var u=A.canvas,y=A.scale||1,c=A.width||300,T=A.height||150,h=y*c,l=y*T,d=u.getContext("2d",{willReadFrequently:!0}),E=new s,S,P;i==="svg"||g.isSafari()?P=a.encodeSVG(n):(S=a.createBlob(n,"svg"),P=a.createObjectURL(S)),u.width=h,u.height=l,E.onload=function(){var x;switch(S=null,a.revokeObjectURL(P),i!=="svg"&&d.drawImage(E,0,0,h,l),i){case"jpeg":x=u.toDataURL("image/jpeg");break;case"png":x=u.toDataURL("image/png");break;case"webp":x=u.toDataURL("image/webp");break;case"svg":x=P;break;default:var M="Image format is not jpeg, png, svg or webp.";if(r(new Error(M)),!A.promise)return v.emit("error",M)}t(x),A.promise||v.emit("success",x)},E.onerror=function(x){if(S=null,a.revokeObjectURL(P),r(x),!A.promise)return v.emit("error",x)},E.src=P});return A.promise?p:v}G.exports=C},56395:function(G,V,e){var g=e(15398).EventEmitter,_=e(73972),a=e(71828),C=e(25095),A=e(61914),v=e(5900),p=e(70942);function t(r,s){var n=new g,i=A(r,{format:"png"}),f=i.gd;f.style.position="absolute",f.style.left="-5000px",document.body.appendChild(f);function u(){var c=C.getDelay(f._fullLayout);setTimeout(function(){var T=v(f),h=document.createElement("canvas");h.id=a.randstr(),n=p({format:s.format,width:f._fullLayout.width,height:f._fullLayout.height,canvas:h,emitter:n,svg:T}),n.clean=function(){f&&document.body.removeChild(f)}},c)}var y=C.getRedrawFunc(f);return _.call("_doPlot",f,i.data,i.layout,i.config).then(y).then(u).catch(function(c){n.emit("error",c)}),n}G.exports=t},5900:function(G,V,e){var g=e(39898),_=e(71828),a=e(91424),C=e(7901),A=e(77922),v=/"/g,p="TOBESTRIPPED",t=new RegExp('("'+p+")|("+p+'")',"g");function r(n){var i=g.select("body").append("div").style({display:"none"}).html(""),f=n.replace(/(&[^;]*;)/gi,function(u){return u==="&lt;"?"&#60;":u==="&rt;"?"&#62;":u.indexOf("<")!==-1||u.indexOf(">")!==-1?"":i.html(u).text()});return i.remove(),f}function s(n){return n.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}G.exports=function(i,f,u){var y=i._fullLayout,c=y._paper,T=y._toppaper,h=y.width,l=y.height,d;c.insert("rect",":first-child").call(a.setRect,0,0,h,l).call(C.fill,y.paper_bgcolor);var E=y._basePlotModules||[];for(d=0;d<E.length;d++){var S=E[d];S.toSVG&&S.toSVG(i)}if(T){var P=T.node().childNodes,x=Array.prototype.slice.call(P);for(d=0;d<x.length;d++){var M=x[d];M.childNodes.length&&c.node().appendChild(M)}}y._draggers&&y._draggers.remove(),c.node().style.background="",c.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var o=g.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){o.remove();return}else o.style({visibility:null,display:null});var L=this.style.fontFamily;L&&L.indexOf('"')!==-1&&o.style("font-family",L.replace(v,p))}),c.selectAll(".gradient_filled,.pattern_filled").each(function(){var o=g.select(this),L=this.style.fill;L&&L.indexOf("url(")!==-1&&o.style("fill",L.replace(v,p));var m=this.style.stroke;m&&m.indexOf("url(")!==-1&&o.style("stroke",m.replace(v,p))}),(f==="pdf"||f==="eps")&&c.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),c.node().setAttributeNS(A.xmlns,"xmlns",A.svg),c.node().setAttributeNS(A.xmlns,"xmlns:xlink",A.xlink),f==="svg"&&u&&(c.attr("width",u*h),c.attr("height",u*l),c.attr("viewBox","0 0 "+h+" "+l));var w=new window.XMLSerializer().serializeToString(c.node());return w=r(w),w=s(w),w=w.replace(t,"'"),_.isIE()&&(w=w.replace(/"/gi,"'"),w=w.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),w=w.replace(/(\\')/gi,'"')),w}},75341:function(G,V,e){var g=e(71828);G.exports=function(a,C){for(var A=0;A<a.length;A++)a[A].i=A;g.mergeArray(C.text,a,"tx"),g.mergeArray(C.hovertext,a,"htx");var v=C.marker;if(v){g.mergeArray(v.opacity,a,"mo",!0),g.mergeArray(v.color,a,"mc");var p=v.line;p&&(g.mergeArray(p.color,a,"mlc"),g.mergeArrayCastPositive(p.width,a,"mlw"))}}},1486:function(G,V,e){var g=e(82196),_=e(12663).axisHoverFormat,a=e(5386).fF,C=e(5386).si,A=e(50693),v=e(41940),p=e(97313),t=e(79952).u,r=e(1426).extendFlat,s=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=g.marker,i=n.line,f=r({},i.width,{dflt:0}),u=r({width:f,editType:"calc"},A("marker.line")),y=r({line:u,editType:"calc"},A("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:t});G.exports={x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:_("x"),yhoverformat:_("y"),text:g.text,texttemplate:C({editType:"plot"},{keys:p.eventDataKeys}),hovertext:g.hovertext,hovertemplate:a({},{keys:p.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:r({},s,{}),insidetextfont:r({},s,{}),outsidetextfont:r({},s,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:r({},g.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:y,offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:{marker:{opacity:g.selected.marker.opacity,color:g.selected.marker.color,editType:"style"},textfont:g.selected.textfont,editType:"style"},unselected:{marker:{opacity:g.unselected.marker.opacity,color:g.unselected.marker.color,editType:"style"},textfont:g.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(G,V,e){var g=e(89298),_=e(42973),a=e(52075).hasColorscale,C=e(78803),A=e(75341),v=e(66279);G.exports=function(t,r){var s=g.getFromId(t,r.xaxis||"x"),n=g.getFromId(t,r.yaxis||"y"),i,f,u,y,c,T,h={msUTC:!!(r.base||r.base===0)};r.orientation==="h"?(i=s.makeCalcdata(r,"x",h),u=n.makeCalcdata(r,"y"),y=_(r,n,"y",u),c=!!r.yperiodalignment,T="y"):(i=n.makeCalcdata(r,"y",h),u=s.makeCalcdata(r,"x"),y=_(r,s,"x",u),c=!!r.xperiodalignment,T="x"),f=y.vals;for(var l=Math.min(f.length,i.length),d=new Array(l),E=0;E<l;E++)d[E]={p:f[E],s:i[E]},c&&(d[E].orig_p=u[E],d[E][T+"End"]=y.ends[E],d[E][T+"Start"]=y.starts[E]),r.ids&&(d[E].id=String(r.ids[E]));return a(r,"marker")&&C(t,r,{vals:r.marker.color,containerStr:"marker",cLetter:"c"}),a(r,"marker.line")&&C(t,r,{vals:r.marker.line.color,containerStr:"marker.line",cLetter:"c"}),A(d,r),v(d,r),d}},97313:function(G){G.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(G,V,e){var g=e(92770),_=e(71828).isArrayOrTypedArray,a=e(50606).BADNUM,C=e(73972),A=e(89298),v=e(99082).getAxisGroup,p=e(61546);function t(w,o){for(var L=o.xaxis,m=o.yaxis,F=w._fullLayout,I=w._fullData,U=w.calcdata,z=[],N=[],B=0;B<I.length;B++){var O=I[B];if(O.visible===!0&&C.traceIs(O,"bar")&&O.xaxis===L._id&&O.yaxis===m._id&&(O.orientation==="h"?z.push(U[B]):N.push(U[B]),O._computePh))for(var H=w.calcdata[B],Y=0;Y<H.length;Y++)typeof H[Y].ph0=="function"&&(H[Y].ph0=H[Y].ph0()),typeof H[Y].ph1=="function"&&(H[Y].ph1=H[Y].ph1())}var J={xCat:L.type==="category"||L.type==="multicategory",yCat:m.type==="category"||m.type==="multicategory",mode:F.barmode,norm:F.barnorm,gap:F.bargap,groupgap:F.bargroupgap};r(w,L,m,N,J),r(w,m,L,z,J)}function r(w,o,L,m,F){if(m.length){var I,U,z,N,B;switch(s(L,m),F.mode){case"overlay":n(o,L,m,F);break;case"group":for(I=[],U=[],z=0;z<m.length;z++)N=m[z],B=N[0].trace,B.offset===void 0?U.push(N):I.push(N);U.length&&i(w,o,L,U,F),I.length&&n(o,L,I,F);break;case"stack":case"relative":for(I=[],U=[],z=0;z<m.length;z++)N=m[z],B=N[0].trace,B.base===void 0?U.push(N):I.push(N);U.length&&f(w,o,L,U,F),I.length&&n(o,L,I,F);break}x(m,o)}}function s(w,o){var L,m;for(L=0;L<o.length;L++){var F=o[L],I=F[0].trace,U=I.type==="funnel"?I._base:I.base,z,N=I.orientation==="h"?I.xcalendar:I.ycalendar,B=w.type==="category"||w.type==="multicategory"?function(){return null}:w.d2c;if(_(U)){for(m=0;m<Math.min(U.length,F.length);m++)z=B(U[m],0,N),g(z)?(F[m].b=+z,F[m].hasB=1):F[m].b=0;for(;m<F.length;m++)F[m].b=0}else{z=B(U,0,N);var O=g(z);for(z=O?z:0,m=0;m<F.length;m++)F[m].b=z,O&&(F[m].hasB=1)}}}function n(w,o,L,m){for(var F=0;F<L.length;F++){var I=L[F],U=new p([I],{posAxis:w,sepNegVal:!1,overlapNoMerge:!m.norm});u(w,U,m),m.norm?(E(U),P(o,U,m)):l(o,U)}}function i(w,o,L,m,F){var I=new p(m,{posAxis:o,sepNegVal:!1,overlapNoMerge:!F.norm});y(w,o,I,F),S(I,o),F.norm?(E(I),P(L,I,F)):l(L,I)}function f(w,o,L,m,F){var I=new p(m,{posAxis:o,sepNegVal:F.mode==="relative",overlapNoMerge:!(F.norm||F.mode==="stack"||F.mode==="relative")});u(o,I,F),d(L,I,F);for(var U=0;U<m.length;U++)for(var z=m[U],N=0;N<z.length;N++){var B=z[N];if(B.s!==a){var O=B.b+B.s===I.get(B.p,B.s);O&&(B._outmost=!0)}}F.norm&&P(L,I,F)}function u(w,o,L){for(var m=o.minDiff,F=o.traces,I=m*(1-L.gap),U=I,z=U*(1-(L.groupgap||0)),N=-z/2,B=0;B<F.length;B++){var O=F[B],H=O[0].t;H.barwidth=z,H.poffset=N,H.bargroupwidth=I,H.bardelta=m}o.binWidth=F[0][0].t.barwidth/100,c(o),T(w,o),h(w,o)}function y(w,o,L,m){for(var F=w._fullLayout,I=L.positions,U=L.distinctPositions,z=L.minDiff,N=L.traces,B=N.length,O=I.length!==U.length,H=z*(1-m.gap),Y=v(F,o._id)+N[0][0].trace.orientation,J=F._alignmentOpts[Y]||{},re=0;re<B;re++){var ie=N[re],ce=ie[0].trace,Q=J[ce.alignmentgroup]||{},j=Object.keys(Q.offsetGroups||{}).length,Z;j?Z=H/j:Z=O?H/B:H;var $=Z*(1-(m.groupgap||0)),te;j?te=((2*ce._offsetIndex+1-j)*Z-$)/2:te=O?((2*re+1-B)*Z-$)/2:-$/2;var se=ie[0].t;se.barwidth=$,se.poffset=te,se.bargroupwidth=H,se.bardelta=z}L.binWidth=N[0][0].t.barwidth/100,c(L),T(o,L),h(o,L,O)}function c(w){var o=w.traces,L,m;for(L=0;L<o.length;L++){var F=o[L],I=F[0],U=I.trace,z=I.t,N=U._offset||U.offset,B=z.poffset,O;if(_(N)){for(O=Array.prototype.slice.call(N,0,F.length),m=0;m<O.length;m++)g(O[m])||(O[m]=B);for(m=O.length;m<F.length;m++)O.push(B);z.poffset=O}else N!==void 0&&(z.poffset=N);var H=U._width||U.width,Y=z.barwidth;if(_(H)){var J=Array.prototype.slice.call(H,0,F.length);for(m=0;m<J.length;m++)g(J[m])||(J[m]=Y);for(m=J.length;m<F.length;m++)J.push(Y);if(z.barwidth=J,N===void 0){for(O=[],m=0;m<F.length;m++)O.push(B+(Y-J[m])/2);z.poffset=O}}else H!==void 0&&(z.barwidth=H,N===void 0&&(z.poffset=B+(Y-H)/2))}}function T(w,o){for(var L=o.traces,m=M(w),F=0;F<L.length;F++)for(var I=L[F],U=I[0].t,z=U.poffset,N=Array.isArray(z),B=U.barwidth,O=Array.isArray(B),H=0;H<I.length;H++){var Y=I[H],J=Y.w=O?B[H]:B;Y.p===void 0&&(Y.p=Y[m],Y["orig_"+m]=Y[m]);var re=(N?z[H]:z)+J/2;Y[m]=Y.p+re}}function h(w,o,L){var m=o.traces,F=o.minDiff,I=F/2;A.minDtick(w,o.minDiff,o.distinctPositions[0],L);for(var U=0;U<m.length;U++){var z=m[U],N=z[0],B=N.trace,O=[],H,Y,J,re;for(re=0;re<z.length;re++)H=z[re],Y=H.p-I,J=H.p+I,O.push(Y,J);if(B.width||B.offset){var ie=N.t,ce=ie.poffset,Q=ie.barwidth,j=Array.isArray(ce),Z=Array.isArray(Q);for(re=0;re<z.length;re++){H=z[re];var $=j?ce[re]:ce,te=Z?Q[re]:Q;Y=H.p+$,J=Y+te,O.push(Y,J)}}B._extremes[w._id]=A.findExtremes(w,O,{padded:!1})}}function l(w,o){for(var L=o.traces,m=M(w),F=0;F<L.length;F++){for(var I=L[F],U=I[0].trace,z=U.type==="scatter",N=U.orientation==="v",B=[],O=!1,H=0;H<I.length;H++){var Y=I[H],J=z?0:Y.b,re=z?N?Y.y:Y.x:J+Y.s;Y[m]=re,B.push(re),Y.hasB&&B.push(J),(!Y.hasB||!Y.b)&&(O=!0)}U._extremes[w._id]=A.findExtremes(w,B,{tozero:O,padded:!0})}}function d(w,o,L){var m=M(w),F=o.traces,I,U,z,N,B,O;for(N=0;N<F.length;N++)if(I=F[N],U=I[0].trace,U.type==="funnel")for(B=0;B<I.length;B++)O=I[B],O.s!==a&&o.put(O.p,-.5*O.s);for(N=0;N<F.length;N++){I=F[N],U=I[0].trace,z=U.type==="funnel";var H=[];for(B=0;B<I.length;B++)if(O=I[B],O.s!==a){var Y;z?Y=O.s:Y=O.s+O.b;var J=o.put(O.p,Y),re=J+Y;O.b=J,O[m]=re,L.norm||(H.push(re),O.hasB&&H.push(J))}L.norm||(U._extremes[w._id]=A.findExtremes(w,H,{tozero:!0,padded:!0}))}}function E(w){for(var o=w.traces,L=0;L<o.length;L++)for(var m=o[L],F=0;F<m.length;F++){var I=m[F];I.s!==a&&w.put(I.p,I.b+I.s)}}function S(w,o){for(var L=w.traces,m=0;m<L.length;m++){var F=L[m],I=F[0].trace;if(I.base===void 0)for(var U=new p([F],{posAxis:o,sepNegVal:!0,overlapNoMerge:!0}),z=0;z<F.length;z++){var N=F[z];if(N.p!==a){var B=U.put(N.p,N.b+N.s);B&&(N.b=B)}}}}function P(w,o,L){var m=o.traces,F=M(w),I=L.norm==="fraction"?1:100,U=I/1e9,z=w.l2c(w.c2l(0)),N=L.mode==="stack"?I:z;function B(te){return g(w.c2l(te))&&(te<z-U||te>N+U||!g(z))}for(var O=0;O<m.length;O++){for(var H=m[O],Y=H[0].trace,J=[],re=!1,ie=!1,ce=0;ce<H.length;ce++){var Q=H[ce];if(Q.s!==a){var j=Math.abs(I/o.get(Q.p,Q.s));Q.b*=j,Q.s*=j;var Z=Q.b,$=Z+Q.s;Q[F]=$,J.push($),ie=ie||B($),Q.hasB&&(J.push(Z),ie=ie||B(Z)),(!Q.hasB||!Q.b)&&(re=!0)}}Y._extremes[w._id]=A.findExtremes(w,J,{tozero:re,padded:ie})}}function x(w,o){var L=M(o),m={},F,I,U,z=1/0,N=-1/0;for(F=0;F<w.length;F++)for(U=w[F],I=0;I<U.length;I++){var B=U[I].p;g(B)&&(z=Math.min(z,B),N=Math.max(N,B))}var O=1e4/(N-z),H=m.round=function(j){return String(Math.round(O*(j-z)))};for(F=0;F<w.length;F++){U=w[F],U[0].t.extents=m;var Y=U[0].t.poffset,J=Array.isArray(Y);for(I=0;I<U.length;I++){var re=U[I],ie=re[L]-re.w/2;if(g(ie)){var ce=re[L]+re.w/2,Q=H(re.p);m[Q]?m[Q]=[Math.min(ie,m[Q][0]),Math.max(ce,m[Q][1])]:m[Q]=[ie,ce]}re.p0=re.p+(J?Y[I]:Y),re.p1=re.p0+re.w,re.s0=re.b,re.s1=re.s0+re.s}}}function M(w){return w._id.charAt(0)}G.exports={crossTraceCalc:t,setGroupPositions:r}},90769:function(G,V,e){var g=e(71828),_=e(7901),a=e(73972),C=e(67513),A=e(73927),v=e(98340),p=e(26125),t=e(1486),r=g.coerceFont;function s(f,u,y,c){function T(S,P){return g.coerce(f,u,t,S,P)}var h=C(f,u,c,T);if(!h){u.visible=!1;return}A(f,u,c,T),T("xhoverformat"),T("yhoverformat"),T("orientation",u.x&&!u.y?"h":"v"),T("base"),T("offset"),T("width"),T("text"),T("hovertext"),T("hovertemplate");var l=T("textposition");i(f,u,c,T,l,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),v(f,u,T,y,c);var d=(u.marker.line||{}).color,E=a.getComponentMethod("errorbars","supplyDefaults");E(f,u,d||_.defaultLine,{axis:"y"}),E(f,u,d||_.defaultLine,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(u,T)}function n(f,u){var y,c;function T(l){return g.coerce(c._input,c,t,l)}if(u.barmode==="group")for(var h=0;h<f.length;h++)c=f[h],c.type==="bar"&&(y=c._input,p(y,c,u,T))}function i(f,u,y,c,T,h){h=h||{};var l=h.moduleHasSelected!==!1,d=h.moduleHasUnselected!==!1,E=h.moduleHasConstrain!==!1,S=h.moduleHasCliponaxis!==!1,P=h.moduleHasTextangle!==!1,x=h.moduleHasInsideanchor!==!1,M=!!h.hasPathbar,w=Array.isArray(T)||T==="auto",o=w||T==="inside",L=w||T==="outside";if(o||L){var m=r(c,"textfont",y.font),F=g.extendFlat({},m),I=f.textfont&&f.textfont.color,U=!I;if(U&&delete F.color,r(c,"insidetextfont",F),M){var z=g.extendFlat({},m);U&&delete z.color,r(c,"pathbar.textfont",z)}L&&r(c,"outsidetextfont",m),l&&c("selected.textfont.color"),d&&c("unselected.textfont.color"),E&&c("constraintext"),S&&c("cliponaxis"),P&&c("textangle"),c("texttemplate")}o&&x&&c("insidetextanchor")}G.exports={supplyDefaults:s,crossTraceDefaults:n,handleText:i}},58065:function(G){G.exports=function(e,g,_){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),_.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},69383:function(G,V,e){var g=e(92770),_=e(84267),a=e(71828).isArrayOrTypedArray;V.coerceString=function(C,A,v){if(typeof A=="string"){if(A||!C.noBlank)return A}else if((typeof A=="number"||A===!0)&&!C.strict)return String(A);return v!==void 0?v:C.dflt},V.coerceNumber=function(C,A,v){if(g(A)){A=+A;var p=C.min,t=C.max,r=p!==void 0&&A<p||t!==void 0&&A>t;if(!r)return A}return v!==void 0?v:C.dflt},V.coerceColor=function(C,A,v){return _(A).isValid()?A:v!==void 0?v:C.dflt},V.coerceEnumerated=function(C,A,v){return C.coerceNumber&&(A=+A),C.values.indexOf(A)!==-1?A:v!==void 0?v:C.dflt},V.getValue=function(C,A){var v;return Array.isArray(C)?A<C.length&&(v=C[A]):v=C,v},V.getLineWidth=function(C,A){var v=0<A.mlw?A.mlw:a(C.marker.line.width)?0:C.marker.line.width;return v}},95423:function(G,V,e){var g=e(30211),_=e(73972),a=e(7901),C=e(71828).fillText,A=e(69383).getLineWidth,v=e(89298).hoverLabelText,p=e(50606).BADNUM;function t(n,i,f,u,y){var c=r(n,i,f,u,y);if(c){var T=c.cd,h=T[0].trace,l=T[c.index];return c.color=s(h,l),_.getComponentMethod("errorbars","hoverInfo")(l,h,c),[c]}}function r(n,i,f,u,y){var c=n.cd,T=c[0].trace,h=c[0].t,l=u==="closest",d=T.type==="waterfall",E=n.maxHoverDistance,S=n.maxSpikeDistance,P,x,M,w,o,L,m;T.orientation==="h"?(P=f,x=i,M="y",w="x",o=ce,L=J):(P=i,x=f,M="x",w="y",L=ce,o=J);var F=T[M+"period"],I=l||F;function U(he){return N(he,-1)}function z(he){return N(he,1)}function N(he,me){var Ce=he.w;return he[M]+me*Ce/2}function B(he){return he[M+"End"]-he[M+"Start"]}var O=l?U:F?function(he){return he.p-B(he)/2}:function(he){return Math.min(U(he),he.p-h.bardelta/2)},H=l?z:F?function(he){return he.p+B(he)/2}:function(he){return Math.max(z(he),he.p+h.bardelta/2)};function Y(he,me,Ce){return y.finiteRange&&(Ce=0),g.inbox(he-P,me-P,Ce+Math.min(1,Math.abs(me-he)/m)-1)}function J(he){return Y(O(he),H(he),E)}function re(he){return Y(U(he),z(he),S)}function ie(he){var me=he[w];if(d){var Ce=Math.abs(he.rawS)||0;x>0?me+=Ce:x<0&&(me-=Ce)}return me}function ce(he){var me=x,Ce=he.b,Ae=ie(he);return g.inbox(Ce-me,Ae-me,E+(Ae-me)/(Ae-Ce)-1)}function Q(he){var me=x,Ce=he.b,Ae=ie(he);return g.inbox(Ce-me,Ae-me,S+(Ae-me)/(Ae-Ce)-1)}var j=n[M+"a"],Z=n[w+"a"];m=Math.abs(j.r2c(j.range[1])-j.r2c(j.range[0]));function $(he){return(o(he)+L(he))/2}var te=g.getDistanceFunction(u,o,L,$);if(g.getClosest(c,te,n),n.index!==!1&&c[n.index].p!==p){I||(O=function(he){return Math.min(U(he),he.p-h.bargroupwidth/2)},H=function(he){return Math.max(z(he),he.p+h.bargroupwidth/2)});var se=n.index,ee=c[se],q=T.base?ee.b+ee.s:ee.s;n[w+"0"]=n[w+"1"]=Z.c2p(ee[w],!0),n[w+"LabelVal"]=q;var le=h.extents[h.extents.round(ee.p)];n[M+"0"]=j.c2p(l?O(ee):le[0],!0),n[M+"1"]=j.c2p(l?H(ee):le[1],!0);var oe=ee.orig_p!==void 0;return n[M+"LabelVal"]=oe?ee.orig_p:ee.p,n.labelLabel=v(j,n[M+"LabelVal"],T[M+"hoverformat"]),n.valueLabel=v(Z,n[w+"LabelVal"],T[w+"hoverformat"]),n.baseLabel=v(Z,ee.b,T[w+"hoverformat"]),n.spikeDistance=(Q(ee)+re(ee))/2,n[M+"Spike"]=j.c2p(ee.p,!0),C(ee,T,n),n.hovertemplate=T.hovertemplate,n}}function s(n,i){var f=i.mcc||n.marker.color,u=i.mlcc||n.marker.line.color,y=A(n,i);if(a.opacity(f))return f;if(a.opacity(u)&&y)return u}G.exports={hoverPoints:t,hoverOnBars:r,getTraceColor:s}},60822:function(G,V,e){G.exports={attributes:e(1486),layoutAttributes:e(43641),supplyDefaults:e(90769).supplyDefaults,crossTraceDefaults:e(90769).crossTraceDefaults,supplyLayoutDefaults:e(13957),calc:e(92290),crossTraceCalc:e(11661).crossTraceCalc,colorbar:e(4898),arraysToCalcdata:e(75341),plot:e(17295).plot,style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(95423).hoverPoints,eventData:e(58065),selectPoints:e(81974),moduleType:"trace",name:"bar",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(G){G.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(G,V,e){var g=e(73972),_=e(89298),a=e(71828),C=e(43641);G.exports=function(A,v,p){function t(h,l){return a.coerce(A,v,C,h,l)}for(var r=!1,s=!1,n=!1,i={},f=t("barmode"),u=0;u<p.length;u++){var y=p[u];if(g.traceIs(y,"bar")&&y.visible)r=!0;else continue;if(f==="group"){var c=y.xaxis+y.yaxis;i[c]&&(n=!0),i[c]=!0}if(y.visible&&y.type==="histogram"){var T=_.getFromId({_fullLayout:v},y[y.orientation==="v"?"xaxis":"yaxis"]);T.type!=="category"&&(s=!0)}}if(!r){delete v.barmode;return}f!=="overlay"&&t("barnorm"),t("bargap",s&&!n?0:.2),t("bargroupgap")}},17295:function(G,V,e){var g=e(39898),_=e(92770),a=e(71828),C=e(63893),A=e(7901),v=e(91424),p=e(73972),t=e(89298).tickText,r=e(72597),s=r.recordMinTextSize,n=r.clearMinTextSize,i=e(16688),f=e(69383),u=e(97313),y=e(1486),c=y.text,T=y.textposition,h=e(23469).appendArrayPointValue,l=u.TEXTPAD;function d(O){return O.id}function E(O){if(O.ids)return d}function S(O,H){return O<H?1:-1}function P(O,H,Y,J){var re=[],ie=[],ce=J?H:Y,Q=J?Y:H;return re[0]=ce.c2p(O.s0,!0),ie[0]=Q.c2p(O.p0,!0),re[1]=ce.c2p(O.s1,!0),ie[1]=Q.c2p(O.p1,!0),J?[re,ie]:[ie,re]}function x(O,H,Y,J){if(!H.uniformtext.mode&&M(Y)){var re;return J&&(re=J()),O.transition().duration(Y.duration).ease(Y.easing).each("end",function(){re&&re()}).each("interrupt",function(){re&&re()})}else return O}function M(O){return O&&O.duration>0}function w(O,H,Y,J,re,ie){var ce=H.xaxis,Q=H.yaxis,j=O._fullLayout,Z=O._context.staticPlot;re||(re={mode:j.barmode,norm:j.barmode,gap:j.bargap,groupgap:j.bargroupgap},n("bar",j));var $=a.makeTraceGroups(J,Y,"trace bars").each(function(te){var se=g.select(this),ee=te[0].trace,q=ee.type==="waterfall",le=ee.type==="funnel",oe=ee.type==="bar",he=oe||le,me=0;q&&ee.connector.visible&&ee.connector.mode==="between"&&(me=ee.connector.line.width/2);var Ce=ee.orientation==="h",Ae=M(re),Ue=a.ensureSingle(se,"g","points"),Ve=E(ee),Pe=Ue.selectAll("g.point").data(a.identity,Ve);Pe.enter().append("g").classed("point",!0),Pe.exit().remove(),Pe.each(function(Le,We){var je=g.select(this),Fe=P(Le,ce,Q,Ce),Ze=Fe[0][0],ut=Fe[0][1],at=Fe[1][0],it=Fe[1][1],$e=(Ce?ut-Ze:it-at)===0;$e&&he&&f.getLineWidth(ee,Le)&&($e=!1),$e||($e=!_(Ze)||!_(ut)||!_(at)||!_(it)),Le.isBlank=$e,$e&&(Ce?ut=Ze:it=at),me&&!$e&&(Ce?(Ze-=S(Ze,ut)*me,ut+=S(Ze,ut)*me):(at-=S(at,it)*me,it+=S(at,it)*me));var st,ct;if(ee.type==="waterfall"){if(!$e){var vt=ee[Le.dir].marker;st=vt.line.width,ct=vt.color}}else st=f.getLineWidth(ee,Le),ct=Le.mc||ee.marker.color;function St(Be){var Re=g.round(st/2%1,2);return re.gap===0&&re.groupgap===0?g.round(Math.round(Be)-Re,2):Be}function Mt(Be,Re,we){return we&&Be===Re?Be:Math.abs(Be-Re)>=2?St(Be):Be>Re?Math.ceil(Be):Math.floor(Be)}if(!O._context.staticPlot){var Bt=A.opacity(ct),Qe=Bt<1||st>.01?St:Mt;Ze=Qe(Ze,ut,Ce),ut=Qe(ut,Ze,Ce),at=Qe(at,it,!Ce),it=Qe(it,at,!Ce)}var ke=x(a.ensureSingle(je,"path"),j,re,ie);if(ke.style("vector-effect",Z?"none":"non-scaling-stroke").attr("d",isNaN((ut-Ze)*(it-at))||$e&&O._context.staticPlot?"M0,0Z":"M"+Ze+","+at+"V"+it+"H"+ut+"V"+at+"Z").call(v.setClipUrl,H.layerClipId,O),!j.uniformtext.mode&&Ae){var ze=v.makePointStyleFns(ee);v.singlePointStyle(Le,ke,ee,ze,O)}o(O,H,je,te,We,Ze,ut,at,it,re,ie),H.layerClipId&&v.hideOutsideRangePoint(Le,je.select("text"),ce,Q,ee.xcalendar,ee.ycalendar)});var be=ee.cliponaxis===!1;v.setClipUrl(se,be?null:H.layerClipId,O)});p.getComponentMethod("errorbars","plot")(O,$,H,re)}function o(O,H,Y,J,re,ie,ce,Q,j,Z,$){var te=H.xaxis,se=H.yaxis,ee=O._fullLayout,q;function le(Be,Re,we){var ye=a.ensureSingle(Be,"text").text(Re).attr({class:"bartext bartext-"+q,"text-anchor":"middle","data-notex":1}).call(v.font,we).call(C.convertToTspans,O);return ye}var oe=J[0].trace,he=oe.orientation==="h",me=U(ee,J,re,te,se);q=z(oe,re);var Ce=Z.mode==="stack"||Z.mode==="relative",Ae=J[re],Ue=!Ce||Ae._outmost;if(!me||q==="none"||(Ae.isBlank||ie===ce||Q===j)&&(q==="auto"||q==="inside")){Y.select("text").remove();return}var Ve=ee.font,Pe=i.getBarColor(J[re],oe),be=i.getInsideTextFont(oe,re,Ve,Pe),Le=i.getOutsideTextFont(oe,re,Ve),We=Y.datum();he?te.type==="log"&&We.s0<=0&&(te.range[0]<te.range[1]?ie=0:ie=te._length):se.type==="log"&&We.s0<=0&&(se.range[0]<se.range[1]?Q=se._length:Q=0);var je=Math.abs(ce-ie)-2*l,Fe=Math.abs(j-Q)-2*l,Ze,ut,at,it,$e;if(q==="outside"&&!Ue&&!Ae.hasB&&(q="inside"),q==="auto")if(Ue){q="inside",$e=a.ensureUniformFontSize(O,be),Ze=le(Y,me,$e),ut=v.bBox(Ze.node()),at=ut.width,it=ut.height;var st=at>0&&it>0,ct=at<=je&&it<=Fe,vt=at<=Fe&&it<=je,St=he?je>=at*(Fe/it):Fe>=it*(je/at);st&&(ct||vt||St)?q="inside":(q="outside",Ze.remove(),Ze=null)}else q="inside";if(!Ze){$e=a.ensureUniformFontSize(O,q==="outside"?Le:be),Ze=le(Y,me,$e);var Mt=Ze.attr("transform");if(Ze.attr("transform",""),ut=v.bBox(Ze.node()),at=ut.width,it=ut.height,Ze.attr("transform",Mt),at<=0||it<=0){Ze.remove();return}}var Bt=oe.textangle,Qe,ke;q==="outside"?(ke=oe.constraintext==="both"||oe.constraintext==="outside",Qe=I(ie,ce,Q,j,ut,{isHorizontal:he,constrained:ke,angle:Bt})):(ke=oe.constraintext==="both"||oe.constraintext==="inside",Qe=F(ie,ce,Q,j,ut,{isHorizontal:he,constrained:ke,angle:Bt,anchor:oe.insidetextanchor})),Qe.fontSize=$e.size,s(oe.type==="histogram"?"bar":oe.type,Qe,ee),Ae.transform=Qe;var ze=x(Ze,ee,Z,$);a.setTransormAndDisplay(ze,Qe)}function L(O){return O==="auto"?0:O}function m(O,H){var Y=Math.PI/180*H,J=Math.abs(Math.sin(Y)),re=Math.abs(Math.cos(Y));return{x:O.width*re+O.height*J,y:O.width*J+O.height*re}}function F(O,H,Y,J,re,ie){var ce=!!ie.isHorizontal,Q=!!ie.constrained,j=ie.angle||0,Z=ie.anchor||"end",$=Z==="end",te=Z==="start",se=ie.leftToRight||0,ee=(se+1)/2,q=1-ee,le=re.width,oe=re.height,he=Math.abs(H-O),me=Math.abs(J-Y),Ce=he>2*l&&me>2*l?l:0;he-=2*Ce,me-=2*Ce;var Ae=L(j);j==="auto"&&!(le<=he&&oe<=me)&&(le>he||oe>me)&&(!(le>me||oe>he)||le<oe!=he<me)&&(Ae+=90);var Ue=m(re,Ae),Ve=1;Q&&(Ve=Math.min(1,he/Ue.x,me/Ue.y));var Pe=re.left*q+re.right*ee,be=(re.top+re.bottom)/2,Le=(O+l)*q+(H-l)*ee,We=(Y+J)/2,je=0,Fe=0;if(te||$){var Ze=(ce?Ue.x:Ue.y)/2,ut=ce?S(O,H):S(Y,J);ce?te?(Le=O+ut*Ce,je=-ut*Ze):(Le=H-ut*Ce,je=ut*Ze):te?(We=Y+ut*Ce,Fe=-ut*Ze):(We=J-ut*Ce,Fe=ut*Ze)}return{textX:Pe,textY:be,targetX:Le,targetY:We,anchorX:je,anchorY:Fe,scale:Ve,rotate:Ae}}function I(O,H,Y,J,re,ie){var ce=!!ie.isHorizontal,Q=!!ie.constrained,j=ie.angle||0,Z=re.width,$=re.height,te=Math.abs(H-O),se=Math.abs(J-Y),ee;ce?ee=se>2*l?l:0:ee=te>2*l?l:0;var q=1;Q&&(q=ce?Math.min(1,se/$):Math.min(1,te/Z));var le=L(j),oe=m(re,le),he=(ce?oe.x:oe.y)/2,me=(re.left+re.right)/2,Ce=(re.top+re.bottom)/2,Ae=(O+H)/2,Ue=(Y+J)/2,Ve=0,Pe=0,be=ce?S(H,O):S(Y,J);return ce?(Ae=H-be*ee,Ve=be*he):(Ue=J+be*ee,Pe=-be*he),{textX:me,textY:Ce,targetX:Ae,targetY:Ue,anchorX:Ve,anchorY:Pe,scale:q,rotate:le}}function U(O,H,Y,J,re){var ie=H[0].trace,ce=ie.texttemplate,Q;return ce?Q=N(O,H,Y,J,re):ie.textinfo?Q=B(H,Y,J,re):Q=f.getValue(ie.text,Y),f.coerceString(c,Q)}function z(O,H){var Y=f.getValue(O.textposition,H);return f.coerceEnumerated(T,Y)}function N(O,H,Y,J,re){var ie=H[0].trace,ce=a.castOption(ie,Y,"texttemplate");if(!ce)return"";var Q=ie.type==="histogram",j=ie.type==="waterfall",Z=ie.type==="funnel",$=ie.orientation==="h",te,se,ee,q;$?(te="y",se=re,ee="x",q=J):(te="x",se=J,ee="y",q=re);function le(Ve){return t(se,se.c2l(Ve),!0).text}function oe(Ve){return t(q,q.c2l(Ve),!0).text}var he=H[Y],me={};me.label=he.p,me.labelLabel=me[te+"Label"]=le(he.p);var Ce=a.castOption(ie,he.i,"text");(Ce===0||Ce)&&(me.text=Ce),me.value=he.s,me.valueLabel=me[ee+"Label"]=oe(he.s);var Ae={};h(Ae,ie,he.i),(Q||Ae.x===void 0)&&(Ae.x=$?me.value:me.label),(Q||Ae.y===void 0)&&(Ae.y=$?me.label:me.value),(Q||Ae.xLabel===void 0)&&(Ae.xLabel=$?me.valueLabel:me.labelLabel),(Q||Ae.yLabel===void 0)&&(Ae.yLabel=$?me.labelLabel:me.valueLabel),j&&(me.delta=+he.rawS||he.s,me.deltaLabel=oe(me.delta),me.final=he.v,me.finalLabel=oe(me.final),me.initial=me.final-me.delta,me.initialLabel=oe(me.initial)),Z&&(me.value=he.s,me.valueLabel=oe(me.value),me.percentInitial=he.begR,me.percentInitialLabel=a.formatPercent(he.begR),me.percentPrevious=he.difR,me.percentPreviousLabel=a.formatPercent(he.difR),me.percentTotal=he.sumR,me.percenTotalLabel=a.formatPercent(he.sumR));var Ue=a.castOption(ie,he.i,"customdata");return Ue&&(me.customdata=Ue),a.texttemplateString(ce,me,O._d3locale,Ae,me,ie._meta||{})}function B(O,H,Y,J){var re=O[0].trace,ie=re.orientation==="h",ce=re.type==="waterfall",Q=re.type==="funnel";function j(Ue){var Ve=ie?J:Y;return t(Ve,Ue,!0).text}function Z(Ue){var Ve=ie?Y:J;return t(Ve,+Ue,!0).text}var $=re.textinfo,te=O[H],se=$.split("+"),ee=[],q,le=function(Ue){return se.indexOf(Ue)!==-1};if(le("label")&&ee.push(j(O[H].p)),le("text")&&(q=a.castOption(re,te.i,"text"),(q===0||q)&&ee.push(q)),ce){var oe=+te.rawS||te.s,he=te.v,me=he-oe;le("initial")&&ee.push(Z(me)),le("delta")&&ee.push(Z(oe)),le("final")&&ee.push(Z(he))}if(Q){le("value")&&ee.push(Z(te.s));var Ce=0;le("percent initial")&&Ce++,le("percent previous")&&Ce++,le("percent total")&&Ce++;var Ae=Ce>1;le("percent initial")&&(q=a.formatPercent(te.begR),Ae&&(q+=" of initial"),ee.push(q)),le("percent previous")&&(q=a.formatPercent(te.difR),Ae&&(q+=" of previous"),ee.push(q)),le("percent total")&&(q=a.formatPercent(te.sumR),Ae&&(q+=" of total"),ee.push(q))}return ee.join("<br>")}G.exports={plot:w,toMoveInsideBar:F}},81974:function(G){G.exports=function(g,_){var a=g.cd,C=g.xaxis,A=g.yaxis,v=a[0].trace,p=v.type==="funnel",t=v.orientation==="h",r=[],s;if(_===!1)for(s=0;s<a.length;s++)a[s].selected=0;else for(s=0;s<a.length;s++){var n=a[s],i="ct"in n?n.ct:V(n,C,A,t,p);_.contains(i,!1,s,g)?(r.push({pointNumber:s,x:C.c2d(n.x),y:A.c2d(n.y)}),n.selected=1):n.selected=0}return r};function V(e,g,_,a,C){var A=g.c2p(a?e.s0:e.p0,!0),v=g.c2p(a?e.s1:e.p1,!0),p=_.c2p(a?e.p0:e.s0,!0),t=_.c2p(a?e.p1:e.s1,!0);return C?[(A+v)/2,(p+t)/2]:a?[v,(p+t)/2]:[(A+v)/2,t]}},61546:function(G,V,e){G.exports=_;var g=e(71828).distinctVals;function _(a,C){this.traces=a,this.sepNegVal=C.sepNegVal,this.overlapNoMerge=C.overlapNoMerge;for(var A=1/0,v=C.posAxis._id.charAt(0),p=[],t=0;t<a.length;t++){for(var r=a[t],s=0;s<r.length;s++){var n=r[s],i=n.p;i===void 0&&(i=n[v]),i!==void 0&&p.push(i)}r[0]&&r[0].width1&&(A=Math.min(r[0].width1,A))}this.positions=p;var f=g(p);this.distinctPositions=f.vals,f.vals.length===1&&A!==1/0?this.minDiff=A:this.minDiff=Math.min(f.minDiff,A);var u=(C.posAxis||{}).type;(u==="category"||u==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}_.prototype.put=function(C,A){var v=this.getLabel(C,A),p=this.bins[v]||0;return this.bins[v]=p+A,p},_.prototype.get=function(C,A){var v=this.getLabel(C,A);return this.bins[v]||0},_.prototype.getLabel=function(C,A){var v=A<0&&this.sepNegVal?"v":"^",p=this.overlapNoMerge?C:Math.round(C/this.binWidth);return v+p}},16688:function(G,V,e){var g=e(39898),_=e(7901),a=e(91424),C=e(71828),A=e(73972),v=e(72597).resizeText,p=e(1486),t=p.textfont,r=p.insidetextfont,s=p.outsidetextfont,n=e(69383);function i(x){var M=g.select(x).selectAll("g.barlayer").selectAll("g.trace");v(x,M,"bar");var w=M.size(),o=x._fullLayout;M.style("opacity",function(L){return L[0].trace.opacity}).each(function(L){(o.barmode==="stack"&&w>1||o.bargap===0&&o.bargroupgap===0&&!L[0].trace.marker.line.width)&&g.select(this).attr("shape-rendering","crispEdges")}),M.selectAll("g.points").each(function(L){var m=g.select(this),F=L[0].trace;f(m,F,x)}),A.getComponentMethod("errorbars","style")(M)}function f(x,M,w){a.pointStyle(x.selectAll("path"),M,w),u(x,M,w)}function u(x,M,w){x.selectAll("text").each(function(o){var L=g.select(this),m=C.ensureUniformFontSize(w,h(L,o,M,w));a.font(L,m)})}function y(x,M,w){var o=M[0].trace;o.selectedpoints?c(w,o,x):(f(w,o,x),A.getComponentMethod("errorbars","style")(w))}function c(x,M,w){a.selectedPointStyle(x.selectAll("path"),M),T(x.selectAll("text"),M,w)}function T(x,M,w){x.each(function(o){var L=g.select(this),m;if(o.selected){m=C.ensureUniformFontSize(w,h(L,o,M,w));var F=M.selected.textfont&&M.selected.textfont.color;F&&(m.color=F),a.font(L,m)}else a.selectedTextStyle(L,M)})}function h(x,M,w,o){var L=o._fullLayout.font,m=w.textfont;if(x.classed("bartext-inside")){var F=P(M,w);m=d(w,M.i,L,F)}else x.classed("bartext-outside")&&(m=E(w,M.i,L));return m}function l(x,M,w){return S(t,x.textfont,M,w)}function d(x,M,w,o){var L=l(x,M,w),m=x._input.textfont===void 0||x._input.textfont.color===void 0||Array.isArray(x.textfont.color)&&x.textfont.color[M]===void 0;return m&&(L={color:_.contrast(o),family:L.family,size:L.size}),S(r,x.insidetextfont,M,L)}function E(x,M,w){var o=l(x,M,w);return S(s,x.outsidetextfont,M,o)}function S(x,M,w,o){M=M||{};var L=n.getValue(M.family,w),m=n.getValue(M.size,w),F=n.getValue(M.color,w);return{family:n.coerceString(x.family,L,o.family),size:n.coerceNumber(x.size,m,o.size),color:n.coerceColor(x.color,F,o.color)}}function P(x,M){return M.type==="waterfall"?M[x.dir].marker.color:x.mcc||x.mc||M.marker.color}G.exports={style:i,styleTextPoints:u,styleOnSelect:y,getInsideTextFont:d,getOutsideTextFont:E,getBarColor:P,resizeText:v}},98340:function(G,V,e){var g=e(7901),_=e(52075).hasColorscale,a=e(1586),C=e(71828).coercePattern;G.exports=function(v,p,t,r,s){var n=t("marker.color",r),i=_(v,"marker");i&&a(v,p,s,t,{prefix:"marker.",cLetter:"c"}),t("marker.line.color",g.defaultLine),_(v,"marker.line")&&a(v,p,s,t,{prefix:"marker.line.",cLetter:"c"}),t("marker.line.width"),t("marker.opacity"),C(t,"marker.pattern",n,i),t("selected.marker.color"),t("unselected.marker.color")}},72597:function(G,V,e){var g=e(39898),_=e(71828);function a(p,t,r){var s=p._fullLayout,n=s["_"+r+"Text_minsize"];if(n){var i=s.uniformtext.mode==="hide",f;switch(r){case"funnelarea":case"pie":case"sunburst":f="g.slice";break;case"treemap":case"icicle":f="g.slice, g.pathbar";break;default:f="g.points > g.point"}t.selectAll(f).each(function(u){var y=u.transform;if(y){y.scale=i&&y.hide?0:n/y.fontSize;var c=g.select(this).select("text");_.setTransormAndDisplay(c,y)}})}}function C(p,t,r){if(r.uniformtext.mode){var s=v(p),n=r.uniformtext.minsize,i=t.scale*t.fontSize;t.hide=i<n,r[s]=r[s]||1/0,t.hide||(r[s]=Math.min(r[s],Math.max(i,n)))}}function A(p,t){var r=v(p);t[r]=void 0}function v(p){return"_"+p+"Text_minsize"}G.exports={recordMinTextSize:C,clearMinTextSize:A,resizeText:a}},55023:function(G,V,e){var g=e(5386).fF,_=e(1426).extendFlat,a=e(81245),C=e(1486);G.exports={r:a.r,theta:a.theta,r0:a.r0,dr:a.dr,theta0:a.theta0,dtheta:a.dtheta,thetaunit:a.thetaunit,base:_({},C.base,{}),offset:_({},C.offset,{}),width:_({},C.width,{}),text:_({},C.text,{}),hovertext:_({},C.hovertext,{}),marker:C.marker,hoverinfo:a.hoverinfo,hovertemplate:g(),selected:C.selected,unselected:C.unselected}},74692:function(G,V,e){var g=e(52075).hasColorscale,_=e(78803),a=e(75341),C=e(11661).setGroupPositions,A=e(66279),v=e(73972).traceIs,p=e(71828).extendFlat;function t(s,n){for(var i=s._fullLayout,f=n.subplot,u=i[f].radialaxis,y=i[f].angularaxis,c=u.makeCalcdata(n,"r"),T=y.makeCalcdata(n,"theta"),h=n._length,l=new Array(h),d=c,E=T,S=0;S<h;S++)l[S]={p:E[S],s:d[S]};function P(x){var M=n[x];M!==void 0&&(n["_"+x]=Array.isArray(M)?y.makeCalcdata(n,x):y.d2c(M,n.thetaunit))}return y.type==="linear"&&(P("width"),P("offset")),g(n,"marker")&&_(s,n,{vals:n.marker.color,containerStr:"marker",cLetter:"c"}),g(n,"marker.line")&&_(s,n,{vals:n.marker.line.color,containerStr:"marker.line",cLetter:"c"}),a(l,n),A(l,n),l}function r(s,n,i){for(var f=s.calcdata,u=[],y=0;y<f.length;y++){var c=f[y],T=c[0].trace;T.visible===!0&&v(T,"bar")&&T.subplot===i&&u.push(c)}var h=p({},n.radialaxis,{_id:"x"}),l=n.angularaxis;C(s,l,h,u,{mode:n.barmode,norm:n.barnorm,gap:n.bargap,groupgap:n.bargroupgap})}G.exports={calc:t,crossTraceCalc:r}},6135:function(G,V,e){var g=e(71828),_=e(22184).handleRThetaDefaults,a=e(98340),C=e(55023);G.exports=function(v,p,t,r){function s(i,f){return g.coerce(v,p,C,i,f)}var n=_(v,p,r,s);if(!n){p.visible=!1;return}s("thetaunit"),s("base"),s("offset"),s("width"),s("text"),s("hovertext"),s("hovertemplate"),a(v,p,s,t,r),g.coerceSelectionMarkerOpacity(p,s)}},27379:function(G,V,e){var g=e(30211),_=e(71828),a=e(95423).getTraceColor,C=_.fillText,A=e(59150).makeHoverPointText,v=e(10869).isPtInsidePolygon;G.exports=function(t,r,s){var n=t.cd,i=n[0].trace,f=t.subplot,u=f.radialAxis,y=f.angularAxis,c=f.vangles,T=c?v:_.isPtInsideSector,h=t.maxHoverDistance,l=y._period||2*Math.PI,d=Math.abs(u.g2p(Math.sqrt(r*r+s*s))),E=Math.atan2(s,r);u.range[0]>u.range[1]&&(E+=Math.PI);var S=function(w){return T(d,E,[w.rp0,w.rp1],[w.thetag0,w.thetag1],c)?h+Math.min(1,Math.abs(w.thetag1-w.thetag0)/l)-1+(w.rp1-d)/(w.rp1-w.rp0)-1:1/0};if(g.getClosest(n,S,t),t.index!==!1){var P=t.index,x=n[P];t.x0=t.x1=x.ct[0],t.y0=t.y1=x.ct[1];var M=_.extendFlat({},x,{r:x.s,theta:x.p});return C(x,i,t),A(M,i,f,t),t.hovertemplate=i.hovertemplate,t.color=a(i,x),t.xLabelVal=t.yLabelVal=void 0,x.s<0&&(t.idealAlign="left"),[t]}}},23381:function(G,V,e){G.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(23580),categories:["polar","bar","showLegend"],attributes:e(55023),layoutAttributes:e(40151),supplyDefaults:e(6135),supplyLayoutDefaults:e(19860),calc:e(74692).calc,crossTraceCalc:e(74692).crossTraceCalc,plot:e(60173),colorbar:e(4898),formatLabels:e(98608),style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(27379),selectPoints:e(81974),meta:{}}},40151:function(G){G.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},19860:function(G,V,e){var g=e(71828),_=e(40151);G.exports=function(a,C,A){var v={},p;function t(n,i){return g.coerce(a[p]||{},C[p],_,n,i)}for(var r=0;r<A.length;r++){var s=A[r];s.type==="barpolar"&&s.visible===!0&&(p=s.subplot,v[p]||(t("barmode"),t("bargap"),v[p]=1))}}},60173:function(G,V,e){var g=e(39898),_=e(92770),a=e(71828),C=e(91424),A=e(10869);G.exports=function(t,r,s){var n=t._context.staticPlot,i=r.xaxis,f=r.yaxis,u=r.radialAxis,y=r.angularAxis,c=v(r),T=r.layers.frontplot.select("g.barlayer");a.makeTraceGroups(T,s,"trace bars").each(function(){var h=g.select(this),l=a.ensureSingle(h,"g","points"),d=l.selectAll("g.point").data(a.identity);d.enter().append("g").style("vector-effect",n?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),d.exit().remove(),d.each(function(E){var S=g.select(this),P=E.rp0=u.c2p(E.s0),x=E.rp1=u.c2p(E.s1),M=E.thetag0=y.c2g(E.p0),w=E.thetag1=y.c2g(E.p1),o;if(!_(P)||!_(x)||!_(M)||!_(w)||P===x||M===w)o="M0,0Z";else{var L=u.c2g(E.s1),m=(M+w)/2;E.ct=[i.c2p(L*Math.cos(m)),f.c2p(L*Math.sin(m))],o=c(P,x,M,w)}a.ensureSingle(S,"path").attr("d",o)}),C.setClipUrl(h,r._hasClipOnAxisFalse?r.clipIds.forTraces:null,t)})};function v(p){var t=p.cxx,r=p.cyy;return p.vangles?function(s,n,i,f){var u,y;a.angleDelta(i,f)>0?(u=i,y=f):(u=f,y=i);var c=A.findEnclosingVertexAngles(u,p.vangles)[0],T=A.findEnclosingVertexAngles(y,p.vangles)[1],h=[c,(u+y)/2,T];return A.pathPolygonAnnulus(s,n,u,y,h,t,r)}:function(s,n,i,f){return a.pathAnnulus(s,n,i,f,t,r)}}},53522:function(G,V,e){var g=e(82196),_=e(1486),a=e(22399),C=e(12663).axisHoverFormat,A=e(5386).fF,v=e(1426).extendFlat,p=g.marker,t=p.line;G.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:v({},p.symbol,{arrayOk:!1,editType:"plot"}),opacity:v({},p.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:v({},p.angle,{arrayOk:!1,editType:"calc"}),size:v({},p.size,{arrayOk:!1,editType:"calc"}),color:v({},p.color,{arrayOk:!1,editType:"style"}),line:{color:v({},t.color,{arrayOk:!1,dflt:a.defaultLine,editType:"style"}),width:v({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:g.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:_.offsetgroup,alignmentgroup:_.alignmentgroup,selected:{marker:g.selected.marker,editType:"style"},unselected:{marker:g.unselected.marker,editType:"style"},text:v({},g.text,{}),hovertext:v({},g.hovertext,{}),hovertemplate:A({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(G,V,e){var g=e(92770),_=e(89298),a=e(42973),C=e(71828),A=e(50606).BADNUM,v=C._;G.exports=function(E,S){var P=E._fullLayout,x=_.getFromId(E,S.xaxis||"x"),M=_.getFromId(E,S.yaxis||"y"),w=[],o=S.type==="violin"?"_numViolins":"_numBoxes",L,m,F,I,U,z,N;S.orientation==="h"?(F=x,I="x",U=M,z="y",N=!!S.yperiodalignment):(F=M,I="y",U=x,z="x",N=!!S.xperiodalignment);var B=p(S,z,U,P[o]),O=B[0],H=B[1],Y=C.distinctVals(O,U),J=Y.vals,re=Y.minDiff/2,ie,ce,Q,j,Z,$,te=(S.boxpoints||S.points)==="all"?C.identity:function(Mt){return Mt.v<ie.lf||Mt.v>ie.uf};if(S._hasPreCompStats){var se=S[I],ee=function(Mt){return F.d2c((S[Mt]||[])[L])},q=1/0,le=-1/0;for(L=0;L<S._length;L++){var oe=O[L];if(g(oe)){if(ie={},ie.pos=ie[z]=oe,N&&H&&(ie.orig_p=H[L]),ie.q1=ee("q1"),ie.med=ee("median"),ie.q3=ee("q3"),ce=[],se&&C.isArrayOrTypedArray(se[L]))for(m=0;m<se[L].length;m++)$=F.d2c(se[L][m]),$!==A&&(Z={v:$,i:[L,m]},n(Z,S,[L,m]),ce.push(Z));if(ie.pts=ce.sort(f),Q=ie[I]=ce.map(u),j=Q.length,ie.med!==A&&ie.q1!==A&&ie.q3!==A&&ie.med>=ie.q1&&ie.q3>=ie.med){var he=ee("lowerfence");ie.lf=he!==A&&he<=ie.q1?he:y(ie,Q,j);var me=ee("upperfence");ie.uf=me!==A&&me>=ie.q3?me:c(ie,Q,j);var Ce=ee("mean");ie.mean=Ce!==A?Ce:j?C.mean(Q,j):(ie.q1+ie.q3)/2;var Ae=ee("sd");ie.sd=Ce!==A&&Ae>=0?Ae:j?C.stdev(Q,j,ie.mean):ie.q3-ie.q1,ie.lo=T(ie),ie.uo=h(ie);var Ue=ee("notchspan");Ue=Ue!==A&&Ue>0?Ue:l(ie,j),ie.ln=ie.med-Ue,ie.un=ie.med+Ue;var Ve=ie.lf,Pe=ie.uf;S.boxpoints&&Q.length&&(Ve=Math.min(Ve,Q[0]),Pe=Math.max(Pe,Q[j-1])),S.notched&&(Ve=Math.min(Ve,ie.ln),Pe=Math.max(Pe,ie.un)),ie.min=Ve,ie.max=Pe}else{C.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+ie.q1,"median = "+ie.med,"q3 = "+ie.q3].join(`
`));var be;ie.med!==A?be=ie.med:ie.q1!==A?ie.q3!==A?be=(ie.q1+ie.q3)/2:be=ie.q1:ie.q3!==A?be=ie.q3:be=0,ie.med=be,ie.q1=ie.q3=be,ie.lf=ie.uf=be,ie.mean=ie.sd=be,ie.ln=ie.un=be,ie.min=ie.max=be}q=Math.min(q,ie.min),le=Math.max(le,ie.max),ie.pts2=ce.filter(te),w.push(ie)}}S._extremes[F._id]=_.findExtremes(F,[q,le],{padded:!0})}else{var Le=F.makeCalcdata(S,I),We=t(J,re),je=J.length,Fe=r(je);for(L=0;L<S._length;L++)if($=Le[L],!!g($)){var Ze=C.findBin(O[L],We);Ze>=0&&Ze<je&&(Z={v:$,i:L},n(Z,S,L),Fe[Ze].push(Z))}var ut=1/0,at=-1/0,it=S.quartilemethod,$e=it==="exclusive",st=it==="inclusive";for(L=0;L<je;L++)if(Fe[L].length>0){if(ie={},ie.pos=ie[z]=J[L],ce=ie.pts=Fe[L].sort(f),Q=ie[I]=ce.map(u),j=Q.length,ie.min=Q[0],ie.max=Q[j-1],ie.mean=C.mean(Q,j),ie.sd=C.stdev(Q,j,ie.mean)*S.sdmultiple,ie.med=C.interp(Q,.5),j%2&&($e||st)){var ct,vt;$e?(ct=Q.slice(0,j/2),vt=Q.slice(j/2+1)):st&&(ct=Q.slice(0,j/2+1),vt=Q.slice(j/2)),ie.q1=C.interp(ct,.5),ie.q3=C.interp(vt,.5)}else ie.q1=C.interp(Q,.25),ie.q3=C.interp(Q,.75);ie.lf=y(ie,Q,j),ie.uf=c(ie,Q,j),ie.lo=T(ie),ie.uo=h(ie);var St=l(ie,j);ie.ln=ie.med-St,ie.un=ie.med+St,ut=Math.min(ut,ie.ln),at=Math.max(at,ie.un),ie.pts2=ce.filter(te),w.push(ie)}S._extremes[F._id]=_.findExtremes(F,S.notched?Le.concat([ut,at]):Le,{padded:!0})}return i(w,S),w.length>0?(w[0].t={num:P[o],dPos:re,posLetter:z,valLetter:I,labels:{med:v(E,"median:"),min:v(E,"min:"),q1:v(E,"q1:"),q3:v(E,"q3:"),max:v(E,"max:"),mean:S.boxmean==="sd"||S.sizemode==="sd"?v(E,"mean  :").replace("",S.sdmultiple===1?"":S.sdmultiple+""):v(E,"mean:"),lf:v(E,"lower fence:"),uf:v(E,"upper fence:")}},P[o]++,w):[{t:{empty:!0}}]};function p(d,E,S,P){var x=E in d,M=E+"0"in d,w="d"+E in d;if(x||M&&w){var o=S.makeCalcdata(d,E),L=a(d,S,E,o).vals;return[L,o]}var m;M?m=d[E+"0"]:"name"in d&&(S.type==="category"||g(d.name)&&["linear","log"].indexOf(S.type)!==-1||C.isDateTime(d.name)&&S.type==="date")?m=d.name:m=P;for(var F=S.type==="multicategory"?S.r2c_just_indices(m):S.d2c(m,0,d[E+"calendar"]),I=d._length,U=new Array(I),z=0;z<I;z++)U[z]=F;return[U]}function t(d,E){for(var S=d.length,P=new Array(S+1),x=0;x<S;x++)P[x]=d[x]-E;return P[S]=d[S-1]+E,P}function r(d){for(var E=new Array(d),S=0;S<d;S++)E[S]=[];return E}var s={text:"tx",hovertext:"htx"};function n(d,E,S){for(var P in s)C.isArrayOrTypedArray(E[P])&&(Array.isArray(S)?C.isArrayOrTypedArray(E[P][S[0]])&&(d[s[P]]=E[P][S[0]][S[1]]):d[s[P]]=E[P][S])}function i(d,E){if(C.isArrayOrTypedArray(E.selectedpoints))for(var S=0;S<d.length;S++){for(var P=d[S].pts||[],x={},M=0;M<P.length;M++)x[P[M].i]=M;C.tagSelected(P,E,x)}}function f(d,E){return d.v-E.v}function u(d){return d.v}function y(d,E,S){return S===0?d.q1:Math.min(d.q1,E[Math.min(C.findBin(2.5*d.q1-1.5*d.q3,E,!0)+1,S-1)])}function c(d,E,S){return S===0?d.q3:Math.max(d.q3,E[Math.max(C.findBin(2.5*d.q3-1.5*d.q1,E),0)])}function T(d){return 4*d.q1-3*d.q3}function h(d){return 4*d.q3-3*d.q1}function l(d,E){return E===0?0:1.57*(d.q3-d.q1)/Math.sqrt(E)}},37188:function(G,V,e){var g=e(89298),_=e(71828),a=e(99082).getAxisGroup,C=["v","h"];function A(p,t){for(var r=p.calcdata,s=t.xaxis,n=t.yaxis,i=0;i<C.length;i++){for(var f=C[i],u=f==="h"?n:s,y=[],c=0;c<r.length;c++){var T=r[c],h=T[0].t,l=T[0].trace;l.visible===!0&&(l.type==="box"||l.type==="candlestick")&&!h.empty&&(l.orientation||"v")===f&&l.xaxis===s._id&&l.yaxis===n._id&&y.push(c)}v("box",p,y,u)}}function v(p,t,r,s){var n=t.calcdata,i=t._fullLayout,f=s._id,u=f.charAt(0),y,c,T,h=[],l=0;for(y=0;y<r.length;y++)for(T=n[r[y]],c=0;c<T.length;c++)h.push(s.c2l(T[c].pos,!0)),l+=(T[c].pts2||[]).length;if(h.length){var d=_.distinctVals(h);(s.type==="category"||s.type==="multicategory")&&(d.minDiff=1);var E=d.minDiff/2;g.minDtick(s,d.minDiff,d.vals[0],!0);var S=p==="violin"?"_numViolins":"_numBoxes",P=i[S],x=i[p+"mode"]==="group"&&P>1,M=1-i[p+"gap"],w=1-i[p+"groupgap"];for(y=0;y<r.length;y++){T=n[r[y]];var o=T[0].trace,L=T[0].t,m=o.width,F=o.side,I,U,z,N;if(m)I=U=N=m/2,z=0;else if(I=E,x){var B=a(i,s._id)+o.orientation,O=i._alignmentOpts[B]||{},H=O[o.alignmentgroup]||{},Y=Object.keys(H.offsetGroups||{}).length,J=Y||P,re=Y?o._offsetIndex:L.num;U=I*M*w/J,z=2*I*(-.5+(re+.5)/J)*M,N=I*M/J}else U=I*M*w,z=0,N=I;L.dPos=I,L.bPos=z,L.bdPos=U,L.wHover=N;var ie,ce,Q=z+U,j,Z,$,te,se,ee,q=!!m,le=(o.boxpoints||o.points)&&l>0;if(F==="positive"?(ie=I*(m?1:.5),j=Q,ce=j=z):F==="negative"?(ie=j=z,ce=I*(m?1:.5),Z=Q):(ie=ce=I,j=Z=Q),le){var oe=o.pointpos,he=o.jitter,me=o.marker.size/2,Ce=0;oe+he>=0&&(Ce=Q*(oe+he),Ce>ie?(q=!0,se=me,$=Ce):Ce>j&&(se=me,$=ie)),Ce<=ie&&($=ie);var Ae=0;oe-he<=0&&(Ae=-Q*(oe-he),Ae>ce?(q=!0,ee=me,te=Ae):Ae>Z&&(ee=me,te=ce)),Ae<=ce&&(te=ce)}else $=ie,te=ce;var Ue=new Array(T.length);for(c=0;c<T.length;c++)Ue[c]=T[c].pos;o._extremes[f]=g.findExtremes(s,Ue,{padded:q,vpadminus:te,vpadplus:$,vpadLinearized:!0,ppadminus:{x:ee,y:se}[u],ppadplus:{x:se,y:ee}[u]})}}}G.exports={crossTraceCalc:A,setPositionOffset:v}},36411:function(G,V,e){var g=e(71828),_=e(73972),a=e(7901),C=e(73927),A=e(26125),v=e(4322),p=e(53522);function t(i,f,u,y){function c(w,o){return g.coerce(i,f,p,w,o)}if(r(i,f,c,y),f.visible!==!1){C(i,f,y,c),c("xhoverformat"),c("yhoverformat");var T=f._hasPreCompStats;T&&(c("lowerfence"),c("upperfence")),c("line.color",(i.marker||{}).color||u),c("line.width"),c("fillcolor",a.addOpacity(f.line.color,.5));var h=!1;if(T){var l=c("mean"),d=c("sd");l&&l.length&&(h=!0,d&&d.length&&(h="sd"))}c("whiskerwidth");var E=c("sizemode"),S;E==="quartiles"&&(S=c("boxmean",h)),c("showwhiskers",E==="quartiles"),(E==="sd"||S==="sd")&&c("sdmultiple"),c("width"),c("quartilemethod");var P=!1;if(T){var x=c("notchspan");x&&x.length&&(P=!0)}else g.validate(i.notchwidth,p.notchwidth)&&(P=!0);var M=c("notched",P);M&&c("notchwidth"),s(i,f,c,{prefix:"box"})}}function r(i,f,u,y){function c(Y){var J=0;return Y&&Y.length&&(J+=1,g.isArrayOrTypedArray(Y[0])&&Y[0].length&&(J+=1)),J}function T(Y){return g.validate(i[Y],p[Y])}var h=u("y"),l=u("x"),d;if(f.type==="box"){var E=u("q1"),S=u("median"),P=u("q3");f._hasPreCompStats=E&&E.length&&S&&S.length&&P&&P.length,d=Math.min(g.minRowLength(E),g.minRowLength(S),g.minRowLength(P))}var x=c(h),M=c(l),w=x&&g.minRowLength(h),o=M&&g.minRowLength(l),L=y.calendar,m={autotypenumbers:y.autotypenumbers},F,I;if(f._hasPreCompStats)switch(String(M)+String(x)){case"00":var U=T("x0")||T("dx"),z=T("y0")||T("dy");z&&!U?F="h":F="v",I=d;break;case"10":F="v",I=Math.min(d,o);break;case"20":F="h",I=Math.min(d,l.length);break;case"01":F="h",I=Math.min(d,w);break;case"02":F="v",I=Math.min(d,h.length);break;case"12":F="v",I=Math.min(d,o,h.length);break;case"21":F="h",I=Math.min(d,l.length,w);break;case"11":I=0;break;case"22":var N=!1,B;for(B=0;B<l.length;B++)if(v(l[B],L,m)==="category"){N=!0;break}if(N)F="v",I=Math.min(d,o,h.length);else{for(B=0;B<h.length;B++)if(v(h[B],L,m)==="category"){N=!0;break}N?(F="h",I=Math.min(d,l.length,w)):(F="v",I=Math.min(d,o,h.length))}break}else x>0?(F="v",M>0?I=Math.min(o,w):I=Math.min(w)):M>0?(F="h",I=Math.min(o)):I=0;if(!I){f.visible=!1;return}f._length=I;var O=u("orientation",F);f._hasPreCompStats?O==="v"&&M===0?(u("x0",0),u("dx",1)):O==="h"&&x===0&&(u("y0",0),u("dy",1)):O==="v"&&M===0?u("x0"):O==="h"&&x===0&&u("y0");var H=_.getComponentMethod("calendars","handleTraceDefaults");H(i,f,["x","y"],y)}function s(i,f,u,y){var c=y.prefix,T=g.coerce2(i,f,p,"marker.outliercolor"),h=u("marker.line.outliercolor"),l="outliers";f._hasPreCompStats?l="all":(T||h)&&(l="suspectedoutliers");var d=u(c+"points",l);d?(u("jitter",d==="all"?.3:0),u("pointpos",d==="all"?-1.5:0),u("marker.symbol"),u("marker.opacity"),u("marker.size"),u("marker.angle"),u("marker.color",f.line.color),u("marker.line.color"),u("marker.line.width"),d==="suspectedoutliers"&&(u("marker.line.outliercolor",f.marker.color),u("marker.line.outlierwidth")),u("selected.marker.color"),u("unselected.marker.color"),u("selected.marker.size"),u("unselected.marker.size"),u("text"),u("hovertext")):delete f.marker;var E=u("hoveron");(E==="all"||E.indexOf("points")!==-1)&&u("hovertemplate"),g.coerceSelectionMarkerOpacity(f,u)}function n(i,f){var u,y;function c(l){return g.coerce(y._input,y,p,l)}for(var T=0;T<i.length;T++){y=i[T];var h=y.type;(h==="box"||h==="violin")&&(u=y._input,f[h+"mode"]==="group"&&A(u,y,f,c))}}G.exports={supplyDefaults:t,crossTraceDefaults:n,handleSampleDefaults:r,handlePointsDefaults:s}},74907:function(G){G.exports=function(e,g){return g.hoverOnBox&&(e.hoverOnBox=g.hoverOnBox),"xVal"in g&&(e.x=g.xVal),"yVal"in g&&(e.y=g.yVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},41868:function(G,V,e){var g=e(89298),_=e(71828),a=e(30211),C=e(7901),A=_.fillText;function v(r,s,n,i){var f=r.cd,u=f[0].trace,y=u.hoveron,c=[],T;return y.indexOf("boxes")!==-1&&(c=c.concat(p(r,s,n,i))),y.indexOf("points")!==-1&&(T=t(r,s,n)),i==="closest"?T?[T]:c:(T&&c.push(T),c)}function p(r,s,n,i){var f=r.cd,u=r.xa,y=r.ya,c=f[0].trace,T=f[0].t,h=c.type==="violin",l,d,E,S,P,x,M,w,o,L,m,F=T.bdPos,I,U,z=T.wHover,N=function(Ae){return E.c2l(Ae.pos)+T.bPos-E.c2l(x)};h&&c.side!=="both"?(c.side==="positive"&&(o=function(Ae){var Ue=N(Ae);return a.inbox(Ue,Ue+z,L)},I=F,U=0),c.side==="negative"&&(o=function(Ae){var Ue=N(Ae);return a.inbox(Ue-z,Ue,L)},I=0,U=F)):(o=function(Ae){var Ue=N(Ae);return a.inbox(Ue-z,Ue+z,L)},I=U=F);var B;h?B=function(Ae){return a.inbox(Ae.span[0]-P,Ae.span[1]-P,L)}:B=function(Ae){return a.inbox(Ae.min-P,Ae.max-P,L)},c.orientation==="h"?(P=s,x=n,M=B,w=o,l="y",E=y,d="x",S=u):(P=n,x=s,M=o,w=B,l="x",E=u,d="y",S=y);var O=Math.min(1,F/Math.abs(E.r2c(E.range[1])-E.r2c(E.range[0])));L=r.maxHoverDistance-O,m=r.maxSpikeDistance-O;function H(Ae){return(M(Ae)+w(Ae))/2}var Y=a.getDistanceFunction(i,M,w,H);if(a.getClosest(f,Y,r),r.index===!1)return[];var J=f[r.index],re=c.line.color,ie=(c.marker||{}).color;C.opacity(re)&&c.line.width?r.color=re:C.opacity(ie)&&c.boxpoints?r.color=ie:r.color=c.fillcolor,r[l+"0"]=E.c2p(J.pos+T.bPos-U,!0),r[l+"1"]=E.c2p(J.pos+T.bPos+I,!0),r[l+"LabelVal"]=J.orig_p!==void 0?J.orig_p:J.pos;var ce=l+"Spike";r.spikeDistance=H(J)*m/L,r[ce]=E.c2p(J.pos,!0);var Q=c.boxmean||c.sizemode==="sd"||(c.meanline||{}).visible,j=c.boxpoints||c.points,Z=j&&Q?["max","uf","q3","med","mean","q1","lf","min"]:j&&!Q?["max","uf","q3","med","q1","lf","min"]:!j&&Q?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],$=S.range[1]<S.range[0];c.orientation===($?"v":"h")&&Z.reverse();for(var te=r.spikeDistance,se=r[ce],ee=[],q=0;q<Z.length;q++){var le=Z[q];if(le in J){var oe=J[le],he=S.c2p(oe,!0),me=_.extendFlat({},r);me.attr=le,me[d+"0"]=me[d+"1"]=he,me[d+"LabelVal"]=oe,me[d+"Label"]=(T.labels?T.labels[le]+" ":"")+g.hoverLabelText(S,oe,c[d+"hoverformat"]),me.hoverOnBox=!0,le==="mean"&&"sd"in J&&(c.boxmean==="sd"||c.sizemode==="sd")&&(me[d+"err"]=J.sd),me.hovertemplate=!1,ee.push(me)}}r.name="",r.spikeDistance=void 0,r[ce]=void 0;for(var Ce=0;Ce<ee.length;Ce++)ee[Ce].attr!=="med"?(ee[Ce].name="",ee[Ce].spikeDistance=void 0,ee[Ce][ce]=void 0):(ee[Ce].spikeDistance=te,ee[Ce][ce]=se);return ee}function t(r,s,n){for(var i=r.cd,f=r.xa,u=r.ya,y=i[0].trace,c=f.c2p(s),T=u.c2p(n),h,l=function(B){var O=Math.max(3,B.mrc||0);return Math.max(Math.abs(f.c2p(B.x)-c)-O,1-3/O)},d=function(B){var O=Math.max(3,B.mrc||0);return Math.max(Math.abs(u.c2p(B.y)-T)-O,1-3/O)},E=a.quadrature(l,d),S=!1,P,x,M=0;M<i.length;M++){P=i[M];for(var w=0;w<(P.pts||[]).length;w++){x=P.pts[w];var o=E(x);o<=r.distance&&(r.distance=o,S=[M,w])}}if(!S)return!1;P=i[S[0]],x=P.pts[S[1]];var L=f.c2p(x.x,!0),m=u.c2p(x.y,!0),F=x.mrc||1;h=_.extendFlat({},r,{index:x.i,color:(y.marker||{}).color,name:y.name,x0:L-F,x1:L+F,y0:m-F,y1:m+F,spikeDistance:r.distance,hovertemplate:y.hovertemplate});var I=P.orig_p,U=I!==void 0?I:P.pos,z;y.orientation==="h"?(z=u,h.xLabelVal=x.x,h.yLabelVal=U):(z=f,h.xLabelVal=U,h.yLabelVal=x.y);var N=z._id.charAt(0);return h[N+"Spike"]=z.c2p(P.pos,!0),A(x,y,h),h}G.exports={hoverPoints:v,hoverOnBoxes:p,hoverOnPoints:t}},83832:function(G,V,e){G.exports={attributes:e(53522),layoutAttributes:e(40094),supplyDefaults:e(36411).supplyDefaults,crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(4199).supplyLayoutDefaults,calc:e(48518),crossTraceCalc:e(37188).crossTraceCalc,plot:e(86047).plot,style:e(58063).style,styleOnSelect:e(58063).styleOnSelect,hoverPoints:e(41868).hoverPoints,eventData:e(74907),selectPoints:e(24626),moduleType:"trace",name:"box",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(G){G.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(G,V,e){var g=e(73972),_=e(71828),a=e(40094);function C(v,p,t,r,s){for(var n=s+"Layout",i=!1,f=0;f<t.length;f++){var u=t[f];if(g.traceIs(u,n)){i=!0;break}}i&&(r(s+"mode"),r(s+"gap"),r(s+"groupgap"))}function A(v,p,t){function r(s,n){return _.coerce(v,p,a,s,n)}C(v,p,t,r,"box")}G.exports={supplyLayoutDefaults:A,_supply:C}},86047:function(G,V,e){var g=e(39898),_=e(71828),a=e(91424),C=5,A=.01;function v(s,n,i,f){var u=s._context.staticPlot,y=n.xaxis,c=n.yaxis;_.makeTraceGroups(f,i,"trace boxes").each(function(T){var h=g.select(this),l=T[0],d=l.t,E=l.trace;if(d.wdPos=d.bdPos*E.whiskerwidth,E.visible!==!0||d.empty){h.remove();return}var S,P;E.orientation==="h"?(S=c,P=y):(S=y,P=c),p(h,{pos:S,val:P},E,d,u),t(h,{x:y,y:c},E,d),r(h,{pos:S,val:P},E,d)})}function p(s,n,i,f,u){var y=i.orientation==="h",c=n.val,T=n.pos,h=!!T.rangebreaks,l=f.bPos,d=f.wdPos||0,E=f.bPosPxOffset||0,S=i.whiskerwidth||0,P=i.showwhiskers!==!1,x=i.notched||!1,M=x?1-2*i.notchwidth:1,w,o;Array.isArray(f.bdPos)?(w=f.bdPos[0],o=f.bdPos[1]):(w=f.bdPos,o=f.bdPos);var L=s.selectAll("path.box").data(i.type!=="violin"||i.box.visible?_.identity:[]);L.enter().append("path").style("vector-effect",u?"none":"non-scaling-stroke").attr("class","box"),L.exit().remove(),L.each(function(m){if(m.empty)return g.select(this).attr("d","M0,0Z");var F=T.c2l(m.pos+l,!0),I=T.l2p(F-w)+E,U=T.l2p(F+o)+E,z=h?(I+U)/2:T.l2p(F)+E,N=i.whiskerwidth,B=h?I*N+(1-N)*z:T.l2p(F-d)+E,O=h?U*N+(1-N)*z:T.l2p(F+d)+E,H=T.l2p(F-w*M)+E,Y=T.l2p(F+o*M)+E,J=i.sizemode==="sd",re=c.c2p(J?m.mean-m.sd:m.q1,!0),ie=J?c.c2p(m.mean+m.sd,!0):c.c2p(m.q3,!0),ce=_.constrain(J?c.c2p(m.mean,!0):c.c2p(m.med,!0),Math.min(re,ie)+1,Math.max(re,ie)-1),Q=m.lf===void 0||i.boxpoints===!1||J,j=c.c2p(Q?m.min:m.lf,!0),Z=c.c2p(Q?m.max:m.uf,!0),$=c.c2p(m.ln,!0),te=c.c2p(m.un,!0);y?g.select(this).attr("d","M"+ce+","+H+"V"+Y+"M"+re+","+I+"V"+U+(x?"H"+$+"L"+ce+","+Y+"L"+te+","+U:"")+"H"+ie+"V"+I+(x?"H"+te+"L"+ce+","+H+"L"+$+","+I:"")+"Z"+(P?"M"+re+","+z+"H"+j+"M"+ie+","+z+"H"+Z+(S===0?"":"M"+j+","+B+"V"+O+"M"+Z+","+B+"V"+O):"")):g.select(this).attr("d","M"+H+","+ce+"H"+Y+"M"+I+","+re+"H"+U+(x?"V"+$+"L"+Y+","+ce+"L"+U+","+te:"")+"V"+ie+"H"+I+(x?"V"+te+"L"+H+","+ce+"L"+I+","+$:"")+"Z"+(P?"M"+z+","+re+"V"+j+"M"+z+","+ie+"V"+Z+(S===0?"":"M"+B+","+j+"H"+O+"M"+B+","+Z+"H"+O):""))})}function t(s,n,i,f){var u=n.x,y=n.y,c=f.bdPos,T=f.bPos,h=i.boxpoints||i.points;_.seedPseudoRandom();var l=function(S){return S.forEach(function(P){P.t=f,P.trace=i}),S},d=s.selectAll("g.points").data(h?l:[]);d.enter().append("g").attr("class","points"),d.exit().remove();var E=d.selectAll("path").data(function(S){var P,x=S.pts2,M=Math.max((S.max-S.min)/10,S.q3-S.q1),w=M*1e-9,o=M*A,L=[],m=0,F;if(i.jitter){if(M===0)for(m=1,L=new Array(x.length),P=0;P<x.length;P++)L[P]=1;else for(P=0;P<x.length;P++){var I=Math.max(0,P-C),U=x[I].v,z=Math.min(x.length-1,P+C),N=x[z].v;h!=="all"&&(x[P].v<S.lf?N=Math.min(N,S.lf):U=Math.max(U,S.uf));var B=Math.sqrt(o*(z-I)/(N-U+w))||0;B=_.constrain(Math.abs(B),0,1),L.push(B),m=Math.max(B,m)}F=i.jitter*2/(m||1)}for(P=0;P<x.length;P++){var O=x[P],H=O.v,Y=i.jitter?F*L[P]*(_.pseudoRandom()-.5):0,J=S.pos+T+c*(i.pointpos+Y);i.orientation==="h"?(O.y=J,O.x=H):(O.x=J,O.y=H),h==="suspectedoutliers"&&H<S.uo&&H>S.lo&&(O.so=!0)}return x});E.enter().append("path").classed("point",!0),E.exit().remove(),E.call(a.translatePoints,u,y)}function r(s,n,i,f){var u=n.val,y=n.pos,c=!!y.rangebreaks,T=f.bPos,h=f.bPosPxOffset||0,l=i.boxmean||(i.meanline||{}).visible,d,E;Array.isArray(f.bdPos)?(d=f.bdPos[0],E=f.bdPos[1]):(d=f.bdPos,E=f.bdPos);var S=s.selectAll("path.mean").data(i.type==="box"&&i.boxmean||i.type==="violin"&&i.box.visible&&i.meanline.visible?_.identity:[]);S.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),S.exit().remove(),S.each(function(P){var x=y.c2l(P.pos+T,!0),M=y.l2p(x-d)+h,w=y.l2p(x+E)+h,o=c?(M+w)/2:y.l2p(x)+h,L=u.c2p(P.mean,!0),m=u.c2p(P.mean-P.sd,!0),F=u.c2p(P.mean+P.sd,!0);i.orientation==="h"?g.select(this).attr("d","M"+L+","+M+"V"+w+(l==="sd"?"m0,0L"+m+","+o+"L"+L+","+M+"L"+F+","+o+"Z":"")):g.select(this).attr("d","M"+M+","+L+"H"+w+(l==="sd"?"m0,0L"+o+","+m+"L"+M+","+L+"L"+o+","+F+"Z":""))})}G.exports={plot:v,plotBoxAndWhiskers:p,plotPoints:t,plotBoxMean:r}},24626:function(G){G.exports=function(e,g){var _=e.cd,a=e.xaxis,C=e.yaxis,A=[],v,p;if(g===!1)for(v=0;v<_.length;v++)for(p=0;p<(_[v].pts||[]).length;p++)_[v].pts[p].selected=0;else for(v=0;v<_.length;v++)for(p=0;p<(_[v].pts||[]).length;p++){var t=_[v].pts[p],r=a.c2p(t.x),s=C.c2p(t.y);g.contains([r,s],null,t.i,e)?(A.push({pointNumber:t.i,x:a.c2d(t.x),y:C.c2d(t.y)}),t.selected=1):t.selected=0}return A}},58063:function(G,V,e){var g=e(39898),_=e(7901),a=e(91424);function C(v,p,t){var r=t||g.select(v).selectAll("g.trace.boxes");r.style("opacity",function(s){return s[0].trace.opacity}),r.each(function(s){var n=g.select(this),i=s[0].trace,f=i.line.width;function u(T,h,l,d){T.style("stroke-width",h+"px").call(_.stroke,l).call(_.fill,d)}var y=n.selectAll("path.box");if(i.type==="candlestick")y.each(function(T){if(!T.empty){var h=g.select(this),l=i[T.dir];u(h,l.line.width,l.line.color,l.fillcolor),h.style("opacity",i.selectedpoints&&!T.selected?.3:1)}});else{u(y,f,i.line.color,i.fillcolor),n.selectAll("path.mean").style({"stroke-width":f,"stroke-dasharray":2*f+"px,"+f+"px"}).call(_.stroke,i.line.color);var c=n.selectAll("path.point");a.pointStyle(c,i,v)}})}function A(v,p,t){var r=p[0].trace,s=t.selectAll("path.point");r.selectedpoints?a.selectedPointStyle(s,r):a.pointStyle(s,r,v)}G.exports={style:C,styleOnSelect:A}},75343:function(G,V,e){var g=e(71828).extendFlat,_=e(12663).axisHoverFormat,a=e(2522),C=e(53522);function A(v){return{line:{color:g({},C.line.color,{dflt:v}),width:C.line.width,editType:"style"},fillcolor:C.fillcolor,editType:"style"}}G.exports={xperiod:a.xperiod,xperiod0:a.xperiod0,xperiodalignment:a.xperiodalignment,xhoverformat:_("x"),yhoverformat:_("y"),x:a.x,open:a.open,high:a.high,low:a.low,close:a.close,line:{width:g({},C.line.width,{}),editType:"style"},increasing:A(a.increasing.line.color.dflt),decreasing:A(a.decreasing.line.color.dflt),text:a.text,hovertext:a.hovertext,whiskerwidth:g({},C.whiskerwidth,{dflt:0}),hoverlabel:a.hoverlabel}},41197:function(G,V,e){var g=e(71828),_=e(89298),a=e(42973),C=e(3485).calcCommon;G.exports=function(v,p){var t=v._fullLayout,r=_.getFromId(v,p.xaxis),s=_.getFromId(v,p.yaxis),n=r.makeCalcdata(p,"x"),i=a(p,r,"x",n).vals,f=C(v,p,n,i,s,A);return f.length?(g.extendFlat(f[0].t,{num:t._numBoxes,dPos:g.distinctVals(i).minDiff/2,posLetter:"x",valLetter:"y"}),t._numBoxes++,f):[{t:{empty:!0}}]};function A(v,p,t,r){return{min:t,q1:Math.min(v,r),med:r,q3:Math.max(v,r),max:p}}},1026:function(G,V,e){var g=e(71828),_=e(7901),a=e(14555),C=e(73927),A=e(75343);G.exports=function(t,r,s,n){function i(u,y){return g.coerce(t,r,A,u,y)}var f=a(t,r,i,n);if(!f){r.visible=!1;return}C(t,r,n,i,{x:!0}),i("xhoverformat"),i("yhoverformat"),i("line.width"),v(t,r,i,"increasing"),v(t,r,i,"decreasing"),i("text"),i("hovertext"),i("whiskerwidth"),n._requestRangeslider[r.xaxis]=!0};function v(p,t,r,s){var n=r(s+".line.color");r(s+".line.width",t.line.width),r(s+".fillcolor",_.addOpacity(n,.5))}},91815:function(G,V,e){G.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(93612),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(75343),layoutAttributes:e(40094),supplyLayoutDefaults:e(4199).supplyLayoutDefaults,crossTraceCalc:e(37188).crossTraceCalc,supplyDefaults:e(1026),calc:e(41197),plot:e(86047).plot,layerName:"boxlayer",style:e(58063).style,hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},13145:function(G,V,e){var g=e(11500),_=e(44467);G.exports=function(A,v,p,t,r){var s=t("a");s||(t("da"),t("a0"));var n=t("b");n||(t("db"),t("b0")),a(A,v,p,r)};function a(C,A,v,p){var t=["aaxis","baxis"];t.forEach(function(r){var s=r.charAt(0),n=C[r]||{},i=_.newContainer(A,r),f={noTicklabelstep:!0,tickfont:"x",id:s+"axis",letter:s,font:A.font,name:r,data:C[s],calendar:A.calendar,dfltColor:p,bgColor:v.paper_bgcolor,autotypenumbersDflt:v.autotypenumbers,fullLayout:v};g(n,i,f),i._categories=i._categories||[],!C[r]&&n.type!=="-"&&(C[r]={type:n.type})})}},402:function(G,V,e){var g=e(71828).isArrayOrTypedArray;G.exports=function(a){return _(a,0)};function _(a,C){if(!g(a)||C>=10)return null;for(var A=1/0,v=-1/0,p=a.length,t=0;t<p;t++){var r=a[t];if(g(r)){var s=_(r,C+1);s&&(A=Math.min(s[0],A),v=Math.max(s[1],v))}else A=Math.min(r,A),v=Math.max(r,v)}return[A,v]}},99798:function(G,V,e){var g=e(41940),_=e(1928),a=e(22399),C=g({editType:"calc"});C.family.dflt='"Open Sans", verdana, arial, sans-serif',C.size.dflt=12,C.color.dflt=a.defaultLine,G.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:_,baxis:_,font:C,color:{valType:"color",dflt:a.defaultLine,editType:"plot"},transforms:void 0}},4536:function(G,V,e){var g=e(71828).isArrayOrTypedArray;G.exports=function(_,a,C,A){var v,p,t,r,s,n,i,f,u,y,c,T,h,l=g(C)?"a":"b",d=l==="a"?_.aaxis:_.baxis,E=d.smoothing,S=l==="a"?_.a2i:_.b2j,P=l==="a"?C:A,x=l==="a"?A:C,M=l==="a"?a.a.length:a.b.length,w=l==="a"?a.b.length:a.a.length,o=Math.floor(l==="a"?_.b2j(x):_.a2i(x)),L=l==="a"?function(re){return _.evalxy([],re,o)}:function(re){return _.evalxy([],o,re)};E&&(t=Math.max(0,Math.min(w-2,o)),r=o-t,p=l==="a"?function(re,ie){return _.dxydi([],re,t,ie,r)}:function(re,ie){return _.dxydj([],t,re,r,ie)});var m=S(P[0]),F=S(P[1]),I=m<F?1:-1,U=(F-m)*1e-8,z=I>0?Math.floor:Math.ceil,N=I>0?Math.ceil:Math.floor,B=I>0?Math.min:Math.max,O=I>0?Math.max:Math.min,H=z(m+U),Y=N(F-U);i=L(m);var J=[[i]];for(v=H;v*I<Y*I;v+=I)s=[],c=O(m,v),T=B(F,v+I),h=T-c,n=Math.max(0,Math.min(M-2,Math.floor(.5*(c+T)))),f=L(T),E&&(u=p(n,c-n),y=p(n,T-n),s.push([i[0]+u[0]/3*h,i[1]+u[1]/3*h]),s.push([f[0]-y[0]/3*h,f[1]-y[1]/3*h])),s.push(f),J.push(s),i=f;return J}},1928:function(G,V,e){var g=e(41940),_=e(22399),a=e(13838),C=e(12663).descriptionWithDates,A=e(30962).overrideAll,v=e(79952).P,p=e(1426).extendFlat;G.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:g({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:a.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:p({},a.labelalias,{editType:"calc"}),tickfont:g({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:C("tick label")},tickformatstops:A(a.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:_.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:p({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:p({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:_.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:g({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},11500:function(G,V,e){var g=e(99798),_=e(7901).addOpacity,a=e(73972),C=e(71828),A=e(26218),v=e(96115),p=e(89426),t=e(15258),r=e(21994),s=e(4322);G.exports=function(f,u,y){var c=y.letter,T=y.font||{},h=g[c+"axis"];function l(H,Y){return C.coerce(f,u,h,H,Y)}function d(H,Y){return C.coerce2(f,u,h,H,Y)}y.name&&(u._name=y.name,u._id=y.name),l("autotypenumbers",y.autotypenumbersDflt);var E=l("type");if(E==="-"&&(y.data&&n(u,y.data),u.type==="-"?u.type="linear":E=f.type=u.type),l("smoothing"),l("cheatertype"),l("showticklabels"),l("labelprefix",c+" = "),l("labelsuffix"),l("showtickprefix"),l("showticksuffix"),l("separatethousands"),l("tickformat"),l("exponentformat"),l("minexponent"),l("showexponent"),l("categoryorder"),l("tickmode"),l("tickvals"),l("ticktext"),l("tick0"),l("dtick"),u.tickmode==="array"&&(l("arraytick0"),l("arraydtick")),l("labelpadding"),u._hovertitle=c,E==="date"){var S=a.getComponentMethod("calendars","handleDefaults");S(f,u,"calendar",y.calendar)}r(u,y.fullLayout),u.c2p=C.identity;var P=l("color",y.dfltColor),x=P===f.color?P:T.color,M=l("title.text");M&&(C.coerceFont(l,"title.font",{family:T.family,size:C.bigFont(T.size),color:x}),l("title.offset")),l("tickangle");var w=l("autorange",!u.isValidRange(f.range));w&&l("rangemode"),l("range"),u.cleanRange(),l("fixedrange"),A(f,u,l,E),p(f,u,l,E,y),v(f,u,l,E,y),t(f,u,l,{data:y.data,dataAttr:c});var o=d("gridcolor",_(P,.3)),L=d("gridwidth"),m=d("griddash"),F=l("showgrid");F||(delete u.gridcolor,delete u.gridwidth,delete u.griddash);var I=d("startlinecolor",P),U=d("startlinewidth",L),z=l("startline",u.showgrid||!!I||!!U);z||(delete u.startlinecolor,delete u.startlinewidth);var N=d("endlinecolor",P),B=d("endlinewidth",L),O=l("endline",u.showgrid||!!N||!!B);return O||(delete u.endlinecolor,delete u.endlinewidth),F?(l("minorgridcount"),l("minorgridwidth",L),l("minorgriddash",m),l("minorgridcolor",_(o,.06)),u.minorgridcount||(delete u.minorgridwidth,delete u.minorgriddash,delete u.minorgridcolor)):(delete u.gridcolor,delete u.gridwidth,delete u.griddash),u.showticklabels==="none"&&(delete u.tickfont,delete u.tickangle,delete u.showexponent,delete u.exponentformat,delete u.minexponent,delete u.tickformat,delete u.showticksuffix,delete u.showtickprefix),u.showticksuffix||delete u.ticksuffix,u.showtickprefix||delete u.tickprefix,l("tickmode"),u};function n(i,f){if(i.type==="-"){var u=i._id,y=u.charAt(0),c=y+"calendar",T=i[c];i.type=s(f,T,{autotypenumbers:i.autotypenumbers})}}},25281:function(G,V,e){var g=e(89298),_=e(71828).isArray1D,a=e(53824),C=e(402),A=e(20347),v=e(83311),p=e(44807),t=e(4742),r=e(72505),s=e(68296),n=e(11435);G.exports=function(f,u){var y=g.getFromId(f,u.xaxis),c=g.getFromId(f,u.yaxis),T=u.aaxis,h=u.baxis,l=u.x,d=u.y,E=[];l&&_(l)&&E.push("x"),d&&_(d)&&E.push("y"),E.length&&s(u,T,h,"a","b",E);var S=u._a=u._a||u.a,P=u._b=u._b||u.b;l=u._x||u.x,d=u._y||u.y;var x={};if(u._cheater){var M=T.cheatertype==="index"?S.length:S,w=h.cheatertype==="index"?P.length:P;l=a(M,w,u.cheaterslope)}u._x=l=t(l),u._y=d=t(d),r(l,S,P),r(d,S,P),n(u),u.setScale();var o=C(l),L=C(d),m=.5*(o[1]-o[0]),F=.5*(o[1]+o[0]),I=.5*(L[1]-L[0]),U=.5*(L[1]+L[0]),z=1.3;return o=[F-m*z,F+m*z],L=[U-I*z,U+I*z],u._extremes[y._id]=g.findExtremes(y,o,{padded:!0}),u._extremes[c._id]=g.findExtremes(c,L,{padded:!0}),A(u,"a","b"),A(u,"b","a"),v(u,T),v(u,h),x.clipsegments=p(u._xctrl,u._yctrl,T,h),x.x=l,x.y=d,x.a=S,x.b=P,[x]}},44807:function(G){G.exports=function(e,g,_,a){var C,A,v,p=[],t=!!_.smoothing,r=!!a.smoothing,s=e[0].length-1,n=e.length-1;for(C=0,A=[],v=[];C<=s;C++)A[C]=e[0][C],v[C]=g[0][C];for(p.push({x:A,y:v,bicubic:t}),C=0,A=[],v=[];C<=n;C++)A[C]=e[C][s],v[C]=g[C][s];for(p.push({x:A,y:v,bicubic:r}),C=s,A=[],v=[];C>=0;C--)A[s-C]=e[n][C],v[s-C]=g[n][C];for(p.push({x:A,y:v,bicubic:t}),C=n,A=[],v=[];C>=0;C--)A[n-C]=e[C][0],v[n-C]=g[C][0];return p.push({x:A,y:v,bicubic:r}),p}},20347:function(G,V,e){var g=e(89298),_=e(1426).extendFlat;G.exports=function(C,A,v){var p,t,r,s,n,i,f,u,y,c,T,h,l,d,E=C["_"+A],S=C[A+"axis"],P=S._gridlines=[],x=S._minorgridlines=[],M=S._boundarylines=[],w=C["_"+v],o=C[v+"axis"];S.tickmode==="array"&&(S.tickvals=E.slice());var L=C._xctrl,m=C._yctrl,F=L[0].length,I=L.length,U=C._a.length,z=C._b.length;g.prepTicks(S),S.tickmode==="array"&&delete S.tickvals;var N=S.smoothing?3:1;function B(H){var Y,J,re,ie,ce,Q,j,Z,$,te,se,ee,q=[],le=[],oe={};if(A==="b")for(J=C.b2j(H),re=Math.floor(Math.max(0,Math.min(z-2,J))),ie=J-re,oe.length=z,oe.crossLength=U,oe.xy=function(he){return C.evalxy([],he,J)},oe.dxy=function(he,me){return C.dxydi([],he,re,me,ie)},Y=0;Y<U;Y++)Q=Math.min(U-2,Y),j=Y-Q,Z=C.evalxy([],Y,J),o.smoothing&&Y>0&&($=C.dxydi([],Y-1,re,0,ie),q.push(ce[0]+$[0]/3),le.push(ce[1]+$[1]/3),te=C.dxydi([],Y-1,re,1,ie),q.push(Z[0]-te[0]/3),le.push(Z[1]-te[1]/3)),q.push(Z[0]),le.push(Z[1]),ce=Z;else for(Y=C.a2i(H),Q=Math.floor(Math.max(0,Math.min(U-2,Y))),j=Y-Q,oe.length=U,oe.crossLength=z,oe.xy=function(he){return C.evalxy([],Y,he)},oe.dxy=function(he,me){return C.dxydj([],Q,he,j,me)},J=0;J<z;J++)re=Math.min(z-2,J),ie=J-re,Z=C.evalxy([],Y,J),o.smoothing&&J>0&&(se=C.dxydj([],Q,J-1,j,0),q.push(ce[0]+se[0]/3),le.push(ce[1]+se[1]/3),ee=C.dxydj([],Q,J-1,j,1),q.push(Z[0]-ee[0]/3),le.push(Z[1]-ee[1]/3)),q.push(Z[0]),le.push(Z[1]),ce=Z;return oe.axisLetter=A,oe.axis=S,oe.crossAxis=o,oe.value=H,oe.constvar=v,oe.index=u,oe.x=q,oe.y=le,oe.smoothing=o.smoothing,oe}function O(H){var Y,J,re,ie,ce,Q=[],j=[],Z={};if(Z.length=E.length,Z.crossLength=w.length,A==="b")for(re=Math.max(0,Math.min(z-2,H)),ce=Math.min(1,Math.max(0,H-re)),Z.xy=function($){return C.evalxy([],$,H)},Z.dxy=function($,te){return C.dxydi([],$,re,te,ce)},Y=0;Y<F;Y++)Q[Y]=L[H*N][Y],j[Y]=m[H*N][Y];else for(J=Math.max(0,Math.min(U-2,H)),ie=Math.min(1,Math.max(0,H-J)),Z.xy=function($){return C.evalxy([],H,$)},Z.dxy=function($,te){return C.dxydj([],J,$,ie,te)},Y=0;Y<I;Y++)Q[Y]=L[Y][H*N],j[Y]=m[Y][H*N];return Z.axisLetter=A,Z.axis=S,Z.crossAxis=o,Z.value=E[H],Z.constvar=v,Z.index=H,Z.x=Q,Z.y=j,Z.smoothing=o.smoothing,Z}if(S.tickmode==="array"){for(s=5e-15,n=[Math.floor((E.length-1-S.arraytick0)/S.arraydtick*(1+s)),Math.ceil(-S.arraytick0/S.arraydtick/(1+s))].sort(function(H,Y){return H-Y}),i=n[0]-1,f=n[1]+1,u=i;u<f;u++)t=S.arraytick0+S.arraydtick*u,!(t<0||t>E.length-1)&&P.push(_(O(t),{color:S.gridcolor,width:S.gridwidth,dash:S.griddash}));for(u=i;u<f;u++)if(r=S.arraytick0+S.arraydtick*u,T=Math.min(r+S.arraydtick,E.length-1),!(r<0||r>E.length-1)&&!(T<0||T>E.length-1))for(h=E[r],l=E[T],p=0;p<S.minorgridcount;p++)d=T-r,!(d<=0)&&(c=h+(l-h)*(p+1)/(S.minorgridcount+1)*(S.arraydtick/d),!(c<E[0]||c>E[E.length-1])&&x.push(_(B(c),{color:S.minorgridcolor,width:S.minorgridwidth,dash:S.minorgriddash})));S.startline&&M.push(_(O(0),{color:S.startlinecolor,width:S.startlinewidth})),S.endline&&M.push(_(O(E.length-1),{color:S.endlinecolor,width:S.endlinewidth}))}else{for(s=5e-15,n=[Math.floor((E[E.length-1]-S.tick0)/S.dtick*(1+s)),Math.ceil((E[0]-S.tick0)/S.dtick/(1+s))].sort(function(H,Y){return H-Y}),i=n[0],f=n[1],u=i;u<=f;u++)y=S.tick0+S.dtick*u,P.push(_(B(y),{color:S.gridcolor,width:S.gridwidth,dash:S.griddash}));for(u=i-1;u<f+1;u++)for(y=S.tick0+S.dtick*u,p=0;p<S.minorgridcount;p++)c=y+S.dtick*(p+1)/(S.minorgridcount+1),!(c<E[0]||c>E[E.length-1])&&x.push(_(B(c),{color:S.minorgridcolor,width:S.minorgridwidth,dash:S.minorgriddash}));S.startline&&M.push(_(B(E[0]),{color:S.startlinecolor,width:S.startlinewidth})),S.endline&&M.push(_(B(E[E.length-1]),{color:S.endlinecolor,width:S.endlinewidth}))}}},83311:function(G,V,e){var g=e(89298),_=e(1426).extendFlat;G.exports=function(C,A){var v,p,t,r,s,n=A._labels=[],i=A._gridlines;for(v=0;v<i.length;v++)s=i[v],["start","both"].indexOf(A.showticklabels)!==-1&&(p=g.tickText(A,s.value),_(p,{prefix:t,suffix:r,endAnchor:!0,xy:s.xy(0),dxy:s.dxy(0,0),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:v===0,isLast:v===i.length-1}),n.push(p)),["end","both"].indexOf(A.showticklabels)!==-1&&(p=g.tickText(A,s.value),_(p,{endAnchor:!1,xy:s.xy(s.crossLength-1),dxy:s.dxy(s.crossLength-2,1),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:v===0,isLast:v===i.length-1}),n.push(p))}},42048:function(G){var V=.5;G.exports=function(g,_,a,C){var A=g[0]-_[0],v=g[1]-_[1],p=a[0]-_[0],t=a[1]-_[1],r=Math.pow(A*A+v*v,V/2),s=Math.pow(p*p+t*t,V/2),n=(s*s*A-r*r*p)*C,i=(s*s*v-r*r*t)*C,f=s*(r+s)*3,u=r*(r+s)*3;return[[_[0]+(f&&n/f),_[1]+(f&&i/f)],[_[0]-(u&&n/u),_[1]-(u&&i/u)]]}},53824:function(G,V,e){var g=e(71828).isArrayOrTypedArray;G.exports=function(_,a,C){var A,v,p,t,r,s,n=[],i=g(_)?_.length:_,f=g(a)?a.length:a,u=g(_)?_:null,y=g(a)?a:null;u&&(p=(u.length-1)/(u[u.length-1]-u[0])/(i-1)),y&&(t=(y.length-1)/(y[y.length-1]-y[0])/(f-1));var c,T=1/0,h=-1/0;for(v=0;v<f;v++)for(n[v]=[],s=y?(y[v]-y[0])*t:v/(f-1),A=0;A<i;A++)r=u?(u[A]-u[0])*p:A/(i-1),c=r-s*C,T=Math.min(c,T),h=Math.max(c,h),n[v][A]=c;var l=1/(h-T),d=-T*l;for(v=0;v<f;v++)for(A=0;A<i;A++)n[v][A]=l*n[v][A]+d;return n}},45664:function(G,V,e){var g=e(42048),_=e(71828).ensureArray;function a(C,A,v){var p=-.5*v[0]+1.5*A[0],t=-.5*v[1]+1.5*A[1];return[(2*p+C[0])/3,(2*t+C[1])/3]}G.exports=function(A,v,p,t,r,s){var n,i,f,u,y,c,T,h,l,d,E=p[0].length,S=p.length,P=r?3*E-2:E,x=s?3*S-2:S;for(A=_(A,x),v=_(v,x),f=0;f<x;f++)A[f]=_(A[f],P),v[f]=_(v[f],P);for(i=0,u=0;i<S;i++,u+=s?3:1)for(y=A[u],c=v[u],T=p[i],h=t[i],n=0,f=0;n<E;n++,f+=r?3:1)y[f]=T[n],c[f]=h[n];if(r)for(i=0,u=0;i<S;i++,u+=s?3:1){for(n=1,f=3;n<E-1;n++,f+=3)l=g([p[i][n-1],t[i][n-1]],[p[i][n],t[i][n]],[p[i][n+1],t[i][n+1]],r),A[u][f-1]=l[0][0],v[u][f-1]=l[0][1],A[u][f+1]=l[1][0],v[u][f+1]=l[1][1];d=a([A[u][0],v[u][0]],[A[u][2],v[u][2]],[A[u][3],v[u][3]]),A[u][1]=d[0],v[u][1]=d[1],d=a([A[u][P-1],v[u][P-1]],[A[u][P-3],v[u][P-3]],[A[u][P-4],v[u][P-4]]),A[u][P-2]=d[0],v[u][P-2]=d[1]}if(s)for(f=0;f<P;f++){for(u=3;u<x-3;u+=3)l=g([A[u-3][f],v[u-3][f]],[A[u][f],v[u][f]],[A[u+3][f],v[u+3][f]],s),A[u-1][f]=l[0][0],v[u-1][f]=l[0][1],A[u+1][f]=l[1][0],v[u+1][f]=l[1][1];d=a([A[0][f],v[0][f]],[A[2][f],v[2][f]],[A[3][f],v[3][f]]),A[1][f]=d[0],v[1][f]=d[1],d=a([A[x-1][f],v[x-1][f]],[A[x-3][f],v[x-3][f]],[A[x-4][f],v[x-4][f]]),A[x-2][f]=d[0],v[x-2][f]=d[1]}if(r&&s)for(u=1;u<x;u+=(u+1)%3===0?2:1){for(f=3;f<P-3;f+=3)l=g([A[u][f-3],v[u][f-3]],[A[u][f],v[u][f]],[A[u][f+3],v[u][f+3]],r),A[u][f-1]=.5*(A[u][f-1]+l[0][0]),v[u][f-1]=.5*(v[u][f-1]+l[0][1]),A[u][f+1]=.5*(A[u][f+1]+l[1][0]),v[u][f+1]=.5*(v[u][f+1]+l[1][1]);d=a([A[u][0],v[u][0]],[A[u][2],v[u][2]],[A[u][3],v[u][3]]),A[u][1]=.5*(A[u][1]+d[0]),v[u][1]=.5*(v[u][1]+d[1]),d=a([A[u][P-1],v[u][P-1]],[A[u][P-3],v[u][P-3]],[A[u][P-4],v[u][P-4]]),A[u][P-2]=.5*(A[u][P-2]+d[0]),v[u][P-2]=.5*(v[u][P-2]+d[1])}return[A,v]}},35509:function(G){G.exports={RELATIVE_CULL_TOLERANCE:1e-6}},54495:function(G){G.exports=function(V,e,g){return e&&g?function(_,a,C,A,v){_||(_=[]);var p,t,r,s,n,i;a*=3,C*=3;var f=A*A,u=1-A,y=u*u,c=u*A*2,T=-3*y,h=3*(y-c),l=3*(c-f),d=3*f,E=v*v,S=E*v,P=1-v,x=P*P,M=x*P;for(i=0;i<V.length;i++)n=V[i],p=T*n[C][a]+h*n[C][a+1]+l*n[C][a+2]+d*n[C][a+3],t=T*n[C+1][a]+h*n[C+1][a+1]+l*n[C+1][a+2]+d*n[C+1][a+3],r=T*n[C+2][a]+h*n[C+2][a+1]+l*n[C+2][a+2]+d*n[C+2][a+3],s=T*n[C+3][a]+h*n[C+3][a+1]+l*n[C+3][a+2]+d*n[C+3][a+3],_[i]=M*p+3*(x*v*t+P*E*r)+S*s;return _}:e?function(_,a,C,A,v){_||(_=[]);var p,t,r,s;a*=3;var n=A*A,i=1-A,f=i*i,u=i*A*2,y=-3*f,c=3*(f-u),T=3*(u-n),h=3*n,l=1-v;for(r=0;r<V.length;r++)s=V[r],p=y*s[C][a]+c*s[C][a+1]+T*s[C][a+2]+h*s[C][a+3],t=y*s[C+1][a]+c*s[C+1][a+1]+T*s[C+1][a+2]+h*s[C+1][a+3],_[r]=l*p+v*t;return _}:g?function(_,a,C,A,v){_||(_=[]);var p,t,r,s,n,i;C*=3;var f=v*v,u=f*v,y=1-v,c=y*y,T=c*y;for(n=0;n<V.length;n++)i=V[n],p=i[C][a+1]-i[C][a],t=i[C+1][a+1]-i[C+1][a],r=i[C+2][a+1]-i[C+2][a],s=i[C+3][a+1]-i[C+3][a],_[n]=T*p+3*(c*v*t+y*f*r)+u*s;return _}:function(_,a,C,A,v){_||(_=[]);var p,t,r,s,n=1-v;for(r=0;r<V.length;r++)s=V[r],p=s[C][a+1]-s[C][a],t=s[C+1][a+1]-s[C+1][a],_[r]=n*p+v*t;return _}}},73057:function(G){G.exports=function(V,e,g){return e&&g?function(_,a,C,A,v){_||(_=[]);var p,t,r,s,n,i;a*=3,C*=3;var f=A*A,u=f*A,y=1-A,c=y*y,T=c*y,h=v*v,l=1-v,d=l*l,E=l*v*2,S=-3*d,P=3*(d-E),x=3*(E-h),M=3*h;for(i=0;i<V.length;i++)n=V[i],p=S*n[C][a]+P*n[C+1][a]+x*n[C+2][a]+M*n[C+3][a],t=S*n[C][a+1]+P*n[C+1][a+1]+x*n[C+2][a+1]+M*n[C+3][a+1],r=S*n[C][a+2]+P*n[C+1][a+2]+x*n[C+2][a+2]+M*n[C+3][a+2],s=S*n[C][a+3]+P*n[C+1][a+3]+x*n[C+2][a+3]+M*n[C+3][a+3],_[i]=T*p+3*(c*A*t+y*f*r)+u*s;return _}:e?function(_,a,C,A,v){_||(_=[]);var p,t,r,s,n,i;a*=3;var f=v*v,u=f*v,y=1-v,c=y*y,T=c*y;for(n=0;n<V.length;n++)i=V[n],p=i[C+1][a]-i[C][a],t=i[C+1][a+1]-i[C][a+1],r=i[C+1][a+2]-i[C][a+2],s=i[C+1][a+3]-i[C][a+3],_[n]=T*p+3*(c*v*t+y*f*r)+u*s;return _}:g?function(_,a,C,A,v){_||(_=[]);var p,t,r,s;C*=3;var n=1-A,i=v*v,f=1-v,u=f*f,y=f*v*2,c=-3*u,T=3*(u-y),h=3*(y-i),l=3*i;for(r=0;r<V.length;r++)s=V[r],p=c*s[C][a]+T*s[C+1][a]+h*s[C+2][a]+l*s[C+3][a],t=c*s[C][a+1]+T*s[C+1][a+1]+h*s[C+2][a+1]+l*s[C+3][a+1],_[r]=n*p+A*t;return _}:function(_,a,C,A,v){_||(_=[]);var p,t,r,s,n=1-A;for(r=0;r<V.length;r++)s=V[r],p=s[C+1][a]-s[C][a],t=s[C+1][a+1]-s[C][a+1],_[r]=n*p+A*t;return _}}},20349:function(G){G.exports=function(V,e,g,_,a){var C=e-2,A=g-2;return _&&a?function(v,p,t){v||(v=[]);var r,s,n,i,f,u,y=Math.max(0,Math.min(Math.floor(p),C)),c=Math.max(0,Math.min(Math.floor(t),A)),T=Math.max(0,Math.min(1,p-y)),h=Math.max(0,Math.min(1,t-c));y*=3,c*=3;var l=T*T,d=l*T,E=1-T,S=E*E,P=S*E,x=h*h,M=x*h,w=1-h,o=w*w,L=o*w;for(u=0;u<V.length;u++)f=V[u],r=P*f[c][y]+3*(S*T*f[c][y+1]+E*l*f[c][y+2])+d*f[c][y+3],s=P*f[c+1][y]+3*(S*T*f[c+1][y+1]+E*l*f[c+1][y+2])+d*f[c+1][y+3],n=P*f[c+2][y]+3*(S*T*f[c+2][y+1]+E*l*f[c+2][y+2])+d*f[c+2][y+3],i=P*f[c+3][y]+3*(S*T*f[c+3][y+1]+E*l*f[c+3][y+2])+d*f[c+3][y+3],v[u]=L*r+3*(o*h*s+w*x*n)+M*i;return v}:_?function(v,p,t){v||(v=[]);var r=Math.max(0,Math.min(Math.floor(p),C)),s=Math.max(0,Math.min(Math.floor(t),A)),n=Math.max(0,Math.min(1,p-r)),i=Math.max(0,Math.min(1,t-s)),f,u,y,c,T,h;r*=3;var l=n*n,d=l*n,E=1-n,S=E*E,P=S*E,x=1-i;for(T=0;T<V.length;T++)h=V[T],f=x*h[s][r]+i*h[s+1][r],u=x*h[s][r+1]+i*h[s+1][r+1],y=x*h[s][r+2]+i*h[s+1][r+1],c=x*h[s][r+3]+i*h[s+1][r+1],v[T]=P*f+3*(S*n*u+E*l*y)+d*c;return v}:a?function(v,p,t){v||(v=[]);var r=Math.max(0,Math.min(Math.floor(p),C)),s=Math.max(0,Math.min(Math.floor(t),A)),n=Math.max(0,Math.min(1,p-r)),i=Math.max(0,Math.min(1,t-s)),f,u,y,c,T,h;s*=3;var l=i*i,d=l*i,E=1-i,S=E*E,P=S*E,x=1-n;for(T=0;T<V.length;T++)h=V[T],f=x*h[s][r]+n*h[s][r+1],u=x*h[s+1][r]+n*h[s+1][r+1],y=x*h[s+2][r]+n*h[s+2][r+1],c=x*h[s+3][r]+n*h[s+3][r+1],v[T]=P*f+3*(S*i*u+E*l*y)+d*c;return v}:function(v,p,t){v||(v=[]);var r=Math.max(0,Math.min(Math.floor(p),C)),s=Math.max(0,Math.min(Math.floor(t),A)),n=Math.max(0,Math.min(1,p-r)),i=Math.max(0,Math.min(1,t-s)),f,u,y,c,T=1-i,h=1-n;for(y=0;y<V.length;y++)c=V[y],f=h*c[s][r]+n*c[s][r+1],u=h*c[s+1][r]+n*c[s+1][r+1],v[y]=T*f+i*u;return v}}},92087:function(G,V,e){var g=e(71828),_=e(19237),a=e(13145),C=e(99798),A=e(22399);G.exports=function(p,t,r,s){function n(u,y){return g.coerce(p,t,C,u,y)}t._clipPathId="clip"+t.uid+"carpet";var i=n("color",A.defaultLine);if(g.coerceFont(n,"font"),n("carpet"),a(p,t,s,n,i),!t.a||!t.b){t.visible=!1;return}t.a.length<3&&(t.aaxis.smoothing=0),t.b.length<3&&(t.baxis.smoothing=0);var f=_(p,t,n);f||(t.visible=!1),t._cheater&&n("cheaterslope")}},21462:function(G,V,e){G.exports={attributes:e(99798),supplyDefaults:e(92087),plot:e(89740),calc:e(25281),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},22882:function(G){G.exports=function(V,e){for(var g=V._fullData.length,_,a=0;a<g;a++){var C=V._fullData[a];if(C.index!==e.index&&C.type==="carpet"&&(_||(_=C),C.carpet===e.carpet))return C}return _}},67961:function(G){G.exports=function(e,g,_){if(e.length===0)return"";var a,C=[],A=_?3:1;for(a=0;a<e.length;a+=A)C.push(e[a]+","+g[a]),_&&a<e.length-A&&(C.push("C"),C.push([e[a+1]+","+g[a+1],e[a+2]+","+g[a+2]+" "].join(" ")));return C.join(_?"":"L")}},27669:function(G,V,e){var g=e(71828).isArrayOrTypedArray;G.exports=function(a,C,A){var v;for(g(a)?a.length>C.length&&(a=a.slice(0,C.length)):a=[],v=0;v<C.length;v++)a[v]=A(C[v]);return a}},11651:function(G){G.exports=function(e,g,_,a,C,A){var v=C[0]*e.dpdx(g),p=C[1]*e.dpdy(_),t=1,r=1;if(A){var s=Math.sqrt(C[0]*C[0]+C[1]*C[1]),n=Math.sqrt(A[0]*A[0]+A[1]*A[1]),i=(C[0]*A[0]+C[1]*A[1])/s/n;r=Math.max(0,i)}var f=Math.atan2(p,v)*180/Math.PI;return f<-90?(f+=180,t=-t):f>90&&(f-=180,t=-t),{angle:f,flip:t,p:e.c2p(a,g,_),offsetMultplier:r}}},89740:function(G,V,e){var g=e(39898),_=e(91424),a=e(27669),C=e(67961),A=e(11651),v=e(63893),p=e(71828),t=p.strRotate,r=p.strTranslate,s=e(18783);G.exports=function(l,d,E,S){var P=l._context.staticPlot,x=d.xaxis,M=d.yaxis,w=l._fullLayout,o=w._clips;p.makeTraceGroups(S,E,"trace").each(function(L){var m=g.select(this),F=L[0],I=F.trace,U=I.aaxis,z=I.baxis,N=p.ensureSingle(m,"g","minorlayer"),B=p.ensureSingle(m,"g","majorlayer"),O=p.ensureSingle(m,"g","boundarylayer"),H=p.ensureSingle(m,"g","labellayer");m.style("opacity",I.opacity),i(x,M,B,U,"a",U._gridlines,!0),i(x,M,B,z,"b",z._gridlines,!0),i(x,M,N,U,"a",U._minorgridlines,!0),i(x,M,N,z,"b",z._minorgridlines,!0),i(x,M,O,U,"a-boundary",U._boundarylines,P),i(x,M,O,z,"b-boundary",z._boundarylines,P);var Y=f(l,x,M,I,F,H,U._labels,"a-label"),J=f(l,x,M,I,F,H,z._labels,"b-label");u(l,H,I,F,x,M,Y,J),n(I,F,o,x,M)})};function n(h,l,d,E,S){var P,x,M,w,o=d.select("#"+h._clipPathId);o.size()||(o=d.append("clipPath").classed("carpetclip",!0));var L=p.ensureSingle(o,"path","carpetboundary"),m=l.clipsegments,F=[];for(w=0;w<m.length;w++)P=m[w],x=a([],P.x,E.c2p),M=a([],P.y,S.c2p),F.push(C(x,M,P.bicubic));var I="M"+F.join("L")+"Z";o.attr("id",h._clipPathId),L.attr("d",I)}function i(h,l,d,E,S,P,x){var M="const-"+S+"-lines",w=d.selectAll("."+M).data(P);w.enter().append("path").classed(M,!0).style("vector-effect",x?"none":"non-scaling-stroke"),w.each(function(o){var L=o,m=L.x,F=L.y,I=a([],m,h.c2p),U=a([],F,l.c2p),z="M"+C(I,U,L.smoothing),N=g.select(this);N.attr("d",z).style("stroke-width",L.width).style("stroke",L.color).style("stroke-dasharray",_.dashStyle(L.dash,L.width)).style("fill","none")}),w.exit().remove()}function f(h,l,d,E,S,P,x,M){var w=P.selectAll("text."+M).data(x);w.enter().append("text").classed(M,!0);var o=0,L={};return w.each(function(m,F){var I;if(m.axis.tickangle==="auto")I=A(E,l,d,m.xy,m.dxy);else{var U=(m.axis.tickangle+180)*Math.PI/180;I=A(E,l,d,m.xy,[Math.cos(U),Math.sin(U)])}F||(L={angle:I.angle,flip:I.flip});var z=(m.endAnchor?-1:1)*I.flip,N=g.select(this).attr({"text-anchor":z>0?"start":"end","data-notex":1}).call(_.font,m.font).text(m.text).call(v.convertToTspans,h),B=_.bBox(this);N.attr("transform",r(I.p[0],I.p[1])+t(I.angle)+r(m.axis.labelpadding*z,B.height*.3)),o=Math.max(o,B.width+m.axis.labelpadding)}),w.exit().remove(),L.maxExtent=o,L}function u(h,l,d,E,S,P,x,M){var w,o,L,m,F=p.aggNums(Math.min,null,d.a),I=p.aggNums(Math.max,null,d.a),U=p.aggNums(Math.min,null,d.b),z=p.aggNums(Math.max,null,d.b);w=.5*(F+I),o=U,L=d.ab2xy(w,o,!0),m=d.dxyda_rough(w,o),x.angle===void 0&&p.extendFlat(x,A(d,S,P,L,d.dxydb_rough(w,o))),T(h,l,d,E,L,m,d.aaxis,S,P,x,"a-title"),w=F,o=.5*(U+z),L=d.ab2xy(w,o,!0),m=d.dxydb_rough(w,o),M.angle===void 0&&p.extendFlat(M,A(d,S,P,L,d.dxyda_rough(w,o))),T(h,l,d,E,L,m,d.baxis,S,P,M,"b-title")}var y=s.LINE_SPACING,c=(1-s.MID_SHIFT)/y+1;function T(h,l,d,E,S,P,x,M,w,o,L){var m=[];x.title.text&&m.push(x.title.text);var F=l.selectAll("text."+L).data(m),I=o.maxExtent;F.enter().append("text").classed(L,!0),F.each(function(){var U=A(d,M,w,S,P);["start","both"].indexOf(x.showticklabels)===-1&&(I=0);var z=x.title.font.size;I+=z+x.title.offset;var N=o.angle+(o.flip<0?180:0),B=(N-U.angle+450)%360,O=B>90&&B<270,H=g.select(this);H.text(x.title.text).call(v.convertToTspans,h),O&&(I=(-v.lineCount(H)+c)*y*z-I),H.attr("transform",r(U.p[0],U.p[1])+t(U.angle)+r(0,I)).attr("text-anchor","middle").call(_.font,x.title.font)}),F.exit().remove()}},11435:function(G,V,e){var g=e(35509),_=e(65888).findBin,a=e(45664),C=e(20349),A=e(54495),v=e(73057);G.exports=function(t){var r=t._a,s=t._b,n=r.length,i=s.length,f=t.aaxis,u=t.baxis,y=r[0],c=r[n-1],T=s[0],h=s[i-1],l=r[r.length-1]-r[0],d=s[s.length-1]-s[0],E=l*g.RELATIVE_CULL_TOLERANCE,S=d*g.RELATIVE_CULL_TOLERANCE;y-=E,c+=E,T-=S,h+=S,t.isVisible=function(P,x){return P>y&&P<c&&x>T&&x<h},t.isOccluded=function(P,x){return P<y||P>c||x<T||x>h},t.setScale=function(){var P=t._x,x=t._y,M=a(t._xctrl,t._yctrl,P,x,f.smoothing,u.smoothing);t._xctrl=M[0],t._yctrl=M[1],t.evalxy=C([t._xctrl,t._yctrl],n,i,f.smoothing,u.smoothing),t.dxydi=A([t._xctrl,t._yctrl],f.smoothing,u.smoothing),t.dxydj=v([t._xctrl,t._yctrl],f.smoothing,u.smoothing)},t.i2a=function(P){var x=Math.max(0,Math.floor(P[0]),n-2),M=P[0]-x;return(1-M)*r[x]+M*r[x+1]},t.j2b=function(P){var x=Math.max(0,Math.floor(P[1]),n-2),M=P[1]-x;return(1-M)*s[x]+M*s[x+1]},t.ij2ab=function(P){return[t.i2a(P[0]),t.j2b(P[1])]},t.a2i=function(P){var x=Math.max(0,Math.min(_(P,r),n-2)),M=r[x],w=r[x+1];return Math.max(0,Math.min(n-1,x+(P-M)/(w-M)))},t.b2j=function(P){var x=Math.max(0,Math.min(_(P,s),i-2)),M=s[x],w=s[x+1];return Math.max(0,Math.min(i-1,x+(P-M)/(w-M)))},t.ab2ij=function(P){return[t.a2i(P[0]),t.b2j(P[1])]},t.i2c=function(P,x){return t.evalxy([],P,x)},t.ab2xy=function(P,x,M){if(!M&&(P<r[0]||P>r[n-1]|x<s[0]||x>s[i-1]))return[!1,!1];var w=t.a2i(P),o=t.b2j(x),L=t.evalxy([],w,o);if(M){var m=0,F=0,I=[],U,z,N,B;P<r[0]?(U=0,z=0,m=(P-r[0])/(r[1]-r[0])):P>r[n-1]?(U=n-2,z=1,m=(P-r[n-1])/(r[n-1]-r[n-2])):(U=Math.max(0,Math.min(n-2,Math.floor(w))),z=w-U),x<s[0]?(N=0,B=0,F=(x-s[0])/(s[1]-s[0])):x>s[i-1]?(N=i-2,B=1,F=(x-s[i-1])/(s[i-1]-s[i-2])):(N=Math.max(0,Math.min(i-2,Math.floor(o))),B=o-N),m&&(t.dxydi(I,U,N,z,B),L[0]+=I[0]*m,L[1]+=I[1]*m),F&&(t.dxydj(I,U,N,z,B),L[0]+=I[0]*F,L[1]+=I[1]*F)}return L},t.c2p=function(P,x,M){return[x.c2p(P[0]),M.c2p(P[1])]},t.p2x=function(P,x,M){return[x.p2c(P[0]),M.p2c(P[1])]},t.dadi=function(P){var x=Math.max(0,Math.min(r.length-2,P));return r[x+1]-r[x]},t.dbdj=function(P){var x=Math.max(0,Math.min(s.length-2,P));return s[x+1]-s[x]},t.dxyda=function(P,x,M,w){var o=t.dxydi(null,P,x,M,w),L=t.dadi(P,M);return[o[0]/L,o[1]/L]},t.dxydb=function(P,x,M,w){var o=t.dxydj(null,P,x,M,w),L=t.dbdj(x,w);return[o[0]/L,o[1]/L]},t.dxyda_rough=function(P,x,M){var w=l*(M||.1),o=t.ab2xy(P+w,x,!0),L=t.ab2xy(P-w,x,!0);return[(o[0]-L[0])*.5/w,(o[1]-L[1])*.5/w]},t.dxydb_rough=function(P,x,M){var w=d*(M||.1),o=t.ab2xy(P,x+w,!0),L=t.ab2xy(P,x-w,!0);return[(o[0]-L[0])*.5/w,(o[1]-L[1])*.5/w]},t.dpdx=function(P){return P._m},t.dpdy=function(P){return P._m}}},72505:function(G,V,e){var g=e(71828);G.exports=function(a,C,A){var v,p,t,r=[],s=[],n=a[0].length,i=a.length;function f(J,re){var ie=0,ce,Q=0;return J>0&&(ce=a[re][J-1])!==void 0&&(Q++,ie+=ce),J<n-1&&(ce=a[re][J+1])!==void 0&&(Q++,ie+=ce),re>0&&(ce=a[re-1][J])!==void 0&&(Q++,ie+=ce),re<i-1&&(ce=a[re+1][J])!==void 0&&(Q++,ie+=ce),ie/Math.max(1,Q)}var u=0;for(v=0;v<n;v++)for(p=0;p<i;p++)a[p][v]===void 0&&(r.push(v),s.push(p),a[p][v]=f(v,p)),u=Math.max(u,Math.abs(a[p][v]));if(!r.length)return a;var y,c,T,h,l,d,E,S,P,x,M,w=1e-5,o=0,L=100,m=0,F=r.length;do{for(o=0,t=0;t<F;t++){v=r[t],p=s[t];var I=0,U=0,z,N,B,O,H,Y;v===0?(H=Math.min(n-1,2),B=C[H],O=C[1],z=a[p][H],N=a[p][1],U+=N+(N-z)*(C[0]-O)/(O-B),I++):v===n-1&&(H=Math.max(0,n-3),B=C[H],O=C[n-2],z=a[p][H],N=a[p][n-2],U+=N+(N-z)*(C[n-1]-O)/(O-B),I++),(v===0||v===n-1)&&p>0&&p<i-1&&(y=A[p+1]-A[p],c=A[p]-A[p-1],U+=(c*a[p+1][v]+y*a[p-1][v])/(c+y),I++),p===0?(Y=Math.min(i-1,2),B=A[Y],O=A[1],z=a[Y][v],N=a[1][v],U+=N+(N-z)*(A[0]-O)/(O-B),I++):p===i-1&&(Y=Math.max(0,i-3),B=A[Y],O=A[i-2],z=a[Y][v],N=a[i-2][v],U+=N+(N-z)*(A[i-1]-O)/(O-B),I++),(p===0||p===i-1)&&v>0&&v<n-1&&(y=C[v+1]-C[v],c=C[v]-C[v-1],U+=(c*a[p][v+1]+y*a[p][v-1])/(c+y),I++),I?U/=I:(T=C[v+1]-C[v],h=C[v]-C[v-1],l=A[p+1]-A[p],d=A[p]-A[p-1],E=T*h*(T+h),S=l*d*(l+d),U=(E*(d*a[p+1][v]+l*a[p-1][v])+S*(h*a[p][v+1]+T*a[p][v-1]))/(S*(h+T)+E*(d+l))),P=U-a[p][v],x=P/u,o+=x*x,M=I?0:.85,a[p][v]+=P*(1+M)}o=Math.sqrt(o)}while(m++<L&&o>w);return g.log("Smoother converged to",o,"after",m,"iterations"),a}},19237:function(G,V,e){var g=e(71828).isArray1D;G.exports=function(a,C,A){var v=A("x"),p=v&&v.length,t=A("y"),r=t&&t.length;if(!p&&!r)return!1;if(C._cheater=!v,(!p||g(v))&&(!r||g(t))){var s=p?v.length:1/0;r&&(s=Math.min(s,t.length)),C.a&&C.a.length&&(s=Math.min(s,C.a.length)),C.b&&C.b.length&&(s=Math.min(s,C.b.length)),C._length=s}else C._length=null;return!0}},69568:function(G,V,e){var g=e(5386).fF,_=e(19316),a=e(50693),C=e(9012),A=e(22399).defaultLine,v=e(1426).extendFlat,p=_.marker.line;G.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:_.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},_.geojson,{}),featureidkey:_.featureidkey,text:v({},_.text,{}),hovertext:v({},_.hovertext,{}),marker:{line:{color:v({},p.color,{dflt:A}),width:v({},p.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:_.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:_.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},C.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:g(),showlegend:v({},C.showlegend,{dflt:!1})},a("",{cLetter:"z",editTypeOverride:"calc"}))},38675:function(G,V,e){var g=e(92770),_=e(50606).BADNUM,a=e(78803),C=e(75225),A=e(66279);function v(p){return p&&typeof p=="string"}G.exports=function(t,r){var s=r._length,n=new Array(s),i;r.geojson?i=function(T){return v(T)||g(T)}:i=v;for(var f=0;f<s;f++){var u=n[f]={},y=r.locations[f],c=r.z[f];i(y)&&g(c)?(u.loc=y,u.z=c):(u.loc=null,u.z=_),u.index=f}return C(n,r),a(t,r,{vals:r.z,containerStr:"",cLetter:"z"}),A(n,r),n}},61869:function(G,V,e){var g=e(71828),_=e(1586),a=e(69568);G.exports=function(A,v,p,t){function r(c,T){return g.coerce(A,v,a,c,T)}var s=r("locations"),n=r("z");if(!(s&&s.length&&g.isArrayOrTypedArray(n)&&n.length)){v.visible=!1;return}v._length=Math.min(s.length,n.length);var i=r("geojson"),f;(typeof i=="string"&&i!==""||g.isPlainObject(i))&&(f="geojson-id");var u=r("locationmode",f);u==="geojson-id"&&r("featureidkey"),r("text"),r("hovertext"),r("hovertemplate");var y=r("marker.line.width");y&&r("marker.line.color"),r("marker.opacity"),_(A,v,t,r,{prefix:"",cLetter:"z"}),g.coerceSelectionMarkerOpacity(v,r)}},92069:function(G){G.exports=function(e,g,_,a,C){e.location=g.location,e.z=g.z;var A=a[C];return A.fIn&&A.fIn.properties&&(e.properties=A.fIn.properties),e.ct=A.ct,e}},42300:function(G,V,e){var g=e(89298),_=e(69568),a=e(71828).fillText;G.exports=function(v,p,t){var r=v.cd,s=r[0].trace,n=v.subplot,i,f,u,y,c=[p,t],T=[p+360,t];for(f=0;f<r.length;f++)if(i=r[f],y=!1,i._polygons){for(u=0;u<i._polygons.length;u++)i._polygons[u].contains(c)&&(y=!y),i._polygons[u].contains(T)&&(y=!y);if(y)break}if(!(!y||!i))return v.x0=v.x1=v.xa.c2p(i.ct),v.y0=v.y1=v.ya.c2p(i.ct),v.index=i.index,v.location=i.loc,v.z=i.z,v.zLabel=g.tickText(n.mockAxis,n.mockAxis.c2l(i.z),"hover").text,v.hovertemplate=i.hovertemplate,C(v,s,i),[v]};function C(A,v,p){if(!v.hovertemplate){var t=p.hi||v.hoverinfo,r=String(p.loc),s=t==="all"?_.hoverinfo.flags:t.split("+"),n=s.indexOf("name")!==-1,i=s.indexOf("location")!==-1,f=s.indexOf("z")!==-1,u=s.indexOf("text")!==-1,y=!n&&i,c=[];y?A.nameOverride=r:(n&&(A.nameOverride=v.name),i&&c.push(r)),f&&c.push(A.zLabel),u&&a(p,v,c),A.extraText=c.join("<br>")}}},51319:function(G,V,e){G.exports={attributes:e(69568),supplyDefaults:e(61869),colorbar:e(61243),calc:e(38675),calcGeoJSON:e(99841).calcGeoJSON,plot:e(99841).plot,style:e(99636).style,styleOnSelect:e(99636).styleOnSelect,hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),moduleType:"trace",name:"choropleth",basePlotModule:e(44622),categories:["geo","noOpacity","showLegend"],meta:{}}},99841:function(G,V,e){var g=e(39898),_=e(71828),a=e(41327),C=e(90973).getTopojsonFeatures,A=e(71739).findExtremes,v=e(99636).style;function p(r,s,n){var i=s.layers.backplot.select(".choroplethlayer");_.makeTraceGroups(i,n,"trace choropleth").each(function(f){var u=g.select(this),y=u.selectAll("path.choroplethlocation").data(_.identity);y.enter().append("path").classed("choroplethlocation",!0),y.exit().remove(),v(r,f)})}function t(r,s){for(var n=r[0].trace,i=s[n.geo],f=i._subplot,u=n.locationmode,y=n._length,c=u==="geojson-id"?a.extractTraceFeature(r):C(n,f.topojson),T=[],h=[],l=0;l<y;l++){var d=r[l],E=u==="geojson-id"?d.fOut:a.locationToFeature(u,d.loc,c);if(E){d.geojson=E,d.ct=E.properties.ct,d._polygons=a.feature2polygons(E);var S=a.computeBbox(E);T.push(S[0],S[2]),h.push(S[1],S[3])}else d.geojson=null}if(i.fitbounds==="geojson"&&u==="geojson-id"){var P=a.computeBbox(a.getTraceGeojson(n));T=[P[0],P[2]],h=[P[1],P[3]]}var x={padded:!0};n._extremes.lon=A(i.lonaxis._ax,T,x),n._extremes.lat=A(i.lataxis._ax,h,x)}G.exports={calcGeoJSON:t,plot:p}},81253:function(G){G.exports=function(e,g){var _=e.cd,a=e.xaxis,C=e.yaxis,A=[],v,p,t,r,s;if(g===!1)for(v=0;v<_.length;v++)_[v].selected=0;else for(v=0;v<_.length;v++)p=_[v],t=p.ct,t&&(r=a.c2p(t),s=C.c2p(t),g.contains([r,s],null,v,e)?(A.push({pointNumber:v,lon:t[0],lat:t[1]}),p.selected=1):p.selected=0);return A}},99636:function(G,V,e){var g=e(39898),_=e(7901),a=e(91424),C=e(21081);function A(t,r){r&&v(t,r)}function v(t,r){var s=r[0].trace,n=r[0].node3,i=n.selectAll(".choroplethlocation"),f=s.marker||{},u=f.line||{},y=C.makeColorScaleFuncFromTrace(s);i.each(function(c){g.select(this).attr("fill",y(c.z)).call(_.stroke,c.mlc||u.color).call(a.dashLine,"",c.mlw||u.width||0).style("opacity",f.opacity)}),a.selectedPointStyle(i,s)}function p(t,r){var s=r[0].node3,n=r[0].trace;n.selectedpoints?a.selectedPointStyle(s.selectAll(".choroplethlocation"),n):v(t,r)}G.exports={style:A,styleOnSelect:p}},64496:function(G,V,e){var g=e(69568),_=e(50693),a=e(5386).fF,C=e(9012),A=e(1426).extendFlat;G.exports=A({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:A({},g.featureidkey,{}),below:{valType:"string",editType:"plot"},text:g.text,hovertext:g.hovertext,marker:{line:{color:A({},g.marker.line.color,{editType:"plot"}),width:A({},g.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:A({},g.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:A({},g.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:A({},g.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:g.hoverinfo,hovertemplate:a({},{keys:["properties"]}),showlegend:A({},C.showlegend,{dflt:!1})},_("",{cLetter:"z",editTypeOverride:"calc"}))},82004:function(G,V,e){var g=e(92770),_=e(71828),a=e(21081),C=e(91424),A=e(18214).makeBlank,v=e(41327);function p(r){var s=r[0].trace,n=s.visible===!0&&s._length!==0,i={layout:{visibility:"none"},paint:{}},f={layout:{visibility:"none"},paint:{}},u=s._opts={fill:i,line:f,geojson:A()};if(!n)return u;var y=v.extractTraceFeature(r);if(!y)return u;var c=a.makeColorScaleFuncFromTrace(s),T=s.marker,h=T.line||{},l;_.isArrayOrTypedArray(T.opacity)&&(l=function(o){var L=o.mo;return g(L)?+_.constrain(L,0,1):0});var d;_.isArrayOrTypedArray(h.color)&&(d=function(o){return o.mlc});var E;_.isArrayOrTypedArray(h.width)&&(E=function(o){return o.mlw});for(var S=0;S<r.length;S++){var P=r[S],x=P.fOut;if(x){var M=x.properties;M.fc=c(P.z),l&&(M.mo=l(P)),d&&(M.mlc=d(P)),E&&(M.mlw=E(P)),P.ct=M.ct,P._polygons=v.feature2polygons(x)}}var w=l?{type:"identity",property:"mo"}:T.opacity;return _.extendFlat(i.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":w}),_.extendFlat(f.paint,{"line-color":d?{type:"identity",property:"mlc"}:h.color,"line-width":E?{type:"identity",property:"mlw"}:h.width,"line-opacity":w}),i.layout.visibility="visible",f.layout.visibility="visible",u.geojson={type:"FeatureCollection",features:y},t(r),u}function t(r){var s=r[0].trace,n=s._opts,i;if(s.selectedpoints){for(var f=C.makeSelectedPointStyleFns(s),u=0;u<r.length;u++){var y=r[u];y.fOut&&(y.fOut.properties.mo2=f.selectedOpacityFn(y))}i={type:"identity",property:"mo2"}}else i=_.isArrayOrTypedArray(s.marker.opacity)?{type:"identity",property:"mo"}:s.marker.opacity;return _.extendFlat(n.fill.paint,{"fill-opacity":i}),_.extendFlat(n.line.paint,{"line-opacity":i}),n}G.exports={convert:p,convertOnSelect:t}},22654:function(G,V,e){var g=e(71828),_=e(1586),a=e(64496);G.exports=function(A,v,p,t){function r(u,y){return g.coerce(A,v,a,u,y)}var s=r("locations"),n=r("z"),i=r("geojson");if(!g.isArrayOrTypedArray(s)||!s.length||!g.isArrayOrTypedArray(n)||!n.length||!(typeof i=="string"&&i!==""||g.isPlainObject(i))){v.visible=!1;return}r("featureidkey"),v._length=Math.min(s.length,n.length),r("below"),r("text"),r("hovertext"),r("hovertemplate");var f=r("marker.line.width");f&&r("marker.line.color"),r("marker.opacity"),_(A,v,t,r,{prefix:"",cLetter:"z"}),g.coerceSelectionMarkerOpacity(v,r)}},57516:function(G,V,e){G.exports={attributes:e(64496),supplyDefaults:e(22654),colorbar:e(61243),calc:e(38675),plot:e(7852),hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),styleOnSelect:function(g,_){if(_){var a=_[0].trace;a._glTrace.updateOnSelect(_)}},getBelow:function(g,_){for(var a=_.getMapLayers(),C=a.length-2;C>=0;C--){var A=a[C].id;if(typeof A=="string"&&A.indexOf("water")===0){for(var v=C+1;v<a.length;v++)if(A=a[v].id,typeof A=="string"&&A.indexOf("plotly-")===-1)return A}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(50101),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},7852:function(G,V,e){var g=e(82004).convert,_=e(82004).convertOnSelect,a=e(77734).traceLayerPrefix;function C(v,p){this.type="choroplethmapbox",this.subplot=v,this.uid=p,this.sourceId="source-"+p,this.layerList=[["fill",a+p+"-fill"],["line",a+p+"-line"]],this.below=null}var A=C.prototype;A.update=function(v){this._update(g(v)),v[0].trace._glTrace=this},A.updateOnSelect=function(v){this._update(_(v))},A._update=function(v){var p=this.subplot,t=this.layerList,r=p.belowLookup["trace-"+this.uid];p.map.getSource(this.sourceId).setData(v.geojson),r!==this.below&&(this._removeLayers(),this._addLayers(v,r),this.below=r);for(var s=0;s<t.length;s++){var n=t[s],i=n[0],f=n[1],u=v[i];p.setOptions(f,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&p.setOptions(f,"setPaintProperty",u.paint)}},A._addLayers=function(v,p){for(var t=this.subplot,r=this.layerList,s=this.sourceId,n=0;n<r.length;n++){var i=r[n],f=i[0],u=v[f];t.addLayer({type:f,id:i[1],source:s,layout:u.layout,paint:u.paint},p)}},A._removeLayers=function(){for(var v=this.subplot.map,p=this.layerList,t=p.length-1;t>=0;t--)v.removeLayer(p[t][1])},A.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},G.exports=function(p,t){var r=t[0].trace,s=new C(p,r.uid),n=s.sourceId,i=g(t),f=s.below=p.belowLookup["trace-"+r.uid];return p.map.addSource(n,{type:"geojson",data:i.geojson}),s._addLayers(i,f),t[0].trace._glTrace=s,s}},12674:function(G,V,e){var g=e(50693),_=e(12663).axisHoverFormat,a=e(5386).fF,C=e(2418),A=e(9012),v=e(1426).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["norm"]}),uhoverformat:_("u",1),vhoverformat:_("v",1),whoverformat:_("w",1),xhoverformat:_("x"),yhoverformat:_("y"),zhoverformat:_("z"),showlegend:v({},A.showlegend,{dflt:!1})};v(p,g("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var t=["opacity","lightposition","lighting"];t.forEach(function(r){p[r]=C[r]}),p.hoverinfo=v({},A.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,G.exports=p},31371:function(G,V,e){var g=e(78803);G.exports=function(a,C){for(var A=C.u,v=C.v,p=C.w,t=Math.min(C.x.length,C.y.length,C.z.length,A.length,v.length,p.length),r=-1/0,s=1/0,n=0;n<t;n++){var i=A[n],f=v[n],u=p[n],y=Math.sqrt(i*i+f*f+u*u);r=Math.max(r,y),s=Math.min(s,y)}C._len=t,C._normMax=r,g(a,C,{vals:[s,r],containerStr:"",cLetter:"c"})}},5453:function(G,V,e){var g=e(9330).gl_cone3d,_=e(9330).gl_cone3d.createConeMesh,a=e(71828).simpleMap,C=e(81697).parseColorScale,A=e(21081).extractOpts,v=e(90060);function p(u,y){this.scene=u,this.uid=y,this.mesh=null,this.data=null}var t=p.prototype;t.handlePick=function(u){if(u.object===this.mesh){var y=u.index=u.data.index,c=this.data.x[y],T=this.data.y[y],h=this.data.z[y],l=this.data.u[y],d=this.data.v[y],E=this.data.w[y];u.traceCoordinate=[c,T,h,l,d,E,Math.sqrt(l*l+d*d+E*E)];var S=this.data.hovertext||this.data.text;return Array.isArray(S)&&S[y]!==void 0?u.textLabel=S[y]:S&&(u.textLabel=S),!0}};var r={xaxis:0,yaxis:1,zaxis:2},s={tip:1,tail:0,cm:.25,center:.5},n={tip:1,tail:1,cm:.75,center:.5};function i(u,y){var c=u.fullSceneLayout,T=u.dataScale,h={};function l(P,x){var M=c[x],w=T[r[x]];return a(P,function(o){return M.d2l(o)*w})}h.vectors=v(l(y.u,"xaxis"),l(y.v,"yaxis"),l(y.w,"zaxis"),y._len),h.positions=v(l(y.x,"xaxis"),l(y.y,"yaxis"),l(y.z,"zaxis"),y._len);var d=A(y);h.colormap=C(y),h.vertexIntensityBounds=[d.min/y._normMax,d.max/y._normMax],h.coneOffset=s[y.anchor],y.sizemode==="scaled"?h.coneSize=y.sizeref||.5:h.coneSize=y.sizeref&&y._normMax?y.sizeref/y._normMax:.5;var E=g(h),S=y.lightposition;return E.lightPosition=[S.x,S.y,S.z],E.ambient=y.lighting.ambient,E.diffuse=y.lighting.diffuse,E.specular=y.lighting.specular,E.roughness=y.lighting.roughness,E.fresnel=y.lighting.fresnel,E.opacity=y.opacity,y._pad=n[y.anchor]*E.vectorScale*E.coneScale*y._normMax,E}t.update=function(u){this.data=u;var y=i(this.scene,u);this.mesh.update(y)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function f(u,y){var c=u.glplot.gl,T=i(u,y),h=_(c,T),l=new p(u,y.uid);return l.mesh=h,l.data=y,h._trace=l,u.glplot.add(h),l}G.exports=f},91750:function(G,V,e){var g=e(71828),_=e(1586),a=e(12674);G.exports=function(A,v,p,t){function r(c,T){return g.coerce(A,v,a,c,T)}var s=r("u"),n=r("v"),i=r("w"),f=r("x"),u=r("y"),y=r("z");if(!s||!s.length||!n||!n.length||!i||!i.length||!f||!f.length||!u||!u.length||!y||!y.length){v.visible=!1;return}r("sizeref"),r("sizemode"),r("anchor"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),_(A,v,t,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),v._length=null}},98128:function(G,V,e){G.exports={moduleType:"trace",name:"cone",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(12674),supplyDefaults:e(91750),colorbar:{min:"cmin",max:"cmax"},calc:e(31371),plot:e(5453),eventData:function(g,_){return g.norm=_.traceCoordinate[6],g},meta:{}}},70600:function(G,V,e){var g=e(21606),_=e(82196),a=e(12663),C=a.axisHoverFormat,A=a.descriptionOnlyNumbers,v=e(50693),p=e(79952).P,t=e(41940),r=e(1426).extendFlat,s=e(74808),n=s.COMPARISON_OPS2,i=s.INTERVAL_OPS,f=_.line;G.exports=r({z:g.z,x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:_.xperiod0,yperiod0:_.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,text:g.text,hovertext:g.hovertext,transpose:g.transpose,xtype:g.xtype,ytype:g.ytype,xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:g.hovertemplate,texttemplate:r({},g.texttemplate,{}),textfont:r({},g.textfont,{}),hoverongaps:g.hoverongaps,connectgaps:r({},g.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:t({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:A("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(i),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:r({},f.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:p,smoothing:r({},f.smoothing,{}),editType:"plot"}},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(G,V,e){var g=e(21081),_=e(90757),a=e(18670),C=e(53572);G.exports=function(v,p){var t=_(v,p),r=t[0].z;a(p,r);var s=p.contours,n=g.extractOpts(p),i;if(s.coloring==="heatmap"&&n.auto&&p.autocontour===!1){var f=s.start,u=C(s),y=s.size||1,c=Math.floor((u-f)/y)+1;isFinite(y)||(y=1,c=1);var T=f-y/2,h=T+c*y;i=[T,h]}else i=r;return g.calc(v,p,{vals:i,cLetter:"z"}),t}},20083:function(G){G.exports=function(V,e){var g=V[0],_=g.z,a;switch(e.type){case"levels":var C=Math.min(_[0][0],_[0][1]);for(a=0;a<V.length;a++){var A=V[a];A.prefixBoundary=!A.edgepaths.length&&(C>A.level||A.starts.length&&C===A.level)}break;case"constraint":if(g.prefixBoundary=!1,g.edgepaths.length)return;var v=g.x.length,p=g.y.length,t=-1/0,r=1/0;for(a=0;a<p;a++)r=Math.min(r,_[a][0]),r=Math.min(r,_[a][v-1]),t=Math.max(t,_[a][0]),t=Math.max(t,_[a][v-1]);for(a=1;a<v-1;a++)r=Math.min(r,_[0][a]),r=Math.min(r,_[p-1][a]),t=Math.max(t,_[0][a]),t=Math.max(t,_[p-1][a]);var s=e.value,n,i;switch(e._operation){case">":s>t&&(g.prefixBoundary=!0);break;case"<":(s<r||g.starts.length&&s===r)&&(g.prefixBoundary=!0);break;case"[]":n=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]),(i<r||n>t||g.starts.length&&i===r)&&(g.prefixBoundary=!0);break;case"][":n=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]),n<r&&i>t&&(g.prefixBoundary=!0);break}break}}},90654:function(G,V,e){var g=e(21081),_=e(86068),a=e(53572);function C(A,v,p){var t=v.contours,r=v.line,s=t.size||1,n=t.coloring,i=_(v,{isColorbar:!0});if(n==="heatmap"){var f=g.extractOpts(v);p._fillgradient=f.reversescale?g.flipScale(f.colorscale):f.colorscale,p._zrange=[f.min,f.max]}else n==="fill"&&(p._fillcolor=i);p._line={color:n==="lines"?i:r.color,width:t.showlines!==!1?r.width:0,dash:r.dash},p._levels={start:t.start,end:a(t),size:s}}G.exports={min:"zmin",max:"zmax",calc:C}},36914:function(G){G.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(G,V,e){var g=e(92770),_=e(14523),a=e(7901),C=a.addOpacity,A=a.opacity,v=e(74808),p=v.CONSTRAINT_REDUCTION,t=v.COMPARISON_OPS2;G.exports=function(n,i,f,u,y,c){var T=i.contours,h,l,d,E=f("contours.operation");if(T._operation=p[E],r(f,T),E==="="?h=T.showlines=!0:(h=f("contours.showlines"),d=f("fillcolor",C((n.line||{}).color||y,.5))),h){var S=d&&A(d)?C(i.fillcolor,1):y;l=f("line.color",S),f("line.width",2),f("line.dash")}f("line.smoothing"),_(f,u,l,c)};function r(s,n){var i;t.indexOf(n.operation)===-1?(s("contours.value",[0,1]),Array.isArray(n.value)?n.value.length>2?n.value=n.value.slice(2):n.length===0?n.value=[0,1]:n.length<2?(i=parseFloat(n.value[0]),n.value=[i,i+1]):n.value=[parseFloat(n.value[0]),parseFloat(n.value[1])]:g(n.value)&&(i=parseFloat(n.value),n.value=[i,i+1])):(s("contours.value",0),g(n.value)||(Array.isArray(n.value)?n.value=parseFloat(n.value[0]):n.value=0))}},64237:function(G,V,e){var g=e(74808),_=e(92770);G.exports={"[]":C("[]"),"][":C("]["),">":A(">"),"<":A("<"),"=":A("=")};function a(v,p){var t=Array.isArray(p),r;function s(n){return _(n)?+n:null}return g.COMPARISON_OPS2.indexOf(v)!==-1?r=s(t?p[0]:p):g.INTERVAL_OPS.indexOf(v)!==-1?r=t?[s(p[0]),s(p[1])]:[s(p),s(p)]:g.SET_OPS.indexOf(v)!==-1&&(r=t?p.map(s):[s(p)]),r}function C(v){return function(p){p=a(v,p);var t=Math.min(p[0],p[1]),r=Math.max(p[0],p[1]);return{start:t,end:r,size:r-t}}}function A(v){return function(p){return p=a(v,p),{start:p,end:1/0,size:1/0}}}},67217:function(G){G.exports=function(e,g,_,a){var C=a("contours.start"),A=a("contours.end"),v=C===!1||A===!1,p=_("contours.size"),t;v?t=g.autocontour=!0:t=_("autocontour",!1),(t||!p)&&_("ncontours")}},84857:function(G,V,e){var g=e(71828);G.exports=function(a,C){var A,v,p,t=function(n){return n.reverse()},r=function(n){return n};switch(C){case"=":case"<":return a;case">":for(a.length!==1&&g.warn("Contour data invalid for the specified inequality operation."),v=a[0],A=0;A<v.edgepaths.length;A++)v.edgepaths[A]=t(v.edgepaths[A]);for(A=0;A<v.paths.length;A++)v.paths[A]=t(v.paths[A]);for(A=0;A<v.starts.length;A++)v.starts[A]=t(v.starts[A]);return a;case"][":var s=t;t=r,r=s;case"[]":for(a.length!==2&&g.warn("Contour data invalid for the specified inequality range operation."),v=_(a[0]),p=_(a[1]),A=0;A<v.edgepaths.length;A++)v.edgepaths[A]=t(v.edgepaths[A]);for(A=0;A<v.paths.length;A++)v.paths[A]=t(v.paths[A]);for(A=0;A<v.starts.length;A++)v.starts[A]=t(v.starts[A]);for(;p.edgepaths.length;)v.edgepaths.push(r(p.edgepaths.shift()));for(;p.paths.length;)v.paths.push(r(p.paths.shift()));for(;p.starts.length;)v.starts.push(r(p.starts.shift()));return[v]}};function _(a){return g.extendFlat({},a,{edgepaths:g.extendDeep([],a.edgepaths),paths:g.extendDeep([],a.paths),starts:g.extendDeep([],a.starts)})}},13031:function(G,V,e){var g=e(71828),_=e(67684),a=e(73927),C=e(83179),A=e(67217),v=e(8724),p=e(58623),t=e(70600);G.exports=function(s,n,i,f){function u(h,l){return g.coerce(s,n,t,h,l)}function y(h){return g.coerce2(s,n,t,h)}var c=_(s,n,u,f);if(!c){n.visible=!1;return}a(s,n,f,u),u("xhoverformat"),u("yhoverformat"),u("text"),u("hovertext"),u("hoverongaps"),u("hovertemplate");var T=u("contours.type")==="constraint";u("connectgaps",g.isArray1D(n.z)),T?C(s,n,u,f,i):(A(s,n,u,y),v(s,n,u,f)),n.contours&&n.contours.coloring==="heatmap"&&p(u,f)}},87558:function(G,V,e){var g=e(71828),_=e(64237),a=e(53572);G.exports=function(A,v,p){for(var t=A.type==="constraint"?_[A._operation](A.value):A,r=t.size,s=[],n=a(t),i=p.trace._carpetTrace,f=i?{xaxis:i.aaxis,yaxis:i.baxis,x:p.a,y:p.b}:{xaxis:v.xaxis,yaxis:v.yaxis,x:p.x,y:p.y},u=t.start;u<n;u+=r)if(s.push(g.extendFlat({level:u,crossings:{},starts:[],edgepaths:[],paths:[],z:p.z,smoothing:p.trace.line.smoothing},f)),s.length>1e3){g.warn("Too many contours, clipping at 1000",A);break}return s}},53572:function(G){G.exports=function(e){return e.end+e.size/1e6}},81696:function(G,V,e){var g=e(71828),_=e(36914);G.exports=function(r,s,n){var i,f,u,y,c;for(s=s||.01,n=n||.01,u=0;u<r.length;u++){for(y=r[u],c=0;c<y.starts.length;c++)f=y.starts[c],A(y,f,"edge",s,n);for(i=0;Object.keys(y.crossings).length&&i<1e4;)i++,f=Object.keys(y.crossings)[0].split(",").map(Number),A(y,f,void 0,s,n);i===1e4&&g.log("Infinite loop in contour?")}};function a(t,r,s,n){return Math.abs(t[0]-r[0])<s&&Math.abs(t[1]-r[1])<n}function C(t,r){var s=t[2]-r[2],n=t[3]-r[3];return Math.sqrt(s*s+n*n)}function A(t,r,s,n,i){var f=r.join(","),u=t.crossings[f],y=v(u,s,r),c=[p(t,r,[-y[0],-y[1]])],T=t.z.length,h=t.z[0].length,l=r.slice(),d=y.slice(),E;for(E=0;E<1e4;E++){if(u>20?(u=_.CHOOSESADDLE[u][(y[0]||y[1])<0?0:1],t.crossings[f]=_.SADDLEREMAINDER[u]):delete t.crossings[f],y=_.NEWDELTA[u],!y){g.log("Found bad marching index:",u,r,t.level);break}c.push(p(t,r,y)),r[0]+=y[0],r[1]+=y[1],f=r.join(","),a(c[c.length-1],c[c.length-2],n,i)&&c.pop();var S=y[0]&&(r[0]<0||r[0]>h-2)||y[1]&&(r[1]<0||r[1]>T-2),P=r[0]===l[0]&&r[1]===l[1]&&y[0]===d[0]&&y[1]===d[1];if(P||s&&S)break;u=t.crossings[f]}E===1e4&&g.log("Infinite loop in contour?");var x=a(c[0],c[c.length-1],n,i),M=0,w=.2*t.smoothing,o=[],L=0,m,F,I,U,z,N,B,O,H,Y,J;for(E=1;E<c.length;E++)B=C(c[E],c[E-1]),M+=B,o.push(B);var re=M/o.length*w;function ie(j){return c[j%c.length]}for(E=c.length-2;E>=L;E--)if(m=o[E],m<re){for(I=0,F=E-1;F>=L&&m+o[F]<re;F--)m+=o[F];if(x&&E===c.length-2)for(I=0;I<F&&m+o[I]<re;I++)m+=o[I];z=E-F+I+1,N=Math.floor((E+F+I+2)/2),!x&&E===c.length-2?U=c[c.length-1]:!x&&F===-1?U=c[0]:z%2?U=ie(N):U=[(ie(N)[0]+ie(N+1)[0])/2,(ie(N)[1]+ie(N+1)[1])/2],c.splice(F+1,E-F+1,U),E=F+1,I&&(L=I),x&&(E===c.length-2?c[I]=c[c.length-1]:E===0&&(c[c.length-1]=c[0]))}for(c.splice(0,L),E=0;E<c.length;E++)c[E].length=2;if(!(c.length<2))if(x)c.pop(),t.paths.push(c);else{s||g.log("Unclosed interior contour?",t.level,l.join(","),c.join("L"));var ce=!1;for(O=0;O<t.edgepaths.length;O++)if(Y=t.edgepaths[O],!ce&&a(Y[0],c[c.length-1],n,i)){c.pop(),ce=!0;var Q=!1;for(H=0;H<t.edgepaths.length;H++)if(J=t.edgepaths[H],a(J[J.length-1],c[0],n,i)){Q=!0,c.shift(),t.edgepaths.splice(O,1),H===O?t.paths.push(c.concat(J)):(H>O&&H--,t.edgepaths[H]=J.concat(c,Y));break}Q||(t.edgepaths[O]=c.concat(Y))}for(O=0;O<t.edgepaths.length&&!ce;O++)Y=t.edgepaths[O],a(Y[Y.length-1],c[0],n,i)&&(c.shift(),t.edgepaths[O]=Y.concat(c),ce=!0);ce||t.edgepaths.push(c)}}function v(t,r,s){var n=0,i=0;return t>20&&r?t===208||t===1114?n=s[0]===0?1:-1:i=s[1]===0?1:-1:_.BOTTOMSTART.indexOf(t)!==-1?i=1:_.LEFTSTART.indexOf(t)!==-1?n=1:_.TOPSTART.indexOf(t)!==-1?i=-1:n=-1,[n,i]}function p(t,r,s){var n=r[0]+Math.max(s[0],0),i=r[1]+Math.max(s[1],0),f=t.z[i][n],u=t.xaxis,y=t.yaxis;if(s[1]){var c=(t.level-f)/(t.z[i][n+1]-f),T=(c!==1?(1-c)*u.c2l(t.x[n]):0)+(c!==0?c*u.c2l(t.x[n+1]):0);return[u.c2p(u.l2c(T),!0),y.c2p(t.y[i],!0),n+c,i]}else{var h=(t.level-f)/(t.z[i+1][n]-f),l=(h!==1?(1-h)*y.c2l(t.y[i]):0)+(h!==0?h*y.c2l(t.y[i+1]):0);return[u.c2p(t.x[n],!0),y.c2p(y.l2c(l),!0),n,i+h]}}},52421:function(G,V,e){var g=e(7901),_=e(46248);G.exports=function(C,A,v,p,t){t||(t={}),t.isContour=!0;var r=_(C,A,v,p,t);return r&&r.forEach(function(s){var n=s.trace;n.contours.type==="constraint"&&(n.fillcolor&&g.opacity(n.fillcolor)?s.color=g.addOpacity(n.fillcolor,1):n.contours.showlines&&g.opacity(n.line.color)&&(s.color=g.addOpacity(n.line.color,1)))}),r}},99442:function(G,V,e){G.exports={attributes:e(70600),supplyDefaults:e(13031),calc:e(27529),plot:e(29854).plot,style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"contour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(G,V,e){var g=e(71828);G.exports=function(a,C,A,v){v||(v={});var p=a("contours.showlabels");if(p){var t=C.font;g.coerceFont(a,"contours.labelfont",{family:t.family,size:t.size,color:A}),a("contours.labelformat")}v.hasHover!==!1&&a("zhoverformat")}},86068:function(G,V,e){var g=e(39898),_=e(21081),a=e(53572);G.exports=function(A){var v=A.contours,p=v.start,t=a(v),r=v.size||1,s=Math.floor((t-p)/r)+1,n=v.coloring==="lines"?0:1,i=_.extractOpts(A);isFinite(r)||(r=1,s=1);var f=i.reversescale?_.flipScale(i.colorscale):i.colorscale,u=f.length,y=new Array(u),c=new Array(u),T,h,l=i.min,d=i.max;if(v.coloring==="heatmap"){for(h=0;h<u;h++)T=f[h],y[h]=T[0]*(d-l)+l,c[h]=T[1];var E=g.extent([l,d,v.start,v.start+r*(s-1)]),S=E[l<d?0:1],P=E[l<d?1:0];S!==l&&(y.splice(0,0,S),c.splice(0,0,c[0])),P!==d&&(y.push(P),c.push(c[c.length-1]))}else{var x=A._input&&typeof A._input.zmin=="number"&&typeof A._input.zmax=="number";for(x&&(p<=l||t>=d)&&(p<=l&&(p=l),t>=d&&(t=d),s=Math.floor((t-p)/r)+1,n=0),h=0;h<u;h++)T=f[h],y[h]=(T[0]*(s+n-1)-n/2)*r+p,c[h]=T[1];(x||A.autocontour)&&(y[0]>l&&(y.unshift(l),c.unshift(c[0])),y[y.length-1]<d&&(y.push(d),c.push(c[c.length-1])))}return _.makeColorScaleFunc({domain:y,range:c},{noNumericCheck:!0})}},87678:function(G,V,e){var g=e(36914);G.exports=function(C){var A=C[0].z,v=A.length,p=A[0].length,t=v===2||p===2,r,s,n,i,f,u,y,c,T;for(s=0;s<v-1;s++)for(i=[],s===0&&(i=i.concat(g.BOTTOMSTART)),s===v-2&&(i=i.concat(g.TOPSTART)),r=0;r<p-1;r++)for(n=i.slice(),r===0&&(n=n.concat(g.LEFTSTART)),r===p-2&&(n=n.concat(g.RIGHTSTART)),f=r+","+s,u=[[A[s][r],A[s][r+1]],[A[s+1][r],A[s+1][r+1]]],T=0;T<C.length;T++)c=C[T],y=_(c.level,u),y&&(c.crossings[f]=y,n.indexOf(y)!==-1&&(c.starts.push([r,s]),t&&n.indexOf(y,n.indexOf(y)+1)!==-1&&c.starts.push([r,s])))};function _(a,C){var A=(C[0][0]>a?0:1)+(C[0][1]>a?0:2)+(C[1][1]>a?0:4)+(C[1][0]>a?0:8);if(A===5||A===10){var v=(C[0][0]+C[0][1]+C[1][0]+C[1][1])/4;return a>v?A===5?713:1114:A===5?104:208}return A===15?0:A}},29854:function(G,V,e){var g=e(39898),_=e(71828),a=e(91424),C=e(21081),A=e(63893),v=e(89298),p=e(21994),t=e(50347),r=e(87678),s=e(81696),n=e(87558),i=e(84857),f=e(20083),u=e(36914),y=u.LABELOPTIMIZER;V.plot=function(x,M,w,o){var L=M.xaxis,m=M.yaxis;_.makeTraceGroups(o,w,"contour").each(function(F){var I=g.select(this),U=F[0],z=U.trace,N=U.x,B=U.y,O=z.contours,H=n(O,M,U),Y=_.ensureSingle(I,"g","heatmapcoloring"),J=[];O.coloring==="heatmap"&&(J=[F]),t(x,M,J,Y),r(H),s(H);var re=L.c2p(N[0],!0),ie=L.c2p(N[N.length-1],!0),ce=m.c2p(B[0],!0),Q=m.c2p(B[B.length-1],!0),j=[[re,Q],[ie,Q],[ie,ce],[re,ce]],Z=H;O.type==="constraint"&&(Z=i(H,O._operation)),c(I,j,O),T(I,Z,j,O),l(I,H,x,U,O),E(I,M,x,U,j)})};function c(P,x,M){var w=_.ensureSingle(P,"g","contourbg"),o=w.selectAll("path").data(M.coloring==="fill"?[0]:[]);o.enter().append("path"),o.exit().remove(),o.attr("d","M"+x.join("L")+"Z").style("stroke","none")}function T(P,x,M,w){var o=w.coloring==="fill"||w.type==="constraint"&&w._operation!=="=",L="M"+M.join("L")+"Z";o&&f(x,w);var m=_.ensureSingle(P,"g","contourfill"),F=m.selectAll("path").data(o?x:[]);F.enter().append("path"),F.exit().remove(),F.each(function(I){var U=(I.prefixBoundary?L:"")+h(I,M);U?g.select(this).attr("d",U).style("stroke","none"):g.select(this).remove()})}function h(P,x){var M="",w=0,o=P.edgepaths.map(function(re,ie){return ie}),L=!0,m,F,I,U,z,N;function B(re){return Math.abs(re[1]-x[0][1])<.01}function O(re){return Math.abs(re[1]-x[2][1])<.01}function H(re){return Math.abs(re[0]-x[0][0])<.01}function Y(re){return Math.abs(re[0]-x[2][0])<.01}for(;o.length;){for(N=a.smoothopen(P.edgepaths[w],P.smoothing),M+=L?N:N.replace(/^M/,"L"),o.splice(o.indexOf(w),1),m=P.edgepaths[w][P.edgepaths[w].length-1],U=-1,I=0;I<4;I++){if(!m){_.log("Missing end?",w,P);break}for(B(m)&&!Y(m)?F=x[1]:H(m)?F=x[0]:O(m)?F=x[3]:Y(m)&&(F=x[2]),z=0;z<P.edgepaths.length;z++){var J=P.edgepaths[z][0];Math.abs(m[0]-F[0])<.01?Math.abs(m[0]-J[0])<.01&&(J[1]-m[1])*(F[1]-J[1])>=0&&(F=J,U=z):Math.abs(m[1]-F[1])<.01?Math.abs(m[1]-J[1])<.01&&(J[0]-m[0])*(F[0]-J[0])>=0&&(F=J,U=z):_.log("endpt to newendpt is not vert. or horz.",m,F,J)}if(m=F,U>=0)break;M+="L"+F}if(U===P.edgepaths.length){_.log("unclosed perimeter path");break}w=U,L=o.indexOf(w)===-1,L&&(w=o[0],M+="Z")}for(w=0;w<P.paths.length;w++)M+=a.smoothclosed(P.paths[w],P.smoothing);return M}function l(P,x,M,w,o){var L=M._context.staticPlot,m=_.ensureSingle(P,"g","contourlines"),F=o.showlines!==!1,I=o.showlabels,U=F&&I,z=V.createLines(m,F||I,x,L),N=V.createLineClip(m,U,M,w.trace.uid),B=P.selectAll("g.contourlabels").data(I?[0]:[]);if(B.exit().remove(),B.enter().append("g").classed("contourlabels",!0),I){var O=[],H=[];_.clearLocationCache();var Y=V.labelFormatter(M,w),J=a.tester.append("text").attr("data-notex",1).call(a.font,o.labelfont),re=x[0].xaxis,ie=x[0].yaxis,ce=re._length,Q=ie._length,j=re.range,Z=ie.range,$=_.aggNums(Math.min,null,w.x),te=_.aggNums(Math.max,null,w.x),se=_.aggNums(Math.min,null,w.y),ee=_.aggNums(Math.max,null,w.y),q=Math.max(re.c2p($,!0),0),le=Math.min(re.c2p(te,!0),ce),oe=Math.max(ie.c2p(ee,!0),0),he=Math.min(ie.c2p(se,!0),Q),me={};j[0]<j[1]?(me.left=q,me.right=le):(me.left=le,me.right=q),Z[0]<Z[1]?(me.top=oe,me.bottom=he):(me.top=he,me.bottom=oe),me.middle=(me.top+me.bottom)/2,me.center=(me.left+me.right)/2,O.push([[me.left,me.top],[me.right,me.top],[me.right,me.bottom],[me.left,me.bottom]]);var Ce=Math.sqrt(ce*ce+Q*Q),Ae=u.LABELDISTANCE*Ce/Math.max(1,x.length/u.LABELINCREASE);z.each(function(Ue){var Ve=V.calcTextOpts(Ue.level,Y,J,M);g.select(this).selectAll("path").each(function(){var Pe=this,be=_.getVisibleSegment(Pe,me,Ve.height/2);if(be&&!(be.len<(Ve.width+Ve.height)*u.LABELMIN))for(var Le=Math.min(Math.ceil(be.len/Ae),u.LABELMAX),We=0;We<Le;We++){var je=V.findBestTextLocation(Pe,be,Ve,H,me);if(!je)break;V.addLabelData(je,Ve,H,O)}})}),J.remove(),V.drawLabels(B,H,M,N,U?O:null)}I&&!F&&z.remove()}V.createLines=function(P,x,M,w){var o=M[0].smoothing,L=P.selectAll("g.contourlevel").data(x?M:[]);if(L.exit().remove(),L.enter().append("g").classed("contourlevel",!0),x){var m=L.selectAll("path.openline").data(function(I){return I.pedgepaths||I.edgepaths});m.exit().remove(),m.enter().append("path").classed("openline",!0),m.attr("d",function(I){return a.smoothopen(I,o)}).style("stroke-miterlimit",1).style("vector-effect",w?"none":"non-scaling-stroke");var F=L.selectAll("path.closedline").data(function(I){return I.ppaths||I.paths});F.exit().remove(),F.enter().append("path").classed("closedline",!0),F.attr("d",function(I){return a.smoothclosed(I,o)}).style("stroke-miterlimit",1).style("vector-effect",w?"none":"non-scaling-stroke")}return L},V.createLineClip=function(P,x,M,w){var o=M._fullLayout._clips,L=x?"clipline"+w:null,m=o.selectAll("#"+L).data(x?[0]:[]);return m.exit().remove(),m.enter().append("clipPath").classed("contourlineclip",!0).attr("id",L),a.setClipUrl(P,L,M),m},V.labelFormatter=function(P,x){var M=P._fullLayout,w=x.trace,o=w.contours,L={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(o.labelformat)L.tickformat=o.labelformat,p(L,M);else{var m=C.extractOpts(w);if(m&&m.colorbar&&m.colorbar._axis)L=m.colorbar._axis;else{if(o.type==="constraint"){var F=o.value;Array.isArray(F)?L.range=[F[0],F[F.length-1]]:L.range=[F,F]}else L.range=[o.start,o.end],L.nticks=(o.end-o.start)/o.size;L.range[0]===L.range[1]&&(L.range[1]+=L.range[0]||1),L.nticks||(L.nticks=1e3),p(L,M),v.prepTicks(L),L._tmin=null,L._tmax=null}}return function(I){return v.tickText(L,I).text}},V.calcTextOpts=function(P,x,M,w){var o=x(P);M.text(o).call(A.convertToTspans,w);var L=M.node(),m=a.bBox(L,!0);return{text:o,width:m.width,height:m.height,fontSize:+L.style["font-size"].replace("px",""),level:P,dy:(m.top+m.bottom)/2}},V.findBestTextLocation=function(P,x,M,w,o){var L=M.width,m,F,I,U,z;x.isClosed?(F=x.len/y.INITIALSEARCHPOINTS,m=x.min+F/2,I=x.max):(F=(x.len-L)/(y.INITIALSEARCHPOINTS+1),m=x.min+F+L/2,I=x.max-(F+L)/2);for(var N=1/0,B=0;B<y.ITERATIONS;B++){for(var O=m;O<I;O+=F){var H=_.getTextLocation(P,x.total,O,L),Y=d(H,M,w,o);Y<N&&(N=Y,z=H,U=O)}if(N>y.MAXCOST*2)break;B&&(F/=2),m=U-F/2,I=m+F*1.5}if(N<=y.MAXCOST)return z};function d(P,x,M,w){var o=x.width/2,L=x.height/2,m=P.x,F=P.y,I=P.theta,U=Math.cos(I)*o,z=Math.sin(I)*o,N=(m>w.center?w.right-m:m-w.left)/(U+Math.abs(Math.sin(I)*L)),B=(F>w.middle?w.bottom-F:F-w.top)/(Math.abs(z)+Math.cos(I)*L);if(N<1||B<1)return 1/0;var O=y.EDGECOST*(1/(N-1)+1/(B-1));O+=y.ANGLECOST*I*I;for(var H=m-U,Y=F-z,J=m+U,re=F+z,ie=0;ie<M.length;ie++){var ce=M[ie],Q=Math.cos(ce.theta)*ce.width/2,j=Math.sin(ce.theta)*ce.width/2,Z=_.segmentDistance(H,Y,J,re,ce.x-Q,ce.y-j,ce.x+Q,ce.y+j)*2/(x.height+ce.height),$=ce.level===x.level,te=$?y.SAMELEVELDISTANCE:1;if(Z<=te)return 1/0;var se=y.NEIGHBORCOST*($?y.SAMELEVELFACTOR:1);O+=se/(Z-te)}return O}V.addLabelData=function(P,x,M,w){var o=x.fontSize,L=x.width+o/3,m=Math.max(0,x.height-o/3),F=P.x,I=P.y,U=P.theta,z=Math.sin(U),N=Math.cos(U),B=function(H,Y){return[F+H*N-Y*z,I+H*z+Y*N]},O=[B(-L/2,-m/2),B(-L/2,m/2),B(L/2,m/2),B(L/2,-m/2)];M.push({text:x.text,x:F,y:I,dy:x.dy,theta:U,level:x.level,width:L,height:m}),w.push(O)},V.drawLabels=function(P,x,M,w,o){var L=P.selectAll("text").data(x,function(U){return U.text+","+U.x+","+U.y+","+U.theta});if(L.exit().remove(),L.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(U){var z=U.x+Math.sin(U.theta)*U.dy,N=U.y-Math.cos(U.theta)*U.dy;g.select(this).text(U.text).attr({x:z,y:N,transform:"rotate("+180*U.theta/Math.PI+" "+z+" "+N+")"}).call(A.convertToTspans,M)}),o){for(var m="",F=0;F<o.length;F++)m+="M"+o[F].join("L")+"Z";var I=_.ensureSingle(w,"path","");I.attr("d",m)}};function E(P,x,M,w,o){var L=w.trace,m=M._fullLayout._clips,F="clip"+L.uid,I=m.selectAll("#"+F).data(L.connectgaps?[]:[0]);if(I.enter().append("clipPath").classed("contourclip",!0).attr("id",F),I.exit().remove(),L.connectgaps===!1){var U={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:x.xaxis,yaxis:x.yaxis,x:w.x,y:w.y,z:S(w),smoothing:0};r([U]),s([U]),f([U],{type:"levels"});var z=_.ensureSingle(I,"path","");z.attr("d",(U.prefixBoundary?"M"+o.join("L")+"Z":"")+h(U,o))}else F=null;a.setClipUrl(P,F,M)}function S(P){var x=P.trace._emptypoints,M=[],w=P.z.length,o=P.z[0].length,L,m=[],F;for(L=0;L<o;L++)m.push(1);for(L=0;L<w;L++)M.push(m.slice());for(L=0;L<x.length;L++)F=x[L],M[F[0]][F[1]]=0;return P.zmask=M,M}},18670:function(G,V,e){var g=e(89298),_=e(71828);G.exports=function(A,v){var p=A.contours;if(A.autocontour){var t=A.zmin,r=A.zmax;(A.zauto||t===void 0)&&(t=_.aggNums(Math.min,null,v)),(A.zauto||r===void 0)&&(r=_.aggNums(Math.max,null,v));var s=a(t,r,A.ncontours);p.size=s.dtick,p.start=g.tickFirst(s),s.range.reverse(),p.end=g.tickFirst(s),p.start===t&&(p.start+=p.size),p.end===r&&(p.end-=p.size),p.start>p.end&&(p.start=p.end=(p.start+p.end)/2),A._input.contours||(A._input.contours={}),_.extendFlat(A._input.contours,{start:p.start,end:p.end,size:p.size}),A._input.autocontour=!0}else if(p.type!=="constraint"){var n=p.start,i=p.end,f=A._input.contours;if(n>i&&(p.start=f.start=i,i=p.end=f.end=n,n=p.start),!(p.size>0)){var u;n===i?u=1:u=a(n,i,A.ncontours).dtick,f.size=p.size=u}}};function a(C,A,v){var p={type:"linear",range:[C,A]};return g.autoTicks(p,(A-C)/(v||15)),p}},84426:function(G,V,e){var g=e(39898),_=e(91424),a=e(70035),C=e(86068);G.exports=function(v){var p=g.select(v).selectAll("g.contour");p.style("opacity",function(t){return t[0].trace.opacity}),p.each(function(t){var r=g.select(this),s=t[0].trace,n=s.contours,i=s.line,f=n.size||1,u=n.start,y=n.type==="constraint",c=!y&&n.coloring==="lines",T=!y&&n.coloring==="fill",h=c||T?C(s):null;r.selectAll("g.contourlevel").each(function(E){g.select(this).selectAll("path").call(_.lineGroupStyle,i.width,c?h(E.level):i.color,i.dash)});var l=n.labelfont;if(r.selectAll("g.contourlabels text").each(function(E){_.font(g.select(this),{family:l.family,size:l.size,color:l.color||(c?h(E.level):i.color)})}),y)r.selectAll("g.contourfill path").style("fill",s.fillcolor);else if(T){var d;r.selectAll("g.contourfill path").style("fill",function(E){return d===void 0&&(d=E.level),h(E.level+.5*f)}),d===void 0&&(d=u),r.selectAll("g.contourbg path").style("fill",h(d-.5*f))}}),a(v)}},8724:function(G,V,e){var g=e(1586),_=e(14523);G.exports=function(C,A,v,p,t){var r=v("contours.coloring"),s,n="";r==="fill"&&(s=v("contours.showlines")),s!==!1&&(r!=="lines"&&(n=v("line.color","#000")),v("line.width",.5),v("line.dash")),r!=="none"&&(C.showlegend!==!0&&(A.showlegend=!1),A._dfltShowLegend=!1,g(C,A,p,v,{prefix:"",cLetter:"z"})),v("line.smoothing"),_(v,p,n,t)}},88085:function(G,V,e){var g=e(21606),_=e(70600),a=e(50693),C=e(1426).extendFlat,A=_.contours;G.exports=C({carpet:{valType:"string",editType:"calc"},z:g.z,a:g.x,a0:g.x0,da:g.dx,b:g.y,b0:g.y0,db:g.dy,text:g.text,hovertext:g.hovertext,transpose:g.transpose,atype:g.xtype,btype:g.ytype,fillcolor:_.fillcolor,autocontour:_.autocontour,ncontours:_.ncontours,contours:{type:A.type,start:A.start,end:A.end,size:A.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:A.showlines,showlabels:A.showlabels,labelfont:A.labelfont,labelformat:A.labelformat,operation:A.operation,value:A.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:_.line.color,width:_.line.width,dash:_.line.dash,smoothing:_.line.smoothing,editType:"plot"},transforms:void 0},a("",{cLetter:"z",autoColorDflt:!1}))},59885:function(G,V,e){var g=e(78803),_=e(71828),a=e(68296),C=e(4742),A=e(824),v=e(43907),p=e(70769),t=e(75005),r=e(22882),s=e(18670);G.exports=function(f,u){var y=u._carpetTrace=r(f,u);if(!(!y||!y.visible||y.visible==="legendonly")){if(!u.a||!u.b){var c=f.data[y.index],T=f.data[u.index];T.a||(T.a=c.a),T.b||(T.b=c.b),t(T,u,u._defaultColor,f._fullLayout)}var h=n(f,u);return s(u,u._z),h}};function n(i,f){var u=f._carpetTrace,y=u.aaxis,c=u.baxis,T,h,l,d,E,S,P;y._minDtick=0,c._minDtick=0,_.isArray1D(f.z)&&a(f,y,c,"a","b",["z"]),T=f._a=f._a||f.a,d=f._b=f._b||f.b,T=T?y.makeCalcdata(f,"_a"):[],d=d?c.makeCalcdata(f,"_b"):[],h=f.a0||0,l=f.da||1,E=f.b0||0,S=f.db||1,P=f._z=C(f._z||f.z,f.transpose),f._emptypoints=v(P),A(P,f._emptypoints);var x=_.maxRowLength(P),M=f.xtype==="scaled"?"":T,w=p(f,M,h,l,x,y),o=f.ytype==="scaled"?"":d,L=p(f,o,E,S,P.length,c),m={a:w,b:L,z:P};return f.contours.type==="levels"&&f.contours.coloring!=="none"&&g(i,f,{vals:P,containerStr:"",cLetter:"z"}),[m]}},75005:function(G,V,e){var g=e(71828),_=e(67684),a=e(88085),C=e(83179),A=e(67217),v=e(8724);G.exports=function(t,r,s,n){function i(c,T){return g.coerce(t,r,a,c,T)}function f(c){return g.coerce2(t,r,a,c)}if(i("carpet"),t.a&&t.b){var u=_(t,r,i,n,"a","b");if(!u){r.visible=!1;return}i("text");var y=i("contours.type")==="constraint";y?C(t,r,i,n,s,{hasHover:!1}):(A(t,r,i,f),v(t,r,i,n,{hasHover:!1}))}else r._defaultColor=s,r._length=null}},93740:function(G,V,e){G.exports={attributes:e(88085),supplyDefaults:e(75005),colorbar:e(90654),calc:e(59885),plot:e(51048),style:e(84426),moduleType:"trace",name:"contourcarpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},51048:function(G,V,e){var g=e(39898),_=e(27669),a=e(67961),C=e(91424),A=e(71828),v=e(87678),p=e(81696),t=e(29854),r=e(36914),s=e(84857),n=e(87558),i=e(20083),f=e(22882),u=e(4536);G.exports=function(M,w,o,L){var m=w.xaxis,F=w.yaxis;A.makeTraceGroups(L,o,"contour").each(function(I){var U=g.select(this),z=I[0],N=z.trace,B=N._carpetTrace=f(M,N),O=M.calcdata[B.index][0];if(!B.visible||B.visible==="legendonly")return;var H=z.a,Y=z.b,J=N.contours,re=n(J,w,z),ie=J.type==="constraint",ce=J._operation,Q=ie?ce==="="?"lines":"fill":J.coloring;function j(Ce){var Ae=B.ab2xy(Ce[0],Ce[1],!0);return[m.c2p(Ae[0]),F.c2p(Ae[1])]}var Z=[[H[0],Y[Y.length-1]],[H[H.length-1],Y[Y.length-1]],[H[H.length-1],Y[0]],[H[0],Y[0]]];v(re);var $=(H[H.length-1]-H[0])*1e-8,te=(Y[Y.length-1]-Y[0])*1e-8;p(re,$,te);var se=re;J.type==="constraint"&&(se=s(re,ce)),y(re,j);var ee,q,le,oe,he=[];for(oe=O.clipsegments.length-1;oe>=0;oe--)ee=O.clipsegments[oe],q=_([],ee.x,m.c2p),le=_([],ee.y,F.c2p),q.reverse(),le.reverse(),he.push(a(q,le,ee.bicubic));var me="M"+he.join("L")+"Z";E(U,O.clipsegments,m,F,ie,Q),S(N,U,m,F,se,Z,j,B,O,Q,me),c(U,re,M,z,J,w,B),C.setClipUrl(U,B._clipPathId,M)})};function y(x,M){var w,o,L,m,F,I,U,z,N;for(w=0;w<x.length;w++){for(m=x[w],F=m.pedgepaths=[],I=m.ppaths=[],o=0;o<m.edgepaths.length;o++){for(N=m.edgepaths[o],U=[],L=0;L<N.length;L++)U[L]=M(N[L]);F.push(U)}for(o=0;o<m.paths.length;o++){for(N=m.paths[o],z=[],L=0;L<N.length;L++)z[L]=M(N[L]);I.push(z)}}}function c(x,M,w,o,L,m,F){var I=w._context.staticPlot,U=A.ensureSingle(x,"g","contourlines"),z=L.showlines!==!1,N=L.showlabels,B=z&&N,O=t.createLines(U,z||N,M,I),H=t.createLineClip(U,B,w,o.trace.uid),Y=x.selectAll("g.contourlabels").data(N?[0]:[]);if(Y.exit().remove(),Y.enter().append("g").classed("contourlabels",!0),N){var J=m.xaxis,re=m.yaxis,ie=J._length,ce=re._length,Q=[[[0,0],[ie,0],[ie,ce],[0,ce]]],j=[];A.clearLocationCache();var Z=t.labelFormatter(w,o),$=C.tester.append("text").attr("data-notex",1).call(C.font,L.labelfont),te={left:0,right:ie,center:ie/2,top:0,bottom:ce,middle:ce/2},se=Math.sqrt(ie*ie+ce*ce),ee=r.LABELDISTANCE*se/Math.max(1,M.length/r.LABELINCREASE);O.each(function(q){var le=t.calcTextOpts(q.level,Z,$,w);g.select(this).selectAll("path").each(function(oe){var he=this,me=A.getVisibleSegment(he,te,le.height/2);if(me&&(T(he,oe,q,me,F,le.height),!(me.len<(le.width+le.height)*r.LABELMIN)))for(var Ce=Math.min(Math.ceil(me.len/ee),r.LABELMAX),Ae=0;Ae<Ce;Ae++){var Ue=t.findBestTextLocation(he,me,le,j,te);if(!Ue)break;t.addLabelData(Ue,le,j,Q)}})}),$.remove(),t.drawLabels(Y,j,w,H,B?Q:null)}N&&!z&&O.remove()}function T(x,M,w,o,L,m){for(var F,I=0;I<w.pedgepaths.length;I++)M===w.pedgepaths[I]&&(F=w.edgepaths[I]);if(!F)return;var U=L.a[0],z=L.a[L.a.length-1],N=L.b[0],B=L.b[L.b.length-1];function O(ie,ce){var Q=0,j,Z=.1;return(Math.abs(ie[0]-U)<Z||Math.abs(ie[0]-z)<Z)&&(j=l(L.dxydb_rough(ie[0],ie[1],Z)),Q=Math.max(Q,m*d(ce,j)/2)),(Math.abs(ie[1]-N)<Z||Math.abs(ie[1]-B)<Z)&&(j=l(L.dxyda_rough(ie[0],ie[1],Z)),Q=Math.max(Q,m*d(ce,j)/2)),Q}var H=h(x,0,1),Y=h(x,o.total,o.total-1),J=O(F[0],H),re=o.total-O(F[F.length-1],Y);o.min<J&&(o.min=J),o.max>re&&(o.max=re),o.len=o.max-o.min}function h(x,M,w){var o=x.getPointAtLength(M),L=x.getPointAtLength(w),m=L.x-o.x,F=L.y-o.y,I=Math.sqrt(m*m+F*F);return[m/I,F/I]}function l(x){var M=Math.sqrt(x[0]*x[0]+x[1]*x[1]);return[x[0]/M,x[1]/M]}function d(x,M){var w=Math.abs(x[0]*M[0]+x[1]*M[1]),o=Math.sqrt(1-w*w);return o/w}function E(x,M,w,o,L,m){var F,I,U,z,N=A.ensureSingle(x,"g","contourbg"),B=N.selectAll("path").data(m==="fill"&&!L?[0]:[]);B.enter().append("path"),B.exit().remove();var O=[];for(z=0;z<M.length;z++)F=M[z],I=_([],F.x,w.c2p),U=_([],F.y,o.c2p),O.push(a(I,U,F.bicubic));B.attr("d","M"+O.join("L")+"Z").style("stroke","none")}function S(x,M,w,o,L,m,F,I,U,z,N){var B=z==="fill";B&&i(L,x.contours);var O=A.ensureSingle(M,"g","contourfill"),H=O.selectAll("path").data(B?L:[]);H.enter().append("path"),H.exit().remove(),H.each(function(Y){var J=(Y.prefixBoundary?N:"")+P(x,Y,m,F,I,U,w,o);J?g.select(this).attr("d",J).style("stroke","none"):g.select(this).remove()})}function P(x,M,w,o,L,m,F,I){var U,z="",N=M.edgepaths.map(function(le,oe){return oe}),B=!0,O,H,Y,J,re,ie,ce=Math.abs(w[0][0]-w[2][0])*1e-4,Q=Math.abs(w[0][1]-w[2][1])*1e-4;function j(le){return Math.abs(le[1]-w[0][1])<Q}function Z(le){return Math.abs(le[1]-w[2][1])<Q}function $(le){return Math.abs(le[0]-w[0][0])<ce}function te(le){return Math.abs(le[0]-w[2][0])<ce}function se(le,oe){var he,me,Ce,Ae,Ue="";for(j(le)&&!te(le)||Z(le)&&!$(le)?(Ae=L.aaxis,Ce=u(L,m,[le[0],oe[0]],.5*(le[1]+oe[1]))):(Ae=L.baxis,Ce=u(L,m,.5*(le[0]+oe[0]),[le[1],oe[1]])),he=1;he<Ce.length;he++)for(Ue+=Ae.smoothing?"C":"L",me=0;me<Ce[he].length;me++){var Ve=Ce[he][me];Ue+=[F.c2p(Ve[0]),I.c2p(Ve[1])]+" "}return Ue}for(U=0,O=null;N.length;){var ee=M.edgepaths[U][0];for(O&&(z+=se(O,ee)),ie=C.smoothopen(M.edgepaths[U].map(o),M.smoothing),z+=B?ie:ie.replace(/^M/,"L"),N.splice(N.indexOf(U),1),O=M.edgepaths[U][M.edgepaths[U].length-1],J=-1,Y=0;Y<4;Y++){if(!O){A.log("Missing end?",U,M);break}for(j(O)&&!te(O)?H=w[1]:$(O)?H=w[0]:Z(O)?H=w[3]:te(O)&&(H=w[2]),re=0;re<M.edgepaths.length;re++){var q=M.edgepaths[re][0];Math.abs(O[0]-H[0])<ce?Math.abs(O[0]-q[0])<ce&&(q[1]-O[1])*(H[1]-q[1])>=0&&(H=q,J=re):Math.abs(O[1]-H[1])<Q?Math.abs(O[1]-q[1])<Q&&(q[0]-O[0])*(H[0]-q[0])>=0&&(H=q,J=re):A.log("endpt to newendpt is not vert. or horz.",O,H,q)}if(J>=0)break;z+=se(O,H),O=H}if(J===M.edgepaths.length){A.log("unclosed perimeter path");break}U=J,B=N.indexOf(U)===-1,B&&(U=N[0],z+=se(O,H)+"Z",O=null)}for(U=0;U<M.paths.length;U++)z+=C.smoothclosed(M.paths[U].map(o),M.smoothing);return z}},64096:function(G,V,e){var g=e(50693),_=e(5386).fF,a=e(9012),C=e(99181),A=e(1426).extendFlat;G.exports=A({lon:C.lon,lat:C.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:C.text,hovertext:C.hovertext,hoverinfo:A({},a.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:_(),showlegend:A({},a.showlegend,{dflt:!1})},g("",{cLetter:"z",editTypeOverride:"calc"}))},85070:function(G,V,e){var g=e(92770),_=e(71828).isArrayOrTypedArray,a=e(50606).BADNUM,C=e(78803),A=e(71828)._;G.exports=function(p,t){for(var r=t._length,s=new Array(r),n=t.z,i=_(n)&&n.length,f=0;f<r;f++){var u=s[f]={},y=t.lon[f],c=t.lat[f];if(u.lonlat=g(y)&&g(c)?[+y,+c]:[a,a],i){var T=n[f];u.z=g(T)?T:a}}return C(p,t,{vals:i?n:[0,1],containerStr:"",cLetter:"z"}),r&&(s[0].t={labels:{lat:A(p,"lat:")+" ",lon:A(p,"lon:")+" "}}),s}},52414:function(G,V,e){var g=e(92770),_=e(71828),a=e(7901),C=e(21081),A=e(50606).BADNUM,v=e(18214).makeBlank;G.exports=function(t){var r=t[0].trace,s=r.visible===!0&&r._length!==0,n={layout:{visibility:"none"},paint:{}},i=r._opts={heatmap:n,geojson:v()};if(!s)return i;var f=[],u,y=r.z,c=r.radius,T=_.isArrayOrTypedArray(y)&&y.length,h=_.isArrayOrTypedArray(c);for(u=0;u<t.length;u++){var l=t[u],d=l.lonlat;if(d[0]!==A){var E={};if(T){var S=l.z;E.z=S!==A?S:0}h&&(E.r=g(c[u])&&c[u]>0?+c[u]:0),f.push({type:"Feature",geometry:{type:"Point",coordinates:d},properties:E})}}var P=C.extractOpts(r),x=P.reversescale?C.flipScale(P.colorscale):P.colorscale,M=x[0][1],w=a.opacity(M)<1?M:a.addOpacity(M,0),o=["interpolate",["linear"],["heatmap-density"],0,w];for(u=1;u<x.length;u++)o.push(x[u][0],x[u][1]);var L=["interpolate",["linear"],["get","z"],P.min,0,P.max,1];return _.extendFlat(i.heatmap.paint,{"heatmap-weight":T?L:1/(P.max-P.min),"heatmap-color":o,"heatmap-radius":h?{type:"identity",property:"r"}:r.radius,"heatmap-opacity":r.opacity}),i.geojson={type:"FeatureCollection",features:f},i.heatmap.layout.visibility="visible",i}},79429:function(G,V,e){var g=e(71828),_=e(1586),a=e(64096);G.exports=function(A,v,p,t){function r(f,u){return g.coerce(A,v,a,f,u)}var s=r("lon")||[],n=r("lat")||[],i=Math.min(s.length,n.length);if(!i){v.visible=!1;return}v._length=i,r("z"),r("radius"),r("below"),r("text"),r("hovertext"),r("hovertemplate"),_(A,v,t,r,{prefix:"",cLetter:"z"})}},62474:function(G){G.exports=function(e,g){return e.lon=g.lon,e.lat=g.lat,e.z=g.z,e}},84684:function(G,V,e){var g=e(89298),_=e(28178).hoverPoints,a=e(28178).getExtraText;G.exports=function(A,v,p){var t=_(A,v,p);if(t){var r=t[0],s=r.cd,n=s[0].trace,i=s[r.index];if(delete r.color,"z"in i){var f=r.subplot.mockAxis;r.z=i.z,r.zLabel=g.tickText(f,f.c2l(i.z),"hover").text}return r.extraText=a(n,i,s[0].t.labels),[r]}}},93814:function(G,V,e){G.exports={attributes:e(64096),supplyDefaults:e(79429),colorbar:e(61243),formatLabels:e(15636),calc:e(85070),plot:e(7336),hoverPoints:e(84684),eventData:e(62474),getBelow:function(g,_){for(var a=_.getMapLayers(),C=0;C<a.length;C++){var A=a[C],v=A.id;if(A.type==="symbol"&&typeof v=="string"&&v.indexOf("plotly-")===-1)return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(50101),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},7336:function(G,V,e){var g=e(52414),_=e(77734).traceLayerPrefix;function a(A,v){this.type="densitymapbox",this.subplot=A,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",_+v+"-heatmap"]],this.below=null}var C=a.prototype;C.update=function(A){var v=this.subplot,p=this.layerList,t=g(A),r=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(t.geojson),r!==this.below&&(this._removeLayers(),this._addLayers(t,r),this.below=r);for(var s=0;s<p.length;s++){var n=p[s],i=n[0],f=n[1],u=t[i];v.setOptions(f,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&v.setOptions(f,"setPaintProperty",u.paint)}},C._addLayers=function(A,v){for(var p=this.subplot,t=this.layerList,r=this.sourceId,s=0;s<t.length;s++){var n=t[s],i=n[0],f=A[i];p.addLayer({type:i,id:n[1],source:r,layout:f.layout,paint:f.paint},v)}},C._removeLayers=function(){for(var A=this.subplot.map,v=this.layerList,p=v.length-1;p>=0;p--)A.removeLayer(v[p][1])},C.dispose=function(){var A=this.subplot.map;this._removeLayers(),A.removeSource(this.sourceId)},G.exports=function(v,p){var t=p[0].trace,r=new a(v,t.uid),s=r.sourceId,n=g(p),i=r.below=v.belowLookup["trace-"+t.uid];return v.map.addSource(s,{type:"geojson",data:n.geojson}),r._addLayers(n,i),r}},49789:function(G,V,e){var g=e(71828);G.exports=function(a,C){for(var A=0;A<a.length;A++)a[A].i=A;g.mergeArray(C.text,a,"tx"),g.mergeArray(C.hovertext,a,"htx");var v=C.marker;if(v){g.mergeArray(v.opacity,a,"mo"),g.mergeArray(v.color,a,"mc");var p=v.line;p&&(g.mergeArray(p.color,a,"mlc"),g.mergeArrayCastPositive(p.width,a,"mlw"))}}},1285:function(G,V,e){var g=e(1486),_=e(82196).line,a=e(9012),C=e(12663).axisHoverFormat,A=e(5386).fF,v=e(5386).si,p=e(18517),t=e(1426).extendFlat,r=e(7901);G.exports={x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),hovertext:g.hovertext,hovertemplate:A({},{keys:p.eventDataKeys}),hoverinfo:t({},a.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),text:g.text,textposition:g.textposition,insidetextanchor:t({},g.insidetextanchor,{dflt:"middle"}),textangle:t({},g.textangle,{dflt:0}),textfont:g.textfont,insidetextfont:g.insidetextfont,outsidetextfont:g.outsidetextfont,constraintext:g.constraintext,cliponaxis:g.cliponaxis,orientation:t({},g.orientation,{}),offset:t({},g.offset,{arrayOk:!1}),width:t({},g.width,{arrayOk:!1}),marker:s(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:t({},_.color,{dflt:r.defaultLine}),width:t({},_.width,{dflt:0,editType:"plot"}),dash:_.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup};function s(){var n=t({},g.marker);return delete n.pattern,n}},9532:function(G,V,e){var g=e(89298),_=e(42973),a=e(49789),C=e(66279),A=e(50606).BADNUM;G.exports=function(t,r){var s=g.getFromId(t,r.xaxis||"x"),n=g.getFromId(t,r.yaxis||"y"),i,f,u,y,c,T,h,l;r.orientation==="h"?(i=s.makeCalcdata(r,"x"),u=n.makeCalcdata(r,"y"),y=_(r,n,"y",u),c=!!r.yperiodalignment,T="y"):(i=n.makeCalcdata(r,"y"),u=s.makeCalcdata(r,"x"),y=_(r,s,"x",u),c=!!r.xperiodalignment,T="x"),f=y.vals;var d=Math.min(f.length,i.length),E=new Array(d);for(r._base=[],h=0;h<d;h++){i[h]<0&&(i[h]=A);var S=!1;i[h]!==A&&h+1<d&&i[h+1]!==A&&(S=!0),l=E[h]={p:f[h],s:i[h],cNext:S},r._base[h]=-.5*l.s,c&&(E[h].orig_p=u[h],E[h][T+"End"]=y.ends[h],E[h][T+"Start"]=y.starts[h]),r.ids&&(l.id=String(r.ids[h])),h===0&&(E[0].vTotal=0),E[0].vTotal+=v(l.s),l.begR=v(l.s)/v(E[0].s)}var P;for(h=0;h<d;h++)l=E[h],l.s!==A&&(l.sumR=l.s/E[0].vTotal,l.difR=P!==void 0?l.s/P:1,P=l.s);return a(E,r),C(E,r),E};function v(p){return p===A?0:p}},18517:function(G){G.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},8984:function(G,V,e){var g=e(11661).setGroupPositions;G.exports=function(a,C){var A=a._fullLayout,v=a._fullData,p=a.calcdata,t=C.xaxis,r=C.yaxis,s=[],n=[],i=[],f,u;for(u=0;u<v.length;u++){var y=v[u],c=y.orientation==="h";y.visible===!0&&y.xaxis===t._id&&y.yaxis===r._id&&y.type==="funnel"&&(f=p[u],c?i.push(f):n.push(f),s.push(f))}var T={mode:A.funnelmode,norm:A.funnelnorm,gap:A.funnelgap,groupgap:A.funnelgroupgap};for(g(a,t,r,n,T),g(a,r,t,i,T),u=0;u<s.length;u++){f=s[u];for(var h=0;h<f.length;h++)h+1<f.length&&(f[h].nextP0=f[h+1].p0,f[h].nextS0=f[h+1].s0,f[h].nextP1=f[h+1].p1,f[h].nextS1=f[h+1].s1)}}},26199:function(G,V,e){var g=e(71828),_=e(26125),a=e(90769).handleText,C=e(67513),A=e(73927),v=e(1285),p=e(7901);function t(n,i,f,u){function y(S,P){return g.coerce(n,i,v,S,P)}var c=C(n,i,u,y);if(!c){i.visible=!1;return}A(n,i,u,y),y("xhoverformat"),y("yhoverformat"),y("orientation",i.y&&!i.x?"v":"h"),y("offset"),y("width");var T=y("text");y("hovertext"),y("hovertemplate");var h=y("textposition");a(n,i,u,y,h,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),i.textposition!=="none"&&!i.texttemplate&&y("textinfo",Array.isArray(T)?"text+value":"value");var l=y("marker.color",f);y("marker.line.color",p.defaultLine),y("marker.line.width");var d=y("connector.visible");if(d){y("connector.fillcolor",r(l));var E=y("connector.line.width");E&&(y("connector.line.color"),y("connector.line.dash"))}}function r(n){var i=g.isArrayOrTypedArray(n)?"#000":n;return p.addOpacity(i,.5*p.opacity(i))}function s(n,i){var f,u;function y(T){return g.coerce(u._input,u,v,T)}if(i.funnelmode==="group")for(var c=0;c<n.length;c++)u=n[c],f=u._input,_(f,u,i,y)}G.exports={supplyDefaults:t,crossTraceDefaults:s}},34598:function(G){G.exports=function(e,g){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"percentInitial"in g&&(e.percentInitial=g.percentInitial),"percentPrevious"in g&&(e.percentPrevious=g.percentPrevious),"percentTotal"in g&&(e.percentTotal=g.percentTotal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},63341:function(G,V,e){var g=e(7901).opacity,_=e(95423).hoverOnBars,a=e(71828).formatPercent;G.exports=function(v,p,t,r,s){var n=_(v,p,t,r,s);if(n){var i=n.cd,f=i[0].trace,u=f.orientation==="h",y=n.index,c=i[y],T=u?"x":"y";n[T+"LabelVal"]=c.s,n.percentInitial=c.begR,n.percentInitialLabel=a(c.begR,1),n.percentPrevious=c.difR,n.percentPreviousLabel=a(c.difR,1),n.percentTotal=c.sumR,n.percentTotalLabel=a(c.sumR,1);var h=c.hi||f.hoverinfo,l=[];if(h&&h!=="none"&&h!=="skip"){var d=h==="all",E=h.split("+"),S=function(P){return d||E.indexOf(P)!==-1};S("percent initial")&&l.push(n.percentInitialLabel+" of initial"),S("percent previous")&&l.push(n.percentPreviousLabel+" of previous"),S("percent total")&&l.push(n.percentTotalLabel+" of total")}return n.extraText=l.join("<br>"),n.color=C(f,c),[n]}};function C(A,v){var p=A.marker,t=v.mc||p.color,r=v.mlc||p.line.color,s=v.mlw||p.line.width;if(g(t))return t;if(g(r)&&s)return r}},51759:function(G,V,e){G.exports={attributes:e(1285),layoutAttributes:e(10440),supplyDefaults:e(26199).supplyDefaults,crossTraceDefaults:e(26199).crossTraceDefaults,supplyLayoutDefaults:e(93138),calc:e(9532),crossTraceCalc:e(8984),plot:e(80461),style:e(68266).style,hoverPoints:e(63341),eventData:e(34598),selectPoints:e(81974),moduleType:"trace",name:"funnel",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},10440:function(G){G.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},93138:function(G,V,e){var g=e(71828),_=e(10440);G.exports=function(a,C,A){var v=!1;function p(s,n){return g.coerce(a,C,_,s,n)}for(var t=0;t<A.length;t++){var r=A[t];if(r.visible&&r.type==="funnel"){v=!0;break}}v&&(p("funnelmode"),p("funnelgap",.2),p("funnelgroupgap"))}},80461:function(G,V,e){var g=e(39898),_=e(71828),a=e(91424),C=e(50606).BADNUM,A=e(17295),v=e(72597).clearMinTextSize;G.exports=function(n,i,f,u){var y=n._fullLayout;v("funnel",y),p(n,i,f,u),t(n,i,f,u),A.plot(n,i,f,u,{mode:y.funnelmode,norm:y.funnelmode,gap:y.funnelgap,groupgap:y.funnelgroupgap})};function p(s,n,i,f){var u=n.xaxis,y=n.yaxis;_.makeTraceGroups(f,i,"trace bars").each(function(c){var T=g.select(this),h=c[0].trace,l=_.ensureSingle(T,"g","regions");if(!h.connector||!h.connector.visible){l.remove();return}var d=h.orientation==="h",E=l.selectAll("g.region").data(_.identity);E.enter().append("g").classed("region",!0),E.exit().remove();var S=E.size();E.each(function(P,x){if(!(x!==S-1&&!P.cNext)){var M=r(P,u,y,d),w=M[0],o=M[1],L="";w[0]!==C&&o[0]!==C&&w[1]!==C&&o[1]!==C&&w[2]!==C&&o[2]!==C&&w[3]!==C&&o[3]!==C&&(d?L+="M"+w[0]+","+o[1]+"L"+w[2]+","+o[2]+"H"+w[3]+"L"+w[1]+","+o[1]+"Z":L+="M"+w[1]+","+o[1]+"L"+w[2]+","+o[3]+"V"+o[2]+"L"+w[1]+","+o[0]+"Z"),L===""&&(L="M0,0Z"),_.ensureSingle(g.select(this),"path").attr("d",L).call(a.setClipUrl,n.layerClipId,s)}})})}function t(s,n,i,f){var u=n.xaxis,y=n.yaxis;_.makeTraceGroups(f,i,"trace bars").each(function(c){var T=g.select(this),h=c[0].trace,l=_.ensureSingle(T,"g","lines");if(!h.connector||!h.connector.visible||!h.connector.line.width){l.remove();return}var d=h.orientation==="h",E=l.selectAll("g.line").data(_.identity);E.enter().append("g").classed("line",!0),E.exit().remove();var S=E.size();E.each(function(P,x){if(!(x!==S-1&&!P.cNext)){var M=r(P,u,y,d),w=M[0],o=M[1],L="";w[3]!==void 0&&o[3]!==void 0&&(d?(L+="M"+w[0]+","+o[1]+"L"+w[2]+","+o[2],L+="M"+w[1]+","+o[1]+"L"+w[3]+","+o[2]):(L+="M"+w[1]+","+o[1]+"L"+w[2]+","+o[3],L+="M"+w[1]+","+o[0]+"L"+w[2]+","+o[2])),L===""&&(L="M0,0Z"),_.ensureSingle(g.select(this),"path").attr("d",L).call(a.setClipUrl,n.layerClipId,s)}})})}function r(s,n,i,f){var u=[],y=[],c=f?n:i,T=f?i:n;return u[0]=c.c2p(s.s0,!0),y[0]=T.c2p(s.p0,!0),u[1]=c.c2p(s.s1,!0),y[1]=T.c2p(s.p1,!0),u[2]=c.c2p(s.nextS0,!0),y[2]=T.c2p(s.nextP0,!0),u[3]=c.c2p(s.nextS1,!0),y[3]=T.c2p(s.nextP1,!0),f?[u,y]:[y,u]}},68266:function(G,V,e){var g=e(39898),_=e(91424),a=e(7901),C=e(37822).DESELECTDIM,A=e(16688),v=e(72597).resizeText,p=A.styleTextPoints;function t(r,s,n){var i=n||g.select(r).selectAll("g.funnellayer").selectAll("g.trace");v(r,i,"funnel"),i.style("opacity",function(f){return f[0].trace.opacity}),i.each(function(f){var u=g.select(this),y=f[0].trace;u.selectAll(".point > path").each(function(c){if(!c.isBlank){var T=y.marker;g.select(this).call(a.fill,c.mc||T.color).call(a.stroke,c.mlc||T.line.color).call(_.dashLine,T.line.dash,c.mlw||T.line.width).style("opacity",y.selectedpoints&&!c.selected?C:1)}}),p(u,y,r),u.selectAll(".regions").each(function(){g.select(this).selectAll("path").style("stroke-width",0).call(a.fill,y.connector.fillcolor)}),u.selectAll(".lines").each(function(){var c=y.connector.line;_.lineGroupStyle(g.select(this).selectAll("path"),c.width,c.color,c.dash)})})}G.exports={style:t}},86807:function(G,V,e){var g=e(34e3),_=e(9012),a=e(27670).Y,C=e(5386).fF,A=e(5386).si,v=e(1426).extendFlat;G.exports={labels:g.labels,label0:g.label0,dlabel:g.dlabel,values:g.values,marker:{colors:g.marker.colors,line:{color:v({},g.marker.line.color,{dflt:null}),width:v({},g.marker.line.width,{dflt:1}),editType:"calc"},pattern:g.marker.pattern,editType:"calc"},text:g.text,hovertext:g.hovertext,scalegroup:v({},g.scalegroup,{}),textinfo:v({},g.textinfo,{flags:["label","text","value","percent"]}),texttemplate:A({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},_.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:C({},{keys:["label","color","value","text","percent"]}),textposition:v({},g.textposition,{values:["inside","none"],dflt:"inside"}),textfont:g.textfont,insidetextfont:g.insidetextfont,title:{text:g.title.text,font:g.title.font,position:v({},g.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:a({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},6452:function(G,V,e){var g=e(74875);V.name="funnelarea",V.plot=function(_,a,C,A){g.plotBasePlot(V.name,_,a,C,A)},V.clean=function(_,a,C,A){g.cleanBasePlot(V.name,_,a,C,A)}},89574:function(G,V,e){var g=e(32354);function _(C,A){return g.calc(C,A)}function a(C){g.crossTraceCalc(C,{type:"funnelarea"})}G.exports={calc:_,crossTraceCalc:a}},86282:function(G,V,e){var g=e(71828),_=e(86807),a=e(27670).c,C=e(90769).handleText,A=e(37434).handleLabelsAndValues,v=e(37434).handleMarkerDefaults;G.exports=function(t,r,s,n){function i(S,P){return g.coerce(t,r,_,S,P)}var f=i("labels"),u=i("values"),y=A(f,u),c=y.len;if(r._hasLabels=y.hasLabels,r._hasValues=y.hasValues,!r._hasLabels&&r._hasValues&&(i("label0"),i("dlabel")),!c){r.visible=!1;return}r._length=c,v(t,r,n,i),i("scalegroup");var T=i("text"),h=i("texttemplate"),l;if(h||(l=i("textinfo",Array.isArray(T)?"text+percent":"percent")),i("hovertext"),i("hovertemplate"),h||l&&l!=="none"){var d=i("textposition");C(t,r,n,i,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}a(r,n,i);var E=i("title.text");E&&(i("title.position"),g.coerceFont(i,"title.font",n.font)),i("aspectratio"),i("baseratio")}},10421:function(G,V,e){G.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(6452),categories:["pie-like","funnelarea","showLegend"],attributes:e(86807),layoutAttributes:e(80097),supplyDefaults:e(86282),supplyLayoutDefaults:e(57402),calc:e(89574).calc,crossTraceCalc:e(89574).crossTraceCalc,plot:e(79187),style:e(71858),styleOne:e(63463),meta:{}}},80097:function(G,V,e){var g=e(92774).hiddenlabels;G.exports={hiddenlabels:g,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57402:function(G,V,e){var g=e(71828),_=e(80097);G.exports=function(C,A){function v(p,t){return g.coerce(C,A,_,p,t)}v("hiddenlabels"),v("funnelareacolorway",A.colorway),v("extendfunnelareacolors")}},79187:function(G,V,e){var g=e(39898),_=e(91424),a=e(71828),C=a.strScale,A=a.strTranslate,v=e(63893),p=e(17295),t=p.toMoveInsideBar,r=e(72597),s=r.recordMinTextSize,n=r.clearMinTextSize,i=e(53581),f=e(14575),u=f.attachFxHandlers,y=f.determineInsideTextFont,c=f.layoutAreas,T=f.prerenderTitles,h=f.positionTitleOutside,l=f.formatSliceLabel;G.exports=function(x,M){var w=x._context.staticPlot,o=x._fullLayout;n("funnelarea",o),T(M,x),c(M,o._size),a.makeTraceGroups(o._funnelarealayer,M,"trace").each(function(L){var m=g.select(this),F=L[0],I=F.trace;S(L),m.each(function(){var U=g.select(this).selectAll("g.slice").data(L);U.enter().append("g").classed("slice",!0),U.exit().remove(),U.each(function(N,B){if(N.hidden){g.select(this).selectAll("path,g").remove();return}N.pointNumber=N.i,N.curveNumber=I.index;var O=F.cx,H=F.cy,Y=g.select(this),J=Y.selectAll("path.surface").data([N]);J.enter().append("path").classed("surface",!0).style({"pointer-events":w?"none":"all"}),Y.call(u,x,L);var re="M"+(O+N.TR[0])+","+(H+N.TR[1])+d(N.TR,N.BR)+d(N.BR,N.BL)+d(N.BL,N.TL)+"Z";J.attr("d",re),l(x,N,F);var ie=i.castOption(I.textposition,N.pts),ce=Y.selectAll("g.slicetext").data(N.text&&ie!=="none"?[0]:[]);ce.enter().append("g").classed("slicetext",!0),ce.exit().remove(),ce.each(function(){var Q=a.ensureSingle(g.select(this),"text","",function(le){le.attr("data-notex",1)}),j=a.ensureUniformFontSize(x,y(I,N,o.font));Q.text(N.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(_.font,j).call(v.convertToTspans,x);var Z=_.bBox(Q.node()),$,te,se,ee=Math.min(N.BL[1],N.BR[1])+H,q=Math.max(N.TL[1],N.TR[1])+H;te=Math.max(N.TL[0],N.BL[0])+O,se=Math.min(N.TR[0],N.BR[0])+O,$=t(te,se,ee,q,Z,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),$.fontSize=j.size,s(I.type,$,o),L[B].transform=$,a.setTransormAndDisplay(Q,$)})});var z=g.select(this).selectAll("g.titletext").data(I.title.text?[0]:[]);z.enter().append("g").classed("titletext",!0),z.exit().remove(),z.each(function(){var N=a.ensureSingle(g.select(this),"text","",function(H){H.attr("data-notex",1)}),B=I.title.text;I._meta&&(B=a.templateString(B,I._meta)),N.text(B).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(_.font,I.title.font).call(v.convertToTspans,x);var O=h(F,o._size);N.attr("transform",A(O.x,O.y)+C(Math.min(1,O.scale))+A(O.tx,O.ty))})})})};function d(P,x){var M=x[0]-P[0],w=x[1]-P[1];return"l"+M+","+w}function E(P,x){return[.5*(P[0]+x[0]),.5*(P[1]+x[1])]}function S(P){if(!P.length)return;var x=P[0],M=x.trace,w=M.aspectratio,o=M.baseratio;o>.999&&(o=.999);var L=Math.pow(o,2),m=x.vTotal,F=m*L/(1-L),I=m,U=F/m;function z(){var oe=Math.sqrt(U);return{x:oe,y:-oe}}function N(){var oe=z();return[oe.x,oe.y]}var B,O=[];O.push(N());var H,Y;for(H=P.length-1;H>-1;H--)if(Y=P[H],!Y.hidden){var J=Y.v/I;U+=J,O.push(N())}var re=1/0,ie=-1/0;for(H=0;H<O.length;H++)B=O[H],re=Math.min(re,B[1]),ie=Math.max(ie,B[1]);for(H=0;H<O.length;H++)O[H][1]-=(ie+re)/2;var ce=O[O.length-1][0],Q=x.r,j=(ie-re)/2,Z=Q/ce,$=Q/j*w;for(x.r=$*j,H=0;H<O.length;H++)O[H][0]*=Z,O[H][1]*=$;B=O[0];var te=[-B[0],B[1]],se=[B[0],B[1]],ee=0;for(H=P.length-1;H>-1;H--)if(Y=P[H],!Y.hidden){ee+=1;var q=O[ee][0],le=O[ee][1];Y.TL=[-q,le],Y.TR=[q,le],Y.BL=te,Y.BR=se,Y.pxmid=E(Y.TR,Y.BR),te=Y.TL,se=Y.TR}}},71858:function(G,V,e){var g=e(39898),_=e(63463),a=e(72597).resizeText;G.exports=function(A){var v=A._fullLayout._funnelarealayer.selectAll(".trace");a(A,v,"funnelarea"),v.each(function(p){var t=p[0],r=t.trace,s=g.select(this);s.style({opacity:r.opacity}),s.selectAll("path.surface").each(function(n){g.select(this).call(_,n,r,A)})})}},21606:function(G,V,e){var g=e(82196),_=e(9012),a=e(41940),C=e(12663).axisHoverFormat,A=e(5386).fF,v=e(5386).si,p=e(50693),t=e(1426).extendFlat;G.exports=t({z:{valType:"data_array",editType:"calc"},x:t({},g.x,{impliedEdits:{xtype:"array"}}),x0:t({},g.x0,{impliedEdits:{xtype:"scaled"}}),dx:t({},g.dx,{impliedEdits:{xtype:"scaled"}}),y:t({},g.y,{impliedEdits:{ytype:"array"}}),y0:t({},g.y0,{impliedEdits:{ytype:"scaled"}}),dy:t({},g.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:t({},g.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:t({},g.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:t({},g.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:t({},g.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:t({},g.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:t({},g.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:A(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:a({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:t({},_.showlegend,{dflt:!1})},{transforms:void 0},p("",{cLetter:"z",autoColorDflt:!1}))},90757:function(G,V,e){var g=e(73972),_=e(71828),a=e(89298),C=e(42973),A=e(17562),v=e(78803),p=e(68296),t=e(4742),r=e(824),s=e(43907),n=e(70769),i=e(50606).BADNUM;G.exports=function(c,T){var h=a.getFromId(c,T.xaxis||"x"),l=a.getFromId(c,T.yaxis||"y"),d=g.traceIs(T,"contour"),E=g.traceIs(T,"histogram"),S=g.traceIs(T,"gl2d"),P=d?"best":T.zsmooth,x,M,w,o,L,m,F,I,U,z,N;if(h._minDtick=0,l._minDtick=0,E)N=A(c,T),o=N.orig_x,x=N.x,M=N.x0,w=N.dx,I=N.orig_y,L=N.y,m=N.y0,F=N.dy,U=N.z;else{var B=T.z;_.isArray1D(B)?(p(T,h,l,"x","y",["z"]),x=T._x,L=T._y,B=T._z):(o=T.x?h.makeCalcdata(T,"x"):[],I=T.y?l.makeCalcdata(T,"y"):[],x=C(T,h,"x",o).vals,L=C(T,l,"y",I).vals,T._x=x,T._y=L),M=T.x0,w=T.dx,m=T.y0,F=T.dy,U=t(B,T,h,l)}(h.rangebreaks||l.rangebreaks)&&(U=u(x,L,U),E||(x=f(x),L=f(L),T._x=x,T._y=L)),!E&&(d||T.connectgaps)&&(T._emptypoints=s(U),r(U,T._emptypoints));function O(Z){P=T._input.zsmooth=T.zsmooth=!1,_.warn('cannot use zsmooth: "fast": '+Z)}function H(Z){if(Z.length>1){var $=(Z[Z.length-1]-Z[0])/(Z.length-1),te=Math.abs($/100);for(z=0;z<Z.length-1;z++)if(Math.abs(Z[z+1]-Z[z]-$)>te)return!1}return!0}T._islinear=!1,h.type==="log"||l.type==="log"?P==="fast"&&O("log axis found"):H(x)?H(L)?T._islinear=!0:P==="fast"&&O("y scale is not linear"):P==="fast"&&O("x scale is not linear");var Y=_.maxRowLength(U),J=T.xtype==="scaled"?"":x,re=n(T,J,M,w,Y,h),ie=T.ytype==="scaled"?"":L,ce=n(T,ie,m,F,U.length,l);S||(T._extremes[h._id]=a.findExtremes(h,re),T._extremes[l._id]=a.findExtremes(l,ce));var Q={x:re,y:ce,z:U,text:T._text||T.text,hovertext:T._hovertext||T.hovertext};if(T.xperiodalignment&&o&&(Q.orig_x=o),T.yperiodalignment&&I&&(Q.orig_y=I),J&&J.length===re.length-1&&(Q.xCenter=J),ie&&ie.length===ce.length-1&&(Q.yCenter=ie),E&&(Q.xRanges=N.xRanges,Q.yRanges=N.yRanges,Q.pts=N.pts),d||v(c,T,{vals:U,cLetter:"z"}),d&&T.contours&&T.contours.coloring==="heatmap"){var j={type:T.type==="contour"?"heatmap":"histogram2d",xcalendar:T.xcalendar,ycalendar:T.ycalendar};Q.xfill=n(j,J,M,w,Y,h),Q.yfill=n(j,ie,m,F,U.length,l)}return[Q]};function f(y){for(var c=[],T=y.length,h=0;h<T;h++){var l=y[h];l!==i&&c.push(l)}return c}function u(y,c,T){for(var h=[],l=-1,d=0;d<T.length;d++)if(c[d]!==i){l++,h[l]=[];for(var E=0;E<T[d].length;E++)y[E]!==i&&h[l].push(T[d][E])}return h}},4742:function(G,V,e){var g=e(92770),_=e(71828),a=e(50606).BADNUM;G.exports=function(A,v,p,t){var r,s,n,i,f,u;function y(E){if(g(E))return+E}if(v&&v.transpose){for(r=0,f=0;f<A.length;f++)r=Math.max(r,A[f].length);if(r===0)return!1;n=function(E){return E.length},i=function(E,S,P){return(E[P]||[])[S]}}else r=A.length,n=function(E,S){return E[S].length},i=function(E,S,P){return(E[S]||[])[P]};var c=function(E,S,P){return S===a||P===a?a:i(E,S,P)};function T(E){if(v&&v.type!=="carpet"&&v.type!=="contourcarpet"&&E&&E.type==="category"&&v["_"+E._id.charAt(0)].length){var S=E._id.charAt(0),P={},x=v["_"+S+"CategoryMap"]||v[S];for(f=0;f<x.length;f++)P[x[f]]=f;return function(M){var w=P[E._categories[M]];return w+1?w:a}}else return _.identity}var h=T(p),l=T(t);t&&t.type==="category"&&(r=t._categories.length);var d=new Array(r);for(f=0;f<r;f++)for(p&&p.type==="category"?s=p._categories.length:s=n(A,f),d[f]=new Array(s),u=0;u<s;u++)d[f][u]=y(c(A,l(f),h(u)));return d}},61243:function(G){G.exports={min:"zmin",max:"zmax"}},68296:function(G,V,e){var g=e(71828),_=e(50606).BADNUM,a=e(42973);G.exports=function(A,v,p,t,r,s){var n=A._length,i=v.makeCalcdata(A,t),f=p.makeCalcdata(A,r);i=a(A,v,t,i).vals,f=a(A,p,r,f).vals;var u=A.text,y=u!==void 0&&g.isArray1D(u),c=A.hovertext,T=c!==void 0&&g.isArray1D(c),h,l,d=g.distinctVals(i),E=d.vals,S=g.distinctVals(f),P=S.vals,x=[],M,w,o=P.length,L=E.length;for(h=0;h<s.length;h++)x[h]=g.init2dArray(o,L);y&&(M=g.init2dArray(o,L)),T&&(w=g.init2dArray(o,L));var m=g.init2dArray(o,L);for(h=0;h<n;h++)if(i[h]!==_&&f[h]!==_){var F=g.findBin(i[h]+d.minDiff/2,E),I=g.findBin(f[h]+S.minDiff/2,P);for(l=0;l<s.length;l++){var U=s[l],z=A[U],N=x[l];N[I][F]=z[h],m[I][F]=h}y&&(M[I][F]=u[h]),T&&(w[I][F]=c[h])}for(A["_"+t]=E,A["_"+r]=P,l=0;l<s.length;l++)A["_"+s[l]]=x[l];y&&(A._text=M),T&&(A._hovertext=w),v&&v.type==="category"&&(A["_"+t+"CategoryMap"]=E.map(function(B){return v._categories[B]})),p&&p.type==="category"&&(A["_"+r+"CategoryMap"]=P.map(function(B){return p._categories[B]})),A._after2before=m}},76382:function(G,V,e){var g=e(71828),_=e(67684),a=e(58623),C=e(73927),A=e(49901),v=e(1586),p=e(21606);G.exports=function(r,s,n,i){function f(y,c){return g.coerce(r,s,p,y,c)}var u=_(r,s,f,i);if(!u){s.visible=!1;return}C(r,s,i,f),f("xhoverformat"),f("yhoverformat"),f("text"),f("hovertext"),f("hovertemplate"),a(f,i),A(r,s,f,i),f("hoverongaps"),f("connectgaps",g.isArray1D(s.z)&&s.zsmooth!==!1),v(r,s,i,f,{prefix:"",cLetter:"z"})}},43907:function(G,V,e){var g=e(71828).maxRowLength;G.exports=function(a){var C=[],A={},v=[],p=a[0],t=[],r=[0,0,0],s=g(a),n,i,f,u,y,c,T,h;for(i=0;i<a.length;i++)for(n=t,t=p,p=a[i+1]||[],f=0;f<s;f++)t[f]===void 0&&(c=(t[f-1]!==void 0?1:0)+(t[f+1]!==void 0?1:0)+(n[f]!==void 0?1:0)+(p[f]!==void 0?1:0),c?(i===0&&c++,f===0&&c++,i===a.length-1&&c++,f===t.length-1&&c++,c<4&&(A[[i,f]]=[i,f,c]),C.push([i,f,c])):v.push([i,f]));for(;v.length;){for(T={},h=!1,y=v.length-1;y>=0;y--)u=v[y],i=u[0],f=u[1],c=((A[[i-1,f]]||r)[2]+(A[[i+1,f]]||r)[2]+(A[[i,f-1]]||r)[2]+(A[[i,f+1]]||r)[2])/20,c&&(T[u]=[i,f,c],v.splice(y,1),h=!0);if(!h)throw"findEmpties iterated with no new neighbors";for(u in T)A[u]=T[u],C.push(T[u])}return C.sort(function(l,d){return d[2]-l[2]})}},46248:function(G,V,e){var g=e(30211),_=e(71828),a=e(89298),C=e(21081).extractOpts;G.exports=function(v,p,t,r,s){s||(s={});var n=s.isContour,i=v.cd[0],f=i.trace,u=v.xa,y=v.ya,c=i.x,T=i.y,h=i.z,l=i.xCenter,d=i.yCenter,E=i.zmask,S=f.zhoverformat,P=c,x=T,M,w,o,L;if(v.index!==!1){try{o=Math.round(v.index[1]),L=Math.round(v.index[0])}catch{_.error("Error hovering on heatmap, pointNumber must be [row,col], found:",v.index);return}if(o<0||o>=h[0].length||L<0||L>h.length)return}else{if(g.inbox(p-c[0],p-c[c.length-1],0)>0||g.inbox(t-T[0],t-T[T.length-1],0)>0)return;if(n){var m;for(P=[2*c[0]-c[1]],m=1;m<c.length;m++)P.push((c[m]+c[m-1])/2);for(P.push([2*c[c.length-1]-c[c.length-2]]),x=[2*T[0]-T[1]],m=1;m<T.length;m++)x.push((T[m]+T[m-1])/2);x.push([2*T[T.length-1]-T[T.length-2]])}o=Math.max(0,Math.min(P.length-2,_.findBin(p,P))),L=Math.max(0,Math.min(x.length-2,_.findBin(t,x)))}var F=u.c2p(c[o]),I=u.c2p(c[o+1]),U=y.c2p(T[L]),z=y.c2p(T[L+1]),N,B;n?(N=i.orig_x||c,B=i.orig_y||T,I=F,M=N[o],z=U,w=B[L]):(N=i.orig_x||l||c,B=i.orig_y||d||T,M=l?N[o]:(N[o]+N[o+1])/2,w=d?B[L]:(B[L]+B[L+1])/2,u&&u.type==="category"&&(M=c[o]),y&&y.type==="category"&&(w=T[L]),f.zsmooth&&(F=I=u.c2p(M),U=z=y.c2p(w)));var O=h[L][o];if(E&&!E[L][o]&&(O=void 0),!(O===void 0&&!f.hoverongaps)){var H;Array.isArray(i.hovertext)&&Array.isArray(i.hovertext[L])?H=i.hovertext[L][o]:Array.isArray(i.text)&&Array.isArray(i.text[L])&&(H=i.text[L][o]);var Y=C(f),J={type:"linear",range:[Y.min,Y.max],hoverformat:S,_separators:u._separators,_numFormat:u._numFormat},re=a.tickText(J,O,"hover").text;return[_.extendFlat(v,{index:f._after2before?f._after2before[L][o]:[L,o],distance:v.maxHoverDistance,spikeDistance:v.maxSpikeDistance,x0:F,x1:I,y0:U,y1:z,xLabelVal:M,yLabelVal:w,zLabelVal:O,zLabel:re,text:H})]}}},92165:function(G,V,e){G.exports={attributes:e(21606),supplyDefaults:e(76382),calc:e(90757),plot:e(50347),colorbar:e(61243),style:e(70035),hoverPoints:e(46248),moduleType:"trace",name:"heatmap",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(G,V,e){var g=e(71828),_=.01,a=[[-1,0],[1,0],[0,-1],[0,1]];function C(v){return .5-.25*Math.min(1,v*.5)}G.exports=function(p,t){var r=1,s;for(A(p,t),s=0;s<t.length&&!(t[s][2]<4);s++);for(t=t.slice(s),s=0;s<100&&r>_;s++)r=A(p,t,C(r));return r>_&&g.log("interp2d didn't converge quickly",r),p};function A(v,p,t){var r=0,s,n,i,f,u,y,c,T,h,l,d,E,S;for(f=0;f<p.length;f++){for(s=p[f],n=s[0],i=s[1],d=v[n][i],l=0,h=0,u=0;u<4;u++)y=a[u],c=v[n+y[0]],c&&(T=c[i+y[1]],T!==void 0&&(l===0?E=S=T:(E=Math.min(E,T),S=Math.max(S,T)),h++,l+=T));if(h===0)throw"iterateInterp2d order is wrong: no defined neighbors";v[n][i]=l/h,d===void 0?h<4&&(r=1):(v[n][i]=(1+t)*v[n][i]-t*d,S>E&&(r=Math.max(r,Math.abs(v[n][i]-d)/(S-E))))}return r}},58623:function(G,V,e){var g=e(71828);G.exports=function(a,C){a("texttemplate");var A=g.extendFlat({},C.font,{color:"auto",size:"auto"});g.coerceFont(a,"textfont",A)}},70769:function(G,V,e){var g=e(73972),_=e(71828).isArrayOrTypedArray;G.exports=function(C,A,v,p,t,r){var s=[],n=g.traceIs(C,"contour"),i=g.traceIs(C,"histogram"),f=g.traceIs(C,"gl2d"),u,y,c,T=_(A)&&A.length>1;if(T&&!i&&r.type!=="category"){var h=A.length;if(h<=t){if(n||f)s=A.slice(0,t);else if(t===1)s=[A[0]-.5,A[0]+.5];else{for(s=[1.5*A[0]-.5*A[1]],c=1;c<h;c++)s.push((A[c-1]+A[c])*.5);s.push(1.5*A[h-1]-.5*A[h-2])}if(h<t){var l=s[s.length-1],d=l-s[s.length-2];for(c=h;c<t;c++)l+=d,s.push(l)}}else return n?A.slice(0,t):A.slice(0,t+1)}else{var E=C[r._id.charAt(0)+"calendar"];if(i)u=r.r2c(v,0,E);else if(_(A)&&A.length===1)u=A[0];else if(v===void 0)u=0;else{var S=r.type==="log"?r.d2c:r.r2c;u=S(v,0,E)}for(y=p||1,c=n||f?0:-.5;c<t;c++)s.push(u+y*c)}return s}},50347:function(G,V,e){var g=e(39898),_=e(84267),a=e(73972),C=e(91424),A=e(89298),v=e(71828),p=e(63893),t=e(8225),r=e(7901),s=e(21081).extractOpts,n=e(21081).makeColorScaleFuncFromTrace,i=e(77922),f=e(18783),u=f.LINE_SPACING,y=e(3883),c=e(32396).STYLE,T="heatmap-label";function h(P){return P.selectAll("g."+T)}function l(P){h(P).remove()}G.exports=function(P,x,M,w){var o=x.xaxis,L=x.yaxis;v.makeTraceGroups(w,M,"hm").each(function(m){var F=g.select(this),I=m[0],U=I.trace,z=U.xgap||0,N=U.ygap||0,B=I.z,O=I.x,H=I.y,Y=I.xCenter,J=I.yCenter,re=a.traceIs(U,"contour"),ie=re?"best":U.zsmooth,ce=B.length,Q=v.maxRowLength(B),j=!1,Z=!1,$,te,se,ee,q,le,oe,he;for(le=0;$===void 0&&le<O.length-1;)$=o.c2p(O[le]),le++;for(le=O.length-1;te===void 0&&le>0;)te=o.c2p(O[le]),le--;for(te<$&&(se=te,te=$,$=se,j=!0),le=0;ee===void 0&&le<H.length-1;)ee=L.c2p(H[le]),le++;for(le=H.length-1;q===void 0&&le>0;)q=L.c2p(H[le]),le--;q<ee&&(se=ee,ee=q,q=se,Z=!0),re&&(Y=O,J=H,O=I.xfill,H=I.yfill);var me="default";if(ie?me=ie==="best"?"smooth":"fast":U._islinear&&z===0&&N===0&&y()&&(me="fast"),me!=="fast"){var Ce=ie==="best"?0:.5;$=Math.max(-Ce*o._length,$),te=Math.min((1+Ce)*o._length,te),ee=Math.max(-Ce*L._length,ee),q=Math.min((1+Ce)*L._length,q)}var Ae=Math.round(te-$),Ue=Math.round(q-ee),Ve=$>=o._length||te<=0||ee>=L._length||q<=0;if(Ve){var Pe=F.selectAll("image").data([]);Pe.exit().remove(),l(F);return}var be,Le;me==="fast"?(be=Q,Le=ce):(be=Ae,Le=Ue);var We=document.createElement("canvas");We.width=be,We.height=Le;var je=We.getContext("2d",{willReadFrequently:!0}),Fe=n(U,{noNumericCheck:!0,returnArray:!0}),Ze,ut;me==="fast"?(Ze=j?function(en){return Q-1-en}:v.identity,ut=Z?function(en){return ce-1-en}:v.identity):(Ze=function(en){return v.constrain(Math.round(o.c2p(O[en])-$),0,Ae)},ut=function(en){return v.constrain(Math.round(L.c2p(H[en])-ee),0,Ue)});var at=ut(0),it=[at,at],$e=j?0:1,st=Z?0:1,ct=0,vt=0,St=0,Mt=0,Bt,Qe,ke,ze,Be;function Re(en,cn){if(en!==void 0){var hn=Fe(en);return hn[0]=Math.round(hn[0]),hn[1]=Math.round(hn[1]),hn[2]=Math.round(hn[2]),ct+=cn,vt+=hn[0]*cn,St+=hn[1]*cn,Mt+=hn[2]*cn,hn}return[0,0,0,0]}function we(en,cn,hn,Pn){var kn=en[hn.bin0];if(kn===void 0)return Re(void 0,1);var sa=en[hn.bin1],Xn=cn[hn.bin0],ea=cn[hn.bin1],Zn=sa-kn||0,Qn=Xn-kn||0,Mr;return sa===void 0?ea===void 0?Mr=0:Xn===void 0?Mr=2*(ea-kn):Mr=(2*ea-Xn-kn)*2/3:ea===void 0?Xn===void 0?Mr=0:Mr=(2*kn-sa-Xn)*2/3:Xn===void 0?Mr=(2*ea-sa-kn)*2/3:Mr=ea+kn-sa-Xn,Re(kn+hn.frac*Zn+Pn.frac*(Qn+hn.frac*Mr))}if(me!=="default"){var ye=0,Se;try{Se=new Uint8Array(be*Le*4)}catch{Se=new Array(be*Le*4)}if(me==="smooth"){var Me=Y||O,He=J||H,qe=new Array(Me.length),rt=new Array(He.length),pt=new Array(Ae),At=Y?E:d,jt=J?E:d,tr,Ct,Nt;for(le=0;le<Me.length;le++)qe[le]=Math.round(o.c2p(Me[le])-$);for(le=0;le<He.length;le++)rt[le]=Math.round(L.c2p(He[le])-ee);for(le=0;le<Ae;le++)pt[le]=At(le,qe);for(oe=0;oe<Ue;oe++)for(tr=jt(oe,rt),Ct=B[tr.bin0],Nt=B[tr.bin1],le=0;le<Ae;le++,ye+=4)Be=we(Ct,Nt,pt[le],tr),S(Se,ye,Be)}else for(oe=0;oe<ce;oe++)for(ze=B[oe],it=ut(oe),le=0;le<Q;le++)Be=Re(ze[le],1),ye=(it*Q+Ze(le))*4,S(Se,ye,Be);var Kt=je.createImageData(be,Le);try{Kt.data.set(Se)}catch{var wr=Kt.data,yt=wr.length;for(oe=0;oe<yt;oe++)wr[oe]=Se[oe]}je.putImageData(Kt,0,0)}else{var $t=Math.floor(z/2),er=Math.floor(N/2);for(oe=0;oe<ce;oe++)if(ze=B[oe],it.reverse(),it[st]=ut(oe+1),!(it[0]===it[1]||it[0]===void 0||it[1]===void 0))for(Qe=Ze(0),Bt=[Qe,Qe],le=0;le<Q;le++)Bt.reverse(),Bt[$e]=Ze(le+1),!(Bt[0]===Bt[1]||Bt[0]===void 0||Bt[1]===void 0)&&(ke=ze[le],Be=Re(ke,(Bt[1]-Bt[0])*(it[1]-it[0])),je.fillStyle="rgba("+Be.join(",")+")",je.fillRect(Bt[0]+$t,it[0]+er,Bt[1]-Bt[0]-z,it[1]-it[0]-N))}vt=Math.round(vt/ct),St=Math.round(St/ct),Mt=Math.round(Mt/ct);var mr=_("rgb("+vt+","+St+","+Mt+")");P._hmpixcount=(P._hmpixcount||0)+ct,P._hmlumcount=(P._hmlumcount||0)+ct*mr.getLuminance();var vr=F.selectAll("image").data(m);vr.enter().append("svg:image").attr({xmlns:i.svg,preserveAspectRatio:"none"}),vr.attr({height:Ue,width:Ae,x:$,y:ee,"xlink:href":We.toDataURL("image/png")}),me==="fast"&&!ie&&vr.attr("style",c),l(F);var bt=U.texttemplate;if(bt){var ht=s(U),Tt={type:"linear",range:[ht.min,ht.max],_separators:o._separators,_numFormat:o._numFormat},Pt=U.type==="histogram2dcontour",zt=U.type==="contour",Dt=zt?1:0,Vt=zt?ce-1:ce,Ut=zt?1:0,Qt=zt?Q-1:Q,hr=[];for(le=Dt;le<Vt;le++){var cr;if(zt)cr=I.y[le];else if(Pt){if(le===0||le===ce-1)continue;cr=I.y[le]}else if(I.yCenter)cr=I.yCenter[le];else{if(le+1===ce&&I.y[le+1]===void 0)continue;cr=(I.y[le]+I.y[le+1])/2}var lr=Math.round(L.c2p(cr));if(!(0>lr||lr>L._length))for(oe=Ut;oe<Qt;oe++){var Xe;if(zt)Xe=I.x[oe];else if(Pt){if(oe===0||oe===Q-1)continue;Xe=I.x[oe]}else if(I.xCenter)Xe=I.xCenter[oe];else{if(oe+1===Q&&I.x[oe+1]===void 0)continue;Xe=(I.x[oe]+I.x[oe+1])/2}var Ke=Math.round(o.c2p(Xe));if(!(0>Ke||Ke>o._length)){var Ot=t({x:Xe,y:cr},U,P._fullLayout);Ot.x=Xe,Ot.y=cr;var Lt=I.z[le][oe];Lt===void 0?(Ot.z="",Ot.zLabel=""):(Ot.z=Lt,Ot.zLabel=A.tickText(Tt,Lt,"hover").text);var Xt=I.text&&I.text[le]&&I.text[le][oe];(Xt===void 0||Xt===!1)&&(Xt=""),Ot.text=Xt;var rr=v.texttemplateString(bt,Ot,P._fullLayout._d3locale,Ot,U._meta||{});if(rr){var ur=rr.split("<br>"),or=ur.length,Ht=0;for(he=0;he<or;he++)Ht=Math.max(Ht,ur[he].length);hr.push({l:or,c:Ht,t:rr,x:Ke,y:lr,z:Lt})}}}}var gr=U.textfont,br=gr.family,xr=gr.size,dr=P._fullLayout.font.size;if(!xr||xr==="auto"){var Wr=1/0,Br=1/0,Ur=0,yn=0;for(he=0;he<hr.length;he++){var rn=hr[he];if(Ur=Math.max(Ur,rn.l),yn=Math.max(yn,rn.c),he<hr.length-1){var Un=hr[he+1],bn=Math.abs(Un.x-rn.x),Lr=Math.abs(Un.y-rn.y);bn&&(Wr=Math.min(Wr,bn)),Lr&&(Br=Math.min(Br,Lr))}}!isFinite(Wr)||!isFinite(Br)?xr=dr:(Wr-=z,Br-=N,Wr/=yn,Br/=Ur,Wr/=u/2,Br/=u,xr=Math.min(Math.floor(Wr),Math.floor(Br),dr))}if(xr<=0||!isFinite(xr))return;var Pr=function(en){return en.x},Yr=function(en){return en.y-xr*(en.l*u/2-1)},Hr=h(F).data(hr);Hr.enter().append("g").classed(T,1).append("text").attr("text-anchor","middle").each(function(en){var cn=g.select(this),hn=gr.color;(!hn||hn==="auto")&&(hn=r.contrast("rgba("+Fe(en.z).join()+")")),cn.attr("data-notex",1).call(p.positionText,Pr(en),Yr(en)).call(C.font,br,xr,hn).text(en.t).call(p.convertToTspans,P)})}})};function d(P,x){var M=x.length-2,w=v.constrain(v.findBin(P,x),0,M),o=x[w],L=x[w+1],m=v.constrain(w+(P-o)/(L-o)-.5,0,M),F=Math.round(m),I=Math.abs(m-F);return!m||m===M||!I?{bin0:F,bin1:F,frac:0}:{bin0:F,frac:I,bin1:Math.round(F+I/(m-F))}}function E(P,x){var M=x.length-1,w=v.constrain(v.findBin(P,x),0,M),o=x[w],L=x[w+1],m=(P-o)/(L-o)||0;return m<=0?{bin0:w,bin1:w,frac:0}:m<.5?{bin0:w,bin1:w+1,frac:m}:{bin0:w+1,bin1:w,frac:1-m}}function S(P,x,M){P[x]=M[0],P[x+1]=M[1],P[x+2]=M[2],P[x+3]=Math.round(M[3]*255)}},70035:function(G,V,e){var g=e(39898);G.exports=function(a){g.select(a).selectAll(".hm image").style("opacity",function(C){return C.trace.opacity})}},49901:function(G){G.exports=function(e,g,_){var a=_("zsmooth");a===!1&&(_("xgap"),_("ygap")),_("zhoverformat")}},67684:function(G,V,e){var g=e(92770),_=e(71828),a=e(73972);G.exports=function(p,t,r,s,n,i){var f=r("z");n=n||"x",i=i||"y";var u,y;if(f===void 0||!f.length)return 0;if(_.isArray1D(p.z)){u=r(n),y=r(i);var c=_.minRowLength(u),T=_.minRowLength(y);if(c===0||T===0)return 0;t._length=Math.min(c,T,f.length)}else{if(u=C(n,r),y=C(i,r),!A(f))return 0;r("transpose"),t._length=null}if(p.type==="heatmapgl")return!0;var h=a.getComponentMethod("calendars","handleTraceDefaults");return h(p,t,[n,i],s),!0};function C(v,p){var t=p(v),r=t?p(v+"type","array"):"scaled";return r==="scaled"&&(p(v+"0"),p("d"+v)),t}function A(v){for(var p=!0,t=!1,r=!1,s,n=0;n<v.length;n++){if(s=v[n],!_.isArrayOrTypedArray(s)){p=!1;break}s.length>0&&(t=!0);for(var i=0;i<s.length;i++)if(g(s[i])){r=!0;break}}return p&&t&&r}},16063:function(G,V,e){for(var g=e(21606),_=e(50693),a=e(1426).extendFlat,C=e(30962).overrideAll,A=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},p=0;p<A.length;p++){var t=A[p];v[t]=g[t]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},a(v,_("",{cLetter:"z",autoColorDflt:!1})),G.exports=C(v,"calc","nested")},59560:function(G,V,e){var g=e(9330).gl_heatmap2d,_=e(89298),a=e(78614);function C(t,r){this.scene=t,this.uid=r,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=g(t.glplot,this.options),this.heatmap._trace=this}var A=C.prototype;A.handlePick=function(t){var r=this.options,s=r.shape,n=t.pointId,i=n%s[0],f=Math.floor(n/s[0]),u=n;return{trace:this,dataCoord:t.dataCoord,traceCoord:[r.x[i],r.y[f],r.z[u]],textLabel:this.textLabels[n],name:this.name,pointIndex:[f,i],hoverinfo:this.hoverinfo}},A.update=function(t,r){var s=r[0];this.index=t.index,this.name=t.name,this.hoverinfo=t.hoverinfo;var n=s.z;this.options.z=[].concat.apply([],n);var i=n[0].length,f=n.length;this.options.shape=[i,f],this.options.x=s.x,this.options.y=s.y,this.options.zsmooth=t.zsmooth;var u=v(t);this.options.colorLevels=u.colorLevels,this.options.colorValues=u.colorValues,this.textLabels=[].concat.apply([],t.text),this.heatmap.update(this.options);var y=this.scene.xaxis,c=this.scene.yaxis,T,h;t.zsmooth===!1&&(T={ppad:s.x[1]-s.x[0]},h={ppad:s.y[1]-s.y[0]}),t._extremes[y._id]=_.findExtremes(y,s.x,T),t._extremes[c._id]=_.findExtremes(c,s.y,h)},A.dispose=function(){this.heatmap.dispose()};function v(t){for(var r=t.colorscale,s=t.zmin,n=t.zmax,i=r.length,f=new Array(i),u=new Array(4*i),y=0;y<i;y++){var c=r[y],T=a(c[1]);f[y]=s+c[0]*(n-s);for(var h=0;h<4;h++)u[4*y+h]=T[h]}return{colorLevels:f,colorValues:u}}function p(t,r,s){var n=new C(t,r.uid);return n.update(r,s),n}G.exports=p},19600:function(G,V,e){var g=e(71828),_=e(67684),a=e(1586),C=e(16063);G.exports=function(v,p,t,r){function s(i,f){return g.coerce(v,p,C,i,f)}var n=_(v,p,s,r);if(!n){p.visible=!1;return}s("text"),s("zsmooth"),a(v,p,r,s,{prefix:"",cLetter:"z"})}},3325:function(G,V,e){G.exports={attributes:e(16063),supplyDefaults:e(19600),colorbar:e(61243),calc:e(90757),plot:e(59560),moduleType:"trace",name:"heatmapgl",basePlotModule:e(4796),categories:["gl","gl2d","2dMap"],meta:{}}},7745:function(G,V,e){var g=e(1486),_=e(12663).axisHoverFormat,a=e(5386).fF,C=e(5386).si,A=e(41940),v=e(17656),p=e(72406),t=e(1426).extendFlat;G.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:_("x"),yhoverformat:_("y"),text:t({},g.text,{}),hovertext:t({},g.hovertext,{}),orientation:g.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({},{keys:p.eventDataKeys}),texttemplate:C({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:t({},g.textposition,{arrayOk:!1}),textfont:A({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:A({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:A({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:g.insidetextanchor,textangle:g.textangle,cliponaxis:g.cliponaxis,constraintext:g.constraintext,marker:g.marker,offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:g.selected,unselected:g.unselected,_deprecated:{bardir:g._deprecated.bardir}}},42174:function(G){G.exports=function(e,g){for(var _=e.length,a=0,C=0;C<_;C++)g[C]?(e[C]/=g[C],a+=e[C]):e[C]=null;return a}},17656:function(G){G.exports=function(e,g){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(G,V,e){var g=e(92770);G.exports={count:function(_,a,C){return C[_]++,1},sum:function(_,a,C,A){var v=A[a];return g(v)?(v=Number(v),C[_]+=v,v):0},avg:function(_,a,C,A,v){var p=A[a];return g(p)&&(p=Number(p),C[_]+=p,v[_]++),0},min:function(_,a,C,A){var v=A[a];if(g(v))if(v=Number(v),g(C[_])){if(C[_]>v){var p=v-C[_];return C[_]=v,p}}else return C[_]=v,v;return 0},max:function(_,a,C,A){var v=A[a];if(g(v))if(v=Number(v),g(C[_])){if(C[_]<v){var p=v-C[_];return C[_]=v,p}}else return C[_]=v,v;return 0}}},40965:function(G,V,e){var g=e(50606),_=g.ONEAVGYEAR,a=g.ONEAVGMONTH,C=g.ONEDAY,A=g.ONEHOUR,v=g.ONEMIN,p=g.ONESEC,t=e(89298).tickIncrement;G.exports=function(u,y,c,T,h){var l=-1.1*y,d=-.1*y,E=u-d,S=c[0],P=c[1],x=Math.min(r(S+d,S+E,T,h),r(P+d,P+E,T,h)),M=Math.min(r(S+l,S+d,T,h),r(P+l,P+d,T,h)),w,o;if(x>M&&M<Math.abs(P-S)/4e3?(w=x,o=!1):(w=Math.min(x,M),o=!0),T.type==="date"&&w>C){var L=w===_?1:6,m=w===_?"M12":"M1";return function(F,I){var U=T.c2d(F,_,h),z=U.indexOf("-",L);z>0&&(U=U.substr(0,z));var N=T.d2c(U,0,h);if(N<F){var B=t(N,m,!1,h);(N+B)/2<F+u&&(N=B)}return I&&o?t(N,m,!0,h):N}}return function(F,I){var U=w*Math.round(F/w);return U+w/10<F&&U+w*.9<F+u&&(U+=w),I&&o&&(U-=w),U}};function r(f,u,y,c){if(f*u<=0)return 1/0;for(var T=Math.abs(u-f),h=y.type==="date",l=s(T,h),d=0;d<10;d++){var E=s(l*80,h);if(l===E)break;if(n(E,f,u,h,y,c))l=E;else break}return l}function s(f,u){return u&&f>p?f>C?f>_*1.1?_:f>a*1.1?a:C:f>A?A:f>v?v:p:Math.pow(10,Math.floor(Math.log(f)/Math.LN10))}function n(f,u,y,c,T,h){if(c&&f>C){var l=i(u,T,h),d=i(y,T,h),E=f===_?0:1;return l[E]!==d[E]}return Math.floor(y/f)-Math.floor(u/f)>.1}function i(f,u,y){var c=u.c2d(f,_,y).split("-");return c[0]===""&&(c.unshift(),c[0]="-"+c[0]),c}},72138:function(G,V,e){var g=e(92770),_=e(71828),a=e(73972),C=e(89298),A=e(75341),v=e(59575),p=e(36362),t=e(42174),r=e(40965);function s(y,c){var T=[],h=[],l=c.orientation==="h",d=C.getFromId(y,l?c.yaxis:c.xaxis),E=l?"y":"x",S={x:"y",y:"x"}[E],P=c[E+"calendar"],x=c.cumulative,M,w=n(y,c,d,E),o=w[0],L=w[1],m=typeof o.size=="string",F=[],I=m?F:o,U=[],z=[],N=[],B=0,O=c.histnorm,H=c.histfunc,Y=O.indexOf("density")!==-1,J,re,ie;x.enabled&&Y&&(O=O.replace(/ ?density$/,""),Y=!1);var ce=H==="max"||H==="min",Q=ce?null:0,j=v.count,Z=p[O],$=!1,te=function(je){return d.r2c(je,0,P)},se;for(_.isArrayOrTypedArray(c[S])&&H!=="count"&&(se=c[S],$=H==="avg",j=v[H]),M=te(o.start),re=te(o.end)+(M-C.tickIncrement(M,o.size,!1,P))/1e6;M<re&&T.length<1e6&&(J=C.tickIncrement(M,o.size,!1,P),T.push((M+J)/2),h.push(Q),N.push([]),F.push(M),Y&&U.push(1/(J-M)),$&&z.push(0),!(J<=M));)M=J;F.push(M),!m&&d.type==="date"&&(I={start:te(I.start),end:te(I.end),size:I.size}),y._fullLayout._roundFnOpts||(y._fullLayout._roundFnOpts={});var ee=c["_"+E+"bingroup"],q={leftGap:1/0,rightGap:1/0};ee&&(y._fullLayout._roundFnOpts[ee]||(y._fullLayout._roundFnOpts[ee]=q),q=y._fullLayout._roundFnOpts[ee]);var le=h.length,oe=!0,he=q.leftGap,me=q.rightGap,Ce={};for(M=0;M<L.length;M++){var Ae=L[M];ie=_.findBin(Ae,I),ie>=0&&ie<le&&(B+=j(ie,M,h,se,z),oe&&N[ie].length&&Ae!==L[N[ie][0]]&&(oe=!1),N[ie].push(M),Ce[M]=ie,he=Math.min(he,Ae-F[ie]),me=Math.min(me,F[ie+1]-Ae))}q.leftGap=he,q.rightGap=me;var Ue;oe||(Ue=function(je,Fe){return function(){var Ze=y._fullLayout._roundFnOpts[ee];return r(Ze.leftGap,Ze.rightGap,F,d,P)(je,Fe)}}),$&&(B=t(h,z)),Z&&Z(h,B,U),x.enabled&&u(h,x.direction,x.currentbin);var Ve=Math.min(T.length,h.length),Pe=[],be=0,Le=Ve-1;for(M=0;M<Ve;M++)if(h[M]){be=M;break}for(M=Ve-1;M>=be;M--)if(h[M]){Le=M;break}for(M=be;M<=Le;M++)if(g(T[M])&&g(h[M])){var We={p:T[M],s:h[M],b:0};x.enabled||(We.pts=N[M],oe?We.ph0=We.ph1=N[M].length?L[N[M][0]]:T[M]:(c._computePh=!0,We.ph0=Ue(F[M]),We.ph1=Ue(F[M+1],!0))),Pe.push(We)}return Pe.length===1&&(Pe[0].width1=C.tickIncrement(Pe[0].p,o.size,!1,P)-Pe[0].p),A(Pe,c),_.isArrayOrTypedArray(c.selectedpoints)&&_.tagSelected(Pe,c,Ce),Pe}function n(y,c,T,h,l){var d=h+"bins",E=y._fullLayout,S=c["_"+h+"bingroup"],P=E._histogramBinOpts[S],x=E.barmode==="overlay",M,w,o,L,m,F,I,U=function(Ae){return T.r2c(Ae,0,L)},z=function(Ae){return T.c2r(Ae,0,L)},N=T.type==="date"?function(Ae){return Ae||Ae===0?_.cleanDate(Ae,null,L):null}:function(Ae){return g(Ae)?Number(Ae):null};function B(Ae,Ue,Ve){Ue[Ae+"Found"]?(Ue[Ae]=N(Ue[Ae]),Ue[Ae]===null&&(Ue[Ae]=Ve[Ae])):(F[Ae]=Ue[Ae]=Ve[Ae],_.nestedProperty(w[0],d+"."+Ae).set(Ve[Ae]))}if(c["_"+h+"autoBinFinished"])delete c["_"+h+"autoBinFinished"];else{w=P.traces;var O=[],H=!0,Y=!1,J=!1;for(M=0;M<w.length;M++)if(o=w[M],o.visible){var re=P.dirs[M];m=o["_"+re+"pos0"]=T.makeCalcdata(o,re),O=_.concat(O,m),delete o["_"+h+"autoBinFinished"],c.visible===!0&&(H?H=!1:(delete o._autoBin,o["_"+h+"autoBinFinished"]=1),a.traceIs(o,"2dMap")&&(Y=!0),o.type==="histogram2dcontour"&&(J=!0))}L=w[0][h+"calendar"];var ie=C.autoBin(O,T,P.nbins,Y,L,P.sizeFound&&P.size),ce=w[0]._autoBin={};if(F=ce[P.dirs[0]]={},J&&(P.size||(ie.start=z(C.tickIncrement(U(ie.start),ie.size,!0,L))),P.end===void 0&&(ie.end=z(C.tickIncrement(U(ie.end),ie.size,!1,L)))),x&&!a.traceIs(c,"2dMap")&&ie._dataSpan===0&&T.type!=="category"&&T.type!=="multicategory"&&c.bingroup===""&&typeof c.xbins>"u"){if(l)return[ie,m,!0];ie=i(y,c,T,h,d)}I=o.cumulative||{},I.enabled&&I.currentbin!=="include"&&(I.direction==="decreasing"?ie.start=z(C.tickIncrement(U(ie.start),ie.size,!0,L)):ie.end=z(C.tickIncrement(U(ie.end),ie.size,!1,L))),P.size=ie.size,P.sizeFound||(F.size=ie.size,_.nestedProperty(w[0],d+".size").set(ie.size)),B("start",P,ie),B("end",P,ie)}m=c["_"+h+"pos0"],delete c["_"+h+"pos0"];var Q=c._input[d]||{},j=_.extendFlat({},P),Z=P.start,$=T.r2l(Q.start),te=$!==void 0;if((P.startFound||te)&&$!==T.r2l(Z)){var se=te?$:_.aggNums(Math.min,null,m),ee={type:T.type==="category"||T.type==="multicategory"?"linear":T.type,r2l:T.r2l,dtick:P.size,tick0:Z,calendar:L,range:[se,C.tickIncrement(se,P.size,!1,L)].map(T.l2r)},q=C.tickFirst(ee);q>T.r2l(se)&&(q=C.tickIncrement(q,P.size,!0,L)),j.start=T.l2r(q),te||_.nestedProperty(c,d+".start").set(j.start)}var le=P.end,oe=T.r2l(Q.end),he=oe!==void 0;if((P.endFound||he)&&oe!==T.r2l(le)){var me=he?oe:_.aggNums(Math.max,null,m);j.end=T.l2r(me),he||_.nestedProperty(c,d+".start").set(j.end)}var Ce="autobin"+h;return c._input[Ce]===!1&&(c._input[d]=_.extendFlat({},c[d]||{}),delete c._input[Ce],delete c[Ce]),[j,m]}function i(y,c,T,h,l){var d=y._fullLayout,E=f(y,c),S=!1,P=1/0,x=[c],M,w,o;for(M=0;M<E.length;M++)if(w=E[M],w===c)S=!0;else if(!S)o=d._histogramBinOpts[w["_"+h+"bingroup"]],P=Math.min(P,o.size||w[l].size);else{var L=n(y,w,T,h,!0),m=L[0],F=L[2];w["_"+h+"autoBinFinished"]=1,w["_"+h+"pos0"]=L[1],F?x.push(w):P=Math.min(P,m.size)}var I=new Array(x.length);for(M=0;M<x.length;M++)for(var U=x[M]["_"+h+"pos0"],z=0;z<U.length;z++)if(U[z]!==void 0){I[M]=U[z];break}for(isFinite(P)||(P=_.distinctVals(I).minDiff),M=0;M<x.length;M++){w=x[M];var N=w[h+"calendar"],B={start:T.c2r(I[M]-P/2,0,N),end:T.c2r(I[M]+P/2,0,N),size:P};w._input[l]=w[l]=B,o=d._histogramBinOpts[w["_"+h+"bingroup"]],o&&_.extendFlat(o,B)}return c[l]}function f(y,c){for(var T=c.xaxis,h=c.yaxis,l=c.orientation,d=[],E=y._fullData,S=0;S<E.length;S++){var P=E[S];P.type==="histogram"&&P.visible===!0&&P.orientation===l&&P.xaxis===T&&P.yaxis===h&&d.push(P)}return d}function u(y,c,T){var h,l,d;function E(P){d=y[P],y[P]/=2}function S(P){l=y[P],y[P]=d+l/2,d+=l}if(T==="half")if(c==="increasing")for(E(0),h=1;h<y.length;h++)S(h);else for(E(y.length-1),h=y.length-2;h>=0;h--)S(h);else if(c==="increasing"){for(h=1;h<y.length;h++)y[h]+=y[h-1];T==="exclude"&&(y.unshift(0),y.pop())}else{for(h=y.length-2;h>=0;h--)y[h]+=y[h+1];T==="exclude"&&(y.push(0),y.shift())}}G.exports={calc:s,calcAllAutoBins:n}},72406:function(G){G.exports={eventDataKeys:["binNumber"]}},82222:function(G,V,e){var g=e(71828),_=e(41675),a=e(73972).traceIs,C=e(26125),A=g.nestedProperty,v=e(99082).getAxisGroup,p=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];G.exports=function(s,n){var i=n._histogramBinOpts={},f=[],u={},y=[],c,T,h,l,d,E,S;function P(J,re){return g.coerce(c._input,c,c._module.attributes,J,re)}function x(J){return J.orientation==="v"?"x":"y"}function M(J,re){var ie=_.getFromTrace({_fullLayout:n},J,re);return ie.type}function w(J,re,ie){var ce=J.uid+"__"+ie;re||(re=ce);var Q=M(J,ie),j=J[ie+"calendar"]||"",Z=i[re],$=!0;Z&&(Q===Z.axType&&j===Z.calendar?($=!1,Z.traces.push(J),Z.dirs.push(ie)):(re=ce,Q!==Z.axType&&g.warn(["Attempted to group the bins of trace",J.index,"set on a","type:"+Q,"axis","with bins on","type:"+Z.axType,"axis."].join(" ")),j!==Z.calendar&&g.warn(["Attempted to group the bins of trace",J.index,"set with a",j,"calendar","with bins",Z.calendar?"on a "+Z.calendar+" calendar":"w/o a set calendar"].join(" ")))),$&&(i[re]={traces:[J],dirs:[ie],axType:Q,calendar:J[ie+"calendar"]||""}),J["_"+ie+"bingroup"]=re}for(d=0;d<s.length;d++)c=s[d],a(c,"histogram")&&(f.push(c),delete c._xautoBinFinished,delete c._yautoBinFinished,a(c,"2dMap")||C(c._input,c,n,P));var o=n._alignmentOpts||{};for(d=0;d<f.length;d++){if(c=f[d],h="",!a(c,"2dMap")){if(l=x(c),n.barmode==="group"&&c.alignmentgroup){var L=c[l+"axis"],m=v(n,L)+c.orientation;(o[m]||{})[c.alignmentgroup]&&(h=m)}!h&&n.barmode!=="overlay"&&(h=v(n,c.xaxis)+v(n,c.yaxis)+x(c))}h?(u[h]||(u[h]=[]),u[h].push(c)):y.push(c)}for(h in u){if(T=u[h],T.length===1){y.push(T[0]);continue}var F=!1;for(T.length&&(c=T[0],F=P("bingroup")),h=F||h,d=0;d<T.length;d++){c=T[d];var I=c._input.bingroup;I&&I!==h&&g.warn(["Trace",c.index,"must match","within bingroup",h+".","Ignoring its bingroup:",I,"setting."].join(" ")),c.bingroup=h,w(c,h,x(c))}}for(d=0;d<y.length;d++){c=y[d];var U=P("bingroup");if(a(c,"2dMap"))for(S=0;S<2;S++){l=t[S];var z=P(l+"bingroup",U?U+"__"+l:null);w(c,z,l)}else w(c,U,x(c))}for(h in i){var N=i[h];for(T=N.traces,E=0;E<p.length;E++){var B=p[E],O=B.name,H,Y;if(!(O==="nbins"&&N.sizeFound)){for(d=0;d<T.length;d++){if(c=T[d],l=N.dirs[d],H=B.aStr[l],A(c._input,H).get()!==void 0){N[O]=P(H),N[O+"Found"]=!0;break}Y=(c._autoBin||{})[l]||{},Y[O]&&A(c,H).set(Y[O])}if(O==="start"||O==="end")for(;d<T.length;d++)c=T[d],c["_"+l+"bingroup"]&&(Y=(c._autoBin||{})[l]||{},P(H,Y[O]));O==="nbins"&&!N.sizeFound&&!N.nbinsFound&&(c=T[0],N[O]=P(H))}}}}},11385:function(G,V,e){var g=e(73972),_=e(71828),a=e(7901),C=e(90769).handleText,A=e(98340),v=e(7745);G.exports=function(t,r,s,n){function i(M,w){return _.coerce(t,r,v,M,w)}var f=i("x"),u=i("y"),y=i("cumulative.enabled");y&&(i("cumulative.direction"),i("cumulative.currentbin")),i("text");var c=i("textposition");C(t,r,n,i,c,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),i("hovertext"),i("hovertemplate"),i("xhoverformat"),i("yhoverformat");var T=i("orientation",u&&!f?"h":"v"),h=T==="v"?"x":"y",l=T==="v"?"y":"x",d=f&&u?Math.min(_.minRowLength(f)&&_.minRowLength(u)):_.minRowLength(r[h]||[]);if(!d){r.visible=!1;return}r._length=d;var E=g.getComponentMethod("calendars","handleTraceDefaults");E(t,r,["x","y"],n);var S=r[l];S&&i("histfunc"),i("histnorm"),i("autobin"+h),A(t,r,i,s,n),_.coerceSelectionMarkerOpacity(r,i);var P=(r.marker.line||{}).color,x=g.getComponentMethod("errorbars","supplyDefaults");x(t,r,P||a.defaultLine,{axis:"y"}),x(t,r,P||a.defaultLine,{axis:"x",inherit:"y"})}},84402:function(G){G.exports=function(e,g,_,a,C){if(e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"zLabelVal"in g&&(e.z=g.zLabelVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),!(_.cumulative||{}).enabled){var A=Array.isArray(C)?a[0].pts[C[0]][C[1]]:a[C].pts;e.pointNumbers=A,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var v;if(_._indexToPoints){v=[];for(var p=0;p<A.length;p++)v=v.concat(_._indexToPoints[A[p]])}else v=A;e.pointIndices=v}return e}},76440:function(G,V,e){var g=e(95423).hoverPoints,_=e(89298).hoverLabelText;G.exports=function(C,A,v,p,t){var r=g(C,A,v,p,t);if(r){C=r[0];var s=C.cd[C.index],n=C.cd[0].trace;if(!n.cumulative.enabled){var i=n.orientation==="h"?"y":"x";C[i+"Label"]=_(C[i+"a"],[s.ph0,s.ph1],n[i+"hoverformat"])}return r}}},36071:function(G,V,e){G.exports={attributes:e(7745),layoutAttributes:e(43641),supplyDefaults:e(11385),crossTraceDefaults:e(82222),supplyLayoutDefaults:e(13957),calc:e(72138).calc,crossTraceCalc:e(11661).crossTraceCalc,plot:e(17295).plot,layerName:"barlayer",style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,colorbar:e(4898),hoverPoints:e(76440),selectPoints:e(81974),eventData:e(84402),moduleType:"trace",name:"histogram",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(G){G.exports={percent:function(V,e){for(var g=V.length,_=100/e,a=0;a<g;a++)V[a]*=_},probability:function(V,e){for(var g=V.length,_=0;_<g;_++)V[_]/=e},density:function(V,e,g,_){var a=V.length;_=_||1;for(var C=0;C<a;C++)V[C]*=g[C]*_},"probability density":function(V,e,g,_){var a=V.length;_&&(e/=_);for(var C=0;C<a;C++)V[C]*=g[C]/e}}},35361:function(G,V,e){var g=e(7745),_=e(17656),a=e(21606),C=e(9012),A=e(12663).axisHoverFormat,v=e(5386).fF,p=e(5386).si,t=e(50693),r=e(1426).extendFlat;G.exports=r({x:g.x,y:g.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:g.histnorm,histfunc:g.histfunc,nbinsx:g.nbinsx,xbins:_("x"),nbinsy:g.nbinsy,ybins:_("y"),autobinx:g.autobinx,autobiny:g.autobiny,bingroup:r({},g.bingroup,{}),xbingroup:r({},g.bingroup,{}),ybingroup:r({},g.bingroup,{}),xgap:a.xgap,ygap:a.ygap,zsmooth:a.zsmooth,xhoverformat:A("x"),yhoverformat:A("y"),zhoverformat:A("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:p({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:a.textfont,showlegend:r({},C.showlegend,{dflt:!1})},t("",{cLetter:"z",autoColorDflt:!1}))},17562:function(G,V,e){var g=e(71828),_=e(89298),a=e(59575),C=e(36362),A=e(42174),v=e(40965),p=e(72138).calcAllAutoBins;G.exports=function(i,f){var u=_.getFromId(i,f.xaxis),y=_.getFromId(i,f.yaxis),c=f.xcalendar,T=f.ycalendar,h=function(Be){return u.r2c(Be,0,c)},l=function(Be){return y.r2c(Be,0,T)},d=function(Be){return u.c2r(Be,0,c)},E=function(Be){return y.c2r(Be,0,T)},S,P,x,M,w=p(i,f,u,"x"),o=w[0],L=w[1],m=p(i,f,y,"y"),F=m[0],I=m[1],U=f._length;L.length>U&&L.splice(U,L.length-U),I.length>U&&I.splice(U,I.length-U);var z=[],N=[],B=[],O=typeof o.size=="string",H=typeof F.size=="string",Y=[],J=[],re=O?Y:o,ie=H?J:F,ce=0,Q=[],j=[],Z=f.histnorm,$=f.histfunc,te=Z.indexOf("density")!==-1,se=$==="max"||$==="min",ee=se?null:0,q=a.count,le=C[Z],oe=!1,he=[],me=[],Ce="z"in f?f.z:"marker"in f&&Array.isArray(f.marker.color)?f.marker.color:"";Ce&&$!=="count"&&(oe=$==="avg",q=a[$]);var Ae=o.size,Ue=h(o.start),Ve=h(o.end)+(Ue-_.tickIncrement(Ue,Ae,!1,c))/1e6;for(S=Ue;S<Ve;S=_.tickIncrement(S,Ae,!1,c))N.push(ee),Y.push(S),oe&&B.push(0);Y.push(S);var Pe=N.length,be=(S-Ue)/Pe,Le=d(Ue+be/2),We=F.size,je=l(F.start),Fe=l(F.end)+(je-_.tickIncrement(je,We,!1,T))/1e6;for(S=je;S<Fe;S=_.tickIncrement(S,We,!1,T)){z.push(N.slice()),J.push(S);var Ze=new Array(Pe);for(P=0;P<Pe;P++)Ze[P]=[];j.push(Ze),oe&&Q.push(B.slice())}J.push(S);var ut=z.length,at=(S-je)/ut,it=E(je+at/2);te&&(he=t(N.length,re,be,O),me=t(z.length,ie,at,H)),!O&&u.type==="date"&&(re=r(h,re)),!H&&y.type==="date"&&(ie=r(l,ie));var $e=!0,st=!0,ct=new Array(Pe),vt=new Array(ut),St=1/0,Mt=1/0,Bt=1/0,Qe=1/0;for(S=0;S<U;S++){var ke=L[S],ze=I[S];x=g.findBin(ke,re),M=g.findBin(ze,ie),x>=0&&x<Pe&&M>=0&&M<ut&&(ce+=q(x,S,z[M],Ce,Q[M]),j[M][x].push(S),$e&&(ct[x]===void 0?ct[x]=ke:ct[x]!==ke&&($e=!1)),st&&(vt[M]===void 0?vt[M]=ze:vt[M]!==ze&&(st=!1)),St=Math.min(St,ke-Y[x]),Mt=Math.min(Mt,Y[x+1]-ke),Bt=Math.min(Bt,ze-J[M]),Qe=Math.min(Qe,J[M+1]-ze))}if(oe)for(M=0;M<ut;M++)ce+=A(z[M],Q[M]);if(le)for(M=0;M<ut;M++)le(z[M],ce,he,me[M]);return{x:L,xRanges:s(Y,$e&&ct,St,Mt,u,c),x0:Le,dx:be,y:I,yRanges:s(J,st&&vt,Bt,Qe,y,T),y0:it,dy:at,z,pts:j}};function t(n,i,f,u){var y=new Array(n),c;if(u)for(c=0;c<n;c++)y[c]=1/(i[c+1]-i[c]);else{var T=1/f;for(c=0;c<n;c++)y[c]=T}return y}function r(n,i){return{start:n(i.start),end:n(i.end),size:i.size}}function s(n,i,f,u,y,c){var T,h=n.length-1,l=new Array(h),d=v(f,u,n,y,c);for(T=0;T<h;T++){var E=(i||[])[T];l[T]=E===void 0?[d(n[T]),d(n[T+1],!0)]:[E,E]}return l}},93888:function(G,V,e){var g=e(71828),_=e(75238),a=e(49901),C=e(1586),A=e(58623),v=e(35361);G.exports=function(t,r,s,n){function i(f,u){return g.coerce(t,r,v,f,u)}_(t,r,i,n),r.visible!==!1&&(a(t,r,i,n),C(t,r,n,i,{prefix:"",cLetter:"z"}),i("hovertemplate"),A(i,n),i("xhoverformat"),i("yhoverformat"))}},76128:function(G,V,e){var g=e(46248),_=e(89298).hoverLabelText;G.exports=function(C,A,v,p,t){var r=g(C,A,v,p,t);if(r){C=r[0];var s=C.index,n=s[0],i=s[1],f=C.cd[0],u=f.trace,y=f.xRanges[i],c=f.yRanges[n];return C.xLabel=_(C.xa,[y[0],y[1]],u.xhoverformat),C.yLabel=_(C.ya,[c[0],c[1]],u.yhoverformat),r}}},43905:function(G,V,e){G.exports={attributes:e(35361),supplyDefaults:e(93888),crossTraceDefaults:e(82222),calc:e(90757),plot:e(50347),layerName:"heatmaplayer",colorbar:e(61243),style:e(70035),hoverPoints:e(76128),eventData:e(84402),moduleType:"trace",name:"histogram2d",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(G,V,e){var g=e(73972),_=e(71828);G.exports=function(C,A,v,p){var t=v("x"),r=v("y"),s=_.minRowLength(t),n=_.minRowLength(r);if(!s||!n){A.visible=!1;return}A._length=Math.min(s,n);var i=g.getComponentMethod("calendars","handleTraceDefaults");i(C,A,["x","y"],p);var f=v("z")||v("marker.color");f&&v("histfunc"),v("histnorm"),v("autobinx"),v("autobiny")}},99066:function(G,V,e){var g=e(35361),_=e(70600),a=e(50693),C=e(12663).axisHoverFormat,A=e(1426).extendFlat;G.exports=A({x:g.x,y:g.y,z:g.z,marker:g.marker,histnorm:g.histnorm,histfunc:g.histfunc,nbinsx:g.nbinsx,xbins:g.xbins,nbinsy:g.nbinsy,ybins:g.ybins,autobinx:g.autobinx,autobiny:g.autobiny,bingroup:g.bingroup,xbingroup:g.xbingroup,ybingroup:g.ybingroup,autocontour:_.autocontour,ncontours:_.ncontours,contours:_.contours,line:{color:_.line.color,width:A({},_.line.width,{dflt:.5}),dash:_.line.dash,smoothing:_.line.smoothing,editType:"plot"},xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:g.hovertemplate,texttemplate:_.texttemplate,textfont:_.textfont},a("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(G,V,e){var g=e(71828),_=e(75238),a=e(67217),C=e(8724),A=e(58623),v=e(99066);G.exports=function(t,r,s,n){function i(u,y){return g.coerce(t,r,v,u,y)}function f(u){return g.coerce2(t,r,v,u)}_(t,r,i,n),r.visible!==!1&&(a(t,r,i,f),C(t,r,i,n),i("xhoverformat"),i("yhoverformat"),i("hovertemplate"),r.contours&&r.contours.coloring==="heatmap"&&A(i,n))}},35902:function(G,V,e){G.exports={attributes:e(99066),supplyDefaults:e(62654),crossTraceDefaults:e(82222),calc:e(27529),plot:e(29854).plot,layerName:"contourlayer",style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},46291:function(G,V,e){var g=e(5386).fF,_=e(5386).si,a=e(50693),C=e(27670).Y,A=e(34e3),v=e(57564),p=e(45802),t=e(43473),r=e(1426).extendFlat,s=e(79952).u;G.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:p.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:r({colors:v.marker.colors,line:v.marker.line,pattern:s,editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:p.pathbar,text:A.text,textinfo:v.textinfo,texttemplate:_({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),hovertext:A.hovertext,hoverinfo:v.hoverinfo,hovertemplate:g({},{keys:t.eventDataKeys}),textfont:A.textfont,insidetextfont:A.insidetextfont,outsidetextfont:p.outsidetextfont,textposition:p.textposition,sort:A.sort,root:v.root,domain:C({name:"icicle",trace:!0,editType:"calc"})}},96346:function(G,V,e){var g=e(74875);V.name="icicle",V.plot=function(_,a,C,A){g.plotBasePlot(V.name,_,a,C,A)},V.clean=function(_,a,C,A){g.cleanBasePlot(V.name,_,a,C,A)}},46584:function(G,V,e){var g=e(52147);V.y=function(_,a){return g.calc(_,a)},V.T=function(_){return g._runCrossTraceCalc("icicle",_)}},56524:function(G,V,e){var g=e(71828),_=e(46291),a=e(7901),C=e(27670).c,A=e(90769).handleText,v=e(97313).TEXTPAD,p=e(37434).handleMarkerDefaults,t=e(21081),r=t.hasColorscale,s=t.handleDefaults;G.exports=function(i,f,u,y){function c(x,M){return g.coerce(i,f,_,x,M)}var T=c("labels"),h=c("parents");if(!T||!T.length||!h||!h.length){f.visible=!1;return}var l=c("values");l&&l.length?c("branchvalues"):c("count"),c("level"),c("maxdepth"),c("tiling.orientation"),c("tiling.flip"),c("tiling.pad");var d=c("text");c("texttemplate"),f.texttemplate||c("textinfo",Array.isArray(d)?"text+label":"label"),c("hovertext"),c("hovertemplate");var E=c("pathbar.visible"),S="auto";A(i,f,y,c,S,{hasPathbar:E,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),c("textposition"),p(i,f,y,c);var P=f._hasColorscale=r(i,"marker","colors")||(i.marker||{}).coloraxis;P&&s(i,f,y,c,{prefix:"marker.",cLetter:"c"}),c("leaf.opacity",P?1:.7),f._hovered={marker:{line:{width:2,color:a.contrast(y.paper_bgcolor)}}},E&&(c("pathbar.thickness",f.pathbar.textfont.size+2*v),c("pathbar.side"),c("pathbar.edgeshape")),c("sort"),c("root.color"),C(f,y,c),f._length=null}},90666:function(G,V,e){var g=e(39898),_=e(71828),a=e(91424),C=e(63893),A=e(21538),v=e(82454).styleOne,p=e(43473),t=e(2791),r=e(83523),s=e(24714).formatSliceLabel,n=!1;G.exports=function(f,u,y,c,T){var h=T.width,l=T.height,d=T.viewX,E=T.viewY,S=T.pathSlice,P=T.toMoveInsideSlice,x=T.strTransform,M=T.hasTransition,w=T.handleSlicesExit,o=T.makeUpdateSliceInterpolator,L=T.makeUpdateTextInterpolator,m=T.prevEntry,F={},I=f._context.staticPlot,U=f._fullLayout,z=u[0],N=z.trace,B=N.textposition.indexOf("left")!==-1,O=N.textposition.indexOf("right")!==-1,H=N.textposition.indexOf("bottom")!==-1,Y=A(y,[h,l],{flipX:N.tiling.flip.indexOf("x")>-1,flipY:N.tiling.flip.indexOf("y")>-1,orientation:N.tiling.orientation,pad:{inner:N.tiling.pad},maxDepth:N._maxDepth}),J=Y.descendants(),re=1/0,ie=-1/0;J.forEach(function($){var te=$.depth;te>=N._maxDepth?($.x0=$.x1=($.x0+$.x1)/2,$.y0=$.y1=($.y0+$.y1)/2):(re=Math.min(re,te),ie=Math.max(ie,te))}),c=c.data(J,t.getPtId),N._maxVisibleLayers=isFinite(ie)?ie-re+1:0,c.enter().append("g").classed("slice",!0),w(c,n,F,[h,l],S),c.order();var ce=null;if(M&&m){var Q=t.getPtId(m);c.each(function($){ce===null&&t.getPtId($)===Q&&(ce={x0:$.x0,x1:$.x1,y0:$.y0,y1:$.y1})})}var j=function(){return ce||{x0:0,x1:h,y0:0,y1:l}},Z=c;return M&&(Z=Z.transition().each("end",function(){var $=g.select(this);t.setSliceCursor($,f,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Z.each(function($){$._x0=d($.x0),$._x1=d($.x1),$._y0=E($.y0),$._y1=E($.y1),$._hoverX=d($.x1-N.tiling.pad),$._hoverY=E(H?$.y1-N.tiling.pad/2:$.y0+N.tiling.pad/2);var te=g.select(this),se=_.ensureSingle(te,"path","surface",function(oe){oe.style("pointer-events",I?"none":"all")});M?se.transition().attrTween("d",function(oe){var he=o(oe,n,j(),[h,l],{orientation:N.tiling.orientation,flipX:N.tiling.flip.indexOf("x")>-1,flipY:N.tiling.flip.indexOf("y")>-1});return function(me){return S(he(me))}}):se.attr("d",S),te.call(r,y,f,u,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,f,{isTransitioning:f._transitioning}),se.call(v,$,N,f,{hovered:!1}),$.x0===$.x1||$.y0===$.y1?$._text="":$._text=s($,y,N,u,U)||"";var ee=_.ensureSingle(te,"g","slicetext"),q=_.ensureSingle(ee,"text","",function(oe){oe.attr("data-notex",1)}),le=_.ensureUniformFontSize(f,t.determineTextFont(N,$,U.font));q.text($._text||" ").classed("slicetext",!0).attr("text-anchor",O?"end":B?"start":"middle").call(a.font,le).call(C.convertToTspans,f),$.textBB=a.bBox(q.node()),$.transform=P($,{fontSize:le.size}),$.transform.fontSize=le.size,M?q.transition().attrTween("transform",function(oe){var he=L(oe,n,j(),[h,l]);return function(me){return x(he(me))}}):q.attr("transform",x($))}),ce}},69816:function(G,V,e){G.exports={moduleType:"trace",name:"icicle",basePlotModule:e(96346),categories:[],animatable:!0,attributes:e(46291),layoutAttributes:e(92894),supplyDefaults:e(56524),supplyLayoutDefaults:e(21070),calc:e(46584).y,crossTraceCalc:e(46584).T,plot:e(85596),style:e(82454).style,colorbar:e(4898),meta:{}}},92894:function(G){G.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},21070:function(G,V,e){var g=e(71828),_=e(92894);G.exports=function(C,A){function v(p,t){return g.coerce(C,A,_,p,t)}v("iciclecolorway",A.colorway),v("extendiciclecolors")}},21538:function(G,V,e){var g=e(674),_=e(14102);G.exports=function(C,A,v){var p=v.flipX,t=v.flipY,r=v.orientation==="h",s=v.maxDepth,n=A[0],i=A[1];s&&(n=(C.height+1)*A[0]/Math.min(C.height+1,s),i=(C.height+1)*A[1]/Math.min(C.height+1,s));var f=g.partition().padding(v.pad.inner).size(r?[A[1],n]:[A[0],i])(C);return(r||p||t)&&_(f,A,{swapXY:r,flipX:p,flipY:t}),f}},85596:function(G,V,e){var g=e(80694),_=e(90666);G.exports=function(C,A,v,p){return g(C,A,v,p,{type:"icicle",drawDescendants:_})}},82454:function(G,V,e){var g=e(39898),_=e(7901),a=e(71828),C=e(72597).resizeText,A=e(43467);function v(t){var r=t._fullLayout._iciclelayer.selectAll(".trace");C(t,r,"icicle"),r.each(function(s){var n=g.select(this),i=s[0],f=i.trace;n.style("opacity",f.opacity),n.selectAll("path.surface").each(function(u){g.select(this).call(p,u,f,t)})})}function p(t,r,s,n){var i=r.data.data,f=!r.children,u=i.i,y=a.castOption(s,u,"marker.line.color")||_.defaultLine,c=a.castOption(s,u,"marker.line.width")||0;t.call(A,r,s,n).style("stroke-width",c).call(_.stroke,y).style("opacity",f?s.leaf.opacity:null)}G.exports={style:v,styleOne:p}},17230:function(G,V,e){for(var g=e(9012),_=e(5386).fF,a=e(1426).extendFlat,C=e(51877).colormodel,A=["rgb","rgba","rgba256","hsl","hsla"],v=[],p=[],t=0;t<A.length;t++){var r=C[A[t]];v.push("For the `"+A[t]+"` colormodel, it is ["+(r.zminDflt||r.min).join(", ")+"]."),p.push("For the `"+A[t]+"` colormodel, it is ["+(r.zmaxDflt||r.max).join(", ")+"].")}G.exports=a({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:A,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:a({},g.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:_({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(G,V,e){var g=e(71828),_=e(51877),a=e(92770),C=e(89298),A=e(71828).maxRowLength,v=e(67395).A;G.exports=function(n,i){var f,u;if(i._hasZ)f=i.z.length,u=A(i.z);else if(i._hasSource){var y=v(i.source);f=y.height,u=y.width}var c=C.getFromId(n,i.xaxis||"x"),T=C.getFromId(n,i.yaxis||"y"),h=c.d2c(i.x0)-i.dx/2,l=T.d2c(i.y0)-i.dy/2,d,E=[h,h+u*i.dx],S=[l,l+f*i.dy];if(c&&c.type==="log")for(d=0;d<u;d++)E.push(h+d*i.dx);if(T&&T.type==="log")for(d=0;d<f;d++)S.push(l+d*i.dy);i._extremes[c._id]=C.findExtremes(c,E),i._extremes[T._id]=C.findExtremes(T,S),i._scaler=r(i);var P={x0:h,y0:l,z:i.z,w:u,h:f};return[P]};function p(s,n,i,f){return function(u){return g.constrain((u-s)*n,i,f)}}function t(s,n){return function(i){return g.constrain(i,s,n)}}function r(s){var n=_.colormodel[s.colormodel],i=n.colormodel||s.colormodel,f=i.length;s._sArray=[];for(var u=0;u<f;u++)n.min[u]!==s.zmin[u]||n.max[u]!==s.zmax[u]?s._sArray.push(p(s.zmin[u],(n.max[u]-n.min[u])/(s.zmax[u]-s.zmin[u]),n.min[u],n.max[u])):s._sArray.push(t(n.min[u],n.max[u]));return function(y){for(var c=y.slice(0,f),T=0;T<f;T++){var h=c[T];if(!a(h))return!1;c[T]=s._sArray[T](h)}return c}}},51877:function(G){G.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(V){return V.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(V){return V.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(V){return V.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(V){var e=V.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(V){var e=V.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%",""]}}}},13245:function(G,V,e){var g=e(71828),_=e(17230),a=e(51877),C=e(25095).IMAGE_URL_PREFIX;G.exports=function(v,p){function t(n,i){return g.coerce(v,p,_,n,i)}t("source"),p.source&&!p.source.match(C)&&delete p.source,p._hasSource=!!p.source;var r=t("z");if(p._hasZ=!(r===void 0||!r.length||!r[0]||!r[0].length),!p._hasZ&&!p._hasSource){p.visible=!1;return}t("x0"),t("y0"),t("dx"),t("dy");var s;p._hasZ?(t("colormodel","rgb"),s=a.colormodel[p.colormodel],t("zmin",s.zminDflt||s.min),t("zmax",s.zmaxDflt||s.max)):p._hasSource&&(p.colormodel="rgba256",s=a.colormodel[p.colormodel],p.zmin=s.zminDflt,p.zmax=s.zmaxDflt),t("zsmooth"),t("text"),t("hovertext"),t("hovertemplate"),p._length=null}},30835:function(G){G.exports=function(e,g){return"xVal"in g&&(e.x=g.xVal),"yVal"in g&&(e.y=g.yVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e.color=g.color,e.colormodel=g.trace.colormodel,e.z||(e.z=g.color),e}},67395:function(G,V,e){var g=e(33575),_=e(25095).IMAGE_URL_PREFIX,a=e(12856).Buffer;V.A=function(C){var A=C.replace(_,""),v=new a(A,"base64");return g(v)}},28749:function(G,V,e){var g=e(30211),_=e(71828),a=e(51877);G.exports=function(A,v,p){var t=A.cd[0],r=t.trace,s=A.xa,n=A.ya;if(!(g.inbox(v-t.x0,v-(t.x0+t.w*r.dx),0)>0||g.inbox(p-t.y0,p-(t.y0+t.h*r.dy),0)>0)){var i=Math.floor((v-t.x0)/r.dx),f=Math.floor(Math.abs(p-t.y0)/r.dy),u;if(r._hasZ?u=t.z[f][i]:r._hasSource&&(u=r._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(i,f,1,1).data),!!u){var y=t.hi||r.hoverinfo,c;if(y){var T=y.split("+");T.indexOf("all")!==-1&&(T=["color"]),T.indexOf("color")!==-1&&(c=!0)}var h=a.colormodel[r.colormodel],l=h.colormodel||r.colormodel,d=l.length,E=r._scaler(u),S=h.suffix,P=[];(r.hovertemplate||c)&&(P.push("["+[E[0]+S[0],E[1]+S[1],E[2]+S[2]].join(", ")),d===4&&P.push(", "+E[3]+S[3]),P.push("]"),P=P.join(""),A.extraText=l.toUpperCase()+": "+P);var x;Array.isArray(r.hovertext)&&Array.isArray(r.hovertext[f])?x=r.hovertext[f][i]:Array.isArray(r.text)&&Array.isArray(r.text[f])&&(x=r.text[f][i]);var M=n.c2p(t.y0+(f+.5)*r.dy),w=t.x0+(i+.5)*r.dx,o=t.y0+(f+.5)*r.dy,L="["+u.slice(0,r.colormodel.length).join(", ")+"]";return[_.extendFlat(A,{index:[f,i],x0:s.c2p(t.x0+i*r.dx),x1:s.c2p(t.x0+(i+1)*r.dx),y0:M,y1:M,color:E,xVal:w,xLabelVal:w,yVal:o,yLabelVal:o,zLabelVal:L,text:x,hovertemplateLabels:{zLabel:L,colorLabel:P,"color[0]Label":E[0]+S[0],"color[1]Label":E[1]+S[1],"color[2]Label":E[2]+S[2],"color[3]Label":E[3]+S[3]}})]}}}},94507:function(G,V,e){G.exports={attributes:e(17230),supplyDefaults:e(13245),calc:e(71113),plot:e(60775),style:e(12826),hoverPoints:e(28749),eventData:e(30835),moduleType:"trace",name:"image",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(G,V,e){var g=e(39898),_=e(71828),a=_.strTranslate,C=e(77922),A=e(51877),v=e(3883),p=e(32396).STYLE;G.exports=function(r,s,n,i){var f=s.xaxis,u=s.yaxis,y=!r._context._exportedPlot&&v();_.makeTraceGroups(i,n,"im").each(function(c){var T=g.select(this),h=c[0],l=h.trace,d=(l.zsmooth==="fast"||l.zsmooth===!1&&y)&&!l._hasZ&&l._hasSource&&f.type==="linear"&&u.type==="linear";l._realImage=d;var E=h.z,S=h.x0,P=h.y0,x=h.w,M=h.h,w=l.dx,o=l.dy,L,m,F,I,U,z;for(z=0;L===void 0&&z<x;)L=f.c2p(S+z*w),z++;for(z=x;m===void 0&&z>0;)m=f.c2p(S+z*w),z--;for(z=0;I===void 0&&z<M;)I=u.c2p(P+z*o),z++;for(z=M;U===void 0&&z>0;)U=u.c2p(P+z*o),z--;if(m<L&&(F=m,m=L,L=F),U<I&&(F=I,I=U,U=F),!d){var N=.5;L=Math.max(-N*f._length,L),m=Math.min((1+N)*f._length,m),I=Math.max(-N*u._length,I),U=Math.min((1+N)*u._length,U)}var B=Math.round(m-L),O=Math.round(U-I),H=B<=0||O<=0;if(H){var Y=T.selectAll("image").data([]);Y.exit().remove();return}function J(ee){var q=document.createElement("canvas");q.width=B,q.height=O;var le=q.getContext("2d",{willReadFrequently:!0}),oe=function(je){return _.constrain(Math.round(f.c2p(S+je*w)-L),0,B)},he=function(je){return _.constrain(Math.round(u.c2p(P+je*o)-I),0,O)},me=A.colormodel[l.colormodel],Ce=me.colormodel||l.colormodel,Ae=me.fmt,Ue;for(z=0;z<h.w;z++){var Ve=oe(z),Pe=oe(z+1);if(!(Pe===Ve||isNaN(Pe)||isNaN(Ve)))for(var be=0;be<h.h;be++){var Le=he(be),We=he(be+1);We===Le||isNaN(We)||isNaN(Le)||!ee(z,be)||(Ue=l._scaler(ee(z,be)),Ue?le.fillStyle=Ce+"("+Ae(Ue).join(",")+")":le.fillStyle="rgba(0,0,0,0)",le.fillRect(Ve,Le,Pe-Ve,We-Le))}}return q}var re=T.selectAll("image").data([c]);re.enter().append("svg:image").attr({xmlns:C.svg,preserveAspectRatio:"none"}),re.exit().remove();var ie=l.zsmooth===!1?p:"";if(d){var ce=_.simpleMap(f.range,f.r2l),Q=_.simpleMap(u.range,u.r2l),j=ce[1]<ce[0],Z=Q[1]>Q[0];if(j||Z){var $=L+B/2,te=I+O/2;ie+="transform:"+a($+"px",te+"px")+"scale("+(j?-1:1)+","+(Z?-1:1)+")"+a(-$+"px",-te+"px")+";"}}re.attr("style",ie);var se=new Promise(function(ee){if(l._hasZ)ee();else if(l._hasSource)if(l._canvas&&l._canvas.el.width===x&&l._canvas.el.height===M&&l._canvas.source===l.source)ee();else{var q=document.createElement("canvas");q.width=x,q.height=M;var le=q.getContext("2d",{willReadFrequently:!0});l._image=l._image||new Image;var oe=l._image;oe.onload=function(){le.drawImage(oe,0,0),l._canvas={el:q,source:l.source},ee()},oe.setAttribute("src",l.source)}}).then(function(){var ee,q;if(l._hasZ)q=J(function(he,me){return E[me][he]}),ee=q.toDataURL("image/png");else if(l._hasSource)if(d)ee=l.source;else{var le=l._canvas.el.getContext("2d",{willReadFrequently:!0}),oe=le.getImageData(0,0,x,M).data;q=J(function(he,me){var Ce=4*(me*x+he);return[oe[Ce],oe[Ce+1],oe[Ce+2],oe[Ce+3]]}),ee=q.toDataURL("image/png")}re.attr({"xlink:href":ee,height:O,width:B,x:L,y:I})});r._promises.push(se)})}},12826:function(G,V,e){var g=e(39898);G.exports=function(a){g.select(a).selectAll(".im image").style("opacity",function(C){return C[0].trace.opacity})}},54846:function(G,V,e){var g=e(1426).extendFlat,_=e(1426).extendDeep,a=e(30962).overrideAll,C=e(41940),A=e(22399),v=e(27670).Y,p=e(13838),t=e(44467).templatedArray,r=e(22372),s=e(12663).descriptionOnlyNumbers,n=C({editType:"plot",colorEditType:"plot"}),i={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:A.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},f={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},u=t("step",_({},i,{range:f}));G.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:g({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:s("value")},font:g({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:s("value")},increasing:{symbol:{valType:"string",dflt:r.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:r.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:r.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:r.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:g({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:_({},i,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:A.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:a({range:f,visible:g({},p.visible,{dflt:!0}),tickmode:p.minor.tickmode,nticks:p.nticks,tick0:p.tick0,dtick:p.dtick,tickvals:p.tickvals,ticktext:p.ticktext,ticks:g({},p.ticks,{dflt:"outside"}),ticklen:p.ticklen,tickwidth:p.tickwidth,tickcolor:p.tickcolor,ticklabelstep:p.ticklabelstep,showticklabels:p.showticklabels,labelalias:p.labelalias,tickfont:C({}),tickangle:p.tickangle,tickformat:p.tickformat,tickformatstops:p.tickformatstops,tickprefix:p.tickprefix,showtickprefix:p.showtickprefix,ticksuffix:p.ticksuffix,showticksuffix:p.showticksuffix,separatethousands:p.separatethousands,exponentformat:p.exponentformat,minexponent:p.minexponent,showexponent:p.showexponent,editType:"plot"},"plot"),steps:u,threshold:{line:{color:g({},i.line.color,{}),width:g({},i.line.width,{dflt:1}),editType:"plot"},thickness:g({},i.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},15970:function(G,V,e){var g=e(74875);V.name="indicator",V.plot=function(_,a,C,A){g.plotBasePlot(V.name,_,a,C,A)},V.clean=function(_,a,C,A){g.cleanBasePlot(V.name,_,a,C,A)}},24667:function(G){function V(e,g){var _=[],a=g.value;typeof g._lastValue!="number"&&(g._lastValue=g.value);var C=g._lastValue,A=C;return g._hasDelta&&typeof g.delta.reference=="number"&&(A=g.delta.reference),_[0]={y:a,lastY:C,delta:a-A,relativeDelta:(a-A)/A},_}G.exports={calc:V}},84577:function(G){G.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},94425:function(G,V,e){var g=e(71828),_=e(54846),a=e(27670).c,C=e(44467),A=e(85501),v=e(84577),p=e(26218),t=e(38701),r=e(96115),s=e(89426);function n(f,u,y,c){function T(U,z){return g.coerce(f,u,_,U,z)}a(u,c,T),T("mode"),u._hasNumber=u.mode.indexOf("number")!==-1,u._hasDelta=u.mode.indexOf("delta")!==-1,u._hasGauge=u.mode.indexOf("gauge")!==-1;var h=T("value");u._range=[0,typeof h=="number"?1.5*h:1];var l=new Array(2),d;u._hasNumber&&(T("number.valueformat"),T("number.font.color",c.font.color),T("number.font.family",c.font.family),T("number.font.size"),u.number.font.size===void 0&&(u.number.font.size=v.defaultNumberFontSize,l[0]=!0),T("number.prefix"),T("number.suffix"),d=u.number.font.size);var E;u._hasDelta&&(T("delta.font.color",c.font.color),T("delta.font.family",c.font.family),T("delta.font.size"),u.delta.font.size===void 0&&(u.delta.font.size=(u._hasNumber?.5:1)*(d||v.defaultNumberFontSize),l[1]=!0),T("delta.reference",u.value),T("delta.relative"),T("delta.valueformat",u.delta.relative?"2%":""),T("delta.increasing.symbol"),T("delta.increasing.color"),T("delta.decreasing.symbol"),T("delta.decreasing.color"),T("delta.position"),T("delta.prefix"),T("delta.suffix"),E=u.delta.font.size),u._scaleNumbers=(!u._hasNumber||l[0])&&(!u._hasDelta||l[1])||!1,T("title.font.color",c.font.color),T("title.font.family",c.font.family),T("title.font.size",.25*(d||E||v.defaultNumberFontSize)),T("title.text");var S,P,x,M;function w(U,z){return g.coerce(S,P,_.gauge,U,z)}function o(U,z){return g.coerce(x,M,_.gauge.axis,U,z)}if(u._hasGauge){S=f.gauge,S||(S={}),P=C.newContainer(u,"gauge"),w("shape");var L=u._isBullet=u.gauge.shape==="bullet";L||T("title.align","center");var m=u._isAngular=u.gauge.shape==="angular";m||T("align","center"),w("bgcolor",c.paper_bgcolor),w("borderwidth"),w("bordercolor"),w("bar.color"),w("bar.line.color"),w("bar.line.width");var F=v.valueThickness*(u.gauge.shape==="bullet"?.5:1);w("bar.thickness",F),A(S,P,{name:"steps",handleItemDefaults:i}),w("threshold.value"),w("threshold.thickness"),w("threshold.line.width"),w("threshold.line.color"),x={},S&&(x=S.axis||{}),M=C.newContainer(P,"axis"),o("visible"),u._range=o("range",u._range);var I={outerTicks:!0};p(x,M,o,"linear"),s(x,M,o,"linear",I),r(x,M,o,"linear",I),t(x,M,o,I)}else T("title.align","center"),T("align","center"),u._isAngular=u._isBullet=!1;u._length=null}function i(f,u){function y(c,T){return g.coerce(f,u,_.gauge.steps,c,T)}y("color"),y("line.color"),y("line.width"),y("range"),y("thickness")}G.exports={supplyDefaults:n}},15154:function(G,V,e){G.exports={moduleType:"trace",name:"indicator",basePlotModule:e(15970),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(54846),supplyDefaults:e(94425).supplyDefaults,calc:e(24667).calc,plot:e(75634),meta:{}}},75634:function(G,V,e){var g=e(39898),_=e(81684).sX,a=e(81684).k4,C=e(71828),A=C.strScale,v=C.strTranslate,p=C.rad2deg,t=e(18783).MID_SHIFT,r=e(91424),s=e(84577),n=e(63893),i=e(89298),f=e(71453),u=e(52830),y=e(13838),c=e(7901),T={left:"start",center:"middle",right:"end"},h={left:0,center:.5,right:1},l=/[yzafpnmkMGTPEZY]/;function d(I){return I&&I.duration>0}G.exports=function(U,z,N,B){var O=U._fullLayout,H;d(N)&&B&&(H=B()),C.makeTraceGroups(O._indicatorlayer,z,"trace").each(function(Y){var J=Y[0],re=J.trace,ie=g.select(this),ce=re._hasGauge,Q=re._isAngular,j=re._isBullet,Z=re.domain,$={w:O._size.w*(Z.x[1]-Z.x[0]),h:O._size.h*(Z.y[1]-Z.y[0]),l:O._size.l+O._size.w*Z.x[0],r:O._size.r+O._size.w*(1-Z.x[1]),t:O._size.t+O._size.h*(1-Z.y[1]),b:O._size.b+O._size.h*Z.y[0]},te=$.l+$.w/2,se=$.t+$.h/2,ee=Math.min($.w/2,$.h),q=s.innerRadius*ee,le,oe,he,me=re.align||"center";if(oe=se,!ce)le=$.l+h[me]*$.w,he=function(Fe){return o(Fe,$.w,$.h)};else if(Q&&(le=te,oe=se+ee/2,he=function(Fe){return L(Fe,.9*q)}),j){var Ce=s.bulletPadding,Ae=1-s.bulletNumberDomainSize+Ce;le=$.l+(Ae+(1-Ae)*h[me])*$.w,he=function(Fe){return o(Fe,(s.bulletNumberDomainSize-Ce)*$.w,$.h)}}P(U,ie,Y,{numbersX:le,numbersY:oe,numbersScaler:he,transitionOpts:N,onComplete:H});var Ue,Ve;ce&&(Ue={range:re.gauge.axis.range,color:re.gauge.bgcolor,line:{color:re.gauge.bordercolor,width:0},thickness:1},Ve={range:re.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:re.gauge.bordercolor,width:re.gauge.borderwidth},thickness:1});var Pe=ie.selectAll("g.angular").data(Q?Y:[]);Pe.exit().remove();var be=ie.selectAll("g.angularaxis").data(Q?Y:[]);be.exit().remove(),Q&&S(U,ie,Y,{radius:ee,innerRadius:q,gauge:Pe,layer:be,size:$,gaugeBg:Ue,gaugeOutline:Ve,transitionOpts:N,onComplete:H});var Le=ie.selectAll("g.bullet").data(j?Y:[]);Le.exit().remove();var We=ie.selectAll("g.bulletaxis").data(j?Y:[]);We.exit().remove(),j&&E(U,ie,Y,{gauge:Le,layer:We,size:$,gaugeBg:Ue,gaugeOutline:Ve,transitionOpts:N,onComplete:H});var je=ie.selectAll("text.title").data(Y);je.exit().remove(),je.enter().append("text").classed("title",!0),je.attr("text-anchor",function(){return j?T.right:T[re.title.align]}).text(re.title.text).call(r.font,re.title.font).call(n.convertToTspans,U),je.attr("transform",function(){var Fe=$.l+$.w*h[re.title.align],Ze,ut=s.titlePadding,at=r.bBox(je.node());if(ce){if(Q)if(re.gauge.axis.visible){var it=r.bBox(be.node());Ze=it.top-ut-at.bottom}else Ze=$.t+$.h/2-ee/2-at.bottom-ut;j&&(Ze=oe-(at.top+at.bottom)/2,Fe=$.l-s.bulletPadding*$.w)}else Ze=re._numbersTop-ut-at.bottom;return v(Fe,Ze)})})};function E(I,U,z,N){var B=z[0].trace,O=N.gauge,H=N.layer,Y=N.gaugeBg,J=N.gaugeOutline,re=N.size,ie=B.domain,ce=N.transitionOpts,Q=N.onComplete,j,Z,$,te,se;O.enter().append("g").classed("bullet",!0),O.attr("transform",v(re.l,re.t)),H.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),H.selectAll("g.xbulletaxistick,path,text").remove();var ee=re.h,q=B.gauge.bar.thickness*ee,le=ie.x[0],oe=ie.x[0]+(ie.x[1]-ie.x[0])*(B._hasNumber||B._hasDelta?1-s.bulletNumberDomainSize:1);j=w(I,B.gauge.axis),j._id="xbulletaxis",j.domain=[le,oe],j.setScale(),Z=i.calcTicks(j),$=i.makeTransTickFn(j),te=i.getTickSigns(j)[2],se=re.t+re.h,j.visible&&(i.drawTicks(I,j,{vals:j.ticks==="inside"?i.clipEnds(j,Z):Z,layer:H,path:i.makeTickPath(j,se,te),transFn:$}),i.drawLabels(I,j,{vals:Z,layer:H,transFn:$,labelFns:i.makeLabelFns(j,se)}));function he(be){be.attr("width",function(Le){return Math.max(0,j.c2p(Le.range[1])-j.c2p(Le.range[0]))}).attr("x",function(Le){return j.c2p(Le.range[0])}).attr("y",function(Le){return .5*(1-Le.thickness)*ee}).attr("height",function(Le){return Le.thickness*ee})}var me=[Y].concat(B.gauge.steps),Ce=O.selectAll("g.bg-bullet").data(me);Ce.enter().append("g").classed("bg-bullet",!0).append("rect"),Ce.select("rect").call(he).call(x),Ce.exit().remove();var Ae=O.selectAll("g.value-bullet").data([B.gauge.bar]);Ae.enter().append("g").classed("value-bullet",!0).append("rect"),Ae.select("rect").attr("height",q).attr("y",(ee-q)/2).call(x),d(ce)?Ae.select("rect").transition().duration(ce.duration).ease(ce.easing).each("end",function(){Q&&Q()}).each("interrupt",function(){Q&&Q()}).attr("width",Math.max(0,j.c2p(Math.min(B.gauge.axis.range[1],z[0].y)))):Ae.select("rect").attr("width",typeof z[0].y=="number"?Math.max(0,j.c2p(Math.min(B.gauge.axis.range[1],z[0].y))):0),Ae.exit().remove();var Ue=z.filter(function(){return B.gauge.threshold.value||B.gauge.threshold.value===0}),Ve=O.selectAll("g.threshold-bullet").data(Ue);Ve.enter().append("g").classed("threshold-bullet",!0).append("line"),Ve.select("line").attr("x1",j.c2p(B.gauge.threshold.value)).attr("x2",j.c2p(B.gauge.threshold.value)).attr("y1",(1-B.gauge.threshold.thickness)/2*ee).attr("y2",(1-(1-B.gauge.threshold.thickness)/2)*ee).call(c.stroke,B.gauge.threshold.line.color).style("stroke-width",B.gauge.threshold.line.width),Ve.exit().remove();var Pe=O.selectAll("g.gauge-outline").data([J]);Pe.enter().append("g").classed("gauge-outline",!0).append("rect"),Pe.select("rect").call(he).call(x),Pe.exit().remove()}function S(I,U,z,N){var B=z[0].trace,O=N.size,H=N.radius,Y=N.innerRadius,J=N.gaugeBg,re=N.gaugeOutline,ie=[O.l+O.w/2,O.t+O.h/2+H/2],ce=N.gauge,Q=N.layer,j=N.transitionOpts,Z=N.onComplete,$=Math.PI/2;function te($e){var st=B.gauge.axis.range[0],ct=B.gauge.axis.range[1],vt=($e-st)/(ct-st)*Math.PI-$;return vt<-$?-$:vt>$?$:vt}function se($e){return g.svg.arc().innerRadius((Y+H)/2-$e/2*(H-Y)).outerRadius((Y+H)/2+$e/2*(H-Y)).startAngle(-$)}function ee($e){$e.attr("d",function(st){return se(st.thickness).startAngle(te(st.range[0])).endAngle(te(st.range[1]))()})}var q,le,oe,he;ce.enter().append("g").classed("angular",!0),ce.attr("transform",v(ie[0],ie[1])),Q.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),Q.selectAll("g.xangularaxistick,path,text").remove(),q=w(I,B.gauge.axis),q.type="linear",q.range=B.gauge.axis.range,q._id="xangularaxis",q.ticklabeloverflow="allow",q.setScale();var me=function($e){return(q.range[0]-$e.x)/(q.range[1]-q.range[0])*Math.PI+Math.PI},Ce={},Ae=i.makeLabelFns(q,0),Ue=Ae.labelStandoff;Ce.xFn=function($e){var st=me($e);return Math.cos(st)*Ue},Ce.yFn=function($e){var st=me($e),ct=Math.sin(st)>0?.2:1;return-Math.sin(st)*(Ue+$e.fontSize*ct)+Math.abs(Math.cos(st))*($e.fontSize*t)},Ce.anchorFn=function($e){var st=me($e),ct=Math.cos(st);return Math.abs(ct)<.1?"middle":ct>0?"start":"end"},Ce.heightFn=function($e,st,ct){var vt=me($e);return-.5*(1+Math.sin(vt))*ct};var Ve=function($e){return v(ie[0]+H*Math.cos($e),ie[1]-H*Math.sin($e))};oe=function($e){return Ve(me($e))};var Pe=function($e){var st=me($e);return Ve(st)+"rotate("+-p(st)+")"};if(le=i.calcTicks(q),he=i.getTickSigns(q)[2],q.visible){he=q.ticks==="inside"?-1:1;var be=(q.linewidth||1)/2;i.drawTicks(I,q,{vals:le,layer:Q,path:"M"+he*be+",0h"+he*q.ticklen,transFn:Pe}),i.drawLabels(I,q,{vals:le,layer:Q,transFn:oe,labelFns:Ce})}var Le=[J].concat(B.gauge.steps),We=ce.selectAll("g.bg-arc").data(Le);We.enter().append("g").classed("bg-arc",!0).append("path"),We.select("path").call(ee).call(x),We.exit().remove();var je=se(B.gauge.bar.thickness),Fe=ce.selectAll("g.value-arc").data([B.gauge.bar]);Fe.enter().append("g").classed("value-arc",!0).append("path");var Ze=Fe.select("path");d(j)?(Ze.transition().duration(j.duration).ease(j.easing).each("end",function(){Z&&Z()}).each("interrupt",function(){Z&&Z()}).attrTween("d",M(je,te(z[0].lastY),te(z[0].y))),B._lastValue=z[0].y):Ze.attr("d",typeof z[0].y=="number"?je.endAngle(te(z[0].y)):"M0,0Z"),Ze.call(x),Fe.exit().remove(),Le=[];var ut=B.gauge.threshold.value;(ut||ut===0)&&Le.push({range:[ut,ut],color:B.gauge.threshold.color,line:{color:B.gauge.threshold.line.color,width:B.gauge.threshold.line.width},thickness:B.gauge.threshold.thickness});var at=ce.selectAll("g.threshold-arc").data(Le);at.enter().append("g").classed("threshold-arc",!0).append("path"),at.select("path").call(ee).call(x),at.exit().remove();var it=ce.selectAll("g.gauge-outline").data([re]);it.enter().append("g").classed("gauge-outline",!0).append("path"),it.select("path").call(ee).call(x),it.exit().remove()}function P(I,U,z,N){var B=z[0].trace,O=N.numbersX,H=N.numbersY,Y=B.align||"center",J=T[Y],re=N.transitionOpts,ie=N.onComplete,ce=C.ensureSingle(U,"g","numbers"),Q,j,Z,$=[];B._hasNumber&&$.push("number"),B._hasDelta&&($.push("delta"),B.delta.position==="left"&&$.reverse());var te=ce.selectAll("text").data($);te.enter().append("text"),te.attr("text-anchor",function(){return J}).attr("class",function(Ve){return Ve}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),te.exit().remove();function se(Ve,Pe,be,Le){if(Ve.match("s")&&be>=0!=Le>=0&&!Pe(be).slice(-1).match(l)&&!Pe(Le).slice(-1).match(l)){var We=Ve.slice().replace("s","f").replace(/\d+/,function(Fe){return parseInt(Fe)-1}),je=w(I,{tickformat:We});return function(Fe){return Math.abs(Fe)<1?i.tickText(je,Fe).text:Pe(Fe)}}else return Pe}function ee(){var Ve=w(I,{tickformat:B.number.valueformat},B._range);Ve.setScale(),i.prepTicks(Ve);var Pe=function(Fe){return i.tickText(Ve,Fe).text},be=B.number.suffix,Le=B.number.prefix,We=ce.select("text.number");function je(){var Fe=typeof z[0].y=="number"?Le+Pe(z[0].y)+be:"-";We.text(Fe).call(r.font,B.number.font).call(n.convertToTspans,I)}return d(re)?We.transition().duration(re.duration).ease(re.easing).each("end",function(){je(),ie&&ie()}).each("interrupt",function(){je(),ie&&ie()}).attrTween("text",function(){var Fe=g.select(this),Ze=a(z[0].lastY,z[0].y);B._lastValue=z[0].y;var ut=se(B.number.valueformat,Pe,z[0].lastY,z[0].y);return function(at){Fe.text(Le+ut(Ze(at))+be)}}):je(),Q=m(Le+Pe(z[0].y)+be,B.number.font,J,I),We}function q(){var Ve=w(I,{tickformat:B.delta.valueformat},B._range);Ve.setScale(),i.prepTicks(Ve);var Pe=function(at){return i.tickText(Ve,at).text},be=B.delta.suffix,Le=B.delta.prefix,We=function(at){var it=B.delta.relative?at.relativeDelta:at.delta;return it},je=function(at,it){return at===0||typeof at!="number"||isNaN(at)?"-":(at>0?B.delta.increasing.symbol:B.delta.decreasing.symbol)+Le+it(at)+be},Fe=function(at){return at.delta>=0?B.delta.increasing.color:B.delta.decreasing.color};B._deltaLastValue===void 0&&(B._deltaLastValue=We(z[0]));var Ze=ce.select("text.delta");Ze.call(r.font,B.delta.font).call(c.fill,Fe({delta:B._deltaLastValue}));function ut(){Ze.text(je(We(z[0]),Pe)).call(c.fill,Fe(z[0])).call(n.convertToTspans,I)}return d(re)?Ze.transition().duration(re.duration).ease(re.easing).tween("text",function(){var at=g.select(this),it=We(z[0]),$e=B._deltaLastValue,st=se(B.delta.valueformat,Pe,$e,it),ct=a($e,it);return B._deltaLastValue=it,function(vt){at.text(je(ct(vt),st)),at.call(c.fill,Fe({delta:ct(vt)}))}}).each("end",function(){ut(),ie&&ie()}).each("interrupt",function(){ut(),ie&&ie()}):ut(),j=m(je(We(z[0]),Pe),B.delta.font,J,I),Ze}var le=B.mode+B.align,oe;if(B._hasDelta&&(oe=q(),le+=B.delta.position+B.delta.font.size+B.delta.font.family+B.delta.valueformat,le+=B.delta.increasing.symbol+B.delta.decreasing.symbol,Z=j),B._hasNumber&&(ee(),le+=B.number.font.size+B.number.font.family+B.number.valueformat+B.number.suffix+B.number.prefix,Z=Q),B._hasDelta&&B._hasNumber){var he=[(Q.left+Q.right)/2,(Q.top+Q.bottom)/2],me=[(j.left+j.right)/2,(j.top+j.bottom)/2],Ce,Ae,Ue=.75*B.delta.font.size;B.delta.position==="left"&&(Ce=F(B,"deltaPos",0,-1*(Q.width*h[B.align]+j.width*(1-h[B.align])+Ue),le,Math.min),Ae=he[1]-me[1],Z={width:Q.width+j.width+Ue,height:Math.max(Q.height,j.height),left:j.left+Ce,right:Q.right,top:Math.min(Q.top,j.top+Ae),bottom:Math.max(Q.bottom,j.bottom+Ae)}),B.delta.position==="right"&&(Ce=F(B,"deltaPos",0,Q.width*(1-h[B.align])+j.width*h[B.align]+Ue,le,Math.max),Ae=he[1]-me[1],Z={width:Q.width+j.width+Ue,height:Math.max(Q.height,j.height),left:Q.left,right:j.right+Ce,top:Math.min(Q.top,j.top+Ae),bottom:Math.max(Q.bottom,j.bottom+Ae)}),B.delta.position==="bottom"&&(Ce=null,Ae=j.height,Z={width:Math.max(Q.width,j.width),height:Q.height+j.height,left:Math.min(Q.left,j.left),right:Math.max(Q.right,j.right),top:Q.bottom-Q.height,bottom:Q.bottom+j.height}),B.delta.position==="top"&&(Ce=null,Ae=Q.top,Z={width:Math.max(Q.width,j.width),height:Q.height+j.height,left:Math.min(Q.left,j.left),right:Math.max(Q.right,j.right),top:Q.bottom-Q.height-j.height,bottom:Q.bottom}),oe.attr({dx:Ce,dy:Ae})}(B._hasNumber||B._hasDelta)&&ce.attr("transform",function(){var Ve=N.numbersScaler(Z);le+=Ve[2];var Pe=F(B,"numbersScale",1,Ve[0],le,Math.min),be;B._scaleNumbers||(Pe=1),B._isAngular?be=H-Pe*Z.bottom:be=H-Pe*(Z.top+Z.bottom)/2,B._numbersTop=Pe*Z.top+be;var Le=Z[Y];Y==="center"&&(Le=(Z.left+Z.right)/2);var We=O-Pe*Le;return We=F(B,"numbersTranslate",0,We,le,Math.max),v(We,be)+A(Pe)})}function x(I){I.each(function(U){c.stroke(g.select(this),U.line.color)}).each(function(U){c.fill(g.select(this),U.color)}).style("stroke-width",function(U){return U.line.width})}function M(I,U,z){return function(){var N=_(U,z);return function(B){return I.endAngle(N(B))()}}}function w(I,U,z){var N=I._fullLayout,B=C.extendFlat({type:"linear",ticks:"outside",range:z,showline:!0},U),O={type:"linear",_id:"x"+U._id},H={letter:"x",font:N.font,noHover:!0,noTickson:!0};function Y(J,re){return C.coerce(B,O,y,J,re)}return f(B,O,Y,H,N),u(B,O,Y,H),O}function o(I,U,z){var N=Math.min(U/I.width,z/I.height);return[N,I,U+"x"+z]}function L(I,U){var z=Math.sqrt(I.width/2*(I.width/2)+I.height*I.height),N=U/z;return[N,I,U]}function m(I,U,z,N){var B=document.createElementNS("http://www.w3.org/2000/svg","text"),O=g.select(B);return O.text(I).attr("x",0).attr("y",0).attr("text-anchor",z).attr("data-unformatted",I).call(n.convertToTspans,N).call(r.font,U),r.bBox(O.node())}function F(I,U,z,N,B,O){var H="_cache"+U;I[H]&&I[H].key===B||(I[H]={key:B,value:z});var Y=C.aggNums(O,null,[I[H].value,N],2);return I[H].value=Y,Y}},16249:function(G,V,e){var g=e(50693),_=e(12663).axisHoverFormat,a=e(5386).fF,C=e(2418),A=e(9012),v=e(1426).extendFlat,p=e(30962).overrideAll;function t(n){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function r(n){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var s=G.exports=p(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:t(),y:t(),z:t()},caps:{x:r(),y:r(),z:r()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:a(),xhoverformat:_("x"),yhoverformat:_("y"),zhoverformat:_("z"),valuehoverformat:_("value",1),showlegend:v({},A.showlegend,{dflt:!1})},g("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:C.opacity,lightposition:C.lightposition,lighting:C.lighting,flatshading:C.flatshading,contour:C.contour,hoverinfo:v({},A.hoverinfo)}),"calc","nested");s.flatshading.dflt=!0,s.lighting.facenormalsepsilon.dflt=0,s.x.editType=s.y.editType=s.z.editType=s.value.editType="calc+clearAxisTypes",s.transforms=void 0},56959:function(G,V,e){var g=e(78803),_=e(88489).processGrid,a=e(88489).filter;G.exports=function(A,v){v._len=Math.min(v.x.length,v.y.length,v.z.length,v.value.length),v._x=a(v.x,v._len),v._y=a(v.y,v._len),v._z=a(v.z,v._len),v._value=a(v.value,v._len);var p=_(v);v._gridFill=p.fill,v._Xs=p.Xs,v._Ys=p.Ys,v._Zs=p.Zs,v._len=p.len;for(var t=1/0,r=-1/0,s=0;s<v._len;s++){var n=v._value[s];t=Math.min(t,n),r=Math.max(r,n)}v._minValues=t,v._maxValues=r,v._vMin=v.isomin===void 0||v.isomin===null?t:v.isomin,v._vMax=v.isomax===void 0||v.isomin===null?r:v.isomax,g(A,v,{vals:[v._vMin,v._vMax],containerStr:"",cLetter:"c"})}},22674:function(G,V,e){var g=e(9330).gl_mesh3d,_=e(81697).parseColorScale,a=e(78614),C=e(21081).extractOpts,A=e(90060),v=function(i,f){for(var u=f.length-1;u>0;u--){var y=Math.min(f[u],f[u-1]),c=Math.max(f[u],f[u-1]);if(c>y&&y<i&&i<=c)return{id:u,distRatio:(c-i)/(c-y)}}return{id:0,distRatio:0}};function p(i,f,u){this.scene=i,this.uid=u,this.mesh=f,this.name="",this.data=null,this.showContour=!1}var t=p.prototype;t.handlePick=function(i){if(i.object===this.mesh){var f=i.data.index,u=this.data._meshX[f],y=this.data._meshY[f],c=this.data._meshZ[f],T=this.data._Ys.length,h=this.data._Zs.length,l=v(u,this.data._Xs).id,d=v(y,this.data._Ys).id,E=v(c,this.data._Zs).id,S=i.index=E+h*d+h*T*l;i.traceCoordinate=[this.data._meshX[S],this.data._meshY[S],this.data._meshZ[S],this.data._value[S]];var P=this.data.hovertext||this.data.text;return Array.isArray(P)&&P[S]!==void 0?i.textLabel=P[S]:P&&(i.textLabel=P),!0}},t.update=function(i){var f=this.scene,u=f.fullSceneLayout;this.data=s(i);function y(d,E,S,P){return E.map(function(x){return d.d2l(x,0,P)*S})}var c=A(y(u.xaxis,i._meshX,f.dataScale[0],i.xcalendar),y(u.yaxis,i._meshY,f.dataScale[1],i.ycalendar),y(u.zaxis,i._meshZ,f.dataScale[2],i.zcalendar)),T=A(i._meshI,i._meshJ,i._meshK),h={positions:c,cells:T,lightPosition:[i.lightposition.x,i.lightposition.y,i.lightposition.z],ambient:i.lighting.ambient,diffuse:i.lighting.diffuse,specular:i.lighting.specular,roughness:i.lighting.roughness,fresnel:i.lighting.fresnel,vertexNormalsEpsilon:i.lighting.vertexnormalsepsilon,faceNormalsEpsilon:i.lighting.facenormalsepsilon,opacity:i.opacity,contourEnable:i.contour.show,contourColor:a(i.contour.color).slice(0,3),contourWidth:i.contour.width,useFacetNormals:i.flatshading},l=C(i);h.vertexIntensity=i._meshIntensity,h.vertexIntensityBounds=[l.min,l.max],h.colormap=_(i),this.mesh.update(h)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var r=["xyz","xzy","yxz","yzx","zxy","zyx"];function s(i){i._meshI=[],i._meshJ=[],i._meshK=[];var f=i.surface.show,u=i.spaceframe.show,y=i.surface.fill,c=i.spaceframe.fill,T=!1,h=!1,l=0,d,E,S=i._Xs,P=i._Ys,x=i._Zs,M=S.length,w=P.length,o=x.length,L=r.indexOf(i._gridFill.replace(/-/g,"").replace(/\+/g,"")),m=function(ke,ze,Be){switch(L){case 5:return Be+o*ze+o*w*ke;case 4:return Be+o*ke+o*M*ze;case 3:return ze+w*Be+w*o*ke;case 2:return ze+w*ke+w*M*Be;case 1:return ke+M*Be+M*o*ze;default:return ke+M*ze+M*w*Be}},F=i._minValues,I=i._maxValues,U=i._vMin,z=i._vMax,N,B,O,H;function Y(ke,ze,Be){for(var Re=H.length,we=E;we<Re;we++)if(ke===N[we]&&ze===B[we]&&Be===O[we])return we;return-1}function J(){E=d}function re(){N=[],B=[],O=[],H=[],d=0,J()}function ie(ke,ze,Be,Re){return N.push(ke),B.push(ze),O.push(Be),H.push(Re),d++,d-1}function ce(ke,ze,Be){return i._meshI.push(ke),i._meshJ.push(ze),i._meshK.push(Be),l++,l-1}function Q(ke,ze,Be){for(var Re=[],we=0;we<ke.length;we++)Re[we]=(ke[we]+ze[we]+Be[we])/3;return Re}function j(ke,ze,Be){for(var Re=[],we=0;we<ke.length;we++)Re[we]=ke[we]*(1-Be)+Be*ze[we];return Re}var Z;function $(ke){Z=ke}function te(ke,ze){var Be=ke[0],Re=ke[1],we=ke[2],ye=Q(Be,Re,we),Se=Math.sqrt(1-Z),Me=j(ye,Be,Se),He=j(ye,Re,Se),qe=j(ye,we,Se),rt=ze[0],pt=ze[1],At=ze[2];return{xyzv:[[Be,Re,He],[He,Me,Be],[Re,we,qe],[qe,He,Re],[we,Be,Me],[Me,qe,we]],abc:[[rt,pt,-1],[-1,-1,rt],[pt,At,-1],[-1,-1,pt],[At,rt,-1],[-1,-1,At]]}}function se(ke,ze){return ke==="all"||ke===null?!0:ke.indexOf(ze)>-1}function ee(ke,ze){return ke===null?ze:ke}function q(ke,ze,Be){J();var Re=[ze],we=[Be];if(Z>=1)Re=[ze],we=[Be];else if(Z>0){var ye=te(ze,Be);Re=ye.xyzv,we=ye.abc}for(var Se=0;Se<Re.length;Se++){ze=Re[Se],Be=we[Se];for(var Me=[],He=0;He<3;He++){var qe=ze[He][0],rt=ze[He][1],pt=ze[He][2],At=ze[He][3],jt=Be[He]>-1?Be[He]:Y(qe,rt,pt);jt>-1?Me[He]=jt:Me[He]=ie(qe,rt,pt,ee(ke,At))}ce(Me[0],Me[1],Me[2])}}function le(ke,ze,Be){var Re=function(we,ye,Se){q(ke,[ze[we],ze[ye],ze[Se]],[Be[we],Be[ye],Be[Se]])};Re(0,1,2),Re(2,3,0)}function oe(ke,ze,Be){var Re=function(we,ye,Se){q(ke,[ze[we],ze[ye],ze[Se]],[Be[we],Be[ye],Be[Se]])};Re(0,1,2),Re(3,0,1),Re(2,3,0),Re(1,2,3)}function he(ke,ze,Be,Re){var we=ke[3];we<Be&&(we=Be),we>Re&&(we=Re);for(var ye=(ke[3]-we)/(ke[3]-ze[3]+1e-9),Se=[],Me=0;Me<4;Me++)Se[Me]=(1-ye)*ke[Me]+ye*ze[Me];return Se}function me(ke,ze,Be){return ke>=ze&&ke<=Be}function Ce(ke){var ze=.001*(z-U);return ke>=U-ze&&ke<=z+ze}function Ae(ke){for(var ze=[],Be=0;Be<4;Be++){var Re=ke[Be];ze.push([i._x[Re],i._y[Re],i._z[Re],i._value[Re]])}return ze}var Ue=3;function Ve(ke,ze,Be,Re,we,ye){ye||(ye=1),Be=[-1,-1,-1];var Se=!1,Me=[me(ze[0][3],Re,we),me(ze[1][3],Re,we),me(ze[2][3],Re,we)];if(!Me[0]&&!Me[1]&&!Me[2])return!1;var He=function(rt,pt,At){return Ce(pt[0][3])&&Ce(pt[1][3])&&Ce(pt[2][3])?(q(rt,pt,At),!0):ye<Ue?Ve(rt,pt,At,U,z,++ye):!1};if(Me[0]&&Me[1]&&Me[2])return He(ke,ze,Be)||Se;var qe=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(rt){if(Me[rt[0]]&&Me[rt[1]]&&!Me[rt[2]]){var pt=ze[rt[0]],At=ze[rt[1]],jt=ze[rt[2]],tr=he(jt,pt,Re,we),Ct=he(jt,At,Re,we);Se=He(ke,[Ct,tr,pt],[-1,-1,Be[rt[0]]])||Se,Se=He(ke,[pt,At,Ct],[Be[rt[0]],Be[rt[1]],-1])||Se,qe=!0}}),qe||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(rt){if(Me[rt[0]]&&!Me[rt[1]]&&!Me[rt[2]]){var pt=ze[rt[0]],At=ze[rt[1]],jt=ze[rt[2]],tr=he(At,pt,Re,we),Ct=he(jt,pt,Re,we);Se=He(ke,[Ct,tr,pt],[-1,-1,Be[rt[0]]])||Se,qe=!0}}),Se}function Pe(ke,ze,Be,Re){var we=!1,ye=Ae(ze),Se=[me(ye[0][3],Be,Re),me(ye[1][3],Be,Re),me(ye[2][3],Be,Re),me(ye[3][3],Be,Re)];if(!Se[0]&&!Se[1]&&!Se[2]&&!Se[3])return we;if(Se[0]&&Se[1]&&Se[2]&&Se[3])return h&&(we=oe(ke,ye,ze)||we),we;var Me=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(He){if(Se[He[0]]&&Se[He[1]]&&Se[He[2]]&&!Se[He[3]]){var qe=ye[He[0]],rt=ye[He[1]],pt=ye[He[2]],At=ye[He[3]];if(h)we=q(ke,[qe,rt,pt],[ze[He[0]],ze[He[1]],ze[He[2]]])||we;else{var jt=he(At,qe,Be,Re),tr=he(At,rt,Be,Re),Ct=he(At,pt,Be,Re);we=q(null,[jt,tr,Ct],[-1,-1,-1])||we}Me=!0}}),Me||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(He){if(Se[He[0]]&&Se[He[1]]&&!Se[He[2]]&&!Se[He[3]]){var qe=ye[He[0]],rt=ye[He[1]],pt=ye[He[2]],At=ye[He[3]],jt=he(pt,qe,Be,Re),tr=he(pt,rt,Be,Re),Ct=he(At,rt,Be,Re),Nt=he(At,qe,Be,Re);h?(we=q(ke,[qe,Nt,jt],[ze[He[0]],-1,-1])||we,we=q(ke,[rt,tr,Ct],[ze[He[1]],-1,-1])||we):we=le(null,[jt,tr,Ct,Nt],[-1,-1,-1,-1])||we,Me=!0}}),Me)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(He){if(Se[He[0]]&&!Se[He[1]]&&!Se[He[2]]&&!Se[He[3]]){var qe=ye[He[0]],rt=ye[He[1]],pt=ye[He[2]],At=ye[He[3]],jt=he(rt,qe,Be,Re),tr=he(pt,qe,Be,Re),Ct=he(At,qe,Be,Re);h?(we=q(ke,[qe,jt,tr],[ze[He[0]],-1,-1])||we,we=q(ke,[qe,tr,Ct],[ze[He[0]],-1,-1])||we,we=q(ke,[qe,Ct,jt],[ze[He[0]],-1,-1])||we):we=q(null,[jt,tr,Ct],[-1,-1,-1])||we,Me=!0}}),we}function be(ke,ze,Be,Re,we,ye,Se,Me,He,qe,rt){var pt=!1;return T&&(se(ke,"A")&&(pt=Pe(null,[ze,Be,Re,ye],qe,rt)||pt),se(ke,"B")&&(pt=Pe(null,[Be,Re,we,He],qe,rt)||pt),se(ke,"C")&&(pt=Pe(null,[Be,ye,Se,He],qe,rt)||pt),se(ke,"D")&&(pt=Pe(null,[Re,ye,Me,He],qe,rt)||pt),se(ke,"E")&&(pt=Pe(null,[Be,Re,ye,He],qe,rt)||pt)),h&&(pt=Pe(ke,[Be,Re,ye,He],qe,rt)||pt),pt}function Le(ke,ze,Be,Re,we,ye,Se,Me){return[Me[0]===!0?!0:Ve(ke,Ae([ze,Be,Re]),[ze,Be,Re],ye,Se),Me[1]===!0?!0:Ve(ke,Ae([Re,we,ze]),[Re,we,ze],ye,Se)]}function We(ke,ze,Be,Re,we,ye,Se,Me,He){return Me?Le(ke,ze,Be,we,Re,ye,Se,He):Le(ke,Be,we,Re,ze,ye,Se,He)}function je(ke,ze,Be,Re,we,ye,Se){var Me=!1,He,qe,rt,pt,At=function(){Me=Ve(ke,[He,qe,rt],[-1,-1,-1],we,ye)||Me,Me=Ve(ke,[rt,pt,He],[-1,-1,-1],we,ye)||Me},jt=Se[0],tr=Se[1],Ct=Se[2];return jt&&(He=j(Ae([m(ze,Be-0,Re-0)])[0],Ae([m(ze-1,Be-0,Re-0)])[0],jt),qe=j(Ae([m(ze,Be-0,Re-1)])[0],Ae([m(ze-1,Be-0,Re-1)])[0],jt),rt=j(Ae([m(ze,Be-1,Re-1)])[0],Ae([m(ze-1,Be-1,Re-1)])[0],jt),pt=j(Ae([m(ze,Be-1,Re-0)])[0],Ae([m(ze-1,Be-1,Re-0)])[0],jt),At()),tr&&(He=j(Ae([m(ze-0,Be,Re-0)])[0],Ae([m(ze-0,Be-1,Re-0)])[0],tr),qe=j(Ae([m(ze-0,Be,Re-1)])[0],Ae([m(ze-0,Be-1,Re-1)])[0],tr),rt=j(Ae([m(ze-1,Be,Re-1)])[0],Ae([m(ze-1,Be-1,Re-1)])[0],tr),pt=j(Ae([m(ze-1,Be,Re-0)])[0],Ae([m(ze-1,Be-1,Re-0)])[0],tr),At()),Ct&&(He=j(Ae([m(ze-0,Be-0,Re)])[0],Ae([m(ze-0,Be-0,Re-1)])[0],Ct),qe=j(Ae([m(ze-0,Be-1,Re)])[0],Ae([m(ze-0,Be-1,Re-1)])[0],Ct),rt=j(Ae([m(ze-1,Be-1,Re)])[0],Ae([m(ze-1,Be-1,Re-1)])[0],Ct),pt=j(Ae([m(ze-1,Be-0,Re)])[0],Ae([m(ze-1,Be-0,Re-1)])[0],Ct),At()),Me}function Fe(ke,ze,Be,Re,we,ye,Se,Me,He,qe,rt,pt){var At=ke;return pt?(T&&ke==="even"&&(At=null),be(At,ze,Be,Re,we,ye,Se,Me,He,qe,rt)):(T&&ke==="odd"&&(At=null),be(At,He,Me,Se,ye,we,Re,Be,ze,qe,rt))}function Ze(ke,ze,Be,Re,we){for(var ye=[],Se=0,Me=0;Me<ze.length;Me++)for(var He=ze[Me],qe=1;qe<o;qe++)for(var rt=1;rt<w;rt++)ye.push(We(ke,m(He,rt-1,qe-1),m(He,rt-1,qe),m(He,rt,qe-1),m(He,rt,qe),Be,Re,(He+rt+qe)%2,we&&we[Se]?we[Se]:[])),Se++;return ye}function ut(ke,ze,Be,Re,we){for(var ye=[],Se=0,Me=0;Me<ze.length;Me++)for(var He=ze[Me],qe=1;qe<M;qe++)for(var rt=1;rt<o;rt++)ye.push(We(ke,m(qe-1,He,rt-1),m(qe,He,rt-1),m(qe-1,He,rt),m(qe,He,rt),Be,Re,(qe+He+rt)%2,we&&we[Se]?we[Se]:[])),Se++;return ye}function at(ke,ze,Be,Re,we){for(var ye=[],Se=0,Me=0;Me<ze.length;Me++)for(var He=ze[Me],qe=1;qe<w;qe++)for(var rt=1;rt<M;rt++)ye.push(We(ke,m(rt-1,qe-1,He),m(rt-1,qe,He),m(rt,qe-1,He),m(rt,qe,He),Be,Re,(rt+qe+He)%2,we&&we[Se]?we[Se]:[])),Se++;return ye}function it(ke,ze,Be){for(var Re=1;Re<o;Re++)for(var we=1;we<w;we++)for(var ye=1;ye<M;ye++)Fe(ke,m(ye-1,we-1,Re-1),m(ye-1,we-1,Re),m(ye-1,we,Re-1),m(ye-1,we,Re),m(ye,we-1,Re-1),m(ye,we-1,Re),m(ye,we,Re-1),m(ye,we,Re),ze,Be,(ye+we+Re)%2)}function $e(ke,ze,Be){h=!0,it(ke,ze,Be),h=!1}function st(ke,ze,Be){T=!0,it(ke,ze,Be),T=!1}function ct(ke,ze,Be,Re,we,ye){for(var Se=[],Me=0,He=0;He<ze.length;He++)for(var qe=ze[He],rt=1;rt<o;rt++)for(var pt=1;pt<w;pt++)Se.push(je(ke,qe,pt,rt,Be,Re,we[He],ye&&ye[Me]?ye[Me]:[])),Me++;return Se}function vt(ke,ze,Be,Re,we,ye){for(var Se=[],Me=0,He=0;He<ze.length;He++)for(var qe=ze[He],rt=1;rt<M;rt++)for(var pt=1;pt<o;pt++)Se.push(je(ke,rt,qe,pt,Be,Re,we[He],ye&&ye[Me]?ye[Me]:[])),Me++;return Se}function St(ke,ze,Be,Re,we,ye){for(var Se=[],Me=0,He=0;He<ze.length;He++)for(var qe=ze[He],rt=1;rt<w;rt++)for(var pt=1;pt<M;pt++)Se.push(je(ke,pt,rt,qe,Be,Re,we[He],ye&&ye[Me]?ye[Me]:[])),Me++;return Se}function Mt(ke,ze){for(var Be=[],Re=ke;Re<ze;Re++)Be.push(Re);return Be}function Bt(){for(var ke=0;ke<M;ke++)for(var ze=0;ze<w;ze++)for(var Be=0;Be<o;Be++){var Re=m(ke,ze,Be);ie(i._x[Re],i._y[Re],i._z[Re],i._value[Re])}}function Qe(){re(),Bt();var ke=null;if(u&&c&&($(c),$e(ke,U,z)),f&&y){$(y);for(var ze=i.surface.pattern,Be=i.surface.count,Re=0;Re<Be;Re++){var we=Be===1?.5:Re/(Be-1),ye=(1-we)*U+we*z,Se=Math.abs(ye-F),Me=Math.abs(ye-I),He=Se>Me?[F,ye]:[ye,I];st(ze,He[0],He[1])}}var qe=[[Math.min(U,I),Math.max(U,I)],[Math.min(F,z),Math.max(F,z)]];["x","y","z"].forEach(function(rt){for(var pt=[],At=0;At<qe.length;At++){var jt=0,tr=qe[At][0],Ct=qe[At][1],Nt=i.slices[rt];if(Nt.show&&Nt.fill){$(Nt.fill);var Kt=[],wr=[],yt=[];if(Nt.locations.length)for(var $t=0;$t<Nt.locations.length;$t++){var er=v(Nt.locations[$t],rt==="x"?S:rt==="y"?P:x);er.distRatio===0?Kt.push(er.id):er.id>0&&(wr.push(er.id),rt==="x"?yt.push([er.distRatio,0,0]):rt==="y"?yt.push([0,er.distRatio,0]):yt.push([0,0,er.distRatio]))}else rt==="x"?Kt=Mt(1,M-1):rt==="y"?Kt=Mt(1,w-1):Kt=Mt(1,o-1);wr.length>0&&(rt==="x"?pt[jt]=ct(ke,wr,tr,Ct,yt,pt[jt]):rt==="y"?pt[jt]=vt(ke,wr,tr,Ct,yt,pt[jt]):pt[jt]=St(ke,wr,tr,Ct,yt,pt[jt]),jt++),Kt.length>0&&(rt==="x"?pt[jt]=Ze(ke,Kt,tr,Ct,pt[jt]):rt==="y"?pt[jt]=ut(ke,Kt,tr,Ct,pt[jt]):pt[jt]=at(ke,Kt,tr,Ct,pt[jt]),jt++)}var mr=i.caps[rt];mr.show&&mr.fill&&($(mr.fill),rt==="x"?pt[jt]=Ze(ke,[0,M-1],tr,Ct,pt[jt]):rt==="y"?pt[jt]=ut(ke,[0,w-1],tr,Ct,pt[jt]):pt[jt]=at(ke,[0,o-1],tr,Ct,pt[jt]),jt++)}}),l===0&&re(),i._meshX=N,i._meshY=B,i._meshZ=O,i._meshIntensity=H,i._Xs=S,i._Ys=P,i._Zs=x}return Qe(),i}function n(i,f){var u=i.glplot.gl,y=g({gl:u}),c=new p(i,y,f.uid);return y._trace=c,c.update(f),i.glplot.add(y),c}G.exports={findNearestOnAxis:v,generateIsoMeshes:s,createIsosurfaceTrace:n}},82738:function(G,V,e){var g=e(71828),_=e(73972),a=e(16249),C=e(1586);function A(p,t,r,s){function n(i,f){return g.coerce(p,t,a,i,f)}v(p,t,r,s,n)}function v(p,t,r,s,n){var i=n("isomin"),f=n("isomax");f!=null&&i!==void 0&&i!==null&&i>f&&(t.isomin=null,t.isomax=null);var u=n("x"),y=n("y"),c=n("z"),T=n("value");if(!u||!u.length||!y||!y.length||!c||!c.length||!T||!T.length){t.visible=!1;return}var h=_.getComponentMethod("calendars","handleTraceDefaults");h(p,t,["x","y","z"],s),n("valuehoverformat"),["x","y","z"].forEach(function(S){n(S+"hoverformat");var P="caps."+S,x=n(P+".show");x&&n(P+".fill");var M="slices."+S,w=n(M+".show");w&&(n(M+".fill"),n(M+".locations"))});var l=n("spaceframe.show");l&&n("spaceframe.fill");var d=n("surface.show");d&&(n("surface.count"),n("surface.fill"),n("surface.pattern"));var E=n("contour.show");E&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(S){n(S)}),C(p,t,s,n,{prefix:"",cLetter:"c"}),t._length=null}G.exports={supplyDefaults:A,supplyIsoDefaults:v}},64943:function(G,V,e){G.exports={attributes:e(16249),supplyDefaults:e(82738).supplyDefaults,calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(22674).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2418:function(G,V,e){var g=e(50693),_=e(12663).axisHoverFormat,a=e(5386).fF,C=e(54532),A=e(9012),v=e(1426).extendFlat;G.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"}),xhoverformat:_("x"),yhoverformat:_("y"),zhoverformat:_("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},g("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:C.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},C.contours.x.show,{}),color:C.contours.x.color,width:C.contours.x.width,editType:"calc"},lightposition:{x:v({},C.lightposition.x,{dflt:1e5}),y:v({},C.lightposition.y,{dflt:1e5}),z:v({},C.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},C.lighting),hoverinfo:v({},A.hoverinfo,{editType:"calc"}),showlegend:v({},A.showlegend,{dflt:!1})})},82932:function(G,V,e){var g=e(78803);G.exports=function(a,C){C.intensity&&g(a,C,{vals:C.intensity,containerStr:"",cLetter:"c"})}},91134:function(G,V,e){var g=e(9330).gl_mesh3d,_=e(9330).delaunay_triangulate,a=e(9330).alpha_shape,C=e(9330).convex_hull,A=e(81697).parseColorScale,v=e(78614),p=e(21081).extractOpts,t=e(90060);function r(T,h,l){this.scene=T,this.uid=l,this.mesh=h,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var s=r.prototype;s.handlePick=function(T){if(T.object===this.mesh){var h=T.index=T.data.index;T.data._cellCenter?T.traceCoordinate=T.data.dataCoordinate:T.traceCoordinate=[this.data.x[h],this.data.y[h],this.data.z[h]];var l=this.data.hovertext||this.data.text;return Array.isArray(l)&&l[h]!==void 0?T.textLabel=l[h]:l&&(T.textLabel=l),!0}};function n(T){for(var h=[],l=T.length,d=0;d<l;d++)h[d]=v(T[d]);return h}function i(T,h,l,d){for(var E=[],S=h.length,P=0;P<S;P++)E[P]=T.d2l(h[P],0,d)*l;return E}function f(T){for(var h=[],l=T.length,d=0;d<l;d++)h[d]=Math.round(T[d]);return h}function u(T,h){for(var l=["x","y","z"].indexOf(T),d=[],E=h.length,S=0;S<E;S++)d[S]=[h[S][(l+1)%3],h[S][(l+2)%3]];return _(d)}function y(T,h){for(var l=T.length,d=0;d<l;d++)if(T[d]<=-.5||T[d]>=h-.5)return!1;return!0}s.update=function(T){var h=this.scene,l=h.fullSceneLayout;this.data=T;var d=T.x.length,E=t(i(l.xaxis,T.x,h.dataScale[0],T.xcalendar),i(l.yaxis,T.y,h.dataScale[1],T.ycalendar),i(l.zaxis,T.z,h.dataScale[2],T.zcalendar)),S;if(T.i&&T.j&&T.k){if(T.i.length!==T.j.length||T.j.length!==T.k.length||!y(T.i,d)||!y(T.j,d)||!y(T.k,d))return;S=t(f(T.i),f(T.j),f(T.k))}else T.alphahull===0?S=C(E):T.alphahull>0?S=a(T.alphahull,E):S=u(T.delaunayaxis,E);var P={positions:E,cells:S,lightPosition:[T.lightposition.x,T.lightposition.y,T.lightposition.z],ambient:T.lighting.ambient,diffuse:T.lighting.diffuse,specular:T.lighting.specular,roughness:T.lighting.roughness,fresnel:T.lighting.fresnel,vertexNormalsEpsilon:T.lighting.vertexnormalsepsilon,faceNormalsEpsilon:T.lighting.facenormalsepsilon,opacity:T.opacity,contourEnable:T.contour.show,contourColor:v(T.contour.color).slice(0,3),contourWidth:T.contour.width,useFacetNormals:T.flatshading};if(T.intensity){var x=p(T);this.color="#fff";var M=T.intensitymode;P[M+"Intensity"]=T.intensity,P[M+"IntensityBounds"]=[x.min,x.max],P.colormap=A(T)}else T.vertexcolor?(this.color=T.vertexcolor[0],P.vertexColors=n(T.vertexcolor)):T.facecolor?(this.color=T.facecolor[0],P.cellColors=n(T.facecolor)):(this.color=T.color,P.meshColor=v(T.color));this.mesh.update(P)},s.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function c(T,h){var l=T.glplot.gl,d=g({gl:l}),E=new r(T,d,h.uid);return d._trace=E,E.update(h),T.glplot.add(d),E}G.exports=c},58669:function(G,V,e){var g=e(73972),_=e(71828),a=e(1586),C=e(2418);G.exports=function(v,p,t,r){function s(y,c){return _.coerce(v,p,C,y,c)}function n(y){var c=y.map(function(T){var h=s(T);return h&&_.isArrayOrTypedArray(h)?h:null});return c.every(function(T){return T&&T.length===c[0].length})&&c}var i=n(["x","y","z"]);if(!i){p.visible=!1;return}if(n(["i","j","k"]),p.i&&(!p.j||!p.k)||p.j&&(!p.k||!p.i)||p.k&&(!p.i||!p.j)){p.visible=!1;return}var f=g.getComponentMethod("calendars","handleTraceDefaults");f(v,p,["x","y","z"],r),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(y){s(y)});var u=s("contour.show");u&&(s("contour.color"),s("contour.width")),"intensity"in v?(s("intensity"),s("intensitymode"),a(v,p,r,s,{prefix:"",cLetter:"c"})):(p.showscale=!1,"facecolor"in v?s("facecolor"):"vertexcolor"in v?s("vertexcolor"):s("color",t)),s("text"),s("hovertext"),s("hovertemplate"),s("xhoverformat"),s("yhoverformat"),s("zhoverformat"),p._length=null}},21164:function(G,V,e){G.exports={attributes:e(2418),supplyDefaults:e(58669),calc:e(82932),colorbar:{min:"cmin",max:"cmax"},plot:e(91134),moduleType:"trace",name:"mesh3d",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2522:function(G,V,e){var g=e(71828).extendFlat,_=e(82196),a=e(12663).axisHoverFormat,C=e(79952).P,A=e(77914),v=e(22372),p=v.INCREASING.COLOR,t=v.DECREASING.COLOR,r=_.line;function s(n){return{line:{color:g({},r.color,{dflt:n}),width:r.width,dash:C,editType:"style"},editType:"style"}}G.exports={xperiod:_.xperiod,xperiod0:_.xperiod0,xperiodalignment:_.xperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:g({},r.width,{}),dash:g({},C,{}),editType:"style"},increasing:s(p),decreasing:s(t),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:g({},A.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},3485:function(G,V,e){var g=e(71828),_=g._,a=e(89298),C=e(42973),A=e(50606).BADNUM;function v(s,n){var i=a.getFromId(s,n.xaxis),f=a.getFromId(s,n.yaxis),u=r(s,i,n),y=n._minDiff;n._minDiff=null;var c=n._origX;n._origX=null;var T=n._xcalc;n._xcalc=null;var h=t(s,n,c,T,f,p);return n._extremes[i._id]=a.findExtremes(i,T,{vpad:y/2}),h.length?(g.extendFlat(h[0].t,{wHover:y/2,tickLen:u}),h):[{t:{empty:!0}}]}function p(s,n,i,f){return{o:s,h:n,l:i,c:f}}function t(s,n,i,f,u,y){for(var c=u.makeCalcdata(n,"open"),T=u.makeCalcdata(n,"high"),h=u.makeCalcdata(n,"low"),l=u.makeCalcdata(n,"close"),d=Array.isArray(n.text),E=Array.isArray(n.hovertext),S=!0,P=null,x=!!n.xperiodalignment,M=[],w=0;w<f.length;w++){var o=f[w],L=c[w],m=T[w],F=h[w],I=l[w];if(o!==A&&L!==A&&m!==A&&F!==A&&I!==A){I===L?P!==null&&I!==P&&(S=I>P):S=I>L,P=I;var U=y(L,m,F,I);U.pos=o,U.yc=(L+I)/2,U.i=w,U.dir=S?"increasing":"decreasing",U.x=U.pos,U.y=[F,m],x&&(U.orig_p=i[w]),d&&(U.tx=n.text[w]),E&&(U.htx=n.hovertext[w]),M.push(U)}else M.push({pos:o,empty:!0})}return n._extremes[u._id]=a.findExtremes(u,g.concat(h,T),{padded:!0}),M.length&&(M[0].t={labels:{open:_(s,"open:")+" ",high:_(s,"high:")+" ",low:_(s,"low:")+" ",close:_(s,"close:")+" "}}),M}function r(s,n,i){var f=i._minDiff;if(!f){var u=s._fullData,y=[];f=1/0;var c;for(c=0;c<u.length;c++){var T=u[c];if(T.type==="ohlc"&&T.visible===!0&&T.xaxis===n._id){y.push(T);var h=n.makeCalcdata(T,"x");T._origX=h;var l=C(i,n,"x",h).vals;T._xcalc=l;var d=g.distinctVals(l).minDiff;d&&isFinite(d)&&(f=Math.min(f,d))}}for(f===1/0&&(f=1),c=0;c<y.length;c++)y[c]._minDiff=f}return f*i.tickwidth}G.exports={calc:v,calcCommon:t}},16169:function(G,V,e){var g=e(71828),_=e(14555),a=e(73927),C=e(2522);G.exports=function(p,t,r,s){function n(f,u){return g.coerce(p,t,C,f,u)}var i=_(p,t,n,s);if(!i){t.visible=!1;return}a(p,t,s,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),n("line.dash"),A(p,t,n,"increasing"),A(p,t,n,"decreasing"),n("text"),n("hovertext"),n("tickwidth"),s._requestRangeslider[t.xaxis]=!0};function A(v,p,t,r){t(r+".line.color"),t(r+".line.width",p.line.width),t(r+".line.dash",p.line.dash)}},66449:function(G,V,e){var g=e(89298),_=e(71828),a=e(30211),C=e(7901),A=e(71828).fillText,v=e(22372),p={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function t(i,f,u,y){var c=i.cd,T=c[0].trace;return T.hoverlabel.split?s(i,f,u,y):n(i,f,u,y)}function r(i,f,u,y){var c=i.cd,T=i.xa,h=c[0].trace,l=c[0].t,d=h.type,E=d==="ohlc"?"l":"min",S=d==="ohlc"?"h":"max",P,x,M=l.bPos||0,w=function(Y){return Y.pos+M-f},o=l.bdPos||l.tickLen,L=l.wHover,m=Math.min(1,o/Math.abs(T.r2c(T.range[1])-T.r2c(T.range[0])));P=i.maxHoverDistance-m,x=i.maxSpikeDistance-m;function F(Y){var J=w(Y);return a.inbox(J-L,J+L,P)}function I(Y){var J=Y[E],re=Y[S];return J===re||a.inbox(J-u,re-u,P)}function U(Y){return(F(Y)+I(Y))/2}var z=a.getDistanceFunction(y,F,I,U);if(a.getClosest(c,z,i),i.index===!1)return null;var N=c[i.index];if(N.empty)return null;var B=N.dir,O=h[B],H=O.line.color;return C.opacity(H)&&O.line.width?i.color=H:i.color=O.fillcolor,i.x0=T.c2p(N.pos+M-o,!0),i.x1=T.c2p(N.pos+M+o,!0),i.xLabelVal=N.orig_p!==void 0?N.orig_p:N.pos,i.spikeDistance=U(N)*x/P,i.xSpike=T.c2p(N.pos,!0),i}function s(i,f,u,y){var c=i.cd,T=i.ya,h=c[0].trace,l=c[0].t,d=[],E=r(i,f,u,y);if(!E)return[];var S=E.index,P=c[S],x=P.hi||h.hoverinfo,M=x.split("+"),w=x==="all",o=w||M.indexOf("y")!==-1;if(!o)return[];for(var L=["high","open","close","low"],m={},F=0;F<L.length;F++){var I=L[F],U=h[I][E.index],z=T.c2p(U,!0),N;U in m?(N=m[U],N.yLabel+="<br>"+l.labels[I]+g.hoverLabelText(T,U,h.yhoverformat)):(N=_.extendFlat({},E),N.y0=N.y1=z,N.yLabelVal=U,N.yLabel=l.labels[I]+g.hoverLabelText(T,U,h.yhoverformat),N.name="",d.push(N),m[U]=N)}return d}function n(i,f,u,y){var c=i.cd,T=i.ya,h=c[0].trace,l=c[0].t,d=r(i,f,u,y);if(!d)return[];var E=d.index,S=c[E],P=d.index=S.i,x=S.dir;function M(U){return l.labels[U]+g.hoverLabelText(T,h[U][P],h.yhoverformat)}var w=S.hi||h.hoverinfo,o=w.split("+"),L=w==="all",m=L||o.indexOf("y")!==-1,F=L||o.indexOf("text")!==-1,I=m?[M("open"),M("high"),M("low"),M("close")+"  "+p[x]]:[];return F&&A(S,h,I),d.extraText=I.join("<br>"),d.y0=d.y1=T.c2p(S.yc,!0),[d]}G.exports={hoverPoints:t,hoverSplit:s,hoverOnPoints:n}},54186:function(G,V,e){G.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(93612),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(2522),supplyDefaults:e(16169),calc:e(3485).calc,plot:e(72314),style:e(53101),hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},14555:function(G,V,e){var g=e(73972),_=e(71828);G.exports=function(C,A,v,p){var t=v("x"),r=v("open"),s=v("high"),n=v("low"),i=v("close");v("hoverlabel.split");var f=g.getComponentMethod("calendars","handleTraceDefaults");if(f(C,A,["x"],p),!!(r&&s&&n&&i)){var u=Math.min(r.length,s.length,n.length,i.length);return t&&(u=Math.min(u,_.minRowLength(t))),A._length=u,u}}},72314:function(G,V,e){var g=e(39898),_=e(71828);G.exports=function(C,A,v,p){var t=A.yaxis,r=A.xaxis,s=!!r.rangebreaks;_.makeTraceGroups(p,v,"trace ohlc").each(function(n){var i=g.select(this),f=n[0],u=f.t,y=f.trace;if(y.visible!==!0||u.empty){i.remove();return}var c=u.tickLen,T=i.selectAll("path").data(_.identity);T.enter().append("path"),T.exit().remove(),T.attr("d",function(h){if(h.empty)return"M0,0Z";var l=r.c2p(h.pos-c,!0),d=r.c2p(h.pos+c,!0),E=s?(l+d)/2:r.c2p(h.pos,!0),S=t.c2p(h.o,!0),P=t.c2p(h.h,!0),x=t.c2p(h.l,!0),M=t.c2p(h.c,!0);return"M"+l+","+S+"H"+E+"M"+E+","+P+"V"+x+"M"+d+","+M+"H"+E})})}},67324:function(G){G.exports=function(e,g){var _=e.cd,a=e.xaxis,C=e.yaxis,A=[],v,p=_[0].t.bPos||0;if(g===!1)for(v=0;v<_.length;v++)_[v].selected=0;else for(v=0;v<_.length;v++){var t=_[v];g.contains([a.c2p(t.pos+p),C.c2p(t.yc)],null,t.i,e)?(A.push({pointNumber:t.i,x:a.c2d(t.pos),y:C.c2d(t.yc)}),t.selected=1):t.selected=0}return A}},53101:function(G,V,e){var g=e(39898),_=e(91424),a=e(7901);G.exports=function(A,v,p){var t=p||g.select(A).selectAll("g.ohlclayer").selectAll("g.trace");t.style("opacity",function(r){return r[0].trace.opacity}),t.each(function(r){var s=r[0].trace;g.select(this).selectAll("path").each(function(n){if(!n.empty){var i=s[n.dir].line;g.select(this).style("fill","none").call(a.stroke,i.color).call(_.dashLine,i.dash,i.width).style("opacity",s.selectedpoints&&!n.selected?.3:1)}})})}},99506:function(G,V,e){var g=e(1426).extendFlat,_=e(9012),a=e(41940),C=e(50693),A=e(5386).fF,v=e(27670).Y,p=g({editType:"calc"},C("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:A({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});G.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:g({},_.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:A({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:a({editType:"calc"}),tickfont:a({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:p,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},27677:function(G,V,e){var g=e(27659).a0,_=e(45784),a="parcats";V.name=a,V.plot=function(C,A,v,p){var t=g(C.calcdata,a);if(t.length){var r=t[0];_(C,r,v,p)}},V.clean=function(C,A,v,p){var t=p._has&&p._has("parcats"),r=A._has&&A._has("parcats");t&&!r&&p._paperdiv.selectAll(".parcats").remove()}},28699:function(G,V,e){var g=e(28984).wrap,_=e(52075).hasColorscale,a=e(78803),C=e(75744),A=e(91424),v=e(71828),p=e(92770);G.exports=function(l,d){var E=v.filterVisible(d.dimensions);if(E.length===0)return[];var S=E.map(function(Q){var j;if(Q.categoryorder==="trace")j=null;else if(Q.categoryorder==="array")j=Q.categoryarray;else{j=C(Q.values);for(var Z=!0,$=0;$<j.length;$++)if(!p(j[$])){Z=!1;break}j.sort(Z?v.sorterAsc:void 0),Q.categoryorder==="category descending"&&(j=j.reverse())}return u(Q.values,j)}),P,x,M;v.isArrayOrTypedArray(d.counts)?P=d.counts:P=[d.counts],y(E),E.forEach(function(Q,j){c(Q,S[j])});var w=d.line,o;w?(_(d,"line")&&a(l,d,{vals:d.line.color,containerStr:"line",cLetter:"c"}),o=A.tryColorscale(w)):o=v.identity;function L(Q){var j,Z;return v.isArrayOrTypedArray(w.color)?(j=w.color[Q%w.color.length],Z=j):j=w.color,{color:o(j),rawColor:Z}}var m=E[0].values.length,F={},I=S.map(function(Q){return Q.inds});M=0;var U,z;for(U=0;U<m;U++){var N=[];for(z=0;z<I.length;z++)N.push(I[z][U]);x=P[U%P.length],M+=x;var B=L(U),O=N+"-"+B.rawColor;F[O]===void 0&&(F[O]=i(N,B.color,B.rawColor)),f(F[O],U,x)}var H=E.map(function(Q,j){return r(j,Q._index,Q._displayindex,Q.label,M)});for(U=0;U<m;U++)for(x=P[U%P.length],z=0;z<H.length;z++){var Y=H[z].containerInd,J=S[z].inds[U],re=H[z].categories;if(re[J]===void 0){var ie=d.dimensions[Y]._categoryarray[J],ce=d.dimensions[Y]._ticktext[J];re[J]=s(z,J,ie,ce)}n(re[J],U,x)}return g(t(H,F,M))};function t(h,l,d){var E=h.map(function(S){return S.categories.length}).reduce(function(S,P){return Math.max(S,P)});return{dimensions:h,paths:l,trace:void 0,maxCats:E,count:d}}function r(h,l,d,E,S){return{dimensionInd:h,containerInd:l,displayInd:d,dimensionLabel:E,count:S,categories:[],dragX:null}}function s(h,l,d,E){return{dimensionInd:h,categoryInd:l,categoryValue:d,displayInd:l,categoryLabel:E,valueInds:[],count:0,dragY:null}}function n(h,l,d){h.valueInds.push(l),h.count+=d}function i(h,l,d){return{categoryInds:h,color:l,rawColor:d,valueInds:[],count:0}}function f(h,l,d){h.valueInds.push(l),h.count+=d}function u(h,l){l==null?l=[]:l=l.map(function(o){return o});var d={},E={},S=[];l.forEach(function(o,L){d[o]=0,E[o]=L});for(var P=0;P<h.length;P++){var x=h[P],M;d[x]===void 0?(d[x]=1,M=l.push(x)-1,E[x]=M):(d[x]++,M=E[x]),S.push(M)}var w=l.map(function(o){return d[o]});return{uniqueValues:l,uniqueCounts:w,inds:S}}function y(h){var l=h.map(function(E){return E.displayindex}),d;if(T(l))for(d=0;d<h.length;d++)h[d]._displayindex=h[d].displayindex;else for(d=0;d<h.length;d++)h[d]._displayindex=d}function c(h,l){h._categoryarray=l.uniqueValues,h.ticktext===null||h.ticktext===void 0?h._ticktext=[]:h._ticktext=h.ticktext.slice();for(var d=h._ticktext.length;d<l.uniqueValues.length;d++)h._ticktext.push(l.uniqueValues[d])}function T(h){for(var l=new Array(h.length),d=0;d<h.length;d++){if(h[d]<0||h[d]>=h.length||l[h[d]]!==void 0)return!1;l[h[d]]=!0}return!0}},14647:function(G,V,e){var g=e(71828),_=e(52075).hasColorscale,a=e(1586),C=e(27670).c,A=e(85501),v=e(99506),p=e(94397);function t(s,n,i,f,u){u("line.shape"),u("line.hovertemplate");var y=u("line.color",f.colorway[0]);if(_(s,"line")&&g.isArrayOrTypedArray(y)){if(y.length)return u("line.colorscale"),a(s,n,f,u,{prefix:"line.",cLetter:"c"}),y.length;n.line.color=i}return 1/0}function r(s,n){function i(l,d){return g.coerce(s,n,v.dimensions,l,d)}var f=i("values"),u=i("visible");if(f&&f.length||(u=n.visible=!1),u){i("label"),i("displayindex",n._index);var y=s.categoryarray,c=Array.isArray(y)&&y.length>0,T;c&&(T="array");var h=i("categoryorder",T);h==="array"?(i("categoryarray"),i("ticktext")):(delete s.categoryarray,delete s.ticktext),!c&&h==="array"&&(n.categoryorder="trace")}}G.exports=function(n,i,f,u){function y(d,E){return g.coerce(n,i,v,d,E)}var c=A(n,i,{name:"dimensions",handleItemDefaults:r}),T=t(n,i,f,u,y);C(i,u,y),(!Array.isArray(c)||!c.length)&&(i.visible=!1),p(i,c,"values",T),y("hoveron"),y("hovertemplate"),y("arrangement"),y("bundlecolors"),y("sortpaths"),y("counts");var h={family:u.font.family,size:Math.round(u.font.size),color:u.font.color};g.coerceFont(y,"labelfont",h);var l={family:u.font.family,size:Math.round(u.font.size/1.2),color:u.font.color};g.coerceFont(y,"tickfont",l)}},94873:function(G,V,e){G.exports={attributes:e(99506),supplyDefaults:e(14647),calc:e(28699),plot:e(45784),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(27677),categories:["noOpacity"],meta:{}}},45460:function(G,V,e){var g=e(39898),_=e(81684).k4,a=e(72391),C=e(30211),A=e(71828),v=A.strTranslate,p=e(91424),t=e(84267),r=e(63893);function s($,te,se,ee){var q=te._context.staticPlot,le=$.map(ie.bind(0,te,se)),oe=ee.selectAll("g.parcatslayer").data([null]);oe.enter().append("g").attr("class","parcatslayer").style("pointer-events",q?"none":"all");var he=oe.selectAll("g.trace.parcats").data(le,n),me=he.enter().append("g").attr("class","trace parcats");he.attr("transform",function(Ze){return v(Ze.x,Ze.y)}),me.append("g").attr("class","paths");var Ce=he.select("g.paths"),Ae=Ce.selectAll("path.path").data(function(Ze){return Ze.paths},n);Ae.attr("fill",function(Ze){return Ze.model.color});var Ue=Ae.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(Ze){return Ze.model.color}).attr("fill-opacity",0);l(Ue),Ae.attr("d",function(Ze){return Ze.svgD}),Ue.empty()||Ae.sort(f),Ae.exit().remove(),Ae.on("mouseover",u).on("mouseout",y).on("click",h),me.append("g").attr("class","dimensions");var Ve=he.select("g.dimensions"),Pe=Ve.selectAll("g.dimension").data(function(Ze){return Ze.dimensions},n);Pe.enter().append("g").attr("class","dimension"),Pe.attr("transform",function(Ze){return v(Ze.x,0)}),Pe.exit().remove();var be=Pe.selectAll("g.category").data(function(Ze){return Ze.categories},n),Le=be.enter().append("g").attr("class","category");be.attr("transform",function(Ze){return v(0,Ze.y)}),Le.append("rect").attr("class","catrect").attr("pointer-events","none"),be.select("rect.catrect").attr("fill","none").attr("width",function(Ze){return Ze.width}).attr("height",function(Ze){return Ze.height}),S(Le);var We=be.selectAll("rect.bandrect").data(function(Ze){return Ze.bands},n);We.each(function(){A.raiseToTop(this)}),We.attr("fill",function(Ze){return Ze.color});var je=We.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(Ze){return Ze.color}).attr("fill-opacity",0);We.attr("fill",function(Ze){return Ze.color}).attr("width",function(Ze){return Ze.width}).attr("height",function(Ze){return Ze.height}).attr("y",function(Ze){return Ze.y}).attr("cursor",function(Ze){return Ze.parcatsViewModel.arrangement==="fixed"?"default":Ze.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),x(je),We.exit().remove(),Le.append("text").attr("class","catlabel").attr("pointer-events","none");var Fe=te._fullLayout.paper_bgcolor;be.select("text.catlabel").attr("text-anchor",function(Ze){return i(Ze)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",r.makeTextShadow(Fe)).style("fill","rgb(0, 0, 0)").attr("x",function(Ze){return i(Ze)?Ze.width+5:-5}).attr("y",function(Ze){return Ze.height/2}).text(function(Ze){return Ze.model.categoryLabel}).each(function(Ze){p.font(g.select(this),Ze.parcatsViewModel.categorylabelfont),r.convertToTspans(g.select(this),te)}),Le.append("text").attr("class","dimlabel"),be.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(Ze){return Ze.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(Ze){return Ze.width/2}).attr("y",-5).text(function(Ze,ut){return ut===0?Ze.parcatsViewModel.model.dimensions[Ze.model.dimensionInd].dimensionLabel:null}).each(function(Ze){p.font(g.select(this),Ze.parcatsViewModel.labelfont)}),be.selectAll("rect.bandrect").on("mouseover",z).on("mouseout",N),be.exit().remove(),Pe.call(g.behavior.drag().origin(function(Ze){return{x:Ze.x,y:0}}).on("dragstart",B).on("drag",O).on("dragend",H)),he.each(function(Ze){Ze.traceSelection=g.select(this),Ze.pathSelection=g.select(this).selectAll("g.paths").selectAll("path.path"),Ze.dimensionSelection=g.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),he.exit().remove()}G.exports=function($,te,se,ee){s(se,$,ee,te)};function n($){return $.key}function i($){var te=$.parcatsViewModel.dimensions.length,se=$.parcatsViewModel.dimensions[te-1].model.dimensionInd;return $.model.dimensionInd===se}function f($,te){return $.model.rawColor>te.model.rawColor?1:$.model.rawColor<te.model.rawColor?-1:0}function u($){if(!$.parcatsViewModel.dragDimension&&$.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){A.raiseToTop(this),d(g.select(this));var te=c($),se=T($);if($.parcatsViewModel.graphDiv.emit("plotly_hover",{points:te,event:g.event,constraints:se}),$.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var ee=g.mouse(this)[0],q=$.parcatsViewModel.graphDiv,le=$.parcatsViewModel.trace,oe=q._fullLayout,he=oe._paperdiv.node().getBoundingClientRect(),me=$.parcatsViewModel.graphDiv.getBoundingClientRect(),Ce,Ae,Ue;for(Ue=0;Ue<$.leftXs.length-1;Ue++)if($.leftXs[Ue]+$.dimWidths[Ue]-2<=ee&&ee<=$.leftXs[Ue+1]+2){var Ve=$.parcatsViewModel.dimensions[Ue],Pe=$.parcatsViewModel.dimensions[Ue+1];Ce=(Ve.x+Ve.width+Pe.x)/2,Ae=($.topYs[Ue]+$.topYs[Ue+1]+$.height)/2;break}var be=$.parcatsViewModel.x+Ce,Le=$.parcatsViewModel.y+Ae,We=t.mostReadable($.model.color,["black","white"]),je=$.model.count,Fe=je/$.parcatsViewModel.model.count,Ze={countLabel:je,probabilityLabel:Fe.toFixed(3)},ut=[];$.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&ut.push(["Count:",Ze.countLabel].join(" ")),$.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&ut.push(["P:",Ze.probabilityLabel].join(" "));var at=ut.join("<br>"),it=g.mouse(q)[0];C.loneHover({trace:le,x:be-he.left+me.left,y:Le-he.top+me.top,text:at,color:$.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:We,idealAlign:it<be?"right":"left",hovertemplate:(le.line||{}).hovertemplate,hovertemplateLabels:Ze,eventData:[{data:le._input,fullData:le,count:je,probability:Fe}]},{container:oe._hoverlayer.node(),outerContainer:oe._paper.node(),gd:q})}}}function y($){if(!$.parcatsViewModel.dragDimension&&(l(g.select(this)),C.loneUnhover($.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),$.parcatsViewModel.pathSelection.sort(f),$.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var te=c($),se=T($);$.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:te,event:g.event,constraints:se})}}function c($){for(var te=[],se=Y($.parcatsViewModel),ee=0;ee<$.model.valueInds.length;ee++){var q=$.model.valueInds[ee];te.push({curveNumber:se,pointNumber:q})}return te}function T($){for(var te={},se=$.parcatsViewModel.model.dimensions,ee=0;ee<se.length;ee++){var q=se[ee],le=q.categories[$.model.categoryInds[ee]];te[q.containerInd]=le.categoryValue}return $.model.rawColor!==void 0&&(te.color=$.model.rawColor),te}function h($){if($.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var te=c($),se=T($);$.parcatsViewModel.graphDiv.emit("plotly_click",{points:te,event:g.event,constraints:se})}}function l($){$.attr("fill",function(te){return te.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function d($){$.attr("fill-opacity",.8).attr("stroke",function(te){return t.mostReadable(te.model.color,["black","white"])}).attr("stroke-width",.3)}function E($){$.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function S($){$.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function P($){$.attr("stroke","black").attr("stroke-width",1.5)}function x($){$.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function M($){var te=$.parcatsViewModel.pathSelection,se=$.categoryViewModel.model.dimensionInd,ee=$.categoryViewModel.model.categoryInd;return te.filter(function(q){return q.model.categoryInds[se]===ee&&q.model.color===$.color})}function w($){var te=g.select($.parentNode).selectAll("rect.bandrect");te.each(function(se){var ee=M(se);d(ee),ee.each(function(){A.raiseToTop(this)})}),E(g.select($.parentNode))}function o($){var te=g.select($).datum(),se=M(te);d(se),se.each(function(){A.raiseToTop(this)}),g.select($.parentNode).selectAll("rect.bandrect").filter(function(ee){return ee.color===te.color}).each(function(){A.raiseToTop(this),P(g.select(this))})}function L($,te,se){var ee=g.select($).datum(),q=ee.categoryViewModel.model,le=ee.parcatsViewModel.graphDiv,oe=g.select($.parentNode).selectAll("rect.bandrect"),he=[];oe.each(function(Ce){var Ae=M(Ce);Ae.each(function(Ue){Array.prototype.push.apply(he,c(Ue))})});var me={};me[q.dimensionInd]=q.categoryValue,le.emit(te,{points:he,event:se,constraints:me})}function m($,te,se){var ee=g.select($).datum(),q=ee.categoryViewModel.model,le=ee.parcatsViewModel.graphDiv,oe=M(ee),he=[];oe.each(function(Ce){Array.prototype.push.apply(he,c(Ce))});var me={};me[q.dimensionInd]=q.categoryValue,ee.rawColor!==void 0&&(me.color=ee.rawColor),le.emit(te,{points:he,event:se,constraints:me})}function F($,te,se){$._fullLayout._calcInverseTransform($);var ee=$._fullLayout._invScaleX,q=$._fullLayout._invScaleY,le=g.select(se.parentNode).select("rect.catrect"),oe=le.node().getBoundingClientRect(),he=le.datum(),me=he.parcatsViewModel,Ce=me.model.dimensions[he.model.dimensionInd],Ae=me.trace,Ue=oe.top+oe.height/2,Ve,Pe;me.dimensions.length>1&&Ce.displayInd===me.dimensions.length-1?(Ve=oe.left,Pe="left"):(Ve=oe.left+oe.width,Pe="right");var be=he.model.count,Le=he.model.categoryLabel,We=be/he.parcatsViewModel.model.count,je={countLabel:be,categoryLabel:Le,probabilityLabel:We.toFixed(3)},Fe=[];he.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Fe.push(["Count:",je.countLabel].join(" ")),he.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Fe.push(["P("+je.categoryLabel+"):",je.probabilityLabel].join(" "));var Ze=Fe.join("<br>");return{trace:Ae,x:ee*(Ve-te.left),y:q*(Ue-te.top),text:Ze,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Pe,hovertemplate:Ae.hovertemplate,hovertemplateLabels:je,eventData:[{data:Ae._input,fullData:Ae,count:be,category:Le,probability:We}]}}function I($,te,se){var ee=[];return g.select(se.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var q=this;ee.push(F($,te,q))}),ee}function U($,te,se){$._fullLayout._calcInverseTransform($);var ee=$._fullLayout._invScaleX,q=$._fullLayout._invScaleY,le=se.getBoundingClientRect(),oe=g.select(se).datum(),he=oe.categoryViewModel,me=he.parcatsViewModel,Ce=me.model.dimensions[he.model.dimensionInd],Ae=me.trace,Ue=le.y+le.height/2,Ve,Pe;me.dimensions.length>1&&Ce.displayInd===me.dimensions.length-1?(Ve=le.left,Pe="left"):(Ve=le.left+le.width,Pe="right");var be=he.model.categoryLabel,Le=oe.parcatsViewModel.model.count,We=0;oe.categoryViewModel.bands.forEach(function(vt){vt.color===oe.color&&(We+=vt.count)});var je=he.model.count,Fe=0;me.pathSelection.each(function(vt){vt.model.color===oe.color&&(Fe+=vt.model.count)});var Ze=We/Le,ut=We/Fe,at=We/je,it={countLabel:Le,categoryLabel:be,probabilityLabel:Ze.toFixed(3)},$e=[];he.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&$e.push(["Count:",it.countLabel].join(" ")),he.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&($e.push("P(color  "+be+"): "+it.probabilityLabel),$e.push("P("+be+" | color): "+ut.toFixed(3)),$e.push("P(color | "+be+"): "+at.toFixed(3)));var st=$e.join("<br>"),ct=t.mostReadable(oe.color,["black","white"]);return{trace:Ae,x:ee*(Ve-te.left),y:q*(Ue-te.top),text:st,color:oe.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:ct,fontSize:10,idealAlign:Pe,hovertemplate:Ae.hovertemplate,hovertemplateLabels:it,eventData:[{data:Ae._input,fullData:Ae,category:be,count:Le,probability:Ze,categorycount:je,colorcount:Fe,bandcolorcount:We}]}}function z($){if(!$.parcatsViewModel.dragDimension&&$.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var te=g.mouse(this)[1];if(te<-1)return;var se=$.parcatsViewModel.graphDiv,ee=se._fullLayout,q=ee._paperdiv.node().getBoundingClientRect(),le=$.parcatsViewModel.hoveron,oe=this;if(le==="color"?(o(oe),m(oe,"plotly_hover",g.event)):(w(oe),L(oe,"plotly_hover",g.event)),$.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var he;le==="category"?he=F(se,q,oe):le==="color"?he=U(se,q,oe):le==="dimension"&&(he=I(se,q,oe)),he&&C.loneHover(he,{container:ee._hoverlayer.node(),outerContainer:ee._paper.node(),gd:se})}}}function N($){var te=$.parcatsViewModel;if(!te.dragDimension&&(l(te.pathSelection),S(te.dimensionSelection.selectAll("g.category")),x(te.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),C.loneUnhover(te.graphDiv._fullLayout._hoverlayer.node()),te.pathSelection.sort(f),te.hoverinfoItems.indexOf("skip")===-1)){var se=$.parcatsViewModel.hoveron,ee=this;se==="color"?m(ee,"plotly_unhover",g.event):L(ee,"plotly_unhover",g.event)}}function B($){$.parcatsViewModel.arrangement!=="fixed"&&($.dragDimensionDisplayInd=$.model.displayInd,$.initialDragDimensionDisplayInds=$.parcatsViewModel.model.dimensions.map(function(te){return te.displayInd}),$.dragHasMoved=!1,$.dragCategoryDisplayInd=null,g.select(this).selectAll("g.category").select("rect.catrect").each(function(te){var se=g.mouse(this)[0],ee=g.mouse(this)[1];-2<=se&&se<=te.width+2&&-2<=ee&&ee<=te.height+2&&($.dragCategoryDisplayInd=te.model.displayInd,$.initialDragCategoryDisplayInds=$.model.categories.map(function(q){return q.displayInd}),te.model.dragY=te.y,A.raiseToTop(this.parentNode),g.select(this.parentNode).selectAll("rect.bandrect").each(function(q){q.y<ee&&ee<=q.y+q.height&&($.potentialClickBand=this)}))}),$.parcatsViewModel.dragDimension=$,C.loneUnhover($.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function O($){if($.parcatsViewModel.arrangement!=="fixed"&&($.dragHasMoved=!0,$.dragDimensionDisplayInd!==null)){var te=$.dragDimensionDisplayInd,se=te-1,ee=te+1,q=$.parcatsViewModel.dimensions[te];if($.dragCategoryDisplayInd!==null){var le=q.categories[$.dragCategoryDisplayInd];le.model.dragY+=g.event.dy;var oe=le.model.dragY,he=le.model.displayInd,me=q.categories,Ce=me[he-1],Ae=me[he+1];Ce!==void 0&&oe<Ce.y+Ce.height/2&&(le.model.displayInd=Ce.model.displayInd,Ce.model.displayInd=he),Ae!==void 0&&oe+le.height>Ae.y+Ae.height/2&&(le.model.displayInd=Ae.model.displayInd,Ae.model.displayInd=he),$.dragCategoryDisplayInd=le.model.displayInd}if($.dragCategoryDisplayInd===null||$.parcatsViewModel.arrangement==="freeform"){q.model.dragX=g.event.x;var Ue=$.parcatsViewModel.dimensions[se],Ve=$.parcatsViewModel.dimensions[ee];Ue!==void 0&&q.model.dragX<Ue.x+Ue.width&&(q.model.displayInd=Ue.model.displayInd,Ue.model.displayInd=te),Ve!==void 0&&q.model.dragX+q.width>Ve.x&&(q.model.displayInd=Ve.model.displayInd,Ve.model.displayInd=$.dragDimensionDisplayInd),$.dragDimensionDisplayInd=q.model.displayInd}j($.parcatsViewModel),Q($.parcatsViewModel),re($.parcatsViewModel),J($.parcatsViewModel)}}function H($){if($.parcatsViewModel.arrangement!=="fixed"&&$.dragDimensionDisplayInd!==null){g.select(this).selectAll("text").attr("font-weight","normal");var te={},se=Y($.parcatsViewModel),ee=$.parcatsViewModel.model.dimensions.map(function(Ve){return Ve.displayInd}),q=$.initialDragDimensionDisplayInds.some(function(Ve,Pe){return Ve!==ee[Pe]});q&&ee.forEach(function(Ve,Pe){var be=$.parcatsViewModel.model.dimensions[Pe].containerInd;te["dimensions["+be+"].displayindex"]=Ve});var le=!1;if($.dragCategoryDisplayInd!==null){var oe=$.model.categories.map(function(Ve){return Ve.displayInd});if(le=$.initialDragCategoryDisplayInds.some(function(Ve,Pe){return Ve!==oe[Pe]}),le){var he=$.model.categories.slice().sort(function(Ve,Pe){return Ve.displayInd-Pe.displayInd}),me=he.map(function(Ve){return Ve.categoryValue}),Ce=he.map(function(Ve){return Ve.categoryLabel});te["dimensions["+$.model.containerInd+"].categoryarray"]=[me],te["dimensions["+$.model.containerInd+"].ticktext"]=[Ce],te["dimensions["+$.model.containerInd+"].categoryorder"]="array"}}if($.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!$.dragHasMoved&&$.potentialClickBand&&($.parcatsViewModel.hoveron==="color"?m($.potentialClickBand,"plotly_click",g.event.sourceEvent):L($.potentialClickBand,"plotly_click",g.event.sourceEvent)),$.model.dragX=null,$.dragCategoryDisplayInd!==null){var Ae=$.parcatsViewModel.dimensions[$.dragDimensionDisplayInd].categories[$.dragCategoryDisplayInd];Ae.model.dragY=null,$.dragCategoryDisplayInd=null}$.dragDimensionDisplayInd=null,$.parcatsViewModel.dragDimension=null,$.dragHasMoved=null,$.potentialClickBand=null,j($.parcatsViewModel),Q($.parcatsViewModel);var Ue=g.transition().duration(300).ease("cubic-in-out");Ue.each(function(){re($.parcatsViewModel,!0),J($.parcatsViewModel,!0)}).each("end",function(){(q||le)&&a.restyle($.parcatsViewModel.graphDiv,te,[se])})}}function Y($){for(var te,se=$.graphDiv._fullData,ee=0;ee<se.length;ee++)if($.key===se[ee].uid){te=ee;break}return te}function J($,te){te===void 0&&(te=!1);function se(ee){return te?ee.transition():ee}$.pathSelection.data(function(ee){return ee.paths},n),se($.pathSelection).attr("d",function(ee){return ee.svgD})}function re($,te){te===void 0&&(te=!1);function se(me){return te?me.transition():me}$.dimensionSelection.data(function(me){return me.dimensions},n);var ee=$.dimensionSelection.selectAll("g.category").data(function(me){return me.categories},n);se($.dimensionSelection).attr("transform",function(me){return v(me.x,0)}),se(ee).attr("transform",function(me){return v(0,me.y)});var q=ee.select(".dimlabel");q.text(function(me,Ce){return Ce===0?me.parcatsViewModel.model.dimensions[me.model.dimensionInd].dimensionLabel:null});var le=ee.select(".catlabel");le.attr("text-anchor",function(me){return i(me)?"start":"end"}).attr("x",function(me){return i(me)?me.width+5:-5}).each(function(me){var Ce,Ae;i(me)?(Ce=me.width+5,Ae="start"):(Ce=-5,Ae="end"),g.select(this).selectAll("tspan").attr("x",Ce).attr("text-anchor",Ae)});var oe=ee.selectAll("rect.bandrect").data(function(me){return me.bands},n),he=oe.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(me){return me.color}).attr("fill-opacity",0);oe.attr("fill",function(me){return me.color}).attr("width",function(me){return me.width}).attr("height",function(me){return me.height}).attr("y",function(me){return me.y}),x(he),oe.each(function(){A.raiseToTop(this)}),oe.exit().remove()}function ie($,te,se){var ee=se[0],q=te.margin||{l:80,r:80,t:100,b:80},le=ee.trace,oe=le.domain,he=te.width,me=te.height,Ce=Math.floor(he*(oe.x[1]-oe.x[0])),Ae=Math.floor(me*(oe.y[1]-oe.y[0])),Ue=oe.x[0]*he+q.l,Ve=te.height-oe.y[1]*te.height+q.t,Pe=le.line.shape,be;le.hoverinfo==="all"?be=["count","probability"]:be=(le.hoverinfo||"").split("+");var Le={trace:le,key:le.uid,model:ee,x:Ue,y:Ve,width:Ce,height:Ae,hoveron:le.hoveron,hoverinfoItems:be,arrangement:le.arrangement,bundlecolors:le.bundlecolors,sortpaths:le.sortpaths,labelfont:le.labelfont,categorylabelfont:le.tickfont,pathShape:Pe,dragDimension:null,margin:q,paths:[],dimensions:[],graphDiv:$,traceSelection:null,pathSelection:null,dimensionSelection:null};return ee.dimensions&&(j(Le),Q(Le)),Le}function ce($,te,se,ee,q){var le=[],oe=[],he,me;for(me=0;me<se.length-1;me++)he=_(se[me]+$[me],$[me+1]),le.push(he(q)),oe.push(he(1-q));var Ce="M "+$[0]+","+te[0];for(Ce+="l"+se[0]+",0 ",me=1;me<se.length;me++)Ce+="C"+le[me-1]+","+te[me-1]+" "+oe[me-1]+","+te[me]+" "+$[me]+","+te[me],Ce+="l"+se[me]+",0 ";for(Ce+="l0,"+ee+" ",Ce+="l -"+se[se.length-1]+",0 ",me=se.length-2;me>=0;me--)Ce+="C"+oe[me]+","+(te[me+1]+ee)+" "+le[me]+","+(te[me]+ee)+" "+($[me]+se[me])+","+(te[me]+ee),Ce+="l-"+se[me]+",0 ";return Ce+="Z",Ce}function Q($){var te=$.dimensions,se=$.model,ee=te.map(function(Bt){return Bt.categories.map(function(Qe){return Qe.y})}),q=$.model.dimensions.map(function(Bt){return Bt.categories.map(function(Qe){return Qe.displayInd})}),le=$.model.dimensions.map(function(Bt){return Bt.displayInd}),oe=$.dimensions.map(function(Bt){return Bt.model.dimensionInd}),he=te.map(function(Bt){return Bt.x}),me=te.map(function(Bt){return Bt.width}),Ce=[];for(var Ae in se.paths)se.paths.hasOwnProperty(Ae)&&Ce.push(se.paths[Ae]);function Ue(Bt){var Qe=Bt.categoryInds.map(function(ze,Be){return q[Be][ze]}),ke=oe.map(function(ze){return Qe[ze]});return ke}Ce.sort(function(Bt,Qe){var ke=Ue(Bt),ze=Ue(Qe);return $.sortpaths==="backward"&&(ke.reverse(),ze.reverse()),ke.push(Bt.valueInds[0]),ze.push(Qe.valueInds[0]),$.bundlecolors&&(ke.unshift(Bt.rawColor),ze.unshift(Qe.rawColor)),ke<ze?-1:ke>ze?1:0});for(var Ve=new Array(Ce.length),Pe=te[0].model.count,be=te[0].categories.map(function(Bt){return Bt.height}).reduce(function(Bt,Qe){return Bt+Qe}),Le=0;Le<Ce.length;Le++){var We=Ce[Le],je;Pe>0?je=be*(We.count/Pe):je=0;for(var Fe=new Array(ee.length),Ze=0;Ze<We.categoryInds.length;Ze++){var ut=We.categoryInds[Ze],at=q[Ze][ut],it=le[Ze];Fe[it]=ee[it][at],ee[it][at]+=je;var $e=$.dimensions[it].categories[at],st=$e.bands.length,ct=$e.bands[st-1];if(ct===void 0||We.rawColor!==ct.rawColor){var vt=ct===void 0?0:ct.y+ct.height;$e.bands.push({key:vt,color:We.color,rawColor:We.rawColor,height:je,width:$e.width,count:We.count,y:vt,categoryViewModel:$e,parcatsViewModel:$})}else{var St=$e.bands[st-1];St.height+=je,St.count+=We.count}}var Mt;$.pathShape==="hspline"?Mt=ce(he,Fe,me,je,.5):Mt=ce(he,Fe,me,je,0),Ve[Le]={key:We.valueInds[0],model:We,height:je,leftXs:he,topYs:Fe,dimWidths:me,svgD:Mt,parcatsViewModel:$}}$.paths=Ve}function j($){var te=$.model.dimensions.map(function(oe){return{displayInd:oe.displayInd,dimensionInd:oe.dimensionInd}});te.sort(function(oe,he){return oe.displayInd-he.displayInd});var se=[];for(var ee in te){var q=te[ee].dimensionInd,le=$.model.dimensions[q];se.push(Z($,le))}$.dimensions=se}function Z($,te){var se=40,ee=16,q=$.model.dimensions.length,le=te.displayInd,oe,he,me;q>1?oe=($.width-2*se-ee)/(q-1):oe=0,he=se,me=he+oe*le;var Ce=[],Ae=$.model.maxCats,Ue=te.categories.length,Ve=8,Pe=te.count,be=$.height-Ve*(Ae-1),Le,We,je,Fe,Ze,ut=(Ae-Ue)*Ve/2,at=te.categories.map(function(it){return{displayInd:it.displayInd,categoryInd:it.categoryInd}});for(at.sort(function(it,$e){return it.displayInd-$e.displayInd}),Ze=0;Ze<Ue;Ze++)Fe=at[Ze].categoryInd,We=te.categories[Fe],Pe>0?Le=We.count/Pe*be:Le=0,je={key:We.valueInds[0],model:We,width:ee,height:Le,y:We.dragY!==null?We.dragY:ut,bands:[],parcatsViewModel:$},ut=ut+Le+Ve,Ce.push(je);return{key:te.dimensionInd,x:te.dragX!==null?te.dragX:me,y:0,width:ee,model:te,categories:Ce,parcatsViewModel:$,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},45784:function(G,V,e){var g=e(45460);G.exports=function(a,C,A,v){var p=a._fullLayout,t=p._paper,r=p._size;g(a,t,C,{width:r.w,height:r.h,margin:{t:r.t,r:r.r,b:r.b,l:r.l}},A,v)}},73362:function(G,V,e){var g=e(50693),_=e(13838),a=e(41940),C=e(27670).Y,A=e(1426).extendFlat,v=e(44467).templatedArray;G.exports={domain:C({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:a({editType:"plot"}),tickfont:a({editType:"plot"}),rangefont:a({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:A({},_.tickvals,{editType:"plot"}),ticktext:A({},_.ticktext,{editType:"plot"}),tickformat:A({},_.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:A({editType:"calc"},g("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},57920:function(G,V,e){var g=e(25706),_=e(39898),a=e(28984).keyFun,C=e(28984).repeat,A=e(71828).sorterAsc,v=e(71828).strTranslate,p=g.bar.snapRatio;function t(H,Y){return H*(1-p)+Y*p}var r=g.bar.snapClose;function s(H,Y){return H*(1-r)+Y*r}function n(H,Y,J,re){if(i(J,re))return J;var ie=H?-1:1,ce=0,Q=Y.length-1;if(ie<0){var j=ce;ce=Q,Q=j}for(var Z=Y[ce],$=Z,te=ce;ie*te<ie*Q;te+=ie){var se=te+ie,ee=Y[se];if(ie*J<ie*s(Z,ee))return t(Z,$);if(ie*J<ie*ee||se===Q)return t(ee,Z);$=Z,Z=ee}}function i(H,Y){for(var J=0;J<Y.length;J++)if(H>=Y[J][0]&&H<=Y[J][1])return!0;return!1}function f(H){H.attr("x",-g.bar.captureWidth/2).attr("width",g.bar.captureWidth)}function u(H){H.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function y(H){if(!H.brush.filterSpecified)return"0,"+H.height;for(var Y=c(H.brush.filter.getConsolidated(),H.height),J=[0],re,ie,ce,Q=Y.length?Y[0][0]:null,j=0;j<Y.length;j++)re=Y[j],ie=re[1]-re[0],J.push(Q),J.push(ie),ce=j+1,ce<Y.length&&(Q=Y[ce][0]-re[1]);return J.push(H.height),J}function c(H,Y){return H.map(function(J){return J.map(function(re){return Math.max(0,re*Y)}).sort(A)})}function T(H,Y){var J=g.bar.handleHeight;if(!(Y>H[1]+J||Y<H[0]-J))return Y>=.9*H[1]+.1*H[0]?"n":Y<=.9*H[0]+.1*H[1]?"s":"ns"}function h(){_.select(document.body).style("cursor",null)}function l(H){H.attr("stroke-dasharray",y)}function d(H,Y){var J=_.select(H).selectAll(".highlight, .highlight-shadow"),re=Y?J.transition().duration(g.bar.snapDuration).each("end",Y):J;l(re)}function E(H,Y){var J=H.brush,re=J.filterSpecified,ie=NaN,ce={},Q;if(re){var j=H.height,Z=J.filter.getConsolidated(),$=c(Z,j),te=NaN,se=NaN,ee=NaN;for(Q=0;Q<=$.length;Q++){var q=$[Q];if(q&&q[0]<=Y&&Y<=q[1]){te=Q;break}else if(se=Q?Q-1:NaN,q&&q[0]>Y){ee=Q;break}}if(ie=te,isNaN(ie)&&(isNaN(se)||isNaN(ee)?ie=isNaN(se)?ee:se:ie=Y-$[se][1]<$[ee][0]-Y?se:ee),!isNaN(ie)){var le=$[ie],oe=T(le,Y);oe&&(ce.interval=Z[ie],ce.intervalPix=le,ce.region=oe)}}if(H.ordinal&&!ce.region){var he=H.unitTickvals,me=H.unitToPaddedPx.invert(Y);for(Q=0;Q<he.length;Q++){var Ce=[he[Math.max(Q-1,0)]*.25+he[Q]*.75,he[Math.min(Q+1,he.length-1)]*.25+he[Q]*.75];if(me>=Ce[0]&&me<=Ce[1]){ce.clickableOrdinalRange=Ce;break}}}return ce}function S(H,Y){_.event.sourceEvent.stopPropagation();var J=Y.height-_.mouse(H)[1]-2*g.verticalPadding,re=Y.unitToPaddedPx.invert(J),ie=Y.brush,ce=E(Y,J),Q=ce.interval,j=ie.svgBrush;if(j.wasDragged=!1,j.grabbingBar=ce.region==="ns",j.grabbingBar){var Z=Q.map(Y.unitToPaddedPx);j.grabPoint=J-Z[0]-g.verticalPadding,j.barLength=Z[1]-Z[0]}j.clickableOrdinalRange=ce.clickableOrdinalRange,j.stayingIntervals=Y.multiselect&&ie.filterSpecified?ie.filter.getConsolidated():[],Q&&(j.stayingIntervals=j.stayingIntervals.filter(function($){return $[0]!==Q[0]&&$[1]!==Q[1]})),j.startExtent=ce.region?Q[ce.region==="s"?1:0]:re,Y.parent.inBrushDrag=!0,j.brushStartCallback()}function P(H,Y){_.event.sourceEvent.stopPropagation();var J=Y.height-_.mouse(H)[1]-2*g.verticalPadding,re=Y.brush.svgBrush;re.wasDragged=!0,re._dragging=!0,re.grabbingBar?re.newExtent=[J-re.grabPoint,J+re.barLength-re.grabPoint].map(Y.unitToPaddedPx.invert):re.newExtent=[re.startExtent,Y.unitToPaddedPx.invert(J)].sort(A),Y.brush.filterSpecified=!0,re.extent=re.stayingIntervals.concat([re.newExtent]),re.brushCallback(Y),d(H.parentNode)}function x(H,Y){var J=Y.brush,re=J.filter,ie=J.svgBrush;ie._dragging||(M(H,Y),P(H,Y),Y.brush.svgBrush.wasDragged=!1),ie._dragging=!1;var ce=_.event;ce.sourceEvent.stopPropagation();var Q=ie.grabbingBar;if(ie.grabbingBar=!1,ie.grabLocation=void 0,Y.parent.inBrushDrag=!1,h(),!ie.wasDragged){ie.wasDragged=void 0,ie.clickableOrdinalRange?J.filterSpecified&&Y.multiselect?ie.extent.push(ie.clickableOrdinalRange):(ie.extent=[ie.clickableOrdinalRange],J.filterSpecified=!0):Q?(ie.extent=ie.stayingIntervals,ie.extent.length===0&&I(J)):I(J),ie.brushCallback(Y),d(H.parentNode),ie.brushEndCallback(J.filterSpecified?re.getConsolidated():[]);return}var j=function(){re.set(re.getConsolidated())};if(Y.ordinal){var Z=Y.unitTickvals;Z[Z.length-1]<Z[0]&&Z.reverse(),ie.newExtent=[n(0,Z,ie.newExtent[0],ie.stayingIntervals),n(1,Z,ie.newExtent[1],ie.stayingIntervals)];var $=ie.newExtent[1]>ie.newExtent[0];ie.extent=ie.stayingIntervals.concat($?[ie.newExtent]:[]),ie.extent.length||I(J),ie.brushCallback(Y),$?d(H.parentNode,j):(j(),d(H.parentNode))}else j();ie.brushEndCallback(J.filterSpecified?re.getConsolidated():[])}function M(H,Y){var J=Y.height-_.mouse(H)[1]-2*g.verticalPadding,re=E(Y,J),ie="crosshair";re.clickableOrdinalRange?ie="pointer":re.region&&(ie=re.region+"-resize"),_.select(document.body).style("cursor",ie)}function w(H){H.on("mousemove",function(Y){_.event.preventDefault(),Y.parent.inBrushDrag||M(this,Y)}).on("mouseleave",function(Y){Y.parent.inBrushDrag||h()}).call(_.behavior.drag().on("dragstart",function(Y){S(this,Y)}).on("drag",function(Y){P(this,Y)}).on("dragend",function(Y){x(this,Y)}))}function o(H,Y){return H[0]-Y[0]}function L(H,Y,J){var re=J._context.staticPlot,ie=H.selectAll(".background").data(C);ie.enter().append("rect").classed("background",!0).call(f).call(u).style("pointer-events",re?"none":"auto").attr("transform",v(0,g.verticalPadding)),ie.call(w).attr("height",function(j){return j.height-g.verticalPadding});var ce=H.selectAll(".highlight-shadow").data(C);ce.enter().append("line").classed("highlight-shadow",!0).attr("x",-g.bar.width/2).attr("stroke-width",g.bar.width+g.bar.strokeWidth).attr("stroke",Y).attr("opacity",g.bar.strokeOpacity).attr("stroke-linecap","butt"),ce.attr("y1",function(j){return j.height}).call(l);var Q=H.selectAll(".highlight").data(C);Q.enter().append("line").classed("highlight",!0).attr("x",-g.bar.width/2).attr("stroke-width",g.bar.width-g.bar.strokeWidth).attr("stroke",g.bar.fillColor).attr("opacity",g.bar.fillOpacity).attr("stroke-linecap","butt"),Q.attr("y1",function(j){return j.height}).call(l)}function m(H,Y,J){var re=H.selectAll("."+g.cn.axisBrush).data(C,a);re.enter().append("g").classed(g.cn.axisBrush,!0),L(re,Y,J)}function F(H){return H.svgBrush.extent.map(function(Y){return Y.slice()})}function I(H){H.filterSpecified=!1,H.svgBrush.extent=[[-1/0,1/0]]}function U(H){return function(J){var re=J.brush,ie=F(re),ce=ie.slice();re.filter.set(ce),H()}}function z(H){for(var Y=H.slice(),J=[],re,ie=Y.shift();ie;){for(re=ie.slice();(ie=Y.shift())&&ie[0]<=re[1];)re[1]=Math.max(re[1],ie[1]);J.push(re)}return J.length===1&&J[0][0]>J[0][1]&&(J=[]),J}function N(){var H=[],Y,J;return{set:function(re){H=re.map(function(ie){return ie.slice().sort(A)}).sort(o),H.length===1&&H[0][0]===-1/0&&H[0][1]===1/0&&(H=[[0,-1]]),Y=z(H),J=H.reduce(function(ie,ce){return[Math.min(ie[0],ce[0]),Math.max(ie[1],ce[1])]},[1/0,-1/0])},get:function(){return H.slice()},getConsolidated:function(){return Y},getBounds:function(){return J}}}function B(H,Y,J,re,ie,ce){var Q=N();return Q.set(J),{filter:Q,filterSpecified:Y,svgBrush:{extent:[],brushStartCallback:re,brushCallback:U(ie),brushEndCallback:ce}}}function O(H,Y){if(Array.isArray(H[0])?(H=H.map(function(re){return re.sort(A)}),Y.multiselect?H=z(H.sort(o)):H=[H[0]]):H=[H.sort(A)],Y.tickvals){var J=Y.tickvals.slice().sort(A);if(H=H.map(function(re){var ie=[n(0,J,re[0],[]),n(1,J,re[1],[])];if(ie[1]>ie[0])return ie}).filter(function(re){return re}),!H.length)return}return H.length>1?H:H[0]}G.exports={makeBrush:B,ensureAxisBrush:m,cleanRanges:O}},71791:function(G,V,e){G.exports={attributes:e(73362),supplyDefaults:e(3633),calc:e(24639),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(49351),categories:["gl","regl","noOpacity","noHover"],meta:{}}},49351:function(G,V,e){var g=e(39898),_=e(27659).a0,a=e(21341),C=e(77922);V.name="parcoords",V.plot=function(A){var v=_(A.calcdata,"parcoords")[0];v.length&&a(A,v)},V.clean=function(A,v,p,t){var r=t._has&&t._has("parcoords"),s=v._has&&v._has("parcoords");r&&!s&&(t._paperdiv.selectAll(".parcoords").remove(),t._glimages.selectAll("*").remove())},V.toSVG=function(A){var v=A._fullLayout._glimages,p=g.select(A).selectAll(".svg-container"),t=p.filter(function(s,n){return n===p.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function r(){var s=this,n=s.toDataURL("image/png"),i=v.append("svg:image");i.attr({xmlns:C.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:s.style.width,height:s.style.height})}t.each(r),window.setTimeout(function(){g.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},24639:function(G,V,e){var g=e(71828).isArrayOrTypedArray,_=e(21081),a=e(28984).wrap;G.exports=function(v,p){var t,r;return _.hasColorscale(p,"line")&&g(p.line.color)?(t=p.line.color,r=_.extractOpts(p.line).colorscale,_.calc(v,p,{vals:t,containerStr:"line",cLetter:"c"})):(t=C(p._length),r=[[0,p.line.color],[1,p.line.color]]),a({lineColor:t,cscale:r})};function C(A){for(var v=new Array(A),p=0;p<A;p++)v[p]=.5;return v}},25706:function(G){G.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},3633:function(G,V,e){var g=e(71828),_=e(52075).hasColorscale,a=e(1586),C=e(27670).c,A=e(85501),v=e(89298),p=e(73362),t=e(57920),r=e(25706).maxDimensionCount,s=e(94397);function n(f,u,y,c,T){var h=T("line.color",y);if(_(f,"line")&&g.isArrayOrTypedArray(h)){if(h.length)return T("line.colorscale"),a(f,u,c,T,{prefix:"line.",cLetter:"c"}),h.length;u.line.color=y}return 1/0}function i(f,u,y,c){function T(S,P){return g.coerce(f,u,p.dimensions,S,P)}var h=T("values"),l=T("visible");if(h&&h.length||(l=u.visible=!1),l){T("label"),T("tickvals"),T("ticktext"),T("tickformat");var d=T("range");u._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:d},v.setConvert(u._ax,c.layout),T("multiselect");var E=T("constraintrange");E&&(u.constraintrange=t.cleanRanges(E,u))}}G.exports=function(u,y,c,T){function h(P,x){return g.coerce(u,y,p,P,x)}var l=u.dimensions;Array.isArray(l)&&l.length>r&&(g.log("parcoords traces support up to "+r+" dimensions at the moment"),l.splice(r));var d=A(u,y,{name:"dimensions",layout:T,handleItemDefaults:i}),E=n(u,y,c,T,h);C(y,T,h),(!Array.isArray(d)||!d.length)&&(y.visible=!1),s(y,d,"values",E);var S={family:T.font.family,size:Math.round(T.font.size/1.2),color:T.font.color};g.coerceFont(h,"labelfont",S),g.coerceFont(h,"tickfont",S),g.coerceFont(h,"rangefont",S),h("labelangle"),h("labelside"),h("unselected.line.color"),h("unselected.line.opacity")}},1602:function(G,V,e){var g=e(71828).isTypedArray;V.convertTypedArray=function(_){return g(_)?Array.prototype.slice.call(_):_},V.isOrdinal=function(_){return!!_.tickvals},V.isVisible=function(_){return _.visible||!("visible"in _)}},67618:function(G,V,e){var g=e(71791);g.plot=e(21341),G.exports=g},83398:function(G,V,e){var g=e(56068),_=g([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

attribute vec4 p01_04, p05_08, p09_12, p13_16,
               p17_20, p21_24, p25_28, p29_32,
               p33_36, p37_40, p41_44, p45_48,
               p49_52, p53_56, p57_60, colors;

uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,
             loA, hiA, loB, hiB, loC, hiC, loD, hiD;

uniform vec2 resolution, viewBoxPos, viewBoxSize;
uniform float maskHeight;
uniform float drwLayer; // 0: context, 1: focus, 2: pick
uniform vec4 contextColor;
uniform sampler2D maskTexture, palette;

bool isPick    = (drwLayer > 1.5);
bool isContext = (drwLayer < 0.5);

const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);
const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);

float val(mat4 p, mat4 v) {
    return dot(matrixCompMult(p, v) * UNITS, UNITS);
}

float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {
    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);
    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);
    return y1 * (1.0 - ratio) + y2 * ratio;
}

int iMod(int a, int b) {
    return a - b * (a / b);
}

bool fOutside(float p, float lo, float hi) {
    return (lo < hi) && (lo > p || p > hi);
}

bool vOutside(vec4 p, vec4 lo, vec4 hi) {
    return (
        fOutside(p[0], lo[0], hi[0]) ||
        fOutside(p[1], lo[1], hi[1]) ||
        fOutside(p[2], lo[2], hi[2]) ||
        fOutside(p[3], lo[3], hi[3])
    );
}

bool mOutside(mat4 p, mat4 lo, mat4 hi) {
    return (
        vOutside(p[0], lo[0], hi[0]) ||
        vOutside(p[1], lo[1], hi[1]) ||
        vOutside(p[2], lo[2], hi[2]) ||
        vOutside(p[3], lo[3], hi[3])
    );
}

bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {
    return mOutside(A, loA, hiA) ||
           mOutside(B, loB, hiB) ||
           mOutside(C, loC, hiC) ||
           mOutside(D, loD, hiD);
}

bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {
    mat4 pnts[4];
    pnts[0] = A;
    pnts[1] = B;
    pnts[2] = C;
    pnts[3] = D;

    for(int i = 0; i < 4; ++i) {
        for(int j = 0; j < 4; ++j) {
            for(int k = 0; k < 4; ++k) {
                if(0 == iMod(
                    int(255.0 * texture2D(maskTexture,
                        vec2(
                            (float(i * 2 + j / 2) + 0.5) / 8.0,
                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight
                        ))[3]
                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),
                    2
                )) return true;
            }
        }
    }
    return false;
}

vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {
    float x = 0.5 * sign(v) + 0.5;
    float y = axisY(x, A, B, C, D);
    float z = 1.0 - abs(v);

    z += isContext ? 0.0 : 2.0 * float(
        outsideBoundingBox(A, B, C, D) ||
        outsideRasterMask(A, B, C, D)
    );

    return vec4(
        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,
        z,
        1.0
    );
}

void main() {
    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);
    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);
    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);
    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);

    float v = colors[3];

    gl_Position = position(isContext, v, A, B, C, D);

    fragColor =
        isContext ? vec4(contextColor) :
        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));
}
`]),a=g([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
    gl_FragColor = fragColor;
}
`]),C=e(25706).maxDimensionCount,A=e(71828),v=1e-6,p=2048,t=new Uint8Array(4),r=new Uint8Array(4),s={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function n(M){M.read({x:0,y:0,width:1,height:1,data:t})}function i(M,w,o,L,m){var F=M._gl;F.enable(F.SCISSOR_TEST),F.scissor(w,o,L,m),M.clear({color:[0,0,0,0],depth:1})}function f(M,w,o,L,m,F){var I=F.key;function U(z){var N=Math.min(L,m-z*L);z===0&&(window.cancelAnimationFrame(o.currentRafs[I]),delete o.currentRafs[I],i(M,F.scissorX,F.scissorY,F.scissorWidth,F.viewBoxSize[1])),!o.clearOnly&&(F.count=2*N,F.offset=2*z*L,w(F),z*L+N<m&&(o.currentRafs[I]=window.requestAnimationFrame(function(){U(z+1)})),o.drawCompleted=!1)}o.drawCompleted||(n(M),o.drawCompleted=!0),U(0)}function u(M){return Math.max(v,Math.min(1-v,M))}function y(M,w){for(var o=new Array(256),L=0;L<256;L++)o[L]=M(L/255).concat(w);return o}function c(M,w){return(M>>>8*w)%256/255}function T(M,w,o){for(var L=new Array(M*(C+4)),m=0,F=0;F<M;F++){for(var I=0;I<C;I++)L[m++]=I<w.length?w[I].paddedUnitValues[F]:.5;L[m++]=c(F,2),L[m++]=c(F,1),L[m++]=c(F,0),L[m++]=u(o[F])}return L}function h(M,w,o){for(var L=new Array(w*8),m=0,F=0;F<w;F++)for(var I=0;I<2;I++)for(var U=0;U<4;U++){var z=M*4+U,N=o[F*64+z];z===63&&I===0&&(N*=-1),L[m++]=N}return L}function l(M){var w="0"+M;return w.substr(w.length-2)}function d(M){return M<C?"p"+l(M+1)+"_"+l(M+4):"colors"}function E(M,w,o){for(var L=0;L<=C;L+=4)M[d(L)](h(L/4,w,o))}function S(M){for(var w={},o=0;o<=C;o+=4)w[d(o)]=M.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return w}function P(M,w,o,L,m,F,I,U,z,N,B,O,H,Y){for(var J=[[],[]],re=0;re<64;re++)J[0][re]=re===m?1:0,J[1][re]=re===F?1:0;I*=Y,U*=Y,z*=Y,N*=Y;var ie=M.lines.canvasOverdrag*Y,ce=M.domain,Q=M.canvasWidth*Y,j=M.canvasHeight*Y,Z=M.pad.l*Y,$=M.pad.b*Y,te=M.layoutHeight*Y,se=M.layoutWidth*Y,ee=M.deselectedLines.color,q=M.deselectedLines.opacity,le=A.extendFlat({key:B,resolution:[Q,j],viewBoxPos:[I+ie,U],viewBoxSize:[z,N],i0:m,i1:F,dim0A:J[0].slice(0,16),dim0B:J[0].slice(16,32),dim0C:J[0].slice(32,48),dim0D:J[0].slice(48,64),dim1A:J[1].slice(0,16),dim1B:J[1].slice(16,32),dim1C:J[1].slice(32,48),dim1D:J[1].slice(48,64),drwLayer:O,contextColor:[ee[0]/255,ee[1]/255,ee[2]/255,q!=="auto"?ee[3]*q:Math.max(1/255,Math.pow(1/M.lines.color.length,1/3))],scissorX:(L===w?0:I+ie)+(Z-ie)+se*ce.x[0],scissorWidth:(L===o?Q-I+ie:z+.5)+(L===w?I+ie:0),scissorY:U+$+te*ce.y[0],scissorHeight:N,viewportX:Z-ie+se*ce.x[0],viewportY:$+te*ce.y[0],viewportWidth:Q,viewportHeight:j},H);return le}function x(M){var w=p-1,o=Math.max(0,Math.floor(M[0]*w),0),L=Math.min(w,Math.ceil(M[1]*w),w);return[Math.min(o,L),Math.max(o,L)]}G.exports=function(M,w){var o=w.context,L=w.pick,m=w.regl,F=m._gl,I=F.getParameter(F.ALIASED_LINE_WIDTH_RANGE),U=Math.max(I[0],Math.min(I[1],w.viewModel.plotGlPixelRatio)),z={currentRafs:{},drawCompleted:!0,clearOnly:!1},N,B,O,H,Y=S(m),J,re=m.texture(s),ie=[];Q(w);var ce=m({profile:!1,blend:{enable:o,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!o,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:m.prop("scissorX"),y:m.prop("scissorY"),width:m.prop("scissorWidth"),height:m.prop("scissorHeight")}},viewport:{x:m.prop("viewportX"),y:m.prop("viewportY"),width:m.prop("viewportWidth"),height:m.prop("viewportHeight")},dither:!1,vert:_,frag:a,primitive:"lines",lineWidth:U,attributes:Y,uniforms:{resolution:m.prop("resolution"),viewBoxPos:m.prop("viewBoxPos"),viewBoxSize:m.prop("viewBoxSize"),dim0A:m.prop("dim0A"),dim1A:m.prop("dim1A"),dim0B:m.prop("dim0B"),dim1B:m.prop("dim1B"),dim0C:m.prop("dim0C"),dim1C:m.prop("dim1C"),dim0D:m.prop("dim0D"),dim1D:m.prop("dim1D"),loA:m.prop("loA"),hiA:m.prop("hiA"),loB:m.prop("loB"),hiB:m.prop("hiB"),loC:m.prop("loC"),hiC:m.prop("hiC"),loD:m.prop("loD"),hiD:m.prop("hiD"),palette:re,contextColor:m.prop("contextColor"),maskTexture:m.prop("maskTexture"),drwLayer:m.prop("drwLayer"),maskHeight:m.prop("maskHeight")},offset:m.prop("offset"),count:m.prop("count")});function Q(ee){N=ee.model,B=ee.viewModel,O=B.dimensions.slice(),H=O[0]?O[0].values.length:0;var q=N.lines,le=L?q.color.map(function(he,me){return me/q.color.length}):q.color,oe=T(H,O,le);E(Y,H,oe),!o&&!L&&(re=m.texture(A.extendFlat({data:y(N.unitToColor,255)},s)))}function j(ee){var q,le,oe,he=[[],[]];for(oe=0;oe<64;oe++){var me=!ee&&oe<O.length?O[oe].brush.filter.getBounds():[-1/0,1/0];he[0][oe]=me[0],he[1][oe]=me[1]}var Ce=p*8,Ae=new Array(Ce);for(q=0;q<Ce;q++)Ae[q]=255;if(!ee)for(q=0;q<O.length;q++){var Ue=q%8,Ve=(q-Ue)/8,Pe=Math.pow(2,Ue),be=O[q],Le=be.brush.filter.get();if(!(Le.length<2)){var We=x(Le[0])[1];for(le=1;le<Le.length;le++){var je=x(Le[le]);for(oe=We+1;oe<je[0];oe++)Ae[oe*8+Ve]&=~Pe;We=Math.max(We,je[1])}}}var Fe={shape:[8,p],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Ae};return J?J(Fe):J=m.texture(Fe),{maskTexture:J,maskHeight:p,loA:he[0].slice(0,16),loB:he[0].slice(16,32),loC:he[0].slice(32,48),loD:he[0].slice(48,64),hiA:he[1].slice(0,16),hiB:he[1].slice(16,32),hiC:he[1].slice(32,48),hiD:he[1].slice(48,64)}}function Z(ee,q,le){var oe=ee.length,he,me,Ce,Ae=1/0,Ue=-1/0;for(he=0;he<oe;he++)ee[he].dim0.canvasX<Ae&&(Ae=ee[he].dim0.canvasX,me=he),ee[he].dim1.canvasX>Ue&&(Ue=ee[he].dim1.canvasX,Ce=he);oe===0&&i(m,0,0,N.canvasWidth,N.canvasHeight);var Ve=j(o);for(he=0;he<oe;he++){var Pe=ee[he],be=Pe.dim0.crossfilterDimensionIndex,Le=Pe.dim1.crossfilterDimensionIndex,We=Pe.canvasX,je=Pe.canvasY,Fe=We+Pe.panelSizeX,Ze=Pe.plotGlPixelRatio;if(q||!ie[be]||ie[be][0]!==We||ie[be][1]!==Fe){ie[be]=[We,Fe];var ut=P(N,me,Ce,he,be,Le,We,je,Pe.panelSizeX,Pe.panelSizeY,Pe.dim0.crossfilterDimensionIndex,o?0:L?2:1,Ve,Ze);z.clearOnly=le;var at=q?N.lines.blockLineCount:H;f(m,ce,z,at,H,ut)}}}function $(ee,q){return m.read({x:ee,y:q,width:1,height:1,data:r}),r}function te(ee,q,le,oe){var he=new Uint8Array(4*le*oe);return m.read({x:ee,y:q,width:le,height:oe,data:he}),he}function se(){M.style["pointer-events"]="none",re.destroy(),J&&J.destroy();for(var ee in Y)Y[ee].destroy()}return{render:Z,readPixel:$,readPixels:te,destroy:se,update:Q}}},94397:function(G){G.exports=function(V,e,g,_){_||(_=1/0);var a,C;for(a=0;a<e.length;a++)C=e[a],C.visible&&(_=Math.min(_,C[g].length));for(_===1/0&&(_=0),V._length=_,a=0;a<e.length;a++)C=e[a],C.visible&&(C._length=_);return _}},17171:function(G,V,e){var g=e(39898),_=e(71828),a=_.numberFormat,C=e(36652),A=e(89298),v=_.strRotate,p=_.strTranslate,t=e(63893),r=e(91424),s=e(21081),n=e(28984),i=n.keyFun,f=n.repeat,u=n.unwrap,y=e(1602),c=e(25706),T=e(57920),h=e(83398);function l(J,re,ie){return _.aggNums(J,null,re,ie)}function d(J,re){return S(l(Math.min,J,re),l(Math.max,J,re))}function E(J){var re=J.range;return re?S(re[0],re[1]):d(J.values,J._length)}function S(J,re){return(isNaN(J)||!isFinite(J))&&(J=0),(isNaN(re)||!isFinite(re))&&(re=0),J===re&&(J===0?(J-=1,re+=1):(J*=.9,re*=1.1)),[J,re]}function P(J,re){return re?function(ie,ce){var Q=re[ce];return Q??J(ie)}:J}function x(J,re,ie,ce,Q){var j=E(ie);return ce?g.scale.ordinal().domain(ce.map(P(a(ie.tickformat),Q))).range(ce.map(function(Z){var $=(Z-j[0])/(j[1]-j[0]);return J-re+$*(2*re-J)})):g.scale.linear().domain(j).range([J-re,re])}function M(J,re){return g.scale.linear().range([re,J-re])}function w(J,re){return g.scale.linear().domain(E(J)).range([re,1-re])}function o(J){if(J.tickvals){var re=E(J);return g.scale.ordinal().domain(J.tickvals).range(J.tickvals.map(function(ie){return(ie-re[0])/(re[1]-re[0])}))}}function L(J){var re=J.map(function(j){return j[0]}),ie=J.map(function(j){var Z=C(j[1]);return g.rgb("rgb("+Z[0]+","+Z[1]+","+Z[2]+")")}),ce=function(j){return function(Z){return Z[j]}},Q="rgb".split("").map(function(j){return g.scale.linear().clamp(!0).domain(re).range(ie.map(ce(j)))});return function(j){return Q.map(function(Z){return Z(j)})}}function m(J){return J.dimensions.some(function(re){return re.brush.filterSpecified})}function F(J,re,ie){var ce=u(re),Q=ce.trace,j=y.convertTypedArray(ce.lineColor),Z=Q.line,$={color:C(Q.unselected.line.color),opacity:Q.unselected.line.opacity},te=s.extractOpts(Z),se=te.reversescale?s.flipScale(ce.cscale):ce.cscale,ee=Q.domain,q=Q.dimensions,le=J.width,oe=Q.labelangle,he=Q.labelside,me=Q.labelfont,Ce=Q.tickfont,Ae=Q.rangefont,Ue=_.extendDeepNoArrays({},Z,{color:j.map(g.scale.linear().domain(E({values:j,range:[te.min,te.max],_length:Q._length}))),blockLineCount:c.blockLineCount,canvasOverdrag:c.overdrag*c.canvasPixelRatio}),Ve=Math.floor(le*(ee.x[1]-ee.x[0])),Pe=Math.floor(J.height*(ee.y[1]-ee.y[0])),be=J.margin||{l:80,r:80,t:100,b:80},Le=Ve,We=Pe;return{key:ie,colCount:q.filter(y.isVisible).length,dimensions:q,tickDistance:c.tickDistance,unitToColor:L(se),lines:Ue,deselectedLines:$,labelAngle:oe,labelSide:he,labelFont:me,tickFont:Ce,rangeFont:Ae,layoutWidth:le,layoutHeight:J.height,domain:ee,translateX:ee.x[0]*le,translateY:J.height-ee.y[1]*J.height,pad:be,canvasWidth:Le*c.canvasPixelRatio+2*Ue.canvasOverdrag,canvasHeight:We*c.canvasPixelRatio,width:Le,height:We,canvasPixelRatio:c.canvasPixelRatio}}function I(J,re,ie){var ce=ie.width,Q=ie.height,j=ie.dimensions,Z=ie.canvasPixelRatio,$=function(le){return ce*le/Math.max(1,ie.colCount-1)},te=c.verticalPadding/Q,se=M(Q,c.verticalPadding),ee={key:ie.key,xScale:$,model:ie,inBrushDrag:!1},q={};return ee.dimensions=j.filter(y.isVisible).map(function(le,oe){var he=w(le,te),me=q[le.label];q[le.label]=(me||0)+1;var Ce=le.label+(me?"__"+me:""),Ae=le.constraintrange,Ue=Ae&&Ae.length;Ue&&!Array.isArray(Ae[0])&&(Ae=[Ae]);var Ve=Ue?Ae.map(function(it){return it.map(he)}):[[-1/0,1/0]],Pe=function(){var it=ee;it.focusLayer&&it.focusLayer.render(it.panels,!0);var $e=m(it);!J.contextShown()&&$e?(it.contextLayer&&it.contextLayer.render(it.panels,!0),J.contextShown(!0)):J.contextShown()&&!$e&&(it.contextLayer&&it.contextLayer.render(it.panels,!0,!0),J.contextShown(!1))},be=le.values;be.length>le._length&&(be=be.slice(0,le._length));var Le=le.tickvals,We;function je(it,$e){return{val:it,text:We[$e]}}function Fe(it,$e){return it.val-$e.val}if(Array.isArray(Le)&&Le.length){We=le.ticktext,!Array.isArray(We)||!We.length?We=Le.map(a(le.tickformat)):We.length>Le.length?We=We.slice(0,Le.length):Le.length>We.length&&(Le=Le.slice(0,We.length));for(var Ze=1;Ze<Le.length;Ze++)if(Le[Ze]<Le[Ze-1]){for(var ut=Le.map(je).sort(Fe),at=0;at<Le.length;at++)Le[at]=ut[at].val,We[at]=ut[at].text;break}}else Le=void 0;return be=y.convertTypedArray(be),{key:Ce,label:le.label,tickFormat:le.tickformat,tickvals:Le,ticktext:We,ordinal:y.isOrdinal(le),multiselect:le.multiselect,xIndex:oe,crossfilterDimensionIndex:oe,visibleIndex:le._index,height:Q,values:be,paddedUnitValues:be.map(he),unitTickvals:Le&&Le.map(he),xScale:$,x:$(oe),canvasX:$(oe)*Z,unitToPaddedPx:se,domainScale:x(Q,c.verticalPadding,le,Le,We),ordinalScale:o(le),parent:ee,model:ie,brush:T.makeBrush(J,Ue,Ve,function(){J.linePickActive(!1)},Pe,function(it){if(ee.focusLayer.render(ee.panels,!0),ee.pickLayer&&ee.pickLayer.render(ee.panels,!0),J.linePickActive(!0),re&&re.filterChanged){var $e=he.invert,st=it.map(function(ct){return ct.map($e).sort(_.sorterAsc)}).sort(function(ct,vt){return ct[0]-vt[0]});re.filterChanged(ee.key,le._index,st)}})}}),ee}function U(J){J.classed(c.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function z(){var J=!0,re=!1;return{linePickActive:function(ie){return arguments.length?J=!!ie:J},contextShown:function(ie){return arguments.length?re=!!ie:re}}}function N(J,re){var ie=re==="top"?1:-1,ce=J*Math.PI/180,Q=Math.sin(ce),j=Math.cos(ce);return{dir:ie,dx:Q,dy:j,degrees:J}}function B(J,re,ie){for(var ce=re.panels||(re.panels=[]),Q=J.data(),j=0;j<Q.length-1;j++){var Z=ce[j]||(ce[j]={}),$=Q[j],te=Q[j+1];Z.dim0=$,Z.dim1=te,Z.canvasX=$.canvasX,Z.panelSizeX=te.canvasX-$.canvasX,Z.panelSizeY=re.model.canvasHeight,Z.y=0,Z.canvasY=0,Z.plotGlPixelRatio=ie}}function O(J){for(var re=0;re<J.length;re++)for(var ie=0;ie<J[re].length;ie++)for(var ce=J[re][ie].trace,Q=ce.dimensions,j=0;j<Q.length;j++){var Z=Q[j].values,$=Q[j]._ax;$&&($.range?$.range=S($.range[0],$.range[1]):$.range=d(Z,ce._length),$.dtick||($.dtick=.01*(Math.abs($.range[1]-$.range[0])||1)),$.tickformat=Q[j].tickformat,A.calcTicks($),$.cleanRange())}}function H(J,re){return A.tickText(J._ax,re,!1).text}function Y(J,re){if(J.ordinal)return"";var ie=J.domainScale.domain(),ce=ie[re?ie.length-1:0];return H(J.model.dimensions[J.visibleIndex],ce)}G.exports=function(re,ie,ce,Q){var j=re._context.staticPlot,Z=re._fullLayout,$=Z._toppaper,te=Z._glcontainer,se=re._context.plotGlPixelRatio,ee=re._fullLayout.paper_bgcolor;O(ie);var q=z(),le=ie.filter(function(at){return u(at).trace.visible}).map(F.bind(0,ce)).map(I.bind(0,q,Q));te.each(function(at,it){return _.extendFlat(at,le[it])});var oe=te.selectAll(".gl-canvas").each(function(at){at.viewModel=le[0],at.viewModel.plotGlPixelRatio=se,at.viewModel.paperColor=ee,at.model=at.viewModel?at.viewModel.model:null}),he=null,me=oe.filter(function(at){return at.pick});me.style("pointer-events",j?"none":"auto").on("mousemove",function(at){if(q.linePickActive()&&at.lineLayer&&Q&&Q.hover){var it=g.event,$e=this.width,st=this.height,ct=g.mouse(this),vt=ct[0],St=ct[1];if(vt<0||St<0||vt>=$e||St>=st)return;var Mt=at.lineLayer.readPixel(vt,st-1-St),Bt=Mt[3]!==0,Qe=Bt?Mt[2]+256*(Mt[1]+256*Mt[0]):null,ke={x:vt,y:St,clientX:it.clientX,clientY:it.clientY,dataIndex:at.model.key,curveNumber:Qe};Qe!==he&&(Bt?Q.hover(ke):Q.unhover&&Q.unhover(ke),he=Qe)}}),oe.style("opacity",function(at){return at.pick?0:1}),$.style("background","rgba(255, 255, 255, 0)");var Ce=$.selectAll("."+c.cn.parcoords).data(le,i);Ce.exit().remove(),Ce.enter().append("g").classed(c.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Ce.attr("transform",function(at){return p(at.model.translateX,at.model.translateY)});var Ae=Ce.selectAll("."+c.cn.parcoordsControlView).data(f,i);Ae.enter().append("g").classed(c.cn.parcoordsControlView,!0),Ae.attr("transform",function(at){return p(at.model.pad.l,at.model.pad.t)});var Ue=Ae.selectAll("."+c.cn.yAxis).data(function(at){return at.dimensions},i);Ue.enter().append("g").classed(c.cn.yAxis,!0),Ae.each(function(at){B(Ue,at,se)}),oe.each(function(at){if(at.viewModel){!at.lineLayer||Q?at.lineLayer=h(this,at):at.lineLayer.update(at),(at.key||at.key===0)&&(at.viewModel[at.key]=at.lineLayer);var it=!at.context||Q;at.lineLayer.render(at.viewModel.panels,it)}}),Ue.attr("transform",function(at){return p(at.xScale(at.xIndex),0)}),Ue.call(g.behavior.drag().origin(function(at){return at}).on("drag",function(at){var it=at.parent;q.linePickActive(!1),at.x=Math.max(-c.overdrag,Math.min(at.model.width+c.overdrag,g.event.x)),at.canvasX=at.x*at.model.canvasPixelRatio,Ue.sort(function($e,st){return $e.x-st.x}).each(function($e,st){$e.xIndex=st,$e.x=at===$e?$e.x:$e.xScale($e.xIndex),$e.canvasX=$e.x*$e.model.canvasPixelRatio}),B(Ue,it,se),Ue.filter(function($e){return Math.abs(at.xIndex-$e.xIndex)!==0}).attr("transform",function($e){return p($e.xScale($e.xIndex),0)}),g.select(this).attr("transform",p(at.x,0)),Ue.each(function($e,st,ct){ct===at.parent.key&&(it.dimensions[st]=$e)}),it.contextLayer&&it.contextLayer.render(it.panels,!1,!m(it)),it.focusLayer.render&&it.focusLayer.render(it.panels)}).on("dragend",function(at){var it=at.parent;at.x=at.xScale(at.xIndex),at.canvasX=at.x*at.model.canvasPixelRatio,B(Ue,it,se),g.select(this).attr("transform",function($e){return p($e.x,0)}),it.contextLayer&&it.contextLayer.render(it.panels,!1,!m(it)),it.focusLayer&&it.focusLayer.render(it.panels),it.pickLayer&&it.pickLayer.render(it.panels,!0),q.linePickActive(!0),Q&&Q.axesMoved&&Q.axesMoved(it.key,it.dimensions.map(function($e){return $e.crossfilterDimensionIndex}))})),Ue.exit().remove();var Ve=Ue.selectAll("."+c.cn.axisOverlays).data(f,i);Ve.enter().append("g").classed(c.cn.axisOverlays,!0),Ve.selectAll("."+c.cn.axis).remove();var Pe=Ve.selectAll("."+c.cn.axis).data(f,i);Pe.enter().append("g").classed(c.cn.axis,!0),Pe.each(function(at){var it=at.model.height/at.model.tickDistance,$e=at.domainScale,st=$e.domain();g.select(this).call(g.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(it,at.tickFormat).tickValues(at.ordinal?st:null).tickFormat(function(ct){return y.isOrdinal(at)?ct:H(at.model.dimensions[at.visibleIndex],ct)}).scale($e)),r.font(Pe.selectAll("text"),at.model.tickFont)}),Pe.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Pe.selectAll("text").style("text-shadow",t.makeTextShadow(ee)).style("cursor","default");var be=Ve.selectAll("."+c.cn.axisHeading).data(f,i);be.enter().append("g").classed(c.cn.axisHeading,!0);var Le=be.selectAll("."+c.cn.axisTitle).data(f,i);Le.enter().append("text").classed(c.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",j?"none":"auto"),Le.text(function(at){return at.label}).each(function(at){var it=g.select(this);r.font(it,at.model.labelFont),t.convertToTspans(it,re)}).attr("transform",function(at){var it=N(at.model.labelAngle,at.model.labelSide),$e=c.axisTitleOffset;return(it.dir>0?"":p(0,2*$e+at.model.height))+v(it.degrees)+p(-$e*it.dx,-$e*it.dy)}).attr("text-anchor",function(at){var it=N(at.model.labelAngle,at.model.labelSide),$e=Math.abs(it.dx),st=Math.abs(it.dy);return 2*$e>st?it.dir*it.dx<0?"start":"end":"middle"});var We=Ve.selectAll("."+c.cn.axisExtent).data(f,i);We.enter().append("g").classed(c.cn.axisExtent,!0);var je=We.selectAll("."+c.cn.axisExtentTop).data(f,i);je.enter().append("g").classed(c.cn.axisExtentTop,!0),je.attr("transform",p(0,-c.axisExtentOffset));var Fe=je.selectAll("."+c.cn.axisExtentTopText).data(f,i);Fe.enter().append("text").classed(c.cn.axisExtentTopText,!0).call(U),Fe.text(function(at){return Y(at,!0)}).each(function(at){r.font(g.select(this),at.model.rangeFont)});var Ze=We.selectAll("."+c.cn.axisExtentBottom).data(f,i);Ze.enter().append("g").classed(c.cn.axisExtentBottom,!0),Ze.attr("transform",function(at){return p(0,at.model.height+c.axisExtentOffset)});var ut=Ze.selectAll("."+c.cn.axisExtentBottomText).data(f,i);ut.enter().append("text").classed(c.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(U),ut.text(function(at){return Y(at,!1)}).each(function(at){r.font(g.select(this),at.model.rangeFont)}),T.ensureAxisBrush(Ve,ee,re)}},21341:function(G,V,e){var g=e(17171),_=e(79749),a=e(1602).isVisible,C={};function A(t,r,s){var n=r.indexOf(s),i=t.indexOf(n);return i===-1&&(i+=r.length),i}function v(t,r){return function(n,i){return A(t,r,n)-A(t,r,i)}}var p=G.exports=function(r,s){var n=r._fullLayout,i=_(r,[],C);if(i){var f={},u={},y={},c={},T=n._size;s.forEach(function(S,P){var x=S[0].trace;y[P]=x.index;var M=c[P]=x._fullInput.index;f[P]=r.data[M].dimensions,u[P]=r.data[M].dimensions.slice()});var h=function(S,P,x){var M=u[S][P],w=x.map(function(U){return U.slice()}),o="dimensions["+P+"].constraintrange",L=n._tracePreGUI[r._fullData[y[S]]._fullInput.uid];if(L[o]===void 0){var m=M.constraintrange;L[o]=m||null}var F=r._fullData[y[S]].dimensions[P];w.length?(w.length===1&&(w=w[0]),M.constraintrange=w,F.constraintrange=w.slice(),w=[w]):(delete M.constraintrange,delete F.constraintrange,w=null);var I={};I[o]=w,r.emit("plotly_restyle",[I,[c[S]]])},l=function(S){r.emit("plotly_hover",S)},d=function(S){r.emit("plotly_unhover",S)},E=function(S,P){var x=v(P,u[S].filter(a));f[S].sort(x),u[S].filter(function(M){return!a(M)}).sort(function(M){return u[S].indexOf(M)}).forEach(function(M){f[S].splice(f[S].indexOf(M),1),f[S].splice(u[S].indexOf(M),0,M)}),r.emit("plotly_restyle",[{dimensions:[f[S]]},[c[S]]])};g(r,s,{width:T.w,height:T.h,margin:{t:T.t,r:T.r,b:T.b,l:T.l}},{filterChanged:h,hover:l,unhover:d,axesMoved:E})}};p.reglPrecompiled=C},34e3:function(G,V,e){var g=e(9012),_=e(27670).Y,a=e(41940),C=e(22399),A=e(5386).fF,v=e(5386).si,p=e(1426).extendFlat,t=e(79952).u,r=a({editType:"plot",arrayOk:!0,colorEditType:"plot"});G.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:C.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:t,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:p({},g.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:A({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:p({},r,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:p({},r,{}),outsidetextfont:p({},r,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:p({},r,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:_({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:p({},r,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(G,V,e){var g=e(74875);V.name="pie",V.plot=function(_,a,C,A){g.plotBasePlot(V.name,_,a,C,A)},V.clean=function(_,a,C,A){g.cleanBasePlot(V.name,_,a,C,A)}},32354:function(G,V,e){var g=e(92770),_=e(84267),a=e(7901),C={};function A(r,s){var n=[],i=r._fullLayout,f=i.hiddenlabels||[],u=s.labels,y=s.marker.colors||[],c=s.values,T=s._length,h=s._hasValues&&T,l,d;if(s.dlabel)for(u=new Array(T),l=0;l<T;l++)u[l]=String(s.label0+l*s.dlabel);var E={},S=v(i["_"+s.type+"colormap"]),P=0,x=!1;for(l=0;l<T;l++){var M,w,o;if(h){if(M=c[l],!g(M))continue;M=+M}else M=1;w=u[l],(w===void 0||w==="")&&(w=l),w=String(w);var L=E[w];L===void 0?(E[w]=n.length,o=f.indexOf(w)!==-1,o||(P+=M),n.push({v:M,label:w,color:S(y[l],w),i:l,pts:[l],hidden:o})):(x=!0,d=n[L],d.v+=M,d.pts.push(l),d.hidden||(P+=M),d.color===!1&&y[l]&&(d.color=S(y[l],w)))}n=n.filter(function(F){return F.v>=0});var m=s.type==="funnelarea"?x:s.sort;return m&&n.sort(function(F,I){return I.v-F.v}),n[0]&&(n[0].vTotal=P),n}function v(r){return function(n,i){return!n||(n=_(n),!n.isValid())?!1:(n=a.addOpacity(n,n.getAlpha()),r[i]||(r[i]=n),n)}}function p(r,s){var n=(s||{}).type;n||(n="pie");var i=r._fullLayout,f=r.calcdata,u=i[n+"colorway"],y=i["_"+n+"colormap"];i["extend"+n+"colors"]&&(u=t(u,C));for(var c=0,T=0;T<f.length;T++){var h=f[T],l=h[0].trace.type;if(l===n)for(var d=0;d<h.length;d++){var E=h[d];E.color===!1&&(y[E.label]?E.color=y[E.label]:(y[E.label]=E.color=u[c%u.length],c++))}}}function t(r,s){var n,i=JSON.stringify(r),f=s[i];if(!f){for(f=r.slice(),n=0;n<r.length;n++)f.push(_(r[n]).lighten(20).toHexString());for(n=0;n<r.length;n++)f.push(_(r[n]).darken(20).toHexString());s[i]=f}return f}G.exports={calc:A,crossTraceCalc:p,makePullColorFn:v,generateExtendedColors:t}},37434:function(G,V,e){var g=e(92770),_=e(71828),a=e(34e3),C=e(27670).c,A=e(90769).handleText,v=e(71828).coercePattern;function p(s,n){var i=Array.isArray(s),f=_.isArrayOrTypedArray(n),u=Math.min(i?s.length:1/0,f?n.length:1/0);if(isFinite(u)||(u=0),u&&f){for(var y,c=0;c<u;c++){var T=n[c];if(g(T)&&T>0){y=!0;break}}y||(u=0)}return{hasLabels:i,hasValues:f,len:u}}function t(s,n,i,f,u){var y=f("marker.line.width");y&&f("marker.line.color",u?void 0:i.paper_bgcolor);var c=f("marker.colors");v(f,"marker.pattern",c),s.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=s.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=i.paper_bgcolor)}function r(s,n,i,f){function u(L,m){return _.coerce(s,n,a,L,m)}var y=u("labels"),c=u("values"),T=p(y,c),h=T.len;if(n._hasLabels=T.hasLabels,n._hasValues=T.hasValues,!n._hasLabels&&n._hasValues&&(u("label0"),u("dlabel")),!h){n.visible=!1;return}n._length=h,t(s,n,f,u,!0),u("scalegroup");var l=u("text"),d=u("texttemplate"),E;if(d||(E=u("textinfo",Array.isArray(l)?"text+percent":"percent")),u("hovertext"),u("hovertemplate"),d||E&&E!=="none"){var S=u("textposition");A(s,n,f,u,S,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var P=Array.isArray(S)||S==="auto",x=P||S==="outside";x&&u("automargin"),(S==="inside"||S==="auto"||Array.isArray(S))&&u("insidetextorientation")}C(n,f,u);var M=u("hole"),w=u("title.text");if(w){var o=u("title.position",M?"middle center":"top center");!M&&o==="middle center"&&(n.title.position="top center"),_.coerceFont(u,"title.font",f.font)}u("sort"),u("direction"),u("rotation"),u("pull")}G.exports={handleLabelsAndValues:p,handleMarkerDefaults:t,supplyDefaults:r}},20007:function(G,V,e){var g=e(23469).appendArrayMultiPointValues;G.exports=function(a,C){var A={curveNumber:C.index,pointNumbers:a.pts,data:C._input,fullData:C,label:a.label,color:a.color,value:a.v,percent:a.percent,text:a.text,bbox:a.bbox,v:a.v};return a.pts.length===1&&(A.pointNumber=A.i=a.pts[0]),g(A,C,a.pts),C.type==="funnelarea"&&(delete A.v,delete A.i),A}},22209:function(G,V,e){var g=e(91424),_=e(7901);G.exports=function(C,A,v,p){var t=v.marker.pattern;t&&t.shape?g.pointStyle(C,v,p,A):_.fill(C,A.color)}},53581:function(G,V,e){var g=e(71828);function _(a){return a.indexOf("e")!==-1?a.replace(/[.]?0+e/,"e"):a.indexOf(".")!==-1?a.replace(/[.]?0+$/,""):a}V.formatPiePercent=function(C,A){var v=_((C*100).toPrecision(3));return g.numSeparate(v,A)+"%"},V.formatPieValue=function(C,A){var v=_(C.toPrecision(10));return g.numSeparate(v,A)},V.getFirstFilled=function(C,A){if(Array.isArray(C))for(var v=0;v<A.length;v++){var p=C[A[v]];if(p||p===0||p==="")return p}},V.castOption=function(C,A){if(Array.isArray(C))return V.getFirstFilled(C,A);if(C)return C},V.getRotationAngle=function(a){return(a==="auto"?0:a)*Math.PI/180}},58810:function(G,V,e){G.exports={attributes:e(34e3),supplyDefaults:e(37434).supplyDefaults,supplyLayoutDefaults:e(92097),layoutAttributes:e(92774),calc:e(32354).calc,crossTraceCalc:e(32354).crossTraceCalc,plot:e(14575).plot,style:e(68357),styleOne:e(63463),moduleType:"trace",name:"pie",basePlotModule:e(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(G){G.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(G,V,e){var g=e(71828),_=e(92774);G.exports=function(C,A){function v(p,t){return g.coerce(C,A,_,p,t)}v("hiddenlabels"),v("piecolorway",A.colorway),v("extendpiecolors")}},14575:function(G,V,e){var g=e(39898),_=e(74875),a=e(30211),C=e(7901),A=e(91424),v=e(71828),p=v.strScale,t=v.strTranslate,r=e(63893),s=e(72597),n=s.recordMinTextSize,i=s.clearMinTextSize,f=e(97313).TEXTPAD,u=e(53581),y=e(20007),c=e(71828).isValidTextValue;function T(j,Z){var $=j._context.staticPlot,te=j._fullLayout,se=te._size;i("pie",te),S(Z,j),Y(Z,se);var ee=v.makeTraceGroups(te._pielayer,Z,"trace").each(function(q){var le=g.select(this),oe=q[0],he=oe.trace;re(q),le.attr("stroke-linejoin","round"),le.each(function(){var me=g.select(this).selectAll("g.slice").data(q);me.enter().append("g").classed("slice",!0),me.exit().remove();var Ce=[[[],[]],[[],[]]],Ae=!1;me.each(function(Fe,Ze){if(Fe.hidden){g.select(this).selectAll("path,g").remove();return}Fe.pointNumber=Fe.i,Fe.curveNumber=he.index,Ce[Fe.pxmid[1]<0?0:1][Fe.pxmid[0]<0?0:1].push(Fe);var ut=oe.cx,at=oe.cy,it=g.select(this),$e=it.selectAll("path.surface").data([Fe]);if($e.enter().append("path").classed("surface",!0).style({"pointer-events":$?"none":"all"}),it.call(l,j,q),he.pull){var st=+u.castOption(he.pull,Fe.pts)||0;st>0&&(ut+=st*Fe.pxmid[0],at+=st*Fe.pxmid[1])}Fe.cxFinal=ut,Fe.cyFinal=at;function ct(ze,Be,Re,we){var ye=we*(Be[0]-ze[0]),Se=we*(Be[1]-ze[1]);return"a"+we*oe.r+","+we*oe.r+" 0 "+Fe.largeArc+(Re?" 1 ":" 0 ")+ye+","+Se}var vt=he.hole;if(Fe.v===oe.vTotal){var St="M"+(ut+Fe.px0[0])+","+(at+Fe.px0[1])+ct(Fe.px0,Fe.pxmid,!0,1)+ct(Fe.pxmid,Fe.px0,!0,1)+"Z";vt?$e.attr("d","M"+(ut+vt*Fe.px0[0])+","+(at+vt*Fe.px0[1])+ct(Fe.px0,Fe.pxmid,!1,vt)+ct(Fe.pxmid,Fe.px0,!1,vt)+"Z"+St):$e.attr("d",St)}else{var Mt=ct(Fe.px0,Fe.px1,!0,1);if(vt){var Bt=1-vt;$e.attr("d","M"+(ut+vt*Fe.px1[0])+","+(at+vt*Fe.px1[1])+ct(Fe.px1,Fe.px0,!1,vt)+"l"+Bt*Fe.px0[0]+","+Bt*Fe.px0[1]+Mt+"Z")}else $e.attr("d","M"+ut+","+at+"l"+Fe.px0[0]+","+Fe.px0[1]+Mt+"Z")}ce(j,Fe,oe);var Qe=u.castOption(he.textposition,Fe.pts),ke=it.selectAll("g.slicetext").data(Fe.text&&Qe!=="none"?[0]:[]);ke.enter().append("g").classed("slicetext",!0),ke.exit().remove(),ke.each(function(){var ze=v.ensureSingle(g.select(this),"text","",function(qe){qe.attr("data-notex",1)}),Be=v.ensureUniformFontSize(j,Qe==="outside"?d(he,Fe,te.font):E(he,Fe,te.font));ze.text(Fe.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(A.font,Be).call(r.convertToTspans,j);var Re=A.bBox(ze.node()),we;if(Qe==="outside")we=I(Re,Fe);else if(we=P(Re,Fe,oe),Qe==="auto"&&we.scale<1){var ye=v.ensureUniformFontSize(j,he.outsidetextfont);ze.call(A.font,ye),Re=A.bBox(ze.node()),we=I(Re,Fe)}var Se=we.textPosAngle,Me=Se===void 0?Fe.pxmid:ie(oe.r,Se);if(we.targetX=ut+Me[0]*we.rCenter+(we.x||0),we.targetY=at+Me[1]*we.rCenter+(we.y||0),Q(we,Re),we.outside){var He=we.targetY;Fe.yLabelMin=He-Re.height/2,Fe.yLabelMid=He,Fe.yLabelMax=He+Re.height/2,Fe.labelExtraX=0,Fe.labelExtraY=0,Ae=!0}we.fontSize=Be.size,n(he.type,we,te),q[Ze].transform=we,v.setTransormAndDisplay(ze,we)})});var Ue=g.select(this).selectAll("g.titletext").data(he.title.text?[0]:[]);if(Ue.enter().append("g").classed("titletext",!0),Ue.exit().remove(),Ue.each(function(){var Fe=v.ensureSingle(g.select(this),"text","",function(at){at.attr("data-notex",1)}),Ze=he.title.text;he._meta&&(Ze=v.templateString(Ze,he._meta)),Fe.text(Ze).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(A.font,he.title.font).call(r.convertToTspans,j);var ut;he.title.position==="middle center"?ut=U(oe):ut=z(oe,se),Fe.attr("transform",t(ut.x,ut.y)+p(Math.min(1,ut.scale))+t(ut.tx,ut.ty))}),Ae&&H(Ce,he),h(me,he),Ae&&he.automargin){var Ve=A.bBox(le.node()),Pe=he.domain,be=se.w*(Pe.x[1]-Pe.x[0]),Le=se.h*(Pe.y[1]-Pe.y[0]),We=(.5*be-oe.r)/se.w,je=(.5*Le-oe.r)/se.h;_.autoMargin(j,"pie."+he.uid+".automargin",{xl:Pe.x[0]-We,xr:Pe.x[1]+We,yb:Pe.y[0]-je,yt:Pe.y[1]+je,l:Math.max(oe.cx-oe.r-Ve.left,0),r:Math.max(Ve.right-(oe.cx+oe.r),0),b:Math.max(Ve.bottom-(oe.cy+oe.r),0),t:Math.max(oe.cy-oe.r-Ve.top,0),pad:5})}})});setTimeout(function(){ee.selectAll("tspan").each(function(){var q=g.select(this);q.attr("dy")&&q.attr("dy",q.attr("dy"))})},0)}function h(j,Z){j.each(function($){var te=g.select(this);if(!$.labelExtraX&&!$.labelExtraY){te.select("path.textline").remove();return}var se=te.select("g.slicetext text");$.transform.targetX+=$.labelExtraX,$.transform.targetY+=$.labelExtraY,v.setTransormAndDisplay(se,$.transform);var ee=$.cxFinal+$.pxmid[0],q=$.cyFinal+$.pxmid[1],le="M"+ee+","+q,oe=($.yLabelMax-$.yLabelMin)*($.pxmid[0]<0?-1:1)/4;if($.labelExtraX){var he=$.labelExtraX*$.pxmid[1]/$.pxmid[0],me=$.yLabelMid+$.labelExtraY-($.cyFinal+$.pxmid[1]);Math.abs(he)>Math.abs(me)?le+="l"+me*$.pxmid[0]/$.pxmid[1]+","+me+"H"+(ee+$.labelExtraX+oe):le+="l"+$.labelExtraX+","+he+"v"+(me-he)+"h"+oe}else le+="V"+($.yLabelMid+$.labelExtraY)+"h"+oe;v.ensureSingle(te,"path","textline").call(C.stroke,Z.outsidetextfont.color).attr({"stroke-width":Math.min(2,Z.outsidetextfont.size/8),d:le,fill:"none"})})}function l(j,Z,$){var te=$[0],se=te.cx,ee=te.cy,q=te.trace,le=q.type==="funnelarea";"_hasHoverLabel"in q||(q._hasHoverLabel=!1),"_hasHoverEvent"in q||(q._hasHoverEvent=!1),j.on("mouseover",function(oe){var he=Z._fullLayout,me=Z._fullData[q.index];if(!(Z._dragging||he.hovermode===!1)){var Ce=me.hoverinfo;if(Array.isArray(Ce)&&(Ce=a.castHoverinfo({hoverinfo:[u.castOption(Ce,oe.pts)],_module:q._module},he,0)),Ce==="all"&&(Ce="label+text+value+percent+name"),me.hovertemplate||Ce!=="none"&&Ce!=="skip"&&Ce){var Ae=oe.rInscribed||0,Ue=se+oe.pxmid[0]*(1-Ae),Ve=ee+oe.pxmid[1]*(1-Ae),Pe=he.separators,be=[];if(Ce&&Ce.indexOf("label")!==-1&&be.push(oe.label),oe.text=u.castOption(me.hovertext||me.text,oe.pts),Ce&&Ce.indexOf("text")!==-1){var Le=oe.text;v.isValidTextValue(Le)&&be.push(Le)}oe.value=oe.v,oe.valueLabel=u.formatPieValue(oe.v,Pe),Ce&&Ce.indexOf("value")!==-1&&be.push(oe.valueLabel),oe.percent=oe.v/te.vTotal,oe.percentLabel=u.formatPiePercent(oe.percent,Pe),Ce&&Ce.indexOf("percent")!==-1&&be.push(oe.percentLabel);var We=me.hoverlabel,je=We.font,Fe=[];a.loneHover({trace:q,x0:Ue-Ae*te.r,x1:Ue+Ae*te.r,y:Ve,_x0:le?se+oe.TL[0]:Ue-Ae*te.r,_x1:le?se+oe.TR[0]:Ue+Ae*te.r,_y0:le?ee+oe.TL[1]:Ve-Ae*te.r,_y1:le?ee+oe.BL[1]:Ve+Ae*te.r,text:be.join("<br>"),name:me.hovertemplate||Ce.indexOf("name")!==-1?me.name:void 0,idealAlign:oe.pxmid[0]<0?"left":"right",color:u.castOption(We.bgcolor,oe.pts)||oe.color,borderColor:u.castOption(We.bordercolor,oe.pts),fontFamily:u.castOption(je.family,oe.pts),fontSize:u.castOption(je.size,oe.pts),fontColor:u.castOption(je.color,oe.pts),nameLength:u.castOption(We.namelength,oe.pts),textAlign:u.castOption(We.align,oe.pts),hovertemplate:u.castOption(me.hovertemplate,oe.pts),hovertemplateLabels:oe,eventData:[y(oe,me)]},{container:he._hoverlayer.node(),outerContainer:he._paper.node(),gd:Z,inOut_bbox:Fe}),oe.bbox=Fe[0],q._hasHoverLabel=!0}q._hasHoverEvent=!0,Z.emit("plotly_hover",{points:[y(oe,me)],event:g.event})}}),j.on("mouseout",function(oe){var he=Z._fullLayout,me=Z._fullData[q.index],Ce=g.select(this).datum();q._hasHoverEvent&&(oe.originalEvent=g.event,Z.emit("plotly_unhover",{points:[y(Ce,me)],event:g.event}),q._hasHoverEvent=!1),q._hasHoverLabel&&(a.loneUnhover(he._hoverlayer.node()),q._hasHoverLabel=!1)}),j.on("click",function(oe){var he=Z._fullLayout,me=Z._fullData[q.index];Z._dragging||he.hovermode===!1||(Z._hoverdata=[y(oe,me)],a.click(Z,g.event))})}function d(j,Z,$){var te=u.castOption(j.outsidetextfont.color,Z.pts)||u.castOption(j.textfont.color,Z.pts)||$.color,se=u.castOption(j.outsidetextfont.family,Z.pts)||u.castOption(j.textfont.family,Z.pts)||$.family,ee=u.castOption(j.outsidetextfont.size,Z.pts)||u.castOption(j.textfont.size,Z.pts)||$.size;return{color:te,family:se,size:ee}}function E(j,Z,$){var te=u.castOption(j.insidetextfont.color,Z.pts);!te&&j._input.textfont&&(te=u.castOption(j._input.textfont.color,Z.pts));var se=u.castOption(j.insidetextfont.family,Z.pts)||u.castOption(j.textfont.family,Z.pts)||$.family,ee=u.castOption(j.insidetextfont.size,Z.pts)||u.castOption(j.textfont.size,Z.pts)||$.size;return{color:te||C.contrast(Z.color),family:se,size:ee}}function S(j,Z){for(var $,te,se=0;se<j.length;se++)if($=j[se][0],te=$.trace,te.title.text){var ee=te.title.text;te._meta&&(ee=v.templateString(ee,te._meta));var q=A.tester.append("text").attr("data-notex",1).text(ee).call(A.font,te.title.font).call(r.convertToTspans,Z),le=A.bBox(q.node(),!0);$.titleBox={width:le.width,height:le.height},q.remove()}}function P(j,Z,$){var te=$.r||Z.rpx1,se=Z.rInscribed,ee=Z.startangle===Z.stopangle;if(ee)return{rCenter:1-se,scale:0,rotate:0,textPosAngle:0};var q=Z.ring,le=q===1&&Math.abs(Z.startangle-Z.stopangle)===Math.PI*2,oe=Z.halfangle,he=Z.midangle,me=$.trace.insidetextorientation,Ce=me==="horizontal",Ae=me==="tangential",Ue=me==="radial",Ve=me==="auto",Pe=[],be;if(!Ve){var Le=function(it,$e){if(x(Z,it)){var st=Math.abs(it-Z.startangle),ct=Math.abs(it-Z.stopangle),vt=st<ct?st:ct;$e==="tan"?be=w(j,te,q,vt,0):be=M(j,te,q,vt,Math.PI/2),be.textPosAngle=it,Pe.push(be)}},We;if(Ce||Ae){for(We=4;We>=-4;We-=2)Le(Math.PI*We,"tan");for(We=4;We>=-4;We-=2)Le(Math.PI*(We+1),"tan")}if(Ce||Ue){for(We=4;We>=-4;We-=2)Le(Math.PI*(We+1.5),"rad");for(We=4;We>=-4;We-=2)Le(Math.PI*(We+.5),"rad")}}if(le||Ve||Ce){var je=Math.sqrt(j.width*j.width+j.height*j.height);if(be={scale:se*te*2/je,rCenter:1-se,rotate:0},be.textPosAngle=(Z.startangle+Z.stopangle)/2,be.scale>=1)return be;Pe.push(be)}(Ve||Ue)&&(be=M(j,te,q,oe,he),be.textPosAngle=(Z.startangle+Z.stopangle)/2,Pe.push(be)),(Ve||Ae)&&(be=w(j,te,q,oe,he),be.textPosAngle=(Z.startangle+Z.stopangle)/2,Pe.push(be));for(var Fe=0,Ze=0,ut=0;ut<Pe.length;ut++){var at=Pe[ut].scale;if(Ze<at&&(Ze=at,Fe=ut),!Ve&&Ze>=1)break}return Pe[Fe]}function x(j,Z){var $=j.startangle,te=j.stopangle;return $>Z&&Z>te||$<Z&&Z<te}function M(j,Z,$,te,se){Z=Math.max(0,Z-2*f);var ee=j.width/j.height,q=m(ee,te,Z,$);return{scale:q*2/j.height,rCenter:o(ee,q/Z),rotate:L(se)}}function w(j,Z,$,te,se){Z=Math.max(0,Z-2*f);var ee=j.height/j.width,q=m(ee,te,Z,$);return{scale:q*2/j.width,rCenter:o(ee,q/Z),rotate:L(se+Math.PI/2)}}function o(j,Z){return Math.cos(Z)-j*Z}function L(j){return(180/Math.PI*j+720)%180-90}function m(j,Z,$,te){var se=j+1/(2*Math.tan(Z));return $*Math.min(1/(Math.sqrt(se*se+.5)+se),te/(Math.sqrt(j*j+te/2)+j))}function F(j,Z){return j.v===Z.vTotal&&!Z.trace.hole?1:Math.min(1/(1+1/Math.sin(j.halfangle)),j.ring/2)}function I(j,Z){var $=Z.pxmid[0],te=Z.pxmid[1],se=j.width/2,ee=j.height/2;return $<0&&(se*=-1),te<0&&(ee*=-1),{scale:1,rCenter:1,rotate:0,x:se+Math.abs(ee)*(se>0?1:-1)/2,y:ee/(1+$*$/(te*te)),outside:!0}}function U(j){var Z=Math.sqrt(j.titleBox.width*j.titleBox.width+j.titleBox.height*j.titleBox.height);return{x:j.cx,y:j.cy,scale:j.trace.hole*j.r*2/Z,tx:0,ty:-j.titleBox.height/2+j.trace.title.font.size}}function z(j,Z){var $=1,te=1,se,ee=j.trace,q={x:j.cx,y:j.cy},le={tx:0,ty:0};le.ty+=ee.title.font.size,se=O(ee),ee.title.position.indexOf("top")!==-1?(q.y-=(1+se)*j.r,le.ty-=j.titleBox.height):ee.title.position.indexOf("bottom")!==-1&&(q.y+=(1+se)*j.r);var oe=N(j.r,j.trace.aspectratio),he=Z.w*(ee.domain.x[1]-ee.domain.x[0])/2;return ee.title.position.indexOf("left")!==-1?(he=he+oe,q.x-=(1+se)*oe,le.tx+=j.titleBox.width/2):ee.title.position.indexOf("center")!==-1?he*=2:ee.title.position.indexOf("right")!==-1&&(he=he+oe,q.x+=(1+se)*oe,le.tx-=j.titleBox.width/2),$=he/j.titleBox.width,te=B(j,Z)/j.titleBox.height,{x:q.x,y:q.y,scale:Math.min($,te),tx:le.tx,ty:le.ty}}function N(j,Z){return j/(Z===void 0?1:Z)}function B(j,Z){var $=j.trace,te=Z.h*($.domain.y[1]-$.domain.y[0]);return Math.min(j.titleBox.height,te/2)}function O(j){var Z=j.pull;if(!Z)return 0;var $;if(Array.isArray(Z))for(Z=0,$=0;$<j.pull.length;$++)j.pull[$]>Z&&(Z=j.pull[$]);return Z}function H(j,Z){var $,te,se,ee,q,le,oe,he,me,Ce,Ae,Ue,Ve;function Pe(je,Fe){return je.pxmid[1]-Fe.pxmid[1]}function be(je,Fe){return Fe.pxmid[1]-je.pxmid[1]}function Le(je,Fe){Fe||(Fe={});var Ze=Fe.labelExtraY+(te?Fe.yLabelMax:Fe.yLabelMin),ut=te?je.yLabelMin:je.yLabelMax,at=te?je.yLabelMax:je.yLabelMin,it=je.cyFinal+q(je.px0[1],je.px1[1]),$e=Ze-ut,st,ct,vt,St,Mt,Bt;if($e*oe>0&&(je.labelExtraY=$e),!!Array.isArray(Z.pull))for(ct=0;ct<Ce.length;ct++)vt=Ce[ct],!(vt===je||(u.castOption(Z.pull,je.pts)||0)>=(u.castOption(Z.pull,vt.pts)||0))&&((je.pxmid[1]-vt.pxmid[1])*oe>0?(St=vt.cyFinal+q(vt.px0[1],vt.px1[1]),$e=St-ut-je.labelExtraY,$e*oe>0&&(je.labelExtraY+=$e)):(at+je.labelExtraY-it)*oe>0&&(st=3*le*Math.abs(ct-Ce.indexOf(je)),Mt=vt.cxFinal+ee(vt.px0[0],vt.px1[0]),Bt=Mt+st-(je.cxFinal+je.pxmid[0])-je.labelExtraX,Bt*le>0&&(je.labelExtraX+=Bt)))}for(te=0;te<2;te++)for(se=te?Pe:be,q=te?Math.max:Math.min,oe=te?1:-1,$=0;$<2;$++){for(ee=$?Math.max:Math.min,le=$?1:-1,he=j[te][$],he.sort(se),me=j[1-te][$],Ce=me.concat(he),Ue=[],Ae=0;Ae<he.length;Ae++)he[Ae].yLabelMid!==void 0&&Ue.push(he[Ae]);for(Ve=!1,Ae=0;te&&Ae<me.length;Ae++)if(me[Ae].yLabelMid!==void 0){Ve=me[Ae];break}for(Ae=0;Ae<Ue.length;Ae++){var We=Ae&&Ue[Ae-1];Ve&&!Ae&&(We=Ve),Le(Ue[Ae],We)}}}function Y(j,Z){for(var $=[],te=0;te<j.length;te++){var se=j[te][0],ee=se.trace,q=ee.domain,le=Z.w*(q.x[1]-q.x[0]),oe=Z.h*(q.y[1]-q.y[0]);ee.title.text&&ee.title.position!=="middle center"&&(oe-=B(se,Z));var he=le/2,me=oe/2;ee.type==="funnelarea"&&!ee.scalegroup&&(me/=ee.aspectratio),se.r=Math.min(he,me)/(1+O(ee)),se.cx=Z.l+Z.w*(ee.domain.x[1]+ee.domain.x[0])/2,se.cy=Z.t+Z.h*(1-ee.domain.y[0])-oe/2,ee.title.text&&ee.title.position.indexOf("bottom")!==-1&&(se.cy-=B(se,Z)),ee.scalegroup&&$.indexOf(ee.scalegroup)===-1&&$.push(ee.scalegroup)}J(j,$)}function J(j,Z){for(var $,te,se,ee=0;ee<Z.length;ee++){var q=1/0,le=Z[ee];for(te=0;te<j.length;te++)if($=j[te][0],se=$.trace,se.scalegroup===le){var oe;if(se.type==="pie")oe=$.r*$.r;else if(se.type==="funnelarea"){var he,me;se.aspectratio>1?(he=$.r,me=he/se.aspectratio):(me=$.r,he=me*se.aspectratio),he*=(1+se.baseratio)/2,oe=he*me}q=Math.min(q,oe/$.vTotal)}for(te=0;te<j.length;te++)if($=j[te][0],se=$.trace,se.scalegroup===le){var Ce=q*$.vTotal;se.type==="funnelarea"&&(Ce/=(1+se.baseratio)/2,Ce/=se.aspectratio),$.r=Math.sqrt(Ce)}}}function re(j){var Z=j[0],$=Z.r,te=Z.trace,se=u.getRotationAngle(te.rotation),ee=2*Math.PI/Z.vTotal,q="px0",le="px1",oe,he,me;if(te.direction==="counterclockwise"){for(oe=0;oe<j.length&&j[oe].hidden;oe++);if(oe===j.length)return;se+=ee*j[oe].v,ee*=-1,q="px1",le="px0"}for(me=ie($,se),oe=0;oe<j.length;oe++)he=j[oe],!he.hidden&&(he[q]=me,he.startangle=se,se+=ee*he.v/2,he.pxmid=ie($,se),he.midangle=se,se+=ee*he.v/2,me=ie($,se),he.stopangle=se,he[le]=me,he.largeArc=he.v>Z.vTotal/2?1:0,he.halfangle=Math.PI*Math.min(he.v/Z.vTotal,.5),he.ring=1-te.hole,he.rInscribed=F(he,Z))}function ie(j,Z){return[j*Math.sin(Z),-j*Math.cos(Z)]}function ce(j,Z,$){var te=j._fullLayout,se=$.trace,ee=se.texttemplate,q=se.textinfo;if(!ee&&q&&q!=="none"){var le=q.split("+"),oe=function(Fe){return le.indexOf(Fe)!==-1},he=oe("label"),me=oe("text"),Ce=oe("value"),Ae=oe("percent"),Ue=te.separators,Ve;if(Ve=he?[Z.label]:[],me){var Pe=u.getFirstFilled(se.text,Z.pts);c(Pe)&&Ve.push(Pe)}Ce&&Ve.push(u.formatPieValue(Z.v,Ue)),Ae&&Ve.push(u.formatPiePercent(Z.v/$.vTotal,Ue)),Z.text=Ve.join("<br>")}function be(Fe){return{label:Fe.label,value:Fe.v,valueLabel:u.formatPieValue(Fe.v,te.separators),percent:Fe.v/$.vTotal,percentLabel:u.formatPiePercent(Fe.v/$.vTotal,te.separators),color:Fe.color,text:Fe.text,customdata:v.castOption(se,Fe.i,"customdata")}}if(ee){var Le=v.castOption(se,Z.i,"texttemplate");if(!Le)Z.text="";else{var We=be(Z),je=u.getFirstFilled(se.text,Z.pts);(c(je)||je==="")&&(We.text=je),Z.text=v.texttemplateString(Le,We,j._fullLayout._d3locale,We,se._meta||{})}}}function Q(j,Z){var $=j.rotate*Math.PI/180,te=Math.cos($),se=Math.sin($),ee=(Z.left+Z.right)/2,q=(Z.top+Z.bottom)/2;j.textX=ee*te-q*se,j.textY=ee*se+q*te,j.noCenter=!0}G.exports={plot:T,formatSliceLabel:ce,transformInsideText:P,determineInsideTextFont:E,positionTitleOutside:z,prerenderTitles:S,layoutAreas:Y,attachFxHandlers:l,computeTransform:Q}},68357:function(G,V,e){var g=e(39898),_=e(63463),a=e(72597).resizeText;G.exports=function(A){var v=A._fullLayout._pielayer.selectAll(".trace");a(A,v,"pie"),v.each(function(p){var t=p[0],r=t.trace,s=g.select(this);s.style({opacity:r.opacity}),s.selectAll("path.surface").each(function(n){g.select(this).call(_,n,r,A)})})}},63463:function(G,V,e){var g=e(7901),_=e(53581).castOption,a=e(22209);G.exports=function(A,v,p,t){var r=p.marker.line,s=_(r.color,v.pts)||g.defaultLine,n=_(r.width,v.pts)||0;A.call(a,v,p,t).style("stroke-width",n).call(g.stroke,s)}},10959:function(G,V,e){var g=e(82196);G.exports={x:g.x,y:g.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:g.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},42743:function(G,V,e){var g=e(9330).gl_pointcloud2d,_=e(78614),a=e(71739).findExtremes,C=e(34603);function A(t,r){this.scene=t,this.uid=r,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=g(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var v=A.prototype;v.handlePick=function(t){var r=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[r*2],this.pickXYData[r*2+1]]:[this.pickXData[r],this.pickYData[r]],textLabel:Array.isArray(this.textLabels)?this.textLabels[r]:this.textLabels,color:this.color,name:this.name,pointIndex:r,hoverinfo:this.hoverinfo}},v.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=C(t,{})},v.updateFast=function(t){var r=this.xData=this.pickXData=t.x,s=this.yData=this.pickYData=t.y,n=this.pickXYData=t.xy,i=t.xbounds&&t.ybounds,f=t.indices,u,y,c,T=this.bounds,h,l,d;if(n){if(c=n,u=n.length>>>1,i)T[0]=t.xbounds[0],T[2]=t.xbounds[1],T[1]=t.ybounds[0],T[3]=t.ybounds[1];else for(d=0;d<u;d++)h=c[d*2],l=c[d*2+1],h<T[0]&&(T[0]=h),h>T[2]&&(T[2]=h),l<T[1]&&(T[1]=l),l>T[3]&&(T[3]=l);if(f)y=f;else for(y=new Int32Array(u),d=0;d<u;d++)y[d]=d}else for(u=r.length,c=new Float32Array(2*u),y=new Int32Array(u),d=0;d<u;d++)h=r[d],l=s[d],y[d]=d,c[d*2]=h,c[d*2+1]=l,h<T[0]&&(T[0]=h),h>T[2]&&(T[2]=h),l<T[1]&&(T[1]=l),l>T[3]&&(T[3]=l);this.idToIndex=y,this.pointcloudOptions.idToIndex=y,this.pointcloudOptions.positions=c;var E=_(t.marker.color),S=_(t.marker.border.color),P=t.opacity*t.marker.opacity;E[3]*=P,this.pointcloudOptions.color=E;var x=t.marker.blend;if(x===null){var M=100;x=r.length<M||s.length<M}this.pointcloudOptions.blend=x,S[3]*=P,this.pointcloudOptions.borderColor=S;var w=t.marker.sizemin,o=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=w,this.pointcloudOptions.sizeMax=o,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var L=this.scene.xaxis,m=this.scene.yaxis,F=o/2||.5;t._extremes[L._id]=a(L,[T[0],T[2]],{ppad:F}),t._extremes[m._id]=a(m,[T[1],T[3]],{ppad:F})},v.dispose=function(){this.pointcloud.dispose()};function p(t,r){var s=new A(t,r.uid);return s.update(r),s}G.exports=p},33876:function(G,V,e){var g=e(71828),_=e(10959);G.exports=function(C,A,v){function p(t,r){return g.coerce(C,A,_,t,r)}p("x"),p("y"),p("xbounds"),p("ybounds"),C.xy&&C.xy instanceof Float32Array&&(A.xy=C.xy),C.indices&&C.indices instanceof Int32Array&&(A.indices=C.indices),p("text"),p("marker.color",v),p("marker.opacity"),p("marker.blend"),p("marker.sizemin"),p("marker.sizemax"),p("marker.border.color",v),p("marker.border.arearatio"),A._length=null}},20593:function(G,V,e){G.exports={attributes:e(10959),supplyDefaults:e(33876),calc:e(36563),plot:e(42743),moduleType:"trace",name:"pointcloud",basePlotModule:e(4796),categories:["gl","gl2d","showLegend"],meta:{}}},39953:function(G,V,e){var g=e(41940),_=e(9012),a=e(22399),C=e(77914),A=e(27670).Y,v=e(5386).fF,p=e(50693),t=e(44467).templatedArray,r=e(12663).descriptionOnlyNumbers,s=e(1426).extendFlat,n=e(30962).overrideAll,i=G.exports=n({hoverinfo:s({},_.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:C.hoverlabel,domain:A({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:r("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:g({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:C.hoverlabel,hovertemplate:v({},{keys:["value","label"]})},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:C.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:t("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:s(p().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");i.transforms=void 0},75536:function(G,V,e){var g=e(30962).overrideAll,_=e(27659).a0,a=e(60436),C=e(528),A=e(6964),v=e(28569),p=e(47322).prepSelect,t=e(71828),r=e(73972),s="sankey";V.name=s,V.baseLayoutAttrOverrides=g({hoverlabel:C.hoverlabel},"plot","nested"),V.plot=function(i){var f=_(i.calcdata,s)[0];a(i,f),V.updateFx(i)},V.clean=function(i,f,u,y){var c=y._has&&y._has(s),T=f._has&&f._has(s);c&&!T&&(y._paperdiv.selectAll(".sankey").remove(),y._paperdiv.selectAll(".bgsankey").remove())},V.updateFx=function(i){for(var f=0;f<i._fullData.length;f++)n(i,f)};function n(i,f){var u=i._fullData[f],y=i._fullLayout,c=y.dragmode,T=y.dragmode==="pan"?"move":"crosshair",h=u._bgRect;if(h&&!(c==="pan"||c==="zoom")){A(h,T);var l={_id:"x",c2p:t.identity,_offset:u._sankey.translateX,_length:u._sankey.width},d={_id:"y",c2p:t.identity,_offset:u._sankey.translateY,_length:u._sankey.height},E={gd:i,element:h.node(),plotinfo:{id:f,xaxis:l,yaxis:d,fillRangeItems:t.noop},subplot:f,xaxes:[l],yaxes:[d],doneFnCompleted:function(S){var P=i._fullData[f],x,M=P.node.groups.slice(),w=[];function o(I){for(var U=P._sankey.graph.nodes,z=0;z<U.length;z++)if(U[z].pointNumber===I)return U[z]}for(var L=0;L<S.length;L++){var m=o(S[L].pointNumber);if(m)if(m.group){for(var F=0;F<m.childrenNodes.length;F++)w.push(m.childrenNodes[F].pointNumber);M[m.pointNumber-P.node._count]=!1}else w.push(m.pointNumber)}x=M.filter(Boolean).concat([w]),r.call("_guiRestyle",i,{"node.groups":[x]},f)}};E.prepFn=function(S,P,x){p(S,P,x,E,c)},v.init(E)}}},92930:function(G,V,e){var g=e(68664),_=e(71828),a=e(28984).wrap,C=_.isArrayOrTypedArray,A=_.isIndex,v=e(21081);function p(r){var s=r.node,n=r.link,i=[],f=C(n.color),u=C(n.customdata),y={},c={},T=n.colorscales.length,h;for(h=0;h<T;h++){var l=n.colorscales[h],d=v.extractScale(l,{cLetter:"c"}),E=v.makeColorScaleFunc(d);c[l.label]=E}var S=0;for(h=0;h<n.value.length;h++)n.source[h]>S&&(S=n.source[h]),n.target[h]>S&&(S=n.target[h]);var P=S+1;r.node._count=P;var x,M=r.node.groups,w={};for(h=0;h<M.length;h++){var o=M[h];for(x=0;x<o.length;x++){var L=o[x],m=P+h;w.hasOwnProperty(L)?_.warn("Node "+L+" is already part of a group."):w[L]=m}}var F={source:[],target:[]};for(h=0;h<n.value.length;h++){var I=n.value[h],U=n.source[h],z=n.target[h];if(I>0&&A(U,P)&&A(z,P)&&!(w.hasOwnProperty(U)&&w.hasOwnProperty(z)&&w[U]===w[z])){w.hasOwnProperty(z)&&(z=w[z]),w.hasOwnProperty(U)&&(U=w[U]),U=+U,z=+z,y[U]=y[z]=!0;var N="";n.label&&n.label[h]&&(N=n.label[h]);var B=null;N&&c.hasOwnProperty(N)&&(B=c[N]),i.push({pointNumber:h,label:N,color:f?n.color[h]:n.color,customdata:u?n.customdata[h]:n.customdata,concentrationscale:B,source:U,target:z,value:+I}),F.source.push(U),F.target.push(z)}}var O=P+M.length,H=C(s.color),Y=C(s.customdata),J=[];for(h=0;h<O;h++)if(y[h]){var re=s.label[h];J.push({group:h>P-1,childrenNodes:[],pointNumber:h,label:re,color:H?s.color[h]:s.color,customdata:Y?s.customdata[h]:s.customdata})}var ie=!1;return t(O,F.source,F.target)&&(ie=!0),{circular:ie,links:i,nodes:J,groups:M,groupLookup:w}}function t(r,s,n){for(var i=_.init2dArray(r,0),f=0;f<Math.min(s.length,n.length);f++)if(_.isIndex(s[f],r)&&_.isIndex(n[f],r)){if(s[f]===n[f])return!0;i[s[f]].push(n[f])}var u=g(i);return u.components.some(function(y){return y.length>1})}G.exports=function(s,n){var i=p(n);return a({circular:i.circular,_nodes:i.nodes,_links:i.links,_groups:i.groups,_groupLookup:i.groupLookup})}},85247:function(G){G.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},26857:function(G,V,e){var g=e(71828),_=e(39953),a=e(7901),C=e(84267),A=e(27670).c,v=e(38048),p=e(44467),t=e(85501);G.exports=function(n,i,f,u){function y(o,L){return g.coerce(n,i,_,o,L)}var c=g.extendDeep(u.hoverlabel,n.hoverlabel),T=n.node,h=p.newContainer(i,"node");function l(o,L){return g.coerce(T,h,_.node,o,L)}l("label"),l("groups"),l("x"),l("y"),l("pad"),l("thickness"),l("line.color"),l("line.width"),l("hoverinfo",n.hoverinfo),v(T,h,l,c),l("hovertemplate");var d=u.colorway,E=function(o){return d[o%d.length]};l("color",h.label.map(function(o,L){return a.addOpacity(E(L),.8)})),l("customdata");var S=n.link||{},P=p.newContainer(i,"link");function x(o,L){return g.coerce(S,P,_.link,o,L)}x("label"),x("arrowlen"),x("source"),x("target"),x("value"),x("line.color"),x("line.width"),x("hoverinfo",n.hoverinfo),v(S,P,x,c),x("hovertemplate");var M=C(u.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";x("color",g.repeat(M,P.value.length)),x("customdata"),t(S,P,{name:"colorscales",handleItemDefaults:r}),A(i,u,y),y("orientation"),y("valueformat"),y("valuesuffix");var w;h.x.length&&h.y.length&&(w="freeform"),y("arrangement",w),g.coerceFont(y,"textfont",g.extendFlat({},u.font)),i._length=null};function r(s,n){function i(f,u){return g.coerce(s,n,_.link.colorscales,f,u)}i("label"),i("cmin"),i("cmax"),i("colorscale")}},29396:function(G,V,e){G.exports={attributes:e(39953),supplyDefaults:e(26857),calc:e(92930),plot:e(60436),moduleType:"trace",name:"sankey",basePlotModule:e(75536),selectPoints:e(84564),categories:["noOpacity"],meta:{}}},60436:function(G,V,e){var g=e(39898),_=e(71828),a=_.numberFormat,C=e(3393),A=e(30211),v=e(7901),p=e(85247).cn,t=_._;function r(d){return d!==""}function s(d,E){return d.filter(function(S){return S.key===E.traceId})}function n(d,E){g.select(d).select("path").style("fill-opacity",E),g.select(d).select("rect").style("fill-opacity",E)}function i(d){g.select(d).select("text.name").style("fill","black")}function f(d){return function(E){return d.node.sourceLinks.indexOf(E.link)!==-1||d.node.targetLinks.indexOf(E.link)!==-1}}function u(d){return function(E){return E.node.sourceLinks.indexOf(d.link)!==-1||E.node.targetLinks.indexOf(d.link)!==-1}}function y(d,E,S){E&&S&&s(S,E).selectAll("."+p.sankeyLink).filter(f(E)).call(T.bind(0,E,S,!1))}function c(d,E,S){E&&S&&s(S,E).selectAll("."+p.sankeyLink).filter(f(E)).call(h.bind(0,E,S,!1))}function T(d,E,S,P){var x=P.datum().link.label;P.style("fill-opacity",function(M){if(!M.link.concentrationscale)return .4}),x&&s(E,d).selectAll("."+p.sankeyLink).filter(function(M){return M.link.label===x}).style("fill-opacity",function(M){if(!M.link.concentrationscale)return .4}),S&&s(E,d).selectAll("."+p.sankeyNode).filter(u(d)).call(y)}function h(d,E,S,P){var x=P.datum().link.label;P.style("fill-opacity",function(M){return M.tinyColorAlpha}),x&&s(E,d).selectAll("."+p.sankeyLink).filter(function(M){return M.link.label===x}).style("fill-opacity",function(M){return M.tinyColorAlpha}),S&&s(E,d).selectAll(p.sankeyNode).filter(u(d)).call(c)}function l(d,E){var S=d.hoverlabel||{},P=_.nestedProperty(S,E).get();return Array.isArray(P)?!1:P}G.exports=function(E,S){for(var P=E._fullLayout,x=P._paper,M=P._size,w=0;w<E._fullData.length;w++)if(E._fullData[w].visible&&E._fullData[w].type===p.sankey&&!E._fullData[w]._viewInitial){var o=E._fullData[w].node;E._fullData[w]._viewInitial={node:{groups:o.groups.slice(),x:o.x.slice(),y:o.y.slice()}}}var L=function(ie,ce){var Q=ce.link;Q.originalEvent=g.event,E._hoverdata=[Q],A.click(E,{target:!0})},m=function(ie,ce,Q){E._fullLayout.hovermode!==!1&&(g.select(ie).call(T.bind(0,ce,Q,!0)),ce.link.trace.link.hoverinfo!=="skip"&&(ce.link.fullData=ce.link.trace,E.emit("plotly_hover",{event:g.event,points:[ce.link]})))},F=t(E,"source:")+" ",I=t(E,"target:")+" ",U=t(E,"concentration:")+" ",z=t(E,"incoming flow count:")+" ",N=t(E,"outgoing flow count:")+" ",B=function(ie,ce){if(E._fullLayout.hovermode===!1)return;var Q=ce.link.trace.link;if(Q.hoverinfo==="none"||Q.hoverinfo==="skip")return;var j=[];function Z(oe){var he,me;oe.circular?(he=(oe.circularPathData.leftInnerExtent+oe.circularPathData.rightInnerExtent)/2,me=oe.circularPathData.verticalFullExtent):(he=(oe.source.x1+oe.target.x0)/2,me=(oe.y0+oe.y1)/2);var Ce=[he,me];return oe.trace.orientation==="v"&&Ce.reverse(),Ce[0]+=ce.parent.translateX,Ce[1]+=ce.parent.translateY,Ce}for(var $=0,te=0;te<ce.flow.links.length;te++){var se=ce.flow.links[te];if(!(E._fullLayout.hovermode==="closest"&&ce.link.pointNumber!==se.pointNumber)){ce.link.pointNumber===se.pointNumber&&($=te),se.fullData=se.trace,Q=ce.link.trace.link;var ee=Z(se),q={valueLabel:a(ce.valueFormat)(se.value)+ce.valueSuffix};j.push({x:ee[0],y:ee[1],name:q.valueLabel,text:[se.label||"",F+se.source.label,I+se.target.label,se.concentrationscale?U+a("%0.2f")(se.flow.labelConcentration):""].filter(r).join("<br>"),color:l(Q,"bgcolor")||v.addOpacity(se.color,1),borderColor:l(Q,"bordercolor"),fontFamily:l(Q,"font.family"),fontSize:l(Q,"font.size"),fontColor:l(Q,"font.color"),nameLength:l(Q,"namelength"),textAlign:l(Q,"align"),idealAlign:g.event.x<ee[0]?"right":"left",hovertemplate:Q.hovertemplate,hovertemplateLabels:q,eventData:[se]})}}var le=A.loneHover(j,{container:P._hoverlayer.node(),outerContainer:P._paper.node(),gd:E,anchorIndex:$});le.each(function(){var oe=this;ce.link.concentrationscale||n(oe,.65),i(oe)})},O=function(ie,ce,Q){E._fullLayout.hovermode!==!1&&(g.select(ie).call(h.bind(0,ce,Q,!0)),ce.link.trace.link.hoverinfo!=="skip"&&(ce.link.fullData=ce.link.trace,E.emit("plotly_unhover",{event:g.event,points:[ce.link]})),A.loneUnhover(P._hoverlayer.node()))},H=function(ie,ce,Q){var j=ce.node;j.originalEvent=g.event,E._hoverdata=[j],g.select(ie).call(c,ce,Q),A.click(E,{target:!0})},Y=function(ie,ce,Q){E._fullLayout.hovermode!==!1&&(g.select(ie).call(y,ce,Q),ce.node.trace.node.hoverinfo!=="skip"&&(ce.node.fullData=ce.node.trace,E.emit("plotly_hover",{event:g.event,points:[ce.node]})))},J=function(ie,ce){if(E._fullLayout.hovermode!==!1){var Q=ce.node.trace.node;if(!(Q.hoverinfo==="none"||Q.hoverinfo==="skip")){var j=g.select(ie).select("."+p.nodeRect),Z=E._fullLayout._paperdiv.node().getBoundingClientRect(),$=j.node().getBoundingClientRect(),te=$.left-2-Z.left,se=$.right+2-Z.left,ee=$.top+$.height/4-Z.top,q={valueLabel:a(ce.valueFormat)(ce.node.value)+ce.valueSuffix};ce.node.fullData=ce.node.trace,E._fullLayout._calcInverseTransform(E);var le=E._fullLayout._invScaleX,oe=E._fullLayout._invScaleY,he=A.loneHover({x0:le*te,x1:le*se,y:oe*ee,name:a(ce.valueFormat)(ce.node.value)+ce.valueSuffix,text:[ce.node.label,z+ce.node.targetLinks.length,N+ce.node.sourceLinks.length].filter(r).join("<br>"),color:l(Q,"bgcolor")||ce.tinyColorHue,borderColor:l(Q,"bordercolor"),fontFamily:l(Q,"font.family"),fontSize:l(Q,"font.size"),fontColor:l(Q,"font.color"),nameLength:l(Q,"namelength"),textAlign:l(Q,"align"),idealAlign:"left",hovertemplate:Q.hovertemplate,hovertemplateLabels:q,eventData:[ce.node]},{container:P._hoverlayer.node(),outerContainer:P._paper.node(),gd:E});n(he,.85),i(he)}}},re=function(ie,ce,Q){E._fullLayout.hovermode!==!1&&(g.select(ie).call(c,ce,Q),ce.node.trace.node.hoverinfo!=="skip"&&(ce.node.fullData=ce.node.trace,E.emit("plotly_unhover",{event:g.event,points:[ce.node]})),A.loneUnhover(P._hoverlayer.node()))};C(E,x,S,{width:M.w,height:M.h,margin:{t:M.t,r:M.r,b:M.b,l:M.l}},{linkEvents:{hover:m,follow:B,unhover:O,select:L},nodeEvents:{hover:Y,follow:J,unhover:re,select:H}})}},3393:function(G,V,e){var g=e(49887),_=e(81684).k4,a=e(39898),C=e(30838),A=e(86781),v=e(85247),p=e(84267),t=e(7901),r=e(91424),s=e(71828),n=s.strTranslate,i=s.strRotate,f=e(28984),u=f.keyFun,y=f.repeat,c=f.unwrap,T=e(63893),h=e(73972),l=e(18783),d=l.CAP_SHIFT,E=l.LINE_SPACING,S=3;function P(Z,$,te){var se=c($),ee=se.trace,q=ee.domain,le=ee.orientation==="h",oe=ee.node.pad,he=ee.node.thickness,me=Z.width*(q.x[1]-q.x[0]),Ce=Z.height*(q.y[1]-q.y[0]),Ae=se._nodes,Ue=se._links,Ve=se.circular,Pe;Ve?Pe=A.sankeyCircular().circularLinkGap(0):Pe=C.sankey(),Pe.iterations(v.sankeyIterations).size(le?[me,Ce]:[Ce,me]).nodeWidth(he).nodePadding(oe).nodeId(function(Mt){return Mt.pointNumber}).nodes(Ae).links(Ue);var be=Pe();Pe.nodePadding()<oe&&s.warn("node.pad was reduced to ",Pe.nodePadding()," to fit within the figure.");var Le,We,je;for(var Fe in se._groupLookup){var Ze=parseInt(se._groupLookup[Fe]),ut;for(Le=0;Le<be.nodes.length;Le++)if(be.nodes[Le].pointNumber===Ze){ut=be.nodes[Le];break}if(ut){var at={pointNumber:parseInt(Fe),x0:ut.x0,x1:ut.x1,y0:ut.y0,y1:ut.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};be.nodes.unshift(at),ut.childrenNodes.unshift(at)}}function it(){for(Le=0;Le<be.nodes.length;Le++){var Mt=be.nodes[Le],Bt={},Qe,ke;for(We=0;We<Mt.targetLinks.length;We++)ke=Mt.targetLinks[We],Qe=ke.source.pointNumber+":"+ke.target.pointNumber,Bt.hasOwnProperty(Qe)||(Bt[Qe]=[]),Bt[Qe].push(ke);var ze=Object.keys(Bt);for(We=0;We<ze.length;We++){Qe=ze[We];var Be=Bt[Qe],Re=0,we={};for(je=0;je<Be.length;je++)ke=Be[je],we[ke.label]||(we[ke.label]=0),we[ke.label]+=ke.value,Re+=ke.value;for(je=0;je<Be.length;je++)ke=Be[je],ke.flow={value:Re,labelConcentration:we[ke.label]/Re,concentration:ke.value/Re,links:Be},ke.concentrationscale&&(ke.color=p(ke.concentrationscale(ke.flow.labelConcentration)))}var ye=0;for(We=0;We<Mt.sourceLinks.length;We++)ye+=Mt.sourceLinks[We].value;for(We=0;We<Mt.sourceLinks.length;We++)ke=Mt.sourceLinks[We],ke.concentrationOut=ke.value/ye;var Se=0;for(We=0;We<Mt.targetLinks.length;We++)Se+=Mt.targetLinks[We].value;for(We=0;We<Mt.targetLinks.length;We++)ke=Mt.targetLinks[We],ke.concenrationIn=ke.value/Se}}it();function $e(Mt){Mt.forEach(function(Bt){var Qe,ke,ze=0,Be=Bt.length,Re;for(Bt.sort(function(we,ye){return we.y0-ye.y0}),Re=0;Re<Be;++Re)Qe=Bt[Re],Qe.y0>=ze||(ke=ze-Qe.y0,ke>1e-6&&(Qe.y0+=ke,Qe.y1+=ke)),ze=Qe.y1+oe})}function st(Mt){var Bt=Mt.map(function(ye,Se){return{x0:ye.x0,index:Se}}).sort(function(ye,Se){return ye.x0-Se.x0}),Qe=[],ke=-1,ze,Be=-1/0,Re;for(Le=0;Le<Bt.length;Le++){var we=Mt[Bt[Le].index];we.x0>Be+he&&(ke+=1,ze=we.x0),Be=we.x0,Qe[ke]||(Qe[ke]=[]),Qe[ke].push(we),Re=ze-we.x0,we.x0+=Re,we.x1+=Re}return Qe}if(ee.node.x.length&&ee.node.y.length){for(Le=0;Le<Math.min(ee.node.x.length,ee.node.y.length,be.nodes.length);Le++)if(ee.node.x[Le]&&ee.node.y[Le]){var ct=[ee.node.x[Le]*me,ee.node.y[Le]*Ce];be.nodes[Le].x0=ct[0]-he/2,be.nodes[Le].x1=ct[0]+he/2;var vt=be.nodes[Le].y1-be.nodes[Le].y0;be.nodes[Le].y0=ct[1]-vt/2,be.nodes[Le].y1=ct[1]+vt/2}if(ee.arrangement==="snap"){Ae=be.nodes;var St=st(Ae);$e(St)}Pe.update(be)}return{circular:Ve,key:te,trace:ee,guid:s.randstr(),horizontal:le,width:me,height:Ce,nodePad:ee.node.pad,nodeLineColor:ee.node.line.color,nodeLineWidth:ee.node.line.width,linkLineColor:ee.link.line.color,linkLineWidth:ee.link.line.width,linkArrowLength:ee.link.arrowlen,valueFormat:ee.valueformat,valueSuffix:ee.valuesuffix,textFont:ee.textfont,translateX:q.x[0]*Z.width+Z.margin.l,translateY:Z.height-q.y[1]*Z.height+Z.margin.t,dragParallel:le?Ce:me,dragPerpendicular:le?me:Ce,arrangement:ee.arrangement,sankey:Pe,graph:be,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function x(Z,$,te){var se=p($.color),ee=$.source.label+"|"+$.target.label,q=ee+"__"+te;return $.trace=Z.trace,$.curveNumber=Z.trace.index,{circular:Z.circular,key:q,traceId:Z.key,pointNumber:$.pointNumber,link:$,tinyColorHue:t.tinyRGB(se),tinyColorAlpha:se.getAlpha(),linkPath:w,linkLineColor:Z.linkLineColor,linkLineWidth:Z.linkLineWidth,linkArrowLength:Z.linkArrowLength,valueFormat:Z.valueFormat,valueSuffix:Z.valueSuffix,sankey:Z.sankey,parent:Z,interactionState:Z.interactionState,flow:$.flow}}function M(Z,$){var te="",se=Z.width/2,ee=Z.circularPathData;return Z.circularLinkType==="top"?te="M "+(ee.targetX-$)+" "+(ee.targetY+se)+" L"+(ee.rightInnerExtent-$)+" "+(ee.targetY+se)+"A"+(ee.rightLargeArcRadius+se)+" "+(ee.rightSmallArcRadius+se)+" 0 0 1 "+(ee.rightFullExtent-se-$)+" "+(ee.targetY-ee.rightSmallArcRadius)+"L"+(ee.rightFullExtent-se-$)+" "+ee.verticalRightInnerExtent+"A"+(ee.rightLargeArcRadius+se)+" "+(ee.rightLargeArcRadius+se)+" 0 0 1 "+(ee.rightInnerExtent-$)+" "+(ee.verticalFullExtent-se)+"L"+ee.leftInnerExtent+" "+(ee.verticalFullExtent-se)+"A"+(ee.leftLargeArcRadius+se)+" "+(ee.leftLargeArcRadius+se)+" 0 0 1 "+(ee.leftFullExtent+se)+" "+ee.verticalLeftInnerExtent+"L"+(ee.leftFullExtent+se)+" "+(ee.sourceY-ee.leftSmallArcRadius)+"A"+(ee.leftLargeArcRadius+se)+" "+(ee.leftSmallArcRadius+se)+" 0 0 1 "+ee.leftInnerExtent+" "+(ee.sourceY+se)+"L"+ee.sourceX+" "+(ee.sourceY+se)+"L"+ee.sourceX+" "+(ee.sourceY-se)+"L"+ee.leftInnerExtent+" "+(ee.sourceY-se)+"A"+(ee.leftLargeArcRadius-se)+" "+(ee.leftSmallArcRadius-se)+" 0 0 0 "+(ee.leftFullExtent-se)+" "+(ee.sourceY-ee.leftSmallArcRadius)+"L"+(ee.leftFullExtent-se)+" "+ee.verticalLeftInnerExtent+"A"+(ee.leftLargeArcRadius-se)+" "+(ee.leftLargeArcRadius-se)+" 0 0 0 "+ee.leftInnerExtent+" "+(ee.verticalFullExtent+se)+"L"+(ee.rightInnerExtent-$)+" "+(ee.verticalFullExtent+se)+"A"+(ee.rightLargeArcRadius-se)+" "+(ee.rightLargeArcRadius-se)+" 0 0 0 "+(ee.rightFullExtent+se-$)+" "+ee.verticalRightInnerExtent+"L"+(ee.rightFullExtent+se-$)+" "+(ee.targetY-ee.rightSmallArcRadius)+"A"+(ee.rightLargeArcRadius-se)+" "+(ee.rightSmallArcRadius-se)+" 0 0 0 "+(ee.rightInnerExtent-$)+" "+(ee.targetY-se)+"L"+(ee.targetX-$)+" "+(ee.targetY-se)+($>0?"L"+ee.targetX+" "+ee.targetY:"")+"Z":te="M "+(ee.targetX-$)+" "+(ee.targetY-se)+" L"+(ee.rightInnerExtent-$)+" "+(ee.targetY-se)+"A"+(ee.rightLargeArcRadius+se)+" "+(ee.rightSmallArcRadius+se)+" 0 0 0 "+(ee.rightFullExtent-se-$)+" "+(ee.targetY+ee.rightSmallArcRadius)+"L"+(ee.rightFullExtent-se-$)+" "+ee.verticalRightInnerExtent+"A"+(ee.rightLargeArcRadius+se)+" "+(ee.rightLargeArcRadius+se)+" 0 0 0 "+(ee.rightInnerExtent-$)+" "+(ee.verticalFullExtent+se)+"L"+ee.leftInnerExtent+" "+(ee.verticalFullExtent+se)+"A"+(ee.leftLargeArcRadius+se)+" "+(ee.leftLargeArcRadius+se)+" 0 0 0 "+(ee.leftFullExtent+se)+" "+ee.verticalLeftInnerExtent+"L"+(ee.leftFullExtent+se)+" "+(ee.sourceY+ee.leftSmallArcRadius)+"A"+(ee.leftLargeArcRadius+se)+" "+(ee.leftSmallArcRadius+se)+" 0 0 0 "+ee.leftInnerExtent+" "+(ee.sourceY-se)+"L"+ee.sourceX+" "+(ee.sourceY-se)+"L"+ee.sourceX+" "+(ee.sourceY+se)+"L"+ee.leftInnerExtent+" "+(ee.sourceY+se)+"A"+(ee.leftLargeArcRadius-se)+" "+(ee.leftSmallArcRadius-se)+" 0 0 1 "+(ee.leftFullExtent-se)+" "+(ee.sourceY+ee.leftSmallArcRadius)+"L"+(ee.leftFullExtent-se)+" "+ee.verticalLeftInnerExtent+"A"+(ee.leftLargeArcRadius-se)+" "+(ee.leftLargeArcRadius-se)+" 0 0 1 "+ee.leftInnerExtent+" "+(ee.verticalFullExtent-se)+"L"+(ee.rightInnerExtent-$)+" "+(ee.verticalFullExtent-se)+"A"+(ee.rightLargeArcRadius-se)+" "+(ee.rightLargeArcRadius-se)+" 0 0 1 "+(ee.rightFullExtent+se-$)+" "+ee.verticalRightInnerExtent+"L"+(ee.rightFullExtent+se-$)+" "+(ee.targetY+ee.rightSmallArcRadius)+"A"+(ee.rightLargeArcRadius-se)+" "+(ee.rightSmallArcRadius-se)+" 0 0 1 "+(ee.rightInnerExtent-$)+" "+(ee.targetY+se)+"L"+(ee.targetX-$)+" "+(ee.targetY+se)+($>0?"L"+ee.targetX+" "+ee.targetY:"")+"Z",te}function w(){var Z=.5;function $(te){var se=te.linkArrowLength;if(te.link.circular)return M(te.link,se);var ee=Math.abs((te.link.target.x0-te.link.source.x1)/2);se>ee&&(se=ee);var q=te.link.source.x1,le=te.link.target.x0-se,oe=_(q,le),he=oe(Z),me=oe(1-Z),Ce=te.link.y0-te.link.width/2,Ae=te.link.y0+te.link.width/2,Ue=te.link.y1-te.link.width/2,Ve=te.link.y1+te.link.width/2,Pe="M"+q+","+Ce,be="C"+he+","+Ce+" "+me+","+Ue+" "+le+","+Ue,Le="C"+me+","+Ve+" "+he+","+Ae+" "+q+","+Ae,We=se>0?"L"+(le+se)+","+(Ue+te.link.width/2):"";return We+="L"+le+","+Ve,Pe+be+We+Le+"Z"}return $}function o(Z,$){var te=p($.color),se=v.nodePadAcross,ee=Z.nodePad/2;$.dx=$.x1-$.x0,$.dy=$.y1-$.y0;var q=$.dx,le=Math.max(.5,$.dy),oe="node_"+$.pointNumber;return $.group&&(oe=s.randstr()),$.trace=Z.trace,$.curveNumber=Z.trace.index,{index:$.pointNumber,key:oe,partOfGroup:$.partOfGroup||!1,group:$.group,traceId:Z.key,trace:Z.trace,node:$,nodePad:Z.nodePad,nodeLineColor:Z.nodeLineColor,nodeLineWidth:Z.nodeLineWidth,textFont:Z.textFont,size:Z.horizontal?Z.height:Z.width,visibleWidth:Math.ceil(q),visibleHeight:le,zoneX:-se,zoneY:-ee,zoneWidth:q+2*se,zoneHeight:le+2*ee,labelY:Z.horizontal?$.dy/2+1:$.dx/2+1,left:$.originalLayer===1,sizeAcross:Z.width,forceLayouts:Z.forceLayouts,horizontal:Z.horizontal,darkBackground:te.getBrightness()<=128,tinyColorHue:t.tinyRGB(te),tinyColorAlpha:te.getAlpha(),valueFormat:Z.valueFormat,valueSuffix:Z.valueSuffix,sankey:Z.sankey,graph:Z.graph,arrangement:Z.arrangement,uniqueNodeLabelPathId:[Z.guid,Z.key,oe].join("_"),interactionState:Z.interactionState,figure:Z}}function L(Z){Z.attr("transform",function($){return n($.node.x0.toFixed(3),$.node.y0.toFixed(3))})}function m(Z){Z.call(L)}function F(Z,$){Z.call(m),$.attr("d",w())}function I(Z){Z.attr("width",function($){return $.node.x1-$.node.x0}).attr("height",function($){return $.visibleHeight})}function U(Z){return Z.link.width>1||Z.linkLineWidth>0}function z(Z){var $=n(Z.translateX,Z.translateY);return $+(Z.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function N(Z,$,te){Z.on(".basic",null).on("mouseover.basic",function(se){!se.interactionState.dragInProgress&&!se.partOfGroup&&(te.hover(this,se,$),se.interactionState.hovered=[this,se])}).on("mousemove.basic",function(se){!se.interactionState.dragInProgress&&!se.partOfGroup&&(te.follow(this,se),se.interactionState.hovered=[this,se])}).on("mouseout.basic",function(se){!se.interactionState.dragInProgress&&!se.partOfGroup&&(te.unhover(this,se,$),se.interactionState.hovered=!1)}).on("click.basic",function(se){se.interactionState.hovered&&(te.unhover(this,se,$),se.interactionState.hovered=!1),!se.interactionState.dragInProgress&&!se.partOfGroup&&te.select(this,se,$)})}function B(Z,$,te,se){var ee=a.behavior.drag().origin(function(q){return{x:q.node.x0+q.visibleWidth/2,y:q.node.y0+q.visibleHeight/2}}).on("dragstart",function(q){if(q.arrangement!=="fixed"&&(s.ensureSingle(se._fullLayout._infolayer,"g","dragcover",function(oe){se._fullLayout._dragCover=oe}),s.raiseToTop(this),q.interactionState.dragInProgress=q.node,ie(q.node),q.interactionState.hovered&&(te.nodeEvents.unhover.apply(0,q.interactionState.hovered),q.interactionState.hovered=!1),q.arrangement==="snap")){var le=q.traceId+"|"+q.key;q.forceLayouts[le]?q.forceLayouts[le].alpha(1):O(Z,le,q),H(Z,$,q,le,se)}}).on("drag",function(q){if(q.arrangement!=="fixed"){var le=a.event.x,oe=a.event.y;q.arrangement==="snap"?(q.node.x0=le-q.visibleWidth/2,q.node.x1=le+q.visibleWidth/2,q.node.y0=oe-q.visibleHeight/2,q.node.y1=oe+q.visibleHeight/2):(q.arrangement==="freeform"&&(q.node.x0=le-q.visibleWidth/2,q.node.x1=le+q.visibleWidth/2),oe=Math.max(0,Math.min(q.size-q.visibleHeight/2,oe)),q.node.y0=oe-q.visibleHeight/2,q.node.y1=oe+q.visibleHeight/2),ie(q.node),q.arrangement!=="snap"&&(q.sankey.update(q.graph),F(Z.filter(ce(q)),$))}}).on("dragend",function(q){if(q.arrangement!=="fixed"){q.interactionState.dragInProgress=!1;for(var le=0;le<q.node.childrenNodes.length;le++)q.node.childrenNodes[le].x=q.node.x,q.node.childrenNodes[le].y=q.node.y;q.arrangement!=="snap"&&J(q,se)}});Z.on(".drag",null).call(ee)}function O(Z,$,te,se){Q(te.graph.nodes);var ee=te.graph.nodes.filter(function(q){return q.originalX===te.node.originalX}).filter(function(q){return!q.partOfGroup});te.forceLayouts[$]=g.forceSimulation(ee).alphaDecay(0).force("collide",g.forceCollide().radius(function(q){return q.dy/2+te.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",Y(Z,$,ee,te)).stop()}function H(Z,$,te,se,ee){window.requestAnimationFrame(function q(){var le;for(le=0;le<v.forceTicksPerFrame;le++)te.forceLayouts[se].tick();var oe=te.graph.nodes;if(j(oe),te.sankey.update(te.graph),F(Z.filter(ce(te)),$),te.forceLayouts[se].alpha()>0)window.requestAnimationFrame(q);else{var he=te.node.originalX;te.node.x0=he-te.visibleWidth/2,te.node.x1=he+te.visibleWidth/2,J(te,ee)}})}function Y(Z,$,te,se){return function(){for(var q=0,le=0;le<te.length;le++){var oe=te[le];oe===se.interactionState.dragInProgress?(oe.x=oe.lastDraggedX,oe.y=oe.lastDraggedY):(oe.vx=(oe.originalX-oe.x)/v.forceTicksPerFrame,oe.y=Math.min(se.size-oe.dy/2,Math.max(oe.dy/2,oe.y))),q=Math.max(q,Math.abs(oe.vx),Math.abs(oe.vy))}!se.interactionState.dragInProgress&&q<.1&&se.forceLayouts[$].alpha()>0&&se.forceLayouts[$].alpha(0)}}function J(Z,$){for(var te=[],se=[],ee=0;ee<Z.graph.nodes.length;ee++){var q=(Z.graph.nodes[ee].x0+Z.graph.nodes[ee].x1)/2,le=(Z.graph.nodes[ee].y0+Z.graph.nodes[ee].y1)/2;te.push(q/Z.figure.width),se.push(le/Z.figure.height)}h.call("_guiRestyle",$,{"node.x":[te],"node.y":[se]},Z.trace.index).then(function(){$._fullLayout._dragCover&&$._fullLayout._dragCover.remove()})}function re(Z){var $=[],te;for(te=0;te<Z.length;te++)Z[te].originalX=(Z[te].x0+Z[te].x1)/2,Z[te].originalY=(Z[te].y0+Z[te].y1)/2,$.indexOf(Z[te].originalX)===-1&&$.push(Z[te].originalX);for($.sort(function(se,ee){return se-ee}),te=0;te<Z.length;te++)Z[te].originalLayerIndex=$.indexOf(Z[te].originalX),Z[te].originalLayer=Z[te].originalLayerIndex/($.length-1)}function ie(Z){Z.lastDraggedX=Z.x0+Z.dx/2,Z.lastDraggedY=Z.y0+Z.dy/2}function ce(Z){return function($){return $.node.originalX===Z.node.originalX}}function Q(Z){for(var $=0;$<Z.length;$++)Z[$].y=(Z[$].y0+Z[$].y1)/2,Z[$].x=(Z[$].x0+Z[$].x1)/2}function j(Z){for(var $=0;$<Z.length;$++)Z[$].y0=Z[$].y-Z[$].dy/2,Z[$].y1=Z[$].y0+Z[$].dy,Z[$].x0=Z[$].x-Z[$].dx/2,Z[$].x1=Z[$].x0+Z[$].dx}G.exports=function(Z,$,te,se,ee){var q=Z._context.staticPlot,le=!1;s.ensureSingle(Z._fullLayout._infolayer,"g","first-render",function(){le=!0});var oe=Z._fullLayout._dragCover,he=te.filter(function(Le){return c(Le).trace.visible}).map(P.bind(null,se)),me=$.selectAll("."+v.cn.sankey).data(he,u);me.exit().remove(),me.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",q?"none":"auto").attr("transform",z),me.each(function(Le,We){Z._fullData[We]._sankey=Le;var je="bgsankey-"+Le.trace.uid+"-"+We;s.ensureSingle(Z._fullLayout._draggers,"rect",je),Z._fullData[We]._bgRect=a.select("."+je),Z._fullData[We]._bgRect.style("pointer-events",q?"none":"all").attr("width",Le.width).attr("height",Le.height).attr("x",Le.translateX).attr("y",Le.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),me.transition().ease(v.ease).duration(v.duration).attr("transform",z);var Ce=me.selectAll("."+v.cn.sankeyLinks).data(y,u);Ce.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var Ae=Ce.selectAll("."+v.cn.sankeyLink).data(function(Le){var We=Le.graph.links;return We.filter(function(je){return je.value}).map(x.bind(null,Le))},u);Ae.enter().append("path").classed(v.cn.sankeyLink,!0).call(N,me,ee.linkEvents),Ae.style("stroke",function(Le){return U(Le)?t.tinyRGB(p(Le.linkLineColor)):Le.tinyColorHue}).style("stroke-opacity",function(Le){return U(Le)?t.opacity(Le.linkLineColor):Le.tinyColorAlpha}).style("fill",function(Le){return Le.tinyColorHue}).style("fill-opacity",function(Le){return Le.tinyColorAlpha}).style("stroke-width",function(Le){return U(Le)?Le.linkLineWidth:1}).attr("d",w()),Ae.style("opacity",function(){return Z._context.staticPlot||le||oe?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),Ae.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Ue=me.selectAll("."+v.cn.sankeyNodeSet).data(y,u);Ue.enter().append("g").classed(v.cn.sankeyNodeSet,!0),Ue.style("cursor",function(Le){switch(Le.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var Ve=Ue.selectAll("."+v.cn.sankeyNode).data(function(Le){var We=Le.graph.nodes;return re(We),We.map(o.bind(null,Le))},u);Ve.enter().append("g").classed(v.cn.sankeyNode,!0).call(L).style("opacity",function(Le){return(Z._context.staticPlot||le)&&!Le.partOfGroup?1:0}),Ve.call(N,me,ee.nodeEvents).call(B,Ae,ee,Z),Ve.transition().ease(v.ease).duration(v.duration).call(L).style("opacity",function(Le){return Le.partOfGroup?0:1}),Ve.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Pe=Ve.selectAll("."+v.cn.nodeRect).data(y);Pe.enter().append("rect").classed(v.cn.nodeRect,!0).call(I),Pe.style("stroke-width",function(Le){return Le.nodeLineWidth}).style("stroke",function(Le){return t.tinyRGB(p(Le.nodeLineColor))}).style("stroke-opacity",function(Le){return t.opacity(Le.nodeLineColor)}).style("fill",function(Le){return Le.tinyColorHue}).style("fill-opacity",function(Le){return Le.tinyColorAlpha}),Pe.transition().ease(v.ease).duration(v.duration).call(I);var be=Ve.selectAll("."+v.cn.nodeLabel).data(y);be.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),be.attr("data-notex",1).text(function(Le){return Le.node.label}).each(function(Le){var We=a.select(this);r.font(We,Le.textFont),T.convertToTspans(We,Z)}).style("text-shadow",T.makeTextShadow(Z._fullLayout.paper_bgcolor)).attr("text-anchor",function(Le){return Le.horizontal&&Le.left?"end":"start"}).attr("transform",function(Le){var We=a.select(this),je=T.lineCount(We),Fe=Le.textFont.size*((je-1)*E-d),Ze=Le.nodeLineWidth/2+S,ut=((Le.horizontal?Le.visibleHeight:Le.visibleWidth)-Fe)/2;Le.horizontal&&(Le.left?Ze=-Ze:Ze+=Le.visibleWidth);var at=Le.horizontal?"":"scale(-1,1)"+i(90);return n(Le.horizontal?Ze:ut,Le.horizontal?ut:Ze)+at}),be.transition().ease(v.ease).duration(v.duration)}},84564:function(G){G.exports=function(e,g){for(var _=e.cd,a=[],C=_[0].trace,A=C._sankey.graph.nodes,v=0;v<A.length;v++){var p=A[v];if(!p.partOfGroup){var t=[(p.x0+p.x1)/2,(p.y0+p.y1)/2];C.orientation==="v"&&t.reverse(),g&&g.contains(t,!1,v,e)&&a.push({pointNumber:p.pointNumber})}}return a}},75225:function(G,V,e){var g=e(71828);G.exports=function(a,C){for(var A=0;A<a.length;A++)a[A].i=A;g.mergeArray(C.text,a,"tx"),g.mergeArray(C.texttemplate,a,"txt"),g.mergeArray(C.hovertext,a,"htx"),g.mergeArray(C.customdata,a,"data"),g.mergeArray(C.textposition,a,"tp"),C.textfont&&(g.mergeArrayCastPositive(C.textfont.size,a,"ts"),g.mergeArray(C.textfont.color,a,"tc"),g.mergeArray(C.textfont.family,a,"tf"));var v=C.marker;if(v){g.mergeArrayCastPositive(v.size,a,"ms"),g.mergeArrayCastPositive(v.opacity,a,"mo"),g.mergeArray(v.symbol,a,"mx"),g.mergeArray(v.angle,a,"ma"),g.mergeArray(v.standoff,a,"mf"),g.mergeArray(v.color,a,"mc");var p=v.line;v.line&&(g.mergeArray(p.color,a,"mlc"),g.mergeArrayCastPositive(p.width,a,"mlw"));var t=v.gradient;t&&t.type!=="none"&&(g.mergeArray(t.type,a,"mgt"),g.mergeArray(t.color,a,"mgc"))}}},82196:function(G,V,e){var g=e(12663).axisHoverFormat,_=e(5386).si,a=e(5386).fF,C=e(50693),A=e(41940),v=e(79952).P,p=e(79952).u,t=e(91424),r=e(47581),s=e(1426).extendFlat;function n(u){return{valType:"any",dflt:0,editType:"calc"}}function i(u){return{valType:"any",editType:"calc"}}function f(u){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}G.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:n(),yperiod:n(),xperiod0:i(),yperiod0:i(),xperiodalignment:f(),yperiodalignment:f(),xhoverformat:g("x"),yhoverformat:g("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:_({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:a({},{keys:r.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:s({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:p,marker:s({symbol:{valType:"enumerated",values:t.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:s({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},C("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},C("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:A({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(G,V,e){var g=e(92770),_=e(71828),a=e(89298),C=e(42973),A=e(50606).BADNUM,v=e(34098),p=e(36922),t=e(75225),r=e(66279);function s(c,T){var h=c._fullLayout,l=T._xA=a.getFromId(c,T.xaxis||"x","x"),d=T._yA=a.getFromId(c,T.yaxis||"y","y"),E=l.makeCalcdata(T,"x"),S=d.makeCalcdata(T,"y"),P=C(T,l,"x",E),x=C(T,d,"y",S),M=P.vals,w=x.vals,o=T._length,L=new Array(o),m=T.ids,F=y(T,h,l,d),I=!1,U,z,N,B,O,H;f(h,T);var Y="x",J="y",re;if(F)_.pushUnique(F.traceIndices,T._expandedIndex),U=F.orientation==="v",U?(J="s",re="x"):(Y="s",re="y"),O=F.stackgaps==="interpolate";else{var ie=i(T,o);n(c,T,l,d,M,w,ie)}var ce=!!T.xperiodalignment,Q=!!T.yperiodalignment;for(z=0;z<o;z++){var j=L[z]={},Z=g(M[z]),$=g(w[z]);Z&&$?(j[Y]=M[z],j[J]=w[z],ce&&(j.orig_x=E[z],j.xEnd=P.ends[z],j.xStart=P.starts[z]),Q&&(j.orig_y=S[z],j.yEnd=x.ends[z],j.yStart=x.starts[z])):F&&(U?Z:$)?(j[re]=U?M[z]:w[z],j.gap=!0,O?(j.s=A,I=!0):j.s=0):j[Y]=j[J]=A,m&&(j.id=String(m[z]))}if(t(L,T),p(c,T),r(L,T),F){for(z=0;z<L.length;)L[z][re]===A?L.splice(z,1):z++;if(_.sort(L,function(q,le){return q[re]-le[re]||q.i-le.i}),I){for(z=0;z<L.length-1&&L[z].gap;)z++;for(H=L[z].s,H||(H=L[z].s=0),N=0;N<z;N++)L[N].s=H;for(B=L.length-1;B>z&&L[B].gap;)B--;for(H=L[B].s,N=L.length-1;N>B;N--)L[N].s=H;for(;z<B;)if(z++,L[z].gap){for(N=z+1;L[N].gap;)N++;for(var te=L[z-1][re],se=L[z-1].s,ee=(L[N].s-se)/(L[N][re]-te);z<N;)L[z].s=se+(L[z][re]-te)*ee,z++}}}return L}function n(c,T,h,l,d,E,S){var P=T._length,x=c._fullLayout,M=h._id,w=l._id,o=x._firstScatter[u(T)]===T.uid,L=(y(T,x,h,l)||{}).orientation,m=T.fill;h._minDtick=0,l._minDtick=0;var F={padded:!0},I={padded:!0};S&&(F.ppad=I.ppad=S);var U=P<2||d[0]!==d[P-1]||E[0]!==E[P-1];U&&(m==="tozerox"||m==="tonextx"&&(o||L==="h"))?F.tozero=!0:!(T.error_y||{}).visible&&(m==="tonexty"||m==="tozeroy"||!v.hasMarkers(T)&&!v.hasText(T))&&(F.padded=!1,F.ppad=0),U&&(m==="tozeroy"||m==="tonexty"&&(o||L==="v"))?I.tozero=!0:(m==="tonextx"||m==="tozerox")&&(I.padded=!1),M&&(T._extremes[M]=a.findExtremes(h,d,F)),w&&(T._extremes[w]=a.findExtremes(l,E,I))}function i(c,T){if(v.hasMarkers(c)){var h=c.marker,l=1.6*(c.marker.sizeref||1),d;if(c.marker.sizemode==="area"?d=function(M){return Math.max(Math.sqrt((M||0)/l),3)}:d=function(M){return Math.max((M||0)/l,3)},_.isArrayOrTypedArray(h.size)){var E={type:"linear"};a.setConvert(E);for(var S=E.makeCalcdata(c.marker,"size"),P=new Array(T),x=0;x<T;x++)P[x]=d(S[x]);return P}else return d(h.size)}}function f(c,T){var h=u(T),l=c._firstScatter;l[h]||(l[h]=T.uid)}function u(c){var T=c.stackgroup;return c.xaxis+c.yaxis+c.type+(T?"-"+T:"")}function y(c,T,h,l){var d=c.stackgroup;if(d){var E=T._scatterStackOpts[h._id+l._id][d],S=E.orientation==="v"?l:h;if(S.type==="linear"||S.type==="log")return E}}G.exports={calc:s,calcMarkerSize:i,calcAxisExpansion:n,setFirstScatter:f,getStackOpts:y}},66279:function(G,V,e){var g=e(71828);G.exports=function(a,C){g.isArrayOrTypedArray(C.selectedpoints)&&g.tagSelected(a,C)}},36922:function(G,V,e){var g=e(52075).hasColorscale,_=e(78803),a=e(34098);G.exports=function(A,v){a.hasLines(v)&&g(v,"line")&&_(A,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),a.hasMarkers(v)&&(g(v,"marker")&&_(A,v,{vals:v.marker.color,containerStr:"marker",cLetter:"c"}),g(v,"marker.line")&&_(A,v,{vals:v.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(G){G.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(G,V,e){var g=e(47761),_=e(11661).setGroupPositions;function a(v,p){for(var t=p.xaxis,r=p.yaxis,s=v._fullLayout,n=v._fullData,i=v.calcdata,f=[],u=[],y=0;y<n.length;y++){var c=n[y];c.visible===!0&&c.type==="scatter"&&c.xaxis===t._id&&c.yaxis===r._id&&(c.orientation==="h"?f.push(i[y]):c.orientation==="v"&&u.push(i[y]))}var T={mode:s.scattermode,gap:s.scattergap};_(v,t,r,u,T),_(v,r,t,f,T)}G.exports=function(p,t){p._fullLayout.scattermode==="group"&&a(p,t);var r=t.xaxis,s=t.yaxis,n=r._id+s._id,i=p._fullLayout._scatterStackOpts[n];if(i){var f=p.calcdata,u,y,c,T,h,l,d,E,S,P,x,M,w,o,L;for(var m in i){P=i[m];var F=P.traceIndices;if(F.length){for(x=P.stackgaps==="interpolate",M=P.groupnorm,P.orientation==="v"?(w="x",o="y"):(w="y",o="x"),L=new Array(F.length),u=0;u<L.length;u++)L[u]=!1;l=f[F[0]];var I=new Array(l.length);for(u=0;u<l.length;u++)I[u]=l[u][w];for(u=1;u<F.length;u++){for(h=f[F[u]],y=c=0;y<h.length;y++){for(d=h[y][w];d>I[c]&&c<I.length;c++)C(h,y,I[c],u,L,x,w),y++;if(d!==I[c]){for(T=0;T<u;T++)C(f[F[T]],c,d,T,L,x,w);I.splice(c,0,d)}c++}for(;c<I.length;c++)C(h,y,I[c],u,L,x,w),y++}var U=I.length;for(y=0;y<l.length;y++){for(E=l[y][o]=l[y].s,u=1;u<F.length;u++)h=f[F[u]],h[0].trace._rawLength=h[0].trace._length,h[0].trace._length=U,E+=h[y].s,h[y][o]=E;if(M)for(S=(M==="fraction"?E:E/100)||1,u=0;u<F.length;u++){var z=f[F[u]][y];z[o]/=S,z.sNorm=z.s/S}}for(u=0;u<F.length;u++){h=f[F[u]];var N=h[0].trace,B=g.calcMarkerSize(N,N._rawLength),O=Array.isArray(B);if(B&&L[u]||O){var H=B;for(B=new Array(U),y=0;y<U;y++)B[y]=h[y].gap?0:O?H[h[y].i]:H}var Y=new Array(U),J=new Array(U);for(y=0;y<U;y++)Y[y]=h[y].x,J[y]=h[y].y;g.calcAxisExpansion(p,N,r,s,Y,J,B),h[0].t.orientation=P.orientation}}}}};function C(v,p,t,r,s,n,i){s[r]=!0;var f={i:null,gap:!0,s:0};if(f[i]=t,v.splice(p,0,f),p&&t===v[p-1][i]){var u=v[p-1];f.s=u.s,f.i=u.i,f.gap=u.gap}else n&&(f.s=A(v,p,t,i));p||(v[0].t=v[1].t,v[0].trace=v[1].trace,delete v[1].t,delete v[1].trace)}function A(v,p,t,r){var s=v[p-1],n=v[p+1];return n?s?s.s+(n.s-s.s)*(t-s[r])/(n[r]-s[r]):n.s:s.s}},34936:function(G,V,e){var g=e(71828),_=e(26125),a=e(82196);G.exports=function(A,v){var p,t,r;function s(y){return g.coerce(t._input,t,a,y)}if(v.scattermode==="group")for(r=0;r<A.length;r++)t=A[r],t.type==="scatter"&&(p=t._input,_(p,t,v,s));for(r=0;r<A.length;r++){var n=A[r];if(n.type==="scatter"){var i=n.fill;if(!(i==="none"||i==="toself")&&(n.opacity=void 0,i==="tonexty"||i==="tonextx"))for(var f=r-1;f>=0;f--){var u=A[f];if(u.type==="scatter"&&u.xaxis===n.xaxis&&u.yaxis===n.yaxis){u.opacity=void 0;break}}}}}},17438:function(G,V,e){var g=e(71828),_=e(73972),a=e(82196),C=e(47581),A=e(34098),v=e(67513),p=e(73927),t=e(565),r=e(49508),s=e(11058),n=e(94039),i=e(82410),f=e(28908),u=e(71828).coercePattern;G.exports=function(c,T,h,l){function d(L,m){return g.coerce(c,T,a,L,m)}var E=v(c,T,l,d);if(E||(T.visible=!1),!!T.visible){p(c,T,l,d),d("xhoverformat"),d("yhoverformat");var S=t(c,T,l,d);l.scattermode==="group"&&T.orientation===void 0&&d("orientation","v");var P=!S&&E<C.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("mode",P),A.hasLines(T)&&(s(c,T,h,l,d,{backoff:!0}),n(c,T,d),d("connectgaps"),d("line.simplify")),A.hasMarkers(T)&&r(c,T,h,l,d,{gradient:!0}),A.hasText(T)&&(d("texttemplate"),i(c,T,l,d));var x=[];(A.hasMarkers(T)||A.hasText(T))&&(d("cliponaxis"),d("marker.maxdisplayed"),x.push("points")),d("fill",S?S.fillDflt:"none"),T.fill!=="none"&&(f(c,T,h,d),A.hasLines(T)||n(c,T,d),u(d,"fillpattern",T.fillcolor,!1));var M=(T.line||{}).color,w=(T.marker||{}).color;(T.fill==="tonext"||T.fill==="toself")&&x.push("fills"),d("hoveron",x.join("+")||"points"),T.hoveron!=="fills"&&d("hovertemplate");var o=_.getComponentMethod("errorbars","supplyDefaults");o(c,T,M||w||h,{axis:"y"}),o(c,T,M||w||h,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(T,d)}}},28908:function(G,V,e){var g=e(7901),_=e(71828).isArrayOrTypedArray;G.exports=function(C,A,v,p){var t=!1;if(A.marker){var r=A.marker.color,s=(A.marker.line||{}).color;r&&!_(r)?t=r:s&&!_(s)&&(t=s)}p("fillcolor",g.addOpacity((A.line||{}).color||t||v,.5))}},8225:function(G,V,e){var g=e(89298);G.exports=function(a,C,A){var v={},p={_fullLayout:A},t=g.getFromTrace(p,C,"x"),r=g.getFromTrace(p,C,"y"),s=a.orig_x;s===void 0&&(s=a.x);var n=a.orig_y;return n===void 0&&(n=a.y),v.xLabel=g.tickText(t,t.c2l(s),!0).text,v.yLabel=g.tickText(r,r.c2l(n),!0).text,v}},34603:function(G,V,e){var g=e(7901),_=e(34098);G.exports=function(C,A){var v,p;if(C.mode==="lines")return v=C.line.color,v&&g.opacity(v)?v:C.fillcolor;if(C.mode==="none")return C.fill?C.fillcolor:"";var t=A.mcc||(C.marker||{}).color,r=A.mlcc||((C.marker||{}).line||{}).color;return p=t&&g.opacity(t)?t:r&&g.opacity(r)&&(A.mlw||((C.marker||{}).line||{}).width)?r:"",p?g.opacity(p)<.3?g.addOpacity(p,.3):p:(v=(C.line||{}).color,v&&g.opacity(v)&&_.hasLines(C)&&C.line.width?v:C.fillcolor)}},26125:function(G,V,e){var g=e(99082).getAxisGroup;G.exports=function(a,C,A,v){var p=C.orientation,t=C[{v:"x",h:"y"}[p]+"axis"],r=g(A,t)+p,s=A._alignmentOpts||{},n=v("alignmentgroup"),i=s[r];i||(i=s[r]={});var f=i[n];f?f.traces.push(C):f=i[n]={traces:[C],alignmentIndex:Object.keys(i).length,offsetGroups:{}};var u=v("offsetgroup"),y=f.offsetGroups,c=y[u];u&&(c||(c=y[u]={offsetIndex:Object.keys(y).length}),C._offsetIndex=c.offsetIndex)}},33720:function(G,V,e){var g=e(71828),_=e(30211),a=e(73972),C=e(34603),A=e(7901),v=g.fillText;G.exports=function(t,r,s,n){var i=t.cd,f=i[0].trace,u=t.xa,y=t.ya,c=u.c2p(r),T=y.c2p(s),h=[c,T],l=f.hoveron||"",d=f.mode.indexOf("markers")!==-1?3:.5,E=!!f.xperiodalignment,S=!!f.yperiodalignment;if(l.indexOf("points")!==-1){var P=function(he){if(E){var me=u.c2p(he.xStart),Ce=u.c2p(he.xEnd);return c>=Math.min(me,Ce)&&c<=Math.max(me,Ce)?0:1/0}var Ae=Math.max(3,he.mrc||0),Ue=1-1/Ae,Ve=Math.abs(u.c2p(he.x)-c);return Ve<Ae?Ue*Ve/Ae:Ve-Ae+Ue},x=function(he){if(S){var me=y.c2p(he.yStart),Ce=y.c2p(he.yEnd);return T>=Math.min(me,Ce)&&T<=Math.max(me,Ce)?0:1/0}var Ae=Math.max(3,he.mrc||0),Ue=1-1/Ae,Ve=Math.abs(y.c2p(he.y)-T);return Ve<Ae?Ue*Ve/Ae:Ve-Ae+Ue},M=function(he){var me=Math.max(d,he.mrc||0),Ce=u.c2p(he.x)-c,Ae=y.c2p(he.y)-T;return Math.max(Math.sqrt(Ce*Ce+Ae*Ae)-me,1-d/me)},w=_.getDistanceFunction(n,P,x,M);if(_.getClosest(i,w,t),t.index!==!1){var o=i[t.index],L=u.c2p(o.x,!0),m=y.c2p(o.y,!0),F=o.mrc||1;t.index=o.i;var I=i[0].t.orientation,U=I&&(o.sNorm||o.s),z=I==="h"?U:o.orig_x!==void 0?o.orig_x:o.x,N=I==="v"?U:o.orig_y!==void 0?o.orig_y:o.y;return g.extendFlat(t,{color:C(f,o),x0:L-F,x1:L+F,xLabelVal:z,y0:m-F,y1:m+F,yLabelVal:N,spikeDistance:M(o),hovertemplate:f.hovertemplate}),v(o,f,t),a.getComponentMethod("errorbars","hoverInfo")(o,f,t),[t]}}if(l.indexOf("fills")!==-1&&f._polygons){var B=f._polygons,O=[],H=!1,Y=1/0,J=-1/0,re=1/0,ie=-1/0,ce,Q,j,Z,$,te,se,ee,q;for(ce=0;ce<B.length;ce++)j=B[ce],j.contains(h)&&(H=!H,O.push(j),re=Math.min(re,j.ymin),ie=Math.max(ie,j.ymax));if(H){re=Math.max(re,0),ie=Math.min(ie,y._length);var le=(re+ie)/2;for(ce=0;ce<O.length;ce++)for(Z=O[ce].pts,Q=1;Q<Z.length;Q++)ee=Z[Q-1][1],q=Z[Q][1],ee>le!=q>=le&&(te=Z[Q-1][0],se=Z[Q][0],q-ee&&($=te+(se-te)*(le-ee)/(q-ee),Y=Math.min(Y,$),J=Math.max(J,$)));Y=Math.max(Y,0),J=Math.min(J,u._length);var oe=A.defaultLine;return A.opacity(f.fillcolor)?oe=f.fillcolor:A.opacity((f.line||{}).color)&&(oe=f.line.color),g.extendFlat(t,{distance:t.maxHoverDistance,x0:Y,x1:J,y0:le,y1:le,color:oe,hovertemplate:!1}),delete t.index,f.text&&!Array.isArray(f.text)?t.text=String(f.text):t.text=f.name,[t]}}}},67368:function(G,V,e){var g=e(34098);G.exports={hasLines:g.hasLines,hasMarkers:g.hasMarkers,hasText:g.hasText,isBubble:g.isBubble,attributes:e(82196),layoutAttributes:e(21479),supplyDefaults:e(17438),crossTraceDefaults:e(34936),supplyLayoutDefaults:e(79334),calc:e(47761).calc,crossTraceCalc:e(72626),arraysToCalcdata:e(75225),plot:e(32663),colorbar:e(4898),formatLabels:e(8225),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(33720),selectPoints:e(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(G){G.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(G,V,e){var g=e(71828),_=e(21479);G.exports=function(a,C){function A(p,t){return g.coerce(a,C,_,p,t)}var v=C.barmode==="group";C.scattermode==="group"&&A("scattergap",v?C.bargap:.2)}},11058:function(G,V,e){var g=e(71828).isArrayOrTypedArray,_=e(52075).hasColorscale,a=e(1586);G.exports=function(A,v,p,t,r,s){s||(s={});var n=(A.marker||{}).color;if(r("line.color",p),_(A,"line"))a(A,v,t,r,{prefix:"line.",cLetter:"c"});else{var i=(g(n)?!1:n)||p;r("line.color",i)}r("line.width"),s.noDash||r("line.dash"),s.backoff&&r("line.backoff")}},34621:function(G,V,e){var g=e(91424),_=e(50606),a=_.BADNUM,C=_.LOG_CLIP,A=C+.5,v=C-.5,p=e(71828),t=p.segmentsIntersect,r=p.constrain,s=e(47581);G.exports=function(i,f){var u=f.trace||{},y=f.xaxis,c=f.yaxis,T=y.type==="log",h=c.type==="log",l=y._length,d=c._length,E=f.backoff,S=u.marker,P=f.connectGaps,x=f.baseTolerance,M=f.shape,w=M==="linear",o=u.fill&&u.fill!=="none",L=[],m=s.minTolerance,F=i.length,I=new Array(F),U=0,z,N,B,O,H,Y,J,re,ie,ce,Q,j,Z,$,te,se;function ee(pt){var At=i[pt];if(!At)return!1;var jt=f.linearized?y.l2p(At.x):y.c2p(At.x),tr=f.linearized?c.l2p(At.y):c.c2p(At.y);if(jt===a){if(T&&(jt=y.c2p(At.x,!0)),jt===a)return!1;h&&tr===a&&(jt*=Math.abs(y._m*d*(y._m>0?A:v)/(c._m*l*(c._m>0?A:v)))),jt*=1e3}if(tr===a){if(h&&(tr=c.c2p(At.y,!0)),tr===a)return!1;tr*=1e3}return[jt,tr]}function q(pt,At,jt,tr){var Ct=jt-pt,Nt=tr-At,Kt=.5-pt,wr=.5-At,yt=Ct*Ct+Nt*Nt,$t=Ct*Kt+Nt*wr;if($t>0&&$t<yt){var er=Kt*Nt-wr*Ct;if(er*er<yt)return!0}}var le,oe;function he(pt,At){var jt=pt[0]/l,tr=pt[1]/d,Ct=Math.max(0,-jt,jt-1,-tr,tr-1);return Ct&&le!==void 0&&q(jt,tr,le,oe)&&(Ct=0),Ct&&At&&q(jt,tr,At[0]/l,At[1]/d)&&(Ct=0),(1+s.toleranceGrowth*Ct)*x}function me(pt,At){var jt=pt[0]-At[0],tr=pt[1]-At[1];return Math.sqrt(jt*jt+tr*tr)}var Ce=s.maxScreensAway,Ae=-l*Ce,Ue=l*(1+Ce),Ve=-d*Ce,Pe=d*(1+Ce),be=[[Ae,Ve,Ue,Ve],[Ue,Ve,Ue,Pe],[Ue,Pe,Ae,Pe],[Ae,Pe,Ae,Ve]],Le,We,je,Fe,Ze,ut;function at(pt,At){for(var jt=[],tr=0,Ct=0;Ct<4;Ct++){var Nt=be[Ct],Kt=t(pt[0],pt[1],At[0],At[1],Nt[0],Nt[1],Nt[2],Nt[3]);Kt&&(!tr||Math.abs(Kt.x-jt[0][0])>1||Math.abs(Kt.y-jt[0][1])>1)&&(Kt=[Kt.x,Kt.y],tr&&me(Kt,pt)<me(jt[0],pt)?jt.unshift(Kt):jt.push(Kt),tr++)}return jt}function it(pt){if(pt[0]<Ae||pt[0]>Ue||pt[1]<Ve||pt[1]>Pe)return[r(pt[0],Ae,Ue),r(pt[1],Ve,Pe)]}function $e(pt,At){if(pt[0]===At[0]&&(pt[0]===Ae||pt[0]===Ue)||pt[1]===At[1]&&(pt[1]===Ve||pt[1]===Pe))return!0}function st(pt,At){var jt=[],tr=it(pt),Ct=it(At);return tr&&Ct&&$e(tr,Ct)||(tr&&jt.push(tr),Ct&&jt.push(Ct)),jt}function ct(pt,At,jt){return function(tr,Ct){var Nt=it(tr),Kt=it(Ct),wr=[];if(Nt&&Kt&&$e(Nt,Kt))return wr;Nt&&wr.push(Nt),Kt&&wr.push(Kt);var yt=2*p.constrain((tr[pt]+Ct[pt])/2,At,jt)-((Nt||tr)[pt]+(Kt||Ct)[pt]);if(yt){var $t;Nt&&Kt?$t=yt>0==Nt[pt]>Kt[pt]?Nt:Kt:$t=Nt||Kt,$t[pt]+=yt}return wr}}var vt;M==="linear"||M==="spline"?vt=at:M==="hv"||M==="vh"?vt=st:M==="hvh"?vt=ct(0,Ae,Ue):M==="vhv"&&(vt=ct(1,Ve,Pe));function St(pt,At){var jt=At[0]-pt[0],tr=(At[1]-pt[1])/jt,Ct=(pt[1]*At[0]-At[1]*pt[0])/jt;return Ct>0?[tr>0?Ae:Ue,Pe]:[tr>0?Ue:Ae,Ve]}function Mt(pt){var At=pt[0],jt=pt[1],tr=At===I[U-1][0],Ct=jt===I[U-1][1];if(!(tr&&Ct))if(U>1){var Nt=At===I[U-2][0],Kt=jt===I[U-2][1];tr&&(At===Ae||At===Ue)&&Nt?Kt?U--:I[U-1]=pt:Ct&&(jt===Ve||jt===Pe)&&Kt?Nt?U--:I[U-1]=pt:I[U++]=pt}else I[U++]=pt}function Bt(pt){I[U-1][0]!==pt[0]&&I[U-1][1]!==pt[1]&&Mt([je,Fe]),Mt(pt),Ze=null,je=Fe=0}var Qe=p.isArrayOrTypedArray(S);function ke(pt){if(pt&&E&&(pt.i=z,pt.d=i,pt.trace=u,pt.marker=Qe?S[pt.i]:S,pt.backoff=E),le=pt[0]/l,oe=pt[1]/d,Le=pt[0]<Ae?Ae:pt[0]>Ue?Ue:0,We=pt[1]<Ve?Ve:pt[1]>Pe?Pe:0,Le||We){if(!U)I[U++]=[Le||pt[0],We||pt[1]];else if(Ze){var At=vt(Ze,pt);At.length>1&&(Bt(At[0]),I[U++]=At[1])}else ut=vt(I[U-1],pt)[0],I[U++]=ut;var jt=I[U-1];Le&&We&&(jt[0]!==Le||jt[1]!==We)?(Ze&&(je!==Le&&Fe!==We?Mt(je&&Fe?St(Ze,pt):[je||Le,Fe||We]):je&&Fe&&Mt([je,Fe])),Mt([Le,We])):je-Le&&Fe-We&&Mt([Le||je,We||Fe]),Ze=pt,je=Le,Fe=We}else Ze&&Bt(vt(Ze,pt)[0]),I[U++]=pt}for(z=0;z<F;z++)if(N=ee(z),!!N){for(U=0,Ze=null,ke(N),z++;z<F;z++){if(O=ee(z),!O){if(P)continue;break}if(!w||!f.simplify){ke(O);continue}var ze=ee(z+1);if(ce=me(O,N),!(!(o&&(U===0||U===F-1))&&ce<he(O,ze)*m)){for(re=[(O[0]-N[0])/ce,(O[1]-N[1])/ce],H=N,Q=ce,j=$=te=0,J=!1,B=O,z++;z<i.length;z++){if(Y=ze,ze=ee(z+1),!Y){if(P)continue;break}if(ie=[Y[0]-N[0],Y[1]-N[1]],se=ie[0]*re[1]-ie[1]*re[0],$=Math.min($,se),te=Math.max(te,se),te-$>he(Y,ze))break;B=Y,Z=ie[0]*re[0]+ie[1]*re[1],Z>Q?(Q=Z,O=Y,J=!1):Z<j&&(j=Z,H=Y,J=!0)}if(J?(ke(O),B!==H&&ke(H)):(H!==N&&ke(H),B!==O&&ke(O)),ke(B),z>=i.length||!Y)break;ke(Y),N=Y}}Ze&&Mt([je||Ze[0],Fe||Ze[1]]),L.push(I.slice(0,U))}var Be=M.slice(M.length-1);if(E&&Be!=="h"&&Be!=="v"){for(var Re=!1,we=-1,ye=[],Se=0;Se<L.length;Se++)for(var Me=0;Me<L[Se].length-1;Me++){var He=L[Se][Me],qe=L[Se][Me+1],rt=g.applyBackoff(qe,He);(rt[0]!==qe[0]||rt[1]!==qe[1])&&(Re=!0),ye[we+1]||(we++,ye[we]=[He,[rt[0],rt[1]]])}return Re?ye:L}return L}},94039:function(G){G.exports=function(e,g,_){var a=_("line.shape");a==="spline"&&_("line.smoothing")}},68687:function(G){var V={tonextx:1,tonexty:1,tonext:1};G.exports=function(g,_,a){var C,A,v,p,t,r={},s=!1,n=-1,i=0,f=-1;for(A=0;A<a.length;A++)C=a[A][0].trace,v=C.stackgroup||"",v?v in r?t=r[v]:(t=r[v]=i,i++):C.fill in V&&f>=0?t=f:(t=f=i,i++),t<n&&(s=!0),C._groupIndex=n=t;var u=a.slice();s&&u.sort(function(c,T){var h=c[0].trace,l=T[0].trace;return h._groupIndex-l._groupIndex||h.index-l.index});var y={};for(A=0;A<u.length;A++)C=u[A][0].trace,v=C.stackgroup||"",C.visible===!0?(C._nexttrace=null,C.fill in V&&(p=y[v],C._prevtrace=p||null,p&&(p._nexttrace=C)),C._ownfill=C.fill&&(C.fill.substr(0,6)==="tozero"||C.fill==="toself"||C.fill.substr(0,2)==="to"&&!C._prevtrace),y[v]=C):C._prevtrace=C._nexttrace=C._ownfill=null;return u}},39984:function(G,V,e){var g=e(92770);G.exports=function(a,C){C||(C=2);var A=a.marker,v=A.sizeref||1,p=A.sizemin||0,t=A.sizemode==="area"?function(r){return Math.sqrt(r/v)}:function(r){return r/v};return function(r){var s=t(r/C);return g(s)&&s>0?Math.max(s,p):0}}},4898:function(G){G.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(G,V,e){var g=e(7901),_=e(52075).hasColorscale,a=e(1586),C=e(34098);G.exports=function(v,p,t,r,s,n){var i=C.isBubble(v),f=(v.line||{}).color,u;if(n=n||{},f&&(t=f),s("marker.symbol"),s("marker.opacity",i?.7:1),s("marker.size"),n.noAngle||(s("marker.angle"),n.noAngleRef||s("marker.angleref"),n.noStandOff||s("marker.standoff")),s("marker.color",t),_(v,"marker")&&a(v,p,r,s,{prefix:"marker.",cLetter:"c"}),n.noSelect||(s("selected.marker.color"),s("unselected.marker.color"),s("selected.marker.size"),s("unselected.marker.size")),n.noLine||(f&&!Array.isArray(f)&&p.marker.color!==f?u=f:i?u=g.background:u=g.defaultLine,s("marker.line.color",u),_(v,"marker.line")&&a(v,p,r,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width",i?1:0)),i&&(s("marker.sizeref"),s("marker.sizemin"),s("marker.sizemode")),n.gradient){var y=s("marker.gradient.type");y!=="none"&&s("marker.gradient.color")}}},73927:function(G,V,e){var g=e(71828).dateTick0,_=e(50606),a=_.ONEWEEK;function C(A,v){return A%a===0?g(v,1):g(v,0)}G.exports=function(v,p,t,r,s){if(s||(s={x:!0,y:!0}),s.x){var n=r("xperiod");n&&(r("xperiod0",C(n,p.xcalendar)),r("xperiodalignment"))}if(s.y){var i=r("yperiod");i&&(r("yperiod0",C(i,p.ycalendar)),r("yperiodalignment"))}}},32663:function(G,V,e){var g=e(39898),_=e(73972),a=e(71828),C=a.ensureSingle,A=a.identity,v=e(91424),p=e(34098),t=e(34621),r=e(68687),s=e(61082).tester;G.exports=function(y,c,T,h,l,d){var E,S,P=!l,x=!!l&&l.duration>0,M=r(y,c,T);if(E=h.selectAll("g.trace").data(M,function(o){return o[0].trace.uid}),E.enter().append("g").attr("class",function(o){return"trace scatter trace"+o[0].trace.uid}).style("stroke-miterlimit",2),E.order(),n(y,E,c),x){d&&(S=d());var w=g.transition().duration(l.duration).ease(l.easing).each("end",function(){S&&S()}).each("interrupt",function(){S&&S()});w.each(function(){h.selectAll("g.trace").each(function(o,L){i(y,L,c,o,M,this,l)})})}else E.each(function(o,L){i(y,L,c,o,M,this,l)});P&&E.exit().remove(),h.selectAll("path:not([d])").remove()};function n(u,y,c){y.each(function(T){var h=C(g.select(this),"g","fills");v.setClipUrl(h,c.layerClipId,u);var l=T[0].trace,d=[];l._ownfill&&d.push("_ownFill"),l._nexttrace&&d.push("_nextFill");var E=h.selectAll("g").data(d,A);E.enter().append("g"),E.exit().each(function(S){l[S]=null}).remove(),E.order().each(function(S){l[S]=C(g.select(this),"path","js-fill")})})}function i(u,y,c,T,h,l,d){var E=u._context.staticPlot,S;f(u,y,c,T,h);var P=!!d&&d.duration>0;function x(Fe){return P?Fe.transition():Fe}var M=c.xaxis,w=c.yaxis,o=T[0].trace,L=o.line,m=g.select(l),F=C(m,"g","errorbars"),I=C(m,"g","lines"),U=C(m,"g","points"),z=C(m,"g","text");if(_.getComponentMethod("errorbars","plot")(u,F,c,d),o.visible!==!0)return;x(m).style("opacity",o.opacity);var N,B,O=o.fill.charAt(o.fill.length-1);O!=="x"&&O!=="y"&&(O=""),T[0][c.isRangePlot?"nodeRangePlot3":"node3"]=m;var H="",Y=[],J=o._prevtrace;J&&(H=J._prevRevpath||"",B=J._nextFill,Y=J._polygons);var re,ie,ce="",Q="",j,Z,$,te,se,ee,q,le=[],oe=a.noop;if(N=o._ownFill,p.hasLines(o)||o.fill!=="none"){for(B&&B.datum(T),["hv","vh","hvh","vhv"].indexOf(L.shape)!==-1?(j=v.steps(L.shape),Z=v.steps(L.shape.split("").reverse().join(""))):L.shape==="spline"?j=Z=function(Fe){var Ze=Fe[Fe.length-1];return Fe.length>1&&Fe[0][0]===Ze[0]&&Fe[0][1]===Ze[1]?v.smoothclosed(Fe.slice(1),L.smoothing):v.smoothopen(Fe,L.smoothing)}:j=Z=function(Fe){return"M"+Fe.join("L")},$=function(Fe){return Z(Fe.reverse())},le=t(T,{xaxis:M,yaxis:w,trace:o,connectGaps:o.connectgaps,baseTolerance:Math.max(L.width||1,3)/4,shape:L.shape,backoff:L.backoff,simplify:L.simplify,fill:o.fill}),q=o._polygons=new Array(le.length),S=0;S<le.length;S++)o._polygons[S]=s(le[S]);le.length&&(te=le[0][0],se=le[le.length-1],ee=se[se.length-1]),oe=function(Fe){return function(Ze){if(re=j(Ze),ie=$(Ze),ce?O?(ce+="L"+re.substr(1),Q=ie+("L"+Q.substr(1))):(ce+="Z"+re,Q=ie+"Z"+Q):(ce=re,Q=ie),p.hasLines(o)){var ut=g.select(this);if(ut.datum(T),Fe)x(ut.style("opacity",0).attr("d",re).call(v.lineGroupStyle)).style("opacity",1);else{var at=x(ut);at.attr("d",re),v.singleLineStyle(T,at)}}}}}var he=I.selectAll(".js-line").data(le);x(he.exit()).style("opacity",0).remove(),he.each(oe(!1)),he.enter().append("path").classed("js-line",!0).style("vector-effect",E?"none":"non-scaling-stroke").call(v.lineGroupStyle).each(oe(!0)),v.setClipUrl(he,c.layerClipId,u);function me(Fe){x(Fe).attr("d","M0,0Z")}le.length?(N?(N.datum(T),te&&ee&&(O?(O==="y"?te[1]=ee[1]=w.c2p(0,!0):O==="x"&&(te[0]=ee[0]=M.c2p(0,!0)),x(N).attr("d","M"+ee+"L"+te+"L"+ce.substr(1)).call(v.singleFillStyle,u)):x(N).attr("d",ce+"Z").call(v.singleFillStyle,u))):B&&(o.fill.substr(0,6)==="tonext"&&ce&&H?(o.fill==="tonext"?x(B).attr("d",ce+"Z"+H+"Z").call(v.singleFillStyle,u):x(B).attr("d",ce+"L"+H.substr(1)+"Z").call(v.singleFillStyle,u),o._polygons=o._polygons.concat(Y)):(me(B),o._polygons=null)),o._prevRevpath=Q,o._prevPolygons=q):(N?me(N):B&&me(B),o._polygons=o._prevRevpath=o._prevPolygons=null);function Ce(Fe){return Fe.filter(function(Ze){return!Ze.gap&&Ze.vis})}function Ae(Fe){return Fe.filter(function(Ze){return Ze.vis})}function Ue(Fe){return Fe.filter(function(Ze){return!Ze.gap})}function Ve(Fe){return Fe.id}function Pe(Fe){if(Fe.ids)return Ve}function be(){return!1}function Le(Fe,Ze,ut){var at,it,$e,st=ut[0].trace,ct=p.hasMarkers(st),vt=p.hasText(st),St=Pe(st),Mt=be,Bt=be;if(ct||vt){var Qe=A,ke=st.stackgroup,ze=ke&&u._fullLayout._scatterStackOpts[M._id+w._id][ke].stackgaps==="infer zero";st.marker.maxdisplayed||st._needsCull?Qe=ze?Ae:Ce:ke&&!ze&&(Qe=Ue),ct&&(Mt=Qe),vt&&(Bt=Qe)}it=Fe.selectAll("path.point"),at=it.data(Mt,St);var Be=at.enter().append("path").classed("point",!0);P&&Be.call(v.pointStyle,st,u).call(v.translatePoints,M,w).style("opacity",0).transition().style("opacity",1),at.order();var Re;ct&&(Re=v.makePointStyleFns(st)),at.each(function(we){var ye=g.select(this),Se=x(ye);$e=v.translatePoint(we,Se,M,w),$e?(v.singlePointStyle(we,Se,st,Re,u),c.layerClipId&&v.hideOutsideRangePoint(we,Se,M,w,st.xcalendar,st.ycalendar),st.customdata&&ye.classed("plotly-customdata",we.data!==null&&we.data!==void 0)):Se.remove()}),P?at.exit().transition().style("opacity",0).remove():at.exit().remove(),it=Ze.selectAll("g"),at=it.data(Bt,St),at.enter().append("g").classed("textpoint",!0).append("text"),at.order(),at.each(function(we){var ye=g.select(this),Se=x(ye.select("text"));$e=v.translatePoint(we,Se,M,w),$e?c.layerClipId&&v.hideOutsideRangePoint(we,ye,M,w,st.xcalendar,st.ycalendar):ye.remove()}),at.selectAll("text").call(v.textPointStyle,st,u).each(function(we){var ye=M.c2p(we.x),Se=w.c2p(we.y);g.select(this).selectAll("tspan.line").each(function(){x(g.select(this)).attr({x:ye,y:Se})})}),at.exit().remove()}U.datum(T),z.datum(T),Le(U,z,T);var We=o.cliponaxis===!1,je=We?null:c.layerClipId;v.setClipUrl(U,je,u),v.setClipUrl(z,je,u)}function f(u,y,c,T,h){var l=c.xaxis,d=c.yaxis,E=g.extent(a.simpleMap(l.range,l.r2c)),S=g.extent(a.simpleMap(d.range,d.r2c)),P=T[0].trace;if(p.hasMarkers(P)){var x=P.marker.maxdisplayed;if(x!==0){var M=T.filter(function(m){return m.x>=E[0]&&m.x<=E[1]&&m.y>=S[0]&&m.y<=S[1]}),w=Math.ceil(M.length/x),o=0;h.forEach(function(m,F){var I=m[0].trace;p.hasMarkers(I)&&I.marker.maxdisplayed>0&&F<y&&o++});var L=Math.round(o*w/3+Math.floor(o/3)*w/7.1);T.forEach(function(m){delete m.vis}),M.forEach(function(m,F){Math.round((F+L)%w)===0&&(m.vis=!0)})}}}},98002:function(G,V,e){var g=e(34098);G.exports=function(a,C){var A=a.cd,v=a.xaxis,p=a.yaxis,t=[],r=A[0].trace,s,n,i,f,u=!g.hasMarkers(r)&&!g.hasText(r);if(u)return[];if(C===!1)for(s=0;s<A.length;s++)A[s].selected=0;else for(s=0;s<A.length;s++)n=A[s],i=v.c2p(n.x),f=p.c2p(n.y),n.i!==null&&C.contains([i,f],!1,s,a)?(t.push({pointNumber:n.i,x:v.c2d(n.x),y:p.c2d(n.y)}),n.selected=1):n.selected=0;return t}},565:function(G){var V=["orientation","groupnorm","stackgaps"];G.exports=function(g,_,a,C){var A=a._scatterStackOpts,v=C("stackgroup");if(v){var p=_.xaxis+_.yaxis,t=A[p];t||(t=A[p]={});var r=t[v],s=!1;r?r.traces.push(_):(r=t[v]={traceIndices:[],traces:[_]},s=!0);for(var n={orientation:_.x&&!_.y?"h":"v"},i=0;i<V.length;i++){var f=V[i],u=f+"Found";if(!r[u]){var y=g[f]!==void 0,c=f==="orientation";if((y||s)&&(r[f]=C(f,n[f]),c&&(r.fillDflt=r[f]==="h"?"tonextx":"tonexty"),y&&(r[u]=!0,!s&&(delete r.traces[0][f],c))))for(var T=0;T<r.traces.length-1;T++){var h=r.traces[T];h._input.fill!==h.fill&&(h.fill=r.fillDflt)}}}return r}}},16296:function(G,V,e){var g=e(39898),_=e(91424),a=e(73972);function C(t){var r=g.select(t).selectAll("g.trace.scatter");r.style("opacity",function(s){return s[0].trace.opacity}),r.selectAll("g.points").each(function(s){var n=g.select(this),i=s.trace||s[0].trace;A(n,i,t)}),r.selectAll("g.text").each(function(s){var n=g.select(this),i=s.trace||s[0].trace;v(n,i,t)}),r.selectAll("g.trace path.js-line").call(_.lineGroupStyle),r.selectAll("g.trace path.js-fill").call(_.fillGroupStyle,t),a.getComponentMethod("errorbars","style")(r)}function A(t,r,s){_.pointStyle(t.selectAll("path.point"),r,s)}function v(t,r,s){_.textPointStyle(t.selectAll("text"),r,s)}function p(t,r,s){var n=r[0].trace;n.selectedpoints?(_.selectedPointStyle(s.selectAll("path.point"),n),_.selectedTextStyle(s.selectAll("text"),n)):(A(s,n,t),v(s,n,t))}G.exports={style:C,stylePoints:A,styleText:v,styleOnSelect:p}},34098:function(G,V,e){var g=e(71828);G.exports={hasLines:function(_){return _.visible&&_.mode&&_.mode.indexOf("lines")!==-1},hasMarkers:function(_){return _.visible&&(_.mode&&_.mode.indexOf("markers")!==-1||_.type==="splom")},hasText:function(_){return _.visible&&_.mode&&_.mode.indexOf("text")!==-1},isBubble:function(_){return g.isPlainObject(_.marker)&&g.isArrayOrTypedArray(_.marker.size)}}},82410:function(G,V,e){var g=e(71828);G.exports=function(_,a,C,A,v){v=v||{},A("textposition"),g.coerceFont(A,"textfont",v.font||C.font),v.noSelect||(A("selected.textfont.color"),A("unselected.textfont.color"))}},67513:function(G,V,e){var g=e(71828),_=e(73972);G.exports=function(C,A,v,p){var t=p("x"),r=p("y"),s,n=_.getComponentMethod("calendars","handleTraceDefaults");if(n(C,A,["x","y"],v),t){var i=g.minRowLength(t);r?s=Math.min(i,g.minRowLength(r)):(s=i,p("y0"),p("dy"))}else{if(!r)return 0;s=g.minRowLength(r),p("x0"),p("dx")}return A._length=s,s}},44542:function(G,V,e){var g=e(82196),_=e(50693),a=e(12663).axisHoverFormat,C=e(5386).fF,A=e(5386).si,v=e(9012),p=e(29659),t=e(87381),r=e(1426).extendFlat,s=e(30962).overrideAll,n=e(78607),i=g.line,f=g.marker,u=f.line,y=r({width:i.width,dash:{valType:"enumerated",values:n(p),dflt:"solid"}},_("line"));function c(h){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var T=G.exports=s({x:g.x,y:g.y,z:{valType:"data_array"},text:r({},g.text,{}),texttemplate:A({},{}),hovertext:r({},g.hovertext,{}),hovertemplate:C(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),mode:r({},g.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:c(),y:c(),z:c()},connectgaps:g.connectgaps,line:y,marker:r({symbol:{valType:"enumerated",values:n(t),dflt:"circle",arrayOk:!0},size:r({},f.size,{dflt:8}),sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode,opacity:r({},f.opacity,{arrayOk:!1}),colorbar:f.colorbar,line:r({width:r({},u.width,{arrayOk:!1})},_("marker.line"))},_("marker")),textposition:r({},g.textposition,{dflt:"top center"}),textfont:{color:g.textfont.color,size:g.textfont.size,family:r({},g.textfont.family,{arrayOk:!1})},opacity:v.opacity,hoverinfo:r({},v.hoverinfo)},"calc","nested");T.x.editType=T.y.editType=T.z.editType="calc+clearAxisTypes"},36563:function(G,V,e){var g=e(75225),_=e(36922);G.exports=function(C,A){var v=[{x:!1,y:!1,trace:A,t:{}}];return g(v,A),_(C,A),v}},67336:function(G,V,e){var g=e(73972);function _(A,v,p,t){if(!v||!v.visible)return null;for(var r=g.getComponentMethod("errorbars","makeComputeError")(v),s=new Array(A.length),n=0;n<A.length;n++){var i=r(+A[n],n);if(t.type==="log"){var f=t.c2l(A[n]),u=A[n]-i[0],y=A[n]+i[1];if(s[n]=[(t.c2l(u,!0)-f)*p,(t.c2l(y,!0)-f)*p],u>0){var c=t.c2l(u);t._lowerLogErrorBound||(t._lowerLogErrorBound=c),t._lowerErrorBound=Math.min(t._lowerLogErrorBound,c)}}else s[n]=[-i[0]*p,i[1]*p]}return s}function a(A){for(var v=0;v<A.length;v++)if(A[v])return A[v].length;return 0}function C(A,v,p){var t=[_(A.x,A.error_x,v[0],p.xaxis),_(A.y,A.error_y,v[1],p.yaxis),_(A.z,A.error_z,v[2],p.zaxis)],r=a(t);if(r===0)return null;for(var s=new Array(r),n=0;n<r;n++){for(var i=[[0,0,0],[0,0,0]],f=0;f<3;f++)if(t[f])for(var u=0;u<2;u++)i[u][f]=t[f][n][u];s[n]=i}return s}G.exports=C},58925:function(G,V,e){var g=e(9330).gl_line3d,_=e(9330).gl_scatter3d,a=e(9330).gl_error3d,C=e(9330).gl_mesh3d,A=e(9330).delaunay_triangulate,v=e(71828),p=e(78614),t=e(81697).formatColor,r=e(39984),s=e(29659),n=e(87381),i=e(89298),f=e(23469).appendArrayPointValue,u=e(67336);function y(m,F){this.scene=m,this.uid=F,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var c=y.prototype;c.handlePick=function(m){if(m.object&&(m.object===this.linePlot||m.object===this.delaunayMesh||m.object===this.textMarkers||m.object===this.scatterPlot)){var F=m.index=m.data.index;return m.object.highlight&&m.object.highlight(null),this.scatterPlot&&(m.object=this.scatterPlot,this.scatterPlot.highlight(m.data)),m.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[F]||this.textLabels[F]===0)&&(m.textLabel=this.textLabels[F]):m.textLabel=this.textLabels),m.traceCoordinate=[this.data.x[F],this.data.y[F],this.data.z[F]],!0}};function T(m,F,I){var U=(I+1)%3,z=(I+2)%3,N=[],B=[],O;for(O=0;O<m.length;++O){var H=m[O];isNaN(H[U])||!isFinite(H[U])||isNaN(H[z])||!isFinite(H[z])||(N.push([H[U],H[z]]),B.push(O))}var Y=A(N);for(O=0;O<Y.length;++O)for(var J=Y[O],re=0;re<J.length;++re)J[re]=B[J[re]];return{positions:m,cells:Y,meshColor:F}}function h(m){for(var F=[0,0,0],I=[[0,0,0],[0,0,0],[0,0,0]],U=[1,1,1],z=0;z<3;z++){var N=m[z];N&&N.copy_zstyle!==!1&&m[2].visible!==!1&&(N=m[2]),!(!N||!N.visible)&&(F[z]=N.width/2,I[z]=p(N.color),U[z]=N.thickness)}return{capSize:F,color:I,lineWidth:U}}function l(m){return m==null?0:m.indexOf("left")>-1?-1:m.indexOf("right")>-1?1:0}function d(m){return m==null?0:m.indexOf("top")>-1?-1:m.indexOf("bottom")>-1?1:0}function E(m){var F=0,I=0,U=[F,I];if(Array.isArray(m))for(var z=0;z<m.length;z++)U[z]=[F,I],m[z]&&(U[z][0]=l(m[z]),U[z][1]=d(m[z]));else U[0]=l(m),U[1]=d(m);return U}function S(m,F){return F(m*4)}function P(m){return n[m]}function x(m,F,I,U,z){var N=null;if(v.isArrayOrTypedArray(m)){N=[];for(var B=0;B<F;B++)m[B]===void 0?N[B]=U:N[B]=I(m[B],z)}else N=I(m,v.identity);return N}function M(m,F){var I=[],U=m.fullSceneLayout,z=m.dataScale,N=U.xaxis,B=U.yaxis,O=U.zaxis,H=F.marker,Y=F.line,J=F.x||[],re=F.y||[],ie=F.z||[],ce=J.length,Q=F.xcalendar,j=F.ycalendar,Z=F.zcalendar,$,te,se,ee,q,le;for(q=0;q<ce;q++)$=N.d2l(J[q],0,Q)*z[0],te=B.d2l(re[q],0,j)*z[1],se=O.d2l(ie[q],0,Z)*z[2],I[q]=[$,te,se];if(Array.isArray(F.text))le=F.text;else if(F.text!==void 0)for(le=new Array(ce),q=0;q<ce;q++)le[q]=F.text;function oe(at,it){var $e=U[at];return i.tickText($e,$e.d2l(it),!0).text}var he=F.texttemplate;if(he){var me=m.fullLayout,Ce=me._d3locale,Ae=Array.isArray(he),Ue=Ae?Math.min(he.length,ce):ce,Ve=Ae?function(at){return he[at]}:function(){return he};for(le=new Array(Ue),q=0;q<Ue;q++){var Pe={x:J[q],y:re[q],z:ie[q]},be={xLabel:oe("xaxis",J[q]),yLabel:oe("yaxis",re[q]),zLabel:oe("zaxis",ie[q])},Le={};f(Le,F,q);var We=F._meta||{};le[q]=v.texttemplateString(Ve(q),be,Ce,Le,Pe,We)}}if(ee={position:I,mode:F.mode,text:le},"line"in F&&(ee.lineColor=t(Y,1,ce),ee.lineWidth=Y.width,ee.lineDashes=Y.dash),"marker"in F){var je=r(F);ee.scatterColor=t(H,1,ce),ee.scatterSize=x(H.size,ce,S,20,je),ee.scatterMarker=x(H.symbol,ce,P,""),ee.scatterLineWidth=H.line.width,ee.scatterLineColor=t(H.line,1,ce),ee.scatterAngle=0}"textposition"in F&&(ee.textOffset=E(F.textposition),ee.textColor=t(F.textfont,1,ce),ee.textSize=x(F.textfont.size,ce,v.identity,12),ee.textFont=F.textfont.family,ee.textAngle=0);var Fe=["x","y","z"];for(ee.project=[!1,!1,!1],ee.projectScale=[1,1,1],ee.projectOpacity=[1,1,1],q=0;q<3;++q){var Ze=F.projection[Fe[q]];(ee.project[q]=Ze.show)&&(ee.projectOpacity[q]=Ze.opacity,ee.projectScale[q]=Ze.scale)}ee.errorBounds=u(F,z,U);var ut=h([F.error_x,F.error_y,F.error_z]);return ee.errorColor=ut.color,ee.errorLineWidth=ut.lineWidth,ee.errorCapSize=ut.capSize,ee.delaunayAxis=F.surfaceaxis,ee.delaunayColor=p(F.surfacecolor),ee}function w(m){if(v.isArrayOrTypedArray(m)){var F=m[0];return v.isArrayOrTypedArray(F)&&(m=F),"rgb("+m.slice(0,3).map(function(I){return Math.round(I*255)})+")"}return null}function o(m){return v.isArrayOrTypedArray(m)?m.length===4&&typeof m[0]=="number"?w(m):m.map(w):null}c.update=function(m){var F=this.scene.glplot.gl,I,U,z,N,B=s.solid;this.data=m;var O=M(this.scene,m);"mode"in O&&(this.mode=O.mode),"lineDashes"in O&&O.lineDashes in s&&(B=s[O.lineDashes]),this.color=o(O.scatterColor)||o(O.lineColor),this.dataPoints=O.position,I={gl:this.scene.glplot.gl,position:O.position,color:O.lineColor,lineWidth:O.lineWidth||1,dashes:B[0],dashScale:B[1],opacity:m.opacity,connectGaps:m.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(I):(this.linePlot=g(I),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var H=m.opacity;if(m.marker&&m.marker.opacity!==void 0&&(H*=m.marker.opacity),U={gl:this.scene.glplot.gl,position:O.position,color:O.scatterColor,size:O.scatterSize,glyph:O.scatterMarker,opacity:H,orthographic:!0,lineWidth:O.scatterLineWidth,lineColor:O.scatterLineColor,project:O.project,projectScale:O.projectScale,projectOpacity:O.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(U):(this.scatterPlot=_(U),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),N={gl:this.scene.glplot.gl,position:O.position,glyph:O.text,color:O.textColor,size:O.textSize,angle:O.textAngle,alignment:O.textOffset,font:O.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:m.opacity},this.textLabels=m.hovertext||m.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(N):(this.textMarkers=_(N),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),z={gl:this.scene.glplot.gl,position:O.position,color:O.errorColor,error:O.errorBounds,lineWidth:O.errorLineWidth,capSize:O.errorCapSize,opacity:m.opacity},this.errorBars?O.errorBounds?this.errorBars.update(z):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):O.errorBounds&&(this.errorBars=a(z),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),O.delaunayAxis>=0){var Y=T(O.position,O.delaunayColor,O.delaunayAxis);Y.opacity=m.opacity,this.delaunayMesh?this.delaunayMesh.update(Y):(Y.gl=F,this.delaunayMesh=C(Y),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},c.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function L(m,F){var I=new y(m,F.uid);return I.update(F),I}G.exports=L},21428:function(G,V,e){var g=e(73972),_=e(71828),a=e(34098),C=e(49508),A=e(11058),v=e(82410),p=e(44542);G.exports=function(s,n,i,f){function u(S,P){return _.coerce(s,n,p,S,P)}var y=t(s,n,u,f);if(!y){n.visible=!1;return}u("text"),u("hovertext"),u("hovertemplate"),u("xhoverformat"),u("yhoverformat"),u("zhoverformat"),u("mode"),a.hasLines(n)&&(u("connectgaps"),A(s,n,i,f,u)),a.hasMarkers(n)&&C(s,n,i,f,u,{noSelect:!0,noAngle:!0}),a.hasText(n)&&(u("texttemplate"),v(s,n,f,u,{noSelect:!0}));var c=(n.line||{}).color,T=(n.marker||{}).color;u("surfaceaxis")>=0&&u("surfacecolor",c||T);for(var h=["x","y","z"],l=0;l<3;++l){var d="projection."+h[l];u(d+".show")&&(u(d+".opacity"),u(d+".scale"))}var E=g.getComponentMethod("errorbars","supplyDefaults");E(s,n,c||T||i,{axis:"z"}),E(s,n,c||T||i,{axis:"y",inherit:"z"}),E(s,n,c||T||i,{axis:"x",inherit:"z"})};function t(r,s,n,i){var f=0,u=n("x"),y=n("y"),c=n("z"),T=g.getComponentMethod("calendars","handleTraceDefaults");return T(r,s,["x","y","z"],i),u&&y&&c&&(f=Math.min(u.length,y.length,c.length),s._length=s._xlength=s._ylength=s._zlength=f),f}},13551:function(G,V,e){G.exports={plot:e(58925),attributes:e(44542),markerSymbols:e(87381),supplyDefaults:e(21428),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(36563),moduleType:"trace",name:"scatter3d",basePlotModule:e(58547),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},97001:function(G,V,e){var g=e(82196),_=e(9012),a=e(5386).fF,C=e(5386).si,A=e(50693),v=e(1426).extendFlat,p=g.marker,t=g.line,r=p.line;G.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:v({},g.mode,{dflt:"markers"}),text:v({},g.text,{}),texttemplate:C({editType:"plot"},{keys:["a","b","text"]}),hovertext:v({},g.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:v({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:g.connectgaps,fill:v({},g.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:g.fillcolor,marker:v({symbol:p.symbol,opacity:p.opacity,maxdisplayed:p.maxdisplayed,angle:p.angle,angleref:p.angleref,standoff:p.standoff,size:p.size,sizeref:p.sizeref,sizemin:p.sizemin,sizemode:p.sizemode,line:v({width:r.width,editType:"calc"},A("marker.line")),gradient:p.gradient,editType:"calc"},A("marker")),textfont:g.textfont,textposition:g.textposition,selected:g.selected,unselected:g.unselected,hoverinfo:v({},_.hoverinfo,{flags:["a","b","text","name"]}),hoveron:g.hoveron,hovertemplate:a()}},34618:function(G,V,e){var g=e(92770),_=e(36922),a=e(75225),C=e(66279),A=e(47761).calcMarkerSize,v=e(22882);G.exports=function(t,r){var s=r._carpetTrace=v(t,r);if(!(!s||!s.visible||s.visible==="legendonly")){var n;r.xaxis=s.xaxis,r.yaxis=s.yaxis;var i=r._length,f=new Array(i),u,y,c=!1;for(n=0;n<i;n++)if(u=r.a[n],y=r.b[n],g(u)&&g(y)){var T=s.ab2xy(+u,+y,!0),h=s.isVisible(+u,+y);h||(c=!0),f[n]={x:T[0],y:T[1],a:u,b:y,vis:h}}else f[n]={x:!1,y:!1};return r._needsCull=c,f[0].carpet=s,f[0].trace=r,A(r,i),_(t,r),a(f,r),C(f,r),f}}},98965:function(G,V,e){var g=e(71828),_=e(47581),a=e(34098),C=e(49508),A=e(11058),v=e(94039),p=e(82410),t=e(28908),r=e(97001);G.exports=function(n,i,f,u){function y(S,P){return g.coerce(n,i,r,S,P)}y("carpet"),i.xaxis="x",i.yaxis="y";var c=y("a"),T=y("b"),h=Math.min(c.length,T.length);if(!h){i.visible=!1;return}i._length=h,y("text"),y("texttemplate"),y("hovertext");var l=h<_.PTS_LINESONLY?"lines+markers":"lines";y("mode",l),a.hasLines(i)&&(A(n,i,f,u,y,{backoff:!0}),v(n,i,y),y("connectgaps")),a.hasMarkers(i)&&C(n,i,f,u,y,{gradient:!0}),a.hasText(i)&&p(n,i,u,y);var d=[];(a.hasMarkers(i)||a.hasText(i))&&(y("marker.maxdisplayed"),d.push("points")),y("fill"),i.fill!=="none"&&(t(n,i,f,y),a.hasLines(i)||v(n,i,y)),(i.fill==="tonext"||i.fill==="toself")&&d.push("fills");var E=y("hoveron",d.join("+")||"points");E!=="fills"&&y("hovertemplate"),g.coerceSelectionMarkerOpacity(i,y)}},16165:function(G){G.exports=function(e,g,_,a,C){var A=a[C];return e.a=A.a,e.b=A.b,e.y=A.y,e}},48953:function(G){G.exports=function(e,g){var _={},a=g._carpet,C=a.ab2ij([e.a,e.b]),A=Math.floor(C[0]),v=C[0]-A,p=Math.floor(C[1]),t=C[1]-p,r=a.evalxy([],A,p,v,t);return _.yLabel=r[1].toFixed(3),_}},22931:function(G,V,e){var g=e(33720),_=e(71828).fillText;G.exports=function(C,A,v,p){var t=g(C,A,v,p);if(!t||t[0].index===!1)return;var r=t[0];if(r.index===void 0){var s=1-r.y0/C.ya._length,n=C.xa._length,i=n*s/2,f=n-i;return r.x0=Math.max(Math.min(r.x0,f),i),r.x1=Math.max(Math.min(r.x1,f),i),t}var u=r.cd[r.index];r.a=u.a,r.b=u.b,r.xLabelVal=void 0,r.yLabelVal=void 0;var y=r.trace,c=y._carpet,T=y._module.formatLabels(u,y);r.yLabel=T.yLabel,delete r.text;var h=[];function l(S,P){var x;S.labelprefix&&S.labelprefix.length>0?x=S.labelprefix.replace(/ = $/,""):x=S._hovertitle,h.push(x+": "+P.toFixed(3)+S.labelsuffix)}if(!y.hovertemplate){var d=u.hi||y.hoverinfo,E=d.split("+");E.indexOf("all")!==-1&&(E=["a","b","text"]),E.indexOf("a")!==-1&&l(c.aaxis,u.a),E.indexOf("b")!==-1&&l(c.baxis,u.b),h.push("y: "+r.yLabel),E.indexOf("text")!==-1&&_(u,y,h),r.extraText=h.join("<br>")}return t}},46858:function(G,V,e){G.exports={attributes:e(97001),supplyDefaults:e(98965),colorbar:e(4898),formatLabels:e(48953),calc:e(34618),plot:e(1913),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(22931),selectPoints:e(98002),eventData:e(16165),moduleType:"trace",name:"scattercarpet",basePlotModule:e(93612),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},1913:function(G,V,e){var g=e(32663),_=e(89298),a=e(91424);G.exports=function(A,v,p,t){var r,s,n,i=p[0][0].carpet,f=_.getFromId(A,i.xaxis||"x"),u=_.getFromId(A,i.yaxis||"y"),y={xaxis:f,yaxis:u,plot:v.plot};for(r=0;r<p.length;r++)s=p[r][0].trace,s._xA=f,s._yA=u;for(g(A,y,p,t),r=0;r<p.length;r++)s=p[r][0].trace,n=t.selectAll("g.trace"+s.uid+" .js-line"),a.setClipUrl(n,p[r][0].carpet._clipPathId,A)}},19316:function(G,V,e){var g=e(5386).fF,_=e(5386).si,a=e(82196),C=e(9012),A=e(50693),v=e(79952).P,p=e(1426).extendFlat,t=e(30962).overrideAll,r=a.marker,s=a.line,n=r.line;G.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:p({},a.mode,{dflt:"markers"}),text:p({},a.text,{}),texttemplate:_({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:p({},a.hovertext,{}),textfont:a.textfont,textposition:a.textposition,line:{color:s.color,width:s.width,dash:v},connectgaps:a.connectgaps,marker:p({symbol:r.symbol,opacity:r.opacity,angle:r.angle,angleref:p({},r.angleref,{values:["previous","up","north"]}),standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,colorbar:r.colorbar,line:p({width:n.width},A("marker.line")),gradient:r.gradient},A("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:a.fillcolor,selected:a.selected,unselected:a.unselected,hoverinfo:p({},C.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:g()},"calc","nested")},84622:function(G,V,e){var g=e(92770),_=e(50606).BADNUM,a=e(36922),C=e(75225),A=e(66279),v=e(71828)._;function p(t){return t&&typeof t=="string"}G.exports=function(r,s){var n=Array.isArray(s.locations),i=n?s.locations.length:s._length,f=new Array(i),u;s.geojson?u=function(d){return p(d)||g(d)}:u=p;for(var y=0;y<i;y++){var c=f[y]={};if(n){var T=s.locations[y];c.loc=u(T)?T:null}else{var h=s.lon[y],l=s.lat[y];g(h)&&g(l)?c.lonlat=[+h,+l]:c.lonlat=[_,_]}}return C(f,s),a(r,s),A(f,s),i&&(f[0].t={labels:{lat:v(r,"lat:")+" ",lon:v(r,"lon:")+" "}}),f}},10659:function(G,V,e){var g=e(71828),_=e(34098),a=e(49508),C=e(11058),A=e(82410),v=e(28908),p=e(19316);G.exports=function(r,s,n,i){function f(E,S){return g.coerce(r,s,p,E,S)}var u=f("locations"),y;if(u&&u.length){var c=f("geojson"),T;(typeof c=="string"&&c!==""||g.isPlainObject(c))&&(T="geojson-id");var h=f("locationmode",T);h==="geojson-id"&&f("featureidkey"),y=u.length}else{var l=f("lon")||[],d=f("lat")||[];y=Math.min(l.length,d.length)}if(!y){s.visible=!1;return}s._length=y,f("text"),f("hovertext"),f("hovertemplate"),f("mode"),_.hasLines(s)&&(C(r,s,n,i,f),f("connectgaps")),_.hasMarkers(s)&&a(r,s,n,i,f,{gradient:!0}),_.hasText(s)&&(f("texttemplate"),A(r,s,i,f)),f("fill"),s.fill!=="none"&&v(r,s,n,f),g.coerceSelectionMarkerOpacity(s,f)}},84084:function(G){G.exports=function(e,g,_,a,C){e.lon=g.lon,e.lat=g.lat,e.location=g.loc?g.loc:null;var A=a[C];return A.fIn&&A.fIn.properties&&(e.properties=A.fIn.properties),e}},82719:function(G,V,e){var g=e(89298);G.exports=function(a,C,A){var v={},p=A[C.geo]._subplot,t=p.mockAxis,r=a.lonlat;return v.lonLabel=g.tickText(t,t.c2l(r[0]),!0).text,v.latLabel=g.tickText(t,t.c2l(r[1]),!0).text,v}},14977:function(G,V,e){var g=e(30211),_=e(50606).BADNUM,a=e(34603),C=e(71828).fillText,A=e(19316);G.exports=function(t,r,s){var n=t.cd,i=n[0].trace,f=t.xa,u=t.ya,y=t.subplot,c=y.projection.isLonLatOverEdges,T=y.project;function h(M){var w=M.lonlat;if(w[0]===_||c(w))return 1/0;var o=T(w),L=T([r,s]),m=Math.abs(o[0]-L[0]),F=Math.abs(o[1]-L[1]),I=Math.max(3,M.mrc||0);return Math.max(Math.sqrt(m*m+F*F)-I,1-3/I)}if(g.getClosest(n,h,t),t.index!==!1){var l=n[t.index],d=l.lonlat,E=[f.c2p(d),u.c2p(d)],S=l.mrc||1;t.x0=E[0]-S,t.x1=E[0]+S,t.y0=E[1]-S,t.y1=E[1]+S,t.loc=l.loc,t.lon=d[0],t.lat=d[1];var P={};P[i.geo]={_subplot:y};var x=i._module.formatLabels(l,i,P);return t.lonLabel=x.lonLabel,t.latLabel=x.latLabel,t.color=a(i,l),t.extraText=v(i,l,t,n[0].t.labels),t.hovertemplate=i.hovertemplate,[t]}};function v(p,t,r,s){if(p.hovertemplate)return;var n=t.hi||p.hoverinfo,i=n==="all"?A.hoverinfo.flags:n.split("+"),f=i.indexOf("location")!==-1&&Array.isArray(p.locations),u=i.indexOf("lon")!==-1,y=i.indexOf("lat")!==-1,c=i.indexOf("text")!==-1,T=[];function h(l){return l+""}return f?T.push(t.loc):u&&y?T.push("("+h(r.latLabel)+", "+h(r.lonLabel)+")"):u?T.push(s.lon+h(r.lonLabel)):y&&T.push(s.lat+h(r.latLabel)),c&&C(t,p,T),T.join("<br>")}},17988:function(G,V,e){G.exports={attributes:e(19316),supplyDefaults:e(10659),colorbar:e(4898),formatLabels:e(82719),calc:e(84622),calcGeoJSON:e(89171).calcGeoJSON,plot:e(89171).plot,style:e(33095),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(14977),eventData:e(84084),selectPoints:e(20548),moduleType:"trace",name:"scattergeo",basePlotModule:e(44622),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},89171:function(G,V,e){var g=e(39898),_=e(71828),a=e(90973).getTopojsonFeatures,C=e(18214),A=e(41327),v=e(71739).findExtremes,p=e(50606).BADNUM,t=e(47761).calcMarkerSize,r=e(34098),s=e(33095);function n(f,u,y){var c=u.layers.frontplot.select(".scatterlayer"),T=_.makeTraceGroups(c,y,"trace scattergeo");function h(l,d){l.lonlat[0]===p&&g.select(d).remove()}T.selectAll("*").remove(),T.each(function(l){var d=g.select(this),E=l[0].trace;if(r.hasLines(E)||E.fill!=="none"){var S=C.calcTraceToLineCoords(l),P=E.fill!=="none"?C.makePolygon(S):C.makeLine(S);d.selectAll("path.js-line").data([{geojson:P,trace:E}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}r.hasMarkers(E)&&d.selectAll("path.point").data(_.identity).enter().append("path").classed("point",!0).each(function(x){h(x,this)}),r.hasText(E)&&d.selectAll("g").data(_.identity).enter().append("g").append("text").each(function(x){h(x,this)}),s(f,l)})}function i(f,u){var y=f[0].trace,c=u[y.geo],T=c._subplot,h=y._length,l,d;if(Array.isArray(y.locations)){var E=y.locationmode,S=E==="geojson-id"?A.extractTraceFeature(f):a(y,T.topojson);for(l=0;l<h;l++){d=f[l];var P=E==="geojson-id"?d.fOut:A.locationToFeature(E,d.loc,S);d.lonlat=P?P.properties.ct:[p,p]}}var x={padded:!0},M,w;if(c.fitbounds==="geojson"&&y.locationmode==="geojson-id"){var o=A.computeBbox(A.getTraceGeojson(y));M=[o[0],o[2]],w=[o[1],o[3]]}else{for(M=new Array(h),w=new Array(h),l=0;l<h;l++)d=f[l],M[l]=d.lonlat[0],w[l]=d.lonlat[1];x.ppad=t(y,h)}y._extremes.lon=v(c.lonaxis._ax,M,x),y._extremes.lat=v(c.lataxis._ax,w,x)}G.exports={calcGeoJSON:i,plot:n}},20548:function(G,V,e){var g=e(34098),_=e(50606).BADNUM;G.exports=function(C,A){var v=C.cd,p=C.xaxis,t=C.yaxis,r=[],s=v[0].trace,n,i,f,u,y,c=!g.hasMarkers(s)&&!g.hasText(s);if(c)return[];if(A===!1)for(y=0;y<v.length;y++)v[y].selected=0;else for(y=0;y<v.length;y++)n=v[y],i=n.lonlat,i[0]!==_&&(f=p.c2p(i),u=t.c2p(i),A.contains([f,u],null,y,C)?(r.push({pointNumber:y,lon:i[0],lat:i[1]}),n.selected=1):n.selected=0);return r}},33095:function(G,V,e){var g=e(39898),_=e(91424),a=e(7901),C=e(16296),A=C.stylePoints,v=C.styleText;G.exports=function(r,s){s&&p(r,s)};function p(t,r){var s=r[0].trace,n=r[0].node3;n.style("opacity",r[0].trace.opacity),A(n,s,t),v(n,s,t),n.selectAll("path.js-line").style("fill","none").each(function(i){var f=g.select(this),u=i.trace,y=u.line||{};f.call(a.stroke,y.color).call(_.dashLine,y.dash||"",y.width||0),u.fill!=="none"&&f.call(a.fill,u.fillcolor)})}},42341:function(G,V,e){var g=e(9012),_=e(82196),a=e(12663).axisHoverFormat,C=e(50693),A=e(78607),v=e(1426).extendFlat,p=e(30962).overrideAll,t=e(78232).DASHES,r=_.line,s=_.marker,n=s.line,i=G.exports=p({x:_.x,x0:_.x0,dx:_.dx,y:_.y,y0:_.y0,dy:_.dy,xperiod:_.xperiod,yperiod:_.yperiod,xperiod0:_.xperiod0,yperiod0:_.yperiod0,xperiodalignment:_.xperiodalignment,yperiodalignment:_.yperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),text:_.text,hovertext:_.hovertext,textposition:_.textposition,textfont:_.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:r.color,width:r.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:A(t),dflt:"solid"}},marker:v({},C("marker"),{symbol:s.symbol,angle:s.angle,size:s.size,sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,opacity:s.opacity,colorbar:s.colorbar,line:v({},C("marker.line"),{width:n.width})}),connectgaps:_.connectgaps,fill:v({},_.fill,{dflt:"none"}),fillcolor:_.fillcolor,selected:{marker:_.selected.marker,textfont:_.selected.textfont},unselected:{marker:_.unselected.marker,textfont:_.unselected.textfont},opacity:g.opacity},"calc","nested");i.x.editType=i.y.editType=i.x0.editType=i.y0.editType="calc+clearAxisTypes",i.hovertemplate=_.hovertemplate,i.texttemplate=_.texttemplate},72156:function(G,V,e){var g=e(20794);G.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(93612),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(42341),supplyDefaults:e(47148),crossTraceDefaults:e(34936),colorbar:e(4898),formatLabels:e(68101),calc:e(45032),hoverPoints:g.hoverPoints,selectPoints:e(58147),meta:{}}},45032:function(G,V,e){var g=e(88294),_=e(71828),a=e(41675),C=e(71739).findExtremes,A=e(42973),v=e(47761),p=v.calcMarkerSize,t=v.calcAxisExpansion,r=v.setFirstScatter,s=e(36922),n=e(19635),i=e(38967),f=e(50606).BADNUM,u=e(78232).TOO_MANY_POINTS;G.exports=function(h,l){var d=h._fullLayout,E=l._xA=a.getFromId(h,l.xaxis,"x"),S=l._yA=a.getFromId(h,l.yaxis,"y"),P=d._plots[l.xaxis+l.yaxis],x=l._length,M=x>=u,w=x*2,o={},L,m=E.makeCalcdata(l,"x"),F=S.makeCalcdata(l,"y"),I=A(l,E,"x",m),U=A(l,S,"y",F),z=I.vals,N=U.vals;l._x=z,l._y=N,l.xperiodalignment&&(l._origX=m,l._xStarts=I.starts,l._xEnds=I.ends),l.yperiodalignment&&(l._origY=F,l._yStarts=U.starts,l._yEnds=U.ends);var B=new Array(w),O=new Array(x);for(L=0;L<x;L++)B[L*2]=z[L]===f?NaN:z[L],B[L*2+1]=N[L]===f?NaN:N[L],O[L]=L;if(E.type==="log")for(L=0;L<w;L+=2)B[L]=E.c2l(B[L]);if(S.type==="log")for(L=1;L<w;L+=2)B[L]=S.c2l(B[L]);M&&E.type!=="log"&&S.type!=="log"?o.tree=g(B):o.ids=O,s(h,l);var H=c(h,P,l,B,z,N),Y=i(h,P);r(d,l);var J;return M?H.marker&&(J=H.marker.sizeAvg||Math.max(H.marker.size,3)):J=p(l,x),t(h,l,E,S,z,N,J),H.errorX&&y(l,E,H.errorX),H.errorY&&y(l,S,H.errorY),H.fill&&!Y.fill2d&&(Y.fill2d=!0),H.marker&&!Y.scatter2d&&(Y.scatter2d=!0),H.line&&!Y.line2d&&(Y.line2d=!0),(H.errorX||H.errorY)&&!Y.error2d&&(Y.error2d=!0),H.text&&!Y.glText&&(Y.glText=!0),H.marker&&(H.marker.snap=x),Y.lineOptions.push(H.line),Y.errorXOptions.push(H.errorX),Y.errorYOptions.push(H.errorY),Y.fillOptions.push(H.fill),Y.markerOptions.push(H.marker),Y.markerSelectedOptions.push(H.markerSel),Y.markerUnselectedOptions.push(H.markerUnsel),Y.textOptions.push(H.text),Y.textSelectedOptions.push(H.textSel),Y.textUnselectedOptions.push(H.textUnsel),Y.selectBatch.push([]),Y.unselectBatch.push([]),o._scene=Y,o.index=Y.count,o.x=z,o.y=N,o.positions=B,Y.count++,[{x:!1,y:!1,t:o,trace:l}]};function y(T,h,l){var d=T._extremes[h._id],E=C(h,l._bnds,{padded:!0});d.min=d.min.concat(E.min),d.max=d.max.concat(E.max)}function c(T,h,l,d,E,S){var P=n.style(T,l);if(P.marker&&(P.marker.positions=d),P.line&&d.length>1&&_.extendFlat(P.line,n.linePositions(T,l,d)),P.errorX||P.errorY){var x=n.errorBarPositions(T,l,d,E,S);P.errorX&&_.extendFlat(P.errorX,x.x),P.errorY&&_.extendFlat(P.errorY,x.y)}return P.text&&(_.extendFlat(P.text,{positions:d},n.textPosition(T,l,P.text,P.marker)),_.extendFlat(P.textSel,{positions:d},n.textPosition(T,l,P.text,P.markerSel)),_.extendFlat(P.textUnsel,{positions:d},n.textPosition(T,l,P.text,P.markerUnsel))),P}},78232:function(G){var V=20;G.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:V,SYMBOL_STROKE:V/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19635:function(G,V,e){var g=e(92770),_=e(82019),a=e(25075),C=e(73972),A=e(71828),v=e(91424),p=e(41675),t=e(81697).formatColor,r=e(34098),s=e(39984),n=e(68645),i=e(78232),f=e(37822).DESELECTDIM,u={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},y=e(23469).appendArrayPointValue;function c(I,U){var z,N={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},B=I._context.plotGlPixelRatio;if(U.visible!==!0)return N;if(r.hasText(U)&&(N.text=T(I,U),N.textSel=d(I,U,U.selected),N.textUnsel=d(I,U,U.unselected)),r.hasMarkers(U)&&(N.marker=h(I,U),N.markerSel=l(I,U,U.selected),N.markerUnsel=l(I,U,U.unselected),!U.unselected&&A.isArrayOrTypedArray(U.marker.opacity))){var O=U.marker.opacity;for(N.markerUnsel.opacity=new Array(O.length),z=0;z<O.length;z++)N.markerUnsel.opacity[z]=f*O[z]}if(r.hasLines(U)){N.line={overlay:!0,thickness:U.line.width*B,color:U.line.color,opacity:U.opacity};var H=(i.DASHES[U.line.dash]||[1]).slice();for(z=0;z<H.length;++z)H[z]*=U.line.width*B;N.line.dashes=H}return U.error_x&&U.error_x.visible&&(N.errorX=E(U,U.error_x,B)),U.error_y&&U.error_y.visible&&(N.errorY=E(U,U.error_y,B)),U.fill&&U.fill!=="none"&&(N.fill={closed:!0,fill:U.fillcolor,thickness:0}),N}function T(I,U){var z=I._fullLayout,N=U._length,B=U.textfont,O=U.textposition,H=Array.isArray(O)?O:[O],Y=B.color,J=B.size,re=B.family,ie={},ce,Q=I._context.plotGlPixelRatio,j=U.texttemplate;if(j){ie.text=[];var Z=z._d3locale,$=Array.isArray(j),te=$?Math.min(j.length,N):N,se=$?function(Ce){return j[Ce]}:function(){return j};for(ce=0;ce<te;ce++){var ee={i:ce},q=U._module.formatLabels(ee,U,z),le={};y(le,U,ce);var oe=U._meta||{};ie.text.push(A.texttemplateString(se(ce),q,Z,le,ee,oe))}}else Array.isArray(U.text)&&U.text.length<N?ie.text=U.text.slice():ie.text=U.text;if(Array.isArray(ie.text))for(ce=ie.text.length;ce<N;ce++)ie.text[ce]="";for(ie.opacity=U.opacity,ie.font={},ie.align=[],ie.baseline=[],ce=0;ce<H.length;ce++){var he=H[ce].split(/\s+/);switch(he[1]){case"left":ie.align.push("right");break;case"right":ie.align.push("left");break;default:ie.align.push(he[1])}switch(he[0]){case"top":ie.baseline.push("bottom");break;case"bottom":ie.baseline.push("top");break;default:ie.baseline.push(he[0])}}if(Array.isArray(Y))for(ie.color=new Array(N),ce=0;ce<N;ce++)ie.color[ce]=Y[ce];else ie.color=Y;if(A.isArrayOrTypedArray(J)||Array.isArray(re))for(ie.font=new Array(N),ce=0;ce<N;ce++){var me=ie.font[ce]={};me.size=(A.isTypedArray(J)?J[ce]:Array.isArray(J)?g(J[ce])?J[ce]:0:J)*Q,me.family=Array.isArray(re)?re[ce]:re}else ie.font={size:J*Q,family:re};return ie}function h(I,U){var z=U._length,N=U.marker,B={},O,H=A.isArrayOrTypedArray(N.symbol),Y=A.isArrayOrTypedArray(N.angle),J=A.isArrayOrTypedArray(N.color),re=A.isArrayOrTypedArray(N.line.color),ie=A.isArrayOrTypedArray(N.opacity),ce=A.isArrayOrTypedArray(N.size),Q=A.isArrayOrTypedArray(N.line.width),j;if(H||(j=n.isOpenSymbol(N.symbol)),H||J||re||ie||Y){B.symbols=new Array(z),B.angles=new Array(z),B.colors=new Array(z),B.borderColors=new Array(z);var Z=N.symbol,$=N.angle,te=t(N,N.opacity,z),se=t(N.line,N.opacity,z);if(!Array.isArray(se[0])){var ee=se;for(se=Array(z),O=0;O<z;O++)se[O]=ee}if(!Array.isArray(te[0])){var q=te;for(te=Array(z),O=0;O<z;O++)te[O]=q}if(!Array.isArray(Z)){var le=Z;for(Z=Array(z),O=0;O<z;O++)Z[O]=le}if(!Array.isArray($)){var oe=$;for($=Array(z),O=0;O<z;O++)$[O]=oe}for(B.symbols=Z,B.angles=$,B.colors=te,B.borderColors=se,O=0;O<z;O++)H&&(j=n.isOpenSymbol(N.symbol[O])),j&&(se[O]=te[O].slice(),te[O]=te[O].slice(),te[O][3]=0);for(B.opacity=U.opacity,B.markers=new Array(z),O=0;O<z;O++)B.markers[O]=o({mx:B.symbols[O],ma:B.angles[O]},U)}else j?(B.color=a(N.color,"uint8"),B.color[3]=0,B.borderColor=a(N.color,"uint8")):(B.color=a(N.color,"uint8"),B.borderColor=a(N.line.color,"uint8")),B.opacity=U.opacity*N.opacity,B.marker=o({mx:N.symbol,ma:N.angle},U);var he=1,me=s(U,he),Ce;if(ce||Q){var Ae=B.sizes=new Array(z),Ue=B.borderSizes=new Array(z),Ve=0,Pe;if(ce){for(O=0;O<z;O++)Ae[O]=me(N.size[O]),Ve+=Ae[O];Pe=Ve/z}else for(Ce=me(N.size),O=0;O<z;O++)Ae[O]=Ce;if(Q)for(O=0;O<z;O++)Ue[O]=N.line.width[O];else for(Ce=N.line.width,O=0;O<z;O++)Ue[O]=Ce;B.sizeAvg=Pe}else B.size=me(N&&N.size||10),B.borderSizes=me(N.line.width);return B}function l(I,U,z){var N=U.marker,B={};return z&&(z.marker&&z.marker.symbol?B=h(I,A.extendFlat({},N,z.marker)):z.marker&&(z.marker.size&&(B.size=z.marker.size),z.marker.color&&(B.colors=z.marker.color),z.marker.opacity!==void 0&&(B.opacity=z.marker.opacity))),B}function d(I,U,z){var N={};if(!z)return N;if(z.textfont){var B={opacity:1,text:U.text,texttemplate:U.texttemplate,textposition:U.textposition,textfont:A.extendFlat({},U.textfont)};z.textfont&&A.extendFlat(B.textfont,z.textfont),N=T(I,B)}return N}function E(I,U,z){var N={capSize:U.width*2*z,lineWidth:U.thickness*z,color:U.color};return U.copy_ystyle&&(N=I.error_y),N}var S=i.SYMBOL_SDF_SIZE,P=i.SYMBOL_SIZE,x=i.SYMBOL_STROKE,M={},w=v.symbolFuncs[0](P*.05);function o(I,U){var z=I.mx;if(z==="circle")return null;var N,B,O=v.symbolNumber(z),H=v.symbolFuncs[O%100],Y=!!v.symbolNoDot[O%100],J=!!v.symbolNoFill[O%100],re=n.isDotSymbol(z);if(I.ma&&(z+="_"+I.ma),M[z])return M[z];var ie=v.getMarkerAngle(I,U);return re&&!Y?N=H(P*1.1,ie)+w:N=H(P,ie),B=_(N,{w:S,h:S,viewBox:[-P,-P,P,P],stroke:J?x:-x}),M[z]=B,B||null}function L(I,U,z){var N=z.length,B=N/2,O,H;if(r.hasLines(U)&&B)if(U.line.shape==="hv"){for(O=[],H=0;H<B-1;H++)isNaN(z[H*2])||isNaN(z[H*2+1])?O.push(NaN,NaN,NaN,NaN):(O.push(z[H*2],z[H*2+1]),!isNaN(z[H*2+2])&&!isNaN(z[H*2+3])?O.push(z[H*2+2],z[H*2+1]):O.push(NaN,NaN));O.push(z[N-2],z[N-1])}else if(U.line.shape==="hvh"){for(O=[],H=0;H<B-1;H++)if(isNaN(z[H*2])||isNaN(z[H*2+1])||isNaN(z[H*2+2])||isNaN(z[H*2+3]))!isNaN(z[H*2])&&!isNaN(z[H*2+1])?O.push(z[H*2],z[H*2+1]):O.push(NaN,NaN),O.push(NaN,NaN);else{var Y=(z[H*2]+z[H*2+2])/2;O.push(z[H*2],z[H*2+1],Y,z[H*2+1],Y,z[H*2+3])}O.push(z[N-2],z[N-1])}else if(U.line.shape==="vhv"){for(O=[],H=0;H<B-1;H++)if(isNaN(z[H*2])||isNaN(z[H*2+1])||isNaN(z[H*2+2])||isNaN(z[H*2+3]))!isNaN(z[H*2])&&!isNaN(z[H*2+1])?O.push(z[H*2],z[H*2+1]):O.push(NaN,NaN),O.push(NaN,NaN);else{var J=(z[H*2+1]+z[H*2+3])/2;O.push(z[H*2],z[H*2+1],z[H*2],J,z[H*2+2],J)}O.push(z[N-2],z[N-1])}else if(U.line.shape==="vh"){for(O=[],H=0;H<B-1;H++)isNaN(z[H*2])||isNaN(z[H*2+1])?O.push(NaN,NaN,NaN,NaN):(O.push(z[H*2],z[H*2+1]),!isNaN(z[H*2+2])&&!isNaN(z[H*2+3])?O.push(z[H*2],z[H*2+3]):O.push(NaN,NaN));O.push(z[N-2],z[N-1])}else O=z;var re=!1;for(H=0;H<O.length;H++)if(isNaN(O[H])){re=!0;break}var ie=re||O.length>i.TOO_MANY_POINTS||r.hasMarkers(U)?"rect":"round";if(re&&U.connectgaps){var ce=O[0],Q=O[1];for(H=0;H<O.length;H+=2)isNaN(O[H])||isNaN(O[H+1])?(O[H]=ce,O[H+1]=Q):(ce=O[H],Q=O[H+1])}return{join:ie,positions:O}}function m(I,U,z,N,B){var O=C.getComponentMethod("errorbars","makeComputeError"),H=p.getFromId(I,U.xaxis,"x"),Y=p.getFromId(I,U.yaxis,"y"),J=z.length/2,re={};function ie(ce,Q){var j=Q._id.charAt(0),Z=U["error_"+j];if(Z&&Z.visible&&(Q.type==="linear"||Q.type==="log")){for(var $=O(Z),te={x:0,y:1}[j],se={x:[0,1,2,3],y:[2,3,0,1]}[j],ee=new Float64Array(4*J),q=1/0,le=-1/0,oe=0,he=0;oe<J;oe++,he+=4){var me=ce[oe];if(g(me)){var Ce=z[oe*2+te],Ae=$(me,oe),Ue=Ae[0],Ve=Ae[1];if(g(Ue)&&g(Ve)){var Pe=me-Ue,be=me+Ve;ee[he+se[0]]=Ce-Q.c2l(Pe),ee[he+se[1]]=Q.c2l(be)-Ce,ee[he+se[2]]=0,ee[he+se[3]]=0,q=Math.min(q,me-Ue),le=Math.max(le,me+Ve)}}}re[j]={positions:z,errors:ee,_bnds:[q,le]}}}return ie(N,H),ie(B,Y),re}function F(I,U,z,N){var B=U._length,O={},H;if(r.hasMarkers(U)){var Y=z.font,J=z.align,re=z.baseline;for(O.offset=new Array(B),H=0;H<B;H++){var ie=N.sizes?N.sizes[H]:N.size,ce=Array.isArray(Y)?Y[H].size:Y.size,Q=Array.isArray(J)?J.length>1?J[H]:J[0]:J,j=Array.isArray(re)?re.length>1?re[H]:re[0]:re,Z=u[Q],$=u[j],te=ie?ie/.8+1:0,se=-$*te-$*.5;O.offset[H]=[Z*te/ce,se/ce]}}return O}G.exports={style:c,markerStyle:h,markerSelection:l,linePositions:L,errorBarPositions:m,textPosition:F}},47148:function(G,V,e){var g=e(71828),_=e(73972),a=e(68645),C=e(42341),A=e(47581),v=e(34098),p=e(67513),t=e(73927),r=e(49508),s=e(11058),n=e(28908),i=e(82410);G.exports=function(u,y,c,T){function h(w,o){return g.coerce(u,y,C,w,o)}var l=u.marker?a.isOpenSymbol(u.marker.symbol):!1,d=v.isBubble(u),E=p(u,y,T,h);if(!E){y.visible=!1;return}t(u,y,T,h),h("xhoverformat"),h("yhoverformat");var S=E<A.PTS_LINESONLY?"lines+markers":"lines";h("text"),h("hovertext"),h("hovertemplate"),h("mode",S),v.hasLines(y)&&(h("connectgaps"),s(u,y,c,T,h),h("line.shape")),v.hasMarkers(y)&&(r(u,y,c,T,h,{noAngleRef:!0,noStandOff:!0}),h("marker.line.width",l||d?1:0)),v.hasText(y)&&(h("texttemplate"),i(u,y,T,h));var P=(y.line||{}).color,x=(y.marker||{}).color;h("fill"),y.fill!=="none"&&n(u,y,c,h);var M=_.getComponentMethod("errorbars","supplyDefaults");M(u,y,P||x||c,{axis:"y"}),M(u,y,P||x||c,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(y,h)}},5345:function(G,V,e){var g=e(71828),_=e(7901),a=e(37822).DESELECTDIM;function C(A){var v=A[0],p=v.trace,t=v.t,r=t._scene,s=t.index,n=r.selectBatch[s],i=r.unselectBatch[s],f=r.textOptions[s],u=r.textSelectedOptions[s]||{},y=r.textUnselectedOptions[s]||{},c=g.extendFlat({},f),T,h;if(n.length||i.length){var l=u.color,d=y.color,E=f.color,S=Array.isArray(E);for(c.color=new Array(p._length),T=0;T<n.length;T++)h=n[T],c.color[h]=l||(S?E[h]:E);for(T=0;T<i.length;T++){h=i[T];var P=S?E[h]:E;c.color[h]=d||(l?P:_.addOpacity(P,a))}}r.glText[s].update(c)}G.exports={styleTextSelection:C}},68101:function(G,V,e){var g=e(8225);G.exports=function(a,C,A){var v=a.i;return"x"in a||(a.x=C._x[v]),"y"in a||(a.y=C._y[v]),g(a,C,A)}},68645:function(G,V,e){var g=e(78232);V.isOpenSymbol=function(_){return typeof _=="string"?g.OPEN_RE.test(_):_%200>100},V.isDotSymbol=function(_){return typeof _=="string"?g.DOT_RE.test(_):_>200}},20794:function(G,V,e){var g=e(73972),_=e(71828),a=e(34603);function C(v,p,t,r){var s=v.cd,n=s[0].t,i=s[0].trace,f=v.xa,u=v.ya,y=n.x,c=n.y,T=f.c2p(p),h=u.c2p(t),l=v.distance,d;if(n.tree){var E=f.p2c(T-l),S=f.p2c(T+l),P=u.p2c(h-l),x=u.p2c(h+l);r==="x"?d=n.tree.range(Math.min(E,S),Math.min(u._rl[0],u._rl[1]),Math.max(E,S),Math.max(u._rl[0],u._rl[1])):d=n.tree.range(Math.min(E,S),Math.min(P,x),Math.max(E,S),Math.max(P,x))}else d=n.ids;var M,w,o,L,m,F,I,U,z,N=l;if(r==="x"){var B=!!i.xperiodalignment,O=!!i.yperiodalignment;for(m=0;m<d.length;m++){if(M=d[m],o=y[M],F=Math.abs(f.c2p(o)-T),B){var H=f.c2p(i._xStarts[M]),Y=f.c2p(i._xEnds[M]);F=T>=Math.min(H,Y)&&T<=Math.max(H,Y)?0:1/0}if(F<N){if(N=F,L=c[M],I=u.c2p(L)-h,O){var J=u.c2p(i._yStarts[M]),re=u.c2p(i._yEnds[M]);I=h>=Math.min(J,re)&&h<=Math.max(J,re)?0:1/0}z=Math.sqrt(F*F+I*I),w=d[m]}}}else for(m=d.length-1;m>-1;m--)M=d[m],o=y[M],L=c[M],F=f.c2p(o)-T,I=u.c2p(L)-h,U=Math.sqrt(F*F+I*I),U<N&&(N=z=U,w=M);return v.index=w,v.distance=N,v.dxy=z,w===void 0?[v]:[A(v,y,c,i)]}function A(v,p,t,r){var s=v.xa,n=v.ya,i=v.distance,f=v.dxy,u=v.index,y={pointNumber:u,x:p[u],y:t[u]};y.tx=Array.isArray(r.text)?r.text[u]:r.text,y.htx=Array.isArray(r.hovertext)?r.hovertext[u]:r.hovertext,y.data=Array.isArray(r.customdata)?r.customdata[u]:r.customdata,y.tp=Array.isArray(r.textposition)?r.textposition[u]:r.textposition;var c=r.textfont;c&&(y.ts=_.isArrayOrTypedArray(c.size)?c.size[u]:c.size,y.tc=Array.isArray(c.color)?c.color[u]:c.color,y.tf=Array.isArray(c.family)?c.family[u]:c.family);var T=r.marker;T&&(y.ms=_.isArrayOrTypedArray(T.size)?T.size[u]:T.size,y.mo=_.isArrayOrTypedArray(T.opacity)?T.opacity[u]:T.opacity,y.mx=_.isArrayOrTypedArray(T.symbol)?T.symbol[u]:T.symbol,y.ma=_.isArrayOrTypedArray(T.angle)?T.angle[u]:T.angle,y.mc=_.isArrayOrTypedArray(T.color)?T.color[u]:T.color);var h=T&&T.line;h&&(y.mlc=Array.isArray(h.color)?h.color[u]:h.color,y.mlw=_.isArrayOrTypedArray(h.width)?h.width[u]:h.width);var l=T&&T.gradient;l&&l.type!=="none"&&(y.mgt=Array.isArray(l.type)?l.type[u]:l.type,y.mgc=Array.isArray(l.color)?l.color[u]:l.color);var d=s.c2p(y.x,!0),E=n.c2p(y.y,!0),S=y.mrc||1,P=r.hoverlabel;P&&(y.hbg=Array.isArray(P.bgcolor)?P.bgcolor[u]:P.bgcolor,y.hbc=Array.isArray(P.bordercolor)?P.bordercolor[u]:P.bordercolor,y.hts=_.isArrayOrTypedArray(P.font.size)?P.font.size[u]:P.font.size,y.htc=Array.isArray(P.font.color)?P.font.color[u]:P.font.color,y.htf=Array.isArray(P.font.family)?P.font.family[u]:P.font.family,y.hnl=_.isArrayOrTypedArray(P.namelength)?P.namelength[u]:P.namelength);var x=r.hoverinfo;x&&(y.hi=Array.isArray(x)?x[u]:x);var M=r.hovertemplate;M&&(y.ht=Array.isArray(M)?M[u]:M);var w={};w[v.index]=y;var o=r._origX,L=r._origY,m=_.extendFlat({},v,{color:a(r,y),x0:d-S,x1:d+S,xLabelVal:o?o[u]:y.x,y0:E-S,y1:E+S,yLabelVal:L?L[u]:y.y,cd:w,distance:i,spikeDistance:f,hovertemplate:y.ht});return y.htx?m.text=y.htx:y.tx?m.text=y.tx:r.text&&(m.text=r.text),_.fillText(y,r,m),g.getComponentMethod("errorbars","hoverInfo")(y,r,m),m}G.exports={hoverPoints:C,calcHover:A}},68868:function(G,V,e){var g=e(72156);g.plot=e(26787),G.exports=g},26787:function(G,V,e){var g=e(11870),_=e(46075),a=e(3593),C=e(42505),A=e(71828),v=e(64505).selectMode,p=e(79749),t=e(34098),r=e(68687),s=e(5345).styleTextSelection,n={};function i(u,y,c,T){var h=u._size,l=u.width*T,d=u.height*T,E=h.l*T,S=h.b*T,P=h.r*T,x=h.t*T,M=h.w*T,w=h.h*T;return[E+y.domain[0]*M,S+c.domain[0]*w,l-P-(1-y.domain[1])*M,d-x-(1-c.domain[1])*w]}var f=G.exports=function(y,c,T){if(T.length){var h=y._fullLayout,l=c._scene,d=c.xaxis,E=c.yaxis,S,P;if(l){var x=p(y,["ANGLE_instanced_arrays","OES_element_index_uint"],n);if(!x){l.init();return}var M=l.count,w=h._glcanvas.data()[0].regl;if(r(y,c,T),l.dirty){if(l.error2d===!0&&(l.error2d=a(w)),l.line2d===!0&&(l.line2d=_(w)),l.scatter2d===!0&&(l.scatter2d=g(w)),l.fill2d===!0&&(l.fill2d=_(w)),l.glText===!0)for(l.glText=new Array(M),S=0;S<M;S++)l.glText[S]=new C(w);if(l.glText){if(M>l.glText.length){var o=M-l.glText.length;for(S=0;S<o;S++)l.glText.push(new C(w))}else if(M<l.glText.length){var L=l.glText.length-M,m=l.glText.splice(M,L);m.forEach(function(ee){ee.destroy()})}for(S=0;S<M;S++)l.glText[S].update(l.textOptions[S])}if(l.line2d&&(l.line2d.update(l.lineOptions),l.lineOptions=l.lineOptions.map(function(ee){if(ee&&ee.positions){for(var q=ee.positions,le=0;le<q.length&&(isNaN(q[le])||isNaN(q[le+1]));)le+=2;for(var oe=q.length-2;oe>le&&(isNaN(q[oe])||isNaN(q[oe+1]));)oe-=2;ee.positions=q.slice(le,oe+2)}return ee}),l.line2d.update(l.lineOptions)),l.error2d){var F=(l.errorXOptions||[]).concat(l.errorYOptions||[]);l.error2d.update(F)}l.scatter2d&&l.scatter2d.update(l.markerOptions),l.fillOrder=A.repeat(null,M),l.fill2d&&(l.fillOptions=l.fillOptions.map(function(ee,q){var le=T[q];if(!(!ee||!le||!le[0]||!le[0].trace)){var oe=le[0],he=oe.trace,me=oe.t,Ce=l.lineOptions[q],Ae,Ue,Ve=[];he._ownfill&&Ve.push(q),he._nexttrace&&Ve.push(q+1),Ve.length&&(l.fillOrder[q]=Ve);var Pe=[],be=Ce&&Ce.positions||me.positions,Le,We;if(he.fill==="tozeroy"){for(Le=0;Le<be.length&&isNaN(be[Le+1]);)Le+=2;for(We=be.length-2;We>Le&&isNaN(be[We+1]);)We-=2;be[Le+1]!==0&&(Pe=[be[Le],0]),Pe=Pe.concat(be.slice(Le,We+2)),be[We+1]!==0&&(Pe=Pe.concat([be[We],0]))}else if(he.fill==="tozerox"){for(Le=0;Le<be.length&&isNaN(be[Le]);)Le+=2;for(We=be.length-2;We>Le&&isNaN(be[We]);)We-=2;be[Le]!==0&&(Pe=[0,be[Le+1]]),Pe=Pe.concat(be.slice(Le,We+2)),be[We]!==0&&(Pe=Pe.concat([0,be[We+1]]))}else if(he.fill==="toself"||he.fill==="tonext"){for(Pe=[],Ae=0,ee.splitNull=!0,Ue=0;Ue<be.length;Ue+=2)(isNaN(be[Ue])||isNaN(be[Ue+1]))&&(Pe=Pe.concat(be.slice(Ae,Ue)),Pe.push(be[Ae],be[Ae+1]),Pe.push(null,null),Ae=Ue+2);Pe=Pe.concat(be.slice(Ae)),Ae&&Pe.push(be[Ae],be[Ae+1])}else{var je=he._nexttrace;if(je){var Fe=l.lineOptions[q+1];if(Fe){var Ze=Fe.positions;if(he.fill==="tonexty"){for(Pe=be.slice(),q=Math.floor(Ze.length/2);q--;){var ut=Ze[q*2],at=Ze[q*2+1];isNaN(ut)||isNaN(at)||Pe.push(ut,at)}ee.fill=je.fillcolor}}}}if(he._prevtrace&&he._prevtrace.fill==="tonext"){var it=l.lineOptions[q-1].positions,$e=Pe.length/2;Ae=$e;var st=[Ae];for(Ue=0;Ue<it.length;Ue+=2)(isNaN(it[Ue])||isNaN(it[Ue+1]))&&(st.push(Ue/2+$e+1),Ae=Ue+2);Pe=Pe.concat(it),ee.hole=st}return ee.fillmode=he.fill,ee.opacity=he.opacity,ee.positions=Pe,ee}}),l.fill2d.update(l.fillOptions))}var I=h.dragmode,U=v(I),z=h.clickmode.indexOf("select")>-1;for(S=0;S<M;S++){var N=T[S][0],B=N.trace,O=N.t,H=O.index,Y=B._length,J=O.x,re=O.y;if(B.selectedpoints||U||z){if(U||(U=!0),B.selectedpoints){var ie=l.selectBatch[H]=A.selIndices2selPoints(B),ce={};for(P=0;P<ie.length;P++)ce[ie[P]]=1;var Q=[];for(P=0;P<Y;P++)ce[P]||Q.push(P);l.unselectBatch[H]=Q}var j=O.xpx=new Array(Y),Z=O.ypx=new Array(Y);for(P=0;P<Y;P++)j[P]=d.c2p(J[P]),Z[P]=E.c2p(re[P])}else O.xpx=O.ypx=null}if(U){if(l.select2d||(l.select2d=g(h._glcanvas.data()[1].regl)),l.scatter2d){var $=new Array(M);for(S=0;S<M;S++)$[S]=l.selectBatch[S].length||l.unselectBatch[S].length?l.markerUnselectedOptions[S]:{};l.scatter2d.update($)}l.select2d&&(l.select2d.update(l.markerOptions),l.select2d.update(l.markerSelectedOptions)),l.glText&&T.forEach(function(ee){var q=((ee||[])[0]||{}).trace||{};t.hasText(q)&&s(ee)})}else l.scatter2d&&l.scatter2d.update(l.markerOptions);var te={viewport:i(h,d,E,y._context.plotGlPixelRatio),range:[(d._rl||d.range)[0],(E._rl||E.range)[0],(d._rl||d.range)[1],(E._rl||E.range)[1]]},se=A.repeat(te,l.count);l.fill2d&&l.fill2d.update(se),l.line2d&&l.line2d.update(se),l.error2d&&l.error2d.update(se.concat(se)),l.scatter2d&&l.scatter2d.update(se),l.select2d&&l.select2d.update(se),l.glText&&l.glText.forEach(function(ee){ee.update(te)})}}};f.reglPrecompiled=n},38967:function(G,V,e){var g=e(71828);G.exports=function(a,C){var A=C._scene,v={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},p={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return C._scene||(A=C._scene={},A.init=function(){g.extendFlat(A,p,v)},A.init(),A.update=function(r){var s=g.repeat(r,A.count);if(A.fill2d&&A.fill2d.update(s),A.scatter2d&&A.scatter2d.update(s),A.line2d&&A.line2d.update(s),A.error2d&&A.error2d.update(s.concat(s)),A.select2d&&A.select2d.update(s),A.glText)for(var n=0;n<A.count;n++)A.glText[n].update(r)},A.draw=function(){for(var r=A.count,s=A.fill2d,n=A.error2d,i=A.line2d,f=A.scatter2d,u=A.glText,y=A.select2d,c=A.selectBatch,T=A.unselectBatch,h=0;h<r;h++){if(s&&A.fillOrder[h]&&s.draw(A.fillOrder[h]),i&&A.lineOptions[h]&&i.draw(h),n&&(A.errorXOptions[h]&&n.draw(h),A.errorYOptions[h]&&n.draw(h+r)),f&&A.markerOptions[h])if(T[h].length){var l=g.repeat([],A.count);l[h]=T[h],f.draw(l)}else c[h].length||f.draw(h);u[h]&&A.textOptions[h]&&u[h].render()}y&&y.draw(c),A.dirty=!1},A.destroy=function(){A.fill2d&&A.fill2d.destroy&&A.fill2d.destroy(),A.scatter2d&&A.scatter2d.destroy&&A.scatter2d.destroy(),A.error2d&&A.error2d.destroy&&A.error2d.destroy(),A.line2d&&A.line2d.destroy&&A.line2d.destroy(),A.select2d&&A.select2d.destroy&&A.select2d.destroy(),A.glText&&A.glText.forEach(function(r){r.destroy&&r.destroy()}),A.lineOptions=null,A.fillOptions=null,A.markerOptions=null,A.markerSelectedOptions=null,A.markerUnselectedOptions=null,A.errorXOptions=null,A.errorYOptions=null,A.textOptions=null,A.textSelectedOptions=null,A.textUnselectedOptions=null,A.selectBatch=null,A.unselectBatch=null,C._scene=null}),A.dirty||g.extendFlat(A,v),A}},58147:function(G,V,e){var g=e(34098),_=e(5345).styleTextSelection;G.exports=function(C,A){var v=C.cd,p=C.xaxis,t=C.yaxis,r=[],s=v[0].trace,n=v[0].t,i=s._length,f=n.x,u=n.y,y=n._scene,c=n.index;if(!y)return r;var T=g.hasText(s),h=g.hasMarkers(s),l=!h&&!T;if(s.visible!==!0||l)return r;var d=[],E=[];if(A!==!1&&!A.degenerate)for(var S=0;S<i;S++)A.contains([n.xpx[S],n.ypx[S]],!1,S,C)?(d.push(S),r.push({pointNumber:S,x:p.c2d(f[S]),y:t.c2d(u[S])})):E.push(S);if(h){var P=y.scatter2d;if(!d.length&&!E.length){var x=new Array(y.count);x[c]=y.markerOptions[c],P.update.apply(P,x)}else if(!y.selectBatch[c].length&&!y.unselectBatch[c].length){var M=new Array(y.count);M[c]=y.markerUnselectedOptions[c],P.update.apply(P,M)}}return y.selectBatch[c]=d,y.unselectBatch[c]=E,T&&_(v),r}},99181:function(G,V,e){var g=e(5386).fF,_=e(5386).si,a=e(19316),C=e(82196),A=e(23585),v=e(9012),p=e(50693),t=e(1426).extendFlat,r=e(30962).overrideAll,s=e(23585),n=a.line,i=a.marker;G.exports=r({lon:a.lon,lat:a.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},s.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},i.opacity,{dflt:1})},mode:t({},C.mode,{dflt:"markers"}),text:t({},C.text,{}),texttemplate:_({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},C.hovertext,{}),line:{color:n.color,width:n.width},connectgaps:C.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:i.opacity,size:i.size,sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode},p("marker")),fill:a.fill,fillcolor:C.fillcolor,textfont:A.layers.symbol.textfont,textposition:A.layers.symbol.textposition,below:{valType:"string"},selected:{marker:C.selected.marker},unselected:{marker:C.unselected.marker},hoverinfo:t({},v.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:g()},"calc","nested")},15790:function(G,V,e){var g=e(92770),_=e(71828),a=e(50606).BADNUM,C=e(18214),A=e(21081),v=e(91424),p=e(39984),t=e(34098),r=e(13056),s=e(23469).appendArrayPointValue,n=e(63893).NEWLINES,i=e(63893).BR_TAG_ALL;G.exports=function(E,S){var P=S[0].trace,x=P.visible===!0&&P._length!==0,M=P.fill!=="none",w=t.hasLines(P),o=t.hasMarkers(P),L=t.hasText(P),m=o&&P.marker.symbol==="circle",F=o&&P.marker.symbol!=="circle",I=P.cluster&&P.cluster.enabled,U=f("fill"),z=f("line"),N=f("circle"),B=f("symbol"),O={fill:U,line:z,circle:N,symbol:B};if(!x)return O;var H;if((M||w)&&(H=C.calcTraceToLineCoords(S)),M&&(U.geojson=C.makePolygon(H),U.layout.visibility="visible",_.extendFlat(U.paint,{"fill-color":P.fillcolor})),w&&(z.geojson=C.makeLine(H),z.layout.visibility="visible",_.extendFlat(z.paint,{"line-width":P.line.width,"line-color":P.line.color,"line-opacity":P.opacity})),m){var Y=u(S);N.geojson=Y.geojson,N.layout.visibility="visible",I&&(N.filter=["!",["has","point_count"]],O.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":l(P.cluster.color,P.cluster.step),"circle-radius":l(P.cluster.size,P.cluster.step),"circle-opacity":l(P.cluster.opacity,P.cluster.step)}},O.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),_.extendFlat(N.paint,{"circle-color":Y.mcc,"circle-radius":Y.mrc,"circle-opacity":Y.mo})}if(m&&I&&(N.filter=["!",["has","point_count"]]),(F||L)&&(B.geojson=y(S,E),_.extendFlat(B.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),F&&(_.extendFlat(B.layout,{"icon-size":P.marker.size/10}),"angle"in P.marker&&P.marker.angle!=="auto"&&_.extendFlat(B.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),B.layout["icon-allow-overlap"]=P.marker.allowoverlap,_.extendFlat(B.paint,{"icon-opacity":P.opacity*P.marker.opacity,"icon-color":P.marker.color})),L)){var J=(P.marker||{}).size,re=r(P.textposition,J);_.extendFlat(B.layout,{"text-size":P.textfont.size,"text-anchor":re.anchor,"text-offset":re.offset,"text-font":P.textfont.family.split(", ")}),_.extendFlat(B.paint,{"text-color":P.textfont.color,"text-opacity":P.opacity})}return O};function f(d){return{type:d,geojson:C.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function u(d){var E=d[0].trace,S=E.marker,P=E.selectedpoints,x=_.isArrayOrTypedArray(S.color),M=_.isArrayOrTypedArray(S.size),w=_.isArrayOrTypedArray(S.opacity),o;function L(J){return E.opacity*J}function m(J){return J/2}var F;x&&(A.hasColorscale(E,"marker")?F=A.makeColorScaleFuncFromTrace(S):F=_.identity);var I;M&&(I=p(E));var U;w&&(U=function(J){var re=g(J)?+_.constrain(J,0,1):0;return L(re)});var z=[];for(o=0;o<d.length;o++){var N=d[o],B=N.lonlat;if(!h(B)){var O={};F&&(O.mcc=N.mcc=F(N.mc)),I&&(O.mrc=N.mrc=I(N.ms)),U&&(O.mo=U(N.mo)),P&&(O.selected=N.selected||0),z.push({type:"Feature",id:o+1,geometry:{type:"Point",coordinates:B},properties:O})}}var H;if(P)for(H=v.makeSelectedPointStyleFns(E),o=0;o<z.length;o++){var Y=z[o].properties;H.selectedOpacityFn&&(Y.mo=L(H.selectedOpacityFn(Y))),H.selectedColorFn&&(Y.mcc=H.selectedColorFn(Y)),H.selectedSizeFn&&(Y.mrc=H.selectedSizeFn(Y))}return{geojson:{type:"FeatureCollection",features:z},mcc:x||H&&H.selectedColorFn?{type:"identity",property:"mcc"}:S.color,mrc:M||H&&H.selectedSizeFn?{type:"identity",property:"mrc"}:m(S.size),mo:w||H&&H.selectedOpacityFn?{type:"identity",property:"mo"}:L(S.opacity)}}function y(d,E){for(var S=E._fullLayout,P=d[0].trace,x=P.marker||{},M=x.symbol,w=x.angle,o=M!=="circle"?c(M):T,L=w!=="auto"?c(w,!0):T,m=t.hasText(P)?c(P.text):T,F=[],I=0;I<d.length;I++){var U=d[I];if(!h(U.lonlat)){var z=P.texttemplate,N;if(z){var B=Array.isArray(z)?z[I]||"":z,O=P._module.formatLabels(U,P,S),H={};s(H,P,U.i);var Y=P._meta||{};N=_.texttemplateString(B,O,S._d3locale,H,U,Y)}else N=m(I);N&&(N=N.replace(n,"").replace(i,`
`)),F.push({type:"Feature",geometry:{type:"Point",coordinates:U.lonlat},properties:{symbol:o(I),angle:L(I),text:N}})}}return{type:"FeatureCollection",features:F}}function c(d,E){return _.isArrayOrTypedArray(d)?E?function(S){return g(d[S])?+d[S]:0}:function(S){return d[S]}:d?function(){return d}:T}function T(){return""}function h(d){return d[0]===a}function l(d,E){var S;if(_.isArrayOrTypedArray(d)&&_.isArrayOrTypedArray(E)){S=["step",["get","point_count"],d[0]];for(var P=1;P<d.length;P++)S.push(E[P-1],d[P])}else S=d;return S}},76645:function(G,V,e){var g=e(71828),_=e(34098),a=e(49508),C=e(11058),A=e(82410),v=e(28908),p=e(99181),t=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];G.exports=function(n,i,f,u){function y(M,w){return g.coerce(n,i,p,M,w)}function c(M,w){return g.coerce2(n,i,p,M,w)}var T=r(n,i,y);if(!T){i.visible=!1;return}if(y("text"),y("texttemplate"),y("hovertext"),y("hovertemplate"),y("mode"),y("below"),_.hasLines(i)&&(C(n,i,f,u,y,{noDash:!0}),y("connectgaps")),_.hasMarkers(i)){a(n,i,f,u,y,{noLine:!0,noAngle:!0}),y("marker.allowoverlap"),y("marker.angle");var h=i.marker;h.symbol!=="circle"&&(g.isArrayOrTypedArray(h.size)&&(h.size=h.size[0]),g.isArrayOrTypedArray(h.color)&&(h.color=h.color[0]))}var l=c("cluster.maxzoom"),d=c("cluster.step"),E=c("cluster.color",i.marker&&i.marker.color||f),S=c("cluster.size"),P=c("cluster.opacity"),x=l!==!1||d!==!1||E!==!1||S!==!1||P!==!1;y("cluster.enabled",x),_.hasText(i)&&A(n,i,u,y,{noSelect:!0,font:{family:t.indexOf(u.font.family)!==-1?u.font.family:"Open Sans Regular",size:u.font.size,color:u.font.color}}),y("fill"),i.fill!=="none"&&v(n,i,f,y),g.coerceSelectionMarkerOpacity(i,y)};function r(s,n,i){var f=i("lon")||[],u=i("lat")||[],y=Math.min(f.length,u.length);return n._length=y,y}},53353:function(G){G.exports=function(e,g){return e.lon=g.lon,e.lat=g.lat,e}},15636:function(G,V,e){var g=e(89298);G.exports=function(a,C,A){var v={},p=A[C.subplot]._subplot,t=p.mockAxis,r=a.lonlat;return v.lonLabel=g.tickText(t,t.c2l(r[0]),!0).text,v.latLabel=g.tickText(t,t.c2l(r[1]),!0).text,v}},28178:function(G,V,e){var g=e(30211),_=e(71828),a=e(34603),C=_.fillText,A=e(50606).BADNUM,v=e(77734).traceLayerPrefix;function p(r,s,n){var i=r.cd,f=i[0].trace,u=r.xa,y=r.ya,c=r.subplot,T=[],h=v+f.uid+"-circle",l=f.cluster&&f.cluster.enabled;if(l){var d=c.map.queryRenderedFeatures(null,{layers:[h]});T=d.map(function(z){return z.id})}var E=s>=0?Math.floor((s+180)/360):Math.ceil((s-180)/360),S=E*360,P=s-S;function x(z){var N=z.lonlat;if(N[0]===A||l&&T.indexOf(z.i+1)===-1)return 1/0;var B=_.modHalf(N[0],360),O=N[1],H=c.project([B,O]),Y=H.x-u.c2p([P,O]),J=H.y-y.c2p([B,n]),re=Math.max(3,z.mrc||0);return Math.max(Math.sqrt(Y*Y+J*J)-re,1-3/re)}if(g.getClosest(i,x,r),r.index!==!1){var M=i[r.index],w=M.lonlat,o=[_.modHalf(w[0],360)+S,w[1]],L=u.c2p(o),m=y.c2p(o),F=M.mrc||1;r.x0=L-F,r.x1=L+F,r.y0=m-F,r.y1=m+F;var I={};I[f.subplot]={_subplot:c};var U=f._module.formatLabels(M,f,I);return r.lonLabel=U.lonLabel,r.latLabel=U.latLabel,r.color=a(f,M),r.extraText=t(f,M,i[0].t.labels),r.hovertemplate=f.hovertemplate,[r]}}function t(r,s,n){if(r.hovertemplate)return;var i=s.hi||r.hoverinfo,f=i.split("+"),u=f.indexOf("all")!==-1,y=f.indexOf("lon")!==-1,c=f.indexOf("lat")!==-1,T=s.lonlat,h=[];function l(d){return d+""}return u||y&&c?h.push("("+l(T[1])+", "+l(T[0])+")"):y?h.push(n.lon+l(T[0])):c&&h.push(n.lat+l(T[1])),(u||f.indexOf("text")!==-1)&&C(s,r,h),h.join("<br>")}G.exports={hoverPoints:p,getExtraText:t}},20467:function(G,V,e){G.exports={attributes:e(99181),supplyDefaults:e(76645),colorbar:e(4898),formatLabels:e(15636),calc:e(84622),plot:e(86951),hoverPoints:e(28178).hoverPoints,eventData:e(53353),selectPoints:e(86387),styleOnSelect:function(g,_){if(_){var a=_[0].trace;a._glTrace.update(_)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(50101),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},86951:function(G,V,e){var g=e(71828),_=e(15790),a=e(77734).traceLayerPrefix,C={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function A(p,t,r,s){this.type="scattermapbox",this.subplot=p,this.uid=t,this.clusterEnabled=r,this.isHidden=s,this.sourceIds={fill:"source-"+t+"-fill",line:"source-"+t+"-line",circle:"source-"+t+"-circle",symbol:"source-"+t+"-symbol",cluster:"source-"+t+"-circle",clusterCount:"source-"+t+"-circle"},this.layerIds={fill:a+t+"-fill",line:a+t+"-line",circle:a+t+"-circle",symbol:a+t+"-symbol",cluster:a+t+"-cluster",clusterCount:a+t+"-cluster-count"},this.below=null}var v=A.prototype;v.addSource=function(p,t,r){var s={type:"geojson",data:t.geojson};r&&r.enabled&&g.extendFlat(s,{cluster:!0,clusterMaxZoom:r.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[p]);n?n.setData(t.geojson):this.subplot.map.addSource(this.sourceIds[p],s)},v.setSourceData=function(p,t){this.subplot.map.getSource(this.sourceIds[p]).setData(t.geojson)},v.addLayer=function(p,t,r){var s={type:t.type,id:this.layerIds[p],source:this.sourceIds[p],layout:t.layout,paint:t.paint};t.filter&&(s.filter=t.filter);for(var n=this.layerIds[p],i,f=this.subplot.getMapLayers(),u=0;u<f.length;u++)if(f[u].id===n){i=!0;break}i?(this.subplot.setOptions(n,"setLayoutProperty",s.layout),s.layout.visibility==="visible"&&this.subplot.setOptions(n,"setPaintProperty",s.paint)):this.subplot.addLayer(s,r)},v.update=function(t){var r=t[0].trace,s=this.subplot,n=s.map,i=_(s.gd,t),f=s.belowLookup["trace-"+this.uid],u=!!(r.cluster&&r.cluster.enabled),y=!!this.clusterEnabled,c=this;function T(w){w||c.addSource("circle",i.circle,r.cluster);for(var o=C.cluster,L=0;L<o.length;L++){var m=o[L],F=i[m];c.addLayer(m,F,f)}}function h(w){for(var o=C.cluster,L=o.length-1;L>=0;L--){var m=o[L];n.removeLayer(c.layerIds[m])}w||n.removeSource(c.sourceIds.circle)}function l(w){for(var o=C.nonCluster,L=0;L<o.length;L++){var m=o[L],F=i[m];w||c.addSource(m,F),c.addLayer(m,F,f)}}function d(w){for(var o=C.nonCluster,L=o.length-1;L>=0;L--){var m=o[L];n.removeLayer(c.layerIds[m]),w||n.removeSource(c.sourceIds[m])}}function E(w){y?h(w):d(w)}function S(w){u?T(w):l(w)}function P(){for(var w=u?C.cluster:C.nonCluster,o=0;o<w.length;o++){var L=w[o],m=i[L];m&&(s.setOptions(c.layerIds[L],"setLayoutProperty",m.layout),m.layout.visibility==="visible"&&(L!=="cluster"&&c.setSourceData(L,m),s.setOptions(c.layerIds[L],"setPaintProperty",m.paint)))}}var x=this.isHidden,M=r.visible!==!0;M?x||E():x?M||S():y!==u?(E(),S()):(this.below!==f&&(E(!0),S(!0)),P()),this.clusterEnabled=u,this.isHidden=M,this.below=f,t[0].trace._glTrace=this},v.dispose=function(){for(var t=this.subplot.map,r=this.clusterEnabled?C.cluster:C.nonCluster,s=r.length-1;s>=0;s--){var n=r[s];t.removeLayer(this.layerIds[n]),t.removeSource(this.sourceIds[n])}},G.exports=function(t,r){var s=r[0].trace,n=s.cluster&&s.cluster.enabled,i=s.visible!==!0,f=new A(t,s.uid,n,i),u=_(t.gd,r),y=f.below=t.belowLookup["trace-"+s.uid],c,T,h;if(n)for(f.addSource("circle",u.circle,s.cluster),c=0;c<C.cluster.length;c++)T=C.cluster[c],h=u[T],f.addLayer(T,h,y);else for(c=0;c<C.nonCluster.length;c++)T=C.nonCluster[c],h=u[T],f.addSource(T,h,s.cluster),f.addLayer(T,h,y);return r[0].trace._glTrace=f,f}},86387:function(G,V,e){var g=e(71828),_=e(34098),a=e(50606).BADNUM;G.exports=function(A,v){var p=A.cd,t=A.xaxis,r=A.yaxis,s=[],n=p[0].trace,i;if(!_.hasMarkers(n))return[];if(v===!1)for(i=0;i<p.length;i++)p[i].selected=0;else for(i=0;i<p.length;i++){var f=p[i],u=f.lonlat;if(u[0]!==a){var y=[g.modHalf(u[0],360),u[1]],c=[t.c2p(y),r.c2p(y)];v.contains(c,null,i,A)?(s.push({pointNumber:i,lon:u[0],lat:u[1]}),f.selected=1):f.selected=0}}return s}},81245:function(G,V,e){var g=e(5386).fF,_=e(5386).si,a=e(1426).extendFlat,C=e(82196),A=e(9012),v=C.line;G.exports={mode:C.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:C.text,texttemplate:_({editType:"plot"},{keys:["r","theta","text"]}),hovertext:C.hovertext,line:{color:v.color,width:v.width,dash:v.dash,backoff:v.backoff,shape:a({},v.shape,{values:["linear","spline"]}),smoothing:v.smoothing,editType:"calc"},connectgaps:C.connectgaps,marker:C.marker,cliponaxis:a({},C.cliponaxis,{dflt:!1}),textposition:C.textposition,textfont:C.textfont,fill:a({},C.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:C.fillcolor,hoverinfo:a({},A.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:C.hoveron,hovertemplate:g(),selected:C.selected,unselected:C.unselected}},26442:function(G,V,e){var g=e(92770),_=e(50606).BADNUM,a=e(89298),C=e(36922),A=e(75225),v=e(66279),p=e(47761).calcMarkerSize;G.exports=function(r,s){for(var n=r._fullLayout,i=s.subplot,f=n[i].radialaxis,u=n[i].angularaxis,y=f.makeCalcdata(s,"r"),c=u.makeCalcdata(s,"theta"),T=s._length,h=new Array(T),l=0;l<T;l++){var d=y[l],E=c[l],S=h[l]={};g(d)&&g(E)?(S.r=d,S.theta=E):S.r=_}var P=p(s,T);return s._extremes.x=a.findExtremes(f,y,{ppad:P}),C(r,s),A(h,s),v(h,s),h}},22184:function(G,V,e){var g=e(71828),_=e(34098),a=e(49508),C=e(11058),A=e(94039),v=e(82410),p=e(28908),t=e(47581).PTS_LINESONLY,r=e(81245);function s(i,f,u,y){function c(l,d){return g.coerce(i,f,r,l,d)}var T=n(i,f,y,c);if(!T){f.visible=!1;return}c("thetaunit"),c("mode",T<t?"lines+markers":"lines"),c("text"),c("hovertext"),f.hoveron!=="fills"&&c("hovertemplate"),_.hasLines(f)&&(C(i,f,u,y,c,{backoff:!0}),A(i,f,c),c("connectgaps")),_.hasMarkers(f)&&a(i,f,u,y,c,{gradient:!0}),_.hasText(f)&&(c("texttemplate"),v(i,f,y,c));var h=[];(_.hasMarkers(f)||_.hasText(f))&&(c("cliponaxis"),c("marker.maxdisplayed"),h.push("points")),c("fill"),f.fill!=="none"&&(p(i,f,u,c),_.hasLines(f)||A(i,f,c)),(f.fill==="tonext"||f.fill==="toself")&&h.push("fills"),c("hoveron",h.join("+")||"points"),g.coerceSelectionMarkerOpacity(f,c)}function n(i,f,u,y){var c=y("r"),T=y("theta"),h;if(c)T?h=Math.min(c.length,T.length):(h=c.length,y("theta0"),y("dtheta"));else{if(!T)return 0;h=f.theta.length,y("r0"),y("dr")}return f._length=h,h}G.exports={handleRThetaDefaults:n,supplyDefaults:s}},98608:function(G,V,e){var g=e(71828),_=e(89298);G.exports=function(C,A,v){var p={},t=v[A.subplot]._subplot,r,s;t?(r=t.radialAxis,s=t.angularAxis):(t=v[A.subplot],r=t.radialaxis,s=t.angularaxis);var n=r.c2l(C.r);p.rLabel=_.tickText(r,n,!0).text;var i=s.thetaunit==="degrees"?g.rad2deg(C.theta):C.theta;return p.thetaLabel=_.tickText(s,i,!0).text,p}},59150:function(G,V,e){var g=e(33720);function _(C,A,v,p){var t=g(C,A,v,p);if(!(!t||t[0].index===!1)){var r=t[0];if(r.index===void 0)return t;var s=C.subplot,n=r.cd[r.index],i=r.trace;if(s.isPtInside(n))return r.xLabelVal=void 0,r.yLabelVal=void 0,a(n,i,s,r),r.hovertemplate=i.hovertemplate,t}}function a(C,A,v,p){var t=v.radialAxis,r=v.angularAxis;t._hovertitle="r",r._hovertitle="";var s={};s[A.subplot]={_subplot:v};var n=A._module.formatLabels(C,A,s);p.rLabel=n.rLabel,p.thetaLabel=n.thetaLabel;var i=C.hi||A.hoverinfo,f=[];function u(c,T){f.push(c._hovertitle+": "+T)}if(!A.hovertemplate){var y=i.split("+");y.indexOf("all")!==-1&&(y=["r","theta","text"]),y.indexOf("r")!==-1&&u(t,p.rLabel),y.indexOf("theta")!==-1&&u(r,p.thetaLabel),y.indexOf("text")!==-1&&p.text&&(f.push(p.text),delete p.text),p.extraText=f.join("<br>")}}G.exports={hoverPoints:_,makeHoverPointText:a}},91271:function(G,V,e){G.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(23580),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(81245),supplyDefaults:e(22184).supplyDefaults,colorbar:e(4898),formatLabels:e(98608),calc:e(26442),plot:e(45162),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(59150).hoverPoints,selectPoints:e(98002),meta:{}}},45162:function(G,V,e){var g=e(32663),_=e(50606).BADNUM;G.exports=function(C,A,v){for(var p=A.layers.frontplot.select("g.scatterlayer"),t=A.xaxis,r=A.yaxis,s={xaxis:t,yaxis:r,plot:A.framework,layerClipId:A._hasClipOnAxisFalse?A.clipIds.forTraces:null},n=A.radialAxis,i=A.angularAxis,f=0;f<v.length;f++)for(var u=v[f],y=0;y<u.length;y++){y===0&&(u[0].trace._xA=t,u[0].trace._yA=r);var c=u[y],T=c.r;if(T===_)c.x=c.y=_;else{var h=n.c2g(T),l=i.c2g(c.theta);c.x=h*Math.cos(l),c.y=h*Math.sin(l)}}g(C,s,v,p)}},53286:function(G,V,e){var g=e(81245),_=e(42341),a=e(5386).si;G.exports={mode:g.mode,r:g.r,theta:g.theta,r0:g.r0,dr:g.dr,theta0:g.theta0,dtheta:g.dtheta,thetaunit:g.thetaunit,text:g.text,texttemplate:a({editType:"plot"},{keys:["r","theta","text"]}),hovertext:g.hovertext,hovertemplate:g.hovertemplate,line:_.line,connectgaps:_.connectgaps,marker:_.marker,fill:_.fill,fillcolor:_.fillcolor,textposition:_.textposition,textfont:_.textfont,hoverinfo:g.hoverinfo,selected:g.selected,unselected:g.unselected}},65746:function(G,V,e){G.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(23580),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(53286),supplyDefaults:e(75485),colorbar:e(4898),formatLabels:e(46255),calc:e(37499),hoverPoints:e(29347).hoverPoints,selectPoints:e(58147),meta:{}}},37499:function(G,V,e){var g=e(36922),_=e(47761).calcMarkerSize,a=e(19635),C=e(89298),A=e(78232).TOO_MANY_POINTS;G.exports=function(p,t){var r=p._fullLayout,s=t.subplot,n=r[s].radialaxis,i=r[s].angularaxis,f=t._r=n.makeCalcdata(t,"r"),u=t._theta=i.makeCalcdata(t,"theta"),y=t._length,c={};y<f.length&&(f=f.slice(0,y)),y<u.length&&(u=u.slice(0,y)),c.r=f,c.theta=u,g(p,t);var T=c.opts=a.style(p,t),h;return y<A?h=_(t,y):T.marker&&(h=2*(T.marker.sizeAvg||Math.max(T.marker.size,3))),t._extremes.x=C.findExtremes(n,f,{ppad:h}),[{x:!1,y:!1,t:c,trace:t}]}},75485:function(G,V,e){var g=e(71828),_=e(34098),a=e(22184).handleRThetaDefaults,C=e(49508),A=e(11058),v=e(82410),p=e(28908),t=e(47581).PTS_LINESONLY,r=e(53286);G.exports=function(n,i,f,u){function y(T,h){return g.coerce(n,i,r,T,h)}var c=a(n,i,u,y);if(!c){i.visible=!1;return}y("thetaunit"),y("mode",c<t?"lines+markers":"lines"),y("text"),y("hovertext"),i.hoveron!=="fills"&&y("hovertemplate"),_.hasLines(i)&&(A(n,i,f,u,y),y("connectgaps")),_.hasMarkers(i)&&C(n,i,f,u,y,{noAngleRef:!0,noStandOff:!0}),_.hasText(i)&&(y("texttemplate"),v(n,i,u,y)),y("fill"),i.fill!=="none"&&p(n,i,f,y),g.coerceSelectionMarkerOpacity(i,y)}},46255:function(G,V,e){var g=e(98608);G.exports=function(a,C,A){var v=a.i;return"r"in a||(a.r=C._r[v]),"theta"in a||(a.theta=C._theta[v]),g(a,C,A)}},29347:function(G,V,e){var g=e(20794),_=e(59150).makeHoverPointText;function a(C,A,v,p){var t=C.cd,r=t[0].t,s=r.r,n=r.theta,i=g.hoverPoints(C,A,v,p);if(!(!i||i[0].index===!1)){var f=i[0];if(f.index===void 0)return i;var u=C.subplot,y=f.cd[f.index],c=f.trace;if(y.r=s[f.index],y.theta=n[f.index],!!u.isPtInside(y))return f.xLabelVal=void 0,f.yLabelVal=void 0,_(y,c,u,f),i}}G.exports={hoverPoints:a}},21461:function(G,V,e){var g=e(65746);g.plot=e(49741),G.exports=g},49741:function(G,V,e){var g=e(88294),_=e(92770),a=e(26787),C=e(38967),A=e(19635),v=e(71828),p=e(78232).TOO_MANY_POINTS,t={};G.exports=function(s,n,i){if(i.length){var f=n.radialAxis,u=n.angularAxis,y=C(s,n);return i.forEach(function(c){if(!(!c||!c[0]||!c[0].trace)){var T=c[0],h=T.trace,l=T.t,d=h._length,E=l.r,S=l.theta,P=l.opts,x,M=E.slice(),w=S.slice();for(x=0;x<E.length;x++)n.isPtInside({r:E[x],theta:S[x]})||(M[x]=NaN,w[x]=NaN);var o=new Array(d*2),L=Array(d),m=Array(d);for(x=0;x<d;x++){var F=M[x],I,U;if(_(F)){var z=f.c2g(F),N=u.c2g(w[x],h.thetaunit);I=z*Math.cos(N),U=z*Math.sin(N)}else I=U=NaN;L[x]=o[x*2]=I,m[x]=o[x*2+1]=U}l.tree=g(o),P.marker&&d>=p&&(P.marker.cluster=l.tree),P.marker&&(P.markerSel.positions=P.markerUnsel.positions=P.marker.positions=o),P.line&&o.length>1&&v.extendFlat(P.line,A.linePositions(s,h,o)),P.text&&(v.extendFlat(P.text,{positions:o},A.textPosition(s,h,P.text,P.marker)),v.extendFlat(P.textSel,{positions:o},A.textPosition(s,h,P.text,P.markerSel)),v.extendFlat(P.textUnsel,{positions:o},A.textPosition(s,h,P.text,P.markerUnsel))),P.fill&&!y.fill2d&&(y.fill2d=!0),P.marker&&!y.scatter2d&&(y.scatter2d=!0),P.line&&!y.line2d&&(y.line2d=!0),P.text&&!y.glText&&(y.glText=!0),y.lineOptions.push(P.line),y.fillOptions.push(P.fill),y.markerOptions.push(P.marker),y.markerSelectedOptions.push(P.markerSel),y.markerUnselectedOptions.push(P.markerUnsel),y.textOptions.push(P.text),y.textSelectedOptions.push(P.textSel),y.textUnselectedOptions.push(P.textUnsel),y.selectBatch.push([]),y.unselectBatch.push([]),l.x=L,l.y=m,l.rawx=L,l.rawy=m,l.r=E,l.theta=S,l.positions=o,l._scene=y,l.index=y.count,y.count++}}),a(s,n,i)}},G.exports.reglPrecompiled=t},48300:function(G,V,e){var g=e(5386).fF,_=e(5386).si,a=e(1426).extendFlat,C=e(82196),A=e(9012),v=C.line;G.exports={mode:C.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:C.text,texttemplate:_({editType:"plot"},{keys:["real","imag","text"]}),hovertext:C.hovertext,line:{color:v.color,width:v.width,dash:v.dash,backoff:v.backoff,shape:a({},v.shape,{values:["linear","spline"]}),smoothing:v.smoothing,editType:"calc"},connectgaps:C.connectgaps,marker:C.marker,cliponaxis:a({},C.cliponaxis,{dflt:!1}),textposition:C.textposition,textfont:C.textfont,fill:a({},C.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:C.fillcolor,hoverinfo:a({},A.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:C.hoveron,hovertemplate:g(),selected:C.selected,unselected:C.unselected}},30621:function(G,V,e){var g=e(92770),_=e(50606).BADNUM,a=e(36922),C=e(75225),A=e(66279),v=e(47761).calcMarkerSize;G.exports=function(t,r){for(var s=t._fullLayout,n=r.subplot,i=s[n].realaxis,f=s[n].imaginaryaxis,u=i.makeCalcdata(r,"real"),y=f.makeCalcdata(r,"imag"),c=r._length,T=new Array(c),h=0;h<c;h++){var l=u[h],d=y[h],E=T[h]={};g(l)&&g(d)?(E.real=l,E.imag=d):E.real=_}return v(r,c),a(t,r),C(T,r),A(T,r),T}},65269:function(G,V,e){var g=e(71828),_=e(34098),a=e(49508),C=e(11058),A=e(94039),v=e(82410),p=e(28908),t=e(47581).PTS_LINESONLY,r=e(48300);G.exports=function(i,f,u,y){function c(l,d){return g.coerce(i,f,r,l,d)}var T=s(i,f,y,c);if(!T){f.visible=!1;return}c("mode",T<t?"lines+markers":"lines"),c("text"),c("hovertext"),f.hoveron!=="fills"&&c("hovertemplate"),_.hasLines(f)&&(C(i,f,u,y,c,{backoff:!0}),A(i,f,c),c("connectgaps")),_.hasMarkers(f)&&a(i,f,u,y,c,{gradient:!0}),_.hasText(f)&&(c("texttemplate"),v(i,f,y,c));var h=[];(_.hasMarkers(f)||_.hasText(f))&&(c("cliponaxis"),c("marker.maxdisplayed"),h.push("points")),c("fill"),f.fill!=="none"&&(p(i,f,u,c),_.hasLines(f)||A(i,f,c)),(f.fill==="tonext"||f.fill==="toself")&&h.push("fills"),c("hoveron",h.join("+")||"points"),g.coerceSelectionMarkerOpacity(f,c)};function s(n,i,f,u){var y=u("real"),c=u("imag"),T;return y&&c&&(T=Math.min(y.length,c.length)),i._length=T,T}},62047:function(G,V,e){var g=e(89298);G.exports=function(a,C,A){var v={},p=A[C.subplot]._subplot;return v.realLabel=g.tickText(p.radialAxis,a.real,!0).text,v.imagLabel=g.tickText(p.angularAxis,a.imag,!0).text,v}},11350:function(G,V,e){var g=e(33720);function _(C,A,v,p){var t=g(C,A,v,p);if(!(!t||t[0].index===!1)){var r=t[0];if(r.index===void 0)return t;var s=C.subplot,n=r.cd[r.index],i=r.trace;if(s.isPtInside(n))return r.xLabelVal=void 0,r.yLabelVal=void 0,a(n,i,s,r),r.hovertemplate=i.hovertemplate,t}}function a(C,A,v,p){var t=v.radialAxis,r=v.angularAxis;t._hovertitle="real",r._hovertitle="imag";var s={};s[A.subplot]={_subplot:v};var n=A._module.formatLabels(C,A,s);p.realLabel=n.realLabel,p.imagLabel=n.imagLabel;var i=C.hi||A.hoverinfo,f=[];function u(c,T){f.push(c._hovertitle+": "+T)}if(!A.hovertemplate){var y=i.split("+");y.indexOf("all")!==-1&&(y=["real","imag","text"]),y.indexOf("real")!==-1&&u(t,p.realLabel),y.indexOf("imag")!==-1&&u(r,p.imagLabel),y.indexOf("text")!==-1&&p.text&&(f.push(p.text),delete p.text),p.extraText=f.join("<br>")}}G.exports={hoverPoints:_,makeHoverPointText:a}},85956:function(G,V,e){G.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(7504),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(48300),supplyDefaults:e(65269),colorbar:e(4898),formatLabels:e(62047),calc:e(30621),plot:e(12480),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(11350).hoverPoints,selectPoints:e(98002),meta:{}}},12480:function(G,V,e){var g=e(32663),_=e(50606).BADNUM,a=e(23893),C=a.smith;G.exports=function(v,p,t){for(var r=p.layers.frontplot.select("g.scatterlayer"),s=p.xaxis,n=p.yaxis,i={xaxis:s,yaxis:n,plot:p.framework,layerClipId:p._hasClipOnAxisFalse?p.clipIds.forTraces:null},f=0;f<t.length;f++)for(var u=t[f],y=0;y<u.length;y++){y===0&&(u[0].trace._xA=s,u[0].trace._yA=n);var c=u[y],T=c.real;if(T===_)c.x=c.y=_;else{var h=C([T,c.imag]);c.x=h[0],c.y=h[1]}}g(v,i,t,r)}},50413:function(G,V,e){var g=e(5386).fF,_=e(5386).si,a=e(82196),C=e(9012),A=e(50693),v=e(79952).P,p=e(1426).extendFlat,t=a.marker,r=a.line,s=t.line;G.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:p({},a.mode,{dflt:"markers"}),text:p({},a.text,{}),texttemplate:_({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:p({},a.hovertext,{}),line:{color:r.color,width:r.width,dash:v,backoff:r.backoff,shape:p({},r.shape,{values:["linear","spline"]}),smoothing:r.smoothing,editType:"calc"},connectgaps:a.connectgaps,cliponaxis:a.cliponaxis,fill:p({},a.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:a.fillcolor,marker:p({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:p({width:s.width,editType:"calc"},A("marker.line")),gradient:t.gradient,editType:"calc"},A("marker")),textfont:a.textfont,textposition:a.textposition,selected:a.selected,unselected:a.unselected,hoverinfo:p({},C.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:a.hoveron,hovertemplate:g()}},54337:function(G,V,e){var g=e(92770),_=e(36922),a=e(75225),C=e(66279),A=e(47761).calcMarkerSize,v=["a","b","c"],p={a:["b","c"],b:["a","c"],c:["a","b"]};G.exports=function(r,s){var n=r._fullLayout[s.subplot],i=n.sum,f=s.sum||i,u={a:s.a,b:s.b,c:s.c},y,c,T,h,l,d;for(y=0;y<v.length;y++)if(T=v[y],!u[T]){for(l=u[p[T][0]],d=u[p[T][1]],h=new Array(l.length),c=0;c<l.length;c++)h[c]=f-l[c]-d[c];u[T]=h}var E=s._length,S=new Array(E),P,x,M,w,o,L;for(y=0;y<E;y++)P=u.a[y],x=u.b[y],M=u.c[y],g(P)&&g(x)&&g(M)?(P=+P,x=+x,M=+M,w=i/(P+x+M),w!==1&&(P*=w,x*=w,M*=w),L=P,o=M-x,S[y]={x:o,y:L,a:P,b:x,c:M}):S[y]={x:!1,y:!1};return A(s,E),_(r,s),a(S,s),C(S,s),S}},46008:function(G,V,e){var g=e(71828),_=e(47581),a=e(34098),C=e(49508),A=e(11058),v=e(94039),p=e(82410),t=e(28908),r=e(50413);G.exports=function(n,i,f,u){function y(S,P){return g.coerce(n,i,r,S,P)}var c=y("a"),T=y("b"),h=y("c"),l;if(c?(l=c.length,T?(l=Math.min(l,T.length),h&&(l=Math.min(l,h.length))):h?l=Math.min(l,h.length):l=0):T&&h&&(l=Math.min(T.length,h.length)),!l){i.visible=!1;return}i._length=l,y("sum"),y("text"),y("hovertext"),i.hoveron!=="fills"&&y("hovertemplate");var d=l<_.PTS_LINESONLY?"lines+markers":"lines";y("mode",d),a.hasLines(i)&&(A(n,i,f,u,y,{backoff:!0}),v(n,i,y),y("connectgaps")),a.hasMarkers(i)&&C(n,i,f,u,y,{gradient:!0}),a.hasText(i)&&(y("texttemplate"),p(n,i,u,y));var E=[];(a.hasMarkers(i)||a.hasText(i))&&(y("cliponaxis"),y("marker.maxdisplayed"),E.push("points")),y("fill"),i.fill!=="none"&&(t(n,i,f,y),a.hasLines(i)||v(n,i,y)),(i.fill==="tonext"||i.fill==="toself")&&E.push("fills"),y("hoveron",E.join("+")||"points"),g.coerceSelectionMarkerOpacity(i,y)}},4524:function(G){G.exports=function(e,g,_,a,C){if(g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),a[C]){var A=a[C];e.a=A.a,e.b=A.b,e.c=A.c}else e.a=g.a,e.b=g.b,e.c=g.c;return e}},93645:function(G,V,e){var g=e(89298);G.exports=function(a,C,A){var v={},p=A[C.subplot]._subplot;return v.aLabel=g.tickText(p.aaxis,a.a,!0).text,v.bLabel=g.tickText(p.baxis,a.b,!0).text,v.cLabel=g.tickText(p.caxis,a.c,!0).text,v}},47250:function(G,V,e){var g=e(33720);G.exports=function(a,C,A,v){var p=g(a,C,A,v);if(!p||p[0].index===!1)return;var t=p[0];if(t.index===void 0){var r=1-t.y0/a.ya._length,s=a.xa._length,n=s*r/2,i=s-n;return t.x0=Math.max(Math.min(t.x0,i),n),t.x1=Math.max(Math.min(t.x1,i),n),p}var f=t.cd[t.index],u=t.trace,y=t.subplot;t.a=f.a,t.b=f.b,t.c=f.c,t.xLabelVal=void 0,t.yLabelVal=void 0;var c={};c[u.subplot]={_subplot:y};var T=u._module.formatLabels(f,u,c);t.aLabel=T.aLabel,t.bLabel=T.bLabel,t.cLabel=T.cLabel;var h=f.hi||u.hoverinfo,l=[];function d(S,P){l.push(S._hovertitle+": "+P)}if(!u.hovertemplate){var E=h.split("+");E.indexOf("all")!==-1&&(E=["a","b","c"]),E.indexOf("a")!==-1&&d(y.aaxis,t.aLabel),E.indexOf("b")!==-1&&d(y.baxis,t.bLabel),E.indexOf("c")!==-1&&d(y.caxis,t.cLabel)}return t.extraText=l.join("<br>"),t.hovertemplate=u.hovertemplate,p}},52979:function(G,V,e){G.exports={attributes:e(50413),supplyDefaults:e(46008),colorbar:e(4898),formatLabels:e(93645),calc:e(54337),plot:e(7507),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(47250),selectPoints:e(98002),eventData:e(4524),moduleType:"trace",name:"scatterternary",basePlotModule:e(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(G,V,e){var g=e(32663);G.exports=function(a,C,A){var v=C.plotContainer;v.select(".scatterlayer").selectAll("*").remove();for(var p=C.xaxis,t=C.yaxis,r={xaxis:p,yaxis:t,plot:v,layerClipId:C._hasClipOnAxisFalse?C.clipIdRelative:null},s=C.layers.frontplot.select("g.scatterlayer"),n=0;n<A.length;n++){var i=A[n];i.length&&(i[0].trace._xA=p,i[0].trace._yA=t)}g(a,r,A,s)}},46880:function(G,V,e){var g=e(82196),_=e(50693),a=e(12663).axisHoverFormat,C=e(5386).fF,A=e(42341),v=e(85555).idRegex,p=e(44467).templatedArray,t=e(1426).extendFlat,r=g.marker,s=r.line,n=t(_("marker.line",{editTypeOverride:"calc"}),{width:t({},s.width,{editType:"calc"}),editType:"calc"}),i=t(_("marker"),{symbol:r.symbol,angle:r.angle,size:t({},r.size,{editType:"markerSize"}),sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,opacity:r.opacity,colorbar:r.colorbar,line:n,editType:"calc"});i.color.editType=i.cmin.editType=i.cmax.editType="style";function f(u){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[u],editType:"plot"}}}G.exports={dimensions:p("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:t({},A.text,{}),hovertext:t({},A.hovertext,{}),hovertemplate:C(),xhoverformat:a("x"),yhoverformat:a("y"),marker:i,xaxes:f("x"),yaxes:f("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:A.selected.marker,editType:"calc"},unselected:{marker:A.unselected.marker,editType:"calc"},opacity:A.opacity}},65017:function(G,V,e){var g=e(73972),_=e(83312);G.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(46880),supplyDefaults:e(25784),colorbar:e(4898),calc:e(87625),plot:e(79410),hoverPoints:e(8567).hoverPoints,selectPoints:e(8689),editStyle:e(28801),meta:{}},g.register(_)},16947:function(G,V,e){var g=e(46075),_=e(73972),a=e(79749),C=e(27659).a0,A=e(93612),v=e(41675).getFromId,p=e(89298).shouldShowZeroLine,t="splom",r={};function s(c){var T=c._fullLayout,h=_.getModule(t),l=C(c.calcdata,h)[0],d=a(c,["ANGLE_instanced_arrays","OES_element_index_uint"],r);d&&(T._hasOnlyLargeSploms&&f(c),h.plot(c,{},l))}function n(c){var T=c.calcdata,h=c._fullLayout;h._hasOnlyLargeSploms&&f(c);for(var l=0;l<T.length;l++){var d=T[l][0],E=d.trace,S=h._splomScenes[E.uid];E.type==="splom"&&S&&S.matrix&&i(c,E,S)}}function i(c,T,h){for(var l=h.matrixOptions.data.length,d=T._visibleDims,E=h.viewOpts.ranges=new Array(l),S=0;S<d.length;S++){var P=d[S],x=E[S]=new Array(4),M=v(c,T._diag[P][0]);M&&(x[0]=M.r2l(M.range[0]),x[2]=M.r2l(M.range[1]));var w=v(c,T._diag[P][1]);w&&(x[1]=w.r2l(w.range[0]),x[3]=w.r2l(w.range[1]))}h.selectBatch.length||h.unselectBatch.length?h.matrix.update({ranges:E},{ranges:E}):h.matrix.update({ranges:E})}function f(c){var T=c._fullLayout,h=T._glcanvas.data()[0].regl,l=T._splomGrid;l||(l=T._splomGrid=g(h)),l.update(u(c))}function u(c){var T=c._context.plotGlPixelRatio,h=c._fullLayout,l=h._size,d=[0,0,h.width*T,h.height*T],E={},S;function P(Y,J,re,ie,ce,Q){re*=T,ie*=T,ce*=T,Q*=T;var j=J[Y+"color"],Z=J[Y+"width"],$=String(j+Z);$ in E?E[$].data.push(NaN,NaN,re,ie,ce,Q):E[$]={data:[re,ie,ce,Q],join:"rect",thickness:Z*T,color:j,viewport:d,range:d,overlay:!1}}for(S in h._splomSubplots){var x=h._plots[S],M=x.xaxis,w=x.yaxis,o=M._gridVals,L=w._gridVals,m=M._offset,F=M._length,I=w._length,U=l.b+w.domain[0]*l.h,z=-w._m,N=-z*w.r2l(w.range[0],w.calendar),B,O;if(M.showgrid)for(S=0;S<o.length;S++)B=m+M.l2p(o[S].x),P("grid",M,B,U,B,U+I);if(w.showgrid)for(S=0;S<L.length;S++)O=U+N+z*L[S].x,P("grid",w,m,O,m+F,O);p(c,M,w)&&(B=m+M.l2p(0),P("zeroline",M,B,U,B,U+I)),p(c,w,M)&&(O=U+N+0,P("zeroline",w,m,O,m+F,O))}var H=[];for(S in E)H.push(E[S]);return H}function y(c,T,h,l){var d={},E;if(l._splomScenes){for(E=0;E<c.length;E++){var S=c[E];S.type==="splom"&&(d[S.uid]=1)}for(E=0;E<h.length;E++){var P=h[E];if(!d[P.uid]){var x=l._splomScenes[P.uid];x&&x.destroy&&x.destroy(),l._splomScenes[P.uid]=null,delete l._splomScenes[P.uid]}}}Object.keys(l._splomScenes||{}).length===0&&delete l._splomScenes,l._splomGrid&&!T._hasOnlyLargeSploms&&l._hasOnlyLargeSploms&&(l._splomGrid.destroy(),l._splomGrid=null,delete l._splomGrid),A.clean(c,T,h,l)}G.exports={name:t,attr:A.attr,attrRegex:A.attrRegex,layoutAttributes:A.layoutAttributes,supplyLayoutDefaults:A.supplyLayoutDefaults,drawFramework:A.drawFramework,plot:s,drag:n,updateGrid:f,clean:y,updateFx:A.updateFx,toSVG:A.toSVG,reglPrecompiled:r}},87625:function(G,V,e){var g=e(71828),_=e(41675),a=e(47761).calcMarkerSize,C=e(47761).calcAxisExpansion,A=e(36922),v=e(19635).markerSelection,p=e(19635).markerStyle,t=e(10164),r=e(50606).BADNUM,s=e(78232).TOO_MANY_POINTS;G.exports=function(i,f){var u=f.dimensions,y=f._length,c={},T=c.cdata=[],h=c.data=[],l=f._visibleDims=[],d,E,S,P,x;function M(F,I){for(var U=F.makeCalcdata({v:I.values,vcalendar:f.calendar},"v"),z=0;z<U.length;z++)U[z]=U[z]===r?NaN:U[z];T.push(U),h.push(F.type==="log"?g.simpleMap(U,F.c2l):U)}for(d=0;d<u.length;d++)if(S=u[d],S.visible){if(P=_.getFromId(i,f._diag[d][0]),x=_.getFromId(i,f._diag[d][1]),P&&x&&P.type!==x.type){g.log("Skipping splom dimension "+d+" with conflicting axis types");continue}P?(M(P,S),x&&x.type==="category"&&(x._categories=P._categories.slice())):M(x,S),l.push(d)}A(i,f),g.extendFlat(c,p(i,f));var w=T.length,o=w*y>s,L;for(o?L=c.sizeAvg||Math.max(c.size,3):L=a(f,y),E=0;E<l.length;E++)d=l[E],S=u[d],P=_.getFromId(i,f._diag[d][0])||{},x=_.getFromId(i,f._diag[d][1])||{},C(i,f,P,x,T[E],T[E],L);var m=t(i,f);return m.matrix||(m.matrix=!0),m.matrixOptions=c,m.selectedOptions=v(i,f,f.selected),m.unselectedOptions=v(i,f,f.unselected),[{x:!1,y:!1,t:{},trace:f}]}},25784:function(G,V,e){var g=e(71828),_=e(85501),a=e(46880),C=e(34098),A=e(49508),v=e(94397),p=e(68645).isOpenSymbol;G.exports=function(n,i,f,u){function y(P,x){return g.coerce(n,i,a,P,x)}var c=_(n,i,{name:"dimensions",handleItemDefaults:t}),T=y("diagonal.visible"),h=y("showupperhalf"),l=y("showlowerhalf"),d=v(i,c,"values");if(!d||!T&&!h&&!l){i.visible=!1;return}y("text"),y("hovertext"),y("hovertemplate"),y("xhoverformat"),y("yhoverformat"),A(n,i,f,u,y,{noAngleRef:!0,noStandOff:!0});var E=p(i.marker.symbol),S=C.isBubble(i);y("marker.line.width",E||S?1:0),r(n,i,u,y),g.coerceSelectionMarkerOpacity(i,y)};function t(s,n){function i(u,y){return g.coerce(s,n,a.dimensions,u,y)}i("label");var f=i("values");f&&f.length?i("visible"):n.visible=!1,i("axis.type"),i("axis.matches")}function r(s,n,i,f){var u=n.dimensions,y=u.length,c=n.showupperhalf,T=n.showlowerhalf,h=n.diagonal.visible,l,d,E=new Array(y),S=new Array(y);for(l=0;l<y;l++){var P=l?l+1:"";E[l]="x"+P,S[l]="y"+P}var x=f("xaxes",E),M=f("yaxes",S),w=n._diag=new Array(y);n._xaxes={},n._yaxes={};var o=[],L=[];function m(Y,J,re,ie){if(Y){var ce=Y.charAt(0),Q=i._splomAxes[ce];if(n["_"+ce+"axes"][Y]=1,ie.push(Y),!(Y in Q)){var j=Q[Y]={};re&&(j.label=re.label||"",re.visible&&re.axis&&(re.axis.type&&(j.type=re.axis.type),re.axis.matches&&(j.matches=J)))}}}var F=!h&&!T,I=!h&&!c;for(n._axesDim={},l=0;l<y;l++){var U=u[l],z=l===0,N=l===y-1,B=z&&F||N&&I?void 0:x[l],O=z&&I||N&&F?void 0:M[l];m(B,O,U,o),m(O,B,U,L),w[l]=[B,O],n._axesDim[B]=l,n._axesDim[O]=l}for(l=0;l<o.length;l++)for(d=0;d<L.length;d++){var H=o[l]+L[d];(l>d&&c||l<d&&T||l===d&&(h||!T||!c))&&(i._splomSubplots[H]=1)}(!T||!h&&c&&T)&&(i._splomGridDflt.xside="bottom",i._splomGridDflt.yside="left")}},28801:function(G,V,e){var g=e(71828),_=e(36922),a=e(19635).markerStyle;G.exports=function(A,v){var p=v.trace,t=A._fullLayout._splomScenes[p.uid];if(t){_(A,p),g.extendFlat(t.matrixOptions,a(A,p));var r=g.extendFlat({},t.matrixOptions,t.viewOpts);t.matrix.update(r,null)}}},35948:function(G,V){V.getDimIndex=function(g,_){for(var a=_._id,C=a.charAt(0),A={x:0,y:1}[C],v=g._visibleDims,p=0;p<v.length;p++){var t=v[p];if(g._diag[t][A]===a)return p}return!1}},8567:function(G,V,e){var g=e(35948),_=e(20794).calcHover;function a(C,A,v){var p=C.cd,t=p[0].trace,r=C.scene,s=r.matrixOptions.cdata,n=C.xa,i=C.ya,f=n.c2p(A),u=i.c2p(v),y=C.distance,c=g.getDimIndex(t,n),T=g.getDimIndex(t,i);if(c===!1||T===!1)return[C];for(var h=s[c],l=s[T],d,E,S=y,P=0;P<h.length;P++){var x=h[P],M=l[P],w=n.c2p(x)-f,o=i.c2p(M)-u,L=Math.sqrt(w*w+o*o);L<S&&(S=E=L,d=P)}return C.index=d,C.distance=S,C.dxy=E,d===void 0?[C]:[_(C,h,l,t)]}G.exports={hoverPoints:a}},6419:function(G,V,e){var g=e(65017);g.basePlotModule=e(16947),G.exports=g},79410:function(G,V,e){var g=e(60487),_=e(71828),a=e(41675),C=e(64505).selectMode;G.exports=function(p,t,r){if(r.length)for(var s=0;s<r.length;s++)A(p,r[s][0])};function A(v,p){var t=v._fullLayout,r=t._size,s=p.trace,n=p.t,i=t._splomScenes[s.uid],f=i.matrixOptions,u=f.cdata,y=t._glcanvas.data()[0].regl,c=t.dragmode,T,h,l,d,E;if(u.length!==0){f.lower=s.showupperhalf,f.upper=s.showlowerhalf,f.diagonal=s.diagonal.visible;var S=s._visibleDims,P=u.length,x=i.viewOpts={};for(x.ranges=new Array(P),x.domains=new Array(P),E=0;E<S.length;E++){l=S[E];var M=x.ranges[E]=new Array(4),w=x.domains[E]=new Array(4);T=a.getFromId(v,s._diag[l][0]),T&&(M[0]=T._rl[0],M[2]=T._rl[1],w[0]=T.domain[0],w[2]=T.domain[1]),h=a.getFromId(v,s._diag[l][1]),h&&(M[1]=h._rl[0],M[3]=h._rl[1],w[1]=h.domain[0],w[3]=h.domain[1])}var o=v._context.plotGlPixelRatio,L=r.l*o,m=r.b*o,F=r.w*o,I=r.h*o;x.viewport=[L,m,F+L,I+m],i.matrix===!0&&(i.matrix=g(y));var U=t.clickmode.indexOf("select")>-1,z=C(c)||!!s.selectedpoints||U,N=!0;if(z){var B=s._length;if(s.selectedpoints){i.selectBatch=s.selectedpoints;var O=s.selectedpoints,H={};for(l=0;l<O.length;l++)H[O[l]]=!0;var Y=[];for(l=0;l<B;l++)H[l]||Y.push(l);i.unselectBatch=Y}var J=n.xpx=new Array(P),re=n.ypx=new Array(P);for(E=0;E<S.length;E++){if(l=S[E],T=a.getFromId(v,s._diag[l][0]),T)for(J[E]=new Array(B),d=0;d<B;d++)J[E][d]=T.c2p(u[E][d]);if(h=a.getFromId(v,s._diag[l][1]),h)for(re[E]=new Array(B),d=0;d<B;d++)re[E][d]=h.c2p(u[E][d])}if(i.selectBatch.length||i.unselectBatch.length){var ie=_.extendFlat({},f,i.unselectedOptions,x),ce=_.extendFlat({},f,i.selectedOptions,x);i.matrix.update(ie,ce),N=!1}}else n.xpx=n.ypx=null;if(N){var Q=_.extendFlat({},f,x);i.matrix.update(Q,null)}}}},10164:function(G,V,e){var g=e(71828);G.exports=function(a,C){var A=a._fullLayout,v=C.uid,p=A._splomScenes;p||(p=A._splomScenes={});var t={dirty:!0,selectBatch:[],unselectBatch:[]},r={matrix:!1,selectBatch:[],unselectBatch:[]},s=p[C.uid];return s||(s=p[v]=g.extendFlat({},t,r),s.draw=function(){s.matrix&&s.matrix.draw&&(s.selectBatch.length||s.unselectBatch.length?s.matrix.draw(s.unselectBatch,s.selectBatch):s.matrix.draw()),s.dirty=!1},s.destroy=function(){s.matrix&&s.matrix.destroy&&s.matrix.destroy(),s.matrixOptions=null,s.selectBatch=null,s.unselectBatch=null,s=null}),s.dirty||g.extendFlat(s,t),s}},8689:function(G,V,e){var g=e(71828),_=g.pushUnique,a=e(34098),C=e(35948);G.exports=function(v,p){var t=v.cd,r=t[0].trace,s=t[0].t,n=v.scene,i=n.matrixOptions.cdata,f=v.xaxis,u=v.yaxis,y=[];if(!n)return y;var c=!a.hasMarkers(r)&&!a.hasText(r);if(r.visible!==!0||c)return y;var T=C.getDimIndex(r,f),h=C.getDimIndex(r,u);if(T===!1||h===!1)return y;var l=s.xpx[T],d=s.ypx[h],E=i[T],S=i[h],P=(v.scene.selectBatch||[]).slice(),x=[];if(p!==!1&&!p.degenerate)for(var M=0;M<E.length;M++)p.contains([l[M],d[M]],null,M,v)?(y.push({pointNumber:M,x:E[M],y:S[M]}),_(P,M)):P.indexOf(M)!==-1?_(P,M):x.push(M);var w=n.matrixOptions;return!P.length&&!x.length?n.matrix.update(w,null):!n.selectBatch.length&&!n.unselectBatch.length&&n.matrix.update(n.unselectedOptions,g.extendFlat({},w,n.selectedOptions,n.viewOpts)),n.selectBatch=P,n.unselectBatch=x,y}},21850:function(G,V,e){var g=e(50693),_=e(12663).axisHoverFormat,a=e(5386).fF,C=e(2418),A=e(9012),v=e(1426).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:_("u",1),vhoverformat:_("v",1),whoverformat:_("w",1),xhoverformat:_("x"),yhoverformat:_("y"),zhoverformat:_("z"),showlegend:v({},A.showlegend,{dflt:!1})};v(p,g("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var t=["opacity","lightposition","lighting"];t.forEach(function(r){p[r]=C[r]}),p.hoverinfo=v({},A.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,G.exports=p},88489:function(G,V,e){var g=e(71828),_=e(78803);function a(p,t){t._len=Math.min(t.u.length,t.v.length,t.w.length,t.x.length,t.y.length,t.z.length),t._u=v(t.u,t._len),t._v=v(t.v,t._len),t._w=v(t.w,t._len),t._x=v(t.x,t._len),t._y=v(t.y,t._len),t._z=v(t.z,t._len);var r=C(t);t._gridFill=r.fill,t._Xs=r.Xs,t._Ys=r.Ys,t._Zs=r.Zs,t._len=r.len;var s=0,n,i,f;t.starts&&(n=v(t.starts.x||[]),i=v(t.starts.y||[]),f=v(t.starts.z||[]),s=Math.min(n.length,i.length,f.length)),t._startsX=n||[],t._startsY=i||[],t._startsZ=f||[];var u=0,y=1/0,c;for(c=0;c<t._len;c++){var T=t._u[c],h=t._v[c],l=t._w[c],d=Math.sqrt(T*T+h*h+l*l);u=Math.max(u,d),y=Math.min(y,d)}for(_(p,t,{vals:[y,u],containerStr:"",cLetter:"c"}),c=0;c<s;c++){var E=n[c];r.xMax=Math.max(r.xMax,E),r.xMin=Math.min(r.xMin,E);var S=i[c];r.yMax=Math.max(r.yMax,S),r.yMin=Math.min(r.yMin,S);var P=f[c];r.zMax=Math.max(r.zMax,P),r.zMin=Math.min(r.zMin,P)}t._slen=s,t._normMax=u,t._xbnds=[r.xMin,r.xMax],t._ybnds=[r.yMin,r.yMax],t._zbnds=[r.zMin,r.zMax]}function C(p){var t=p._x,r=p._y,s=p._z,n=p._len,i,f,u,y=-1/0,c=1/0,T=-1/0,h=1/0,l=-1/0,d=1/0,E="",S,P,x,M,w,o,L,m,F;for(n&&(M=t[0],o=r[0],m=s[0]),n>1&&(w=t[n-1],L=r[n-1],F=s[n-1]),i=0;i<n;i++)y=Math.max(y,t[i]),c=Math.min(c,t[i]),T=Math.max(T,r[i]),h=Math.min(h,r[i]),l=Math.max(l,s[i]),d=Math.min(d,s[i]),!S&&t[i]!==M&&(S=!0,E+="x"),!P&&r[i]!==o&&(P=!0,E+="y"),!x&&s[i]!==m&&(x=!0,E+="z");S||(E+="x"),P||(E+="y"),x||(E+="z");var I=A(p._x),U=A(p._y),z=A(p._z);E=E.replace("x",(M>w?"-":"+")+"x"),E=E.replace("y",(o>L?"-":"+")+"y"),E=E.replace("z",(m>F?"-":"+")+"z");var N=function(){n=0,I=[],U=[],z=[]};(!n||n<I.length*U.length*z.length)&&N();var B=function(he){return he==="x"?t:he==="y"?r:s},O=function(he){return he==="x"?I:he==="y"?U:z},H=function(he){return he[n-1]<he[0]?-1:1},Y=B(E[1]),J=B(E[3]),re=B(E[5]),ie=O(E[1]).length,ce=O(E[3]).length,Q=O(E[5]).length,j=!1,Z=function(he,me,Ce){return ie*(ce*he+me)+Ce},$=H(B(E[1])),te=H(B(E[3])),se=H(B(E[5]));for(i=0;i<Q-1;i++){for(f=0;f<ce-1;f++){for(u=0;u<ie-1;u++){var ee=Z(i,f,u),q=Z(i,f,u+1),le=Z(i,f+1,u),oe=Z(i+1,f,u);if((!(Y[ee]*$<Y[q]*$)||!(J[ee]*te<J[le]*te)||!(re[ee]*se<re[oe]*se))&&(j=!0),j)break}if(j)break}if(j)break}return j&&(g.warn("Encountered arbitrary coordinates! Unable to input data grid."),N()),{xMin:c,yMin:h,zMin:d,xMax:y,yMax:T,zMax:l,Xs:I,Ys:U,Zs:z,len:n,fill:E}}function A(p){return g.distinctVals(p).vals}function v(p,t){if(t===void 0&&(t=p.length),g.isTypedArray(p))return p.subarray(0,t);for(var r=[],s=0;s<t;s++)r[s]=+p[s];return r}G.exports={calc:a,filter:v,processGrid:C}},90154:function(G,V,e){var g=e(9330).gl_streamtube3d,_=g.createTubeMesh,a=e(71828),C=e(81697).parseColorScale,A=e(21081).extractOpts,v=e(90060),p={xaxis:0,yaxis:1,zaxis:2};function t(u,y){this.scene=u,this.uid=y,this.mesh=null,this.data=null}var r=t.prototype;r.handlePick=function(u){var y=this.scene.fullSceneLayout,c=this.scene.dataScale;function T(d,E){var S=y[E],P=c[p[E]];return S.l2c(d)/P}if(u.object===this.mesh){var h=u.data.position,l=u.data.velocity;return u.traceCoordinate=[T(h[0],"xaxis"),T(h[1],"yaxis"),T(h[2],"zaxis"),T(l[0],"xaxis"),T(l[1],"yaxis"),T(l[2],"zaxis"),u.data.intensity*this.data._normMax,u.data.divergence],u.textLabel=this.data.hovertext||this.data.text,!0}};function s(u){var y=u.length,c;return y>2?c=u.slice(1,y-1):y===2?c=[(u[0]+u[1])/2]:c=u,c}function n(u){var y=u.length;return y===1?[.5,.5]:[u[1]-u[0],u[y-1]-u[y-2]]}function i(u,y){var c=u.fullSceneLayout,T=u.dataScale,h=y._len,l={};function d(ce,Q){var j=c[Q],Z=T[p[Q]];return a.simpleMap(ce,function($){return j.d2l($)*Z})}if(l.vectors=v(d(y._u,"xaxis"),d(y._v,"yaxis"),d(y._w,"zaxis"),h),!h)return{positions:[],cells:[]};var E=d(y._Xs,"xaxis"),S=d(y._Ys,"yaxis"),P=d(y._Zs,"zaxis");l.meshgrid=[E,S,P],l.gridFill=y._gridFill;var x=y._slen;if(x)l.startingPositions=v(d(y._startsX,"xaxis"),d(y._startsY,"yaxis"),d(y._startsZ,"zaxis"));else{for(var M=S[0],w=s(E),o=s(P),L=new Array(w.length*o.length),m=0,F=0;F<w.length;F++)for(var I=0;I<o.length;I++)L[m++]=[w[F],M,o[I]];l.startingPositions=L}l.colormap=C(y),l.tubeSize=y.sizeref,l.maxLength=y.maxdisplayed;var U=d(y._xbnds,"xaxis"),z=d(y._ybnds,"yaxis"),N=d(y._zbnds,"zaxis"),B=n(E),O=n(S),H=n(P),Y=[[U[0]-B[0],z[0]-O[0],N[0]-H[0]],[U[1]+B[1],z[1]+O[1],N[1]+H[1]]],J=g(l,Y),re=A(y);J.vertexIntensityBounds=[re.min/y._normMax,re.max/y._normMax];var ie=y.lightposition;return J.lightPosition=[ie.x,ie.y,ie.z],J.ambient=y.lighting.ambient,J.diffuse=y.lighting.diffuse,J.specular=y.lighting.specular,J.roughness=y.lighting.roughness,J.fresnel=y.lighting.fresnel,J.opacity=y.opacity,y._pad=J.tubeScale*y.sizeref*2,J}r.update=function(u){this.data=u;var y=i(this.scene,u);this.mesh.update(y)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function f(u,y){var c=u.glplot.gl,T=i(u,y),h=_(c,T),l=new t(u,y.uid);return l.mesh=h,l.data=y,h._trace=l,u.glplot.add(h),l}G.exports=f},22459:function(G,V,e){var g=e(71828),_=e(1586),a=e(21850);G.exports=function(A,v,p,t){function r(c,T){return g.coerce(A,v,a,c,T)}var s=r("u"),n=r("v"),i=r("w"),f=r("x"),u=r("y"),y=r("z");if(!s||!s.length||!n||!n.length||!i||!i.length||!f||!f.length||!u||!u.length||!y||!y.length){v.visible=!1;return}r("starts.x"),r("starts.y"),r("starts.z"),r("maxdisplayed"),r("sizeref"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),_(A,v,t,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),v._length=null}},61510:function(G,V,e){G.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(21850),supplyDefaults:e(22459),colorbar:{min:"cmin",max:"cmax"},calc:e(88489).calc,plot:e(90154),eventData:function(g,_){return g.tubex=g.x,g.tubey=g.y,g.tubez=g.z,g.tubeu=_.traceCoordinate[3],g.tubev=_.traceCoordinate[4],g.tubew=_.traceCoordinate[5],g.norm=_.traceCoordinate[6],g.divergence=_.traceCoordinate[7],delete g.x,delete g.y,delete g.z,g},meta:{}}},57564:function(G,V,e){var g=e(9012),_=e(5386).fF,a=e(5386).si,C=e(50693),A=e(27670).Y,v=e(34e3),p=e(7055),t=e(1426).extendFlat,r=e(79952).u;G.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:t({colors:{valType:"data_array",editType:"calc"},line:{color:t({},v.marker.line.color,{dflt:null}),width:t({},v.marker.line.width,{dflt:1}),editType:"calc"},pattern:r,editType:"calc"},C("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:a({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:t({},g.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:_({},{keys:p.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:t({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:A({name:"sunburst",trace:!0,editType:"calc"})}},66888:function(G,V,e){var g=e(74875);V.name="sunburst",V.plot=function(_,a,C,A){g.plotBasePlot(V.name,_,a,C,A)},V.clean=function(_,a,C,A){g.cleanBasePlot(V.name,_,a,C,A)}},52147:function(G,V,e){var g=e(674),_=e(92770),a=e(71828),C=e(21081).makeColorScaleFuncFromTrace,A=e(32354).makePullColorFn,v=e(32354).generateExtendedColors,p=e(21081).calc,t=e(50606).ALMOST_EQUAL,r={},s={},n={};V.calc=function(f,u){var y=f._fullLayout,c=u.ids,T=a.isArrayOrTypedArray(c),h=u.labels,l=u.parents,d=u.values,E=a.isArrayOrTypedArray(d),S=[],P={},x={},M=function($,te){P[$]?P[$].push(te):P[$]=[te],x[te]=1},w=function($){return $||typeof $=="number"},o=function($){return!E||_(d[$])&&d[$]>=0},L,m,F;T?(L=Math.min(c.length,l.length),m=function($){return w(c[$])&&o($)},F=function($){return String(c[$])}):(L=Math.min(h.length,l.length),m=function($){return w(h[$])&&o($)},F=function($){return String(h[$])}),E&&(L=Math.min(L,d.length));for(var I=0;I<L;I++)if(m(I)){var U=F(I),z=w(l[I])?String(l[I]):"",N={i:I,id:U,pid:z,label:w(h[I])?String(h[I]):""};E&&(N.v=+d[I]),S.push(N),M(z,U)}if(P[""]){if(P[""].length>1){for(var H=a.randstr(),Y=0;Y<S.length;Y++)S[Y].pid===""&&(S[Y].pid=H);S.unshift({hasMultipleRoots:!0,id:H,pid:"",label:""})}}else{var B=[],O;for(O in P)x[O]||B.push(O);if(B.length===1)O=B[0],S.unshift({hasImpliedRoot:!0,id:O,pid:"",label:O});else return a.warn(["Multiple implied roots, cannot build",u.type,"hierarchy of",u.name+".","These roots include:",B.join(", ")].join(" "))}var J;try{J=g.stratify().id(function($){return $.id}).parentId(function($){return $.pid})(S)}catch($){return a.warn(["Failed to build",u.type,"hierarchy of",u.name+".","Error:",$.message].join(" "))}var re=g.hierarchy(J),ie=!1;if(E)switch(u.branchvalues){case"remainder":re.sum(function($){return $.data.v});break;case"total":re.each(function($){var te=$.data.data,se=te.v;if($.children){var ee=$.children.reduce(function(q,le){return q+le.data.data.v},0);if((te.hasImpliedRoot||te.hasMultipleRoots)&&(se=ee),se<ee*t)return ie=!0,a.warn(["Total value for node",$.data.data.id,"of",u.name,"is smaller than the sum of its children.",`
parent value =`,se,`
children sum =`,ee].join(" "))}$.value=se});break}else i(re,u,{branches:u.count.indexOf("branches")!==-1,leaves:u.count.indexOf("leaves")!==-1});if(!ie){u.sort&&re.sort(function($,te){return te.value-$.value});var ce,Q,j=u.marker.colors||[],Z=!!j.length;return u._hasColorscale?(Z||(j=E?u.values:u._values),p(f,u,{vals:j,containerStr:"marker",cLetter:"c"}),Q=C(u.marker)):ce=A(y["_"+u.type+"colormap"]),re.each(function($){var te=$.data.data;te.color=u._hasColorscale?Q(j[te.i]):ce(j[te.i],te.id)}),S[0].hierarchy=re,S}},V._runCrossTraceCalc=function(f,u){var y=u._fullLayout,c=u.calcdata,T=y[f+"colorway"],h=y["_"+f+"colormap"];y["extend"+f+"colors"]&&(T=v(T,f==="icicle"?n:f==="treemap"?s:r));var l=0,d;function E(M){var w=M.data.data,o=w.id;w.color===!1&&(h[o]?w.color=h[o]:M.parent?M.parent.parent?w.color=M.parent.data.data.color:(h[o]=w.color=T[l%T.length],l++):w.color=d)}for(var S=0;S<c.length;S++){var P=c[S],x=P[0];x.trace.type===f&&x.hierarchy&&(d=x.trace.root.color,x.hierarchy.each(E))}},V.crossTraceCalc=function(f){return V._runCrossTraceCalc("sunburst",f)};function i(f,u,y){var c=0,T=f.children;if(T){for(var h=T.length,l=0;l<h;l++)c+=i(T[l],u,y);y.branches&&c++}else y.leaves&&c++;return f.value=f.data.data.value=c,u._values||(u._values=[]),u._values[f.data.data.i]=c,c}},7055:function(G){G.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},17094:function(G,V,e){var g=e(71828),_=e(57564),a=e(27670).c,C=e(90769).handleText,A=e(37434).handleMarkerDefaults,v=e(21081),p=v.hasColorscale,t=v.handleDefaults;G.exports=function(s,n,i,f){function u(E,S){return g.coerce(s,n,_,E,S)}var y=u("labels"),c=u("parents");if(!y||!y.length||!c||!c.length){n.visible=!1;return}var T=u("values");T&&T.length?u("branchvalues"):u("count"),u("level"),u("maxdepth"),A(s,n,f,u);var h=n._hasColorscale=p(s,"marker","colors")||(s.marker||{}).coloraxis;h&&t(s,n,f,u,{prefix:"marker.",cLetter:"c"}),u("leaf.opacity",h?1:.7);var l=u("text");u("texttemplate"),n.texttemplate||u("textinfo",Array.isArray(l)?"text+label":"label"),u("hovertext"),u("hovertemplate");var d="auto";C(s,n,f,u,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),u("insidetextorientation"),u("sort"),u("rotation"),u("root.color"),a(n,f,u),n._length=null}},43467:function(G,V,e){var g=e(91424),_=e(7901);G.exports=function(C,A,v,p,t){var r=A.data.data,s=r.i,n=t||r.color;if(s>=0){A.i=r.i;var i=v.marker;i.pattern?(!i.colors||!i.pattern.shape)&&(i.color=n,A.color=n):(i.color=n,A.color=n),g.pointStyle(C,v,p,A)}else _.fill(C,n)}},83523:function(G,V,e){var g=e(39898),_=e(73972),a=e(23469).appendArrayPointValue,C=e(30211),A=e(71828),v=e(11086),p=e(2791),t=e(53581),r=t.formatPieValue;G.exports=function(i,f,u,y,c){var T=y[0],h=T.trace,l=T.hierarchy,d=h.type==="sunburst",E=h.type==="treemap"||h.type==="icicle";"_hasHoverLabel"in h||(h._hasHoverLabel=!1),"_hasHoverEvent"in h||(h._hasHoverEvent=!1);var S=function(M){var w=u._fullLayout;if(!(u._dragging||w.hovermode===!1)){var o=u._fullData[h.index],L=M.data.data,m=L.i,F=p.isHierarchyRoot(M),I=p.getParent(l,M),U=p.getValue(M),z=function(q){return A.castOption(o,m,q)},N=z("hovertemplate"),B=C.castHoverinfo(o,w,m),O=w.separators,H;if(N||B&&B!=="none"&&B!=="skip"){var Y,J;d&&(Y=T.cx+M.pxmid[0]*(1-M.rInscribed),J=T.cy+M.pxmid[1]*(1-M.rInscribed)),E&&(Y=M._hoverX,J=M._hoverY);var re={},ie=[],ce=[],Q=function(q){return ie.indexOf(q)!==-1};B&&(ie=B==="all"?o._module.attributes.hoverinfo.flags:B.split("+")),re.label=L.label,Q("label")&&re.label&&ce.push(re.label),L.hasOwnProperty("v")&&(re.value=L.v,re.valueLabel=r(re.value,O),Q("value")&&ce.push(re.valueLabel)),re.currentPath=M.currentPath=p.getPath(M.data),Q("current path")&&!F&&ce.push(re.currentPath);var j,Z=[],$=function(){Z.indexOf(j)===-1&&(ce.push(j),Z.push(j))};re.percentParent=M.percentParent=U/p.getValue(I),re.parent=M.parentString=p.getPtLabel(I),Q("percent parent")&&(j=p.formatPercent(re.percentParent,O)+" of "+re.parent,$()),re.percentEntry=M.percentEntry=U/p.getValue(f),re.entry=M.entry=p.getPtLabel(f),Q("percent entry")&&!F&&!M.onPathbar&&(j=p.formatPercent(re.percentEntry,O)+" of "+re.entry,$()),re.percentRoot=M.percentRoot=U/p.getValue(l),re.root=M.root=p.getPtLabel(l),Q("percent root")&&!F&&(j=p.formatPercent(re.percentRoot,O)+" of "+re.root,$()),re.text=z("hovertext")||z("text"),Q("text")&&(j=re.text,A.isValidTextValue(j)&&ce.push(j)),H=[s(M,o,c.eventDataKeys)];var te={trace:o,y:J,_x0:M._x0,_x1:M._x1,_y0:M._y0,_y1:M._y1,text:ce.join("<br>"),name:N||Q("name")?o.name:void 0,color:z("hoverlabel.bgcolor")||L.color,borderColor:z("hoverlabel.bordercolor"),fontFamily:z("hoverlabel.font.family"),fontSize:z("hoverlabel.font.size"),fontColor:z("hoverlabel.font.color"),nameLength:z("hoverlabel.namelength"),textAlign:z("hoverlabel.align"),hovertemplate:N,hovertemplateLabels:re,eventData:H};d&&(te.x0=Y-M.rInscribed*M.rpx1,te.x1=Y+M.rInscribed*M.rpx1,te.idealAlign=M.pxmid[0]<0?"left":"right"),E&&(te.x=Y,te.idealAlign=Y<0?"left":"right");var se=[];C.loneHover(te,{container:w._hoverlayer.node(),outerContainer:w._paper.node(),gd:u,inOut_bbox:se}),H[0].bbox=se[0],h._hasHoverLabel=!0}if(E){var ee=i.select("path.surface");c.styleOne(ee,M,o,u,{hovered:!0})}h._hasHoverEvent=!0,u.emit("plotly_hover",{points:H||[s(M,o,c.eventDataKeys)],event:g.event})}},P=function(M){var w=u._fullLayout,o=u._fullData[h.index],L=g.select(this).datum();if(h._hasHoverEvent&&(M.originalEvent=g.event,u.emit("plotly_unhover",{points:[s(L,o,c.eventDataKeys)],event:g.event}),h._hasHoverEvent=!1),h._hasHoverLabel&&(C.loneUnhover(w._hoverlayer.node()),h._hasHoverLabel=!1),E){var m=i.select("path.surface");c.styleOne(m,L,o,u,{hovered:!1})}},x=function(M){var w=u._fullLayout,o=u._fullData[h.index],L=d&&(p.isHierarchyRoot(M)||p.isLeaf(M)),m=p.getPtId(M),F=p.isEntry(M)?p.findEntryWithChild(l,m):p.findEntryWithLevel(l,m),I=p.getPtId(F),U={points:[s(M,o,c.eventDataKeys)],event:g.event};L||(U.nextLevel=I);var z=v.triggerHandler(u,"plotly_"+h.type+"click",U);if(z!==!1&&w.hovermode&&(u._hoverdata=[s(M,o,c.eventDataKeys)],C.click(u,g.event)),!L&&z!==!1&&!u._dragging&&!u._transitioning){_.call("_storeDirectGUIEdit",o,w._tracePreGUI[o.uid],{level:o.level});var N={data:[{level:I}],traces:[h.index]},B={frame:{redraw:!1,duration:c.transitionTime},transition:{duration:c.transitionTime,easing:c.transitionEasing},mode:"immediate",fromcurrent:!0};C.loneUnhover(w._hoverlayer.node()),_.call("animate",u,N,B)}};i.on("mouseover",S),i.on("mouseout",P),i.on("click",x)};function s(n,i,f){for(var u=n.data.data,y={curveNumber:i.index,pointNumber:u.i,data:i._input,fullData:i},c=0;c<f.length;c++){var T=f[c];T in n&&(y[T]=n[T])}return"parentString"in n&&!p.isHierarchyRoot(n)&&(y.parent=n.parentString),a(y,i,u.i),y}},2791:function(G,V,e){var g=e(71828),_=e(7901),a=e(6964),C=e(53581);V.findEntryWithLevel=function(t,r){var s;return r&&t.eachAfter(function(n){if(V.getPtId(n)===r)return s=n.copy()}),s||t},V.findEntryWithChild=function(t,r){var s;return t.eachAfter(function(n){for(var i=n.children||[],f=0;f<i.length;f++){var u=i[f];if(V.getPtId(u)===r)return s=n.copy()}}),s||t},V.isEntry=function(t){return!t.parent},V.isLeaf=function(t){return!t.children},V.getPtId=function(t){return t.data.data.id},V.getPtLabel=function(t){return t.data.data.label},V.getValue=function(t){return t.value},V.isHierarchyRoot=function(t){return p(t)===""},V.setSliceCursor=function(t,r,s){var n=s.isTransitioning;if(!n){var i=t.datum();n=s.hideOnRoot&&V.isHierarchyRoot(i)||s.hideOnLeaves&&V.isLeaf(i)}a(t,n?null:"pointer")};function A(t,r,s){return{color:V.getOutsideTextFontKey("color",t,r,s),family:V.getOutsideTextFontKey("family",t,r,s),size:V.getOutsideTextFontKey("size",t,r,s)}}function v(t,r,s,n){var i=(n||{}).onPathbar,f=r.data.data,u=f.i,y=g.castOption(t,u,(i?"pathbar.textfont":"insidetextfont")+".color");return!y&&t._input.textfont&&(y=g.castOption(t._input,u,"textfont.color")),{color:y||_.contrast(f.color),family:V.getInsideTextFontKey("family",t,r,s,n),size:V.getInsideTextFontKey("size",t,r,s,n)}}V.getInsideTextFontKey=function(t,r,s,n,i){var f=(i||{}).onPathbar,u=f?"pathbar.textfont":"insidetextfont",y=s.data.data.i;return g.castOption(r,y,u+"."+t)||g.castOption(r,y,"textfont."+t)||n.size},V.getOutsideTextFontKey=function(t,r,s,n){var i=s.data.data.i;return g.castOption(r,i,"outsidetextfont."+t)||g.castOption(r,i,"textfont."+t)||n.size},V.isOutsideText=function(t,r){return!t._hasColorscale&&V.isHierarchyRoot(r)},V.determineTextFont=function(t,r,s,n){return V.isOutsideText(t,r)?A(t,r,s):v(t,r,s,n)},V.hasTransition=function(t){return!!(t&&t.duration>0)},V.getMaxDepth=function(t){return t.maxdepth>=0?t.maxdepth:1/0},V.isHeader=function(t,r){return!(V.isLeaf(t)||t.depth===r._maxDepth-1)};function p(t){return t.data.data.pid}V.getParent=function(t,r){return V.findEntryWithLevel(t,p(r))},V.listPath=function(t,r){var s=t.parent;if(!s)return[];var n=r?[s.data[r]]:[s];return V.listPath(s,r).concat(n)},V.getPath=function(t){return V.listPath(t,"label").join("/")+"/"},V.formatValue=C.formatPieValue,V.formatPercent=function(t,r){var s=g.formatPercent(t,0);return s==="0%"&&(s=C.formatPiePercent(t,r)),s}},87619:function(G,V,e){G.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(66888),categories:[],animatable:!0,attributes:e(57564),layoutAttributes:e(2654),supplyDefaults:e(17094),supplyLayoutDefaults:e(57034),calc:e(52147).calc,crossTraceCalc:e(52147).crossTraceCalc,plot:e(24714).plot,style:e(29969).style,colorbar:e(4898),meta:{}}},2654:function(G){G.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57034:function(G,V,e){var g=e(71828),_=e(2654);G.exports=function(C,A){function v(p,t){return g.coerce(C,A,_,p,t)}v("sunburstcolorway",A.colorway),v("extendsunburstcolors")}},24714:function(G,V,e){var g=e(39898),_=e(674),a=e(81684).sX,C=e(91424),A=e(71828),v=e(63893),p=e(72597),t=p.recordMinTextSize,r=p.clearMinTextSize,s=e(14575),n=e(53581).getRotationAngle,i=s.computeTransform,f=s.transformInsideText,u=e(29969).styleOne,y=e(16688).resizeText,c=e(83523),T=e(7055),h=e(2791);V.plot=function(x,M,w,o){var L=x._fullLayout,m=L._sunburstlayer,F,I,U=!w,z=!L.uniformtext.mode&&h.hasTransition(w);if(r("sunburst",L),F=m.selectAll("g.trace.sunburst").data(M,function(B){return B[0].trace.uid}),F.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),F.order(),z){o&&(I=o());var N=g.transition().duration(w.duration).ease(w.easing).each("end",function(){I&&I()}).each("interrupt",function(){I&&I()});N.each(function(){m.selectAll("g.trace").each(function(B){l(x,B,this,w)})})}else F.each(function(B){l(x,B,this,w)}),L.uniformtext.mode&&y(x,L._sunburstlayer.selectAll(".trace"),"sunburst");U&&F.exit().remove()};function l(x,M,w,o){var L=x._context.staticPlot,m=x._fullLayout,F=!m.uniformtext.mode&&h.hasTransition(o),I=g.select(w),U=I.selectAll("g.slice"),z=M[0],N=z.trace,B=z.hierarchy,O=h.findEntryWithLevel(B,N.level),H=h.getMaxDepth(N),Y=m._size,J=N.domain,re=Y.w*(J.x[1]-J.x[0]),ie=Y.h*(J.y[1]-J.y[0]),ce=.5*Math.min(re,ie),Q=z.cx=Y.l+Y.w*(J.x[1]+J.x[0])/2,j=z.cy=Y.t+Y.h*(1-J.y[0])-ie/2;if(!O)return U.remove();var Z=null,$={};F&&U.each(function(Ze){$[h.getPtId(Ze)]={rpx0:Ze.rpx0,rpx1:Ze.rpx1,x0:Ze.x0,x1:Ze.x1,transform:Ze.transform},!Z&&h.isEntry(Ze)&&(Z=Ze)});var te=d(O).descendants(),se=O.height+1,ee=0,q=H;z.hasMultipleRoots&&h.isHierarchyRoot(O)&&(te=te.slice(1),se-=1,ee=1,q+=1),te=te.filter(function(Ze){return Ze.y1<=q});var le=n(N.rotation);le&&te.forEach(function(Ze){Ze.x0+=le,Ze.x1+=le});var oe=Math.min(se,H),he=function(Ze){return(Ze-ee)/oe*ce},me=function(Ze,ut){return[Ze*Math.cos(ut),-Ze*Math.sin(ut)]},Ce=function(Ze){return A.pathAnnulus(Ze.rpx0,Ze.rpx1,Ze.x0,Ze.x1,Q,j)},Ae=function(Ze){return Q+S(Ze)[0]*(Ze.transform.rCenter||0)+(Ze.transform.x||0)},Ue=function(Ze){return j+S(Ze)[1]*(Ze.transform.rCenter||0)+(Ze.transform.y||0)};U=U.data(te,h.getPtId),U.enter().append("g").classed("slice",!0),F?U.exit().transition().each(function(){var Ze=g.select(this),ut=Ze.select("path.surface");ut.transition().attrTween("d",function(it){var $e=Le(it);return function(st){return Ce($e(st))}});var at=Ze.select("g.slicetext");at.attr("opacity",0)}).remove():U.exit().remove(),U.order();var Ve=null;if(F&&Z){var Pe=h.getPtId(Z);U.each(function(Ze){Ve===null&&h.getPtId(Ze)===Pe&&(Ve=Ze.x1)})}var be=U;F&&(be=be.transition().each("end",function(){var Ze=g.select(this);h.setSliceCursor(Ze,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),be.each(function(Ze){var ut=g.select(this),at=A.ensureSingle(ut,"path","surface",function(St){St.style("pointer-events",L?"none":"all")});Ze.rpx0=he(Ze.y0),Ze.rpx1=he(Ze.y1),Ze.xmid=(Ze.x0+Ze.x1)/2,Ze.pxmid=me(Ze.rpx1,Ze.xmid),Ze.midangle=-(Ze.xmid-Math.PI/2),Ze.startangle=-(Ze.x0-Math.PI/2),Ze.stopangle=-(Ze.x1-Math.PI/2),Ze.halfangle=.5*Math.min(A.angleDelta(Ze.x0,Ze.x1)||Math.PI,Math.PI),Ze.ring=1-Ze.rpx0/Ze.rpx1,Ze.rInscribed=E(Ze),F?at.transition().attrTween("d",function(St){var Mt=We(St);return function(Bt){return Ce(Mt(Bt))}}):at.attr("d",Ce),ut.call(c,O,x,M,{eventDataKeys:T.eventDataKeys,transitionTime:T.CLICK_TRANSITION_TIME,transitionEasing:T.CLICK_TRANSITION_EASING}).call(h.setSliceCursor,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:x._transitioning}),at.call(u,Ze,N,x);var it=A.ensureSingle(ut,"g","slicetext"),$e=A.ensureSingle(it,"text","",function(St){St.attr("data-notex",1)}),st=A.ensureUniformFontSize(x,h.determineTextFont(N,Ze,m.font));$e.text(V.formatSliceLabel(Ze,O,N,M,m)).classed("slicetext",!0).attr("text-anchor","middle").call(C.font,st).call(v.convertToTspans,x);var ct=C.bBox($e.node());Ze.transform=f(ct,Ze,z),Ze.transform.targetX=Ae(Ze),Ze.transform.targetY=Ue(Ze);var vt=function(St,Mt){var Bt=St.transform;return i(Bt,Mt),Bt.fontSize=st.size,t(N.type,Bt,m),A.getTextTransform(Bt)};F?$e.transition().attrTween("transform",function(St){var Mt=je(St);return function(Bt){return vt(Mt(Bt),ct)}}):$e.attr("transform",vt(Ze,ct))});function Le(Ze){var ut=h.getPtId(Ze),at=$[ut],it=$[h.getPtId(O)],$e;if(it){var st=(Ze.x1>it.x1?2*Math.PI:0)+le;$e=Ze.rpx1<it.rpx1?{x0:Ze.x0,x1:Ze.x1,rpx0:0,rpx1:0}:{x0:st,x1:st,rpx0:Ze.rpx0,rpx1:Ze.rpx1}}else{var ct,vt=h.getPtId(Ze.parent);U.each(function(ke){if(h.getPtId(ke)===vt)return ct=ke});var St=ct.children,Mt;St.forEach(function(ke,ze){if(h.getPtId(ke)===ut)return Mt=ze});var Bt=St.length,Qe=a(ct.x0,ct.x1);$e={rpx0:ce,rpx1:ce,x0:Qe(Mt/Bt),x1:Qe((Mt+1)/Bt)}}return a(at,$e)}function We(Ze){var ut=$[h.getPtId(Ze)],at,it={x0:Ze.x0,x1:Ze.x1,rpx0:Ze.rpx0,rpx1:Ze.rpx1};if(ut)at=ut;else if(Z)if(Ze.parent)if(Ve){var $e=(Ze.x1>Ve?2*Math.PI:0)+le;at={x0:$e,x1:$e}}else at={rpx0:ce,rpx1:ce},A.extendFlat(at,Fe(Ze));else at={rpx0:0,rpx1:0};else at={x0:le,x1:le};return a(at,it)}function je(Ze){var ut=$[h.getPtId(Ze)],at,it=Ze.transform;if(ut)at=ut;else if(at={rpx1:Ze.rpx1,transform:{textPosAngle:it.textPosAngle,scale:0,rotate:it.rotate,rCenter:it.rCenter,x:it.x,y:it.y}},Z)if(Ze.parent)if(Ve){var $e=Ze.x1>Ve?2*Math.PI:0;at.x0=at.x1=$e}else A.extendFlat(at,Fe(Ze));else at.x0=at.x1=le;else at.x0=at.x1=le;var st=a(at.transform.textPosAngle,Ze.transform.textPosAngle),ct=a(at.rpx1,Ze.rpx1),vt=a(at.x0,Ze.x0),St=a(at.x1,Ze.x1),Mt=a(at.transform.scale,it.scale),Bt=a(at.transform.rotate,it.rotate),Qe=it.rCenter===0?3:at.transform.rCenter===0?1/3:1,ke=a(at.transform.rCenter,it.rCenter),ze=function(Be){return ke(Math.pow(Be,Qe))};return function(Be){var Re=ct(Be),we=vt(Be),ye=St(Be),Se=ze(Be),Me=me(Re,(we+ye)/2),He=st(Be),qe={pxmid:Me,rpx1:Re,transform:{textPosAngle:He,rCenter:Se,x:it.x,y:it.y}};return t(N.type,it,m),{transform:{targetX:Ae(qe),targetY:Ue(qe),scale:Mt(Be),rotate:Bt(Be),rCenter:Se}}}}function Fe(Ze){var ut=Ze.parent,at=$[h.getPtId(ut)],it={};if(at){var $e=ut.children,st=$e.indexOf(Ze),ct=$e.length,vt=a(at.x0,at.x1);it.x0=vt(st/ct),it.x1=vt(st/ct)}else it.x0=it.x1=0;return it}}function d(x){return _.partition().size([2*Math.PI,x.height+1])(x)}V.formatSliceLabel=function(x,M,w,o,L){var m=w.texttemplate,F=w.textinfo;if(!m&&(!F||F==="none"))return"";var I=L.separators,U=o[0],z=x.data.data,N=U.hierarchy,B=h.isHierarchyRoot(x),O=h.getParent(N,x),H=h.getValue(x);if(!m){var Y=F.split("+"),J=function(ee){return Y.indexOf(ee)!==-1},re=[],ie;if(J("label")&&z.label&&re.push(z.label),z.hasOwnProperty("v")&&J("value")&&re.push(h.formatValue(z.v,I)),!B){J("current path")&&re.push(h.getPath(x.data));var ce=0;J("percent parent")&&ce++,J("percent entry")&&ce++,J("percent root")&&ce++;var Q=ce>1;if(ce){var j,Z=function(ee){ie=h.formatPercent(j,I),Q&&(ie+=" of "+ee),re.push(ie)};J("percent parent")&&!B&&(j=H/h.getValue(O),Z("parent")),J("percent entry")&&(j=H/h.getValue(M),Z("entry")),J("percent root")&&(j=H/h.getValue(N),Z("root"))}}return J("text")&&(ie=A.castOption(w,z.i,"text"),A.isValidTextValue(ie)&&re.push(ie)),re.join("<br>")}var $=A.castOption(w,z.i,"texttemplate");if(!$)return"";var te={};z.label&&(te.label=z.label),z.hasOwnProperty("v")&&(te.value=z.v,te.valueLabel=h.formatValue(z.v,I)),te.currentPath=h.getPath(x.data),B||(te.percentParent=H/h.getValue(O),te.percentParentLabel=h.formatPercent(te.percentParent,I),te.parent=h.getPtLabel(O)),te.percentEntry=H/h.getValue(M),te.percentEntryLabel=h.formatPercent(te.percentEntry,I),te.entry=h.getPtLabel(M),te.percentRoot=H/h.getValue(N),te.percentRootLabel=h.formatPercent(te.percentRoot,I),te.root=h.getPtLabel(N),z.hasOwnProperty("color")&&(te.color=z.color);var se=A.castOption(w,z.i,"text");return(A.isValidTextValue(se)||se==="")&&(te.text=se),te.customdata=A.castOption(w,z.i,"customdata"),A.texttemplateString($,te,L._d3locale,te,w._meta||{})};function E(x){return x.rpx0===0&&A.isFullCircle([x.x0,x.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(x.halfangle)),x.ring/2))}function S(x){return P(x.rpx1,x.transform.textPosAngle)}function P(x,M){return[x*Math.sin(M),-x*Math.cos(M)]}},29969:function(G,V,e){var g=e(39898),_=e(7901),a=e(71828),C=e(72597).resizeText,A=e(43467);function v(t){var r=t._fullLayout._sunburstlayer.selectAll(".trace");C(t,r,"sunburst"),r.each(function(s){var n=g.select(this),i=s[0],f=i.trace;n.style("opacity",f.opacity),n.selectAll("path.surface").each(function(u){g.select(this).call(p,u,f,t)})})}function p(t,r,s,n){var i=r.data.data,f=!r.children,u=i.i,y=a.castOption(s,u,"marker.line.color")||_.defaultLine,c=a.castOption(s,u,"marker.line.width")||0;t.call(A,r,s,n).style("stroke-width",c).call(_.stroke,y).style("opacity",f?s.leaf.opacity:null)}G.exports={style:v,styleOne:p}},54532:function(G,V,e){var g=e(7901),_=e(50693),a=e(12663).axisHoverFormat,C=e(5386).fF,A=e(9012),v=e(1426).extendFlat,p=e(30962).overrideAll;function t(n){return{valType:"boolean",dflt:!1}}function r(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:t(),y:t(),z:t()},color:{valType:"color",dflt:g.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:g.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var s=G.exports=p(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:C(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},_("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:r(),y:r(),z:r()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},_.zauto,{}),zmin:v({},_.zmin,{}),zmax:v({},_.zmax,{})},hoverinfo:v({},A.hoverinfo),showlegend:v({},A.showlegend,{dflt:!1})}),"calc","nested");s.x.editType=s.y.editType=s.z.editType="calc+clearAxisTypes",s.transforms=void 0},18396:function(G,V,e){var g=e(78803);G.exports=function(a,C){C.surfacecolor?g(a,C,{vals:C.surfacecolor,containerStr:"",cLetter:"c"}):g(a,C,{vals:C.z,containerStr:"",cLetter:"c"})}},43768:function(G,V,e){var g=e(9330).gl_surface3d,_=e(9330).ndarray,a=e(9330).ndarray_linear_interpolate.d2,C=e(824),A=e(43907),v=e(71828).isArrayOrTypedArray,p=e(81697).parseColorScale,t=e(78614),r=e(21081).extractOpts;function s(o,L,m){this.scene=o,this.uid=m,this.surface=L,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=s.prototype;n.getXat=function(o,L,m,F){var I=v(this.data.x)?v(this.data.x[0])?this.data.x[L][o]:this.data.x[o]:o;return m===void 0?I:F.d2l(I,0,m)},n.getYat=function(o,L,m,F){var I=v(this.data.y)?v(this.data.y[0])?this.data.y[L][o]:this.data.y[L]:L;return m===void 0?I:F.d2l(I,0,m)},n.getZat=function(o,L,m,F){var I=this.data.z[L][o];return I===null&&this.data.connectgaps&&this.data._interpolatedZ&&(I=this.data._interpolatedZ[L][o]),m===void 0?I:F.d2l(I,0,m)},n.handlePick=function(o){if(o.object===this.surface){var L=(o.data.index[0]-1)/this.dataScaleX-1,m=(o.data.index[1]-1)/this.dataScaleY-1,F=Math.max(Math.min(Math.round(L),this.data.z[0].length-1),0),I=Math.max(Math.min(Math.round(m),this.data._ylength-1),0);o.index=[F,I],o.traceCoordinate=[this.getXat(F,I),this.getYat(F,I),this.getZat(F,I)],o.dataCoordinate=[this.getXat(F,I,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(F,I,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(F,I,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var U=0;U<3;U++){var z=o.dataCoordinate[U];z!=null&&(o.dataCoordinate[U]*=this.scene.dataScale[U])}var N=this.data.hovertext||this.data.text;return Array.isArray(N)&&N[I]&&N[I][F]!==void 0?o.textLabel=N[I][F]:N?o.textLabel=N:o.textLabel="",o.data.dataCoordinate=o.dataCoordinate.slice(),this.surface.highlight(o.data),this.scene.glplot.spikes.position=o.dataCoordinate,!0}};function i(o){var L=o[0].rgb,m=o[o.length-1].rgb;return L[0]===m[0]&&L[1]===m[1]&&L[2]===m[2]&&L[3]===m[3]}var f=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function u(o,L){if(o<L)return 0;for(var m=0;Math.floor(o%L)===0;)o/=L,m++;return m}function y(o){for(var L=[],m=0;m<f.length;m++){var F=f[m];L.push(u(o,F))}return L}function c(o){for(var L=y(o),m=o,F=0;F<f.length;F++)if(L[F]>0){m=f[F];break}return m}function T(o,L){if(!(o<1||L<1)){for(var m=y(o),F=y(L),I=1,U=0;U<f.length;U++)I*=Math.pow(f[U],Math.max(m[U],F[U]));return I}}function h(o){if(o.length!==0){for(var L=1,m=0;m<o.length;m++)L=T(L,o[m]);return L}}n.calcXnums=function(o){var L,m=[];for(L=1;L<o;L++){var F=this.getXat(L-1,0),I=this.getXat(L,0);I!==F&&F!==void 0&&F!==null&&I!==void 0&&I!==null?m[L-1]=Math.abs(I-F):m[L-1]=0}var U=0;for(L=1;L<o;L++)U+=m[L-1];for(L=1;L<o;L++)m[L-1]===0?m[L-1]=1:m[L-1]=Math.round(U/m[L-1]);return m},n.calcYnums=function(o){var L,m=[];for(L=1;L<o;L++){var F=this.getYat(0,L-1),I=this.getYat(0,L);I!==F&&F!==void 0&&F!==null&&I!==void 0&&I!==null?m[L-1]=Math.abs(I-F):m[L-1]=0}var U=0;for(L=1;L<o;L++)U+=m[L-1];for(L=1;L<o;L++)m[L-1]===0?m[L-1]=1:m[L-1]=Math.round(U/m[L-1]);return m};var l=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],d=l[9],E=l[13];n.estimateScale=function(o,L){for(var m=L===0?this.calcXnums(o):this.calcYnums(o),F=1+h(m);F<d;)F*=2;for(;F>E;)F--,F/=c(F),F++,F<d&&(F=E);var I=Math.round(F/o);return I>1?I:1};function S(o,L,m){var F=m[8]+m[2]*L[0]+m[5]*L[1];return o[0]=(m[6]+m[0]*L[0]+m[3]*L[1])/F,o[1]=(m[7]+m[1]*L[0]+m[4]*L[1])/F,o}function P(o,L,m){return x(o,L,S,m),o}function x(o,L,m,F){for(var I=[0,0],U=o.shape[0],z=o.shape[1],N=0;N<U;N++)for(var B=0;B<z;B++)m(I,[N,B],F),o.set(N,B,a(L,I[0],I[1]));return o}n.refineCoords=function(o){for(var L=this.dataScaleX,m=this.dataScaleY,F=o[0].shape[0],I=o[0].shape[1],U=Math.floor(o[0].shape[0]*L+1)|0,z=Math.floor(o[0].shape[1]*m+1)|0,N=1+F+1,B=1+I+1,O=_(new Float32Array(N*B),[N,B]),H=[1/L,0,0,0,1/m,0,0,0,1],Y=0;Y<o.length;++Y){this.surface.padField(O,o[Y]);var J=_(new Float32Array(U*z),[U,z]);P(J,O,H),o[Y]=J}};function M(o,L){for(var m=!1,F=0;F<o.length;F++)if(L===o[F]){m=!0;break}m===!1&&o.push(L)}n.setContourLevels=function(){var o=[[],[],[]],L=[!1,!1,!1],m=!1,F,I,U;for(F=0;F<3;++F)if(this.showContour[F]&&(m=!0,this.contourSize[F]>0&&this.contourStart[F]!==null&&this.contourEnd[F]!==null&&this.contourEnd[F]>this.contourStart[F]))for(L[F]=!0,I=this.contourStart[F];I<this.contourEnd[F];I+=this.contourSize[F])U=I*this.scene.dataScale[F],M(o[F],U);if(m){var z=[[],[],[]];for(F=0;F<3;++F)this.showContour[F]&&(z[F]=L[F]?o[F]:this.scene.contourLevels[F]);this.surface.update({levels:z})}},n.update=function(o){var L=this.scene,m=L.fullSceneLayout,F=this.surface,I=p(o),U=L.dataScale,z=o.z[0].length,N=o._ylength,B=L.contourLevels;this.data=o;var O,H,Y,J,re=[];for(O=0;O<3;O++)for(re[O]=[],H=0;H<z;H++)re[O][H]=[];for(H=0;H<z;H++)for(Y=0;Y<N;Y++)re[0][H][Y]=this.getXat(H,Y,o.xcalendar,m.xaxis),re[1][H][Y]=this.getYat(H,Y,o.ycalendar,m.yaxis),re[2][H][Y]=this.getZat(H,Y,o.zcalendar,m.zaxis);if(o.connectgaps)for(o._emptypoints=A(re[2]),C(re[2],o._emptypoints),o._interpolatedZ=[],H=0;H<z;H++)for(o._interpolatedZ[H]=[],Y=0;Y<N;Y++)o._interpolatedZ[H][Y]=re[2][H][Y];for(O=0;O<3;O++)for(H=0;H<z;H++)for(Y=0;Y<N;Y++)J=re[O][H][Y],J==null?re[O][H][Y]=NaN:J=re[O][H][Y]*=U[O];for(O=0;O<3;O++)for(H=0;H<z;H++)for(Y=0;Y<N;Y++)J=re[O][H][Y],J!=null&&(this.minValues[O]>J&&(this.minValues[O]=J),this.maxValues[O]<J&&(this.maxValues[O]=J));for(O=0;O<3;O++)this.objectOffset[O]=.5*(this.minValues[O]+this.maxValues[O]);for(O=0;O<3;O++)for(H=0;H<z;H++)for(Y=0;Y<N;Y++)J=re[O][H][Y],J!=null&&(re[O][H][Y]-=this.objectOffset[O]);var ie=[_(new Float32Array(z*N),[z,N]),_(new Float32Array(z*N),[z,N]),_(new Float32Array(z*N),[z,N])];for(O=0;O<3;O++)for(H=0;H<z;H++)for(Y=0;Y<N;Y++)ie[O].set(H,Y,re[O][H][Y]);re=[];var ce={colormap:I,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!o.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:o.opacityscale,opacity:o.opacity},Q=r(o);if(ce.intensityBounds=[Q.min,Q.max],o.surfacecolor){var j=_(new Float32Array(z*N),[z,N]);for(H=0;H<z;H++)for(Y=0;Y<N;Y++)j.set(H,Y,o.surfacecolor[Y][H]);ie.push(j)}else ce.intensityBounds[0]*=U[2],ce.intensityBounds[1]*=U[2];(E<ie[0].shape[0]||E<ie[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(ie[0].shape[0],0),this.dataScaleY=this.estimateScale(ie[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(ie)),o.surfacecolor&&(ce.intensity=ie.pop());var Z=[!0,!0,!0],$=["x","y","z"];for(O=0;O<3;++O){var te=o.contours[$[O]];Z[O]=te.highlight,ce.showContour[O]=te.show||te.highlight,ce.showContour[O]&&(ce.contourProject[O]=[te.project.x,te.project.y,te.project.z],te.show?(this.showContour[O]=!0,ce.levels[O]=B[O],F.highlightColor[O]=ce.contourColor[O]=t(te.color),te.usecolormap?F.highlightTint[O]=ce.contourTint[O]=0:F.highlightTint[O]=ce.contourTint[O]=1,ce.contourWidth[O]=te.width,this.contourStart[O]=te.start,this.contourEnd[O]=te.end,this.contourSize[O]=te.size):(this.showContour[O]=!1,this.contourStart[O]=null,this.contourEnd[O]=null,this.contourSize[O]=0),te.highlight&&(ce.dynamicColor[O]=t(te.highlightcolor),ce.dynamicWidth[O]=te.highlightwidth))}i(I)&&(ce.vertexColor=!0),ce.objectOffset=this.objectOffset,ce.coords=ie,F.update(ce),F.visible=o.visible,F.enableDynamic=Z,F.enableHighlight=Z,F.snapToData=!0,"lighting"in o&&(F.ambientLight=o.lighting.ambient,F.diffuseLight=o.lighting.diffuse,F.specularLight=o.lighting.specular,F.roughness=o.lighting.roughness,F.fresnel=o.lighting.fresnel),"lightposition"in o&&(F.lightPosition=[o.lightposition.x,o.lightposition.y,o.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function w(o,L){var m=o.glplot.gl,F=g({gl:m}),I=new s(o,F,L.uid);return F._trace=I,I.update(L),o.glplot.add(F),I}G.exports=w},91831:function(G,V,e){var g=e(73972),_=e(71828),a=e(1586),C=e(54532),A=.1;function v(n,i){for(var f=[],u=32,y=0;y<u;y++){var c=y/(u-1),T=i+(1-i)*(1-Math.pow(Math.sin(n*c*Math.PI),2));f.push([c,Math.max(0,Math.min(1,T))])}return f}function p(n){var i=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||+n[0][0]!=0||+n[n.length-1][0]!=1)return!1;for(var f=0;f<n.length;f++){var u=n[f];if(u.length!==2||+u[0]<i)return!1;i=+u[0]}return!0}function t(n,i,f,u){var y,c;function T(o,L){return _.coerce(n,i,C,o,L)}var h=T("x"),l=T("y"),d=T("z");if(!d||!d.length||h&&h.length<1||l&&l.length<1){i.visible=!1;return}i._xlength=Array.isArray(h)&&_.isArrayOrTypedArray(h[0])?d.length:d[0].length,i._ylength=d.length;var E=g.getComponentMethod("calendars","handleTraceDefaults");E(n,i,["x","y","z"],u),T("text"),T("hovertext"),T("hovertemplate"),T("xhoverformat"),T("yhoverformat"),T("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(o){T(o)});var S=T("surfacecolor"),P=["x","y","z"];for(y=0;y<3;++y){var x="contours."+P[y],M=T(x+".show"),w=T(x+".highlight");if(M||w)for(c=0;c<3;++c)T(x+".project."+P[c]);M&&(T(x+".color"),T(x+".width"),T(x+".usecolormap")),w&&(T(x+".highlightcolor"),T(x+".highlightwidth")),T(x+".start"),T(x+".end"),T(x+".size")}S||(s(n,"zmin","cmin"),s(n,"zmax","cmax"),s(n,"zauto","cauto")),a(n,i,u,T,{prefix:"",cLetter:"c"}),r(n,i,u,T),i._length=null}function r(n,i,f,u){var y=u("opacityscale");y==="max"?i.opacityscale=[[0,A],[1,1]]:y==="min"?i.opacityscale=[[0,1],[1,A]]:y==="extremes"?i.opacityscale=v(1,A):p(y)||(i.opacityscale=void 0)}function s(n,i,f){i in n&&!(f in n)&&(n[f]=n[i])}G.exports={supplyDefaults:t,opacityscaleDefaults:r}},93601:function(G,V,e){G.exports={attributes:e(54532),supplyDefaults:e(91831).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(18396),plot:e(43768),moduleType:"trace",name:"surface",basePlotModule:e(58547),categories:["gl3d","2dMap","showLegend"],meta:{}}},44464:function(G,V,e){var g=e(50215),_=e(1426).extendFlat,a=e(30962).overrideAll,C=e(41940),A=e(27670).Y,v=e(12663).descriptionOnlyNumbers,p=G.exports=a({domain:A({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:_({},g.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:_({},C({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:_({},g.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:_({},C({arrayOk:!0}))}},"calc","from-root");p.transforms=void 0},99469:function(G,V,e){var g=e(27659).a0,_=e(36736),a="table";V.name=a,V.plot=function(C){var A=g(C.calcdata,a)[0];A.length&&_(C,A)},V.clean=function(C,A,v,p){var t=p._has&&p._has(a),r=A._has&&A._has(a);t&&!r&&p._paperdiv.selectAll(".table").remove()}},76333:function(G,V,e){var g=e(28984).wrap;G.exports=function(){return g({})}},49850:function(G){G.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},51018:function(G,V,e){var g=e(49850),_=e(1426).extendFlat,a=e(92770);G.exports=function(f,u){var y=v(u.cells.values),c=function(H){return H.slice(u.header.values.length,H.length)},T=v(u.header.values);T.length&&!T[0].length&&(T[0]=[""],T=v(T));var h=T.concat(c(y).map(function(){return p((T[0]||[""]).length)})),l=u.domain,d=Math.floor(f._fullLayout._size.w*(l.x[1]-l.x[0])),E=Math.floor(f._fullLayout._size.h*(l.y[1]-l.y[0])),S=u.header.values.length?h[0].map(function(){return u.header.height}):[g.emptyHeaderHeight],P=y.length?y[0].map(function(){return u.cells.height}):[],x=S.reduce(A,0),M=E-x,w=M+g.uplift,o=s(P,w),L=s(S,x),m=r(L,[]),F=r(o,m),I={},U=u._fullInput.columnorder.concat(c(y.map(function(H,Y){return Y}))),z=h.map(function(H,Y){var J=Array.isArray(u.columnwidth)?u.columnwidth[Math.min(Y,u.columnwidth.length-1)]:u.columnwidth;return a(J)?Number(J):1}),N=z.reduce(A,0);z=z.map(function(H){return H/N*d});var B=Math.max(C(u.header.line.width),C(u.cells.line.width)),O={key:u.uid+f._context.staticPlot,translateX:l.x[0]*f._fullLayout._size.w,translateY:f._fullLayout._size.h*(1-l.y[1]),size:f._fullLayout._size,width:d,maxLineWidth:B,height:E,columnOrder:U,groupHeight:E,rowBlocks:F,headerRowBlocks:m,scrollY:0,cells:_({},u.cells,{values:y}),headerCells:_({},u.header,{values:h}),gdColumns:h.map(function(H){return H[0]}),gdColumnsOriginalOrder:h.map(function(H){return H[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:h.map(function(H,Y){var J=I[H];I[H]=(J||0)+1;var re=H+"__"+I[H];return{key:re,label:H,specIndex:Y,xIndex:U[Y],xScale:t,x:void 0,calcdata:void 0,columnWidth:z[Y]}})};return O.columns.forEach(function(H){H.calcdata=O,H.x=t(H)}),O};function C(i){if(Array.isArray(i)){for(var f=0,u=0;u<i.length;u++)f=Math.max(f,C(i[u]));return f}return i}function A(i,f){return i+f}function v(i){var f=i.slice(),u=1/0,y=0,c;for(c=0;c<f.length;c++)Array.isArray(f[c])||(f[c]=[f[c]]),u=Math.min(u,f[c].length),y=Math.max(y,f[c].length);if(u!==y)for(c=0;c<f.length;c++){var T=y-f[c].length;T&&(f[c]=f[c].concat(p(T)))}return f}function p(i){for(var f=new Array(i),u=0;u<i;u++)f[u]="";return f}function t(i){return i.calcdata.columns.reduce(function(f,u){return u.xIndex<i.xIndex?f+u.columnWidth:f},0)}function r(i,f){var u=Object.keys(i);return u.map(function(y){return _({},i[y],{auxiliaryBlocks:f})})}function s(i,f){for(var u={},y,c=0,T=0,h=n(),l=0,d=0,E=0;E<i.length;E++)y=i[E],h.rows.push({rowIndex:E,rowHeight:y}),T+=y,(T>=f||E===i.length-1)&&(u[c]=h,h.key=d++,h.firstRowIndex=l,h.lastRowIndex=E,h=n(),c+=T,l=E+1,T=0);return u}function n(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},56269:function(G,V,e){var g=e(1426).extendFlat;V.splitToPanels=function(a){var C=[0,0],A=g({},a,{key:"header",type:"header",page:0,prevPages:C,currentRepaint:[null,null],dragHandle:!0,values:a.calcdata.headerCells.values[a.specIndex],rowBlocks:a.calcdata.headerRowBlocks,calcdata:g({},a.calcdata,{cells:a.calcdata.headerCells})}),v=g({},a,{key:"cells1",type:"cells",page:0,prevPages:C,currentRepaint:[null,null],dragHandle:!1,values:a.calcdata.cells.values[a.specIndex],rowBlocks:a.calcdata.rowBlocks}),p=g({},a,{key:"cells2",type:"cells",page:1,prevPages:C,currentRepaint:[null,null],dragHandle:!1,values:a.calcdata.cells.values[a.specIndex],rowBlocks:a.calcdata.rowBlocks});return[v,p,A]},V.splitToCells=function(a){var C=_(a);return(a.values||[]).slice(C[0],C[1]).map(function(A,v){var p=typeof A=="string"&&A.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:v+p,key:C[0]+v,column:a,calcdata:a.calcdata,page:a.page,rowBlocks:a.rowBlocks,value:A}})};function _(a){var C=a.rowBlocks[a.page],A=C?C.rows[0].rowIndex:0,v=C?A+C.rows.length:0;return[A,v]}},39754:function(G,V,e){var g=e(71828),_=e(44464),a=e(27670).c;function C(A,v){for(var p=A.columnorder||[],t=A.header.values.length,r=p.slice(0,t),s=r.slice().sort(function(f,u){return f-u}),n=r.map(function(f){return s.indexOf(f)}),i=n.length;i<t;i++)n.push(i);v("columnorder",n)}G.exports=function(v,p,t,r){function s(n,i){return g.coerce(v,p,_,n,i)}a(p,r,s),s("columnwidth"),s("header.values"),s("header.format"),s("header.align"),s("header.prefix"),s("header.suffix"),s("header.height"),s("header.line.width"),s("header.line.color"),s("header.fill.color"),g.coerceFont(s,"header.font",g.extendFlat({},r.font)),C(p,s),s("cells.values"),s("cells.format"),s("cells.align"),s("cells.prefix"),s("cells.suffix"),s("cells.height"),s("cells.line.width"),s("cells.line.color"),s("cells.fill.color"),g.coerceFont(s,"cells.font",g.extendFlat({},r.font)),p._length=null}},96595:function(G,V,e){G.exports={attributes:e(44464),supplyDefaults:e(39754),calc:e(76333),plot:e(36736),moduleType:"trace",name:"table",basePlotModule:e(99469),categories:["noOpacity"],meta:{}}},36736:function(G,V,e){var g=e(49850),_=e(39898),a=e(71828),C=a.numberFormat,A=e(28984),v=e(91424),p=e(63893),t=e(71828).raiseToTop,r=e(71828).strTranslate,s=e(71828).cancelTransition,n=e(51018),i=e(56269),f=e(7901);G.exports=function(le,oe){var he=!le._context.staticPlot,me=le._fullLayout._paper.selectAll("."+g.cn.table).data(oe.map(function(it){var $e=A.unwrap(it),st=$e.trace;return n(le,st)}),A.keyFun);me.exit().remove(),me.enter().append("g").classed(g.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),me.attr("width",function(it){return it.width+it.size.l+it.size.r}).attr("height",function(it){return it.height+it.size.t+it.size.b}).attr("transform",function(it){return r(it.translateX,it.translateY)});var Ce=me.selectAll("."+g.cn.tableControlView).data(A.repeat,A.keyFun),Ae=Ce.enter().append("g").classed(g.cn.tableControlView,!0).style("box-sizing","content-box");if(he){var Ue="onwheel"in document?"wheel":"mousewheel";Ae.on("mousemove",function(it){Ce.filter(function($e){return it===$e}).call(h,le)}).on(Ue,function(it){if(!it.scrollbarState.wheeling){it.scrollbarState.wheeling=!0;var $e=it.scrollY+_.event.deltaY,st=J(le,Ce,null,$e)(it);st||(_.event.stopPropagation(),_.event.preventDefault()),it.scrollbarState.wheeling=!1}}).call(h,le,!0)}Ce.attr("transform",function(it){return r(it.size.l,it.size.t)});var Ve=Ce.selectAll("."+g.cn.scrollBackground).data(A.repeat,A.keyFun);Ve.enter().append("rect").classed(g.cn.scrollBackground,!0).attr("fill","none"),Ve.attr("width",function(it){return it.width}).attr("height",function(it){return it.height}),Ce.each(function(it){v.setClipUrl(_.select(this),y(le,it),le)});var Pe=Ce.selectAll("."+g.cn.yColumn).data(function(it){return it.columns},A.keyFun);Pe.enter().append("g").classed(g.cn.yColumn,!0),Pe.exit().remove(),Pe.attr("transform",function(it){return r(it.x,0)}),he&&Pe.call(_.behavior.drag().origin(function(it){var $e=_.select(this);return z($e,it,-g.uplift),t(this),it.calcdata.columnDragInProgress=!0,h(Ce.filter(function(st){return it.calcdata.key===st.key}),le),it}).on("drag",function(it){var $e=_.select(this),st=function(St){return(it===St?_.event.x:St.x)+St.columnWidth/2};it.x=Math.max(-g.overdrag,Math.min(it.calcdata.width+g.overdrag-it.columnWidth,_.event.x));var ct=T(Pe).filter(function(St){return St.calcdata.key===it.calcdata.key}),vt=ct.sort(function(St,Mt){return st(St)-st(Mt)});vt.forEach(function(St,Mt){St.xIndex=Mt,St.x=it===St?St.x:St.xScale(St)}),Pe.filter(function(St){return it!==St}).transition().ease(g.transitionEase).duration(g.transitionDuration).attr("transform",function(St){return r(St.x,0)}),$e.call(s).attr("transform",r(it.x,-g.uplift))}).on("dragend",function(it){var $e=_.select(this),st=it.calcdata;it.x=it.xScale(it),it.calcdata.columnDragInProgress=!1,z($e,it,0),I(le,st,st.columns.map(function(ct){return ct.xIndex}))})),Pe.each(function(it){v.setClipUrl(_.select(this),c(le,it),le)});var be=Pe.selectAll("."+g.cn.columnBlock).data(i.splitToPanels,A.keyFun);be.enter().append("g").classed(g.cn.columnBlock,!0).attr("id",function(it){return it.key}),be.style("cursor",function(it){return it.dragHandle?"ew-resize":it.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var Le=be.filter(B),We=be.filter(N);he&&We.call(_.behavior.drag().origin(function(it){return _.event.stopPropagation(),it}).on("drag",J(le,Ce,-1)).on("dragend",function(){})),l(le,Ce,Le,be),l(le,Ce,We,be);var je=Ce.selectAll("."+g.cn.scrollAreaClip).data(A.repeat,A.keyFun);je.enter().append("clipPath").classed(g.cn.scrollAreaClip,!0).attr("id",function(it){return y(le,it)});var Fe=je.selectAll("."+g.cn.scrollAreaClipRect).data(A.repeat,A.keyFun);Fe.enter().append("rect").classed(g.cn.scrollAreaClipRect,!0).attr("x",-g.overdrag).attr("y",-g.uplift).attr("fill","none"),Fe.attr("width",function(it){return it.width+2*g.overdrag}).attr("height",function(it){return it.height+g.uplift});var Ze=Pe.selectAll("."+g.cn.columnBoundary).data(A.repeat,A.keyFun);Ze.enter().append("g").classed(g.cn.columnBoundary,!0);var ut=Pe.selectAll("."+g.cn.columnBoundaryClippath).data(A.repeat,A.keyFun);ut.enter().append("clipPath").classed(g.cn.columnBoundaryClippath,!0),ut.attr("id",function(it){return c(le,it)});var at=ut.selectAll("."+g.cn.columnBoundaryRect).data(A.repeat,A.keyFun);at.enter().append("rect").classed(g.cn.columnBoundaryRect,!0).attr("fill","none"),at.attr("width",function(it){return it.columnWidth+2*u(it)}).attr("height",function(it){return it.calcdata.height+2*u(it)+g.uplift}).attr("x",function(it){return-u(it)}).attr("y",function(it){return-u(it)}),Y(null,We,Ce)};function u(q){return Math.ceil(q.calcdata.maxLineWidth/2)}function y(q,le){return"clip"+q._fullLayout._uid+"_scrollAreaBottomClip_"+le.key}function c(q,le){return"clip"+q._fullLayout._uid+"_columnBoundaryClippath_"+le.calcdata.key+"_"+le.specIndex}function T(q){return[].concat.apply([],q.map(function(le){return le})).map(function(le){return le.__data__})}function h(q,le,oe){function he(Pe){var be=Pe.rowBlocks;return Z(be,be.length-1)+(be.length?$(be[be.length-1],1/0):1)}var me=q.selectAll("."+g.cn.scrollbarKit).data(A.repeat,A.keyFun);me.enter().append("g").classed(g.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),me.each(function(Pe){var be=Pe.scrollbarState;be.totalHeight=he(Pe),be.scrollableAreaHeight=Pe.groupHeight-O(Pe),be.currentlyVisibleHeight=Math.min(be.totalHeight,be.scrollableAreaHeight),be.ratio=be.currentlyVisibleHeight/be.totalHeight,be.barLength=Math.max(be.ratio*be.currentlyVisibleHeight,g.goldenRatio*g.scrollbarWidth),be.barWiggleRoom=be.currentlyVisibleHeight-be.barLength,be.wiggleRoom=Math.max(0,be.totalHeight-be.scrollableAreaHeight),be.topY=be.barWiggleRoom===0?0:Pe.scrollY/be.wiggleRoom*be.barWiggleRoom,be.bottomY=be.topY+be.barLength,be.dragMultiplier=be.wiggleRoom/be.barWiggleRoom}).attr("transform",function(Pe){var be=Pe.width+g.scrollbarWidth/2+g.scrollbarOffset;return r(be,O(Pe))});var Ce=me.selectAll("."+g.cn.scrollbar).data(A.repeat,A.keyFun);Ce.enter().append("g").classed(g.cn.scrollbar,!0);var Ae=Ce.selectAll("."+g.cn.scrollbarSlider).data(A.repeat,A.keyFun);Ae.enter().append("g").classed(g.cn.scrollbarSlider,!0),Ae.attr("transform",function(Pe){return r(0,Pe.scrollbarState.topY||0)});var Ue=Ae.selectAll("."+g.cn.scrollbarGlyph).data(A.repeat,A.keyFun);Ue.enter().append("line").classed(g.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",g.scrollbarWidth).attr("stroke-linecap","round").attr("y1",g.scrollbarWidth/2),Ue.attr("y2",function(Pe){return Pe.scrollbarState.barLength-g.scrollbarWidth/2}).attr("stroke-opacity",function(Pe){return Pe.columnDragInProgress||!Pe.scrollbarState.barWiggleRoom||oe?0:.4}),Ue.transition().delay(0).duration(0),Ue.transition().delay(g.scrollbarHideDelay).duration(g.scrollbarHideDuration).attr("stroke-opacity",0);var Ve=Ce.selectAll("."+g.cn.scrollbarCaptureZone).data(A.repeat,A.keyFun);Ve.enter().append("line").classed(g.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",g.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Pe){var be=_.event.y,Le=this.getBoundingClientRect(),We=Pe.scrollbarState,je=be-Le.top,Fe=_.scale.linear().domain([0,We.scrollableAreaHeight]).range([0,We.totalHeight]).clamp(!0);We.topY<=je&&je<=We.bottomY||J(le,q,null,Fe(je-We.barLength/2))(Pe)}).call(_.behavior.drag().origin(function(Pe){return _.event.stopPropagation(),Pe.scrollbarState.scrollbarScrollInProgress=!0,Pe}).on("drag",J(le,q)).on("dragend",function(){})),Ve.attr("y2",function(Pe){return Pe.scrollbarState.scrollableAreaHeight}),le._context.staticPlot&&(Ue.remove(),Ve.remove())}function l(q,le,oe,he){var me=d(oe),Ce=E(me);M(Ce);var Ae=S(Ce);o(Ae);var Ue=x(Ce),Ve=P(Ue);w(Ve),L(Ve,le,he,q),j(Ce)}function d(q){var le=q.selectAll("."+g.cn.columnCells).data(A.repeat,A.keyFun);return le.enter().append("g").classed(g.cn.columnCells,!0),le.exit().remove(),le}function E(q){var le=q.selectAll("."+g.cn.columnCell).data(i.splitToCells,function(oe){return oe.keyWithinBlock});return le.enter().append("g").classed(g.cn.columnCell,!0),le.exit().remove(),le}function S(q){var le=q.selectAll("."+g.cn.cellRect).data(A.repeat,function(oe){return oe.keyWithinBlock});return le.enter().append("rect").classed(g.cn.cellRect,!0),le}function P(q){var le=q.selectAll("."+g.cn.cellText).data(A.repeat,function(oe){return oe.keyWithinBlock});return le.enter().append("text").classed(g.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){_.event.stopPropagation()}),le}function x(q){var le=q.selectAll("."+g.cn.cellTextHolder).data(A.repeat,function(oe){return oe.keyWithinBlock});return le.enter().append("g").classed(g.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),le}function M(q){q.each(function(le,oe){var he=le.calcdata.cells.font,me=le.column.specIndex,Ce={size:U(he.size,me,oe),color:U(he.color,me,oe),family:U(he.family,me,oe)};le.rowNumber=le.key,le.align=U(le.calcdata.cells.align,me,oe),le.cellBorderWidth=U(le.calcdata.cells.line.width,me,oe),le.font=Ce})}function w(q){q.each(function(le){v.font(_.select(this),le.font)})}function o(q){q.attr("width",function(le){return le.column.columnWidth}).attr("stroke-width",function(le){return le.cellBorderWidth}).each(function(le){var oe=_.select(this);f.stroke(oe,U(le.calcdata.cells.line.color,le.column.specIndex,le.rowNumber)),f.fill(oe,U(le.calcdata.cells.fill.color,le.column.specIndex,le.rowNumber))})}function L(q,le,oe,he){q.text(function(me){var Ce=me.column.specIndex,Ae=me.rowNumber,Ue=me.value,Ve=typeof Ue=="string",Pe=Ve&&Ue.match(/<br>/i),be=!Ve||Pe;me.mayHaveMarkup=Ve&&Ue.match(/[<&>]/);var Le=m(Ue);me.latex=Le;var We=Le?"":U(me.calcdata.cells.prefix,Ce,Ae)||"",je=Le?"":U(me.calcdata.cells.suffix,Ce,Ae)||"",Fe=Le?null:U(me.calcdata.cells.format,Ce,Ae)||null,Ze=We+(Fe?C(Fe)(me.value):me.value)+je,ut;me.wrappingNeeded=!me.wrapped&&!be&&!Le&&(ut=F(Ze)),me.cellHeightMayIncrease=Pe||Le||me.mayHaveMarkup||(ut===void 0?F(Ze):ut),me.needsConvertToTspans=me.mayHaveMarkup||me.wrappingNeeded||me.latex;var at;if(me.wrappingNeeded){var it=g.wrapSplitCharacter===" "?Ze.replace(/<a href=/ig,"<a_href="):Ze,$e=it.split(g.wrapSplitCharacter),st=g.wrapSplitCharacter===" "?$e.map(function(ct){return ct.replace(/<a_href=/ig,"<a href=")}):$e;me.fragments=st.map(function(ct){return{text:ct,width:null}}),me.fragments.push({fragment:g.wrapSpacer,width:null}),at=st.join(g.lineBreaker)+g.lineBreaker+g.wrapSpacer}else delete me.fragments,at=Ze;return at}).attr("dy",function(me){return me.needsConvertToTspans?0:"0.75em"}).each(function(me){var Ce=this,Ae=_.select(Ce),Ue=me.wrappingNeeded?ie:ce;me.needsConvertToTspans?p.convertToTspans(Ae,he,Ue(oe,Ce,le,he,me)):_.select(Ce.parentNode).attr("transform",function(Ve){return r(Q(Ve),g.cellPad)}).attr("text-anchor",function(Ve){return{left:"start",center:"middle",right:"end"}[Ve.align]})})}function m(q){return typeof q=="string"&&q.match(g.latexCheck)}function F(q){return q.indexOf(g.wrapSplitCharacter)!==-1}function I(q,le,oe){var he=le.gdColumnsOriginalOrder;le.gdColumns.sort(function(me,Ce){return oe[he.indexOf(me)]-oe[he.indexOf(Ce)]}),le.columnorder=oe,q.emit("plotly_restyle")}function U(q,le,oe){if(Array.isArray(q)){var he=q[Math.min(le,q.length-1)];return Array.isArray(he)?he[Math.min(oe,he.length-1)]:he}else return q}function z(q,le,oe){q.transition().ease(g.releaseTransitionEase).duration(g.releaseTransitionDuration).attr("transform",r(le.x,oe))}function N(q){return q.type==="cells"}function B(q){return q.type==="header"}function O(q){var le=q.rowBlocks.length?q.rowBlocks[0].auxiliaryBlocks:[];return le.reduce(function(oe,he){return oe+$(he,1/0)},0)}function H(q,le,oe){for(var he=[],me=0,Ce=0;Ce<q.length;Ce++){for(var Ae=q[Ce],Ue=Ae.rows,Ve=0,Pe=0;Pe<Ue.length;Pe++)Ve+=Ue[Pe].rowHeight;Ae.allRowsHeight=Ve;var be=me+Ve,Le=le,We=Le+oe;Le<be&&We>me&&he.push(Ce),me+=Ve}return he}function Y(q,le,oe){var he=T(le)[0];if(he!==void 0){var me=he.rowBlocks,Ce=he.calcdata,Ae=Z(me,me.length),Ue=he.calcdata.groupHeight-O(he),Ve=Ce.scrollY=Math.max(0,Math.min(Ae-Ue,Ce.scrollY)),Pe=H(me,Ve,Ue);Pe.length===1&&(Pe[0]===me.length-1?Pe.unshift(Pe[0]-1):Pe.push(Pe[0]+1)),Pe[0]%2&&Pe.reverse(),le.each(function(be,Le){be.page=Pe[Le],be.scrollY=Ve}),le.attr("transform",function(be){var Le=Z(be.rowBlocks,be.page)-be.scrollY;return r(0,Le)}),q&&(re(q,oe,le,Pe,he.prevPages,he,0),re(q,oe,le,Pe,he.prevPages,he,1),h(oe,q))}}function J(q,le,oe,he){return function(Ce){var Ae=Ce.calcdata?Ce.calcdata:Ce,Ue=le.filter(function(Le){return Ae.key===Le.key}),Ve=oe||Ae.scrollbarState.dragMultiplier,Pe=Ae.scrollY;Ae.scrollY=he===void 0?Ae.scrollY+Ve*_.event.dy:he;var be=Ue.selectAll("."+g.cn.yColumn).selectAll("."+g.cn.columnBlock).filter(N);return Y(q,be,Ue),Ae.scrollY===Pe}}function re(q,le,oe,he,me,Ce,Ae){var Ue=he[Ae]!==me[Ae];Ue&&(clearTimeout(Ce.currentRepaint[Ae]),Ce.currentRepaint[Ae]=setTimeout(function(){var Ve=oe.filter(function(Pe,be){return be===Ae&&he[be]!==me[be]});l(q,le,Ve,oe),me[Ae]=he[Ae]}))}function ie(q,le,oe,he){return function(){var Ce=_.select(le.parentNode);Ce.each(function(Ae){var Ue=Ae.fragments;Ce.selectAll("tspan.line").each(function(Ze,ut){Ue[ut].width=this.getComputedTextLength()});var Ve=Ue[Ue.length-1].width,Pe=Ue.slice(0,-1),be=[],Le,We,je=0,Fe=Ae.column.columnWidth-2*g.cellPad;for(Ae.value="";Pe.length;)Le=Pe.shift(),We=Le.width+Ve,je+We>Fe&&(Ae.value+=be.join(g.wrapSpacer)+g.lineBreaker,be=[],je=0),be.push(Le.text),je+=We;je&&(Ae.value+=be.join(g.wrapSpacer)),Ae.wrapped=!0}),Ce.selectAll("tspan.line").remove(),L(Ce.select("."+g.cn.cellText),oe,q,he),_.select(le.parentNode.parentNode).call(j)}}function ce(q,le,oe,he,me){return function(){if(!me.settledY){var Ae=_.select(le.parentNode),Ue=se(me),Ve=me.key-Ue.firstRowIndex,Pe=Ue.rows[Ve].rowHeight,be=me.cellHeightMayIncrease?le.parentNode.getBoundingClientRect().height+2*g.cellPad:Pe,Le=Math.max(be,Pe),We=Le-Ue.rows[Ve].rowHeight;We&&(Ue.rows[Ve].rowHeight=Le,q.selectAll("."+g.cn.columnCell).call(j),Y(null,q.filter(N),0),h(oe,he,!0)),Ae.attr("transform",function(){var je=this,Fe=je.parentNode,Ze=Fe.getBoundingClientRect(),ut=_.select(je.parentNode).select("."+g.cn.cellRect).node().getBoundingClientRect(),at=je.transform.baseVal.consolidate(),it=ut.top-Ze.top+(at?at.matrix.f:g.cellPad);return r(Q(me,_.select(je.parentNode).select("."+g.cn.cellTextHolder).node().getBoundingClientRect().width),it)}),me.settledY=!0}}}function Q(q,le){switch(q.align){case"left":return g.cellPad;case"right":return q.column.columnWidth-(le||0)-g.cellPad;case"center":return(q.column.columnWidth-(le||0))/2;default:return g.cellPad}}function j(q){q.attr("transform",function(le){var oe=le.rowBlocks[0].auxiliaryBlocks.reduce(function(Ae,Ue){return Ae+$(Ue,1/0)},0),he=se(le),me=$(he,le.key),Ce=me+oe;return r(0,Ce)}).selectAll("."+g.cn.cellRect).attr("height",function(le){return ee(se(le),le.key).rowHeight})}function Z(q,le){for(var oe=0,he=le-1;he>=0;he--)oe+=te(q[he]);return oe}function $(q,le){for(var oe=0,he=0;he<q.rows.length&&q.rows[he].rowIndex<le;he++)oe+=q.rows[he].rowHeight;return oe}function te(q){var le=q.allRowsHeight;if(le!==void 0)return le;for(var oe=0,he=0;he<q.rows.length;he++)oe+=q.rows[he].rowHeight;return q.allRowsHeight=oe,oe}function se(q){return q.rowBlocks[q.page]}function ee(q,le){return q.rows[le-q.firstRowIndex]}},45802:function(G,V,e){var g=e(5386).fF,_=e(5386).si,a=e(50693),C=e(27670).Y,A=e(34e3),v=e(57564),p=e(43473),t=e(1426).extendFlat,r=e(79952).u;G.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:t({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,pattern:r,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:t({},A.textfont,{}),editType:"calc"},text:A.text,textinfo:v.textinfo,texttemplate:_({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:A.hovertext,hoverinfo:v.hoverinfo,hovertemplate:g({},{keys:p.eventDataKeys}),textfont:A.textfont,insidetextfont:A.insidetextfont,outsidetextfont:t({},A.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:A.sort,root:v.root,domain:C({name:"treemap",trace:!0,editType:"calc"})}},78018:function(G,V,e){var g=e(74875);V.name="treemap",V.plot=function(_,a,C,A){g.plotBasePlot(V.name,_,a,C,A)},V.clean=function(_,a,C,A){g.cleanBasePlot(V.name,_,a,C,A)}},65039:function(G,V,e){var g=e(52147);V.y=function(_,a){return g.calc(_,a)},V.T=function(_){return g._runCrossTraceCalc("treemap",_)}},43473:function(G){G.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},91174:function(G,V,e){var g=e(71828),_=e(45802),a=e(7901),C=e(27670).c,A=e(90769).handleText,v=e(97313).TEXTPAD,p=e(37434).handleMarkerDefaults,t=e(21081),r=t.hasColorscale,s=t.handleDefaults;G.exports=function(i,f,u,y){function c(o,L){return g.coerce(i,f,_,o,L)}var T=c("labels"),h=c("parents");if(!T||!T.length||!h||!h.length){f.visible=!1;return}var l=c("values");l&&l.length?c("branchvalues"):c("count"),c("level"),c("maxdepth");var d=c("tiling.packing");d==="squarify"&&c("tiling.squarifyratio"),c("tiling.flip"),c("tiling.pad");var E=c("text");c("texttemplate"),f.texttemplate||c("textinfo",Array.isArray(E)?"text+label":"label"),c("hovertext"),c("hovertemplate");var S=c("pathbar.visible"),P="auto";A(i,f,y,c,P,{hasPathbar:S,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),c("textposition");var x=f.textposition.indexOf("bottom")!==-1;p(i,f,y,c);var M=f._hasColorscale=r(i,"marker","colors")||(i.marker||{}).coloraxis;M?s(i,f,y,c,{prefix:"marker.",cLetter:"c"}):c("marker.depthfade",!(f.marker.colors||[]).length);var w=f.textfont.size*2;c("marker.pad.t",x?w/4:w),c("marker.pad.l",w/4),c("marker.pad.r",w/4),c("marker.pad.b",x?w:w/4),c("marker.cornerradius"),f._hovered={marker:{line:{width:2,color:a.contrast(y.paper_bgcolor)}}},S&&(c("pathbar.thickness",f.pathbar.textfont.size+2*v),c("pathbar.side"),c("pathbar.edgeshape")),c("sort"),c("root.color"),C(f,y,c),f._length=null}},80694:function(G,V,e){var g=e(39898),_=e(2791),a=e(72597),C=a.clearMinTextSize,A=e(16688).resizeText,v=e(46650);G.exports=function(t,r,s,n,i){var f=i.type,u=i.drawDescendants,y=t._fullLayout,c=y["_"+f+"layer"],T,h,l=!s;if(C(f,y),T=c.selectAll("g.trace."+f).data(r,function(E){return E[0].trace.uid}),T.enter().append("g").classed("trace",!0).classed(f,!0),T.order(),!y.uniformtext.mode&&_.hasTransition(s)){n&&(h=n());var d=g.transition().duration(s.duration).ease(s.easing).each("end",function(){h&&h()}).each("interrupt",function(){h&&h()});d.each(function(){c.selectAll("g.trace").each(function(E){v(t,E,this,s,u)})})}else T.each(function(E){v(t,E,this,s,u)}),y.uniformtext.mode&&A(t,c.selectAll(".trace"),f);l&&T.exit().remove()}},66209:function(G,V,e){var g=e(39898),_=e(71828),a=e(91424),C=e(63893),A=e(37210),v=e(96362).styleOne,p=e(43473),t=e(2791),r=e(83523),s=!0;G.exports=function(i,f,u,y,c){var T=c.barDifY,h=c.width,l=c.height,d=c.viewX,E=c.viewY,S=c.pathSlice,P=c.toMoveInsideSlice,x=c.strTransform,M=c.hasTransition,w=c.handleSlicesExit,o=c.makeUpdateSliceInterpolator,L=c.makeUpdateTextInterpolator,m={},F=i._context.staticPlot,I=i._fullLayout,U=f[0],z=U.trace,N=U.hierarchy,B=h/z._entryDepth,O=t.listPath(u.data,"id"),H=A(N.copy(),[h,l],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();H=H.filter(function(J){var re=O.indexOf(J.data.id);return re===-1?!1:(J.x0=B*re,J.x1=B*(re+1),J.y0=T,J.y1=T+l,J.onPathbar=!0,!0)}),H.reverse(),y=y.data(H,t.getPtId),y.enter().append("g").classed("pathbar",!0),w(y,s,m,[h,l],S),y.order();var Y=y;M&&(Y=Y.transition().each("end",function(){var J=g.select(this);t.setSliceCursor(J,i,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),Y.each(function(J){J._x0=d(J.x0),J._x1=d(J.x1),J._y0=E(J.y0),J._y1=E(J.y1),J._hoverX=d(J.x1-Math.min(h,l)/2),J._hoverY=E(J.y1-l/2);var re=g.select(this),ie=_.ensureSingle(re,"path","surface",function(Z){Z.style("pointer-events",F?"none":"all")});M?ie.transition().attrTween("d",function(Z){var $=o(Z,s,m,[h,l]);return function(te){return S($(te))}}):ie.attr("d",S),re.call(r,u,i,f,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,i,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:i._transitioning}),ie.call(v,J,z,i,{hovered:!1}),J._text=(t.getPtLabel(J)||"").split("<br>").join(" ")||"";var ce=_.ensureSingle(re,"g","slicetext"),Q=_.ensureSingle(ce,"text","",function(Z){Z.attr("data-notex",1)}),j=_.ensureUniformFontSize(i,t.determineTextFont(z,J,I.font,{onPathbar:!0}));Q.text(J._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(a.font,j).call(C.convertToTspans,i),J.textBB=a.bBox(Q.node()),J.transform=P(J,{fontSize:j.size,onPathbar:!0}),J.transform.fontSize=j.size,M?Q.transition().attrTween("transform",function(Z){var $=L(Z,s,m,[h,l]);return function(te){return x($(te))}}):Q.attr("transform",x(J))})}},52583:function(G,V,e){var g=e(39898),_=e(71828),a=e(91424),C=e(63893),A=e(37210),v=e(96362).styleOne,p=e(43473),t=e(2791),r=e(83523),s=e(24714).formatSliceLabel,n=!1;G.exports=function(f,u,y,c,T){var h=T.width,l=T.height,d=T.viewX,E=T.viewY,S=T.pathSlice,P=T.toMoveInsideSlice,x=T.strTransform,M=T.hasTransition,w=T.handleSlicesExit,o=T.makeUpdateSliceInterpolator,L=T.makeUpdateTextInterpolator,m=T.prevEntry,F={},I=f._context.staticPlot,U=f._fullLayout,z=u[0],N=z.trace,B=N.textposition.indexOf("left")!==-1,O=N.textposition.indexOf("right")!==-1,H=N.textposition.indexOf("bottom")!==-1,Y=!H&&!N.marker.pad.t||H&&!N.marker.pad.b,J=A(y,[h,l],{packing:N.tiling.packing,squarifyratio:N.tiling.squarifyratio,flipX:N.tiling.flip.indexOf("x")>-1,flipY:N.tiling.flip.indexOf("y")>-1,pad:{inner:N.tiling.pad,top:N.marker.pad.t,left:N.marker.pad.l,right:N.marker.pad.r,bottom:N.marker.pad.b}}),re=J.descendants(),ie=1/0,ce=-1/0;re.forEach(function(te){var se=te.depth;se>=N._maxDepth?(te.x0=te.x1=(te.x0+te.x1)/2,te.y0=te.y1=(te.y0+te.y1)/2):(ie=Math.min(ie,se),ce=Math.max(ce,se))}),c=c.data(re,t.getPtId),N._maxVisibleLayers=isFinite(ce)?ce-ie+1:0,c.enter().append("g").classed("slice",!0),w(c,n,F,[h,l],S),c.order();var Q=null;if(M&&m){var j=t.getPtId(m);c.each(function(te){Q===null&&t.getPtId(te)===j&&(Q={x0:te.x0,x1:te.x1,y0:te.y0,y1:te.y1})})}var Z=function(){return Q||{x0:0,x1:h,y0:0,y1:l}},$=c;return M&&($=$.transition().each("end",function(){var te=g.select(this);t.setSliceCursor(te,f,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),$.each(function(te){var se=t.isHeader(te,N);te._x0=d(te.x0),te._x1=d(te.x1),te._y0=E(te.y0),te._y1=E(te.y1),te._hoverX=d(te.x1-N.marker.pad.r),te._hoverY=E(H?te.y1-N.marker.pad.b/2:te.y0+N.marker.pad.t/2);var ee=g.select(this),q=_.ensureSingle(ee,"path","surface",function(me){me.style("pointer-events",I?"none":"all")});M?q.transition().attrTween("d",function(me){var Ce=o(me,n,Z(),[h,l]);return function(Ae){return S(Ce(Ae))}}):q.attr("d",S),ee.call(r,y,f,u,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,f,{isTransitioning:f._transitioning}),q.call(v,te,N,f,{hovered:!1}),te.x0===te.x1||te.y0===te.y1?te._text="":se?te._text=Y?"":t.getPtLabel(te)||"":te._text=s(te,y,N,u,U)||"";var le=_.ensureSingle(ee,"g","slicetext"),oe=_.ensureSingle(le,"text","",function(me){me.attr("data-notex",1)}),he=_.ensureUniformFontSize(f,t.determineTextFont(N,te,U.font));oe.text(te._text||" ").classed("slicetext",!0).attr("text-anchor",O?"end":B||se?"start":"middle").call(a.font,he).call(C.convertToTspans,f),te.textBB=a.bBox(oe.node()),te.transform=P(te,{fontSize:he.size,isHeader:se}),te.transform.fontSize=he.size,M?oe.transition().attrTween("transform",function(me){var Ce=L(me,n,Z(),[h,l]);return function(Ae){return x(Ce(Ae))}}):oe.attr("transform",x(te))}),Q}},14102:function(G){G.exports=function V(e,g,_){var a;_.swapXY&&(a=e.x0,e.x0=e.y0,e.y0=a,a=e.x1,e.x1=e.y1,e.y1=a),_.flipX&&(a=e.x0,e.x0=g[0]-e.x1,e.x1=g[0]-a),_.flipY&&(a=e.y0,e.y0=g[1]-e.y1,e.y1=g[1]-a);var C=e.children;if(C)for(var A=0;A<C.length;A++)V(C[A],g,_)}},70954:function(G,V,e){G.exports={moduleType:"trace",name:"treemap",basePlotModule:e(78018),categories:[],animatable:!0,attributes:e(45802),layoutAttributes:e(55479),supplyDefaults:e(91174),supplyLayoutDefaults:e(77182),calc:e(65039).y,crossTraceCalc:e(65039).T,plot:e(5893),style:e(96362).style,colorbar:e(4898),meta:{}}},55479:function(G){G.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77182:function(G,V,e){var g=e(71828),_=e(55479);G.exports=function(C,A){function v(p,t){return g.coerce(C,A,_,p,t)}v("treemapcolorway",A.colorway),v("extendtreemapcolors")}},37210:function(G,V,e){var g=e(674),_=e(14102);G.exports=function(A,v,p){var t=p.flipX,r=p.flipY,s=p.packing==="dice-slice",n=p.pad[r?"bottom":"top"],i=p.pad[t?"right":"left"],f=p.pad[t?"left":"right"],u=p.pad[r?"top":"bottom"],y;s&&(y=i,i=n,n=y,y=f,f=u,u=y);var c=g.treemap().tile(a(p.packing,p.squarifyratio)).paddingInner(p.pad.inner).paddingLeft(i).paddingRight(f).paddingTop(n).paddingBottom(u).size(s?[v[1],v[0]]:v)(A);return(s||t||r)&&_(c,v,{swapXY:s,flipX:t,flipY:r}),c};function a(C,A){switch(C){case"squarify":return g.treemapSquarify.ratio(A);case"binary":return g.treemapBinary;case"dice":return g.treemapDice;case"slice":return g.treemapSlice;default:return g.treemapSliceDice}}},5893:function(G,V,e){var g=e(80694),_=e(52583);G.exports=function(C,A,v,p){return g(C,A,v,p,{type:"treemap",drawDescendants:_})}},46650:function(G,V,e){var g=e(39898),_=e(81684).sX,a=e(2791),C=e(71828),A=e(97313).TEXTPAD,v=e(17295),p=v.toMoveInsideBar,t=e(72597),r=t.recordMinTextSize,s=e(43473),n=e(66209);function i(f){return a.isHierarchyRoot(f)?"":a.getPtId(f)}G.exports=function(u,y,c,T,h){var l=u._fullLayout,d=y[0],E=d.trace,S=E.type,P=S==="icicle",x=d.hierarchy,M=a.findEntryWithLevel(x,E.level),w=g.select(c),o=w.selectAll("g.pathbar"),L=w.selectAll("g.slice");if(!M){o.remove(),L.remove();return}var m=a.isHierarchyRoot(M),F=!l.uniformtext.mode&&a.hasTransition(T),I=a.getMaxDepth(E),U=function(Qe){return Qe.data.depth-M.data.depth<I},z=l._size,N=E.domain,B=z.w*(N.x[1]-N.x[0]),O=z.h*(N.y[1]-N.y[0]),H=B,Y=E.pathbar.thickness,J=E.marker.line.width+s.gapWithPathbar,re=E.pathbar.visible?E.pathbar.side.indexOf("bottom")>-1?O+J:-(Y+J):0,ie={x0:H,x1:H,y0:re,y1:re+Y},ce=function(Qe,ke,ze){var Be=E.tiling.pad,Re=function(Me){return Me-Be<=ke.x0},we=function(Me){return Me+Be>=ke.x1},ye=function(Me){return Me-Be<=ke.y0},Se=function(Me){return Me+Be>=ke.y1};return Qe.x0===ke.x0&&Qe.x1===ke.x1&&Qe.y0===ke.y0&&Qe.y1===ke.y1?{x0:Qe.x0,x1:Qe.x1,y0:Qe.y0,y1:Qe.y1}:{x0:Re(Qe.x0-Be)?0:we(Qe.x0-Be)?ze[0]:Qe.x0,x1:Re(Qe.x1+Be)?0:we(Qe.x1+Be)?ze[0]:Qe.x1,y0:ye(Qe.y0-Be)?0:Se(Qe.y0-Be)?ze[1]:Qe.y0,y1:ye(Qe.y1+Be)?0:Se(Qe.y1+Be)?ze[1]:Qe.y1}},Q=null,j={},Z={},$=null,te=function(Qe,ke){return ke?j[i(Qe)]:Z[i(Qe)]},se=function(Qe,ke,ze,Be){if(ke)return j[i(x)]||ie;var Re=Z[E.level]||ze;return U(Qe)?ce(Qe,Re,Be):{}};d.hasMultipleRoots&&m&&I++,E._maxDepth=I,E._backgroundColor=l.paper_bgcolor,E._entryDepth=M.data.depth,E._atRootLevel=m;var ee=-B/2+z.l+z.w*(N.x[1]+N.x[0])/2,q=-O/2+z.t+z.h*(1-(N.y[1]+N.y[0])/2),le=function(Qe){return ee+Qe},oe=function(Qe){return q+Qe},he=oe(0),me=le(0),Ce=function(Qe){return me+Qe},Ae=function(Qe){return he+Qe};function Ue(Qe,ke){return Qe+","+ke}var Ve=Ce(0),Pe=function(Qe){Qe.x=Math.max(Ve,Qe.x)},be=E.pathbar.edgeshape,Le=function(Qe){var ke=Ce(Math.max(Math.min(Qe.x0,Qe.x0),0)),ze=Ce(Math.min(Math.max(Qe.x1,Qe.x1),H)),Be=Ae(Qe.y0),Re=Ae(Qe.y1),we=Y/2,ye={},Se={};ye.x=ke,Se.x=ze,ye.y=Se.y=(Be+Re)/2;var Me={x:ke,y:Be},He={x:ze,y:Be},qe={x:ze,y:Re},rt={x:ke,y:Re};return be===">"?(Me.x-=we,He.x-=we,qe.x-=we,rt.x-=we):be==="/"?(qe.x-=we,rt.x-=we,ye.x-=we/2,Se.x-=we/2):be==="\\"?(Me.x-=we,He.x-=we,ye.x-=we/2,Se.x-=we/2):be==="<"&&(ye.x-=we,Se.x-=we),Pe(Me),Pe(rt),Pe(ye),Pe(He),Pe(qe),Pe(Se),"M"+Ue(Me.x,Me.y)+"L"+Ue(He.x,He.y)+"L"+Ue(Se.x,Se.y)+"L"+Ue(qe.x,qe.y)+"L"+Ue(rt.x,rt.y)+"L"+Ue(ye.x,ye.y)+"Z"},We=E[P?"tiling":"marker"].pad,je=function(Qe){return E.textposition.indexOf(Qe)!==-1},Fe=je("top"),Ze=je("left"),ut=je("right"),at=je("bottom"),it=function(Qe){var ke=le(Qe.x0),ze=le(Qe.x1),Be=oe(Qe.y0),Re=oe(Qe.y1),we=ze-ke,ye=Re-Be;if(!we||!ye)return"";var Se=E.marker.cornerradius||0,Me=Math.min(Se,we/2,ye/2);Me&&Qe.data&&Qe.data.data&&Qe.data.data.label&&(Fe&&(Me=Math.min(Me,We.t)),Ze&&(Me=Math.min(Me,We.l)),ut&&(Me=Math.min(Me,We.r)),at&&(Me=Math.min(Me,We.b)));var He=function(qe,rt){return Me?"a"+Ue(Me,Me)+" 0 0 1 "+Ue(qe,rt):""};return"M"+Ue(ke,Be+Me)+He(Me,-Me)+"L"+Ue(ze-Me,Be)+He(Me,Me)+"L"+Ue(ze,Re-Me)+He(-Me,Me)+"L"+Ue(ke+Me,Re)+He(-Me,-Me)+"Z"},$e=function(Qe,ke){var ze=Qe.x0,Be=Qe.x1,Re=Qe.y0,we=Qe.y1,ye=Qe.textBB,Se=Fe||ke.isHeader&&!at,Me=Se?"start":at?"end":"middle",He=je("right"),qe=je("left")||ke.onPathbar,rt=qe?-1:He?1:0;if(ke.isHeader){if(ze+=(P?We:We.l)-A,Be-=(P?We:We.r)-A,ze>=Be){var pt=(ze+Be)/2;ze=pt,Be=pt}var At;at?(At=we-(P?We:We.b),Re<At&&At<we&&(Re=At)):(At=Re+(P?We:We.t),Re<At&&At<we&&(we=At))}var jt=p(ze,Be,Re,we,ye,{isHorizontal:!1,constrained:!0,angle:0,anchor:Me,leftToRight:rt});return jt.fontSize=ke.fontSize,jt.targetX=le(jt.targetX),jt.targetY=oe(jt.targetY),isNaN(jt.targetX)||isNaN(jt.targetY)?{}:(ze!==Be&&Re!==we&&r(E.type,jt,l),{scale:jt.scale,rotate:jt.rotate,textX:jt.textX,textY:jt.textY,anchorX:jt.anchorX,anchorY:jt.anchorY,targetX:jt.targetX,targetY:jt.targetY})},st=function(Qe,ke){for(var ze,Be=0,Re=Qe;!ze&&Be<I;)Be++,Re=Re.parent,Re?ze=te(Re,ke):Be=I;return ze||{}},ct=function(Qe,ke,ze,Be){var Re=te(Qe,ke),we;if(ke)we=ie;else{var ye=te(M,ke);ye?we=ce(Qe,ye,Be):we={}}return _(Re,we)},vt=function(Qe,ke,ze,Be,Re){var we=te(Qe,ke),ye;if(we)ye=we;else if(ke)ye=ie;else if(Q)if(Qe.parent){var Se=$||ze;Se&&!ke?ye=ce(Qe,Se,Be):(ye={},C.extendFlat(ye,st(Qe,ke)))}else ye=C.extendFlat({},Qe),P&&(Re.orientation==="h"?Re.flipX?ye.x0=Qe.x1:ye.x1=0:Re.flipY?ye.y0=Qe.y1:ye.y1=0);else ye={};return _(ye,{x0:Qe.x0,x1:Qe.x1,y0:Qe.y0,y1:Qe.y1})},St=function(Qe,ke,ze,Be){var Re=te(Qe,ke),we={},ye=se(Qe,ke,ze,Be);C.extendFlat(we,{transform:$e({x0:ye.x0,x1:ye.x1,y0:ye.y0,y1:ye.y1,textBB:Qe.textBB,_text:Qe._text},{isHeader:a.isHeader(Qe,E)})}),Re?we=Re:Qe.parent&&C.extendFlat(we,st(Qe,ke));var Se=Qe.transform;return Qe.x0!==Qe.x1&&Qe.y0!==Qe.y1&&r(E.type,Se,l),_(we,{transform:{scale:Se.scale,rotate:Se.rotate,textX:Se.textX,textY:Se.textY,anchorX:Se.anchorX,anchorY:Se.anchorY,targetX:Se.targetX,targetY:Se.targetY}})},Mt=function(Qe,ke,ze,Be,Re){var we=Be[0],ye=Be[1];F?Qe.exit().transition().each(function(){var Se=g.select(this),Me=Se.select("path.surface");Me.transition().attrTween("d",function(qe){var rt=ct(qe,ke,ze,[we,ye]);return function(pt){return Re(rt(pt))}});var He=Se.select("g.slicetext");He.attr("opacity",0)}).remove():Qe.exit().remove()},Bt=function(Qe){var ke=Qe.transform;return Qe.x0!==Qe.x1&&Qe.y0!==Qe.y1&&r(E.type,ke,l),C.getTextTransform({textX:ke.textX,textY:ke.textY,anchorX:ke.anchorX,anchorY:ke.anchorY,targetX:ke.targetX,targetY:ke.targetY,scale:ke.scale,rotate:ke.rotate})};F&&(o.each(function(Qe){j[i(Qe)]={x0:Qe.x0,x1:Qe.x1,y0:Qe.y0,y1:Qe.y1},Qe.transform&&(j[i(Qe)].transform={textX:Qe.transform.textX,textY:Qe.transform.textY,anchorX:Qe.transform.anchorX,anchorY:Qe.transform.anchorY,targetX:Qe.transform.targetX,targetY:Qe.transform.targetY,scale:Qe.transform.scale,rotate:Qe.transform.rotate})}),L.each(function(Qe){Z[i(Qe)]={x0:Qe.x0,x1:Qe.x1,y0:Qe.y0,y1:Qe.y1},Qe.transform&&(Z[i(Qe)].transform={textX:Qe.transform.textX,textY:Qe.transform.textY,anchorX:Qe.transform.anchorX,anchorY:Qe.transform.anchorY,targetX:Qe.transform.targetX,targetY:Qe.transform.targetY,scale:Qe.transform.scale,rotate:Qe.transform.rotate}),!Q&&a.isEntry(Qe)&&(Q=Qe)})),$=h(u,y,M,L,{width:B,height:O,viewX:le,viewY:oe,pathSlice:it,toMoveInsideSlice:$e,prevEntry:Q,makeUpdateSliceInterpolator:vt,makeUpdateTextInterpolator:St,handleSlicesExit:Mt,hasTransition:F,strTransform:Bt}),E.pathbar.visible?n(u,y,M,o,{barDifY:re,width:H,height:Y,viewX:Ce,viewY:Ae,pathSlice:Le,toMoveInsideSlice:$e,makeUpdateSliceInterpolator:vt,makeUpdateTextInterpolator:St,handleSlicesExit:Mt,hasTransition:F,strTransform:Bt}):o.remove()}},96362:function(G,V,e){var g=e(39898),_=e(7901),a=e(71828),C=e(2791),A=e(72597).resizeText,v=e(43467);function p(r){var s=r._fullLayout._treemaplayer.selectAll(".trace");A(r,s,"treemap"),s.each(function(n){var i=g.select(this),f=n[0],u=f.trace;i.style("opacity",u.opacity),i.selectAll("path.surface").each(function(y){g.select(this).call(t,y,u,r,{hovered:!1})})})}function t(r,s,n,i,f){var u=(f||{}).hovered,y=s.data.data,c=y.i,T,h,l=y.color,d=C.isHierarchyRoot(s),E=1;if(u)T=n._hovered.marker.line.color,h=n._hovered.marker.line.width;else if(d&&l===n.root.color)E=100,T="rgba(0,0,0,0)",h=0;else if(T=a.castOption(n,c,"marker.line.color")||_.defaultLine,h=a.castOption(n,c,"marker.line.width")||0,!n._hasColorscale&&!s.onPathbar){var S=n.marker.depthfade;if(S){var P=_.combine(_.addOpacity(n._backgroundColor,.75),l),x;if(S===!0){var M=C.getMaxDepth(n);isFinite(M)?C.isLeaf(s)?x=0:x=n._maxVisibleLayers-(s.data.depth-n._entryDepth):x=s.data.height+1}else x=s.data.depth-n._entryDepth,n._atRootLevel||x++;if(x>0)for(var w=0;w<x;w++){var o=.5*w/x;l=_.combine(_.addOpacity(P,o),l)}}}r.call(v,s,n,i,l).style("stroke-width",h).call(_.stroke,T).style("opacity",E)}G.exports={style:p,styleOne:t}},68875:function(G,V,e){var g=e(53522),_=e(1426).extendFlat,a=e(12663).axisHoverFormat;G.exports={y:g.y,x:g.x,x0:g.x0,y0:g.y0,xhoverformat:a("x"),yhoverformat:a("y"),name:_({},g.name,{}),orientation:_({},g.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:g.fillcolor,points:_({},g.boxpoints,{}),jitter:_({},g.jitter,{}),pointpos:_({},g.pointpos,{}),width:_({},g.width,{}),marker:g.marker,text:g.text,hovertext:g.hovertext,hovertemplate:g.hovertemplate,quartilemethod:g.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:g.selected,unselected:g.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(G,V,e){var g=e(71828),_=e(89298),a=e(48518),C=e(60168),A=e(50606).BADNUM;G.exports=function(s,n){var i=a(s,n);if(i[0].t.empty)return i;for(var f=s._fullLayout,u=_.getFromId(s,n[n.orientation==="h"?"xaxis":"yaxis"]),y=1/0,c=-1/0,T=0,h=0,l=0;l<i.length;l++){var d=i[l],E=d.pts.map(C.extractVal),S=d.bandwidth=p(n,d,E),P=d.span=t(n,d,u,S);if(d.min===d.max&&S===0)P=d.span=[d.min,d.max],d.density=[{v:1,t:P[0]}],d.bandwidth=S,T=Math.max(T,1);else{var x=P[1]-P[0],M=Math.ceil(x/(S/3)),w=x/M;if(!isFinite(w)||!isFinite(M))return g.error("Something went wrong with computing the violin span"),i[0].t.empty=!0,i;var o=C.makeKDE(d,n,E);d.density=new Array(M);for(var L=0,m=P[0];m<P[1]+w/2;L++,m+=w){var F=o(m);d.density[L]={v:F,t:m},T=Math.max(T,F)}}h=Math.max(h,E.length),y=Math.min(y,P[0]),c=Math.max(c,P[1])}var I=_.findExtremes(u,[y,c],{padded:!0});if(n._extremes[u._id]=I,n.width)i[0].t.maxKDE=T;else{var U=f._violinScaleGroupStats,z=n.scalegroup,N=U[z];N?(N.maxKDE=Math.max(N.maxKDE,T),N.maxCount=Math.max(N.maxCount,h)):U[z]={maxKDE:T,maxCount:h}}return i[0].t.labels.kde=g._(s,"kde:"),i};function v(r,s,n){var i=Math.min(s,n/1.349);return 1.059*i*Math.pow(r,-.2)}function p(r,s,n){var i=s.max-s.min;if(!i)return r.bandwidth?r.bandwidth:0;if(r.bandwidth)return Math.max(r.bandwidth,i/1e4);var f=n.length,u=g.stdev(n,f-1,s.mean);return Math.max(v(f,u,s.q3-s.q1),i/100)}function t(r,s,n,i){var f=r.spanmode,u=r.span||[],y=[s.min,s.max],c=[s.min-2*i,s.max+2*i],T;function h(d){var E=u[d],S=n.type==="multicategory"?n.r2c(E):n.d2c(E,0,r[s.valLetter+"calendar"]);return S===A?c[d]:S}f==="soft"?T=c:f==="hard"?T=y:T=[h(0),h(1)];var l={type:"linear",range:T};return _.setConvert(l),l.cleanRange(),T}},86403:function(G,V,e){var g=e(37188).setPositionOffset,_=["v","h"];G.exports=function(C,A){for(var v=C.calcdata,p=A.xaxis,t=A.yaxis,r=0;r<_.length;r++){for(var s=_[r],n=s==="h"?t:p,i=[],f=0;f<v.length;f++){var u=v[f],y=u[0].t,c=u[0].trace;c.visible===!0&&c.type==="violin"&&!y.empty&&c.orientation===s&&c.xaxis===p._id&&c.yaxis===t._id&&i.push(f)}g("violin",C,i,n)}}},15899:function(G,V,e){var g=e(71828),_=e(7901),a=e(36411),C=e(68875);G.exports=function(v,p,t,r){function s(w,o){return g.coerce(v,p,C,w,o)}function n(w,o){return g.coerce2(v,p,C,w,o)}if(a.handleSampleDefaults(v,p,s,r),p.visible!==!1){s("bandwidth"),s("side");var i=s("width");i||(s("scalegroup",p.name),s("scalemode"));var f=s("span"),u;Array.isArray(f)&&(u="manual"),s("spanmode",u);var y=s("line.color",(v.marker||{}).color||t),c=s("line.width"),T=s("fillcolor",_.addOpacity(p.line.color,.5));a.handlePointsDefaults(v,p,s,{prefix:""});var h=n("box.width"),l=n("box.fillcolor",T),d=n("box.line.color",y),E=n("box.line.width",c),S=s("box.visible",!!(h||l||d||E));S||(p.box={visible:!1});var P=n("meanline.color",y),x=n("meanline.width",c),M=s("meanline.visible",!!(P||x));M||(p.meanline={visible:!1}),s("quartilemethod")}}},60168:function(G,V,e){var g=e(71828),_={gaussian:function(a){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*a*a)}};V.makeKDE=function(a,C,A){var v=A.length,p=_.gaussian,t=a.bandwidth,r=1/(v*t);return function(s){for(var n=0,i=0;i<v;i++)n+=p((s-A[i])/t);return r*n}},V.getPositionOnKdePath=function(a,C,A){var v,p;C.orientation==="h"?(v="y",p="x"):(v="x",p="y");var t=g.findPointOnPath(a.path,A,p,{pathLength:a.pathLength}),r=a.posCenterPx,s=t[v],n=C.side==="both"?2*r-s:r;return[s,n]},V.getKdeValue=function(a,C,A){var v=a.pts.map(V.extractVal),p=V.makeKDE(a,C,v);return p(A)/a.posDensityScale},V.extractVal=function(a){return a.v}},57634:function(G,V,e){var g=e(7901),_=e(71828),a=e(89298),C=e(41868),A=e(60168);G.exports=function(p,t,r,s,n){n||(n={});var i=n.hoverLayer,f=p.cd,u=f[0].trace,y=u.hoveron,c=y.indexOf("violins")!==-1,T=y.indexOf("kde")!==-1,h=[],l,d;if(c||T){var E=C.hoverOnBoxes(p,t,r,s);if(T&&E.length>0){var S=p.xa,P=p.ya,x,M,w,o,L;u.orientation==="h"?(L=t,x="y",w=P,M="x",o=S):(L=r,x="x",w=S,M="y",o=P);var m=f[p.index];if(L>=m.span[0]&&L<=m.span[1]){var F=_.extendFlat({},p),I=o.c2p(L,!0),U=A.getKdeValue(m,u,L),z=A.getPositionOnKdePath(m,u,I),N=w._offset,B=w._length;F[x+"0"]=z[0],F[x+"1"]=z[1],F[M+"0"]=F[M+"1"]=I,F[M+"Label"]=M+": "+a.hoverLabelText(o,L,u[M+"hoverformat"])+", "+f[0].t.labels.kde+" "+U.toFixed(3);for(var O=0,H=0;H<E.length;H++)if(E[H].attr==="med"){O=H;break}F.spikeDistance=E[O].spikeDistance;var Y=x+"Spike";F[Y]=E[O][Y],E[O].spikeDistance=void 0,E[O][Y]=void 0,F.hovertemplate=!1,h.push(F),d={},d[x+"1"]=_.constrain(N+z[0],N,N+B),d[x+"2"]=_.constrain(N+z[1],N,N+B),d[M+"1"]=d[M+"2"]=o._offset+I}}c&&(h=h.concat(E))}y.indexOf("points")!==-1&&(l=C.hoverOnPoints(p,t,r));var J=i.selectAll(".violinline-"+u.uid).data(d?[0]:[]);return J.enter().append("line").classed("violinline-"+u.uid,!0).attr("stroke-width",1.5),J.exit().remove(),J.attr(d).call(g.stroke,p.color),s==="closest"?l?[l]:h:(l&&h.push(l),h)}},47462:function(G,V,e){G.exports={attributes:e(68875),layoutAttributes:e(9228),supplyDefaults:e(15899),crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(33598),calc:e(38603),crossTraceCalc:e(86403),plot:e(28443),style:e(31847),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(57634),selectPoints:e(24626),moduleType:"trace",name:"violin",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(G,V,e){var g=e(40094),_=e(71828).extendFlat;G.exports={violinmode:_({},g.boxmode,{}),violingap:_({},g.boxgap,{}),violingroupgap:_({},g.boxgroupgap,{})}},33598:function(G,V,e){var g=e(71828),_=e(9228),a=e(4199);G.exports=function(A,v,p){function t(r,s){return g.coerce(A,v,_,r,s)}a._supply(A,v,p,t,"violin")}},28443:function(G,V,e){var g=e(39898),_=e(71828),a=e(91424),C=e(86047),A=e(34621),v=e(60168);G.exports=function(t,r,s,n){var i=t._context.staticPlot,f=t._fullLayout,u=r.xaxis,y=r.yaxis;function c(T,h){var l=A(T,{xaxis:u,yaxis:y,trace:h,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return a.smoothopen(l[0],1)}_.makeTraceGroups(n,s,"trace violins").each(function(T){var h=g.select(this),l=T[0],d=l.t,E=l.trace;if(E.visible!==!0||d.empty){h.remove();return}var S=d.bPos,P=d.bdPos,x=r[d.valLetter+"axis"],M=r[d.posLetter+"axis"],w=E.side==="both",o=w||E.side==="positive",L=w||E.side==="negative",m=h.selectAll("path.violin").data(_.identity);m.enter().append("path").style("vector-effect",i?"none":"non-scaling-stroke").attr("class","violin"),m.exit().remove(),m.each(function(H){var Y=g.select(this),J=H.density,re=J.length,ie=M.c2l(H.pos+S,!0),ce=M.l2p(ie),Q;if(E.width)Q=d.maxKDE/P;else{var j=f._violinScaleGroupStats[E.scalegroup];Q=E.scalemode==="count"?j.maxKDE/P*(j.maxCount/H.pts.length):j.maxKDE/P}var Z,$,te,se,ee,q,le;if(o){for(q=new Array(re),se=0;se<re;se++)le=q[se]={},le[d.posLetter]=ie+J[se].v/Q,le[d.valLetter]=x.c2l(J[se].t,!0);Z=c(q,E)}if(L){for(q=new Array(re),ee=0,se=re-1;ee<re;ee++,se--)le=q[ee]={},le[d.posLetter]=ie-J[se].v/Q,le[d.valLetter]=x.c2l(J[se].t,!0);$=c(q,E)}if(w)te=Z+"L"+$.substr(1)+"Z";else{var oe=[ce,x.c2p(J[0].t)],he=[ce,x.c2p(J[re-1].t)];E.orientation==="h"&&(oe.reverse(),he.reverse()),o?te="M"+oe+"L"+Z.substr(1)+"L"+he:te="M"+he+"L"+$.substr(1)+"L"+oe}Y.attr("d",te),H.posCenterPx=ce,H.posDensityScale=Q*P,H.path=Y.node(),H.pathLength=H.path.getTotalLength()/(w?2:1)});var F=E.box,I=F.width,U=(F.line||{}).width,z,N;w?(z=P*I,N=0):o?(z=[0,P*I/2],N=U*{x:1,y:-1}[d.posLetter]):(z=[P*I/2,0],N=U*{x:-1,y:1}[d.posLetter]),C.plotBoxAndWhiskers(h,{pos:M,val:x},E,{bPos:S,bdPos:z,bPosPxOffset:N}),C.plotBoxMean(h,{pos:M,val:x},E,{bPos:S,bdPos:z,bPosPxOffset:N});var B;!E.box.visible&&E.meanline.visible&&(B=_.identity);var O=h.selectAll("path.meanline").data(B||[]);O.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",i?"none":"non-scaling-stroke"),O.exit().remove(),O.each(function(H){var Y=x.c2p(H.mean,!0),J=v.getPositionOnKdePath(H,E,Y);g.select(this).attr("d",E.orientation==="h"?"M"+Y+","+J[0]+"V"+J[1]:"M"+J[0]+","+Y+"H"+J[1])}),C.plotPoints(h,{x:u,y},E,d)})}},31847:function(G,V,e){var g=e(39898),_=e(7901),a=e(16296).stylePoints;G.exports=function(A){var v=g.select(A).selectAll("g.trace.violins");v.style("opacity",function(p){return p[0].trace.opacity}),v.each(function(p){var t=p[0].trace,r=g.select(this),s=t.box||{},n=s.line||{},i=t.meanline||{},f=i.width;r.selectAll("path.violin").style("stroke-width",t.line.width+"px").call(_.stroke,t.line.color).call(_.fill,t.fillcolor),r.selectAll("path.box").style("stroke-width",n.width+"px").call(_.stroke,n.color).call(_.fill,s.fillcolor);var u={"stroke-width":f+"px","stroke-dasharray":2*f+"px,"+f+"px"};r.selectAll("path.mean").style(u).call(_.stroke,i.color),r.selectAll("path.meanline").style(u).call(_.stroke,i.color),a(r,t,A)})}},16336:function(G,V,e){var g=e(50693),_=e(16249),a=e(54532),C=e(9012),A=e(1426).extendFlat,v=e(30962).overrideAll,p=G.exports=v(A({x:_.x,y:_.y,z:_.z,value:_.value,isomin:_.isomin,isomax:_.isomax,surface:_.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:_.slices,caps:_.caps,text:_.text,hovertext:_.hovertext,xhoverformat:_.xhoverformat,yhoverformat:_.yhoverformat,zhoverformat:_.zhoverformat,valuehoverformat:_.valuehoverformat,hovertemplate:_.hovertemplate},g("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:_.colorbar,opacity:_.opacity,opacityscale:a.opacityscale,lightposition:_.lightposition,lighting:_.lighting,flatshading:_.flatshading,contour:_.contour,hoverinfo:A({},C.hoverinfo),showlegend:A({},C.showlegend,{dflt:!1})}),"calc","nested");p.x.editType=p.y.editType=p.z.editType=p.value.editType="calc+clearAxisTypes",p.transforms=void 0},64809:function(G,V,e){var g=e(9330).gl_mesh3d,_=e(81697).parseColorScale,a=e(78614),C=e(21081).extractOpts,A=e(90060),v=e(22674).findNearestOnAxis,p=e(22674).generateIsoMeshes;function t(n,i,f){this.scene=n,this.uid=f,this.mesh=i,this.name="",this.data=null,this.showContour=!1}var r=t.prototype;r.handlePick=function(n){if(n.object===this.mesh){var i=n.data.index,f=this.data._meshX[i],u=this.data._meshY[i],y=this.data._meshZ[i],c=this.data._Ys.length,T=this.data._Zs.length,h=v(f,this.data._Xs).id,l=v(u,this.data._Ys).id,d=v(y,this.data._Zs).id,E=n.index=d+T*l+T*c*h;n.traceCoordinate=[this.data._meshX[E],this.data._meshY[E],this.data._meshZ[E],this.data._value[E]];var S=this.data.hovertext||this.data.text;return Array.isArray(S)&&S[E]!==void 0?n.textLabel=S[E]:S&&(n.textLabel=S),!0}},r.update=function(n){var i=this.scene,f=i.fullSceneLayout;this.data=p(n);function u(l,d,E,S){return d.map(function(P){return l.d2l(P,0,S)*E})}var y=A(u(f.xaxis,n._meshX,i.dataScale[0],n.xcalendar),u(f.yaxis,n._meshY,i.dataScale[1],n.ycalendar),u(f.zaxis,n._meshZ,i.dataScale[2],n.zcalendar)),c=A(n._meshI,n._meshJ,n._meshK),T={positions:y,cells:c,lightPosition:[n.lightposition.x,n.lightposition.y,n.lightposition.z],ambient:n.lighting.ambient,diffuse:n.lighting.diffuse,specular:n.lighting.specular,roughness:n.lighting.roughness,fresnel:n.lighting.fresnel,vertexNormalsEpsilon:n.lighting.vertexnormalsepsilon,faceNormalsEpsilon:n.lighting.facenormalsepsilon,opacity:n.opacity,opacityscale:n.opacityscale,contourEnable:n.contour.show,contourColor:a(n.contour.color).slice(0,3),contourWidth:n.contour.width,useFacetNormals:n.flatshading},h=C(n);T.vertexIntensity=n._meshIntensity,T.vertexIntensityBounds=[h.min,h.max],T.colormap=_(n),this.mesh.update(T)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function s(n,i){var f=n.glplot.gl,u=g({gl:f}),y=new t(n,u,i.uid);return u._trace=y,y.update(i),n.glplot.add(u),y}G.exports=s},47651:function(G,V,e){var g=e(71828),_=e(16336),a=e(82738).supplyIsoDefaults,C=e(91831).opacityscaleDefaults;G.exports=function(v,p,t,r){function s(n,i){return g.coerce(v,p,_,n,i)}a(v,p,t,r,s),C(v,p,r,s)}},17659:function(G,V,e){G.exports={attributes:e(16336),supplyDefaults:e(47651),calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(64809),moduleType:"trace",name:"volume",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},43037:function(G,V,e){var g=e(1486),_=e(82196).line,a=e(9012),C=e(12663).axisHoverFormat,A=e(5386).fF,v=e(5386).si,p=e(48334),t=e(1426).extendFlat,r=e(7901);function s(n){return{marker:{color:t({},g.marker.color,{arrayOk:!1,editType:"style"}),line:{color:t({},g.marker.line.color,{arrayOk:!1,editType:"style"}),width:t({},g.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}G.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),hovertext:g.hovertext,hovertemplate:A({},{keys:p.eventDataKeys}),hoverinfo:t({},a.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label"])}),text:g.text,textposition:g.textposition,insidetextanchor:g.insidetextanchor,textangle:g.textangle,textfont:g.textfont,insidetextfont:g.insidetextfont,outsidetextfont:g.outsidetextfont,constraintext:g.constraintext,cliponaxis:g.cliponaxis,orientation:g.orientation,offset:g.offset,width:g.width,increasing:s(),decreasing:s(),totals:s(),connector:{line:{color:t({},_.color,{dflt:r.defaultLine}),width:t({},_.width,{editType:"plot"}),dash:_.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup}},52752:function(G,V,e){var g=e(89298),_=e(42973),a=e(71828).mergeArray,C=e(66279),A=e(50606).BADNUM;function v(t){return t==="a"||t==="absolute"}function p(t){return t==="t"||t==="total"}G.exports=function(r,s){var n=g.getFromId(r,s.xaxis||"x"),i=g.getFromId(r,s.yaxis||"y"),f,u,y,c,T,h;s.orientation==="h"?(f=n.makeCalcdata(s,"x"),y=i.makeCalcdata(s,"y"),c=_(s,i,"y",y),T=!!s.yperiodalignment,h="y"):(f=i.makeCalcdata(s,"y"),y=n.makeCalcdata(s,"x"),c=_(s,n,"x",y),T=!!s.xperiodalignment,h="x"),u=c.vals;for(var l=Math.min(u.length,f.length),d=new Array(l),E=0,S,P=!1,x=0;x<l;x++){var M=f[x]||0,w=!1;(f[x]!==A||p(s.measure[x])||v(s.measure[x]))&&x+1<l&&(f[x+1]!==A||p(s.measure[x+1])||v(s.measure[x+1]))&&(w=!0);var o=d[x]={i:x,p:u[x],s:M,rawS:M,cNext:w};v(s.measure[x])?(E=o.s,o.isSum=!0,o.dir="totals",o.s=E):p(s.measure[x])?(o.isSum=!0,o.dir="totals",o.s=E):(o.isSum=!1,o.dir=o.rawS<0?"decreasing":"increasing",S=o.s,o.s=E+S,E+=S),o.dir==="totals"&&(P=!0),T&&(d[x].orig_p=y[x],d[x][h+"End"]=c.ends[x],d[x][h+"Start"]=c.starts[x]),s.ids&&(o.id=String(s.ids[x])),o.v=(s.base||0)+E}return d.length&&(d[0].hasTotals=P),a(s.text,d,"tx"),a(s.hovertext,d,"htx"),C(d,s),d}},48334:function(G){G.exports={eventDataKeys:["initial","delta","final"]}},70766:function(G,V,e){var g=e(11661).setGroupPositions;G.exports=function(a,C){var A=a._fullLayout,v=a._fullData,p=a.calcdata,t=C.xaxis,r=C.yaxis,s=[],n=[],i=[],f,u;for(u=0;u<v.length;u++){var y=v[u];y.visible===!0&&y.xaxis===t._id&&y.yaxis===r._id&&y.type==="waterfall"&&(f=p[u],y.orientation==="h"?i.push(f):n.push(f),s.push(f))}var c={mode:A.waterfallmode,norm:A.waterfallnorm,gap:A.waterfallgap,groupgap:A.waterfallgroupgap};for(g(a,t,r,n,c),g(a,r,t,i,c),u=0;u<s.length;u++){f=s[u];for(var T=0;T<f.length;T++){var h=f[T];h.isSum===!1&&(h.s0+=T===0?0:f[T-1].s),T+1<f.length&&(f[T].nextP0=f[T+1].p0,f[T].nextS0=f[T+1].s0)}}}},83266:function(G,V,e){var g=e(71828),_=e(26125),a=e(90769).handleText,C=e(67513),A=e(73927),v=e(43037),p=e(7901),t=e(22372),r=t.INCREASING.COLOR,s=t.DECREASING.COLOR,n="#4499FF";function i(y,c,T){y(c+".marker.color",T),y(c+".marker.line.color",p.defaultLine),y(c+".marker.line.width")}function f(y,c,T,h){function l(x,M){return g.coerce(y,c,v,x,M)}var d=C(y,c,h,l);if(!d){c.visible=!1;return}A(y,c,h,l),l("xhoverformat"),l("yhoverformat"),l("measure"),l("orientation",c.x&&!c.y?"h":"v"),l("base"),l("offset"),l("width"),l("text"),l("hovertext"),l("hovertemplate");var E=l("textposition");a(y,c,h,l,E,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),c.textposition!=="none"&&(l("texttemplate"),c.texttemplate||l("textinfo")),i(l,"increasing",r),i(l,"decreasing",s),i(l,"totals",n);var S=l("connector.visible");if(S){l("connector.mode");var P=l("connector.line.width");P&&(l("connector.line.color"),l("connector.line.dash"))}}function u(y,c){var T,h;function l(E){return g.coerce(h._input,h,v,E)}if(c.waterfallmode==="group")for(var d=0;d<y.length;d++)h=y[d],T=h._input,_(T,h,c,l)}G.exports={supplyDefaults:f,crossTraceDefaults:u}},58593:function(G){G.exports=function(e,g){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"initial"in g&&(e.initial=g.initial),"delta"in g&&(e.delta=g.delta),"final"in g&&(e.final=g.final),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},61326:function(G,V,e){var g=e(89298).hoverLabelText,_=e(7901).opacity,a=e(95423).hoverOnBars,C=e(22372),A={increasing:C.INCREASING.SYMBOL,decreasing:C.DECREASING.SYMBOL};G.exports=function(t,r,s,n,i){var f=a(t,r,s,n,i);if(!f)return;var u=f.cd,y=u[0].trace,c=y.orientation==="h",T=c?"x":"y",h=c?t.xa:t.ya;function l(m){return g(h,m,y[T+"hoverformat"])}var d=f.index,E=u[d],S=E.isSum?E.b+E.s:E.rawS;f.initial=E.b+E.s-S,f.delta=S,f.final=f.initial+f.delta;var P=l(Math.abs(f.delta));f.deltaLabel=S<0?"("+P+")":P,f.finalLabel=l(f.final),f.initialLabel=l(f.initial);var x=E.hi||y.hoverinfo,M=[];if(x&&x!=="none"&&x!=="skip"){var w=x==="all",o=x.split("+"),L=function(m){return w||o.indexOf(m)!==-1};E.isSum||(L("final")&&(c?!L("x"):!L("y"))&&M.push(f.finalLabel),L("delta")&&(S<0?M.push(f.deltaLabel+" "+A.decreasing):M.push(f.deltaLabel+" "+A.increasing)),L("initial")&&M.push("Initial: "+f.initialLabel))}return M.length&&(f.extraText=M.join("<br>")),f.color=v(y,E),[f]};function v(p,t){var r=p[t.dir].marker,s=r.color,n=r.line.color,i=r.line.width;if(_(s))return s;if(_(n)&&i)return n}},19990:function(G,V,e){G.exports={attributes:e(43037),layoutAttributes:e(13494),supplyDefaults:e(83266).supplyDefaults,crossTraceDefaults:e(83266).crossTraceDefaults,supplyLayoutDefaults:e(5176),calc:e(52752),crossTraceCalc:e(70766),plot:e(30436),style:e(55750).style,hoverPoints:e(61326),eventData:e(58593),selectPoints:e(81974),moduleType:"trace",name:"waterfall",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},13494:function(G){G.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},5176:function(G,V,e){var g=e(71828),_=e(13494);G.exports=function(a,C,A){var v=!1;function p(s,n){return g.coerce(a,C,_,s,n)}for(var t=0;t<A.length;t++){var r=A[t];if(r.visible&&r.type==="waterfall"){v=!0;break}}v&&(p("waterfallmode"),p("waterfallgap",.2),p("waterfallgroupgap"))}},30436:function(G,V,e){var g=e(39898),_=e(71828),a=e(91424),C=e(50606).BADNUM,A=e(17295),v=e(72597).clearMinTextSize;G.exports=function(s,n,i,f){var u=s._fullLayout;v("waterfall",u),A.plot(s,n,i,f,{mode:u.waterfallmode,norm:u.waterfallmode,gap:u.waterfallgap,groupgap:u.waterfallgroupgap}),p(s,n,i,f)};function p(r,s,n,i){var f=s.xaxis,u=s.yaxis;_.makeTraceGroups(i,n,"trace bars").each(function(y){var c=g.select(this),T=y[0].trace,h=_.ensureSingle(c,"g","lines");if(!T.connector||!T.connector.visible){h.remove();return}var l=T.orientation==="h",d=T.connector.mode,E=h.selectAll("g.line").data(_.identity);E.enter().append("g").classed("line",!0),E.exit().remove();var S=E.size();E.each(function(P,x){if(!(x!==S-1&&!P.cNext)){var M=t(P,f,u,l),w=M[0],o=M[1],L="";w[0]!==C&&o[0]!==C&&w[1]!==C&&o[1]!==C&&(d==="spanning"&&!P.isSum&&x>0&&(l?L+="M"+w[0]+","+o[1]+"V"+o[0]:L+="M"+w[1]+","+o[0]+"H"+w[0]),d!=="between"&&(P.isSum||x<S-1)&&(l?L+="M"+w[1]+","+o[0]+"V"+o[1]:L+="M"+w[0]+","+o[1]+"H"+w[1]),w[2]!==C&&o[2]!==C&&(l?L+="M"+w[1]+","+o[1]+"V"+o[2]:L+="M"+w[1]+","+o[1]+"H"+w[2])),L===""&&(L="M0,0Z"),_.ensureSingle(g.select(this),"path").attr("d",L).call(a.setClipUrl,s.layerClipId,r)}})})}function t(r,s,n,i){var f=[],u=[],y=i?s:n,c=i?n:s;return f[0]=y.c2p(r.s0,!0),u[0]=c.c2p(r.p0,!0),f[1]=y.c2p(r.s1,!0),u[1]=c.c2p(r.p1,!0),f[2]=y.c2p(r.nextS0,!0),u[2]=c.c2p(r.nextP0,!0),i?[f,u]:[u,f]}},55750:function(G,V,e){var g=e(39898),_=e(91424),a=e(7901),C=e(37822).DESELECTDIM,A=e(16688),v=e(72597).resizeText,p=A.styleTextPoints;function t(r,s,n){var i=n||g.select(r).selectAll("g.waterfalllayer").selectAll("g.trace");v(r,i,"waterfall"),i.style("opacity",function(f){return f[0].trace.opacity}),i.each(function(f){var u=g.select(this),y=f[0].trace;u.selectAll(".point > path").each(function(c){if(!c.isBlank){var T=y[c.dir].marker;g.select(this).call(a.fill,T.color).call(a.stroke,T.line.color).call(_.dashLine,T.line.dash,T.line.width).style("opacity",y.selectedpoints&&!c.selected?C:1)}}),p(u,y,r),u.selectAll(".lines").each(function(){var c=y.connector.line;_.lineGroupStyle(g.select(this).selectAll("path"),c.width,c.color,c.dash)})})}G.exports={style:t}},82887:function(G,V,e){var g=e(89298),_=e(71828),a=e(86281),C=e(79344).p,A=e(50606).BADNUM;V.moduleType="transform",V.name="aggregate";var v=V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},p=v.aggregations;V.supplyDefaults=function(f,u){var y={},c;function T(m,F){return _.coerce(f,y,v,m,F)}var h=T("enabled");if(!h)return y;var l=a.findArrayAttributes(u),d={};for(c=0;c<l.length;c++)d[l[c]]=1;var E=T("groups");if(!Array.isArray(E)){if(!d[E])return y.enabled=!1,y;d[E]=0}var S=f.aggregations||[],P=y.aggregations=new Array(S.length),x;function M(m,F){return _.coerce(S[c],x,p,m,F)}for(c=0;c<S.length;c++){x={_index:c};var w=M("target"),o=M("func"),L=M("enabled");L&&w&&(d[w]||o==="count"&&d[w]===void 0)?(o==="stddev"&&M("funcmode"),d[w]=0,P[c]=x):P[c]={enabled:!1,_index:c}}for(c=0;c<l.length;c++)d[l[c]]&&P.push({target:l[c],func:p.func.dflt,enabled:!0,_index:-1});return y},V.calcTransform=function(f,u,y){if(y.enabled){var c=y.groups,T=_.getTargetArray(u,{target:c});if(T){var h,l,d,E,S={},P={},x=[],M=C(u.transforms,y),w=T.length;for(u._length&&(w=Math.min(w,u._length)),h=0;h<w;h++)l=T[h],d=S[l],d===void 0?(S[l]=x.length,E=[h],x.push(E),P[S[l]]=M(h)):(x[d].push(h),P[S[l]]=(P[S[l]]||[]).concat(M(h)));y._indexToPoints=P;var o=y.aggregations;for(h=0;h<o.length;h++)t(f,u,x,o[h]);typeof c=="string"&&t(f,u,x,{target:c,func:"first",enabled:!0}),u._length=x.length}}};function t(f,u,y,c){if(c.enabled){for(var T=c.target,h=_.nestedProperty(u,T),l=h.get(),d=g.getDataConversions(f,u,T,l),E=r(c,d),S=new Array(y.length),P=0;P<y.length;P++)S[P]=E(l,y[P]);h.set(S),c.func==="count"&&_.pushUnique(u._arrayAttrs,T)}}function r(f,u){var y=f.func,c=u.d2c,T=u.c2d;switch(y){case"count":return s;case"first":return n;case"last":return i;case"sum":return function(h,l){for(var d=0,E=0;E<l.length;E++){var S=c(h[l[E]]);S!==A&&(d+=S)}return T(d)};case"avg":return function(h,l){for(var d=0,E=0,S=0;S<l.length;S++){var P=c(h[l[S]]);P!==A&&(d+=P,E++)}return E?T(d/E):A};case"min":return function(h,l){for(var d=1/0,E=0;E<l.length;E++){var S=c(h[l[E]]);S!==A&&(d=Math.min(d,S))}return d===1/0?A:T(d)};case"max":return function(h,l){for(var d=-1/0,E=0;E<l.length;E++){var S=c(h[l[E]]);S!==A&&(d=Math.max(d,S))}return d===-1/0?A:T(d)};case"range":return function(h,l){for(var d=1/0,E=-1/0,S=0;S<l.length;S++){var P=c(h[l[S]]);P!==A&&(d=Math.min(d,P),E=Math.max(E,P))}return E===-1/0||d===1/0?A:T(E-d)};case"change":return function(h,l){var d=c(h[l[0]]),E=c(h[l[l.length-1]]);return d===A||E===A?A:T(E-d)};case"median":return function(h,l){for(var d=[],E=0;E<l.length;E++){var S=c(h[l[E]]);S!==A&&d.push(S)}if(!d.length)return A;d.sort(_.sorterAsc);var P=(d.length-1)/2;return T((d[Math.floor(P)]+d[Math.ceil(P)])/2)};case"mode":return function(h,l){for(var d={},E=0,S=A,P=0;P<l.length;P++){var x=c(h[l[P]]);if(x!==A){var M=d[x]=(d[x]||0)+1;M>E&&(E=M,S=x)}}return E?T(S):A};case"rms":return function(h,l){for(var d=0,E=0,S=0;S<l.length;S++){var P=c(h[l[S]]);P!==A&&(d+=P*P,E++)}return E?T(Math.sqrt(d/E)):A};case"stddev":return function(h,l){var d=0,E=0,S=1,P=A,x;for(x=0;x<l.length&&P===A;x++)P=c(h[l[x]]);if(P===A)return A;for(;x<l.length;x++){var M=c(h[l[x]]);if(M!==A){var w=M-P;d+=w,E+=w*w,S++}}var o=f.funcmode==="sample"?S-1:S;return o?Math.sqrt((E-d*d/S)/o):0}}}function s(f,u){return u.length}function n(f,u){return f[u[0]]}function i(f,u){return f[u[u.length-1]]}},14382:function(G,V,e){var g=e(71828),_=e(73972),a=e(89298),C=e(79344).p,A=e(74808),v=A.COMPARISON_OPS,p=A.INTERVAL_OPS,t=A.SET_OPS;V.moduleType="transform",V.name="filter",V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(p).concat(t),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},V.supplyDefaults=function(s){var n={};function i(c,T){return g.coerce(s,n,V.attributes,c,T)}var f=i("enabled");if(f){var u=i("target");if(g.isArrayOrTypedArray(u)&&u.length===0)return n.enabled=!1,n;i("preservegaps"),i("operation"),i("value");var y=_.getComponentMethod("calendars","handleDefaults");y(s,n,"valuecalendar",null),y(s,n,"targetcalendar",null)}return n},V.calcTransform=function(s,n,i){if(!i.enabled)return;var f=g.getTargetArray(n,i);if(!f)return;var u=i.target,y=f.length;n._length&&(y=Math.min(y,n._length));var c=i.targetcalendar,T=n._arrayAttrs,h=i.preservegaps;if(typeof u=="string"){var l=g.nestedProperty(n,u+"calendar").get();l&&(c=l)}var d=a.getDataToCoordFunc(s,n,u,f),E=r(i,d,c),S={},P={},x=0;function M(I,U){for(var z=0;z<T.length;z++){var N=g.nestedProperty(n,T[z]);I(N,U)}}var w,o;h?(w=function(I){S[I.astr]=g.extendDeep([],I.get()),I.set(new Array(y))},o=function(I,U){var z=S[I.astr][U];I.get()[U]=z}):(w=function(I){S[I.astr]=g.extendDeep([],I.get()),I.set([])},o=function(I,U){var z=S[I.astr][U];I.get().push(z)}),M(w);for(var L=C(n.transforms,i),m=0;m<y;m++){var F=E(f[m]);F?(M(o,m),P[x++]=L(m)):h&&x++}i._indexToPoints=P,n._length=x};function r(s,n,i){var f=s.operation,u=s.value,y=Array.isArray(u);function c(d){return d.indexOf(f)!==-1}var T=function(d){return n(d,0,s.valuecalendar)},h=function(d){return n(d,0,i)},l;switch(c(v)?l=T(y?u[0]:u):c(p)?l=y?[T(u[0]),T(u[1])]:[T(u),T(u)]:c(t)&&(l=y?u.map(T):[T(u)]),f){case"=":return function(d){return h(d)===l};case"!=":return function(d){return h(d)!==l};case"<":return function(d){return h(d)<l};case"<=":return function(d){return h(d)<=l};case">":return function(d){return h(d)>l};case">=":return function(d){return h(d)>=l};case"[]":return function(d){var E=h(d);return E>=l[0]&&E<=l[1]};case"()":return function(d){var E=h(d);return E>l[0]&&E<l[1]};case"[)":return function(d){var E=h(d);return E>=l[0]&&E<l[1]};case"(]":return function(d){var E=h(d);return E>l[0]&&E<=l[1]};case"][":return function(d){var E=h(d);return E<=l[0]||E>=l[1]};case")(":return function(d){var E=h(d);return E<l[0]||E>l[1]};case"](":return function(d){var E=h(d);return E<=l[0]||E>l[1]};case")[":return function(d){var E=h(d);return E<l[0]||E>=l[1]};case"{}":return function(d){return l.indexOf(h(d))!==-1};case"}{":return function(d){return l.indexOf(h(d))===-1}}}},43102:function(G,V,e){var g=e(71828),_=e(86281),a=e(74875),C=e(79344).p;V.moduleType="transform",V.name="groupby",V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},V.supplyDefaults=function(v,p,t){var r,s={};function n(T,h){return g.coerce(v,s,V.attributes,T,h)}var i=n("enabled");if(!i)return s;n("groups"),n("nameformat",t._dataLength>1?"%{group} (%{trace})":"%{group}");var f=v.styles,u=s.styles=[];if(f)for(r=0;r<f.length;r++){var y=u[r]={};g.coerce(f[r],u[r],V.attributes.styles,"target");var c=g.coerce(f[r],u[r],V.attributes.styles,"value");g.isPlainObject(c)?y.value=g.extendDeep({},c):c&&delete y.value}return s},V.transform=function(v,p){var t,r,s,n=[];for(r=0;r<v.length;r++)for(t=A(v[r],p),s=0;s<t.length;s++)n.push(t[s]);return n};function A(v,p){var t,r,s,n,i,f,u,y,c,T,h=p.transform,l=p.transformIndex,d=v.transforms[l].groups,E=C(v.transforms,h);if(!g.isArrayOrTypedArray(d)||d.length===0)return[v];var S=g.filterUnique(d),P=new Array(S.length),x=d.length,M=_.findArrayAttributes(v),w=h.styles||[],o={};for(t=0;t<w.length;t++)o[w[t].target]=w[t].value;h.styles&&(T=g.keyedContainer(h,"styles","target","value.name"));var L={},m={};for(t=0;t<S.length;t++){f=S[t],L[f]=t,m[f]=0,u=P[t]=g.extendDeepNoArrays({},v),u._group=f,u.transforms[l]._indexToPoints={};var F=null;for(T&&(F=T.get(f)),F||F===""?u.name=F:u.name=g.templateString(h.nameformat,{trace:v.name,group:f}),y=u.transforms,u.transforms=[],r=0;r<y.length;r++)u.transforms[r]=g.extendDeepNoArrays({},y[r]);for(r=0;r<M.length;r++)g.nestedProperty(u,M[r]).set([])}for(s=0;s<M.length;s++){for(n=M[s],r=0,c=[];r<S.length;r++)c[r]=g.nestedProperty(P[r],n).get();for(i=g.nestedProperty(v,n).get(),r=0;r<x;r++)c[L[d[r]]].push(i[r])}for(r=0;r<x;r++){u=P[L[d[r]]];var I=u.transforms[l]._indexToPoints;I[m[d[r]]]=E(r),m[d[r]]++}for(t=0;t<S.length;t++)f=S[t],u=P[t],a.clearExpandedTraceDefaultColors(u),u=g.extendDeepNoArrays(u,o[f]||{});return P}},79344:function(G,V){V.p=function(e,g){for(var _,a,C=0;C<e.length&&(_=e[C],_!==g);C++)!_._indexToPoints||_.enabled===!1||(a=_._indexToPoints);var A=a?function(v){return a[v]}:function(v){return[v]};return A}},32275:function(G,V,e){var g=e(71828),_=e(89298),a=e(79344).p,C=e(50606).BADNUM;V.moduleType="transform",V.name="sort",V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},V.supplyDefaults=function(p){var t={};function r(n,i){return g.coerce(p,t,V.attributes,n,i)}var s=r("enabled");return s&&(r("target"),r("order")),t},V.calcTransform=function(p,t,r){if(r.enabled){var s=g.getTargetArray(t,r);if(s){var n=r.target,i=s.length;t._length&&(i=Math.min(i,t._length));var f=t._arrayAttrs,u=_.getDataToCoordFunc(p,t,n,s),y=A(r,s,u,i),c=a(t.transforms,r),T={},h,l;for(h=0;h<f.length;h++){var d=g.nestedProperty(t,f[h]),E=d.get(),S=new Array(i);for(l=0;l<i;l++)S[l]=E[y[l]];d.set(S)}for(l=0;l<i;l++)T[l]=c(y[l]);r._indexToPoints=T,t._length=i}}};function A(p,t,r,s){var n=new Array(s),i=new Array(s),f;for(f=0;f<s;f++)n[f]={v:t[f],i:f};for(n.sort(v(p,r)),f=0;f<s;f++)i[f]=n[f].i;return i}function v(p,t){switch(p.order){case"ascending":return function(r,s){var n=t(r.v),i=t(s.v);return n===C?1:i===C?-1:n-i};case"descending":return function(r,s){var n=t(r.v),i=t(s.v);return n===C?1:i===C?-1:i-n}}}},11506:function(G,V){V.version="2.27.1"},9330:function(G,V,e){var g=e(90386);(function(a,C){G.exports=C()})(self,function(){return function(){var _={7386:function(v,p,t){v.exports={alpha_shape:t(2350),convex_hull:t(5537),delaunay_triangulate:t(4419),gl_cone3d:t(1140),gl_error3d:t(3110),gl_heatmap2d:t(6386),gl_line3d:t(6086),gl_mesh3d:t(8116),gl_plot2d:t(2117),gl_plot3d:t(1059),gl_pointcloud2d:t(8271),gl_scatter3d:t(2182),gl_select_box:t(6623),gl_spikes2d:t(3050),gl_streamtube3d:t(7307),gl_surface3d:t(3754),ndarray:t(5050),ndarray_linear_interpolate:t(3581)}},2146:function(v,p,t){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function r(we,ye){if(!(we instanceof ye))throw new TypeError("Cannot call a class as a function")}function s(we,ye){for(var Se=0;Se<ye.length;Se++){var Me=ye[Se];Me.enumerable=Me.enumerable||!1,Me.configurable=!0,"value"in Me&&(Me.writable=!0),Object.defineProperty(we,Me.key,Me)}}function n(we,ye,Se){return ye&&s(we.prototype,ye),Se&&s(we,Se),Object.defineProperty(we,"prototype",{writable:!1}),we}function i(we,ye){if(typeof ye!="function"&&ye!==null)throw new TypeError("Super expression must either be null or a function");we.prototype=Object.create(ye&&ye.prototype,{constructor:{value:we,writable:!0,configurable:!0}}),Object.defineProperty(we,"prototype",{writable:!1}),ye&&f(we,ye)}function f(we,ye){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Me,He){return Me.__proto__=He,Me},f(we,ye)}function u(we){var ye=T();return function(){var Me=h(we),He;if(ye){var qe=h(this).constructor;He=Reflect.construct(Me,arguments,qe)}else He=Me.apply(this,arguments);return y(this,He)}}function y(we,ye){if(ye&&(l(ye)==="object"||typeof ye=="function"))return ye;if(ye!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c(we)}function c(we){if(we===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return we}function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function h(we){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Se){return Se.__proto__||Object.getPrototypeOf(Se)},h(we)}function l(we){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ye){return typeof ye}:function(ye){return ye&&typeof Symbol=="function"&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye},l(we)}var d=t(3910),E=t(3187),S=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;p.lW=w,p.h2=50;var P=2147483647;w.TYPED_ARRAY_SUPPORT=x(),!w.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function x(){try{var we=new Uint8Array(1),ye={foo:function(){return 42}};return Object.setPrototypeOf(ye,Uint8Array.prototype),Object.setPrototypeOf(we,ye),we.foo()===42}catch{return!1}}Object.defineProperty(w.prototype,"parent",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.buffer}}),Object.defineProperty(w.prototype,"offset",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.byteOffset}});function M(we){if(we>P)throw new RangeError('The value "'+we+'" is invalid for option "size"');var ye=new Uint8Array(we);return Object.setPrototypeOf(ye,w.prototype),ye}function w(we,ye,Se){if(typeof we=="number"){if(typeof ye=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return F(we)}return o(we,ye,Se)}w.poolSize=8192;function o(we,ye,Se){if(typeof we=="string")return I(we,ye);if(ArrayBuffer.isView(we))return z(we);if(we==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(we));if(Qe(we,ArrayBuffer)||we&&Qe(we.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Qe(we,SharedArrayBuffer)||we&&Qe(we.buffer,SharedArrayBuffer)))return N(we,ye,Se);if(typeof we=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Me=we.valueOf&&we.valueOf();if(Me!=null&&Me!==we)return w.from(Me,ye,Se);var He=B(we);if(He)return He;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof we[Symbol.toPrimitive]=="function")return w.from(we[Symbol.toPrimitive]("string"),ye,Se);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(we))}w.from=function(we,ye,Se){return o(we,ye,Se)},Object.setPrototypeOf(w.prototype,Uint8Array.prototype),Object.setPrototypeOf(w,Uint8Array);function L(we){if(typeof we!="number")throw new TypeError('"size" argument must be of type number');if(we<0)throw new RangeError('The value "'+we+'" is invalid for option "size"')}function m(we,ye,Se){return L(we),we<=0?M(we):ye!==void 0?typeof Se=="string"?M(we).fill(ye,Se):M(we).fill(ye):M(we)}w.alloc=function(we,ye,Se){return m(we,ye,Se)};function F(we){return L(we),M(we<0?0:O(we)|0)}w.allocUnsafe=function(we){return F(we)},w.allocUnsafeSlow=function(we){return F(we)};function I(we,ye){if((typeof ye!="string"||ye==="")&&(ye="utf8"),!w.isEncoding(ye))throw new TypeError("Unknown encoding: "+ye);var Se=H(we,ye)|0,Me=M(Se),He=Me.write(we,ye);return He!==Se&&(Me=Me.slice(0,He)),Me}function U(we){for(var ye=we.length<0?0:O(we.length)|0,Se=M(ye),Me=0;Me<ye;Me+=1)Se[Me]=we[Me]&255;return Se}function z(we){if(Qe(we,Uint8Array)){var ye=new Uint8Array(we);return N(ye.buffer,ye.byteOffset,ye.byteLength)}return U(we)}function N(we,ye,Se){if(ye<0||we.byteLength<ye)throw new RangeError('"offset" is outside of buffer bounds');if(we.byteLength<ye+(Se||0))throw new RangeError('"length" is outside of buffer bounds');var Me;return ye===void 0&&Se===void 0?Me=new Uint8Array(we):Se===void 0?Me=new Uint8Array(we,ye):Me=new Uint8Array(we,ye,Se),Object.setPrototypeOf(Me,w.prototype),Me}function B(we){if(w.isBuffer(we)){var ye=O(we.length)|0,Se=M(ye);return Se.length===0||we.copy(Se,0,0,ye),Se}if(we.length!==void 0)return typeof we.length!="number"||ke(we.length)?M(0):U(we);if(we.type==="Buffer"&&Array.isArray(we.data))return U(we.data)}function O(we){if(we>=P)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+P.toString(16)+" bytes");return we|0}w.isBuffer=function(ye){return ye!=null&&ye._isBuffer===!0&&ye!==w.prototype},w.compare=function(ye,Se){if(Qe(ye,Uint8Array)&&(ye=w.from(ye,ye.offset,ye.byteLength)),Qe(Se,Uint8Array)&&(Se=w.from(Se,Se.offset,Se.byteLength)),!w.isBuffer(ye)||!w.isBuffer(Se))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ye===Se)return 0;for(var Me=ye.length,He=Se.length,qe=0,rt=Math.min(Me,He);qe<rt;++qe)if(ye[qe]!==Se[qe]){Me=ye[qe],He=Se[qe];break}return Me<He?-1:He<Me?1:0},w.isEncoding=function(ye){switch(String(ye).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},w.concat=function(ye,Se){if(!Array.isArray(ye))throw new TypeError('"list" argument must be an Array of Buffers');if(ye.length===0)return w.alloc(0);var Me;if(Se===void 0)for(Se=0,Me=0;Me<ye.length;++Me)Se+=ye[Me].length;var He=w.allocUnsafe(Se),qe=0;for(Me=0;Me<ye.length;++Me){var rt=ye[Me];if(Qe(rt,Uint8Array))qe+rt.length>He.length?(w.isBuffer(rt)||(rt=w.from(rt)),rt.copy(He,qe)):Uint8Array.prototype.set.call(He,rt,qe);else if(w.isBuffer(rt))rt.copy(He,qe);else throw new TypeError('"list" argument must be an Array of Buffers');qe+=rt.length}return He};function H(we,ye){if(w.isBuffer(we))return we.length;if(ArrayBuffer.isView(we)||Qe(we,ArrayBuffer))return we.byteLength;if(typeof we!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+l(we));var Se=we.length,Me=arguments.length>2&&arguments[2]===!0;if(!Me&&Se===0)return 0;for(var He=!1;;)switch(ye){case"ascii":case"latin1":case"binary":return Se;case"utf8":case"utf-8":return ct(we).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Se*2;case"hex":return Se>>>1;case"base64":return Mt(we).length;default:if(He)return Me?-1:ct(we).length;ye=(""+ye).toLowerCase(),He=!0}}w.byteLength=H;function Y(we,ye,Se){var Me=!1;if((ye===void 0||ye<0)&&(ye=0),ye>this.length||((Se===void 0||Se>this.length)&&(Se=this.length),Se<=0)||(Se>>>=0,ye>>>=0,Se<=ye))return"";for(we||(we="utf8");;)switch(we){case"hex":return he(this,ye,Se);case"utf8":case"utf-8":return se(this,ye,Se);case"ascii":return le(this,ye,Se);case"latin1":case"binary":return oe(this,ye,Se);case"base64":return te(this,ye,Se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me(this,ye,Se);default:if(Me)throw new TypeError("Unknown encoding: "+we);we=(we+"").toLowerCase(),Me=!0}}w.prototype._isBuffer=!0;function J(we,ye,Se){var Me=we[ye];we[ye]=we[Se],we[Se]=Me}w.prototype.swap16=function(){var ye=this.length;if(ye%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Se=0;Se<ye;Se+=2)J(this,Se,Se+1);return this},w.prototype.swap32=function(){var ye=this.length;if(ye%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Se=0;Se<ye;Se+=4)J(this,Se,Se+3),J(this,Se+1,Se+2);return this},w.prototype.swap64=function(){var ye=this.length;if(ye%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Se=0;Se<ye;Se+=8)J(this,Se,Se+7),J(this,Se+1,Se+6),J(this,Se+2,Se+5),J(this,Se+3,Se+4);return this},w.prototype.toString=function(){var ye=this.length;return ye===0?"":arguments.length===0?se(this,0,ye):Y.apply(this,arguments)},w.prototype.toLocaleString=w.prototype.toString,w.prototype.equals=function(ye){if(!w.isBuffer(ye))throw new TypeError("Argument must be a Buffer");return this===ye?!0:w.compare(this,ye)===0},w.prototype.inspect=function(){var ye="",Se=p.h2;return ye=this.toString("hex",0,Se).replace(/(.{2})/g,"$1 ").trim(),this.length>Se&&(ye+=" ... "),"<Buffer "+ye+">"},S&&(w.prototype[S]=w.prototype.inspect),w.prototype.compare=function(ye,Se,Me,He,qe){if(Qe(ye,Uint8Array)&&(ye=w.from(ye,ye.offset,ye.byteLength)),!w.isBuffer(ye))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+l(ye));if(Se===void 0&&(Se=0),Me===void 0&&(Me=ye?ye.length:0),He===void 0&&(He=0),qe===void 0&&(qe=this.length),Se<0||Me>ye.length||He<0||qe>this.length)throw new RangeError("out of range index");if(He>=qe&&Se>=Me)return 0;if(He>=qe)return-1;if(Se>=Me)return 1;if(Se>>>=0,Me>>>=0,He>>>=0,qe>>>=0,this===ye)return 0;for(var rt=qe-He,pt=Me-Se,At=Math.min(rt,pt),jt=this.slice(He,qe),tr=ye.slice(Se,Me),Ct=0;Ct<At;++Ct)if(jt[Ct]!==tr[Ct]){rt=jt[Ct],pt=tr[Ct];break}return rt<pt?-1:pt<rt?1:0};function re(we,ye,Se,Me,He){if(we.length===0)return-1;if(typeof Se=="string"?(Me=Se,Se=0):Se>2147483647?Se=2147483647:Se<-2147483648&&(Se=-2147483648),Se=+Se,ke(Se)&&(Se=He?0:we.length-1),Se<0&&(Se=we.length+Se),Se>=we.length){if(He)return-1;Se=we.length-1}else if(Se<0)if(He)Se=0;else return-1;if(typeof ye=="string"&&(ye=w.from(ye,Me)),w.isBuffer(ye))return ye.length===0?-1:ie(we,ye,Se,Me,He);if(typeof ye=="number")return ye=ye&255,typeof Uint8Array.prototype.indexOf=="function"?He?Uint8Array.prototype.indexOf.call(we,ye,Se):Uint8Array.prototype.lastIndexOf.call(we,ye,Se):ie(we,[ye],Se,Me,He);throw new TypeError("val must be string, number or Buffer")}function ie(we,ye,Se,Me,He){var qe=1,rt=we.length,pt=ye.length;if(Me!==void 0&&(Me=String(Me).toLowerCase(),Me==="ucs2"||Me==="ucs-2"||Me==="utf16le"||Me==="utf-16le")){if(we.length<2||ye.length<2)return-1;qe=2,rt/=2,pt/=2,Se/=2}function At(Kt,wr){return qe===1?Kt[wr]:Kt.readUInt16BE(wr*qe)}var jt;if(He){var tr=-1;for(jt=Se;jt<rt;jt++)if(At(we,jt)===At(ye,tr===-1?0:jt-tr)){if(tr===-1&&(tr=jt),jt-tr+1===pt)return tr*qe}else tr!==-1&&(jt-=jt-tr),tr=-1}else for(Se+pt>rt&&(Se=rt-pt),jt=Se;jt>=0;jt--){for(var Ct=!0,Nt=0;Nt<pt;Nt++)if(At(we,jt+Nt)!==At(ye,Nt)){Ct=!1;break}if(Ct)return jt}return-1}w.prototype.includes=function(ye,Se,Me){return this.indexOf(ye,Se,Me)!==-1},w.prototype.indexOf=function(ye,Se,Me){return re(this,ye,Se,Me,!0)},w.prototype.lastIndexOf=function(ye,Se,Me){return re(this,ye,Se,Me,!1)};function ce(we,ye,Se,Me){Se=Number(Se)||0;var He=we.length-Se;Me?(Me=Number(Me),Me>He&&(Me=He)):Me=He;var qe=ye.length;Me>qe/2&&(Me=qe/2);var rt;for(rt=0;rt<Me;++rt){var pt=parseInt(ye.substr(rt*2,2),16);if(ke(pt))return rt;we[Se+rt]=pt}return rt}function Q(we,ye,Se,Me){return Bt(ct(ye,we.length-Se),we,Se,Me)}function j(we,ye,Se,Me){return Bt(vt(ye),we,Se,Me)}function Z(we,ye,Se,Me){return Bt(Mt(ye),we,Se,Me)}function $(we,ye,Se,Me){return Bt(St(ye,we.length-Se),we,Se,Me)}w.prototype.write=function(ye,Se,Me,He){if(Se===void 0)He="utf8",Me=this.length,Se=0;else if(Me===void 0&&typeof Se=="string")He=Se,Me=this.length,Se=0;else if(isFinite(Se))Se=Se>>>0,isFinite(Me)?(Me=Me>>>0,He===void 0&&(He="utf8")):(He=Me,Me=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var qe=this.length-Se;if((Me===void 0||Me>qe)&&(Me=qe),ye.length>0&&(Me<0||Se<0)||Se>this.length)throw new RangeError("Attempt to write outside buffer bounds");He||(He="utf8");for(var rt=!1;;)switch(He){case"hex":return ce(this,ye,Se,Me);case"utf8":case"utf-8":return Q(this,ye,Se,Me);case"ascii":case"latin1":case"binary":return j(this,ye,Se,Me);case"base64":return Z(this,ye,Se,Me);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,ye,Se,Me);default:if(rt)throw new TypeError("Unknown encoding: "+He);He=(""+He).toLowerCase(),rt=!0}},w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function te(we,ye,Se){return ye===0&&Se===we.length?d.fromByteArray(we):d.fromByteArray(we.slice(ye,Se))}function se(we,ye,Se){Se=Math.min(we.length,Se);for(var Me=[],He=ye;He<Se;){var qe=we[He],rt=null,pt=qe>239?4:qe>223?3:qe>191?2:1;if(He+pt<=Se){var At=void 0,jt=void 0,tr=void 0,Ct=void 0;switch(pt){case 1:qe<128&&(rt=qe);break;case 2:At=we[He+1],(At&192)===128&&(Ct=(qe&31)<<6|At&63,Ct>127&&(rt=Ct));break;case 3:At=we[He+1],jt=we[He+2],(At&192)===128&&(jt&192)===128&&(Ct=(qe&15)<<12|(At&63)<<6|jt&63,Ct>2047&&(Ct<55296||Ct>57343)&&(rt=Ct));break;case 4:At=we[He+1],jt=we[He+2],tr=we[He+3],(At&192)===128&&(jt&192)===128&&(tr&192)===128&&(Ct=(qe&15)<<18|(At&63)<<12|(jt&63)<<6|tr&63,Ct>65535&&Ct<1114112&&(rt=Ct))}}rt===null?(rt=65533,pt=1):rt>65535&&(rt-=65536,Me.push(rt>>>10&1023|55296),rt=56320|rt&1023),Me.push(rt),He+=pt}return q(Me)}var ee=4096;function q(we){var ye=we.length;if(ye<=ee)return String.fromCharCode.apply(String,we);for(var Se="",Me=0;Me<ye;)Se+=String.fromCharCode.apply(String,we.slice(Me,Me+=ee));return Se}function le(we,ye,Se){var Me="";Se=Math.min(we.length,Se);for(var He=ye;He<Se;++He)Me+=String.fromCharCode(we[He]&127);return Me}function oe(we,ye,Se){var Me="";Se=Math.min(we.length,Se);for(var He=ye;He<Se;++He)Me+=String.fromCharCode(we[He]);return Me}function he(we,ye,Se){var Me=we.length;(!ye||ye<0)&&(ye=0),(!Se||Se<0||Se>Me)&&(Se=Me);for(var He="",qe=ye;qe<Se;++qe)He+=ze[we[qe]];return He}function me(we,ye,Se){for(var Me=we.slice(ye,Se),He="",qe=0;qe<Me.length-1;qe+=2)He+=String.fromCharCode(Me[qe]+Me[qe+1]*256);return He}w.prototype.slice=function(ye,Se){var Me=this.length;ye=~~ye,Se=Se===void 0?Me:~~Se,ye<0?(ye+=Me,ye<0&&(ye=0)):ye>Me&&(ye=Me),Se<0?(Se+=Me,Se<0&&(Se=0)):Se>Me&&(Se=Me),Se<ye&&(Se=ye);var He=this.subarray(ye,Se);return Object.setPrototypeOf(He,w.prototype),He};function Ce(we,ye,Se){if(we%1!==0||we<0)throw new RangeError("offset is not uint");if(we+ye>Se)throw new RangeError("Trying to access beyond buffer length")}w.prototype.readUintLE=w.prototype.readUIntLE=function(ye,Se,Me){ye=ye>>>0,Se=Se>>>0,Me||Ce(ye,Se,this.length);for(var He=this[ye],qe=1,rt=0;++rt<Se&&(qe*=256);)He+=this[ye+rt]*qe;return He},w.prototype.readUintBE=w.prototype.readUIntBE=function(ye,Se,Me){ye=ye>>>0,Se=Se>>>0,Me||Ce(ye,Se,this.length);for(var He=this[ye+--Se],qe=1;Se>0&&(qe*=256);)He+=this[ye+--Se]*qe;return He},w.prototype.readUint8=w.prototype.readUInt8=function(ye,Se){return ye=ye>>>0,Se||Ce(ye,1,this.length),this[ye]},w.prototype.readUint16LE=w.prototype.readUInt16LE=function(ye,Se){return ye=ye>>>0,Se||Ce(ye,2,this.length),this[ye]|this[ye+1]<<8},w.prototype.readUint16BE=w.prototype.readUInt16BE=function(ye,Se){return ye=ye>>>0,Se||Ce(ye,2,this.length),this[ye]<<8|this[ye+1]},w.prototype.readUint32LE=w.prototype.readUInt32LE=function(ye,Se){return ye=ye>>>0,Se||Ce(ye,4,this.length),(this[ye]|this[ye+1]<<8|this[ye+2]<<16)+this[ye+3]*16777216},w.prototype.readUint32BE=w.prototype.readUInt32BE=function(ye,Se){return ye=ye>>>0,Se||Ce(ye,4,this.length),this[ye]*16777216+(this[ye+1]<<16|this[ye+2]<<8|this[ye+3])},w.prototype.readBigUInt64LE=Be(function(ye){ye=ye>>>0,at(ye,"offset");var Se=this[ye],Me=this[ye+7];(Se===void 0||Me===void 0)&&it(ye,this.length-8);var He=Se+this[++ye]*Math.pow(2,8)+this[++ye]*Math.pow(2,16)+this[++ye]*Math.pow(2,24),qe=this[++ye]+this[++ye]*Math.pow(2,8)+this[++ye]*Math.pow(2,16)+Me*Math.pow(2,24);return BigInt(He)+(BigInt(qe)<<BigInt(32))}),w.prototype.readBigUInt64BE=Be(function(ye){ye=ye>>>0,at(ye,"offset");var Se=this[ye],Me=this[ye+7];(Se===void 0||Me===void 0)&&it(ye,this.length-8);var He=Se*Math.pow(2,24)+this[++ye]*Math.pow(2,16)+this[++ye]*Math.pow(2,8)+this[++ye],qe=this[++ye]*Math.pow(2,24)+this[++ye]*Math.pow(2,16)+this[++ye]*Math.pow(2,8)+Me;return(BigInt(He)<<BigInt(32))+BigInt(qe)}),w.prototype.readIntLE=function(ye,Se,Me){ye=ye>>>0,Se=Se>>>0,Me||Ce(ye,Se,this.length);for(var He=this[ye],qe=1,rt=0;++rt<Se&&(qe*=256);)He+=this[ye+rt]*qe;return qe*=128,He>=qe&&(He-=Math.pow(2,8*Se)),He},w.prototype.readIntBE=function(ye,Se,Me){ye=ye>>>0,Se=Se>>>0,Me||Ce(ye,Se,this.length);for(var He=Se,qe=1,rt=this[ye+--He];He>0&&(qe*=256);)rt+=this[ye+--He]*qe;return qe*=128,rt>=qe&&(rt-=Math.pow(2,8*Se)),rt},w.prototype.readInt8=function(ye,Se){return ye=ye>>>0,Se||Ce(ye,1,this.length),this[ye]&128?(255-this[ye]+1)*-1:this[ye]},w.prototype.readInt16LE=function(ye,Se){ye=ye>>>0,Se||Ce(ye,2,this.length);var Me=this[ye]|this[ye+1]<<8;return Me&32768?Me|4294901760:Me},w.prototype.readInt16BE=function(ye,Se){ye=ye>>>0,Se||Ce(ye,2,this.length);var Me=this[ye+1]|this[ye]<<8;return Me&32768?Me|4294901760:Me},w.prototype.readInt32LE=function(ye,Se){return ye=ye>>>0,Se||Ce(ye,4,this.length),this[ye]|this[ye+1]<<8|this[ye+2]<<16|this[ye+3]<<24},w.prototype.readInt32BE=function(ye,Se){return ye=ye>>>0,Se||Ce(ye,4,this.length),this[ye]<<24|this[ye+1]<<16|this[ye+2]<<8|this[ye+3]},w.prototype.readBigInt64LE=Be(function(ye){ye=ye>>>0,at(ye,"offset");var Se=this[ye],Me=this[ye+7];(Se===void 0||Me===void 0)&&it(ye,this.length-8);var He=this[ye+4]+this[ye+5]*Math.pow(2,8)+this[ye+6]*Math.pow(2,16)+(Me<<24);return(BigInt(He)<<BigInt(32))+BigInt(Se+this[++ye]*Math.pow(2,8)+this[++ye]*Math.pow(2,16)+this[++ye]*Math.pow(2,24))}),w.prototype.readBigInt64BE=Be(function(ye){ye=ye>>>0,at(ye,"offset");var Se=this[ye],Me=this[ye+7];(Se===void 0||Me===void 0)&&it(ye,this.length-8);var He=(Se<<24)+this[++ye]*Math.pow(2,16)+this[++ye]*Math.pow(2,8)+this[++ye];return(BigInt(He)<<BigInt(32))+BigInt(this[++ye]*Math.pow(2,24)+this[++ye]*Math.pow(2,16)+this[++ye]*Math.pow(2,8)+Me)}),w.prototype.readFloatLE=function(ye,Se){return ye=ye>>>0,Se||Ce(ye,4,this.length),E.read(this,ye,!0,23,4)},w.prototype.readFloatBE=function(ye,Se){return ye=ye>>>0,Se||Ce(ye,4,this.length),E.read(this,ye,!1,23,4)},w.prototype.readDoubleLE=function(ye,Se){return ye=ye>>>0,Se||Ce(ye,8,this.length),E.read(this,ye,!0,52,8)},w.prototype.readDoubleBE=function(ye,Se){return ye=ye>>>0,Se||Ce(ye,8,this.length),E.read(this,ye,!1,52,8)};function Ae(we,ye,Se,Me,He,qe){if(!w.isBuffer(we))throw new TypeError('"buffer" argument must be a Buffer instance');if(ye>He||ye<qe)throw new RangeError('"value" argument is out of bounds');if(Se+Me>we.length)throw new RangeError("Index out of range")}w.prototype.writeUintLE=w.prototype.writeUIntLE=function(ye,Se,Me,He){if(ye=+ye,Se=Se>>>0,Me=Me>>>0,!He){var qe=Math.pow(2,8*Me)-1;Ae(this,ye,Se,Me,qe,0)}var rt=1,pt=0;for(this[Se]=ye&255;++pt<Me&&(rt*=256);)this[Se+pt]=ye/rt&255;return Se+Me},w.prototype.writeUintBE=w.prototype.writeUIntBE=function(ye,Se,Me,He){if(ye=+ye,Se=Se>>>0,Me=Me>>>0,!He){var qe=Math.pow(2,8*Me)-1;Ae(this,ye,Se,Me,qe,0)}var rt=Me-1,pt=1;for(this[Se+rt]=ye&255;--rt>=0&&(pt*=256);)this[Se+rt]=ye/pt&255;return Se+Me},w.prototype.writeUint8=w.prototype.writeUInt8=function(ye,Se,Me){return ye=+ye,Se=Se>>>0,Me||Ae(this,ye,Se,1,255,0),this[Se]=ye&255,Se+1},w.prototype.writeUint16LE=w.prototype.writeUInt16LE=function(ye,Se,Me){return ye=+ye,Se=Se>>>0,Me||Ae(this,ye,Se,2,65535,0),this[Se]=ye&255,this[Se+1]=ye>>>8,Se+2},w.prototype.writeUint16BE=w.prototype.writeUInt16BE=function(ye,Se,Me){return ye=+ye,Se=Se>>>0,Me||Ae(this,ye,Se,2,65535,0),this[Se]=ye>>>8,this[Se+1]=ye&255,Se+2},w.prototype.writeUint32LE=w.prototype.writeUInt32LE=function(ye,Se,Me){return ye=+ye,Se=Se>>>0,Me||Ae(this,ye,Se,4,4294967295,0),this[Se+3]=ye>>>24,this[Se+2]=ye>>>16,this[Se+1]=ye>>>8,this[Se]=ye&255,Se+4},w.prototype.writeUint32BE=w.prototype.writeUInt32BE=function(ye,Se,Me){return ye=+ye,Se=Se>>>0,Me||Ae(this,ye,Se,4,4294967295,0),this[Se]=ye>>>24,this[Se+1]=ye>>>16,this[Se+2]=ye>>>8,this[Se+3]=ye&255,Se+4};function Ue(we,ye,Se,Me,He){ut(ye,Me,He,we,Se,7);var qe=Number(ye&BigInt(4294967295));we[Se++]=qe,qe=qe>>8,we[Se++]=qe,qe=qe>>8,we[Se++]=qe,qe=qe>>8,we[Se++]=qe;var rt=Number(ye>>BigInt(32)&BigInt(4294967295));return we[Se++]=rt,rt=rt>>8,we[Se++]=rt,rt=rt>>8,we[Se++]=rt,rt=rt>>8,we[Se++]=rt,Se}function Ve(we,ye,Se,Me,He){ut(ye,Me,He,we,Se,7);var qe=Number(ye&BigInt(4294967295));we[Se+7]=qe,qe=qe>>8,we[Se+6]=qe,qe=qe>>8,we[Se+5]=qe,qe=qe>>8,we[Se+4]=qe;var rt=Number(ye>>BigInt(32)&BigInt(4294967295));return we[Se+3]=rt,rt=rt>>8,we[Se+2]=rt,rt=rt>>8,we[Se+1]=rt,rt=rt>>8,we[Se]=rt,Se+8}w.prototype.writeBigUInt64LE=Be(function(ye){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ue(this,ye,Se,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeBigUInt64BE=Be(function(ye){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ve(this,ye,Se,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeIntLE=function(ye,Se,Me,He){if(ye=+ye,Se=Se>>>0,!He){var qe=Math.pow(2,8*Me-1);Ae(this,ye,Se,Me,qe-1,-qe)}var rt=0,pt=1,At=0;for(this[Se]=ye&255;++rt<Me&&(pt*=256);)ye<0&&At===0&&this[Se+rt-1]!==0&&(At=1),this[Se+rt]=(ye/pt>>0)-At&255;return Se+Me},w.prototype.writeIntBE=function(ye,Se,Me,He){if(ye=+ye,Se=Se>>>0,!He){var qe=Math.pow(2,8*Me-1);Ae(this,ye,Se,Me,qe-1,-qe)}var rt=Me-1,pt=1,At=0;for(this[Se+rt]=ye&255;--rt>=0&&(pt*=256);)ye<0&&At===0&&this[Se+rt+1]!==0&&(At=1),this[Se+rt]=(ye/pt>>0)-At&255;return Se+Me},w.prototype.writeInt8=function(ye,Se,Me){return ye=+ye,Se=Se>>>0,Me||Ae(this,ye,Se,1,127,-128),ye<0&&(ye=255+ye+1),this[Se]=ye&255,Se+1},w.prototype.writeInt16LE=function(ye,Se,Me){return ye=+ye,Se=Se>>>0,Me||Ae(this,ye,Se,2,32767,-32768),this[Se]=ye&255,this[Se+1]=ye>>>8,Se+2},w.prototype.writeInt16BE=function(ye,Se,Me){return ye=+ye,Se=Se>>>0,Me||Ae(this,ye,Se,2,32767,-32768),this[Se]=ye>>>8,this[Se+1]=ye&255,Se+2},w.prototype.writeInt32LE=function(ye,Se,Me){return ye=+ye,Se=Se>>>0,Me||Ae(this,ye,Se,4,2147483647,-2147483648),this[Se]=ye&255,this[Se+1]=ye>>>8,this[Se+2]=ye>>>16,this[Se+3]=ye>>>24,Se+4},w.prototype.writeInt32BE=function(ye,Se,Me){return ye=+ye,Se=Se>>>0,Me||Ae(this,ye,Se,4,2147483647,-2147483648),ye<0&&(ye=4294967295+ye+1),this[Se]=ye>>>24,this[Se+1]=ye>>>16,this[Se+2]=ye>>>8,this[Se+3]=ye&255,Se+4},w.prototype.writeBigInt64LE=Be(function(ye){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ue(this,ye,Se,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),w.prototype.writeBigInt64BE=Be(function(ye){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ve(this,ye,Se,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Pe(we,ye,Se,Me,He,qe){if(Se+Me>we.length)throw new RangeError("Index out of range");if(Se<0)throw new RangeError("Index out of range")}function be(we,ye,Se,Me,He){return ye=+ye,Se=Se>>>0,He||Pe(we,ye,Se,4),E.write(we,ye,Se,Me,23,4),Se+4}w.prototype.writeFloatLE=function(ye,Se,Me){return be(this,ye,Se,!0,Me)},w.prototype.writeFloatBE=function(ye,Se,Me){return be(this,ye,Se,!1,Me)};function Le(we,ye,Se,Me,He){return ye=+ye,Se=Se>>>0,He||Pe(we,ye,Se,8),E.write(we,ye,Se,Me,52,8),Se+8}w.prototype.writeDoubleLE=function(ye,Se,Me){return Le(this,ye,Se,!0,Me)},w.prototype.writeDoubleBE=function(ye,Se,Me){return Le(this,ye,Se,!1,Me)},w.prototype.copy=function(ye,Se,Me,He){if(!w.isBuffer(ye))throw new TypeError("argument should be a Buffer");if(Me||(Me=0),!He&&He!==0&&(He=this.length),Se>=ye.length&&(Se=ye.length),Se||(Se=0),He>0&&He<Me&&(He=Me),He===Me||ye.length===0||this.length===0)return 0;if(Se<0)throw new RangeError("targetStart out of bounds");if(Me<0||Me>=this.length)throw new RangeError("Index out of range");if(He<0)throw new RangeError("sourceEnd out of bounds");He>this.length&&(He=this.length),ye.length-Se<He-Me&&(He=ye.length-Se+Me);var qe=He-Me;return this===ye&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Se,Me,He):Uint8Array.prototype.set.call(ye,this.subarray(Me,He),Se),qe},w.prototype.fill=function(ye,Se,Me,He){if(typeof ye=="string"){if(typeof Se=="string"?(He=Se,Se=0,Me=this.length):typeof Me=="string"&&(He=Me,Me=this.length),He!==void 0&&typeof He!="string")throw new TypeError("encoding must be a string");if(typeof He=="string"&&!w.isEncoding(He))throw new TypeError("Unknown encoding: "+He);if(ye.length===1){var qe=ye.charCodeAt(0);(He==="utf8"&&qe<128||He==="latin1")&&(ye=qe)}}else typeof ye=="number"?ye=ye&255:typeof ye=="boolean"&&(ye=Number(ye));if(Se<0||this.length<Se||this.length<Me)throw new RangeError("Out of range index");if(Me<=Se)return this;Se=Se>>>0,Me=Me===void 0?this.length:Me>>>0,ye||(ye=0);var rt;if(typeof ye=="number")for(rt=Se;rt<Me;++rt)this[rt]=ye;else{var pt=w.isBuffer(ye)?ye:w.from(ye,He),At=pt.length;if(At===0)throw new TypeError('The value "'+ye+'" is invalid for argument "value"');for(rt=0;rt<Me-Se;++rt)this[rt+Se]=pt[rt%At]}return this};var We={};function je(we,ye,Se){We[we]=function(Me){i(qe,Me);var He=u(qe);function qe(){var rt;return r(this,qe),rt=He.call(this),Object.defineProperty(c(rt),"message",{value:ye.apply(c(rt),arguments),writable:!0,configurable:!0}),rt.name="".concat(rt.name," [").concat(we,"]"),rt.stack,delete rt.name,rt}return n(qe,[{key:"code",get:function(){return we},set:function(pt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:pt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(we,"]: ").concat(this.message)}}]),qe}(Se)}je("ERR_BUFFER_OUT_OF_BOUNDS",function(we){return we?"".concat(we," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),je("ERR_INVALID_ARG_TYPE",function(we,ye){return'The "'.concat(we,'" argument must be of type number. Received type ').concat(l(ye))},TypeError),je("ERR_OUT_OF_RANGE",function(we,ye,Se){var Me='The value of "'.concat(we,'" is out of range.'),He=Se;return Number.isInteger(Se)&&Math.abs(Se)>Math.pow(2,32)?He=Fe(String(Se)):typeof Se=="bigint"&&(He=String(Se),(Se>Math.pow(BigInt(2),BigInt(32))||Se<-Math.pow(BigInt(2),BigInt(32)))&&(He=Fe(He)),He+="n"),Me+=" It must be ".concat(ye,". Received ").concat(He),Me},RangeError);function Fe(we){for(var ye="",Se=we.length,Me=we[0]==="-"?1:0;Se>=Me+4;Se-=3)ye="_".concat(we.slice(Se-3,Se)).concat(ye);return"".concat(we.slice(0,Se)).concat(ye)}function Ze(we,ye,Se){at(ye,"offset"),(we[ye]===void 0||we[ye+Se]===void 0)&&it(ye,we.length-(Se+1))}function ut(we,ye,Se,Me,He,qe){if(we>Se||we<ye){var rt=typeof ye=="bigint"?"n":"",pt;throw qe>3?ye===0||ye===BigInt(0)?pt=">= 0".concat(rt," and < 2").concat(rt," ** ").concat((qe+1)*8).concat(rt):pt=">= -(2".concat(rt," ** ").concat((qe+1)*8-1).concat(rt,") and < 2 ** ")+"".concat((qe+1)*8-1).concat(rt):pt=">= ".concat(ye).concat(rt," and <= ").concat(Se).concat(rt),new We.ERR_OUT_OF_RANGE("value",pt,we)}Ze(Me,He,qe)}function at(we,ye){if(typeof we!="number")throw new We.ERR_INVALID_ARG_TYPE(ye,"number",we)}function it(we,ye,Se){throw Math.floor(we)!==we?(at(we,Se),new We.ERR_OUT_OF_RANGE(Se||"offset","an integer",we)):ye<0?new We.ERR_BUFFER_OUT_OF_BOUNDS:new We.ERR_OUT_OF_RANGE(Se||"offset",">= ".concat(Se?1:0," and <= ").concat(ye),we)}var $e=/[^+/0-9A-Za-z-_]/g;function st(we){if(we=we.split("=")[0],we=we.trim().replace($e,""),we.length<2)return"";for(;we.length%4!==0;)we=we+"=";return we}function ct(we,ye){ye=ye||1/0;for(var Se,Me=we.length,He=null,qe=[],rt=0;rt<Me;++rt){if(Se=we.charCodeAt(rt),Se>55295&&Se<57344){if(!He){if(Se>56319){(ye-=3)>-1&&qe.push(239,191,189);continue}else if(rt+1===Me){(ye-=3)>-1&&qe.push(239,191,189);continue}He=Se;continue}if(Se<56320){(ye-=3)>-1&&qe.push(239,191,189),He=Se;continue}Se=(He-55296<<10|Se-56320)+65536}else He&&(ye-=3)>-1&&qe.push(239,191,189);if(He=null,Se<128){if((ye-=1)<0)break;qe.push(Se)}else if(Se<2048){if((ye-=2)<0)break;qe.push(Se>>6|192,Se&63|128)}else if(Se<65536){if((ye-=3)<0)break;qe.push(Se>>12|224,Se>>6&63|128,Se&63|128)}else if(Se<1114112){if((ye-=4)<0)break;qe.push(Se>>18|240,Se>>12&63|128,Se>>6&63|128,Se&63|128)}else throw new Error("Invalid code point")}return qe}function vt(we){for(var ye=[],Se=0;Se<we.length;++Se)ye.push(we.charCodeAt(Se)&255);return ye}function St(we,ye){for(var Se,Me,He,qe=[],rt=0;rt<we.length&&!((ye-=2)<0);++rt)Se=we.charCodeAt(rt),Me=Se>>8,He=Se%256,qe.push(He),qe.push(Me);return qe}function Mt(we){return d.toByteArray(st(we))}function Bt(we,ye,Se,Me){var He;for(He=0;He<Me&&!(He+Se>=ye.length||He>=we.length);++He)ye[He+Se]=we[He];return He}function Qe(we,ye){return we instanceof ye||we!=null&&we.constructor!=null&&we.constructor.name!=null&&we.constructor.name===ye.name}function ke(we){return we!==we}var ze=function(){for(var we="0123456789abcdef",ye=new Array(256),Se=0;Se<16;++Se)for(var Me=Se*16,He=0;He<16;++He)ye[Me+He]=we[Se]+we[He];return ye}();function Be(we){return typeof BigInt>"u"?Re:we}function Re(){throw new Error("BigInt not supported")}},2321:function(v){v.exports=s,v.exports.isMobile=s,v.exports.default=s;var p=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,r=/android|ipad|playbook|silk/i;function s(n){n||(n={});var i=n.ua;if(!i&&typeof navigator<"u"&&(i=navigator.userAgent),i&&i.headers&&typeof i.headers["user-agent"]=="string"&&(i=i.headers["user-agent"]),typeof i!="string")return!1;var f=p.test(i)&&!t.test(i)||!!n.tablet&&r.test(i);return!f&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&i.indexOf("Macintosh")!==-1&&i.indexOf("Safari")!==-1&&(f=!0),f}},3910:function(v,p){p.byteLength=y,p.toByteArray=T,p.fromByteArray=d;for(var t=[],r=[],s=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,f=n.length;i<f;++i)t[i]=n[i],r[n.charCodeAt(i)]=i;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function u(E){var S=E.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var P=E.indexOf("=");P===-1&&(P=S);var x=P===S?0:4-P%4;return[P,x]}function y(E){var S=u(E),P=S[0],x=S[1];return(P+x)*3/4-x}function c(E,S,P){return(S+P)*3/4-P}function T(E){var S,P=u(E),x=P[0],M=P[1],w=new s(c(E,x,M)),o=0,L=M>0?x-4:x,m;for(m=0;m<L;m+=4)S=r[E.charCodeAt(m)]<<18|r[E.charCodeAt(m+1)]<<12|r[E.charCodeAt(m+2)]<<6|r[E.charCodeAt(m+3)],w[o++]=S>>16&255,w[o++]=S>>8&255,w[o++]=S&255;return M===2&&(S=r[E.charCodeAt(m)]<<2|r[E.charCodeAt(m+1)]>>4,w[o++]=S&255),M===1&&(S=r[E.charCodeAt(m)]<<10|r[E.charCodeAt(m+1)]<<4|r[E.charCodeAt(m+2)]>>2,w[o++]=S>>8&255,w[o++]=S&255),w}function h(E){return t[E>>18&63]+t[E>>12&63]+t[E>>6&63]+t[E&63]}function l(E,S,P){for(var x,M=[],w=S;w<P;w+=3)x=(E[w]<<16&16711680)+(E[w+1]<<8&65280)+(E[w+2]&255),M.push(h(x));return M.join("")}function d(E){for(var S,P=E.length,x=P%3,M=[],w=16383,o=0,L=P-x;o<L;o+=w)M.push(l(E,o,o+w>L?L:o+w));return x===1?(S=E[P-1],M.push(t[S>>2]+t[S<<4&63]+"==")):x===2&&(S=(E[P-2]<<8)+E[P-1],M.push(t[S>>10]+t[S>>4&63]+t[S<<2&63]+"=")),M.join("")}},3187:function(v,p){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */p.read=function(t,r,s,n,i){var f,u,y=i*8-n-1,c=(1<<y)-1,T=c>>1,h=-7,l=s?i-1:0,d=s?-1:1,E=t[r+l];for(l+=d,f=E&(1<<-h)-1,E>>=-h,h+=y;h>0;f=f*256+t[r+l],l+=d,h-=8);for(u=f&(1<<-h)-1,f>>=-h,h+=n;h>0;u=u*256+t[r+l],l+=d,h-=8);if(f===0)f=1-T;else{if(f===c)return u?NaN:(E?-1:1)*(1/0);u=u+Math.pow(2,n),f=f-T}return(E?-1:1)*u*Math.pow(2,f-n)},p.write=function(t,r,s,n,i,f){var u,y,c,T=f*8-i-1,h=(1<<T)-1,l=h>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=n?0:f-1,S=n?1:-1,P=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(y=isNaN(r)?1:0,u=h):(u=Math.floor(Math.log(r)/Math.LN2),r*(c=Math.pow(2,-u))<1&&(u--,c*=2),u+l>=1?r+=d/c:r+=d*Math.pow(2,1-l),r*c>=2&&(u++,c/=2),u+l>=h?(y=0,u=h):u+l>=1?(y=(r*c-1)*Math.pow(2,i),u=u+l):(y=r*Math.pow(2,l-1)*Math.pow(2,i),u=0));i>=8;t[s+E]=y&255,E+=S,y/=256,i-=8);for(u=u<<i|y,T+=i;T>0;t[s+E]=u&255,E+=S,u/=256,T-=8);t[s+E-S]|=P*128}},1152:function(v,p,t){v.exports=u;var r=t(3440),s=t(7774),n=t(9298);function i(y,c){this._controllerNames=Object.keys(y),this._controllerList=this._controllerNames.map(function(T){return y[T]}),this._mode=c,this._active=y[c],this._active||(this._mode="turntable",this._active=y.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var f=i.prototype;f.flush=function(y){for(var c=this._controllerList,T=0;T<c.length;++T)c[T].flush(y)},f.idle=function(y){for(var c=this._controllerList,T=0;T<c.length;++T)c[T].idle(y)},f.lookAt=function(y,c,T,h){for(var l=this._controllerList,d=0;d<l.length;++d)l[d].lookAt(y,c,T,h)},f.rotate=function(y,c,T,h){for(var l=this._controllerList,d=0;d<l.length;++d)l[d].rotate(y,c,T,h)},f.pan=function(y,c,T,h){for(var l=this._controllerList,d=0;d<l.length;++d)l[d].pan(y,c,T,h)},f.translate=function(y,c,T,h){for(var l=this._controllerList,d=0;d<l.length;++d)l[d].translate(y,c,T,h)},f.setMatrix=function(y,c){for(var T=this._controllerList,h=0;h<T.length;++h)T[h].setMatrix(y,c)},f.setDistanceLimits=function(y,c){for(var T=this._controllerList,h=0;h<T.length;++h)T[h].setDistanceLimits(y,c)},f.setDistance=function(y,c){for(var T=this._controllerList,h=0;h<T.length;++h)T[h].setDistance(y,c)},f.recalcMatrix=function(y){this._active.recalcMatrix(y)},f.getDistance=function(y){return this._active.getDistance(y)},f.getDistanceLimits=function(y){return this._active.getDistanceLimits(y)},f.lastT=function(){return this._active.lastT()},f.setMode=function(y){if(y!==this._mode){var c=this._controllerNames.indexOf(y);if(!(c<0)){var T=this._active,h=this._controllerList[c],l=Math.max(T.lastT(),h.lastT());T.recalcMatrix(l),h.setMatrix(l,T.computedMatrix),this._active=h,this._mode=y,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},f.getMode=function(){return this._mode};function u(y){y=y||{};var c=y.eye||[0,0,1],T=y.center||[0,0,0],h=y.up||[0,1,0],l=y.distanceLimits||[0,1/0],d=y.mode||"turntable",E=r(),S=s(),P=n();return E.setDistanceLimits(l[0],l[1]),E.lookAt(0,c,T,h),S.setDistanceLimits(l[0],l[1]),S.lookAt(0,c,T,h),P.setDistanceLimits(l[0],l[1]),P.lookAt(0,c,T,h),new i({turntable:E,orbit:S,matrix:P},d)}},8126:function(v,p,t){var r=typeof WeakMap>"u"?t(5346):WeakMap,s=t(5827),n=t(2944),i=new r;function f(u){var y=i.get(u),c=y&&(y._triangleBuffer.handle||y._triangleBuffer.buffer);if(!c||!u.isBuffer(c)){var T=s(u,new Float32Array([-1,-1,-1,4,4,-1]));y=n(u,[{buffer:T,type:u.FLOAT,size:2}]),y._triangleBuffer=T,i.set(u,y)}y.bind(),u.drawArrays(u.TRIANGLES,0,3),y.unbind()}v.exports=f},8008:function(v,p,t){var r=t(4930);v.exports=s;function s(n,i,f){i=typeof i=="number"?i:1,f=f||": ";var u=n.split(/\r?\n/),y=String(u.length+i-1).length;return u.map(function(c,T){var h=T+i,l=String(h).length,d=r(h,y-l);return d+f+c}).join(`
`)}},2153:function(v,p,t){v.exports=n;var r=t(417);function s(i,f){for(var u=new Array(f+1),y=0;y<i.length;++y)u[y]=i[y];for(var y=0;y<=i.length;++y){for(var c=i.length;c<=f;++c){for(var T=new Array(f),h=0;h<f;++h)T[h]=Math.pow(c+1-y,h);u[c]=T}var l=r.apply(void 0,u);if(l)return!0}return!1}function n(i){var f=i.length;if(f===0)return[];if(f===1)return[0];for(var u=i[0].length,y=[i[0]],c=[0],T=1;T<f;++T){if(y.push(i[T]),!s(y,u)){y.pop();continue}if(c.push(T),c.length===u+1)return c}return c}},4653:function(v,p,t){v.exports=n;var r=t(4419),s=t(1778);function n(i,f){return r(f).filter(function(u){for(var y=new Array(u.length),c=0;c<u.length;++c)y[c]=f[u[c]];return s(y)*i<1})}},2350:function(v,p,t){v.exports=n;var r=t(4653),s=t(8691);function n(i,f){return s(r(i,f))}},7896:function(v){v.exports=function(t){return atob(t)}},957:function(v,p,t){v.exports=n;var r=t(6606);function s(i){for(var f=0,u=0;u<i.length;++u)f+=i[u];return f}function n(i,f){for(var u=f.length,y=new Array(u+1),c=0;c<u;++c){for(var T=new Array(u+1),h=0;h<=u;++h)T[h]=i[h][c];y[c]=T}y[u]=new Array(u+1);for(var c=0;c<=u;++c)y[u][c]=1;for(var l=new Array(u+1),c=0;c<u;++c)l[c]=f[c];l[u]=1;var d=r(y,l),E=s(d[u+1]);E===0&&(E=1);for(var S=new Array(u+1),c=0;c<=u;++c)S[c]=s(d[c])/E;return S}},1539:function(v,p,t){var r=t(8524);v.exports=s;function s(n,i){return r(n[0].mul(i[1]).add(i[0].mul(n[1])),n[1].mul(i[1]))}},8846:function(v){v.exports=p;function p(t,r){return t[0].mul(r[1]).cmp(r[0].mul(t[1]))}},9189:function(v,p,t){var r=t(8524);v.exports=s;function s(n,i){return r(n[0].mul(i[1]),n[1].mul(i[0]))}},5125:function(v,p,t){var r=t(234),s=t(3218),n=t(5514),i=t(2813),f=t(8524),u=t(9189);v.exports=y;function y(c,T){if(r(c))return T?u(c,y(T)):[c[0].clone(),c[1].clone()];var h=0,l,d;if(s(c))l=c.clone();else if(typeof c=="string")l=i(c);else{if(c===0)return[n(0),n(1)];if(c===Math.floor(c))l=n(c);else{for(;c!==Math.floor(c);)c=c*Math.pow(2,256),h-=256;l=n(c)}}if(r(T))l.mul(T[1]),d=T[0].clone();else if(s(T))d=T.clone();else if(typeof T=="string")d=i(T);else if(!T)d=n(1);else if(T===Math.floor(T))d=n(T);else{for(;T!==Math.floor(T);)T=T*Math.pow(2,256),h+=256;d=n(T)}return h>0?l=l.ushln(h):h<0&&(d=d.ushln(-h)),f(l,d)}},234:function(v,p,t){var r=t(3218);v.exports=s;function s(n){return Array.isArray(n)&&n.length===2&&r(n[0])&&r(n[1])}},4275:function(v,p,t){var r=t(1928);v.exports=s;function s(n){return n.cmp(new r(0))}},9958:function(v,p,t){var r=t(4275);v.exports=s;function s(n){var i=n.length,f=n.words,u=0;if(i===1)u=f[0];else if(i===2)u=f[0]+f[1]*67108864;else for(var y=0;y<i;y++){var c=f[y];u+=c*Math.pow(67108864,y)}return r(n)*u}},1112:function(v,p,t){var r=t(8362),s=t(2288).countTrailingZeros;v.exports=n;function n(i){var f=s(r.lo(i));if(f<32)return f;var u=s(r.hi(i));return u>20?52:u+32}},3218:function(v,p,t){t(1928),v.exports=r;function r(s){return s&&typeof s=="object"&&!!s.words}},5514:function(v,p,t){var r=t(1928),s=t(8362);v.exports=n;function n(i){var f=s.exponent(i);return f<52?new r(i):new r(i*Math.pow(2,52-f)).ushln(f-52)}},8524:function(v,p,t){var r=t(5514),s=t(4275);v.exports=n;function n(i,f){var u=s(i),y=s(f);if(u===0)return[r(0),r(1)];if(y===0)return[r(0),r(0)];y<0&&(i=i.neg(),f=f.neg());var c=i.gcd(f);return c.cmpn(1)?[i.div(c),f.div(c)]:[i,f]}},2813:function(v,p,t){var r=t(1928);v.exports=s;function s(n){return new r(n)}},3962:function(v,p,t){var r=t(8524);v.exports=s;function s(n,i){return r(n[0].mul(i[0]),n[1].mul(i[1]))}},4951:function(v,p,t){var r=t(4275);v.exports=s;function s(n){return r(n[0])*r(n[1])}},4354:function(v,p,t){var r=t(8524);v.exports=s;function s(n,i){return r(n[0].mul(i[1]).sub(n[1].mul(i[0])),n[1].mul(i[1]))}},7999:function(v,p,t){var r=t(9958),s=t(1112);v.exports=n;function n(i){var f=i[0],u=i[1];if(f.cmpn(0)===0)return 0;var y=f.abs().divmod(u.abs()),c=y.div,T=r(c),h=y.mod,l=f.negative!==u.negative?-1:1;if(h.cmpn(0)===0)return l*T;if(T){var d=s(T)+4,E=r(h.ushln(d).divRound(u));return l*(T+E*Math.pow(2,-d))}else{var S=u.bitLength()-h.bitLength()+53,E=r(h.ushln(S).divRound(u));return S<1023?l*E*Math.pow(2,-S):(E*=Math.pow(2,-1023),l*E*Math.pow(2,1023-S))}}},5070:function(v){function p(f,u,y,c,T){for(var h=T+1;c<=T;){var l=c+T>>>1,d=f[l],E=y!==void 0?y(d,u):d-u;E>=0?(h=l,T=l-1):c=l+1}return h}function t(f,u,y,c,T){for(var h=T+1;c<=T;){var l=c+T>>>1,d=f[l],E=y!==void 0?y(d,u):d-u;E>0?(h=l,T=l-1):c=l+1}return h}function r(f,u,y,c,T){for(var h=c-1;c<=T;){var l=c+T>>>1,d=f[l],E=y!==void 0?y(d,u):d-u;E<0?(h=l,c=l+1):T=l-1}return h}function s(f,u,y,c,T){for(var h=c-1;c<=T;){var l=c+T>>>1,d=f[l],E=y!==void 0?y(d,u):d-u;E<=0?(h=l,c=l+1):T=l-1}return h}function n(f,u,y,c,T){for(;c<=T;){var h=c+T>>>1,l=f[h],d=y!==void 0?y(l,u):l-u;if(d===0)return h;d<=0?c=h+1:T=h-1}return-1}function i(f,u,y,c,T,h){return typeof y=="function"?h(f,u,y,c===void 0?0:c|0,T===void 0?f.length-1:T|0):h(f,u,void 0,y===void 0?0:y|0,c===void 0?f.length-1:c|0)}v.exports={ge:function(f,u,y,c,T){return i(f,u,y,c,T,p)},gt:function(f,u,y,c,T){return i(f,u,y,c,T,t)},lt:function(f,u,y,c,T){return i(f,u,y,c,T,r)},le:function(f,u,y,c,T){return i(f,u,y,c,T,s)},eq:function(f,u,y,c,T){return i(f,u,y,c,T,n)}}},2288:function(v,p){"use restrict";var t=32;p.INT_BITS=t,p.INT_MAX=2147483647,p.INT_MIN=-1<<t-1,p.sign=function(n){return(n>0)-(n<0)},p.abs=function(n){var i=n>>t-1;return(n^i)-i},p.min=function(n,i){return i^(n^i)&-(n<i)},p.max=function(n,i){return n^(n^i)&-(n<i)},p.isPow2=function(n){return!(n&n-1)&&!!n},p.log2=function(n){var i,f;return i=(n>65535)<<4,n>>>=i,f=(n>255)<<3,n>>>=f,i|=f,f=(n>15)<<2,n>>>=f,i|=f,f=(n>3)<<1,n>>>=f,i|=f,i|n>>1},p.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},p.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function r(n){var i=32;return n&=-n,n&&i--,n&65535&&(i-=16),n&16711935&&(i-=8),n&252645135&&(i-=4),n&858993459&&(i-=2),n&1431655765&&(i-=1),i}p.countTrailingZeros=r,p.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},p.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},p.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var s=new Array(256);(function(n){for(var i=0;i<256;++i){var f=i,u=i,y=7;for(f>>>=1;f;f>>>=1)u<<=1,u|=f&1,--y;n[i]=u<<y&255}})(s),p.reverse=function(n){return s[n&255]<<24|s[n>>>8&255]<<16|s[n>>>16&255]<<8|s[n>>>24&255]},p.interleave2=function(n,i){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,i&=65535,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,n|i<<1},p.deinterleave2=function(n,i){return n=n>>>i&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},p.interleave3=function(n,i,f){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,i&=1023,i=(i|i<<16)&4278190335,i=(i|i<<8)&251719695,i=(i|i<<4)&3272356035,i=(i|i<<2)&1227133513,n|=i<<1,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,n|f<<2},p.deinterleave3=function(n,i){return n=n>>>i&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},p.nextCombination=function(n){var i=n|n-1;return i+1|(~i&-~i)-1>>>r(n)+1}},1928:function(v,p,t){v=t.nmd(v),function(r,s){function n(B,O){if(!B)throw new Error(O||"Assertion failed")}function i(B,O){B.super_=O;var H=function(){};H.prototype=O.prototype,B.prototype=new H,B.prototype.constructor=B}function f(B,O,H){if(f.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,B!==null&&((O==="le"||O==="be")&&(H=O,O=10),this._init(B||0,O||10,H||"be"))}typeof r=="object"?r.exports=f:s.BN=f,f.BN=f,f.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=t(6601).Buffer}catch{}f.isBN=function(O){return O instanceof f?!0:O!==null&&typeof O=="object"&&O.constructor.wordSize===f.wordSize&&Array.isArray(O.words)},f.max=function(O,H){return O.cmp(H)>0?O:H},f.min=function(O,H){return O.cmp(H)<0?O:H},f.prototype._init=function(O,H,Y){if(typeof O=="number")return this._initNumber(O,H,Y);if(typeof O=="object")return this._initArray(O,H,Y);H==="hex"&&(H=16),n(H===(H|0)&&H>=2&&H<=36),O=O.toString().replace(/\s+/g,"");var J=0;O[0]==="-"&&(J++,this.negative=1),J<O.length&&(H===16?this._parseHex(O,J,Y):(this._parseBase(O,H,J),Y==="le"&&this._initArray(this.toArray(),H,Y)))},f.prototype._initNumber=function(O,H,Y){O<0&&(this.negative=1,O=-O),O<67108864?(this.words=[O&67108863],this.length=1):O<4503599627370496?(this.words=[O&67108863,O/67108864&67108863],this.length=2):(n(O<9007199254740992),this.words=[O&67108863,O/67108864&67108863,1],this.length=3),Y==="le"&&this._initArray(this.toArray(),H,Y)},f.prototype._initArray=function(O,H,Y){if(n(typeof O.length=="number"),O.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(O.length/3),this.words=new Array(this.length);for(var J=0;J<this.length;J++)this.words[J]=0;var re,ie,ce=0;if(Y==="be")for(J=O.length-1,re=0;J>=0;J-=3)ie=O[J]|O[J-1]<<8|O[J-2]<<16,this.words[re]|=ie<<ce&67108863,this.words[re+1]=ie>>>26-ce&67108863,ce+=24,ce>=26&&(ce-=26,re++);else if(Y==="le")for(J=0,re=0;J<O.length;J+=3)ie=O[J]|O[J+1]<<8|O[J+2]<<16,this.words[re]|=ie<<ce&67108863,this.words[re+1]=ie>>>26-ce&67108863,ce+=24,ce>=26&&(ce-=26,re++);return this.strip()};function y(B,O){var H=B.charCodeAt(O);return H>=65&&H<=70?H-55:H>=97&&H<=102?H-87:H-48&15}function c(B,O,H){var Y=y(B,H);return H-1>=O&&(Y|=y(B,H-1)<<4),Y}f.prototype._parseHex=function(O,H,Y){this.length=Math.ceil((O.length-H)/6),this.words=new Array(this.length);for(var J=0;J<this.length;J++)this.words[J]=0;var re=0,ie=0,ce;if(Y==="be")for(J=O.length-1;J>=H;J-=2)ce=c(O,H,J)<<re,this.words[ie]|=ce&67108863,re>=18?(re-=18,ie+=1,this.words[ie]|=ce>>>26):re+=8;else{var Q=O.length-H;for(J=Q%2===0?H+1:H;J<O.length;J+=2)ce=c(O,H,J)<<re,this.words[ie]|=ce&67108863,re>=18?(re-=18,ie+=1,this.words[ie]|=ce>>>26):re+=8}this.strip()};function T(B,O,H,Y){for(var J=0,re=Math.min(B.length,H),ie=O;ie<re;ie++){var ce=B.charCodeAt(ie)-48;J*=Y,ce>=49?J+=ce-49+10:ce>=17?J+=ce-17+10:J+=ce}return J}f.prototype._parseBase=function(O,H,Y){this.words=[0],this.length=1;for(var J=0,re=1;re<=67108863;re*=H)J++;J--,re=re/H|0;for(var ie=O.length-Y,ce=ie%J,Q=Math.min(ie,ie-ce)+Y,j=0,Z=Y;Z<Q;Z+=J)j=T(O,Z,Z+J,H),this.imuln(re),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j);if(ce!==0){var $=1;for(j=T(O,Z,O.length,H),Z=0;Z<ce;Z++)$*=H;this.imuln($),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j)}this.strip()},f.prototype.copy=function(O){O.words=new Array(this.length);for(var H=0;H<this.length;H++)O.words[H]=this.words[H];O.length=this.length,O.negative=this.negative,O.red=this.red},f.prototype.clone=function(){var O=new f(null);return this.copy(O),O},f.prototype._expand=function(O){for(;this.length<O;)this.words[this.length++]=0;return this},f.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},f.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},f.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];f.prototype.toString=function(O,H){O=O||10,H=H|0||1;var Y;if(O===16||O==="hex"){Y="";for(var J=0,re=0,ie=0;ie<this.length;ie++){var ce=this.words[ie],Q=((ce<<J|re)&16777215).toString(16);re=ce>>>24-J&16777215,re!==0||ie!==this.length-1?Y=h[6-Q.length]+Q+Y:Y=Q+Y,J+=2,J>=26&&(J-=26,ie--)}for(re!==0&&(Y=re.toString(16)+Y);Y.length%H!==0;)Y="0"+Y;return this.negative!==0&&(Y="-"+Y),Y}if(O===(O|0)&&O>=2&&O<=36){var j=l[O],Z=d[O];Y="";var $=this.clone();for($.negative=0;!$.isZero();){var te=$.modn(Z).toString(O);$=$.idivn(Z),$.isZero()?Y=te+Y:Y=h[j-te.length]+te+Y}for(this.isZero()&&(Y="0"+Y);Y.length%H!==0;)Y="0"+Y;return this.negative!==0&&(Y="-"+Y),Y}n(!1,"Base should be between 2 and 36")},f.prototype.toNumber=function(){var O=this.words[0];return this.length===2?O+=this.words[1]*67108864:this.length===3&&this.words[2]===1?O+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-O:O},f.prototype.toJSON=function(){return this.toString(16)},f.prototype.toBuffer=function(O,H){return n(typeof u<"u"),this.toArrayLike(u,O,H)},f.prototype.toArray=function(O,H){return this.toArrayLike(Array,O,H)},f.prototype.toArrayLike=function(O,H,Y){var J=this.byteLength(),re=Y||Math.max(1,J);n(J<=re,"byte array longer than desired length"),n(re>0,"Requested array length <= 0"),this.strip();var ie=H==="le",ce=new O(re),Q,j,Z=this.clone();if(ie){for(j=0;!Z.isZero();j++)Q=Z.andln(255),Z.iushrn(8),ce[j]=Q;for(;j<re;j++)ce[j]=0}else{for(j=0;j<re-J;j++)ce[j]=0;for(j=0;!Z.isZero();j++)Q=Z.andln(255),Z.iushrn(8),ce[re-j-1]=Q}return ce},Math.clz32?f.prototype._countBits=function(O){return 32-Math.clz32(O)}:f.prototype._countBits=function(O){var H=O,Y=0;return H>=4096&&(Y+=13,H>>>=13),H>=64&&(Y+=7,H>>>=7),H>=8&&(Y+=4,H>>>=4),H>=2&&(Y+=2,H>>>=2),Y+H},f.prototype._zeroBits=function(O){if(O===0)return 26;var H=O,Y=0;return H&8191||(Y+=13,H>>>=13),H&127||(Y+=7,H>>>=7),H&15||(Y+=4,H>>>=4),H&3||(Y+=2,H>>>=2),H&1||Y++,Y},f.prototype.bitLength=function(){var O=this.words[this.length-1],H=this._countBits(O);return(this.length-1)*26+H};function E(B){for(var O=new Array(B.bitLength()),H=0;H<O.length;H++){var Y=H/26|0,J=H%26;O[H]=(B.words[Y]&1<<J)>>>J}return O}f.prototype.zeroBits=function(){if(this.isZero())return 0;for(var O=0,H=0;H<this.length;H++){var Y=this._zeroBits(this.words[H]);if(O+=Y,Y!==26)break}return O},f.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},f.prototype.toTwos=function(O){return this.negative!==0?this.abs().inotn(O).iaddn(1):this.clone()},f.prototype.fromTwos=function(O){return this.testn(O-1)?this.notn(O).iaddn(1).ineg():this.clone()},f.prototype.isNeg=function(){return this.negative!==0},f.prototype.neg=function(){return this.clone().ineg()},f.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},f.prototype.iuor=function(O){for(;this.length<O.length;)this.words[this.length++]=0;for(var H=0;H<O.length;H++)this.words[H]=this.words[H]|O.words[H];return this.strip()},f.prototype.ior=function(O){return n((this.negative|O.negative)===0),this.iuor(O)},f.prototype.or=function(O){return this.length>O.length?this.clone().ior(O):O.clone().ior(this)},f.prototype.uor=function(O){return this.length>O.length?this.clone().iuor(O):O.clone().iuor(this)},f.prototype.iuand=function(O){var H;this.length>O.length?H=O:H=this;for(var Y=0;Y<H.length;Y++)this.words[Y]=this.words[Y]&O.words[Y];return this.length=H.length,this.strip()},f.prototype.iand=function(O){return n((this.negative|O.negative)===0),this.iuand(O)},f.prototype.and=function(O){return this.length>O.length?this.clone().iand(O):O.clone().iand(this)},f.prototype.uand=function(O){return this.length>O.length?this.clone().iuand(O):O.clone().iuand(this)},f.prototype.iuxor=function(O){var H,Y;this.length>O.length?(H=this,Y=O):(H=O,Y=this);for(var J=0;J<Y.length;J++)this.words[J]=H.words[J]^Y.words[J];if(this!==H)for(;J<H.length;J++)this.words[J]=H.words[J];return this.length=H.length,this.strip()},f.prototype.ixor=function(O){return n((this.negative|O.negative)===0),this.iuxor(O)},f.prototype.xor=function(O){return this.length>O.length?this.clone().ixor(O):O.clone().ixor(this)},f.prototype.uxor=function(O){return this.length>O.length?this.clone().iuxor(O):O.clone().iuxor(this)},f.prototype.inotn=function(O){n(typeof O=="number"&&O>=0);var H=Math.ceil(O/26)|0,Y=O%26;this._expand(H),Y>0&&H--;for(var J=0;J<H;J++)this.words[J]=~this.words[J]&67108863;return Y>0&&(this.words[J]=~this.words[J]&67108863>>26-Y),this.strip()},f.prototype.notn=function(O){return this.clone().inotn(O)},f.prototype.setn=function(O,H){n(typeof O=="number"&&O>=0);var Y=O/26|0,J=O%26;return this._expand(Y+1),H?this.words[Y]=this.words[Y]|1<<J:this.words[Y]=this.words[Y]&~(1<<J),this.strip()},f.prototype.iadd=function(O){var H;if(this.negative!==0&&O.negative===0)return this.negative=0,H=this.isub(O),this.negative^=1,this._normSign();if(this.negative===0&&O.negative!==0)return O.negative=0,H=this.isub(O),O.negative=1,H._normSign();var Y,J;this.length>O.length?(Y=this,J=O):(Y=O,J=this);for(var re=0,ie=0;ie<J.length;ie++)H=(Y.words[ie]|0)+(J.words[ie]|0)+re,this.words[ie]=H&67108863,re=H>>>26;for(;re!==0&&ie<Y.length;ie++)H=(Y.words[ie]|0)+re,this.words[ie]=H&67108863,re=H>>>26;if(this.length=Y.length,re!==0)this.words[this.length]=re,this.length++;else if(Y!==this)for(;ie<Y.length;ie++)this.words[ie]=Y.words[ie];return this},f.prototype.add=function(O){var H;return O.negative!==0&&this.negative===0?(O.negative=0,H=this.sub(O),O.negative^=1,H):O.negative===0&&this.negative!==0?(this.negative=0,H=O.sub(this),this.negative=1,H):this.length>O.length?this.clone().iadd(O):O.clone().iadd(this)},f.prototype.isub=function(O){if(O.negative!==0){O.negative=0;var H=this.iadd(O);return O.negative=1,H._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(O),this.negative=1,this._normSign();var Y=this.cmp(O);if(Y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var J,re;Y>0?(J=this,re=O):(J=O,re=this);for(var ie=0,ce=0;ce<re.length;ce++)H=(J.words[ce]|0)-(re.words[ce]|0)+ie,ie=H>>26,this.words[ce]=H&67108863;for(;ie!==0&&ce<J.length;ce++)H=(J.words[ce]|0)+ie,ie=H>>26,this.words[ce]=H&67108863;if(ie===0&&ce<J.length&&J!==this)for(;ce<J.length;ce++)this.words[ce]=J.words[ce];return this.length=Math.max(this.length,ce),J!==this&&(this.negative=1),this.strip()},f.prototype.sub=function(O){return this.clone().isub(O)};function S(B,O,H){H.negative=O.negative^B.negative;var Y=B.length+O.length|0;H.length=Y,Y=Y-1|0;var J=B.words[0]|0,re=O.words[0]|0,ie=J*re,ce=ie&67108863,Q=ie/67108864|0;H.words[0]=ce;for(var j=1;j<Y;j++){for(var Z=Q>>>26,$=Q&67108863,te=Math.min(j,O.length-1),se=Math.max(0,j-B.length+1);se<=te;se++){var ee=j-se|0;J=B.words[ee]|0,re=O.words[se]|0,ie=J*re+$,Z+=ie/67108864|0,$=ie&67108863}H.words[j]=$|0,Q=Z|0}return Q!==0?H.words[j]=Q|0:H.length--,H.strip()}var P=function(O,H,Y){var J=O.words,re=H.words,ie=Y.words,ce=0,Q,j,Z,$=J[0]|0,te=$&8191,se=$>>>13,ee=J[1]|0,q=ee&8191,le=ee>>>13,oe=J[2]|0,he=oe&8191,me=oe>>>13,Ce=J[3]|0,Ae=Ce&8191,Ue=Ce>>>13,Ve=J[4]|0,Pe=Ve&8191,be=Ve>>>13,Le=J[5]|0,We=Le&8191,je=Le>>>13,Fe=J[6]|0,Ze=Fe&8191,ut=Fe>>>13,at=J[7]|0,it=at&8191,$e=at>>>13,st=J[8]|0,ct=st&8191,vt=st>>>13,St=J[9]|0,Mt=St&8191,Bt=St>>>13,Qe=re[0]|0,ke=Qe&8191,ze=Qe>>>13,Be=re[1]|0,Re=Be&8191,we=Be>>>13,ye=re[2]|0,Se=ye&8191,Me=ye>>>13,He=re[3]|0,qe=He&8191,rt=He>>>13,pt=re[4]|0,At=pt&8191,jt=pt>>>13,tr=re[5]|0,Ct=tr&8191,Nt=tr>>>13,Kt=re[6]|0,wr=Kt&8191,yt=Kt>>>13,$t=re[7]|0,er=$t&8191,mr=$t>>>13,vr=re[8]|0,bt=vr&8191,ht=vr>>>13,Tt=re[9]|0,Pt=Tt&8191,zt=Tt>>>13;Y.negative=O.negative^H.negative,Y.length=19,Q=Math.imul(te,ke),j=Math.imul(te,ze),j=j+Math.imul(se,ke)|0,Z=Math.imul(se,ze);var Dt=(ce+Q|0)+((j&8191)<<13)|0;ce=(Z+(j>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,Q=Math.imul(q,ke),j=Math.imul(q,ze),j=j+Math.imul(le,ke)|0,Z=Math.imul(le,ze),Q=Q+Math.imul(te,Re)|0,j=j+Math.imul(te,we)|0,j=j+Math.imul(se,Re)|0,Z=Z+Math.imul(se,we)|0;var Vt=(ce+Q|0)+((j&8191)<<13)|0;ce=(Z+(j>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,Q=Math.imul(he,ke),j=Math.imul(he,ze),j=j+Math.imul(me,ke)|0,Z=Math.imul(me,ze),Q=Q+Math.imul(q,Re)|0,j=j+Math.imul(q,we)|0,j=j+Math.imul(le,Re)|0,Z=Z+Math.imul(le,we)|0,Q=Q+Math.imul(te,Se)|0,j=j+Math.imul(te,Me)|0,j=j+Math.imul(se,Se)|0,Z=Z+Math.imul(se,Me)|0;var Ut=(ce+Q|0)+((j&8191)<<13)|0;ce=(Z+(j>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,Q=Math.imul(Ae,ke),j=Math.imul(Ae,ze),j=j+Math.imul(Ue,ke)|0,Z=Math.imul(Ue,ze),Q=Q+Math.imul(he,Re)|0,j=j+Math.imul(he,we)|0,j=j+Math.imul(me,Re)|0,Z=Z+Math.imul(me,we)|0,Q=Q+Math.imul(q,Se)|0,j=j+Math.imul(q,Me)|0,j=j+Math.imul(le,Se)|0,Z=Z+Math.imul(le,Me)|0,Q=Q+Math.imul(te,qe)|0,j=j+Math.imul(te,rt)|0,j=j+Math.imul(se,qe)|0,Z=Z+Math.imul(se,rt)|0;var Qt=(ce+Q|0)+((j&8191)<<13)|0;ce=(Z+(j>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,Q=Math.imul(Pe,ke),j=Math.imul(Pe,ze),j=j+Math.imul(be,ke)|0,Z=Math.imul(be,ze),Q=Q+Math.imul(Ae,Re)|0,j=j+Math.imul(Ae,we)|0,j=j+Math.imul(Ue,Re)|0,Z=Z+Math.imul(Ue,we)|0,Q=Q+Math.imul(he,Se)|0,j=j+Math.imul(he,Me)|0,j=j+Math.imul(me,Se)|0,Z=Z+Math.imul(me,Me)|0,Q=Q+Math.imul(q,qe)|0,j=j+Math.imul(q,rt)|0,j=j+Math.imul(le,qe)|0,Z=Z+Math.imul(le,rt)|0,Q=Q+Math.imul(te,At)|0,j=j+Math.imul(te,jt)|0,j=j+Math.imul(se,At)|0,Z=Z+Math.imul(se,jt)|0;var hr=(ce+Q|0)+((j&8191)<<13)|0;ce=(Z+(j>>>13)|0)+(hr>>>26)|0,hr&=67108863,Q=Math.imul(We,ke),j=Math.imul(We,ze),j=j+Math.imul(je,ke)|0,Z=Math.imul(je,ze),Q=Q+Math.imul(Pe,Re)|0,j=j+Math.imul(Pe,we)|0,j=j+Math.imul(be,Re)|0,Z=Z+Math.imul(be,we)|0,Q=Q+Math.imul(Ae,Se)|0,j=j+Math.imul(Ae,Me)|0,j=j+Math.imul(Ue,Se)|0,Z=Z+Math.imul(Ue,Me)|0,Q=Q+Math.imul(he,qe)|0,j=j+Math.imul(he,rt)|0,j=j+Math.imul(me,qe)|0,Z=Z+Math.imul(me,rt)|0,Q=Q+Math.imul(q,At)|0,j=j+Math.imul(q,jt)|0,j=j+Math.imul(le,At)|0,Z=Z+Math.imul(le,jt)|0,Q=Q+Math.imul(te,Ct)|0,j=j+Math.imul(te,Nt)|0,j=j+Math.imul(se,Ct)|0,Z=Z+Math.imul(se,Nt)|0;var cr=(ce+Q|0)+((j&8191)<<13)|0;ce=(Z+(j>>>13)|0)+(cr>>>26)|0,cr&=67108863,Q=Math.imul(Ze,ke),j=Math.imul(Ze,ze),j=j+Math.imul(ut,ke)|0,Z=Math.imul(ut,ze),Q=Q+Math.imul(We,Re)|0,j=j+Math.imul(We,we)|0,j=j+Math.imul(je,Re)|0,Z=Z+Math.imul(je,we)|0,Q=Q+Math.imul(Pe,Se)|0,j=j+Math.imul(Pe,Me)|0,j=j+Math.imul(be,Se)|0,Z=Z+Math.imul(be,Me)|0,Q=Q+Math.imul(Ae,qe)|0,j=j+Math.imul(Ae,rt)|0,j=j+Math.imul(Ue,qe)|0,Z=Z+Math.imul(Ue,rt)|0,Q=Q+Math.imul(he,At)|0,j=j+Math.imul(he,jt)|0,j=j+Math.imul(me,At)|0,Z=Z+Math.imul(me,jt)|0,Q=Q+Math.imul(q,Ct)|0,j=j+Math.imul(q,Nt)|0,j=j+Math.imul(le,Ct)|0,Z=Z+Math.imul(le,Nt)|0,Q=Q+Math.imul(te,wr)|0,j=j+Math.imul(te,yt)|0,j=j+Math.imul(se,wr)|0,Z=Z+Math.imul(se,yt)|0;var lr=(ce+Q|0)+((j&8191)<<13)|0;ce=(Z+(j>>>13)|0)+(lr>>>26)|0,lr&=67108863,Q=Math.imul(it,ke),j=Math.imul(it,ze),j=j+Math.imul($e,ke)|0,Z=Math.imul($e,ze),Q=Q+Math.imul(Ze,Re)|0,j=j+Math.imul(Ze,we)|0,j=j+Math.imul(ut,Re)|0,Z=Z+Math.imul(ut,we)|0,Q=Q+Math.imul(We,Se)|0,j=j+Math.imul(We,Me)|0,j=j+Math.imul(je,Se)|0,Z=Z+Math.imul(je,Me)|0,Q=Q+Math.imul(Pe,qe)|0,j=j+Math.imul(Pe,rt)|0,j=j+Math.imul(be,qe)|0,Z=Z+Math.imul(be,rt)|0,Q=Q+Math.imul(Ae,At)|0,j=j+Math.imul(Ae,jt)|0,j=j+Math.imul(Ue,At)|0,Z=Z+Math.imul(Ue,jt)|0,Q=Q+Math.imul(he,Ct)|0,j=j+Math.imul(he,Nt)|0,j=j+Math.imul(me,Ct)|0,Z=Z+Math.imul(me,Nt)|0,Q=Q+Math.imul(q,wr)|0,j=j+Math.imul(q,yt)|0,j=j+Math.imul(le,wr)|0,Z=Z+Math.imul(le,yt)|0,Q=Q+Math.imul(te,er)|0,j=j+Math.imul(te,mr)|0,j=j+Math.imul(se,er)|0,Z=Z+Math.imul(se,mr)|0;var Xe=(ce+Q|0)+((j&8191)<<13)|0;ce=(Z+(j>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,Q=Math.imul(ct,ke),j=Math.imul(ct,ze),j=j+Math.imul(vt,ke)|0,Z=Math.imul(vt,ze),Q=Q+Math.imul(it,Re)|0,j=j+Math.imul(it,we)|0,j=j+Math.imul($e,Re)|0,Z=Z+Math.imul($e,we)|0,Q=Q+Math.imul(Ze,Se)|0,j=j+Math.imul(Ze,Me)|0,j=j+Math.imul(ut,Se)|0,Z=Z+Math.imul(ut,Me)|0,Q=Q+Math.imul(We,qe)|0,j=j+Math.imul(We,rt)|0,j=j+Math.imul(je,qe)|0,Z=Z+Math.imul(je,rt)|0,Q=Q+Math.imul(Pe,At)|0,j=j+Math.imul(Pe,jt)|0,j=j+Math.imul(be,At)|0,Z=Z+Math.imul(be,jt)|0,Q=Q+Math.imul(Ae,Ct)|0,j=j+Math.imul(Ae,Nt)|0,j=j+Math.imul(Ue,Ct)|0,Z=Z+Math.imul(Ue,Nt)|0,Q=Q+Math.imul(he,wr)|0,j=j+Math.imul(he,yt)|0,j=j+Math.imul(me,wr)|0,Z=Z+Math.imul(me,yt)|0,Q=Q+Math.imul(q,er)|0,j=j+Math.imul(q,mr)|0,j=j+Math.imul(le,er)|0,Z=Z+Math.imul(le,mr)|0,Q=Q+Math.imul(te,bt)|0,j=j+Math.imul(te,ht)|0,j=j+Math.imul(se,bt)|0,Z=Z+Math.imul(se,ht)|0;var Ke=(ce+Q|0)+((j&8191)<<13)|0;ce=(Z+(j>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,Q=Math.imul(Mt,ke),j=Math.imul(Mt,ze),j=j+Math.imul(Bt,ke)|0,Z=Math.imul(Bt,ze),Q=Q+Math.imul(ct,Re)|0,j=j+Math.imul(ct,we)|0,j=j+Math.imul(vt,Re)|0,Z=Z+Math.imul(vt,we)|0,Q=Q+Math.imul(it,Se)|0,j=j+Math.imul(it,Me)|0,j=j+Math.imul($e,Se)|0,Z=Z+Math.imul($e,Me)|0,Q=Q+Math.imul(Ze,qe)|0,j=j+Math.imul(Ze,rt)|0,j=j+Math.imul(ut,qe)|0,Z=Z+Math.imul(ut,rt)|0,Q=Q+Math.imul(We,At)|0,j=j+Math.imul(We,jt)|0,j=j+Math.imul(je,At)|0,Z=Z+Math.imul(je,jt)|0,Q=Q+Math.imul(Pe,Ct)|0,j=j+Math.imul(Pe,Nt)|0,j=j+Math.imul(be,Ct)|0,Z=Z+Math.imul(be,Nt)|0,Q=Q+Math.imul(Ae,wr)|0,j=j+Math.imul(Ae,yt)|0,j=j+Math.imul(Ue,wr)|0,Z=Z+Math.imul(Ue,yt)|0,Q=Q+Math.imul(he,er)|0,j=j+Math.imul(he,mr)|0,j=j+Math.imul(me,er)|0,Z=Z+Math.imul(me,mr)|0,Q=Q+Math.imul(q,bt)|0,j=j+Math.imul(q,ht)|0,j=j+Math.imul(le,bt)|0,Z=Z+Math.imul(le,ht)|0,Q=Q+Math.imul(te,Pt)|0,j=j+Math.imul(te,zt)|0,j=j+Math.imul(se,Pt)|0,Z=Z+Math.imul(se,zt)|0;var Ot=(ce+Q|0)+((j&8191)<<13)|0;ce=(Z+(j>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,Q=Math.imul(Mt,Re),j=Math.imul(Mt,we),j=j+Math.imul(Bt,Re)|0,Z=Math.imul(Bt,we),Q=Q+Math.imul(ct,Se)|0,j=j+Math.imul(ct,Me)|0,j=j+Math.imul(vt,Se)|0,Z=Z+Math.imul(vt,Me)|0,Q=Q+Math.imul(it,qe)|0,j=j+Math.imul(it,rt)|0,j=j+Math.imul($e,qe)|0,Z=Z+Math.imul($e,rt)|0,Q=Q+Math.imul(Ze,At)|0,j=j+Math.imul(Ze,jt)|0,j=j+Math.imul(ut,At)|0,Z=Z+Math.imul(ut,jt)|0,Q=Q+Math.imul(We,Ct)|0,j=j+Math.imul(We,Nt)|0,j=j+Math.imul(je,Ct)|0,Z=Z+Math.imul(je,Nt)|0,Q=Q+Math.imul(Pe,wr)|0,j=j+Math.imul(Pe,yt)|0,j=j+Math.imul(be,wr)|0,Z=Z+Math.imul(be,yt)|0,Q=Q+Math.imul(Ae,er)|0,j=j+Math.imul(Ae,mr)|0,j=j+Math.imul(Ue,er)|0,Z=Z+Math.imul(Ue,mr)|0,Q=Q+Math.imul(he,bt)|0,j=j+Math.imul(he,ht)|0,j=j+Math.imul(me,bt)|0,Z=Z+Math.imul(me,ht)|0,Q=Q+Math.imul(q,Pt)|0,j=j+Math.imul(q,zt)|0,j=j+Math.imul(le,Pt)|0,Z=Z+Math.imul(le,zt)|0;var Lt=(ce+Q|0)+((j&8191)<<13)|0;ce=(Z+(j>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,Q=Math.imul(Mt,Se),j=Math.imul(Mt,Me),j=j+Math.imul(Bt,Se)|0,Z=Math.imul(Bt,Me),Q=Q+Math.imul(ct,qe)|0,j=j+Math.imul(ct,rt)|0,j=j+Math.imul(vt,qe)|0,Z=Z+Math.imul(vt,rt)|0,Q=Q+Math.imul(it,At)|0,j=j+Math.imul(it,jt)|0,j=j+Math.imul($e,At)|0,Z=Z+Math.imul($e,jt)|0,Q=Q+Math.imul(Ze,Ct)|0,j=j+Math.imul(Ze,Nt)|0,j=j+Math.imul(ut,Ct)|0,Z=Z+Math.imul(ut,Nt)|0,Q=Q+Math.imul(We,wr)|0,j=j+Math.imul(We,yt)|0,j=j+Math.imul(je,wr)|0,Z=Z+Math.imul(je,yt)|0,Q=Q+Math.imul(Pe,er)|0,j=j+Math.imul(Pe,mr)|0,j=j+Math.imul(be,er)|0,Z=Z+Math.imul(be,mr)|0,Q=Q+Math.imul(Ae,bt)|0,j=j+Math.imul(Ae,ht)|0,j=j+Math.imul(Ue,bt)|0,Z=Z+Math.imul(Ue,ht)|0,Q=Q+Math.imul(he,Pt)|0,j=j+Math.imul(he,zt)|0,j=j+Math.imul(me,Pt)|0,Z=Z+Math.imul(me,zt)|0;var Xt=(ce+Q|0)+((j&8191)<<13)|0;ce=(Z+(j>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,Q=Math.imul(Mt,qe),j=Math.imul(Mt,rt),j=j+Math.imul(Bt,qe)|0,Z=Math.imul(Bt,rt),Q=Q+Math.imul(ct,At)|0,j=j+Math.imul(ct,jt)|0,j=j+Math.imul(vt,At)|0,Z=Z+Math.imul(vt,jt)|0,Q=Q+Math.imul(it,Ct)|0,j=j+Math.imul(it,Nt)|0,j=j+Math.imul($e,Ct)|0,Z=Z+Math.imul($e,Nt)|0,Q=Q+Math.imul(Ze,wr)|0,j=j+Math.imul(Ze,yt)|0,j=j+Math.imul(ut,wr)|0,Z=Z+Math.imul(ut,yt)|0,Q=Q+Math.imul(We,er)|0,j=j+Math.imul(We,mr)|0,j=j+Math.imul(je,er)|0,Z=Z+Math.imul(je,mr)|0,Q=Q+Math.imul(Pe,bt)|0,j=j+Math.imul(Pe,ht)|0,j=j+Math.imul(be,bt)|0,Z=Z+Math.imul(be,ht)|0,Q=Q+Math.imul(Ae,Pt)|0,j=j+Math.imul(Ae,zt)|0,j=j+Math.imul(Ue,Pt)|0,Z=Z+Math.imul(Ue,zt)|0;var rr=(ce+Q|0)+((j&8191)<<13)|0;ce=(Z+(j>>>13)|0)+(rr>>>26)|0,rr&=67108863,Q=Math.imul(Mt,At),j=Math.imul(Mt,jt),j=j+Math.imul(Bt,At)|0,Z=Math.imul(Bt,jt),Q=Q+Math.imul(ct,Ct)|0,j=j+Math.imul(ct,Nt)|0,j=j+Math.imul(vt,Ct)|0,Z=Z+Math.imul(vt,Nt)|0,Q=Q+Math.imul(it,wr)|0,j=j+Math.imul(it,yt)|0,j=j+Math.imul($e,wr)|0,Z=Z+Math.imul($e,yt)|0,Q=Q+Math.imul(Ze,er)|0,j=j+Math.imul(Ze,mr)|0,j=j+Math.imul(ut,er)|0,Z=Z+Math.imul(ut,mr)|0,Q=Q+Math.imul(We,bt)|0,j=j+Math.imul(We,ht)|0,j=j+Math.imul(je,bt)|0,Z=Z+Math.imul(je,ht)|0,Q=Q+Math.imul(Pe,Pt)|0,j=j+Math.imul(Pe,zt)|0,j=j+Math.imul(be,Pt)|0,Z=Z+Math.imul(be,zt)|0;var ur=(ce+Q|0)+((j&8191)<<13)|0;ce=(Z+(j>>>13)|0)+(ur>>>26)|0,ur&=67108863,Q=Math.imul(Mt,Ct),j=Math.imul(Mt,Nt),j=j+Math.imul(Bt,Ct)|0,Z=Math.imul(Bt,Nt),Q=Q+Math.imul(ct,wr)|0,j=j+Math.imul(ct,yt)|0,j=j+Math.imul(vt,wr)|0,Z=Z+Math.imul(vt,yt)|0,Q=Q+Math.imul(it,er)|0,j=j+Math.imul(it,mr)|0,j=j+Math.imul($e,er)|0,Z=Z+Math.imul($e,mr)|0,Q=Q+Math.imul(Ze,bt)|0,j=j+Math.imul(Ze,ht)|0,j=j+Math.imul(ut,bt)|0,Z=Z+Math.imul(ut,ht)|0,Q=Q+Math.imul(We,Pt)|0,j=j+Math.imul(We,zt)|0,j=j+Math.imul(je,Pt)|0,Z=Z+Math.imul(je,zt)|0;var or=(ce+Q|0)+((j&8191)<<13)|0;ce=(Z+(j>>>13)|0)+(or>>>26)|0,or&=67108863,Q=Math.imul(Mt,wr),j=Math.imul(Mt,yt),j=j+Math.imul(Bt,wr)|0,Z=Math.imul(Bt,yt),Q=Q+Math.imul(ct,er)|0,j=j+Math.imul(ct,mr)|0,j=j+Math.imul(vt,er)|0,Z=Z+Math.imul(vt,mr)|0,Q=Q+Math.imul(it,bt)|0,j=j+Math.imul(it,ht)|0,j=j+Math.imul($e,bt)|0,Z=Z+Math.imul($e,ht)|0,Q=Q+Math.imul(Ze,Pt)|0,j=j+Math.imul(Ze,zt)|0,j=j+Math.imul(ut,Pt)|0,Z=Z+Math.imul(ut,zt)|0;var Ht=(ce+Q|0)+((j&8191)<<13)|0;ce=(Z+(j>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,Q=Math.imul(Mt,er),j=Math.imul(Mt,mr),j=j+Math.imul(Bt,er)|0,Z=Math.imul(Bt,mr),Q=Q+Math.imul(ct,bt)|0,j=j+Math.imul(ct,ht)|0,j=j+Math.imul(vt,bt)|0,Z=Z+Math.imul(vt,ht)|0,Q=Q+Math.imul(it,Pt)|0,j=j+Math.imul(it,zt)|0,j=j+Math.imul($e,Pt)|0,Z=Z+Math.imul($e,zt)|0;var gr=(ce+Q|0)+((j&8191)<<13)|0;ce=(Z+(j>>>13)|0)+(gr>>>26)|0,gr&=67108863,Q=Math.imul(Mt,bt),j=Math.imul(Mt,ht),j=j+Math.imul(Bt,bt)|0,Z=Math.imul(Bt,ht),Q=Q+Math.imul(ct,Pt)|0,j=j+Math.imul(ct,zt)|0,j=j+Math.imul(vt,Pt)|0,Z=Z+Math.imul(vt,zt)|0;var br=(ce+Q|0)+((j&8191)<<13)|0;ce=(Z+(j>>>13)|0)+(br>>>26)|0,br&=67108863,Q=Math.imul(Mt,Pt),j=Math.imul(Mt,zt),j=j+Math.imul(Bt,Pt)|0,Z=Math.imul(Bt,zt);var xr=(ce+Q|0)+((j&8191)<<13)|0;return ce=(Z+(j>>>13)|0)+(xr>>>26)|0,xr&=67108863,ie[0]=Dt,ie[1]=Vt,ie[2]=Ut,ie[3]=Qt,ie[4]=hr,ie[5]=cr,ie[6]=lr,ie[7]=Xe,ie[8]=Ke,ie[9]=Ot,ie[10]=Lt,ie[11]=Xt,ie[12]=rr,ie[13]=ur,ie[14]=or,ie[15]=Ht,ie[16]=gr,ie[17]=br,ie[18]=xr,ce!==0&&(ie[19]=ce,Y.length++),Y};Math.imul||(P=S);function x(B,O,H){H.negative=O.negative^B.negative,H.length=B.length+O.length;for(var Y=0,J=0,re=0;re<H.length-1;re++){var ie=J;J=0;for(var ce=Y&67108863,Q=Math.min(re,O.length-1),j=Math.max(0,re-B.length+1);j<=Q;j++){var Z=re-j,$=B.words[Z]|0,te=O.words[j]|0,se=$*te,ee=se&67108863;ie=ie+(se/67108864|0)|0,ee=ee+ce|0,ce=ee&67108863,ie=ie+(ee>>>26)|0,J+=ie>>>26,ie&=67108863}H.words[re]=ce,Y=ie,ie=J}return Y!==0?H.words[re]=Y:H.length--,H.strip()}function M(B,O,H){var Y=new w;return Y.mulp(B,O,H)}f.prototype.mulTo=function(O,H){var Y,J=this.length+O.length;return this.length===10&&O.length===10?Y=P(this,O,H):J<63?Y=S(this,O,H):J<1024?Y=x(this,O,H):Y=M(this,O,H),Y};function w(B,O){this.x=B,this.y=O}w.prototype.makeRBT=function(O){for(var H=new Array(O),Y=f.prototype._countBits(O)-1,J=0;J<O;J++)H[J]=this.revBin(J,Y,O);return H},w.prototype.revBin=function(O,H,Y){if(O===0||O===Y-1)return O;for(var J=0,re=0;re<H;re++)J|=(O&1)<<H-re-1,O>>=1;return J},w.prototype.permute=function(O,H,Y,J,re,ie){for(var ce=0;ce<ie;ce++)J[ce]=H[O[ce]],re[ce]=Y[O[ce]]},w.prototype.transform=function(O,H,Y,J,re,ie){this.permute(ie,O,H,Y,J,re);for(var ce=1;ce<re;ce<<=1)for(var Q=ce<<1,j=Math.cos(2*Math.PI/Q),Z=Math.sin(2*Math.PI/Q),$=0;$<re;$+=Q)for(var te=j,se=Z,ee=0;ee<ce;ee++){var q=Y[$+ee],le=J[$+ee],oe=Y[$+ee+ce],he=J[$+ee+ce],me=te*oe-se*he;he=te*he+se*oe,oe=me,Y[$+ee]=q+oe,J[$+ee]=le+he,Y[$+ee+ce]=q-oe,J[$+ee+ce]=le-he,ee!==Q&&(me=j*te-Z*se,se=j*se+Z*te,te=me)}},w.prototype.guessLen13b=function(O,H){var Y=Math.max(H,O)|1,J=Y&1,re=0;for(Y=Y/2|0;Y;Y=Y>>>1)re++;return 1<<re+1+J},w.prototype.conjugate=function(O,H,Y){if(!(Y<=1))for(var J=0;J<Y/2;J++){var re=O[J];O[J]=O[Y-J-1],O[Y-J-1]=re,re=H[J],H[J]=-H[Y-J-1],H[Y-J-1]=-re}},w.prototype.normalize13b=function(O,H){for(var Y=0,J=0;J<H/2;J++){var re=Math.round(O[2*J+1]/H)*8192+Math.round(O[2*J]/H)+Y;O[J]=re&67108863,re<67108864?Y=0:Y=re/67108864|0}return O},w.prototype.convert13b=function(O,H,Y,J){for(var re=0,ie=0;ie<H;ie++)re=re+(O[ie]|0),Y[2*ie]=re&8191,re=re>>>13,Y[2*ie+1]=re&8191,re=re>>>13;for(ie=2*H;ie<J;++ie)Y[ie]=0;n(re===0),n((re&-8192)===0)},w.prototype.stub=function(O){for(var H=new Array(O),Y=0;Y<O;Y++)H[Y]=0;return H},w.prototype.mulp=function(O,H,Y){var J=2*this.guessLen13b(O.length,H.length),re=this.makeRBT(J),ie=this.stub(J),ce=new Array(J),Q=new Array(J),j=new Array(J),Z=new Array(J),$=new Array(J),te=new Array(J),se=Y.words;se.length=J,this.convert13b(O.words,O.length,ce,J),this.convert13b(H.words,H.length,Z,J),this.transform(ce,ie,Q,j,J,re),this.transform(Z,ie,$,te,J,re);for(var ee=0;ee<J;ee++){var q=Q[ee]*$[ee]-j[ee]*te[ee];j[ee]=Q[ee]*te[ee]+j[ee]*$[ee],Q[ee]=q}return this.conjugate(Q,j,J),this.transform(Q,j,se,ie,J,re),this.conjugate(se,ie,J),this.normalize13b(se,J),Y.negative=O.negative^H.negative,Y.length=O.length+H.length,Y.strip()},f.prototype.mul=function(O){var H=new f(null);return H.words=new Array(this.length+O.length),this.mulTo(O,H)},f.prototype.mulf=function(O){var H=new f(null);return H.words=new Array(this.length+O.length),M(this,O,H)},f.prototype.imul=function(O){return this.clone().mulTo(O,this)},f.prototype.imuln=function(O){n(typeof O=="number"),n(O<67108864);for(var H=0,Y=0;Y<this.length;Y++){var J=(this.words[Y]|0)*O,re=(J&67108863)+(H&67108863);H>>=26,H+=J/67108864|0,H+=re>>>26,this.words[Y]=re&67108863}return H!==0&&(this.words[Y]=H,this.length++),this},f.prototype.muln=function(O){return this.clone().imuln(O)},f.prototype.sqr=function(){return this.mul(this)},f.prototype.isqr=function(){return this.imul(this.clone())},f.prototype.pow=function(O){var H=E(O);if(H.length===0)return new f(1);for(var Y=this,J=0;J<H.length&&H[J]===0;J++,Y=Y.sqr());if(++J<H.length)for(var re=Y.sqr();J<H.length;J++,re=re.sqr())H[J]!==0&&(Y=Y.mul(re));return Y},f.prototype.iushln=function(O){n(typeof O=="number"&&O>=0);var H=O%26,Y=(O-H)/26,J=67108863>>>26-H<<26-H,re;if(H!==0){var ie=0;for(re=0;re<this.length;re++){var ce=this.words[re]&J,Q=(this.words[re]|0)-ce<<H;this.words[re]=Q|ie,ie=ce>>>26-H}ie&&(this.words[re]=ie,this.length++)}if(Y!==0){for(re=this.length-1;re>=0;re--)this.words[re+Y]=this.words[re];for(re=0;re<Y;re++)this.words[re]=0;this.length+=Y}return this.strip()},f.prototype.ishln=function(O){return n(this.negative===0),this.iushln(O)},f.prototype.iushrn=function(O,H,Y){n(typeof O=="number"&&O>=0);var J;H?J=(H-H%26)/26:J=0;var re=O%26,ie=Math.min((O-re)/26,this.length),ce=67108863^67108863>>>re<<re,Q=Y;if(J-=ie,J=Math.max(0,J),Q){for(var j=0;j<ie;j++)Q.words[j]=this.words[j];Q.length=ie}if(ie!==0)if(this.length>ie)for(this.length-=ie,j=0;j<this.length;j++)this.words[j]=this.words[j+ie];else this.words[0]=0,this.length=1;var Z=0;for(j=this.length-1;j>=0&&(Z!==0||j>=J);j--){var $=this.words[j]|0;this.words[j]=Z<<26-re|$>>>re,Z=$&ce}return Q&&Z!==0&&(Q.words[Q.length++]=Z),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},f.prototype.ishrn=function(O,H,Y){return n(this.negative===0),this.iushrn(O,H,Y)},f.prototype.shln=function(O){return this.clone().ishln(O)},f.prototype.ushln=function(O){return this.clone().iushln(O)},f.prototype.shrn=function(O){return this.clone().ishrn(O)},f.prototype.ushrn=function(O){return this.clone().iushrn(O)},f.prototype.testn=function(O){n(typeof O=="number"&&O>=0);var H=O%26,Y=(O-H)/26,J=1<<H;if(this.length<=Y)return!1;var re=this.words[Y];return!!(re&J)},f.prototype.imaskn=function(O){n(typeof O=="number"&&O>=0);var H=O%26,Y=(O-H)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=Y)return this;if(H!==0&&Y++,this.length=Math.min(Y,this.length),H!==0){var J=67108863^67108863>>>H<<H;this.words[this.length-1]&=J}return this.strip()},f.prototype.maskn=function(O){return this.clone().imaskn(O)},f.prototype.iaddn=function(O){return n(typeof O=="number"),n(O<67108864),O<0?this.isubn(-O):this.negative!==0?this.length===1&&(this.words[0]|0)<O?(this.words[0]=O-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(O),this.negative=1,this):this._iaddn(O)},f.prototype._iaddn=function(O){this.words[0]+=O;for(var H=0;H<this.length&&this.words[H]>=67108864;H++)this.words[H]-=67108864,H===this.length-1?this.words[H+1]=1:this.words[H+1]++;return this.length=Math.max(this.length,H+1),this},f.prototype.isubn=function(O){if(n(typeof O=="number"),n(O<67108864),O<0)return this.iaddn(-O);if(this.negative!==0)return this.negative=0,this.iaddn(O),this.negative=1,this;if(this.words[0]-=O,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var H=0;H<this.length&&this.words[H]<0;H++)this.words[H]+=67108864,this.words[H+1]-=1;return this.strip()},f.prototype.addn=function(O){return this.clone().iaddn(O)},f.prototype.subn=function(O){return this.clone().isubn(O)},f.prototype.iabs=function(){return this.negative=0,this},f.prototype.abs=function(){return this.clone().iabs()},f.prototype._ishlnsubmul=function(O,H,Y){var J=O.length+Y,re;this._expand(J);var ie,ce=0;for(re=0;re<O.length;re++){ie=(this.words[re+Y]|0)+ce;var Q=(O.words[re]|0)*H;ie-=Q&67108863,ce=(ie>>26)-(Q/67108864|0),this.words[re+Y]=ie&67108863}for(;re<this.length-Y;re++)ie=(this.words[re+Y]|0)+ce,ce=ie>>26,this.words[re+Y]=ie&67108863;if(ce===0)return this.strip();for(n(ce===-1),ce=0,re=0;re<this.length;re++)ie=-(this.words[re]|0)+ce,ce=ie>>26,this.words[re]=ie&67108863;return this.negative=1,this.strip()},f.prototype._wordDiv=function(O,H){var Y=this.length-O.length,J=this.clone(),re=O,ie=re.words[re.length-1]|0,ce=this._countBits(ie);Y=26-ce,Y!==0&&(re=re.ushln(Y),J.iushln(Y),ie=re.words[re.length-1]|0);var Q=J.length-re.length,j;if(H!=="mod"){j=new f(null),j.length=Q+1,j.words=new Array(j.length);for(var Z=0;Z<j.length;Z++)j.words[Z]=0}var $=J.clone()._ishlnsubmul(re,1,Q);$.negative===0&&(J=$,j&&(j.words[Q]=1));for(var te=Q-1;te>=0;te--){var se=(J.words[re.length+te]|0)*67108864+(J.words[re.length+te-1]|0);for(se=Math.min(se/ie|0,67108863),J._ishlnsubmul(re,se,te);J.negative!==0;)se--,J.negative=0,J._ishlnsubmul(re,1,te),J.isZero()||(J.negative^=1);j&&(j.words[te]=se)}return j&&j.strip(),J.strip(),H!=="div"&&Y!==0&&J.iushrn(Y),{div:j||null,mod:J}},f.prototype.divmod=function(O,H,Y){if(n(!O.isZero()),this.isZero())return{div:new f(0),mod:new f(0)};var J,re,ie;return this.negative!==0&&O.negative===0?(ie=this.neg().divmod(O,H),H!=="mod"&&(J=ie.div.neg()),H!=="div"&&(re=ie.mod.neg(),Y&&re.negative!==0&&re.iadd(O)),{div:J,mod:re}):this.negative===0&&O.negative!==0?(ie=this.divmod(O.neg(),H),H!=="mod"&&(J=ie.div.neg()),{div:J,mod:ie.mod}):this.negative&O.negative?(ie=this.neg().divmod(O.neg(),H),H!=="div"&&(re=ie.mod.neg(),Y&&re.negative!==0&&re.isub(O)),{div:ie.div,mod:re}):O.length>this.length||this.cmp(O)<0?{div:new f(0),mod:this}:O.length===1?H==="div"?{div:this.divn(O.words[0]),mod:null}:H==="mod"?{div:null,mod:new f(this.modn(O.words[0]))}:{div:this.divn(O.words[0]),mod:new f(this.modn(O.words[0]))}:this._wordDiv(O,H)},f.prototype.div=function(O){return this.divmod(O,"div",!1).div},f.prototype.mod=function(O){return this.divmod(O,"mod",!1).mod},f.prototype.umod=function(O){return this.divmod(O,"mod",!0).mod},f.prototype.divRound=function(O){var H=this.divmod(O);if(H.mod.isZero())return H.div;var Y=H.div.negative!==0?H.mod.isub(O):H.mod,J=O.ushrn(1),re=O.andln(1),ie=Y.cmp(J);return ie<0||re===1&&ie===0?H.div:H.div.negative!==0?H.div.isubn(1):H.div.iaddn(1)},f.prototype.modn=function(O){n(O<=67108863);for(var H=(1<<26)%O,Y=0,J=this.length-1;J>=0;J--)Y=(H*Y+(this.words[J]|0))%O;return Y},f.prototype.idivn=function(O){n(O<=67108863);for(var H=0,Y=this.length-1;Y>=0;Y--){var J=(this.words[Y]|0)+H*67108864;this.words[Y]=J/O|0,H=J%O}return this.strip()},f.prototype.divn=function(O){return this.clone().idivn(O)},f.prototype.egcd=function(O){n(O.negative===0),n(!O.isZero());var H=this,Y=O.clone();H.negative!==0?H=H.umod(O):H=H.clone();for(var J=new f(1),re=new f(0),ie=new f(0),ce=new f(1),Q=0;H.isEven()&&Y.isEven();)H.iushrn(1),Y.iushrn(1),++Q;for(var j=Y.clone(),Z=H.clone();!H.isZero();){for(var $=0,te=1;!(H.words[0]&te)&&$<26;++$,te<<=1);if($>0)for(H.iushrn($);$-- >0;)(J.isOdd()||re.isOdd())&&(J.iadd(j),re.isub(Z)),J.iushrn(1),re.iushrn(1);for(var se=0,ee=1;!(Y.words[0]&ee)&&se<26;++se,ee<<=1);if(se>0)for(Y.iushrn(se);se-- >0;)(ie.isOdd()||ce.isOdd())&&(ie.iadd(j),ce.isub(Z)),ie.iushrn(1),ce.iushrn(1);H.cmp(Y)>=0?(H.isub(Y),J.isub(ie),re.isub(ce)):(Y.isub(H),ie.isub(J),ce.isub(re))}return{a:ie,b:ce,gcd:Y.iushln(Q)}},f.prototype._invmp=function(O){n(O.negative===0),n(!O.isZero());var H=this,Y=O.clone();H.negative!==0?H=H.umod(O):H=H.clone();for(var J=new f(1),re=new f(0),ie=Y.clone();H.cmpn(1)>0&&Y.cmpn(1)>0;){for(var ce=0,Q=1;!(H.words[0]&Q)&&ce<26;++ce,Q<<=1);if(ce>0)for(H.iushrn(ce);ce-- >0;)J.isOdd()&&J.iadd(ie),J.iushrn(1);for(var j=0,Z=1;!(Y.words[0]&Z)&&j<26;++j,Z<<=1);if(j>0)for(Y.iushrn(j);j-- >0;)re.isOdd()&&re.iadd(ie),re.iushrn(1);H.cmp(Y)>=0?(H.isub(Y),J.isub(re)):(Y.isub(H),re.isub(J))}var $;return H.cmpn(1)===0?$=J:$=re,$.cmpn(0)<0&&$.iadd(O),$},f.prototype.gcd=function(O){if(this.isZero())return O.abs();if(O.isZero())return this.abs();var H=this.clone(),Y=O.clone();H.negative=0,Y.negative=0;for(var J=0;H.isEven()&&Y.isEven();J++)H.iushrn(1),Y.iushrn(1);do{for(;H.isEven();)H.iushrn(1);for(;Y.isEven();)Y.iushrn(1);var re=H.cmp(Y);if(re<0){var ie=H;H=Y,Y=ie}else if(re===0||Y.cmpn(1)===0)break;H.isub(Y)}while(!0);return Y.iushln(J)},f.prototype.invm=function(O){return this.egcd(O).a.umod(O)},f.prototype.isEven=function(){return(this.words[0]&1)===0},f.prototype.isOdd=function(){return(this.words[0]&1)===1},f.prototype.andln=function(O){return this.words[0]&O},f.prototype.bincn=function(O){n(typeof O=="number");var H=O%26,Y=(O-H)/26,J=1<<H;if(this.length<=Y)return this._expand(Y+1),this.words[Y]|=J,this;for(var re=J,ie=Y;re!==0&&ie<this.length;ie++){var ce=this.words[ie]|0;ce+=re,re=ce>>>26,ce&=67108863,this.words[ie]=ce}return re!==0&&(this.words[ie]=re,this.length++),this},f.prototype.isZero=function(){return this.length===1&&this.words[0]===0},f.prototype.cmpn=function(O){var H=O<0;if(this.negative!==0&&!H)return-1;if(this.negative===0&&H)return 1;this.strip();var Y;if(this.length>1)Y=1;else{H&&(O=-O),n(O<=67108863,"Number is too big");var J=this.words[0]|0;Y=J===O?0:J<O?-1:1}return this.negative!==0?-Y|0:Y},f.prototype.cmp=function(O){if(this.negative!==0&&O.negative===0)return-1;if(this.negative===0&&O.negative!==0)return 1;var H=this.ucmp(O);return this.negative!==0?-H|0:H},f.prototype.ucmp=function(O){if(this.length>O.length)return 1;if(this.length<O.length)return-1;for(var H=0,Y=this.length-1;Y>=0;Y--){var J=this.words[Y]|0,re=O.words[Y]|0;if(J!==re){J<re?H=-1:J>re&&(H=1);break}}return H},f.prototype.gtn=function(O){return this.cmpn(O)===1},f.prototype.gt=function(O){return this.cmp(O)===1},f.prototype.gten=function(O){return this.cmpn(O)>=0},f.prototype.gte=function(O){return this.cmp(O)>=0},f.prototype.ltn=function(O){return this.cmpn(O)===-1},f.prototype.lt=function(O){return this.cmp(O)===-1},f.prototype.lten=function(O){return this.cmpn(O)<=0},f.prototype.lte=function(O){return this.cmp(O)<=0},f.prototype.eqn=function(O){return this.cmpn(O)===0},f.prototype.eq=function(O){return this.cmp(O)===0},f.red=function(O){return new z(O)},f.prototype.toRed=function(O){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),O.convertTo(this)._forceRed(O)},f.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},f.prototype._forceRed=function(O){return this.red=O,this},f.prototype.forceRed=function(O){return n(!this.red,"Already a number in reduction context"),this._forceRed(O)},f.prototype.redAdd=function(O){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,O)},f.prototype.redIAdd=function(O){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,O)},f.prototype.redSub=function(O){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,O)},f.prototype.redISub=function(O){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,O)},f.prototype.redShl=function(O){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,O)},f.prototype.redMul=function(O){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.mul(this,O)},f.prototype.redIMul=function(O){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.imul(this,O)},f.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},f.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},f.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},f.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},f.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},f.prototype.redPow=function(O){return n(this.red&&!O.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,O)};var o={k256:null,p224:null,p192:null,p25519:null};function L(B,O){this.name=B,this.p=new f(O,16),this.n=this.p.bitLength(),this.k=new f(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}L.prototype._tmp=function(){var O=new f(null);return O.words=new Array(Math.ceil(this.n/13)),O},L.prototype.ireduce=function(O){var H=O,Y;do this.split(H,this.tmp),H=this.imulK(H),H=H.iadd(this.tmp),Y=H.bitLength();while(Y>this.n);var J=Y<this.n?-1:H.ucmp(this.p);return J===0?(H.words[0]=0,H.length=1):J>0?H.isub(this.p):H.strip!==void 0?H.strip():H._strip(),H},L.prototype.split=function(O,H){O.iushrn(this.n,0,H)},L.prototype.imulK=function(O){return O.imul(this.k)};function m(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(m,L),m.prototype.split=function(O,H){for(var Y=4194303,J=Math.min(O.length,9),re=0;re<J;re++)H.words[re]=O.words[re];if(H.length=J,O.length<=9){O.words[0]=0,O.length=1;return}var ie=O.words[9];for(H.words[H.length++]=ie&Y,re=10;re<O.length;re++){var ce=O.words[re]|0;O.words[re-10]=(ce&Y)<<4|ie>>>22,ie=ce}ie>>>=22,O.words[re-10]=ie,ie===0&&O.length>10?O.length-=10:O.length-=9},m.prototype.imulK=function(O){O.words[O.length]=0,O.words[O.length+1]=0,O.length+=2;for(var H=0,Y=0;Y<O.length;Y++){var J=O.words[Y]|0;H+=J*977,O.words[Y]=H&67108863,H=J*64+(H/67108864|0)}return O.words[O.length-1]===0&&(O.length--,O.words[O.length-1]===0&&O.length--),O};function F(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(F,L);function I(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(I,L);function U(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(U,L),U.prototype.imulK=function(O){for(var H=0,Y=0;Y<O.length;Y++){var J=(O.words[Y]|0)*19+H,re=J&67108863;J>>>=26,O.words[Y]=re,H=J}return H!==0&&(O.words[O.length++]=H),O},f._prime=function(O){if(o[O])return o[O];var H;if(O==="k256")H=new m;else if(O==="p224")H=new F;else if(O==="p192")H=new I;else if(O==="p25519")H=new U;else throw new Error("Unknown prime "+O);return o[O]=H,H};function z(B){if(typeof B=="string"){var O=f._prime(B);this.m=O.p,this.prime=O}else n(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}z.prototype._verify1=function(O){n(O.negative===0,"red works only with positives"),n(O.red,"red works only with red numbers")},z.prototype._verify2=function(O,H){n((O.negative|H.negative)===0,"red works only with positives"),n(O.red&&O.red===H.red,"red works only with red numbers")},z.prototype.imod=function(O){return this.prime?this.prime.ireduce(O)._forceRed(this):O.umod(this.m)._forceRed(this)},z.prototype.neg=function(O){return O.isZero()?O.clone():this.m.sub(O)._forceRed(this)},z.prototype.add=function(O,H){this._verify2(O,H);var Y=O.add(H);return Y.cmp(this.m)>=0&&Y.isub(this.m),Y._forceRed(this)},z.prototype.iadd=function(O,H){this._verify2(O,H);var Y=O.iadd(H);return Y.cmp(this.m)>=0&&Y.isub(this.m),Y},z.prototype.sub=function(O,H){this._verify2(O,H);var Y=O.sub(H);return Y.cmpn(0)<0&&Y.iadd(this.m),Y._forceRed(this)},z.prototype.isub=function(O,H){this._verify2(O,H);var Y=O.isub(H);return Y.cmpn(0)<0&&Y.iadd(this.m),Y},z.prototype.shl=function(O,H){return this._verify1(O),this.imod(O.ushln(H))},z.prototype.imul=function(O,H){return this._verify2(O,H),this.imod(O.imul(H))},z.prototype.mul=function(O,H){return this._verify2(O,H),this.imod(O.mul(H))},z.prototype.isqr=function(O){return this.imul(O,O.clone())},z.prototype.sqr=function(O){return this.mul(O,O)},z.prototype.sqrt=function(O){if(O.isZero())return O.clone();var H=this.m.andln(3);if(n(H%2===1),H===3){var Y=this.m.add(new f(1)).iushrn(2);return this.pow(O,Y)}for(var J=this.m.subn(1),re=0;!J.isZero()&&J.andln(1)===0;)re++,J.iushrn(1);n(!J.isZero());var ie=new f(1).toRed(this),ce=ie.redNeg(),Q=this.m.subn(1).iushrn(1),j=this.m.bitLength();for(j=new f(2*j*j).toRed(this);this.pow(j,Q).cmp(ce)!==0;)j.redIAdd(ce);for(var Z=this.pow(j,J),$=this.pow(O,J.addn(1).iushrn(1)),te=this.pow(O,J),se=re;te.cmp(ie)!==0;){for(var ee=te,q=0;ee.cmp(ie)!==0;q++)ee=ee.redSqr();n(q<se);var le=this.pow(Z,new f(1).iushln(se-q-1));$=$.redMul(le),Z=le.redSqr(),te=te.redMul(Z),se=q}return $},z.prototype.invm=function(O){var H=O._invmp(this.m);return H.negative!==0?(H.negative=0,this.imod(H).redNeg()):this.imod(H)},z.prototype.pow=function(O,H){if(H.isZero())return new f(1).toRed(this);if(H.cmpn(1)===0)return O.clone();var Y=4,J=new Array(1<<Y);J[0]=new f(1).toRed(this),J[1]=O;for(var re=2;re<J.length;re++)J[re]=this.mul(J[re-1],O);var ie=J[0],ce=0,Q=0,j=H.bitLength()%26;for(j===0&&(j=26),re=H.length-1;re>=0;re--){for(var Z=H.words[re],$=j-1;$>=0;$--){var te=Z>>$&1;if(ie!==J[0]&&(ie=this.sqr(ie)),te===0&&ce===0){Q=0;continue}ce<<=1,ce|=te,Q++,!(Q!==Y&&(re!==0||$!==0))&&(ie=this.mul(ie,J[ce]),Q=0,ce=0)}j=26}return ie},z.prototype.convertTo=function(O){var H=O.umod(this.m);return H===O?H.clone():H},z.prototype.convertFrom=function(O){var H=O.clone();return H.red=null,H},f.mont=function(O){return new N(O)};function N(B){z.call(this,B),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new f(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(N,z),N.prototype.convertTo=function(O){return this.imod(O.ushln(this.shift))},N.prototype.convertFrom=function(O){var H=this.imod(O.mul(this.rinv));return H.red=null,H},N.prototype.imul=function(O,H){if(O.isZero()||H.isZero())return O.words[0]=0,O.length=1,O;var Y=O.imul(H),J=Y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),re=Y.isub(J).iushrn(this.shift),ie=re;return re.cmp(this.m)>=0?ie=re.isub(this.m):re.cmpn(0)<0&&(ie=re.iadd(this.m)),ie._forceRed(this)},N.prototype.mul=function(O,H){if(O.isZero()||H.isZero())return new f(0)._forceRed(this);var Y=O.mul(H),J=Y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),re=Y.isub(J).iushrn(this.shift),ie=re;return re.cmp(this.m)>=0?ie=re.isub(this.m):re.cmpn(0)<0&&(ie=re.iadd(this.m)),ie._forceRed(this)},N.prototype.invm=function(O){var H=this.imod(O._invmp(this.m).mul(this.r2));return H._forceRed(this)}}(v,this)},2692:function(v){v.exports=p;function p(t){var r,s,n,i=t.length,f=0;for(r=0;r<i;++r)f+=t[r].length;var u=new Array(f),y=0;for(r=0;r<i;++r){var c=t[r],T=c.length;for(s=0;s<T;++s){var h=u[y++]=new Array(T-1),l=0;for(n=0;n<T;++n)n!==s&&(h[l++]=c[n]);if(s&1){var d=h[1];h[1]=h[0],h[0]=d}}}return u}},2569:function(v,p,t){v.exports=l;var r=t(5306),s=t(1390),n=t(2337);function i(d,E){for(var S=0;S<d;++S)if(!(E[S]<=E[S+d]))return!0;return!1}function f(d,E,S,P){for(var x=0,M=0,w=0,o=d.length;w<o;++w){var L=d[w];if(!i(E,L)){for(var m=0;m<2*E;++m)S[x++]=L[m];P[M++]=w}}return M}function u(d,E,S,P){var x=d.length,M=E.length;if(!(x<=0||M<=0)){var w=d[0].length>>>1;if(!(w<=0)){var o,L=r.mallocDouble(2*w*x),m=r.mallocInt32(x);if(x=f(d,w,L,m),x>0){if(w===1&&P)s.init(x),o=s.sweepComplete(w,S,0,x,L,m,0,x,L,m);else{var F=r.mallocDouble(2*w*M),I=r.mallocInt32(M);M=f(E,w,F,I),M>0&&(s.init(x+M),w===1?o=s.sweepBipartite(w,S,0,x,L,m,0,M,F,I):o=n(w,S,P,x,L,m,M,F,I),r.free(F),r.free(I))}r.free(L),r.free(m)}return o}}}var y;function c(d,E){y.push([d,E])}function T(d){return y=[],u(d,d,c,!0),y}function h(d,E){return y=[],u(d,E,c,!1),y}function l(d,E,S){switch(arguments.length){case 1:return T(d);case 2:return typeof E=="function"?u(d,d,E,!0):h(d,E);case 3:return u(d,E,S,!1);default:throw new Error("box-intersect: Invalid arguments")}}},7333:function(v,p){function t(){function n(u,y,c,T,h,l,d,E,S,P,x){for(var M=2*u,w=T,o=M*T;w<h;++w,o+=M){var L=l[y+o],m=l[y+o+u],F=d[w];e:for(var I=E,U=M*E;I<S;++I,U+=M){var z=P[y+U],N=P[y+U+u],B=x[I];if(!(N<L||m<z)){for(var O=y+1;O<u;++O){var H=l[O+o],Y=l[O+u+o],J=P[O+U],re=P[O+u+U];if(Y<J||re<H)continue e}var ie=c(F,B);if(ie!==void 0)return ie}}}}function i(u,y,c,T,h,l,d,E,S,P,x){for(var M=2*u,w=E,o=M*E;w<S;++w,o+=M){var L=P[y+o],m=P[y+o+u],F=x[w];e:for(var I=T,U=M*T;I<h;++I,U+=M){var z=l[y+U],N=l[y+U+u],B=d[I];if(!(m<z||N<L)){for(var O=y+1;O<u;++O){var H=l[O+U],Y=l[O+u+U],J=P[O+o],re=P[O+u+o];if(Y<J||re<H)continue e}var ie=c(B,F);if(ie!==void 0)return ie}}}}function f(u,y,c,T,h,l,d,E,S,P,x){return h-T>S-E?n(u,y,c,T,h,l,d,E,S,P,x):i(u,y,c,T,h,l,d,E,S,P,x)}return f}function r(){function n(c,T,h,l,d,E,S,P,x,M,w){for(var o=2*c,L=l,m=o*l;L<d;++L,m+=o){var F=E[T+m],I=E[T+m+c],U=S[L];e:for(var z=P,N=o*P;z<x;++z,N+=o){var B=M[T+N],O=w[z];if(!(B<=F||I<B)){for(var H=T+1;H<c;++H){var Y=E[H+m],J=E[H+c+m],re=M[H+N],ie=M[H+c+N];if(J<re||ie<Y)continue e}var ce=h(O,U);if(ce!==void 0)return ce}}}}function i(c,T,h,l,d,E,S,P,x,M,w){for(var o=2*c,L=l,m=o*l;L<d;++L,m+=o){var F=E[T+m],I=E[T+m+c],U=S[L];e:for(var z=P,N=o*P;z<x;++z,N+=o){var B=M[T+N],O=w[z];if(!(B<F||I<B)){for(var H=T+1;H<c;++H){var Y=E[H+m],J=E[H+c+m],re=M[H+N],ie=M[H+c+N];if(J<re||ie<Y)continue e}var ce=h(U,O);if(ce!==void 0)return ce}}}}function f(c,T,h,l,d,E,S,P,x,M,w){for(var o=2*c,L=P,m=o*P;L<x;++L,m+=o){var F=M[T+m],I=w[L];e:for(var U=l,z=o*l;U<d;++U,z+=o){var N=E[T+z],B=E[T+z+c],O=S[U];if(!(F<=N||B<F)){for(var H=T+1;H<c;++H){var Y=E[H+z],J=E[H+c+z],re=M[H+m],ie=M[H+c+m];if(J<re||ie<Y)continue e}var ce=h(I,O);if(ce!==void 0)return ce}}}}function u(c,T,h,l,d,E,S,P,x,M,w){for(var o=2*c,L=P,m=o*P;L<x;++L,m+=o){var F=M[T+m],I=w[L];e:for(var U=l,z=o*l;U<d;++U,z+=o){var N=E[T+z],B=E[T+z+c],O=S[U];if(!(F<N||B<F)){for(var H=T+1;H<c;++H){var Y=E[H+z],J=E[H+c+z],re=M[H+m],ie=M[H+c+m];if(J<re||ie<Y)continue e}var ce=h(O,I);if(ce!==void 0)return ce}}}}function y(c,T,h,l,d,E,S,P,x,M,w,o){return E-d>M-x?l?n(c,T,h,d,E,S,P,x,M,w,o):i(c,T,h,d,E,S,P,x,M,w,o):l?f(c,T,h,d,E,S,P,x,M,w,o):u(c,T,h,d,E,S,P,x,M,w,o)}return y}function s(n){return n?t():r()}p.partial=s(!1),p.full=s(!0)},2337:function(v,p,t){v.exports=B;var r=t(5306),s=t(2288),n=t(7333),i=n.partial,f=n.full,u=t(1390),y=t(2464),c=t(122),T=128,h=1<<22,l=1<<22,d=c("!(lo>=p0)&&!(p1>=hi)"),E=c("lo===p0"),S=c("lo<p0"),P=c("hi<=p0"),x=c("lo<=p0&&p0<=hi"),M=c("lo<p0&&p0<=hi"),w=6,o=2,L=1024,m=r.mallocInt32(L),F=r.mallocDouble(L);function I(O,H){var Y=8*s.log2(H+1)*(O+1)|0,J=s.nextPow2(w*Y);m.length<J&&(r.free(m),m=r.mallocInt32(J));var re=s.nextPow2(o*Y);F.length<re&&(r.free(F),F=r.mallocDouble(re))}function U(O,H,Y,J,re,ie,ce,Q,j){var Z=w*O;m[Z]=H,m[Z+1]=Y,m[Z+2]=J,m[Z+3]=re,m[Z+4]=ie,m[Z+5]=ce;var $=o*O;F[$]=Q,F[$+1]=j}function z(O,H,Y,J,re,ie,ce,Q,j,Z,$){var te=2*O,se=j*te,ee=Z[se+H];e:for(var q=re,le=re*te;q<ie;++q,le+=te){var oe=ce[le+H],he=ce[le+H+O];if(!(ee<oe||he<ee)&&!(J&&ee===oe)){for(var me=Q[q],Ce=H+1;Ce<O;++Ce){var oe=ce[le+Ce],he=ce[le+Ce+O],Ae=Z[se+Ce],Ue=Z[se+Ce+O];if(he<Ae||Ue<oe)continue e}var Ve;if(J?Ve=Y($,me):Ve=Y(me,$),Ve!==void 0)return Ve}}}function N(O,H,Y,J,re,ie,ce,Q,j,Z){var $=2*O,te=Q*$,se=j[te+H];e:for(var ee=J,q=J*$;ee<re;++ee,q+=$){var le=ce[ee];if(le!==Z){var oe=ie[q+H],he=ie[q+H+O];if(!(se<oe||he<se)){for(var me=H+1;me<O;++me){var oe=ie[q+me],he=ie[q+me+O],Ce=j[te+me],Ae=j[te+me+O];if(he<Ce||Ae<oe)continue e}var Ue=Y(le,Z);if(Ue!==void 0)return Ue}}}}function B(O,H,Y,J,re,ie,ce,Q,j){I(O,J+ce);var Z=0,$=2*O,te;for(U(Z++,0,0,J,0,ce,Y?16:0,-1/0,1/0),Y||U(Z++,0,0,ce,0,J,1,-1/0,1/0);Z>0;){Z-=1;var se=Z*w,ee=m[se],q=m[se+1],le=m[se+2],oe=m[se+3],he=m[se+4],me=m[se+5],Ce=Z*o,Ae=F[Ce],Ue=F[Ce+1],Ve=me&1,Pe=!!(me&16),be=re,Le=ie,We=Q,je=j;if(Ve&&(be=Q,Le=j,We=re,je=ie),!(me&2&&(le=S(O,ee,q,le,be,Le,Ue),q>=le))&&!(me&4&&(q=P(O,ee,q,le,be,Le,Ae),q>=le))){var Fe=le-q,Ze=he-oe;if(Pe){if(O*Fe*(Fe+Ze)<l){if(te=u.scanComplete(O,ee,H,q,le,be,Le,oe,he,We,je),te!==void 0)return te;continue}}else if(O*Math.min(Fe,Ze)<T){if(te=i(O,ee,H,Ve,q,le,be,Le,oe,he,We,je),te!==void 0)return te;continue}else if(O*Fe*Ze<h){if(te=u.scanBipartite(O,ee,H,Ve,q,le,be,Le,oe,he,We,je),te!==void 0)return te;continue}var ut=d(O,ee,q,le,be,Le,Ae,Ue);if(q<ut)if(O*(ut-q)<T){if(te=f(O,ee+1,H,q,ut,be,Le,oe,he,We,je),te!==void 0)return te}else if(ee===O-2){if(Ve?te=u.sweepBipartite(O,H,oe,he,We,je,q,ut,be,Le):te=u.sweepBipartite(O,H,q,ut,be,Le,oe,he,We,je),te!==void 0)return te}else U(Z++,ee+1,q,ut,oe,he,Ve,-1/0,1/0),U(Z++,ee+1,oe,he,q,ut,Ve^1,-1/0,1/0);if(ut<le){var at=y(O,ee,oe,he,We,je),it=We[$*at+ee],$e=E(O,ee,at,he,We,je,it);if($e<he&&U(Z++,ee,ut,le,$e,he,(Ve|4)+(Pe?16:0),it,Ue),oe<at&&U(Z++,ee,ut,le,oe,at,(Ve|2)+(Pe?16:0),Ae,it),at+1===$e){if(Pe?te=N(O,ee,H,ut,le,be,Le,at,We,je[at]):te=z(O,ee,H,Ve,ut,le,be,Le,at,We,je[at]),te!==void 0)return te}else if(at<$e){var st;if(Pe){if(st=x(O,ee,ut,le,be,Le,it),ut<st){var ct=E(O,ee,ut,st,be,Le,it);if(ee===O-2){if(ut<ct&&(te=u.sweepComplete(O,H,ut,ct,be,Le,at,$e,We,je),te!==void 0)||ct<st&&(te=u.sweepBipartite(O,H,ct,st,be,Le,at,$e,We,je),te!==void 0))return te}else ut<ct&&U(Z++,ee+1,ut,ct,at,$e,16,-1/0,1/0),ct<st&&(U(Z++,ee+1,ct,st,at,$e,0,-1/0,1/0),U(Z++,ee+1,at,$e,ct,st,1,-1/0,1/0))}}else Ve?st=M(O,ee,ut,le,be,Le,it):st=x(O,ee,ut,le,be,Le,it),ut<st&&(ee===O-2?Ve?te=u.sweepBipartite(O,H,at,$e,We,je,ut,st,be,Le):te=u.sweepBipartite(O,H,ut,st,be,Le,at,$e,We,je):(U(Z++,ee+1,ut,st,at,$e,Ve,-1/0,1/0),U(Z++,ee+1,at,$e,ut,st,Ve^1,-1/0,1/0)))}}}}}},2464:function(v,p,t){v.exports=f;var r=t(122),s=r("lo<p0"),n=8;function i(u,y,c,T,h,l){for(var d=2*u,E=d*(c+1)+y,S=c+1;S<T;++S,E+=d)for(var P=h[E],x=S,M=d*(S-1);x>c&&h[M+y]>P;--x,M-=d){for(var w=M,o=M+d,L=0;L<d;++L,++w,++o){var m=h[w];h[w]=h[o],h[o]=m}var F=l[x];l[x]=l[x-1],l[x-1]=F}}function f(u,y,c,T,h,l){if(T<=c+1)return c;for(var d=c,E=T,S=T+c>>>1,P=2*u,x=S,M=h[P*S+y];d<E;){if(E-d<n){i(u,y,d,E,h,l),M=h[P*S+y];break}var w=E-d,o=Math.random()*w+d|0,L=h[P*o+y],m=Math.random()*w+d|0,F=h[P*m+y],I=Math.random()*w+d|0,U=h[P*I+y];L<=F?U>=F?(x=m,M=F):L>=U?(x=o,M=L):(x=I,M=U):F>=U?(x=m,M=F):U>=L?(x=o,M=L):(x=I,M=U);for(var B=P*(E-1),O=P*x,z=0;z<P;++z,++B,++O){var N=h[B];h[B]=h[O],h[O]=N}var H=l[E-1];l[E-1]=l[x],l[x]=H,x=s(u,y,d,E-1,h,l,M);for(var B=P*(E-1),O=P*x,z=0;z<P;++z,++B,++O){var N=h[B];h[B]=h[O],h[O]=N}var H=l[E-1];if(l[E-1]=l[x],l[x]=H,S<x){for(E=x-1;d<E&&h[P*(E-1)+y]===M;)E-=1;E+=1}else if(x<S)for(d=x+1;d<E&&h[P*d+y]===M;)d+=1;else break}return s(u,y,c,S,h,l,h[P*S+y])}},122:function(v){v.exports=t;var p={"lo===p0":r,"lo<p0":s,"lo<=p0":n,"hi<=p0":i,"lo<p0&&p0<=hi":u,"lo<=p0&&p0<=hi":f,"!(lo>=p0)&&!(p1>=hi)":y};function t(c){return p[c]}function r(c,T,h,l,d,E,S){for(var P=2*c,x=P*h,M=x,w=h,o=T,L=c+T,m=h;l>m;++m,x+=P){var F=d[x+o];if(F===S)if(w===m)w+=1,M+=P;else{for(var I=0;P>I;++I){var U=d[x+I];d[x+I]=d[M],d[M++]=U}var z=E[m];E[m]=E[w],E[w++]=z}}return w}function s(c,T,h,l,d,E,S){for(var P=2*c,x=P*h,M=x,w=h,o=T,L=c+T,m=h;l>m;++m,x+=P){var F=d[x+o];if(F<S)if(w===m)w+=1,M+=P;else{for(var I=0;P>I;++I){var U=d[x+I];d[x+I]=d[M],d[M++]=U}var z=E[m];E[m]=E[w],E[w++]=z}}return w}function n(c,T,h,l,d,E,S){for(var P=2*c,x=P*h,M=x,w=h,o=T,L=c+T,m=h;l>m;++m,x+=P){var F=d[x+L];if(F<=S)if(w===m)w+=1,M+=P;else{for(var I=0;P>I;++I){var U=d[x+I];d[x+I]=d[M],d[M++]=U}var z=E[m];E[m]=E[w],E[w++]=z}}return w}function i(c,T,h,l,d,E,S){for(var P=2*c,x=P*h,M=x,w=h,o=T,L=c+T,m=h;l>m;++m,x+=P){var F=d[x+L];if(F<=S)if(w===m)w+=1,M+=P;else{for(var I=0;P>I;++I){var U=d[x+I];d[x+I]=d[M],d[M++]=U}var z=E[m];E[m]=E[w],E[w++]=z}}return w}function f(c,T,h,l,d,E,S){for(var P=2*c,x=P*h,M=x,w=h,o=T,L=c+T,m=h;l>m;++m,x+=P){var F=d[x+o],I=d[x+L];if(F<=S&&S<=I)if(w===m)w+=1,M+=P;else{for(var U=0;P>U;++U){var z=d[x+U];d[x+U]=d[M],d[M++]=z}var N=E[m];E[m]=E[w],E[w++]=N}}return w}function u(c,T,h,l,d,E,S){for(var P=2*c,x=P*h,M=x,w=h,o=T,L=c+T,m=h;l>m;++m,x+=P){var F=d[x+o],I=d[x+L];if(F<S&&S<=I)if(w===m)w+=1,M+=P;else{for(var U=0;P>U;++U){var z=d[x+U];d[x+U]=d[M],d[M++]=z}var N=E[m];E[m]=E[w],E[w++]=N}}return w}function y(c,T,h,l,d,E,S,P){for(var x=2*c,M=x*h,w=M,o=h,L=T,m=c+T,F=h;l>F;++F,M+=x){var I=d[M+L],U=d[M+m];if(!(I>=S)&&!(P>=U))if(o===F)o+=1,w+=x;else{for(var z=0;x>z;++z){var N=d[M+z];d[M+z]=d[w],d[w++]=N}var B=E[F];E[F]=E[o],E[o++]=B}}return o}},309:function(v){v.exports=t;var p=32;function t(T,h){h<=4*p?r(0,h-1,T):c(0,h-1,T)}function r(T,h,l){for(var d=2*(T+1),E=T+1;E<=h;++E){for(var S=l[d++],P=l[d++],x=E,M=d-2;x-- >T;){var w=l[M-2],o=l[M-1];if(w<S)break;if(w===S&&o<P)break;l[M]=w,l[M+1]=o,M-=2}l[M]=S,l[M+1]=P}}function s(T,h,l){T*=2,h*=2;var d=l[T],E=l[T+1];l[T]=l[h],l[T+1]=l[h+1],l[h]=d,l[h+1]=E}function n(T,h,l){T*=2,h*=2,l[T]=l[h],l[T+1]=l[h+1]}function i(T,h,l,d){T*=2,h*=2,l*=2;var E=d[T],S=d[T+1];d[T]=d[h],d[T+1]=d[h+1],d[h]=d[l],d[h+1]=d[l+1],d[l]=E,d[l+1]=S}function f(T,h,l,d,E){T*=2,h*=2,E[T]=E[h],E[h]=l,E[T+1]=E[h+1],E[h+1]=d}function u(T,h,l){T*=2,h*=2;var d=l[T],E=l[h];return d<E?!1:d===E?l[T+1]>l[h+1]:!0}function y(T,h,l,d){T*=2;var E=d[T];return E<h?!0:E===h?d[T+1]<l:!1}function c(T,h,l){var d=(h-T+1)/6|0,E=T+d,S=h-d,P=T+h>>1,x=P-d,M=P+d,w=E,o=x,L=P,m=M,F=S,I=T+1,U=h-1,z=0;u(w,o,l)&&(z=w,w=o,o=z),u(m,F,l)&&(z=m,m=F,F=z),u(w,L,l)&&(z=w,w=L,L=z),u(o,L,l)&&(z=o,o=L,L=z),u(w,m,l)&&(z=w,w=m,m=z),u(L,m,l)&&(z=L,L=m,m=z),u(o,F,l)&&(z=o,o=F,F=z),u(o,L,l)&&(z=o,o=L,L=z),u(m,F,l)&&(z=m,m=F,F=z);for(var N=l[2*o],B=l[2*o+1],O=l[2*m],H=l[2*m+1],Y=2*w,J=2*L,re=2*F,ie=2*E,ce=2*P,Q=2*S,j=0;j<2;++j){var Z=l[Y+j],$=l[J+j],te=l[re+j];l[ie+j]=Z,l[ce+j]=$,l[Q+j]=te}n(x,T,l),n(M,h,l);for(var se=I;se<=U;++se)if(y(se,N,B,l))se!==I&&s(se,I,l),++I;else if(!y(se,O,H,l))for(;;)if(y(U,O,H,l)){y(U,N,B,l)?(i(se,I,U,l),++I,--U):(s(se,U,l),--U);break}else{if(--U<se)break;continue}f(T,I-1,N,B,l),f(h,U+1,O,H,l),I-2-T<=p?r(T,I-2,l):c(T,I-2,l),h-(U+2)<=p?r(U+2,h,l):c(U+2,h,l),U-I<=p?r(I,U,l):c(I,U,l)}},1390:function(v,p,t){v.exports={init:E,sweepBipartite:x,sweepComplete:M,scanBipartite:w,scanComplete:o};var r=t(5306),s=t(2288),n=t(309),i=1<<28,f=1024,u=r.mallocInt32(f),y=r.mallocInt32(f),c=r.mallocInt32(f),T=r.mallocInt32(f),h=r.mallocInt32(f),l=r.mallocInt32(f),d=r.mallocDouble(f*8);function E(L){var m=s.nextPow2(L);u.length<m&&(r.free(u),u=r.mallocInt32(m)),y.length<m&&(r.free(y),y=r.mallocInt32(m)),c.length<m&&(r.free(c),c=r.mallocInt32(m)),T.length<m&&(r.free(T),T=r.mallocInt32(m)),h.length<m&&(r.free(h),h=r.mallocInt32(m)),l.length<m&&(r.free(l),l=r.mallocInt32(m));var F=8*m;d.length<F&&(r.free(d),d=r.mallocDouble(F))}function S(L,m,F,I){var U=m[I],z=L[F-1];L[U]=z,m[z]=U}function P(L,m,F,I){L[F]=I,m[I]=F}function x(L,m,F,I,U,z,N,B,O,H){for(var Y=0,J=2*L,re=L-1,ie=J-1,ce=F;ce<I;++ce){var Q=z[ce],j=J*ce;d[Y++]=U[j+re],d[Y++]=-(Q+1),d[Y++]=U[j+ie],d[Y++]=Q}for(var ce=N;ce<B;++ce){var Q=H[ce]+i,Z=J*ce;d[Y++]=O[Z+re],d[Y++]=-Q,d[Y++]=O[Z+ie],d[Y++]=Q}var $=Y>>>1;n(d,$);for(var te=0,se=0,ce=0;ce<$;++ce){var ee=d[2*ce+1]|0;if(ee>=i)ee=ee-i|0,S(c,T,se--,ee);else if(ee>=0)S(u,y,te--,ee);else if(ee<=-i){ee=-ee-i|0;for(var q=0;q<te;++q){var le=m(u[q],ee);if(le!==void 0)return le}P(c,T,se++,ee)}else{ee=-ee-1|0;for(var q=0;q<se;++q){var le=m(ee,c[q]);if(le!==void 0)return le}P(u,y,te++,ee)}}}function M(L,m,F,I,U,z,N,B,O,H){for(var Y=0,J=2*L,re=L-1,ie=J-1,ce=F;ce<I;++ce){var Q=z[ce]+1<<1,j=J*ce;d[Y++]=U[j+re],d[Y++]=-Q,d[Y++]=U[j+ie],d[Y++]=Q}for(var ce=N;ce<B;++ce){var Q=H[ce]+1<<1,Z=J*ce;d[Y++]=O[Z+re],d[Y++]=-Q|1,d[Y++]=O[Z+ie],d[Y++]=Q|1}var $=Y>>>1;n(d,$);for(var te=0,se=0,ee=0,ce=0;ce<$;++ce){var q=d[2*ce+1]|0,le=q&1;if(ce<$-1&&q>>1===d[2*ce+3]>>1&&(le=2,ce+=1),q<0){for(var oe=-(q>>1)-1,he=0;he<ee;++he){var me=m(h[he],oe);if(me!==void 0)return me}if(le!==0)for(var he=0;he<te;++he){var me=m(u[he],oe);if(me!==void 0)return me}if(le!==1)for(var he=0;he<se;++he){var me=m(c[he],oe);if(me!==void 0)return me}le===0?P(u,y,te++,oe):le===1?P(c,T,se++,oe):le===2&&P(h,l,ee++,oe)}else{var oe=(q>>1)-1;le===0?S(u,y,te--,oe):le===1?S(c,T,se--,oe):le===2&&S(h,l,ee--,oe)}}}function w(L,m,F,I,U,z,N,B,O,H,Y,J){var re=0,ie=2*L,ce=m,Q=m+L,j=1,Z=1;I?Z=i:j=i;for(var $=U;$<z;++$){var te=$+j,se=ie*$;d[re++]=N[se+ce],d[re++]=-te,d[re++]=N[se+Q],d[re++]=te}for(var $=O;$<H;++$){var te=$+Z,ee=ie*$;d[re++]=Y[ee+ce],d[re++]=-te}var q=re>>>1;n(d,q);for(var le=0,$=0;$<q;++$){var oe=d[2*$+1]|0;if(oe<0){var te=-oe,he=!1;if(te>=i?(he=!I,te-=i):(he=!!I,te-=1),he)P(u,y,le++,te);else{var me=J[te],Ce=ie*te,Ae=Y[Ce+m+1],Ue=Y[Ce+m+1+L];e:for(var Ve=0;Ve<le;++Ve){var Pe=u[Ve],be=ie*Pe;if(!(Ue<N[be+m+1]||N[be+m+1+L]<Ae)){for(var Le=m+2;Le<L;++Le)if(Y[Ce+Le+L]<N[be+Le]||N[be+Le+L]<Y[Ce+Le])continue e;var We=B[Pe],je;if(I?je=F(me,We):je=F(We,me),je!==void 0)return je}}}}else S(u,y,le--,oe-j)}}function o(L,m,F,I,U,z,N,B,O,H,Y){for(var J=0,re=2*L,ie=m,ce=m+L,Q=I;Q<U;++Q){var j=Q+i,Z=re*Q;d[J++]=z[Z+ie],d[J++]=-j,d[J++]=z[Z+ce],d[J++]=j}for(var Q=B;Q<O;++Q){var j=Q+1,$=re*Q;d[J++]=H[$+ie],d[J++]=-j}var te=J>>>1;n(d,te);for(var se=0,Q=0;Q<te;++Q){var ee=d[2*Q+1]|0;if(ee<0){var j=-ee;if(j>=i)u[se++]=j-i;else{j-=1;var q=Y[j],le=re*j,oe=H[le+m+1],he=H[le+m+1+L];e:for(var me=0;me<se;++me){var Ce=u[me],Ae=N[Ce];if(Ae===q)break;var Ue=re*Ce;if(!(he<z[Ue+m+1]||z[Ue+m+1+L]<oe)){for(var Ve=m+2;Ve<L;++Ve)if(H[le+Ve+L]<z[Ue+Ve]||z[Ue+Ve+L]<H[le+Ve])continue e;var Pe=F(Ae,q);if(Pe!==void 0)return Pe}}}}else{for(var j=ee-i,me=se-1;me>=0;--me)if(u[me]===j){for(var Ve=me+1;Ve<se;++Ve)u[Ve-1]=u[Ve];break}--se}}}},7761:function(v,p,t){var r=t(9971),s=t(743),n=t(2161),i=t(7098);v.exports=T;function f(h){return[Math.min(h[0],h[1]),Math.max(h[0],h[1])]}function u(h,l){return h[0]-l[0]||h[1]-l[1]}function y(h){return h.map(f).sort(u)}function c(h,l,d){return l in h?h[l]:d}function T(h,l,d){Array.isArray(l)?(d=d||{},l=l||[]):(d=l||{},l=[]);var E=!!c(d,"delaunay",!0),S=!!c(d,"interior",!0),P=!!c(d,"exterior",!0),x=!!c(d,"infinity",!1);if(!S&&!P||h.length===0)return[];var M=r(h,l);if(E||S!==P||x){for(var w=s(h.length,y(l)),o=0;o<M.length;++o){var L=M[o];w.addTriangle(L[0],L[1],L[2])}return E&&n(h,w),P?S?x?i(w,0,x):w.cells():i(w,1,x):i(w,-1)}else return M}},2161:function(v,p,t){var r=t(2227)[4];t(5070),v.exports=n;function s(i,f,u,y,c,T){var h=f.opposite(y,c);if(!(h<0)){if(c<y){var l=y;y=c,c=l,l=T,T=h,h=l}f.isConstraint(y,c)||r(i[y],i[c],i[T],i[h])<0&&u.push(y,c)}}function n(i,f){for(var u=[],y=i.length,c=f.stars,T=0;T<y;++T)for(var h=c[T],l=1;l<h.length;l+=2){var d=h[l];if(!(d<T)&&!f.isConstraint(T,d)){for(var E=h[l-1],S=-1,P=1;P<h.length;P+=2)if(h[P-1]===d){S=h[P];break}S<0||r(i[T],i[d],i[E],i[S])<0&&u.push(T,d)}}for(;u.length>0;){for(var d=u.pop(),T=u.pop(),E=-1,S=-1,h=c[T],x=1;x<h.length;x+=2){var M=h[x-1],w=h[x];M===d?S=w:w===d&&(E=M)}E<0||S<0||r(i[T],i[d],i[E],i[S])>=0||(f.flip(T,d),s(i,f,u,E,T,S),s(i,f,u,T,S,E),s(i,f,u,S,d,E),s(i,f,u,d,E,S))}}},7098:function(v,p,t){var r=t(5070);v.exports=y;function s(c,T,h,l,d,E,S){this.cells=c,this.neighbor=T,this.flags=l,this.constraint=h,this.active=d,this.next=E,this.boundary=S}var n=s.prototype;function i(c,T){return c[0]-T[0]||c[1]-T[1]||c[2]-T[2]}n.locate=function(){var c=[0,0,0];return function(T,h,l){var d=T,E=h,S=l;return h<l?h<T&&(d=h,E=l,S=T):l<T&&(d=l,E=T,S=h),d<0?-1:(c[0]=d,c[1]=E,c[2]=S,r.eq(this.cells,c,i))}}();function f(c,T){for(var h=c.cells(),l=h.length,d=0;d<l;++d){var E=h[d],S=E[0],P=E[1],x=E[2];P<x?P<S&&(E[0]=P,E[1]=x,E[2]=S):x<S&&(E[0]=x,E[1]=S,E[2]=P)}h.sort(i);for(var M=new Array(l),d=0;d<M.length;++d)M[d]=0;var w=[],o=[],L=new Array(3*l),m=new Array(3*l),F=null;T&&(F=[]);for(var I=new s(h,L,m,M,w,o,F),d=0;d<l;++d)for(var E=h[d],U=0;U<3;++U){var S=E[U],P=E[(U+1)%3],z=L[3*d+U]=I.locate(P,S,c.opposite(P,S)),N=m[3*d+U]=c.isConstraint(S,P);z<0&&(N?o.push(d):(w.push(d),M[d]=1),T&&F.push([P,S,-1]))}return I}function u(c,T,h){for(var l=0,d=0;d<c.length;++d)T[d]===h&&(c[l++]=c[d]);return c.length=l,c}function y(c,T,h){var l=f(c,h);if(T===0)return h?l.cells.concat(l.boundary):l.cells;for(var d=1,E=l.active,S=l.next,P=l.flags,x=l.cells,M=l.constraint,w=l.neighbor;E.length>0||S.length>0;){for(;E.length>0;){var o=E.pop();if(P[o]!==-d){P[o]=d,x[o];for(var L=0;L<3;++L){var m=w[3*o+L];m>=0&&P[m]===0&&(M[3*o+L]?S.push(m):(E.push(m),P[m]=d))}}}var F=S;S=E,E=F,S.length=0,d=-d}var I=u(x,P,T);return h?I.concat(l.boundary):I}},9971:function(v,p,t){var r=t(5070),s=t(417)[3],n=0,i=1,f=2;v.exports=S;function u(P,x,M,w,o){this.a=P,this.b=x,this.idx=M,this.lowerIds=w,this.upperIds=o}function y(P,x,M,w){this.a=P,this.b=x,this.type=M,this.idx=w}function c(P,x){var M=P.a[0]-x.a[0]||P.a[1]-x.a[1]||P.type-x.type;return M||P.type!==n&&(M=s(P.a,P.b,x.b),M)?M:P.idx-x.idx}function T(P,x){return s(P.a,P.b,x)}function h(P,x,M,w,o){for(var L=r.lt(x,w,T),m=r.gt(x,w,T),F=L;F<m;++F){for(var I=x[F],U=I.lowerIds,N=U.length;N>1&&s(M[U[N-2]],M[U[N-1]],w)>0;)P.push([U[N-1],U[N-2],o]),N-=1;U.length=N,U.push(o);for(var z=I.upperIds,N=z.length;N>1&&s(M[z[N-2]],M[z[N-1]],w)<0;)P.push([z[N-2],z[N-1],o]),N-=1;z.length=N,z.push(o)}}function l(P,x){var M;return P.a[0]<x.a[0]?M=s(P.a,P.b,x.a):M=s(x.b,x.a,P.a),M||(x.b[0]<P.b[0]?M=s(P.a,P.b,x.b):M=s(x.b,x.a,P.b),M||P.idx-x.idx)}function d(P,x,M){var w=r.le(P,M,l),o=P[w],L=o.upperIds,m=L[L.length-1];o.upperIds=[m],P.splice(w+1,0,new u(M.a,M.b,M.idx,[m],L))}function E(P,x,M){var w=M.a;M.a=M.b,M.b=w;var o=r.eq(P,M,l),L=P[o],m=P[o-1];m.upperIds=L.upperIds,P.splice(o,1)}function S(P,x){for(var M=P.length,w=x.length,o=[],L=0;L<M;++L)o.push(new y(P[L],null,n,L));for(var L=0;L<w;++L){var m=x[L],F=P[m[0]],I=P[m[1]];F[0]<I[0]?o.push(new y(F,I,f,L),new y(I,F,i,L)):F[0]>I[0]&&o.push(new y(I,F,f,L),new y(F,I,i,L))}o.sort(c);for(var U=o[0].a[0]-(1+Math.abs(o[0].a[0]))*Math.pow(2,-52),z=[new u([U,1],[U,0],-1,[],[])],N=[],L=0,B=o.length;L<B;++L){var O=o[L],H=O.type;H===n?h(N,z,P,O.a,O.idx):H===f?d(z,P,O):E(z,P,O)}return N}},743:function(v,p,t){var r=t(5070);v.exports=f;function s(u,y){this.stars=u,this.edges=y}var n=s.prototype;function i(u,y,c){for(var T=1,h=u.length;T<h;T+=2)if(u[T-1]===y&&u[T]===c){u[T-1]=u[h-2],u[T]=u[h-1],u.length=h-2;return}}n.isConstraint=function(){var u=[0,0];function y(c,T){return c[0]-T[0]||c[1]-T[1]}return function(c,T){return u[0]=Math.min(c,T),u[1]=Math.max(c,T),r.eq(this.edges,u,y)>=0}}(),n.removeTriangle=function(u,y,c){var T=this.stars;i(T[u],y,c),i(T[y],c,u),i(T[c],u,y)},n.addTriangle=function(u,y,c){var T=this.stars;T[u].push(y,c),T[y].push(c,u),T[c].push(u,y)},n.opposite=function(u,y){for(var c=this.stars[y],T=1,h=c.length;T<h;T+=2)if(c[T]===u)return c[T-1];return-1},n.flip=function(u,y){var c=this.opposite(u,y),T=this.opposite(y,u);this.removeTriangle(u,y,c),this.removeTriangle(y,u,T),this.addTriangle(u,T,c),this.addTriangle(y,c,T)},n.edges=function(){for(var u=this.stars,y=[],c=0,T=u.length;c<T;++c)for(var h=u[c],l=0,d=h.length;l<d;l+=2)y.push([h[l],h[l+1]]);return y},n.cells=function(){for(var u=this.stars,y=[],c=0,T=u.length;c<T;++c)for(var h=u[c],l=0,d=h.length;l<d;l+=2){var E=h[l],S=h[l+1];c<Math.min(E,S)&&y.push([c,E,S])}return y};function f(u,y){for(var c=new Array(u),T=0;T<u;++T)c[T]=[];return new s(c,y)}},9887:function(v){v.exports=p;function p(t){for(var r=1,s=1;s<t.length;++s)for(var n=0;n<s;++n)if(t[s]<t[n])r=-r;else if(t[n]===t[s])return 0;return r}},9243:function(v,p,t){var r=t(3094),s=t(6606);function n(u,y){for(var c=0,T=u.length,h=0;h<T;++h)c+=u[h]*y[h];return c}function i(u){var y=u.length;if(y===0)return[];u[0].length;var c=r([u.length+1,u.length+1],1),T=r([u.length+1],1);c[y][y]=0;for(var h=0;h<y;++h){for(var l=0;l<=h;++l)c[l][h]=c[h][l]=2*n(u[h],u[l]);T[h]=n(u[h],u[h])}for(var d=s(c,T),E=0,S=d[y+1],h=0;h<S.length;++h)E+=S[h];for(var P=new Array(y),h=0;h<y;++h){for(var S=d[h],x=0,l=0;l<S.length;++l)x+=S[l];P[h]=x/E}return P}function f(u){if(u.length===0)return[];for(var y=u[0].length,c=r([y]),T=i(u),h=0;h<u.length;++h)for(var l=0;l<y;++l)c[l]+=u[h][l]*T[h];return c}f.barycenetric=i,v.exports=f},1778:function(v,p,t){v.exports=s;var r=t(9243);function s(n){for(var i=r(n),f=0,u=0;u<n.length;++u)for(var y=n[u],c=0;c<i.length;++c)f+=Math.pow(y[c]-i[c],2);return Math.sqrt(f/n.length)}},197:function(v,p,t){v.exports=F;var r=t(1731),s=t(2569),n=t(4434),i=t(5125),f=t(8846),u=t(7999),y=t(2826),c=t(8551),T=t(5528);function h(I){var U=u(I);return[c(U,-1/0),c(U,1/0)]}function l(I,U){for(var z=new Array(U.length),N=0;N<U.length;++N){var B=U[N],O=I[B[0]],H=I[B[1]];z[N]=[c(Math.min(O[0],H[0]),-1/0),c(Math.min(O[1],H[1]),-1/0),c(Math.max(O[0],H[0]),1/0),c(Math.max(O[1],H[1]),1/0)]}return z}function d(I){for(var U=new Array(I.length),z=0;z<I.length;++z){var N=I[z];U[z]=[c(N[0],-1/0),c(N[1],-1/0),c(N[0],1/0),c(N[1],1/0)]}return U}function E(I,U,z){var N=[];return s(z,function(B,O){var H=U[B],Y=U[O];if(!(H[0]===Y[0]||H[0]===Y[1]||H[1]===Y[0]||H[1]===Y[1])){var J=I[H[0]],re=I[H[1]],ie=I[Y[0]],ce=I[Y[1]];n(J,re,ie,ce)&&N.push([B,O])}}),N}function S(I,U,z,N){var B=[];return s(z,N,function(O,H){var Y=U[O];if(!(Y[0]===H||Y[1]===H)){var J=I[H],re=I[Y[0]],ie=I[Y[1]];n(re,ie,J,J)&&B.push([O,H])}}),B}function P(I,U,z,N,B){var O,H,Y=I.map(function(Ce){return[i(Ce[0]),i(Ce[1])]});for(O=0;O<z.length;++O){var J=z[O];H=J[0];var re=J[1],ie=U[H],ce=U[re],Q=T(y(I[ie[0]]),y(I[ie[1]]),y(I[ce[0]]),y(I[ce[1]]));if(Q){var j=I.length;I.push([u(Q[0]),u(Q[1])]),Y.push(Q),N.push([H,j],[re,j])}}for(N.sort(function(Ce,Ae){if(Ce[0]!==Ae[0])return Ce[0]-Ae[0];var Ue=Y[Ce[1]],Ve=Y[Ae[1]];return f(Ue[0],Ve[0])||f(Ue[1],Ve[1])}),O=N.length-1;O>=0;--O){var Z=N[O];H=Z[0];var $=U[H],te=$[0],se=$[1],ee=I[te],q=I[se];if((ee[0]-q[0]||ee[1]-q[1])<0){var le=te;te=se,se=le}$[0]=te;var oe=$[1]=Z[1],he;for(B&&(he=$[2]);O>0&&N[O-1][0]===H;){var Z=N[--O],me=Z[1];B?U.push([oe,me,he]):U.push([oe,me]),oe=me}B?U.push([oe,se,he]):U.push([oe,se])}return Y}function x(I,U,z){for(var N=U.length,B=new r(N),O=[],H=0;H<U.length;++H){var Y=U[H],J=h(Y[0]),re=h(Y[1]);O.push([c(J[0],-1/0),c(re[0],-1/0),c(J[1],1/0),c(re[1],1/0)])}s(O,function(Z,$){B.link(Z,$)});for(var ie=!0,ce=new Array(N),H=0;H<N;++H){var Q=B.find(H);Q!==H&&(ie=!1,I[Q]=[Math.min(I[H][0],I[Q][0]),Math.min(I[H][1],I[Q][1])])}if(ie)return null;for(var j=0,H=0;H<N;++H){var Q=B.find(H);Q===H?(ce[H]=j,I[j++]=I[H]):ce[H]=-1}I.length=j;for(var H=0;H<N;++H)ce[H]<0&&(ce[H]=ce[B.find(H)]);return ce}function M(I,U){return I[0]-U[0]||I[1]-U[1]}function w(I,U){var z=I[0]-U[0]||I[1]-U[1];return z||(I[2]<U[2]?-1:I[2]>U[2]?1:0)}function o(I,U,z){if(I.length!==0){if(U)for(var N=0;N<I.length;++N){var B=I[N],O=U[B[0]],H=U[B[1]];B[0]=Math.min(O,H),B[1]=Math.max(O,H)}else for(var N=0;N<I.length;++N){var B=I[N],O=B[0],H=B[1];B[0]=Math.min(O,H),B[1]=Math.max(O,H)}z?I.sort(w):I.sort(M);for(var Y=1,N=1;N<I.length;++N){var J=I[N-1],re=I[N];re[0]===J[0]&&re[1]===J[1]&&(!z||re[2]===J[2])||(I[Y++]=re)}I.length=Y}}function L(I,U,z){var N=x(I,[],d(I));return o(U,N,z),!!N}function m(I,U,z){var N=l(I,U),B=E(I,U,N),O=d(I),H=S(I,U,N,O),Y=P(I,U,B,H,z),J=x(I,Y);return o(U,J,z),J?!0:B.length>0||H.length>0}function F(I,U,z){var N;if(z){N=U;for(var B=new Array(U.length),O=0;O<U.length;++O){var H=U[O];B[O]=[H[0],H[1],z[O]]}U=B}for(var Y=L(I,U,!!z);m(I,U,!!z);)Y=!0;if(z&&Y){N.length=0,z.length=0;for(var O=0;O<U.length;++O){var H=U[O];N.push([H[0],H[1]]),z.push(H[2])}}return Y}},5528:function(v,p,t){v.exports=T;var r=t(3962),s=t(9189),n=t(4354),i=t(4951),f=t(6695),u=t(7584),y=t(4469);function c(h,l){return n(r(h[0],l[1]),r(h[1],l[0]))}function T(h,l,d,E){var S=f(l,h),P=f(E,d),x=c(S,P);if(i(x)===0)return null;var M=f(h,d),w=c(P,M),o=s(w,x),L=y(S,o),m=u(h,L);return m}},5692:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(v,p,t){var r=t(5692),s=t(3578);v.exports=n;function n(y){var c,T,h,l,d,E,S,P,o,x,M;if(y||(y={}),P=(y.nshades||72)-1,S=y.format||"hex",E=y.colormap,E||(E="jet"),typeof E=="string"){if(E=E.toLowerCase(),!r[E])throw Error(E+" not a supported colorscale");d=r[E]}else if(Array.isArray(E))d=E.slice();else throw Error("unsupported colormap option",E);if(d.length>P+1)throw new Error(E+" map requires nshades to be at least size "+d.length);Array.isArray(y.alpha)?y.alpha.length!==2?x=[1,1]:x=y.alpha.slice():typeof y.alpha=="number"?x=[y.alpha,y.alpha]:x=[1,1],c=d.map(function(F){return Math.round(F.index*P)}),x[0]=Math.min(Math.max(x[0],0),1),x[1]=Math.min(Math.max(x[1],0),1);var w=d.map(function(F,I){var U=d[I].index,z=d[I].rgb.slice();return z.length===4&&z[3]>=0&&z[3]<=1||(z[3]=x[0]+(x[1]-x[0])*U),z}),o=[];for(M=0;M<c.length-1;++M){l=c[M+1]-c[M],T=w[M],h=w[M+1];for(var L=0;L<l;L++){var m=L/l;o.push([Math.round(s(T[0],h[0],m)),Math.round(s(T[1],h[1],m)),Math.round(s(T[2],h[2],m)),s(T[3],h[3],m)])}}return o.push(d[d.length-1].rgb.concat(x[1])),S==="hex"?o=o.map(f):S==="rgbaString"?o=o.map(u):S==="float"&&(o=o.map(i)),o}function i(y){return[y[0]/255,y[1]/255,y[2]/255,y[3]]}function f(y){for(var c,T="#",h=0;h<3;++h)c=y[h],c=c.toString(16),T+=("00"+c).substr(c.length);return T}function u(y){return"rgba("+y.join(",")+")"}},9398:function(v,p,t){v.exports=y;var r=t(417),s=t(7538),n=t(87),i=t(2019),f=t(9662);function u(c,T,h){var l=n(c[0],-T[0]),d=n(c[1],-T[1]),E=n(h[0],-T[0]),S=n(h[1],-T[1]),P=f(i(l,E),i(d,S));return P[P.length-1]>=0}function y(c,T,h,l){var d=r(T,h,l);if(d===0){var E=s(r(c,T,h)),S=s(r(c,T,l));if(E===S){if(E===0){var P=u(c,T,h),x=u(c,T,l);return P===x?0:P?1:-1}return 0}else{if(S===0)return E>0||u(c,T,l)?-1:1;if(E===0)return S>0||u(c,T,h)?1:-1}return s(S-E)}var M=r(c,T,h);if(M>0)return d>0&&r(c,T,l)>0?1:-1;if(M<0)return d>0||r(c,T,l)>0?1:-1;var w=r(c,T,l);return w>0||u(c,T,h)?1:-1}},7538:function(v){v.exports=function(t){return t<0?-1:t>0?1:0}},9209:function(v){v.exports=r;var p=Math.min;function t(s,n){return s-n}function r(s,n){var i=s.length,f=s.length-n.length;if(f)return f;switch(i){case 0:return 0;case 1:return s[0]-n[0];case 2:return s[0]+s[1]-n[0]-n[1]||p(s[0],s[1])-p(n[0],n[1]);case 3:var u=s[0]+s[1],y=n[0]+n[1];if(f=u+s[2]-(y+n[2]),f)return f;var c=p(s[0],s[1]),T=p(n[0],n[1]);return p(c,s[2])-p(T,n[2])||p(c+s[2],u)-p(T+n[2],y);case 4:var h=s[0],l=s[1],d=s[2],E=s[3],S=n[0],P=n[1],x=n[2],M=n[3];return h+l+d+E-(S+P+x+M)||p(h,l,d,E)-p(S,P,x,M,S)||p(h+l,h+d,h+E,l+d,l+E,d+E)-p(S+P,S+x,S+M,P+x,P+M,x+M)||p(h+l+d,h+l+E,h+d+E,l+d+E)-p(S+P+x,S+P+M,S+x+M,P+x+M);default:for(var w=s.slice().sort(t),o=n.slice().sort(t),L=0;L<i;++L)if(f=w[L]-o[L],f)return f;return 0}}},1284:function(v,p,t){var r=t(9209),s=t(9887);v.exports=n;function n(i,f){return r(i,f)||s(i)-s(f)}},5537:function(v,p,t){var r=t(8950),s=t(8722),n=t(3332);v.exports=i;function i(f){var u=f.length;if(u===0)return[];if(u===1)return[[0]];var y=f[0].length;return y===0?[]:y===1?r(f):y===2?s(f):n(f,y)}},8950:function(v){v.exports=p;function p(t){for(var r=0,s=0,n=1;n<t.length;++n)t[n][0]<t[r][0]&&(r=n),t[n][0]>t[s][0]&&(s=n);return r<s?[[r],[s]]:r>s?[[s],[r]]:[[r]]}},8722:function(v,p,t){v.exports=s;var r=t(3266);function s(n){var i=r(n),f=i.length;if(f<=2)return[];for(var u=new Array(f),y=i[f-1],c=0;c<f;++c){var T=i[c];u[c]=[y,T],y=T}return u}},3332:function(v,p,t){v.exports=f;var r=t(2183),s=t(2153);function n(u,y){for(var c=u.length,T=new Array(c),h=0;h<y.length;++h)T[h]=u[y[h]];for(var l=y.length,h=0;h<c;++h)y.indexOf(h)<0&&(T[l++]=u[h]);return T}function i(u,y){for(var c=u.length,T=y.length,h=0;h<c;++h)for(var l=u[h],d=0;d<l.length;++d){var E=l[d];if(E<T)l[d]=y[E];else{E=E-T;for(var S=0;S<T;++S)E>=y[S]&&(E+=1);l[d]=E}}return u}function f(u,y){try{return r(u,!0)}catch{var c=s(u);if(c.length<=y)return[];var T=n(u,c),h=r(T,!0);return i(h,c)}}},9680:function(v){function p(r,s,n,i,f,u){var y=6*f*f-6*f,c=3*f*f-4*f+1,T=-6*f*f+6*f,h=3*f*f-2*f;if(r.length){u||(u=new Array(r.length));for(var l=r.length-1;l>=0;--l)u[l]=y*r[l]+c*s[l]+T*n[l]+h*i[l];return u}return y*r+c*s+T*n[l]+h*i}function t(r,s,n,i,f,u){var y=f-1,c=f*f,T=y*y,h=(1+2*f)*T,l=f*T,d=c*(3-2*f),E=c*y;if(r.length){u||(u=new Array(r.length));for(var S=r.length-1;S>=0;--S)u[S]=h*r[S]+l*s[S]+d*n[S]+E*i[S];return u}return h*r+l*s+d*n+E*i}v.exports=t,v.exports.derivative=p},4419:function(v,p,t){var r=t(2183),s=t(1215);v.exports=u;function n(y,c){this.point=y,this.index=c}function i(y,c){for(var T=y.point,h=c.point,l=T.length,d=0;d<l;++d){var E=h[d]-T[d];if(E)return E}return 0}function f(y,c,T){if(y===1)return T?[[-1,0]]:[];var h=c.map(function(P,x){return[P[0],x]});h.sort(function(P,x){return P[0]-x[0]});for(var l=new Array(y-1),d=1;d<y;++d){var E=h[d-1],S=h[d];l[d-1]=[E[1],S[1]]}return T&&l.push([-1,l[0][1]],[l[y-1][1],-1]),l}function u(y,c){var T=y.length;if(T===0)return[];var h=y[0].length;if(h<1)return[];if(h===1)return f(T,y,c);for(var l=new Array(T),d=1,E=0;E<T;++E){for(var S=y[E],P=new Array(h+1),x=0,M=0;M<h;++M){var w=S[M];P[M]=w,x+=w*w}P[h]=x,l[E]=new n(P,E),d=Math.max(x,d)}s(l,i),T=l.length;for(var o=new Array(T+h+1),L=new Array(T+h+1),m=(h+1)*(h+1)*d,F=new Array(h+1),E=0;E<=h;++E)F[E]=0;F[h]=m,o[0]=F.slice(),L[0]=-1;for(var E=0;E<=h;++E){var P=F.slice();P[E]=1,o[E+1]=P,L[E+1]=-1}for(var E=0;E<T;++E){var I=l[E];o[E+h+1]=I.point,L[E+h+1]=I.index}var U=r(o,!1);if(c?U=U.filter(function(z){for(var N=0,B=0;B<=h;++B){var O=L[z[B]];if(O<0&&++N>=2)return!1;z[B]=O}return!0}):U=U.filter(function(z){for(var N=0;N<=h;++N){var B=L[z[N]];if(B<0)return!1;z[N]=B}return!0}),h&1)for(var E=0;E<U.length;++E){var I=U[E],P=I[0];I[0]=I[1],I[1]=P}return U}},8362:function(v){var p=!1;if(typeof Float64Array<"u"){var t=new Float64Array(1),r=new Uint32Array(t.buffer);if(t[0]=1,p=!0,r[1]===1072693248){let n=function(u,y){return r[0]=u,r[1]=y,t[0]},i=function(u){return t[0]=u,r[0]},f=function(u){return t[0]=u,r[1]};v.exports=function(y){return t[0]=y,[r[0],r[1]]},v.exports.pack=n,v.exports.lo=i,v.exports.hi=f}else if(r[0]===1072693248){let n=function(u,y){return r[1]=u,r[0]=y,t[0]},i=function(u){return t[0]=u,r[1]},f=function(u){return t[0]=u,r[0]};v.exports=function(y){return t[0]=y,[r[1],r[0]]},v.exports.pack=n,v.exports.lo=i,v.exports.hi=f}else p=!1}if(!p){let n=function(u,y){return s.writeUInt32LE(u,0,!0),s.writeUInt32LE(y,4,!0),s.readDoubleLE(0,!0)},i=function(u){return s.writeDoubleLE(u,0,!0),s.readUInt32LE(0,!0)},f=function(u){return s.writeDoubleLE(u,0,!0),s.readUInt32LE(4,!0)};var s=new Buffer(8);v.exports=function(y){return s.writeDoubleLE(y,0,!0),[s.readUInt32LE(0,!0),s.readUInt32LE(4,!0)]},v.exports.pack=n,v.exports.lo=i,v.exports.hi=f}v.exports.sign=function(n){return v.exports.hi(n)>>>31},v.exports.exponent=function(n){var i=v.exports.hi(n);return(i<<1>>>21)-1023},v.exports.fraction=function(n){var i=v.exports.lo(n),f=v.exports.hi(n),u=f&(1<<20)-1;return f&2146435072&&(u+=1048576),[i,u]},v.exports.denormalized=function(n){var i=v.exports.hi(n);return!(i&2146435072)}},3094:function(v){function p(s,n,i){var f=s[i]|0;if(f<=0)return[];var u=new Array(f),y;if(i===s.length-1)for(y=0;y<f;++y)u[y]=n;else for(y=0;y<f;++y)u[y]=p(s,n,i+1);return u}function t(s,n){var i,f;for(i=new Array(s),f=0;f<s;++f)i[f]=n;return i}function r(s,n){switch(typeof n>"u"&&(n=0),typeof s){case"number":if(s>0)return t(s|0,n);break;case"object":if(typeof s.length=="number")return p(s,n,0);break}return[]}v.exports=r},8348:function(v,p,t){v.exports=s;var r=t(1215);function s(n,i){var f=n.length;if(typeof i!="number"){i=0;for(var u=0;u<f;++u){var y=n[u];i=Math.max(i,y[0],y[1])}i=(i|0)+1}i=i|0;for(var c=new Array(i),u=0;u<i;++u)c[u]=[];for(var u=0;u<f;++u){var y=n[u];c[y[0]].push(y[1]),c[y[1]].push(y[0])}for(var T=0;T<i;++T)r(c[T],function(h,l){return h-l});return c}},5795:function(v){v.exports=p;function p(t,r,s){var n=r||0,i=s||1;return[[t[12]+t[0],t[13]+t[1],t[14]+t[2],t[15]+t[3]],[t[12]-t[0],t[13]-t[1],t[14]-t[2],t[15]-t[3]],[t[12]+t[4],t[13]+t[5],t[14]+t[6],t[15]+t[7]],[t[12]-t[4],t[13]-t[5],t[14]-t[6],t[15]-t[7]],[n*t[12]+t[8],n*t[13]+t[9],n*t[14]+t[10],n*t[15]+t[11]],[i*t[12]-t[8],i*t[13]-t[9],i*t[14]-t[10],i*t[15]-t[11]]]}},8444:function(v,p,t){v.exports=y;var r=t(9680),s=t(5070);function n(c,T,h){return Math.min(T,Math.max(c,h))}function i(c,T,h){this.dimension=c.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var l=0;l<this.dimension;++l)this.bounds[0][l]=-1/0,this.bounds[1][l]=1/0;this._state=c.slice().reverse(),this._velocity=T.slice().reverse(),this._time=[h],this._scratch=[c.slice(),c.slice(),c.slice(),c.slice(),c.slice()]}var f=i.prototype;f.flush=function(c){var T=s.gt(this._time,c)-1;T<=0||(this._time.splice(0,T),this._state.splice(0,T*this.dimension),this._velocity.splice(0,T*this.dimension))},f.curve=function(c){var T=this._time,h=T.length,l=s.le(T,c),d=this._scratch[0],E=this._state,S=this._velocity,P=this.dimension,x=this.bounds;if(l<0)for(var M=P-1,w=0;w<P;++w,--M)d[w]=E[M];else if(l>=h-1)for(var M=E.length-1,o=c-T[h-1],w=0;w<P;++w,--M)d[w]=E[M]+o*S[M];else{for(var M=P*(l+1)-1,L=T[l],m=T[l+1],F=m-L||1,I=this._scratch[1],U=this._scratch[2],z=this._scratch[3],N=this._scratch[4],B=!0,w=0;w<P;++w,--M)I[w]=E[M],z[w]=S[M]*F,U[w]=E[M+P],N[w]=S[M+P]*F,B=B&&I[w]===U[w]&&z[w]===N[w]&&z[w]===0;if(B)for(var w=0;w<P;++w)d[w]=I[w];else r(I,z,U,N,(c-L)/F,d)}for(var O=x[0],H=x[1],w=0;w<P;++w)d[w]=n(O[w],H[w],d[w]);return d},f.dcurve=function(c){var T=this._time,h=T.length,l=s.le(T,c),d=this._scratch[0],E=this._state,S=this._velocity,P=this.dimension;if(l>=h-1){var x=E.length-1;c-T[h-1];for(var M=0;M<P;++M,--x)d[M]=S[x]}else{for(var x=P*(l+1)-1,w=T[l],o=T[l+1],L=o-w||1,m=this._scratch[1],F=this._scratch[2],I=this._scratch[3],U=this._scratch[4],z=!0,M=0;M<P;++M,--x)m[M]=E[x],I[M]=S[x]*L,F[M]=E[x+P],U[M]=S[x+P]*L,z=z&&m[M]===F[M]&&I[M]===U[M]&&I[M]===0;if(z)for(var M=0;M<P;++M)d[M]=0;else{r.derivative(m,I,F,U,(c-w)/L,d);for(var M=0;M<P;++M)d[M]/=L}}return d},f.lastT=function(){var c=this._time;return c[c.length-1]},f.stable=function(){for(var c=this._velocity,T=c.length,h=this.dimension-1;h>=0;--h)if(c[--T])return!1;return!0},f.jump=function(c){var T=this.lastT(),h=this.dimension;if(!(c<T||arguments.length!==h+1)){var l=this._state,d=this._velocity,E=l.length-this.dimension,S=this.bounds,P=S[0],x=S[1];this._time.push(T,c);for(var M=0;M<2;++M)for(var w=0;w<h;++w)l.push(l[E++]),d.push(0);this._time.push(c);for(var w=h;w>0;--w)l.push(n(P[w-1],x[w-1],arguments[w])),d.push(0)}},f.push=function(c){var T=this.lastT(),h=this.dimension;if(!(c<T||arguments.length!==h+1)){var l=this._state,d=this._velocity,E=l.length-this.dimension,S=c-T,P=this.bounds,x=P[0],M=P[1],w=S>1e-6?1/S:0;this._time.push(c);for(var o=h;o>0;--o){var L=n(x[o-1],M[o-1],arguments[o]);l.push(L),d.push((L-l[E++])*w)}}},f.set=function(c){var T=this.dimension;if(!(c<this.lastT()||arguments.length!==T+1)){var h=this._state,l=this._velocity,d=this.bounds,E=d[0],S=d[1];this._time.push(c);for(var P=T;P>0;--P)h.push(n(E[P-1],S[P-1],arguments[P])),l.push(0)}},f.move=function(c){var T=this.lastT(),h=this.dimension;if(!(c<=T||arguments.length!==h+1)){var l=this._state,d=this._velocity,E=l.length-this.dimension,S=this.bounds,P=S[0],x=S[1],M=c-T,w=M>1e-6?1/M:0;this._time.push(c);for(var o=h;o>0;--o){var L=arguments[o];l.push(n(P[o-1],x[o-1],l[E++]+L)),d.push(L*w)}}},f.idle=function(c){var T=this.lastT();if(!(c<T)){var h=this.dimension,l=this._state,d=this._velocity,E=l.length-h,S=this.bounds,P=S[0],x=S[1],M=c-T;this._time.push(c);for(var w=h-1;w>=0;--w)l.push(n(P[w],x[w],l[E]+M*d[E])),d.push(0),E+=1}};function u(c){for(var T=new Array(c),h=0;h<c;++h)T[h]=0;return T}function y(c,T,h){switch(arguments.length){case 0:return new i([0],[0],0);case 1:if(typeof c=="number"){var l=u(c);return new i(l,l,0)}else return new i(c,u(c.length),0);case 2:if(typeof T=="number"){var l=u(c.length);return new i(c,l,+T)}else h=0;case 3:if(c.length!==T.length)throw new Error("state and velocity lengths must match");return new i(c,T,h)}}},7080:function(v){v.exports=P;var p=0,t=1;function r(x,M,w,o,L,m){this._color=x,this.key=M,this.value=w,this.left=o,this.right=L,this._count=m}function s(x){return new r(x._color,x.key,x.value,x.left,x.right,x._count)}function n(x,M){return new r(x,M.key,M.value,M.left,M.right,M._count)}function i(x){x._count=1+(x.left?x.left._count:0)+(x.right?x.right._count:0)}function f(x,M){this._compare=x,this.root=M}var u=f.prototype;Object.defineProperty(u,"keys",{get:function(){var x=[];return this.forEach(function(M,w){x.push(M)}),x}}),Object.defineProperty(u,"values",{get:function(){var x=[];return this.forEach(function(M,w){x.push(w)}),x}}),Object.defineProperty(u,"length",{get:function(){return this.root?this.root._count:0}}),u.insert=function(x,M){for(var w=this._compare,o=this.root,L=[],m=[];o;){var F=w(x,o.key);L.push(o),m.push(F),F<=0?o=o.left:o=o.right}L.push(new r(p,x,M,null,null,1));for(var I=L.length-2;I>=0;--I){var o=L[I];m[I]<=0?L[I]=new r(o._color,o.key,o.value,L[I+1],o.right,o._count+1):L[I]=new r(o._color,o.key,o.value,o.left,L[I+1],o._count+1)}for(var I=L.length-1;I>1;--I){var U=L[I-1],o=L[I];if(U._color===t||o._color===t)break;var z=L[I-2];if(z.left===U)if(U.left===o){var N=z.right;if(N&&N._color===p)U._color=t,z.right=n(t,N),z._color=p,I-=1;else{if(z._color=p,z.left=U.right,U._color=t,U.right=z,L[I-2]=U,L[I-1]=o,i(z),i(U),I>=3){var B=L[I-3];B.left===z?B.left=U:B.right=U}break}}else{var N=z.right;if(N&&N._color===p)U._color=t,z.right=n(t,N),z._color=p,I-=1;else{if(U.right=o.left,z._color=p,z.left=o.right,o._color=t,o.left=U,o.right=z,L[I-2]=o,L[I-1]=U,i(z),i(U),i(o),I>=3){var B=L[I-3];B.left===z?B.left=o:B.right=o}break}}else if(U.right===o){var N=z.left;if(N&&N._color===p)U._color=t,z.left=n(t,N),z._color=p,I-=1;else{if(z._color=p,z.right=U.left,U._color=t,U.left=z,L[I-2]=U,L[I-1]=o,i(z),i(U),I>=3){var B=L[I-3];B.right===z?B.right=U:B.left=U}break}}else{var N=z.left;if(N&&N._color===p)U._color=t,z.left=n(t,N),z._color=p,I-=1;else{if(U.left=o.right,z._color=p,z.right=o.left,o._color=t,o.right=U,o.left=z,L[I-2]=o,L[I-1]=U,i(z),i(U),i(o),I>=3){var B=L[I-3];B.right===z?B.right=o:B.left=o}break}}}return L[0]._color=t,new f(w,L[0])};function y(x,M){if(M.left){var w=y(x,M.left);if(w)return w}var w=x(M.key,M.value);if(w)return w;if(M.right)return y(x,M.right)}function c(x,M,w,o){var L=M(x,o.key);if(L<=0){if(o.left){var m=c(x,M,w,o.left);if(m)return m}var m=w(o.key,o.value);if(m)return m}if(o.right)return c(x,M,w,o.right)}function T(x,M,w,o,L){var m=w(x,L.key),F=w(M,L.key),I;if(m<=0&&(L.left&&(I=T(x,M,w,o,L.left),I)||F>0&&(I=o(L.key,L.value),I)))return I;if(F>0&&L.right)return T(x,M,w,o,L.right)}u.forEach=function(M,w,o){if(this.root)switch(arguments.length){case 1:return y(M,this.root);case 2:return c(w,this._compare,M,this.root);case 3:return this._compare(w,o)>=0?void 0:T(w,o,this._compare,M,this.root)}},Object.defineProperty(u,"begin",{get:function(){for(var x=[],M=this.root;M;)x.push(M),M=M.left;return new h(this,x)}}),Object.defineProperty(u,"end",{get:function(){for(var x=[],M=this.root;M;)x.push(M),M=M.right;return new h(this,x)}}),u.at=function(x){if(x<0)return new h(this,[]);for(var M=this.root,w=[];;){if(w.push(M),M.left){if(x<M.left._count){M=M.left;continue}x-=M.left._count}if(!x)return new h(this,w);if(x-=1,M.right){if(x>=M.right._count)break;M=M.right}else break}return new h(this,[])},u.ge=function(x){for(var M=this._compare,w=this.root,o=[],L=0;w;){var m=M(x,w.key);o.push(w),m<=0&&(L=o.length),m<=0?w=w.left:w=w.right}return o.length=L,new h(this,o)},u.gt=function(x){for(var M=this._compare,w=this.root,o=[],L=0;w;){var m=M(x,w.key);o.push(w),m<0&&(L=o.length),m<0?w=w.left:w=w.right}return o.length=L,new h(this,o)},u.lt=function(x){for(var M=this._compare,w=this.root,o=[],L=0;w;){var m=M(x,w.key);o.push(w),m>0&&(L=o.length),m<=0?w=w.left:w=w.right}return o.length=L,new h(this,o)},u.le=function(x){for(var M=this._compare,w=this.root,o=[],L=0;w;){var m=M(x,w.key);o.push(w),m>=0&&(L=o.length),m<0?w=w.left:w=w.right}return o.length=L,new h(this,o)},u.find=function(x){for(var M=this._compare,w=this.root,o=[];w;){var L=M(x,w.key);if(o.push(w),L===0)return new h(this,o);L<=0?w=w.left:w=w.right}return new h(this,[])},u.remove=function(x){var M=this.find(x);return M?M.remove():this},u.get=function(x){for(var M=this._compare,w=this.root;w;){var o=M(x,w.key);if(o===0)return w.value;o<=0?w=w.left:w=w.right}};function h(x,M){this.tree=x,this._stack=M}var l=h.prototype;Object.defineProperty(l,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(l,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),l.clone=function(){return new h(this.tree,this._stack.slice())};function d(x,M){x.key=M.key,x.value=M.value,x.left=M.left,x.right=M.right,x._color=M._color,x._count=M._count}function E(x){for(var M,w,o,L,m=x.length-1;m>=0;--m){if(M=x[m],m===0){M._color=t;return}if(w=x[m-1],w.left===M){if(o=w.right,o.right&&o.right._color===p){if(o=w.right=s(o),L=o.right=s(o.right),w.right=o.left,o.left=w,o.right=L,o._color=w._color,M._color=t,w._color=t,L._color=t,i(w),i(o),m>1){var F=x[m-2];F.left===w?F.left=o:F.right=o}x[m-1]=o;return}else if(o.left&&o.left._color===p){if(o=w.right=s(o),L=o.left=s(o.left),w.right=L.left,o.left=L.right,L.left=w,L.right=o,L._color=w._color,w._color=t,o._color=t,M._color=t,i(w),i(o),i(L),m>1){var F=x[m-2];F.left===w?F.left=L:F.right=L}x[m-1]=L;return}if(o._color===t)if(w._color===p){w._color=t,w.right=n(p,o);return}else{w.right=n(p,o);continue}else{if(o=s(o),w.right=o.left,o.left=w,o._color=w._color,w._color=p,i(w),i(o),m>1){var F=x[m-2];F.left===w?F.left=o:F.right=o}x[m-1]=o,x[m]=w,m+1<x.length?x[m+1]=M:x.push(M),m=m+2}}else{if(o=w.left,o.left&&o.left._color===p){if(o=w.left=s(o),L=o.left=s(o.left),w.left=o.right,o.right=w,o.left=L,o._color=w._color,M._color=t,w._color=t,L._color=t,i(w),i(o),m>1){var F=x[m-2];F.right===w?F.right=o:F.left=o}x[m-1]=o;return}else if(o.right&&o.right._color===p){if(o=w.left=s(o),L=o.right=s(o.right),w.left=L.right,o.right=L.left,L.right=w,L.left=o,L._color=w._color,w._color=t,o._color=t,M._color=t,i(w),i(o),i(L),m>1){var F=x[m-2];F.right===w?F.right=L:F.left=L}x[m-1]=L;return}if(o._color===t)if(w._color===p){w._color=t,w.left=n(p,o);return}else{w.left=n(p,o);continue}else{if(o=s(o),w.left=o.right,o.right=w,o._color=w._color,w._color=p,i(w),i(o),m>1){var F=x[m-2];F.right===w?F.right=o:F.left=o}x[m-1]=o,x[m]=w,m+1<x.length?x[m+1]=M:x.push(M),m=m+2}}}}l.remove=function(){var x=this._stack;if(x.length===0)return this.tree;var M=new Array(x.length),w=x[x.length-1];M[M.length-1]=new r(w._color,w.key,w.value,w.left,w.right,w._count);for(var o=x.length-2;o>=0;--o){var w=x[o];w.left===x[o+1]?M[o]=new r(w._color,w.key,w.value,M[o+1],w.right,w._count):M[o]=new r(w._color,w.key,w.value,w.left,M[o+1],w._count)}if(w=M[M.length-1],w.left&&w.right){var L=M.length;for(w=w.left;w.right;)M.push(w),w=w.right;var m=M[L-1];M.push(new r(w._color,m.key,m.value,w.left,w.right,w._count)),M[L-1].key=w.key,M[L-1].value=w.value;for(var o=M.length-2;o>=L;--o)w=M[o],M[o]=new r(w._color,w.key,w.value,w.left,M[o+1],w._count);M[L-1].left=M[L]}if(w=M[M.length-1],w._color===p){var F=M[M.length-2];F.left===w?F.left=null:F.right===w&&(F.right=null),M.pop();for(var o=0;o<M.length;++o)M[o]._count--;return new f(this.tree._compare,M[0])}else if(w.left||w.right){w.left?d(w,w.left):w.right&&d(w,w.right),w._color=t;for(var o=0;o<M.length-1;++o)M[o]._count--;return new f(this.tree._compare,M[0])}else{if(M.length===1)return new f(this.tree._compare,null);for(var o=0;o<M.length;++o)M[o]._count--;var I=M[M.length-2];E(M),I.left===w?I.left=null:I.right=null}return new f(this.tree._compare,M[0])},Object.defineProperty(l,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(l,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(l,"index",{get:function(){var x=0,M=this._stack;if(M.length===0){var w=this.tree.root;return w?w._count:0}else M[M.length-1].left&&(x=M[M.length-1].left._count);for(var o=M.length-2;o>=0;--o)M[o+1]===M[o].right&&(++x,M[o].left&&(x+=M[o].left._count));return x},enumerable:!0}),l.next=function(){var x=this._stack;if(x.length!==0){var M=x[x.length-1];if(M.right)for(M=M.right;M;)x.push(M),M=M.left;else for(x.pop();x.length>0&&x[x.length-1].right===M;)M=x[x.length-1],x.pop()}},Object.defineProperty(l,"hasNext",{get:function(){var x=this._stack;if(x.length===0)return!1;if(x[x.length-1].right)return!0;for(var M=x.length-1;M>0;--M)if(x[M-1].left===x[M])return!0;return!1}}),l.update=function(x){var M=this._stack;if(M.length===0)throw new Error("Can't update empty node!");var w=new Array(M.length),o=M[M.length-1];w[w.length-1]=new r(o._color,o.key,x,o.left,o.right,o._count);for(var L=M.length-2;L>=0;--L)o=M[L],o.left===M[L+1]?w[L]=new r(o._color,o.key,o.value,w[L+1],o.right,o._count):w[L]=new r(o._color,o.key,o.value,o.left,w[L+1],o._count);return new f(this.tree._compare,w[0])},l.prev=function(){var x=this._stack;if(x.length!==0){var M=x[x.length-1];if(M.left)for(M=M.left;M;)x.push(M),M=M.right;else for(x.pop();x.length>0&&x[x.length-1].left===M;)M=x[x.length-1],x.pop()}},Object.defineProperty(l,"hasPrev",{get:function(){var x=this._stack;if(x.length===0)return!1;if(x[x.length-1].left)return!0;for(var M=x.length-1;M>0;--M)if(x[M-1].right===x[M])return!0;return!1}});function S(x,M){return x<M?-1:x>M?1:0}function P(x){return new f(x||S,null)}},7453:function(v,p,t){v.exports=o;var r=t(9557),s=t(1681),n=t(1011),i=t(2864),f=t(8468),u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function y(L,m){return L[0]=m[0],L[1]=m[1],L[2]=m[2],L}function c(L){this.gl=L,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(L)}var T=c.prototype;T.update=function(L){L=L||{};function m(ie,ce,Q){if(Q in L){var j=L[Q],Z=this[Q],$;(ie?Array.isArray(j)&&Array.isArray(j[0]):Array.isArray(j))?this[Q]=$=[ce(j[0]),ce(j[1]),ce(j[2])]:this[Q]=$=[ce(j),ce(j),ce(j)];for(var te=0;te<3;++te)if($[te]!==Z[te])return!0}return!1}var F=m.bind(this,!1,Number),I=m.bind(this,!1,Boolean),U=m.bind(this,!1,String),z=m.bind(this,!0,function(ie){if(Array.isArray(ie)){if(ie.length===3)return[+ie[0],+ie[1],+ie[2],1];if(ie.length===4)return[+ie[0],+ie[1],+ie[2],+ie[3]]}return[0,0,0,1]}),N,B=!1,O=!1;if("bounds"in L)for(var H=L.bounds,Y=0;Y<2;++Y)for(var J=0;J<3;++J)H[Y][J]!==this.bounds[Y][J]&&(O=!0),this.bounds[Y][J]=H[Y][J];if("ticks"in L){N=L.ticks,B=!0,this.autoTicks=!1;for(var Y=0;Y<3;++Y)this.tickSpacing[Y]=0}else F("tickSpacing")&&(this.autoTicks=!0,O=!0);if(this._firstInit&&("ticks"in L||"tickSpacing"in L||(this.autoTicks=!0),O=!0,B=!0,this._firstInit=!1),O&&this.autoTicks&&(N=f.create(this.bounds,this.tickSpacing),B=!0),B){for(var Y=0;Y<3;++Y)N[Y].sort(function(ce,Q){return ce.x-Q.x});f.equal(N,this.ticks)?B=!1:this.ticks=N}I("tickEnable"),U("tickFont")&&(B=!0),F("tickSize"),F("tickAngle"),F("tickPad"),z("tickColor");var re=U("labels");U("labelFont")&&(re=!0),I("labelEnable"),F("labelSize"),F("labelPad"),z("labelColor"),I("lineEnable"),I("lineMirror"),F("lineWidth"),z("lineColor"),I("lineTickEnable"),I("lineTickMirror"),F("lineTickLength"),F("lineTickWidth"),z("lineTickColor"),I("gridEnable"),F("gridWidth"),z("gridColor"),I("zeroEnable"),z("zeroLineColor"),F("zeroLineWidth"),I("backgroundEnable"),z("backgroundColor"),this._text?this._text&&(re||B)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=r(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&B&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=s(this.gl,this.bounds,this.ticks))};function h(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var l=[new h,new h,new h];function d(L,m,F,I,U){for(var z=L.primalOffset,N=L.primalMinor,B=L.mirrorOffset,O=L.mirrorMinor,H=I[m],Y=0;Y<3;++Y)if(m!==Y){var J=z,re=B,ie=N,ce=O;H&1<<Y&&(J=B,re=z,ie=O,ce=N),J[Y]=F[0][Y],re[Y]=F[1][Y],U[Y]>0?(ie[Y]=-1,ce[Y]=0):(ie[Y]=0,ce[Y]=1)}}var E=[0,0,0],S={model:u,view:u,projection:u,_ortho:!1};T.isOpaque=function(){return!0},T.isTransparent=function(){return!1},T.drawTransparent=function(L){};var P=0,x=[0,0,0],M=[0,0,0],w=[0,0,0];T.draw=function(L){L=L||S;for(var Z=this.gl,m=L.model||u,F=L.view||u,I=L.projection||u,U=this.bounds,z=L._ortho||!1,N=i(m,F,I,U,z),B=N.cubeEdges,O=N.axis,H=F[12],Y=F[13],J=F[14],re=F[15],ie=z?2:1,ce=ie*this.pixelRatio*(I[3]*H+I[7]*Y+I[11]*J+I[15]*re)/Z.drawingBufferHeight,Q=0;Q<3;++Q)this.lastCubeProps.cubeEdges[Q]=B[Q],this.lastCubeProps.axis[Q]=O[Q];for(var j=l,Q=0;Q<3;++Q)d(l[Q],Q,this.bounds,B,O);for(var Z=this.gl,$=E,Q=0;Q<3;++Q)this.backgroundEnable[Q]?$[Q]=O[Q]:$[Q]=0;this._background.draw(m,F,I,U,$,this.backgroundColor),this._lines.bind(m,F,I,this);for(var Q=0;Q<3;++Q){var te=[0,0,0];O[Q]>0?te[Q]=U[1][Q]:te[Q]=U[0][Q];for(var se=0;se<2;++se){var ee=(Q+1+se)%3,q=(Q+1+(se^1))%3;this.gridEnable[ee]&&this._lines.drawGrid(ee,q,this.bounds,te,this.gridColor[ee],this.gridWidth[ee]*this.pixelRatio)}for(var se=0;se<2;++se){var ee=(Q+1+se)%3,q=(Q+1+(se^1))%3;this.zeroEnable[q]&&Math.min(U[0][q],U[1][q])<=0&&Math.max(U[0][q],U[1][q])>=0&&this._lines.drawZero(ee,q,this.bounds,te,this.zeroLineColor[q],this.zeroLineWidth[q]*this.pixelRatio)}}for(var Q=0;Q<3;++Q){this.lineEnable[Q]&&this._lines.drawAxisLine(Q,this.bounds,j[Q].primalOffset,this.lineColor[Q],this.lineWidth[Q]*this.pixelRatio),this.lineMirror[Q]&&this._lines.drawAxisLine(Q,this.bounds,j[Q].mirrorOffset,this.lineColor[Q],this.lineWidth[Q]*this.pixelRatio);for(var le=y(x,j[Q].primalMinor),oe=y(M,j[Q].mirrorMinor),he=this.lineTickLength,se=0;se<3;++se){var me=ce/m[5*se];le[se]*=he[se]*me,oe[se]*=he[se]*me}this.lineTickEnable[Q]&&this._lines.drawAxisTicks(Q,j[Q].primalOffset,le,this.lineTickColor[Q],this.lineTickWidth[Q]*this.pixelRatio),this.lineTickMirror[Q]&&this._lines.drawAxisTicks(Q,j[Q].mirrorOffset,oe,this.lineTickColor[Q],this.lineTickWidth[Q]*this.pixelRatio)}this._lines.unbind(),this._text.bind(m,F,I,this.pixelRatio);var Ce,Ae=.5,Ue,Ve;function Pe(Ze){Ve=[0,0,0],Ve[Ze]=1}function be(Ze,ut,at){var it=(Ze+1)%3,$e=(Ze+2)%3,st=ut[it],ct=ut[$e],vt=at[it],St=at[$e];if(st>0&&St>0){Pe(it);return}else if(st>0&&St<0){Pe(it);return}else if(st<0&&St>0){Pe(it);return}else if(st<0&&St<0){Pe(it);return}else if(ct>0&&vt>0){Pe($e);return}else if(ct>0&&vt<0){Pe($e);return}else if(ct<0&&vt>0){Pe($e);return}else if(ct<0&&vt<0){Pe($e);return}}for(var Q=0;Q<3;++Q){for(var Le=j[Q].primalMinor,We=j[Q].mirrorMinor,je=y(w,j[Q].primalOffset),se=0;se<3;++se)this.lineTickEnable[Q]&&(je[se]+=ce*Le[se]*Math.max(this.lineTickLength[se],0)/m[5*se]);var Fe=[0,0,0];if(Fe[Q]=1,this.tickEnable[Q]){this.tickAngle[Q]===-3600?(this.tickAngle[Q]=0,this.tickAlign[Q]="auto"):this.tickAlign[Q]=-1,Ue=1,Ce=[this.tickAlign[Q],Ae,Ue],Ce[0]==="auto"?Ce[0]=P:Ce[0]=parseInt(""+Ce[0]),Ve=[0,0,0],be(Q,Le,We);for(var se=0;se<3;++se)je[se]+=ce*Le[se]*this.tickPad[se]/m[5*se];this._text.drawTicks(Q,this.tickSize[Q],this.tickAngle[Q],je,this.tickColor[Q],Fe,Ve,Ce)}if(this.labelEnable[Q]){Ue=0,Ve=[0,0,0],this.labels[Q].length>4&&(Pe(Q),Ue=1),Ce=[this.labelAlign[Q],Ae,Ue],Ce[0]==="auto"?Ce[0]=P:Ce[0]=parseInt(""+Ce[0]);for(var se=0;se<3;++se)je[se]+=ce*Le[se]*this.labelPad[se]/m[5*se];je[Q]+=.5*(U[0][Q]+U[1][Q]),this._text.drawLabel(Q,this.labelSize[Q],this.labelAngle[Q],je,this.labelColor[Q],[0,0,0],Ve,Ce)}}this._text.unbind()},T.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function o(L,m){var F=new c(L);return F.update(m),F}},1011:function(v,p,t){v.exports=u;var r=t(5827),s=t(2944),n=t(1943).bg;function i(y,c,T,h){this.gl=y,this.buffer=c,this.vao=T,this.shader=h}var f=i.prototype;f.draw=function(y,c,T,h,l,d){for(var E=!1,S=0;S<3;++S)E=E||l[S];if(E){var P=this.gl;P.enable(P.POLYGON_OFFSET_FILL),P.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:y,view:c,projection:T,bounds:h,enable:l,colors:d},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),P.disable(P.POLYGON_OFFSET_FILL)}},f.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function u(y){for(var c=[],T=[],h=0,l=0;l<3;++l)for(var d=(l+1)%3,E=(l+2)%3,S=[0,0,0],P=[0,0,0],x=-1;x<=1;x+=2){T.push(h,h+2,h+1,h+1,h+2,h+3),S[l]=x,P[l]=x;for(var M=-1;M<=1;M+=2){S[d]=M;for(var w=-1;w<=1;w+=2)S[E]=w,c.push(S[0],S[1],S[2],P[0],P[1],P[2]),h+=1}var o=d;d=E,E=o}var L=r(y,new Float32Array(c)),m=r(y,new Uint16Array(T),y.ELEMENT_ARRAY_BUFFER),F=s(y,[{buffer:L,type:y.FLOAT,size:3,offset:0,stride:24},{buffer:L,type:y.FLOAT,size:3,offset:12,stride:24}],m),I=n(y);return I.attributes.position.location=0,I.attributes.normal.location=1,new i(y,L,F,I)}},2864:function(v,p,t){v.exports=x;var r=t(2288),s=t(104),n=t(4670),i=t(417),f=new Array(16),u=new Array(8),y=new Array(8),c=new Array(3),T=[0,0,0];(function(){for(var M=0;M<8;++M)u[M]=[1,1,1,1],y[M]=[1,1,1]})();function h(M,w,o){for(var L=0;L<4;++L){M[L]=o[12+L];for(var m=0;m<3;++m)M[L]+=w[m]*o[4*m+L]}}var l=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function d(M){for(var w=0;w<l.length;++w)if(M=n.positive(M,l[w]),M.length<3)return 0;for(var o=M[0],L=o[0]/o[3],m=o[1]/o[3],F=0,w=1;w+1<M.length;++w){var I=M[w],U=M[w+1],z=I[0]/I[3],N=I[1]/I[3],B=U[0]/U[3],O=U[1]/U[3],H=z-L,Y=N-m,J=B-L,re=O-m;F+=Math.abs(H*re-Y*J)}return F}var E=[1,1,1],S=[0,0,0],P={cubeEdges:E,axis:S};function x(M,w,o,L,m){s(f,w,M),s(f,o,f);for(var F=0,I=0;I<2;++I){c[2]=L[I][2];for(var U=0;U<2;++U){c[1]=L[U][1];for(var z=0;z<2;++z)c[0]=L[z][0],h(u[F],c,f),F+=1}}for(var N=-1,I=0;I<8;++I){for(var B=u[I][3],O=0;O<3;++O)y[I][O]=u[I][O]/B;m&&(y[I][2]*=-1),B<0&&(N<0||y[I][2]<y[N][2])&&(N=I)}if(N<0){N=0;for(var H=0;H<3;++H){for(var Y=(H+2)%3,J=(H+1)%3,re=-1,ie=-1,ce=0;ce<2;++ce){var Q=ce<<H,j=Q+(ce<<Y)+(1-ce<<J),Z=Q+(1-ce<<Y)+(ce<<J);i(y[Q],y[j],y[Z],T)<0||(ce?re=1:ie=1)}if(re<0||ie<0){ie>re&&(N|=1<<H);continue}for(var ce=0;ce<2;++ce){var Q=ce<<H,j=Q+(ce<<Y)+(1-ce<<J),Z=Q+(1-ce<<Y)+(ce<<J),$=d([u[Q],u[j],u[Z],u[Q+(1<<Y)+(1<<J)]]);ce?re=$:ie=$}if(ie>re){N|=1<<H;continue}}}for(var te=7^N,se=-1,I=0;I<8;++I)I===N||I===te||(se<0||y[se][1]>y[I][1])&&(se=I);for(var ee=-1,I=0;I<3;++I){var q=se^1<<I;if(!(q===N||q===te)){ee<0&&(ee=q);var J=y[q];J[0]<y[ee][0]&&(ee=q)}}for(var le=-1,I=0;I<3;++I){var q=se^1<<I;if(!(q===N||q===te||q===ee)){le<0&&(le=q);var J=y[q];J[0]>y[le][0]&&(le=q)}}var oe=E;oe[0]=oe[1]=oe[2]=0,oe[r.log2(ee^se)]=se&ee,oe[r.log2(se^le)]=se&le;var he=le^7;he===N||he===te?(he=ee^7,oe[r.log2(le^he)]=he&le):oe[r.log2(ee^he)]=he&ee;for(var me=S,Ce=N,H=0;H<3;++H)Ce&1<<H?me[H]=-1:me[H]=1;return P}},1681:function(v,p,t){v.exports=E;var r=t(5827),s=t(2944),n=t(1943).j,i=[0,0,0],f=[0,0,0],u=[0,0,0],y=[0,0,0],c=[1,1];function T(S){return S[0]=S[1]=S[2]=0,S}function h(S,P){return S[0]=P[0],S[1]=P[1],S[2]=P[2],S}function l(S,P,x,M,w,o,L,m){this.gl=S,this.vertBuffer=P,this.vao=x,this.shader=M,this.tickCount=w,this.tickOffset=o,this.gridCount=L,this.gridOffset=m}var d=l.prototype;d.bind=function(S,P,x){this.shader.bind(),this.shader.uniforms.model=S,this.shader.uniforms.view=P,this.shader.uniforms.projection=x,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=c,this.vao.bind()},d.unbind=function(){this.vao.unbind()},d.drawAxisLine=function(S,P,x,M,w){var o=T(f);this.shader.uniforms.majorAxis=f,o[S]=P[1][S]-P[0][S],this.shader.uniforms.minorAxis=o;var L=h(y,x);L[S]+=P[0][S],this.shader.uniforms.offset=L,this.shader.uniforms.lineWidth=w,this.shader.uniforms.color=M;var m=T(u);m[(S+2)%3]=1,this.shader.uniforms.screenAxis=m,this.vao.draw(this.gl.TRIANGLES,6);var m=T(u);m[(S+1)%3]=1,this.shader.uniforms.screenAxis=m,this.vao.draw(this.gl.TRIANGLES,6)},d.drawAxisTicks=function(S,P,x,M,w){if(this.tickCount[S]){var o=T(i);o[S]=1,this.shader.uniforms.majorAxis=o,this.shader.uniforms.offset=P,this.shader.uniforms.minorAxis=x,this.shader.uniforms.color=M,this.shader.uniforms.lineWidth=w;var L=T(u);L[S]=1,this.shader.uniforms.screenAxis=L,this.vao.draw(this.gl.TRIANGLES,this.tickCount[S],this.tickOffset[S])}},d.drawGrid=function(S,P,x,M,w,o){if(this.gridCount[S]){var L=T(f);L[P]=x[1][P]-x[0][P],this.shader.uniforms.minorAxis=L;var m=h(y,M);m[P]+=x[0][P],this.shader.uniforms.offset=m;var F=T(i);F[S]=1,this.shader.uniforms.majorAxis=F;var I=T(u);I[S]=1,this.shader.uniforms.screenAxis=I,this.shader.uniforms.lineWidth=o,this.shader.uniforms.color=w,this.vao.draw(this.gl.TRIANGLES,this.gridCount[S],this.gridOffset[S])}},d.drawZero=function(S,P,x,M,w,o){var L=T(f);this.shader.uniforms.majorAxis=L,L[S]=x[1][S]-x[0][S],this.shader.uniforms.minorAxis=L;var m=h(y,M);m[S]+=x[0][S],this.shader.uniforms.offset=m;var F=T(u);F[P]=1,this.shader.uniforms.screenAxis=F,this.shader.uniforms.lineWidth=o,this.shader.uniforms.color=w,this.vao.draw(this.gl.TRIANGLES,6)},d.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function E(S,P,x){var M=[],w=[0,0,0],o=[0,0,0],L=[0,0,0],m=[0,0,0];M.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var F=0;F<3;++F){for(var z=M.length/3|0,I=0;I<x[F].length;++I){var U=+x[F][I].x;M.push(U,0,1,U,1,1,U,0,-1,U,0,-1,U,1,1,U,1,-1)}var B=M.length/3|0;w[F]=z,o[F]=B-z;for(var z=M.length/3|0,N=0;N<x[F].length;++N){var U=+x[F][N].x;M.push(U,0,1,U,1,1,U,0,-1,U,0,-1,U,1,1,U,1,-1)}var B=M.length/3|0;L[F]=z,m[F]=B-z}var O=r(S,new Float32Array(M)),H=s(S,[{buffer:O,type:S.FLOAT,size:3,stride:0,offset:0}]),Y=n(S);return Y.attributes.position.location=0,new l(S,O,H,Y,o,w,m,L)}},1943:function(v,p,t){var r=t(6832),s=t(5158),n=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),i=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.j=function(T){return s(T,n,i,null,[{name:"position",type:"vec3"}])};var f=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),u=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.f=function(T){return s(T,f,u,null,[{name:"position",type:"vec3"}])};var y=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),c=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);p.bg=function(T){return s(T,y,c,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(v,p,t){v.exports=d;var r=t(5827),s=t(2944),n=t(875),i=t(1943).f,f=window||g.global||{},u=f.__TEXT_CACHE||{};f.__TEXT_CACHE={};var y=3;function c(E,S,P,x){this.gl=E,this.shader=S,this.buffer=P,this.vao=x,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var T=c.prototype,h=[0,0];T.bind=function(E,S,P,x){this.vao.bind(),this.shader.bind();var M=this.shader.uniforms;M.model=E,M.view=S,M.projection=P,M.pixelScale=x,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=h},T.unbind=function(){this.vao.unbind()},T.update=function(E,S,P,x,M){var w=[];function o(O,H,Y,J,re,ie){var ce=u[Y];ce||(ce=u[Y]={});var Q=ce[H];Q||(Q=ce[H]=l(H,{triangles:!0,font:Y,textAlign:"center",textBaseline:"middle",lineSpacing:re,styletags:ie}));for(var j=(J||12)/12,Z=Q.positions,$=Q.cells,te=0,se=$.length;te<se;++te)for(var ee=$[te],q=2;q>=0;--q){var le=Z[ee[q]];w.push(j*le[0],-j*le[1],O)}}for(var L=[0,0,0],m=[0,0,0],F=[0,0,0],I=[0,0,0],U=1.25,z={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},N=0;N<3;++N){F[N]=w.length/y|0,o(.5*(E[0][N]+E[1][N]),S[N],P[N],12,U,z),I[N]=(w.length/y|0)-F[N],L[N]=w.length/y|0;for(var B=0;B<x[N].length;++B)x[N][B].text&&o(x[N][B].x,x[N][B].text,x[N][B].font||M,x[N][B].fontSize||12,U,z);m[N]=(w.length/y|0)-L[N]}this.buffer.update(w),this.tickOffset=L,this.tickCount=m,this.labelOffset=F,this.labelCount=I},T.drawTicks=function(E,S,P,x,M,w,o,L){this.tickCount[E]&&(this.shader.uniforms.axis=w,this.shader.uniforms.color=M,this.shader.uniforms.angle=P,this.shader.uniforms.scale=S,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=o,this.shader.uniforms.alignOpt=L,this.vao.draw(this.gl.TRIANGLES,this.tickCount[E],this.tickOffset[E]))},T.drawLabel=function(E,S,P,x,M,w,o,L){this.labelCount[E]&&(this.shader.uniforms.axis=w,this.shader.uniforms.color=M,this.shader.uniforms.angle=P,this.shader.uniforms.scale=S,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=o,this.shader.uniforms.alignOpt=L,this.vao.draw(this.gl.TRIANGLES,this.labelCount[E],this.labelOffset[E]))},T.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function l(E,S){try{return n(E,S)}catch(P){return console.warn('error vectorizing text:"'+E+'" error:',P),{cells:[],positions:[]}}}function d(E,S,P,x,M,w){var o=r(E),L=s(E,[{buffer:o,size:3}]),m=i(E);m.attributes.position.location=0;var F=new c(E,m,o,L);return F.update(S,P,x,M,w),F}},8468:function(v,p){p.create=r,p.equal=s;function t(n,i){var f=n+"",u=f.indexOf("."),y=0;u>=0&&(y=f.length-u-1);var c=Math.pow(10,y),T=Math.round(n*i*c),h=T+"";if(h.indexOf("e")>=0)return h;var l=T/c,d=T%c;T<0?(l=-Math.ceil(l)|0,d=-d|0):(l=Math.floor(l)|0,d=d|0);var E=""+l;if(T<0&&(E="-"+E),y){for(var S=""+d;S.length<y;)S="0"+S;return E+"."+S}else return E}function r(n,i){for(var f=[],u=0;u<3;++u){var y=[];.5*(n[0][u]+n[1][u]);for(var c=0;c*i[u]<=n[1][u];++c)y.push({x:c*i[u],text:t(i[u],c)});for(var c=-1;c*i[u]>=n[0][u];--c)y.push({x:c*i[u],text:t(i[u],c)});f.push(y)}return f}function s(n,i){for(var f=0;f<3;++f){if(n[f].length!==i[f].length)return!1;for(var u=0;u<n[f].length;++u){var y=n[f][u],c=i[f][u];if(y.x!==c.x||y.text!==c.text||y.font!==c.font||y.fontColor!==c.fontColor||y.fontSize!==c.fontSize||y.dx!==c.dx||y.dy!==c.dy)return!1}}return!0}},2771:function(v,p,t){v.exports=P;var r=t(5795),s=t(4670),n=t(2864),i=t(104),f=t(2142),u=t(6342),y=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c=new Float32Array(16);function T(x,M,w){this.lo=x,this.hi=M,this.pixelsPerDataUnit=w}var h=[0,0,0,1],l=[0,0,0,1];function d(x,M,w,o,L){for(var m=0;m<3;++m){for(var F=h,I=l,U=0;U<3;++U)I[U]=F[U]=w[U];I[3]=F[3]=1,I[m]+=1,u(I,I,M),I[3]<0&&(x[m]=1/0),F[m]-=1,u(F,F,M),F[3]<0&&(x[m]=1/0);var z=(F[0]/F[3]-I[0]/I[3])*o,N=(F[1]/F[3]-I[1]/I[3])*L;x[m]=.25*Math.sqrt(z*z+N*N)}return x}var E=[new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0)],S=[0,0,0];function P(x,M,w,o,N){var m=M.model||y,F=M.view||y,I=M.projection||y,U=M._ortho||!1,z=x.bounds,N=N||n(m,F,I,z,U),B=N.axis;i(c,F,m),i(c,I,c);for(var O=E,H=0;H<3;++H)O[H].lo=1/0,O[H].hi=-1/0,O[H].pixelsPerDataUnit=1/0;var Y=r(f(c,c));f(c,c);for(var J=0;J<3;++J){var re=(J+1)%3,ie=(J+2)%3,ce=S;e:for(var H=0;H<2;++H){var Q=[];if(B[J]<0!=!!H){ce[J]=z[H][J];for(var j=0;j<2;++j){ce[re]=z[j^H][re];for(var Z=0;Z<2;++Z)ce[ie]=z[Z^j^H][ie],Q.push(ce.slice())}for(var $=U?5:4,j=$;j===$;++j){if(Q.length===0)continue e;Q=s.positive(Q,Y[j])}for(var j=0;j<Q.length;++j)for(var ie=Q[j],te=d(S,c,ie,w,o),Z=0;Z<3;++Z)O[Z].lo=Math.min(O[Z].lo,ie[Z]),O[Z].hi=Math.max(O[Z].hi,ie[Z]),Z!==J&&(O[Z].pixelsPerDataUnit=Math.min(O[Z].pixelsPerDataUnit,Math.abs(te[Z])))}}}return O}},5827:function(v,p,t){var r=t(5306),s=t(7498),n=t(5050),i=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function f(l,d,E,S,P){this.gl=l,this.type=d,this.handle=E,this.length=S,this.usage=P}var u=f.prototype;u.bind=function(){this.gl.bindBuffer(this.type,this.handle)},u.unbind=function(){this.gl.bindBuffer(this.type,null)},u.dispose=function(){this.gl.deleteBuffer(this.handle)};function y(l,d,E,S,P,x){var M=P.length*P.BYTES_PER_ELEMENT;if(x<0)return l.bufferData(d,P,S),M;if(M+x>E)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return l.bufferSubData(d,x,P),E}function c(l,d){for(var E=r.malloc(l.length,d),S=l.length,P=0;P<S;++P)E[P]=l[P];return E}function T(l,d){for(var E=1,S=d.length-1;S>=0;--S){if(d[S]!==E)return!1;E*=l[S]}return!0}u.update=function(l,d){if(typeof d!="number"&&(d=-1),this.bind(),typeof l=="object"&&typeof l.shape<"u"){var E=l.dtype;if(i.indexOf(E)<0&&(E="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var S=gl.getExtension("OES_element_index_uint");S&&E!=="uint16"?E="uint32":E="uint16"}if(E===l.dtype&&T(l.shape,l.stride))l.offset===0&&l.data.length===l.shape[0]?this.length=y(this.gl,this.type,this.length,this.usage,l.data,d):this.length=y(this.gl,this.type,this.length,this.usage,l.data.subarray(l.offset,l.shape[0]),d);else{var P=r.malloc(l.size,E),x=n(P,l.shape);s.assign(x,l),d<0?this.length=y(this.gl,this.type,this.length,this.usage,P,d):this.length=y(this.gl,this.type,this.length,this.usage,P.subarray(0,l.size),d),r.free(P)}}else if(Array.isArray(l)){var M;this.type===this.gl.ELEMENT_ARRAY_BUFFER?M=c(l,"uint16"):M=c(l,"float32"),d<0?this.length=y(this.gl,this.type,this.length,this.usage,M,d):this.length=y(this.gl,this.type,this.length,this.usage,M.subarray(0,l.length),d),r.free(M)}else if(typeof l=="object"&&typeof l.length=="number")this.length=y(this.gl,this.type,this.length,this.usage,l,d);else if(typeof l=="number"||l===void 0){if(d>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");l=l|0,l<=0&&(l=1),this.gl.bufferData(this.type,l|0,this.usage),this.length=l}else throw new Error("gl-buffer: Invalid data type")};function h(l,d,E,S){if(E=E||l.ARRAY_BUFFER,S=S||l.DYNAMIC_DRAW,E!==l.ARRAY_BUFFER&&E!==l.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(S!==l.DYNAMIC_DRAW&&S!==l.STATIC_DRAW&&S!==l.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var P=l.createBuffer(),x=new f(l,E,P,0,S);return x.update(d),x}v.exports=h},1140:function(v,p,t){var r=t(2858);v.exports=function(n,i){var f=n.positions,u=n.vectors,y={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return i&&(i[0]=[0,0,0],i[1]=[0,0,0]),y;for(var c=0,T=1/0,h=-1/0,l=1/0,d=-1/0,E=1/0,S=-1/0,P=null,x=null,M=[],w=1/0,o=!1,L=0;L<f.length;L++){var m=f[L];T=Math.min(m[0],T),h=Math.max(m[0],h),l=Math.min(m[1],l),d=Math.max(m[1],d),E=Math.min(m[2],E),S=Math.max(m[2],S);var F=u[L];if(r.length(F)>c&&(c=r.length(F)),L){var I=2*r.distance(P,m)/(r.length(x)+r.length(F));I?(w=Math.min(w,I),o=!1):o=!0}o||(P=m,x=F),M.push(F)}var U=[T,l,E],z=[h,d,S];i&&(i[0]=U,i[1]=z),c===0&&(c=1);var N=1/c;isFinite(w)||(w=1),y.vectorScale=w;var B=n.coneSize||.5;n.absoluteConeSize&&(B=n.absoluteConeSize*N),y.coneScale=B;for(var L=0,O=0;L<f.length;L++)for(var m=f[L],H=m[0],Y=m[1],J=m[2],re=M[L],ie=r.length(re)*N,ce=0,Q=8;ce<Q;ce++){y.positions.push([H,Y,J,O++]),y.positions.push([H,Y,J,O++]),y.positions.push([H,Y,J,O++]),y.positions.push([H,Y,J,O++]),y.positions.push([H,Y,J,O++]),y.positions.push([H,Y,J,O++]),y.vectors.push(re),y.vectors.push(re),y.vectors.push(re),y.vectors.push(re),y.vectors.push(re),y.vectors.push(re),y.vertexIntensity.push(ie,ie,ie),y.vertexIntensity.push(ie,ie,ie);var j=y.positions.length;y.cells.push([j-6,j-5,j-4],[j-3,j-2,j-1])}return y};var s=t(7234);v.exports.createMesh=t(5028),v.exports.createConeMesh=function(n,i){return v.exports.createMesh(n,i,{shaders:s,traceType:"cone"})}},5028:function(v,p,t){var r=t(5158),s=t(5827),n=t(2944),i=t(8931),f=t(104),u=t(7437),y=t(5050),c=t(9156),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function h(M,w,o,L,m,F,I,U,z,N,B){this.gl=M,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=w,this.dirty=!0,this.triShader=o,this.pickShader=L,this.trianglePositions=m,this.triangleVectors=F,this.triangleColors=U,this.triangleUVs=z,this.triangleIds=I,this.triangleVAO=N,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=B,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=T,this._view=T,this._projection=T,this._resolution=[1,1]}var l=h.prototype;l.isOpaque=function(){return this.opacity>=1},l.isTransparent=function(){return this.opacity<1},l.pickSlots=1,l.setPickBase=function(M){this.pickId=M};function d(M){for(var w=c({colormap:M,nshades:256,format:"rgba"}),o=new Uint8Array(256*4),L=0;L<256;++L){for(var m=w[L],F=0;F<3;++F)o[4*L+F]=m[F];o[4*L+3]=m[3]*255}return y(o,[256,256,4],[4,0,1])}function E(M){for(var w=M.length,o=new Array(w),L=0;L<w;++L)o[L]=M[L][2];return o}l.update=function(M){M=M||{};var w=this.gl;this.dirty=!0,"lightPosition"in M&&(this.lightPosition=M.lightPosition),"opacity"in M&&(this.opacity=M.opacity),"ambient"in M&&(this.ambientLight=M.ambient),"diffuse"in M&&(this.diffuseLight=M.diffuse),"specular"in M&&(this.specularLight=M.specular),"roughness"in M&&(this.roughness=M.roughness),"fresnel"in M&&(this.fresnel=M.fresnel),M.tubeScale!==void 0&&(this.tubeScale=M.tubeScale),M.vectorScale!==void 0&&(this.vectorScale=M.vectorScale),M.coneScale!==void 0&&(this.coneScale=M.coneScale),M.coneOffset!==void 0&&(this.coneOffset=M.coneOffset),M.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=w.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=w.LINEAR,this.texture.setPixels(d(M.colormap)),this.texture.generateMipmap());var o=M.cells,L=M.positions,m=M.vectors;if(!(!L||!o||!m)){var F=[],I=[],U=[],z=[],N=[];this.cells=o,this.positions=L,this.vectors=m;var B=M.meshColor||[1,1,1,1],O=M.vertexIntensity,H=1/0,Y=-1/0;if(O)if(M.vertexIntensityBounds)H=+M.vertexIntensityBounds[0],Y=+M.vertexIntensityBounds[1];else for(var J=0;J<O.length;++J){var re=O[J];H=Math.min(H,re),Y=Math.max(Y,re)}else for(var J=0;J<L.length;++J){var re=L[J][2];H=Math.min(H,re),Y=Math.max(Y,re)}O?this.intensity=O:this.intensity=E(L),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var J=0;J<L.length;++J)for(var ie=L[J],ce=0;ce<3;++ce)isNaN(ie[ce])||!isFinite(ie[ce])||(this.bounds[0][ce]=Math.min(this.bounds[0][ce],ie[ce]),this.bounds[1][ce]=Math.max(this.bounds[1][ce],ie[ce]));var Q=0;e:for(var J=0;J<o.length;++J){var j=o[J];switch(j.length){case 3:for(var ce=0;ce<3;++ce)for(var Z=j[ce],ie=L[Z],$=0;$<3;++$)if(isNaN(ie[$])||!isFinite(ie[$]))continue e;for(var ce=0;ce<3;++ce){var Z=j[2-ce],ie=L[Z];F.push(ie[0],ie[1],ie[2],ie[3]);var te=m[Z];I.push(te[0],te[1],te[2],te[3]||0);var se=B;se.length===3?U.push(se[0],se[1],se[2],1):U.push(se[0],se[1],se[2],se[3]);var ee;O?ee=[(O[Z]-H)/(Y-H),0]:ee=[(ie[2]-H)/(Y-H),0],z.push(ee[0],ee[1]),N.push(J)}Q+=1;break}}this.triangleCount=Q,this.trianglePositions.update(F),this.triangleVectors.update(I),this.triangleColors.update(U),this.triangleUVs.update(z),this.triangleIds.update(new Uint32Array(N))}},l.drawTransparent=l.draw=function(M){M=M||{};for(var w=this.gl,o=M.model||T,L=M.view||T,m=M.projection||T,F=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],I=0;I<3;++I)F[0][I]=Math.max(F[0][I],this.clipBounds[0][I]),F[1][I]=Math.min(F[1][I],this.clipBounds[1][I]);var U={model:o,view:L,projection:m,inverseModel:T.slice(),clipBounds:F,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};U.inverseModel=u(U.inverseModel,U.model),w.disable(w.CULL_FACE),this.texture.bind(0);var z=new Array(16);f(z,U.view,U.model),f(z,U.projection,z),u(z,z);for(var I=0;I<3;++I)U.eyePosition[I]=z[12+I]/z[15];for(var N=z[15],I=0;I<3;++I)N+=this.lightPosition[I]*z[4*I+3];for(var I=0;I<3;++I){for(var B=z[12+I],O=0;O<3;++O)B+=z[4*O+I]*this.lightPosition[O];U.lightPosition[I]=B/N}if(this.triangleCount>0){var H=this.triShader;H.bind(),H.uniforms=U,this.triangleVAO.bind(),w.drawArrays(w.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},l.drawPick=function(M){M=M||{};for(var w=this.gl,o=M.model||T,L=M.view||T,m=M.projection||T,F=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],I=0;I<3;++I)F[0][I]=Math.max(F[0][I],this.clipBounds[0][I]),F[1][I]=Math.min(F[1][I],this.clipBounds[1][I]);this._model=[].slice.call(o),this._view=[].slice.call(L),this._projection=[].slice.call(m),this._resolution=[w.drawingBufferWidth,w.drawingBufferHeight];var U={model:o,view:L,projection:m,clipBounds:F,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},z=this.pickShader;z.bind(),z.uniforms=U,this.triangleCount>0&&(this.triangleVAO.bind(),w.drawArrays(w.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},l.pick=function(M){if(!M||M.id!==this.pickId)return null;var w=M.value[0]+256*M.value[1]+65536*M.value[2],o=this.cells[w],L=this.positions[o[1]].slice(0,3),m={position:L,dataCoordinate:L,index:Math.floor(o[1]/48)};return this.traceType==="cone"?m.index=Math.floor(o[1]/48):this.traceType==="streamtube"&&(m.intensity=this.intensity[o[1]],m.velocity=this.vectors[o[1]].slice(0,3),m.divergence=this.vectors[o[1]][3],m.index=w),m},l.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function S(M,w){var o=r(M,w.meshShader.vertex,w.meshShader.fragment,null,w.meshShader.attributes);return o.attributes.position.location=0,o.attributes.color.location=2,o.attributes.uv.location=3,o.attributes.vector.location=4,o}function P(M,w){var o=r(M,w.pickShader.vertex,w.pickShader.fragment,null,w.pickShader.attributes);return o.attributes.position.location=0,o.attributes.id.location=1,o.attributes.vector.location=4,o}function x(M,w,o){var L=o.shaders;arguments.length===1&&(w=M,M=w.gl);var m=S(M,L),F=P(M,L),I=i(M,y(new Uint8Array([255,255,255,255]),[1,1,4]));I.generateMipmap(),I.minFilter=M.LINEAR_MIPMAP_LINEAR,I.magFilter=M.LINEAR;var U=s(M),z=s(M),N=s(M),B=s(M),O=s(M),H=n(M,[{buffer:U,type:M.FLOAT,size:4},{buffer:O,type:M.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:N,type:M.FLOAT,size:4},{buffer:B,type:M.FLOAT,size:2},{buffer:z,type:M.FLOAT,size:4}]),Y=new h(M,I,m,F,U,z,O,N,B,H,o.traceType||"cone");return Y.update(w),Y}v.exports=x},7234:function(v,p,t){var r=t(6832),s=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),i=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),f=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:s,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},p.pickShader={vertex:i,fragment:f,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(v,p,t){var r=t(1950);v.exports=function(n){return r[n]}},3110:function(v,p,t){v.exports=h;var r=t(5827),s=t(2944),n=t(7667),i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(l,d,E,S){this.gl=l,this.shader=S,this.buffer=d,this.vao=E,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var u=f.prototype;u.isOpaque=function(){return!this.hasAlpha},u.isTransparent=function(){return this.hasAlpha},u.drawTransparent=u.draw=function(l){var d=this.gl,E=this.shader.uniforms;this.shader.bind();var S=E.view=l.view||i,P=E.projection=l.projection||i;E.model=l.model||i,E.clipBounds=this.clipBounds,E.opacity=this.opacity;var x=S[12],M=S[13],w=S[14],o=S[15],L=l._ortho||!1,m=L?2:1,F=m*this.pixelRatio*(P[3]*x+P[7]*M+P[11]*w+P[15]*o)/d.drawingBufferHeight;this.vao.bind();for(var I=0;I<3;++I)d.lineWidth(this.lineWidth[I]*this.pixelRatio),E.capSize=this.capSize[I]*F,this.lineCount[I]&&d.drawArrays(d.LINES,this.lineOffset[I],this.lineCount[I]);this.vao.unbind()};function y(l,d){for(var E=0;E<3;++E)l[0][E]=Math.min(l[0][E],d[E]),l[1][E]=Math.max(l[1][E],d[E])}var c=function(){for(var l=new Array(3),d=0;d<3;++d){for(var E=[],S=1;S<=2;++S)for(var P=-1;P<=1;P+=2){var x=(S+d)%3,M=[0,0,0];M[x]=P,E.push(M)}l[d]=E}return l}();function T(l,d,E,S){for(var P=c[S],x=0;x<P.length;++x){var M=P[x];l.push(d[0],d[1],d[2],E[0],E[1],E[2],E[3],M[0],M[1],M[2])}return P.length}u.update=function(l){l=l||{},"lineWidth"in l&&(this.lineWidth=l.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in l&&(this.capSize=l.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in l&&(this.opacity=+l.opacity,this.opacity<1&&(this.hasAlpha=!0));var d=l.color||[[0,0,0],[0,0,0],[0,0,0]],E=l.position,S=l.error;if(Array.isArray(d[0])||(d=[d,d,d]),E&&S){var P=[],x=E.length,M=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var w=0;w<3;++w){this.lineOffset[w]=M;e:for(var o=0;o<x;++o){for(var L=E[o],m=0;m<3;++m)if(isNaN(L[m])||!isFinite(L[m]))continue e;var F=S[o],I=d[w];if(Array.isArray(I[0])&&(I=d[o]),I.length===3?I=[I[0],I[1],I[2],1]:I.length===4&&(I=[I[0],I[1],I[2],I[3]],!this.hasAlpha&&I[3]<1&&(this.hasAlpha=!0)),!(isNaN(F[0][w])||isNaN(F[1][w]))){if(F[0][w]<0){var U=L.slice();U[w]+=F[0][w],P.push(L[0],L[1],L[2],I[0],I[1],I[2],I[3],0,0,0,U[0],U[1],U[2],I[0],I[1],I[2],I[3],0,0,0),y(this.bounds,U),M+=2+T(P,U,I,w)}if(F[1][w]>0){var U=L.slice();U[w]+=F[1][w],P.push(L[0],L[1],L[2],I[0],I[1],I[2],I[3],0,0,0,U[0],U[1],U[2],I[0],I[1],I[2],I[3],0,0,0),y(this.bounds,U),M+=2+T(P,U,I,w)}}}this.lineCount[w]=M-this.lineOffset[w]}this.buffer.update(P)}},u.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function h(l){var d=l.gl,E=r(d),S=s(d,[{buffer:E,type:d.FLOAT,size:3,offset:0,stride:40},{buffer:E,type:d.FLOAT,size:4,offset:12,stride:40},{buffer:E,type:d.FLOAT,size:3,offset:28,stride:40}]),P=n(d);P.attributes.position.location=0,P.attributes.color.location=1,P.attributes.offset.location=2;var x=new f(d,E,S,P);return x.update(l),x}},7667:function(v,p,t){var r=t(6832),s=t(5158),n=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),i=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);v.exports=function(f){return s(f,n,i,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(v,p,t){var r=t(8931);v.exports=M;var s=null,n,i,f,u;function y(w){var o=w.getParameter(w.FRAMEBUFFER_BINDING),L=w.getParameter(w.RENDERBUFFER_BINDING),m=w.getParameter(w.TEXTURE_BINDING_2D);return[o,L,m]}function c(w,o){w.bindFramebuffer(w.FRAMEBUFFER,o[0]),w.bindRenderbuffer(w.RENDERBUFFER,o[1]),w.bindTexture(w.TEXTURE_2D,o[2])}function T(w,o){var L=w.getParameter(o.MAX_COLOR_ATTACHMENTS_WEBGL);s=new Array(L+1);for(var m=0;m<=L;++m){for(var F=new Array(L),I=0;I<m;++I)F[I]=w.COLOR_ATTACHMENT0+I;for(var I=m;I<L;++I)F[I]=w.NONE;s[m]=F}}function h(w){switch(w){case n:throw new Error("gl-fbo: Framebuffer unsupported");case i:throw new Error("gl-fbo: Framebuffer incomplete attachment");case f:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case u:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function l(w,o,L,m,F,I){if(!m)return null;var U=r(w,o,L,F,m);return U.magFilter=w.NEAREST,U.minFilter=w.NEAREST,U.mipSamples=1,U.bind(),w.framebufferTexture2D(w.FRAMEBUFFER,I,w.TEXTURE_2D,U.handle,0),U}function d(w,o,L,m,F){var I=w.createRenderbuffer();return w.bindRenderbuffer(w.RENDERBUFFER,I),w.renderbufferStorage(w.RENDERBUFFER,m,o,L),w.framebufferRenderbuffer(w.FRAMEBUFFER,F,w.RENDERBUFFER,I),I}function E(w){var o=y(w.gl),L=w.gl,m=w.handle=L.createFramebuffer(),F=w._shape[0],I=w._shape[1],U=w.color.length,z=w._ext,N=w._useStencil,B=w._useDepth,O=w._colorType;L.bindFramebuffer(L.FRAMEBUFFER,m);for(var H=0;H<U;++H)w.color[H]=l(L,F,I,O,L.RGBA,L.COLOR_ATTACHMENT0+H);U===0?(w._color_rb=d(L,F,I,L.RGBA4,L.COLOR_ATTACHMENT0),z&&z.drawBuffersWEBGL(s[0])):U>1&&z.drawBuffersWEBGL(s[U]);var Y=L.getExtension("WEBGL_depth_texture");Y?N?w.depth=l(L,F,I,Y.UNSIGNED_INT_24_8_WEBGL,L.DEPTH_STENCIL,L.DEPTH_STENCIL_ATTACHMENT):B&&(w.depth=l(L,F,I,L.UNSIGNED_SHORT,L.DEPTH_COMPONENT,L.DEPTH_ATTACHMENT)):B&&N?w._depth_rb=d(L,F,I,L.DEPTH_STENCIL,L.DEPTH_STENCIL_ATTACHMENT):B?w._depth_rb=d(L,F,I,L.DEPTH_COMPONENT16,L.DEPTH_ATTACHMENT):N&&(w._depth_rb=d(L,F,I,L.STENCIL_INDEX,L.STENCIL_ATTACHMENT));var J=L.checkFramebufferStatus(L.FRAMEBUFFER);if(J!==L.FRAMEBUFFER_COMPLETE){w._destroyed=!0,L.bindFramebuffer(L.FRAMEBUFFER,null),L.deleteFramebuffer(w.handle),w.handle=null,w.depth&&(w.depth.dispose(),w.depth=null),w._depth_rb&&(L.deleteRenderbuffer(w._depth_rb),w._depth_rb=null);for(var H=0;H<w.color.length;++H)w.color[H].dispose(),w.color[H]=null;w._color_rb&&(L.deleteRenderbuffer(w._color_rb),w._color_rb=null),c(L,o),h(J)}c(L,o)}function S(w,o,L,m,F,I,U,z){this.gl=w,this._shape=[o|0,L|0],this._destroyed=!1,this._ext=z,this.color=new Array(F);for(var N=0;N<F;++N)this.color[N]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=m,this._useDepth=I,this._useStencil=U;var B=this,O=[o|0,L|0];Object.defineProperties(O,{0:{get:function(){return B._shape[0]},set:function(H){return B.width=H}},1:{get:function(){return B._shape[1]},set:function(H){return B.height=H}}}),this._shapeVector=O,E(this)}var P=S.prototype;function x(w,o,L){if(w._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(w._shape[0]===o&&w._shape[1]===L)){var m=w.gl,F=m.getParameter(m.MAX_RENDERBUFFER_SIZE);if(o<0||o>F||L<0||L>F)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");w._shape[0]=o,w._shape[1]=L;for(var I=y(m),U=0;U<w.color.length;++U)w.color[U].shape=w._shape;w._color_rb&&(m.bindRenderbuffer(m.RENDERBUFFER,w._color_rb),m.renderbufferStorage(m.RENDERBUFFER,m.RGBA4,w._shape[0],w._shape[1])),w.depth&&(w.depth.shape=w._shape),w._depth_rb&&(m.bindRenderbuffer(m.RENDERBUFFER,w._depth_rb),w._useDepth&&w._useStencil?m.renderbufferStorage(m.RENDERBUFFER,m.DEPTH_STENCIL,w._shape[0],w._shape[1]):w._useDepth?m.renderbufferStorage(m.RENDERBUFFER,m.DEPTH_COMPONENT16,w._shape[0],w._shape[1]):w._useStencil&&m.renderbufferStorage(m.RENDERBUFFER,m.STENCIL_INDEX,w._shape[0],w._shape[1])),m.bindFramebuffer(m.FRAMEBUFFER,w.handle);var z=m.checkFramebufferStatus(m.FRAMEBUFFER);z!==m.FRAMEBUFFER_COMPLETE&&(w.dispose(),c(m,I),h(z)),c(m,I)}}Object.defineProperties(P,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(w){if(Array.isArray(w)||(w=[w|0,w|0]),w.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var o=w[0]|0,L=w[1]|0;return x(this,o,L),[o,L]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(w){return w=w|0,x(this,w,this._shape[1]),w},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(w){return w=w|0,x(this,this._shape[0],w),w},enumerable:!1}}),P.bind=function(){if(!this._destroyed){var w=this.gl;w.bindFramebuffer(w.FRAMEBUFFER,this.handle),w.viewport(0,0,this._shape[0],this._shape[1])}},P.dispose=function(){if(!this._destroyed){this._destroyed=!0;var w=this.gl;w.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(w.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var o=0;o<this.color.length;++o)this.color[o].dispose(),this.color[o]=null;this._color_rb&&(w.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function M(w,o,L,m){n||(n=w.FRAMEBUFFER_UNSUPPORTED,i=w.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,f=w.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,u=w.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var F=w.getExtension("WEBGL_draw_buffers");if(!s&&F&&T(w,F),Array.isArray(o)&&(m=L,L=o[1]|0,o=o[0]|0),typeof o!="number")throw new Error("gl-fbo: Missing shape parameter");var I=w.getParameter(w.MAX_RENDERBUFFER_SIZE);if(o<0||o>I||L<0||L>I)throw new Error("gl-fbo: Parameters are too large for FBO");m=m||{};var U=1;if("color"in m){if(U=Math.max(m.color|0,0),U<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(U>1)if(F){if(U>w.getParameter(F.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+U+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var z=w.UNSIGNED_BYTE,N=w.getExtension("OES_texture_float");if(m.float&&U>0){if(!N)throw new Error("gl-fbo: Context does not support floating point textures");z=w.FLOAT}else m.preferFloat&&U>0&&N&&(z=w.FLOAT);var B=!0;"depth"in m&&(B=!!m.depth);var O=!1;return"stencil"in m&&(O=!!m.stencil),new S(w,o,L,z,U,B,O,F)}},3530:function(v,p,t){var r=t(8974).sprintf,s=t(6603),n=t(9365),i=t(8008);v.exports=f;function f(u,y,c){var T=n(y)||"of unknown name (see npm glsl-shader-name)",h="unknown type";c!==void 0&&(h=c===s.FRAGMENT_SHADER?"fragment":"vertex");for(var l=r(`Error compiling %s shader %s:
`,h,T),d=r("%s%s",l,u),E=u.split(`
`),S={},P=0;P<E.length;P++){var x=E[P];if(!(x===""||x==="\0")){var M=parseInt(x.split(":")[2]);if(isNaN(M))throw new Error(r("Could not parse error: %s",x));S[M]=x}}for(var w=i(y).split(`
`),P=0;P<w.length;P++)if(!(!S[P+3]&&!S[P+2]&&!S[P+1])){var o=w[P];if(l+=o+`
`,S[P+1]){var L=S[P+1];L=L.substr(L.split(":",3).join(":").length+1).trim(),l+=r(`^^^ %s

`,L)}}return{long:l.trim(),short:d.trim()}}},6386:function(v,p,t){v.exports=h;var r=t(5070),s=t(9560),n=t(5306),i=t(5158),f=t(5827),u=t(1292);function y(l,d,E,S,P,x,M){this.plot=l,this.shader=d,this.pickShader=E,this.positionBuffer=S,this.weightBuffer=P,this.colorBuffer=x,this.idBuffer=M,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var c=y.prototype,T=[0,0,1,0,0,1,1,0,1,1,0,1];c.draw=function(){var l=[1,0,0,0,1,0,0,0,1];return function(){var d=this.plot,E=this.shader,S=this.bounds,P=this.numVertices;if(!(P<=0)){var x=d.gl,M=d.dataBox,w=S[2]-S[0],o=S[3]-S[1],L=M[2]-M[0],m=M[3]-M[1];l[0]=2*w/L,l[4]=2*o/m,l[6]=2*(S[0]-M[0])/L-1,l[7]=2*(S[1]-M[1])/m-1,E.bind();var F=E.uniforms;F.viewTransform=l,F.shape=this.shape;var I=E.attributes;this.positionBuffer.bind(),I.position.pointer(),this.weightBuffer.bind(),I.weight.pointer(x.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),I.color.pointer(x.UNSIGNED_BYTE,!0),x.drawArrays(x.TRIANGLES,0,P)}}}(),c.drawPick=function(){var l=[1,0,0,0,1,0,0,0,1],d=[0,0,0,0];return function(E){var S=this.plot,P=this.pickShader,x=this.bounds,M=this.numVertices;if(!(M<=0)){var w=S.gl,o=S.dataBox,L=x[2]-x[0],m=x[3]-x[1],F=o[2]-o[0],I=o[3]-o[1];l[0]=2*L/F,l[4]=2*m/I,l[6]=2*(x[0]-o[0])/F-1,l[7]=2*(x[1]-o[1])/I-1;for(var U=0;U<4;++U)d[U]=E>>U*8&255;this.pickOffset=E,P.bind();var z=P.uniforms;z.viewTransform=l,z.pickOffset=d,z.shape=this.shape;var N=P.attributes;return this.positionBuffer.bind(),N.position.pointer(),this.weightBuffer.bind(),N.weight.pointer(w.UNSIGNED_BYTE,!1),this.idBuffer.bind(),N.pickId.pointer(w.UNSIGNED_BYTE,!1),w.drawArrays(w.TRIANGLES,0,M),E+this.shape[0]*this.shape[1]}}}(),c.pick=function(l,d,E){var S=this.pickOffset,P=this.shape[0]*this.shape[1];if(E<S||E>=S+P)return null;var x=E-S,M=this.xData,w=this.yData;return{object:this,pointId:x,dataCoord:[M[x%this.shape[0]],w[x/this.shape[0]|0]]}},c.update=function(l){l=l||{};var d=l.shape||[0,0],E=l.x||s(d[0]),S=l.y||s(d[1]),P=l.z||new Float32Array(d[0]*d[1]),x=l.zsmooth!==!1;this.xData=E,this.yData=S;var M=l.colorLevels||[0],w=l.colorValues||[0,0,0,1],o=M.length,L=this.bounds,m,F,I,U;x?(m=L[0]=E[0],F=L[1]=S[0],I=L[2]=E[E.length-1],U=L[3]=S[S.length-1]):(m=L[0]=E[0]+(E[1]-E[0])/2,F=L[1]=S[0]+(S[1]-S[0])/2,I=L[2]=E[E.length-1]+(E[E.length-1]-E[E.length-2])/2,U=L[3]=S[S.length-1]+(S[S.length-1]-S[S.length-2])/2);var z=1/(I-m),N=1/(U-F),B=d[0],O=d[1];this.shape=[B,O];var H=(x?(B-1)*(O-1):B*O)*(T.length>>>1);this.numVertices=H;for(var Y=n.mallocUint8(H*4),J=n.mallocFloat32(H*2),re=n.mallocUint8(H*2),ie=n.mallocUint32(H),ce=0,Q=x?B-1:B,j=x?O-1:O,Z=0;Z<j;++Z){var $,te;x?($=N*(S[Z]-F),te=N*(S[Z+1]-F)):($=Z<O-1?N*(S[Z]-(S[Z+1]-S[Z])/2-F):N*(S[Z]-(S[Z]-S[Z-1])/2-F),te=Z<O-1?N*(S[Z]+(S[Z+1]-S[Z])/2-F):N*(S[Z]+(S[Z]-S[Z-1])/2-F));for(var se=0;se<Q;++se){var ee,q;x?(ee=z*(E[se]-m),q=z*(E[se+1]-m)):(ee=se<B-1?z*(E[se]-(E[se+1]-E[se])/2-m):z*(E[se]-(E[se]-E[se-1])/2-m),q=se<B-1?z*(E[se]+(E[se+1]-E[se])/2-m):z*(E[se]+(E[se]-E[se-1])/2-m));for(var le=0;le<T.length;le+=2){var oe=T[le],he=T[le+1],me=x?(Z+he)*B+(se+oe):Z*B+se,Ce=P[me],Ae=r.le(M,Ce),Ue,Ve,Pe,be;if(Ae<0)Ue=w[0],Ve=w[1],Pe=w[2],be=w[3];else if(Ae===o-1)Ue=w[4*o-4],Ve=w[4*o-3],Pe=w[4*o-2],be=w[4*o-1];else{var Le=(Ce-M[Ae])/(M[Ae+1]-M[Ae]),We=1-Le,je=4*Ae,Fe=4*(Ae+1);Ue=We*w[je]+Le*w[Fe],Ve=We*w[je+1]+Le*w[Fe+1],Pe=We*w[je+2]+Le*w[Fe+2],be=We*w[je+3]+Le*w[Fe+3]}Y[4*ce]=255*Ue,Y[4*ce+1]=255*Ve,Y[4*ce+2]=255*Pe,Y[4*ce+3]=255*be,J[2*ce]=ee*.5+q*.5,J[2*ce+1]=$*.5+te*.5,re[2*ce]=oe,re[2*ce+1]=he,ie[ce]=Z*B+se,ce+=1}}}this.positionBuffer.update(J),this.weightBuffer.update(re),this.colorBuffer.update(Y),this.idBuffer.update(ie),n.free(J),n.free(Y),n.free(re),n.free(ie)},c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function h(l,d){var E=l.gl,S=i(E,u.vertex,u.fragment),P=i(E,u.pickVertex,u.pickFragment),x=f(E),M=f(E),w=f(E),o=f(E),L=new y(l,S,P,x,M,w,o);return L.update(d),l.addObject(L),L}},1292:function(v,p,t){var r=t(6832);v.exports={fragment:r([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},248:function(v,p,t){var r=t(6832),s=t(5158),n=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),i=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),f=r([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),u=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];p.createShader=function(y){return s(y,n,i,null,u)},p.createPickShader=function(y){return s(y,n,f,null,u)}},6086:function(v,p,t){v.exports=w;var r=t(5827),s=t(2944),n=t(8931),i=new Uint8Array(4),f=new Float32Array(i.buffer);function u(o,L,m,F){return i[0]=F,i[1]=m,i[2]=L,i[3]=o,f[0]}var y=t(5070),c=t(5050),T=t(248),h=T.createShader,l=T.createPickShader,d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function E(o,L){for(var m=0,F=0;F<3;++F){var I=o[F]-L[F];m+=I*I}return Math.sqrt(m)}function S(o){for(var L=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],m=0;m<3;++m)L[0][m]=Math.max(o[0][m],L[0][m]),L[1][m]=Math.min(o[1][m],L[1][m]);return L}function P(o,L,m,F){this.arcLength=o,this.position=L,this.index=m,this.dataCoordinate=F}function x(o,L,m,F,I,U){this.gl=o,this.shader=L,this.pickShader=m,this.buffer=F,this.vao=I,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=U,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var M=x.prototype;M.isTransparent=function(){return this.hasAlpha},M.isOpaque=function(){return!this.hasAlpha},M.pickSlots=1,M.setPickBase=function(o){this.pickId=o},M.drawTransparent=M.draw=function(o){if(this.vertexCount){var L=this.gl,m=this.shader,F=this.vao;m.bind(),m.uniforms={model:o.model||d,view:o.view||d,projection:o.projection||d,clipBounds:S(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[L.drawingBufferWidth,L.drawingBufferHeight],pixelRatio:this.pixelRatio},F.bind(),F.draw(L.TRIANGLE_STRIP,this.vertexCount),F.unbind()}},M.drawPick=function(o){if(this.vertexCount){var L=this.gl,m=this.pickShader,F=this.vao;m.bind(),m.uniforms={model:o.model||d,view:o.view||d,projection:o.projection||d,pickId:this.pickId,clipBounds:S(this.clipBounds),screenShape:[L.drawingBufferWidth,L.drawingBufferHeight],pixelRatio:this.pixelRatio},F.bind(),F.draw(L.TRIANGLE_STRIP,this.vertexCount),F.unbind()}},M.update=function(o){var L,m;this.dirty=!0;var F=!!o.connectGaps;"dashScale"in o&&(this.dashScale=o.dashScale),this.hasAlpha=!1,"opacity"in o&&(this.opacity=+o.opacity,this.opacity<1&&(this.hasAlpha=!0));var I=[],U=[],z=[],N=0,B=0,O=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],H=o.position||o.positions;if(H){var Y=o.color||o.colors||[0,0,0,1],J=o.lineWidth||1,re=!1;e:for(L=1;L<H.length;++L){var ie=H[L-1],ce=H[L];for(U.push(N),z.push(ie.slice()),m=0;m<3;++m){if(isNaN(ie[m])||isNaN(ce[m])||!isFinite(ie[m])||!isFinite(ce[m])){if(!F&&I.length>0){for(var Q=0;Q<24;++Q)I.push(I[I.length-12]);B+=2,re=!0}continue e}O[0][m]=Math.min(O[0][m],ie[m],ce[m]),O[1][m]=Math.max(O[1][m],ie[m],ce[m])}var j,Z;Array.isArray(Y[0])?(j=Y.length>L-1?Y[L-1]:Y.length>0?Y[Y.length-1]:[0,0,0,1],Z=Y.length>L?Y[L]:Y.length>0?Y[Y.length-1]:[0,0,0,1]):j=Z=Y,j.length===3&&(j=[j[0],j[1],j[2],1]),Z.length===3&&(Z=[Z[0],Z[1],Z[2],1]),!this.hasAlpha&&j[3]<1&&(this.hasAlpha=!0);var $;Array.isArray(J)?$=J.length>L-1?J[L-1]:J.length>0?J[J.length-1]:[0,0,0,1]:$=J;var te=N;if(N+=E(ie,ce),re){for(m=0;m<2;++m)I.push(ie[0],ie[1],ie[2],ce[0],ce[1],ce[2],te,$,j[0],j[1],j[2],j[3]);B+=2,re=!1}I.push(ie[0],ie[1],ie[2],ce[0],ce[1],ce[2],te,$,j[0],j[1],j[2],j[3],ie[0],ie[1],ie[2],ce[0],ce[1],ce[2],te,-$,j[0],j[1],j[2],j[3],ce[0],ce[1],ce[2],ie[0],ie[1],ie[2],N,-$,Z[0],Z[1],Z[2],Z[3],ce[0],ce[1],ce[2],ie[0],ie[1],ie[2],N,$,Z[0],Z[1],Z[2],Z[3]),B+=4}}if(this.buffer.update(I),U.push(N),z.push(H[H.length-1].slice()),this.bounds=O,this.vertexCount=B,this.points=z,this.arcLength=U,"dashes"in o){var se=o.dashes,ee=se.slice();for(ee.unshift(0),L=1;L<ee.length;++L)ee[L]=ee[L-1]+ee[L];var q=c(new Array(256*4),[256,1,4]);for(L=0;L<256;++L){for(m=0;m<4;++m)q.set(L,0,m,0);y.le(ee,ee[ee.length-1]*L/255)&1?q.set(L,0,0,0):q.set(L,0,0,255)}this.texture.setPixels(q)}},M.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},M.pick=function(o){if(!o||o.id!==this.pickId)return null;var L=u(o.value[0],o.value[1],o.value[2],0),m=y.le(this.arcLength,L);if(m<0)return null;if(m===this.arcLength.length-1)return new P(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),m);for(var F=this.points[m],I=this.points[Math.min(m+1,this.points.length-1)],U=(L-this.arcLength[m])/(this.arcLength[m+1]-this.arcLength[m]),z=1-U,N=[0,0,0],B=0;B<3;++B)N[B]=z*F[B]+U*I[B];var O=Math.min(U<.5?m:m+1,this.points.length-1);return new P(L,N,O,this.points[O])};function w(o){var L=o.gl||o.scene&&o.scene.gl,m=h(L);m.attributes.position.location=0,m.attributes.nextPosition.location=1,m.attributes.arcLength.location=2,m.attributes.lineWidth.location=3,m.attributes.color.location=4;var F=l(L);F.attributes.position.location=0,F.attributes.nextPosition.location=1,F.attributes.arcLength.location=2,F.attributes.lineWidth.location=3,F.attributes.color.location=4;for(var I=r(L),U=s(L,[{buffer:I,size:3,offset:0,stride:48},{buffer:I,size:3,offset:12,stride:48},{buffer:I,size:1,offset:24,stride:48},{buffer:I,size:1,offset:28,stride:48},{buffer:I,size:4,offset:32,stride:48}]),z=c(new Array(256*4),[256,1,4]),N=0;N<1024;++N)z.data[N]=255;var B=n(L,z);B.wrap=L.REPEAT;var O=new x(L,m,F,I,U,B);return O.update(o),O}},7332:function(v){v.exports=p;function p(t){var r=new Float32Array(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},9823:function(v){v.exports=p;function p(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7787:function(v){v.exports=p;function p(t){var r=t[0],s=t[1],n=t[2],i=t[3],f=t[4],u=t[5],y=t[6],c=t[7],T=t[8],h=t[9],l=t[10],d=t[11],E=t[12],S=t[13],P=t[14],x=t[15],M=r*u-s*f,w=r*y-n*f,o=r*c-i*f,L=s*y-n*u,m=s*c-i*u,F=n*c-i*y,I=T*S-h*E,U=T*P-l*E,z=T*x-d*E,N=h*P-l*S,B=h*x-d*S,O=l*x-d*P;return M*O-w*B+o*N+L*z-m*U+F*I}},5950:function(v){v.exports=p;function p(t,r){var s=r[0],n=r[1],i=r[2],f=r[3],u=s+s,y=n+n,c=i+i,T=s*u,h=n*u,l=n*y,d=i*u,E=i*y,S=i*c,P=f*u,x=f*y,M=f*c;return t[0]=1-l-S,t[1]=h+M,t[2]=d-x,t[3]=0,t[4]=h-M,t[5]=1-T-S,t[6]=E+P,t[7]=0,t[8]=d+x,t[9]=E-P,t[10]=1-T-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7280:function(v){v.exports=p;function p(t,r,s){var n=r[0],i=r[1],f=r[2],u=r[3],y=n+n,c=i+i,T=f+f,h=n*y,l=n*c,d=n*T,E=i*c,S=i*T,P=f*T,x=u*y,M=u*c,w=u*T;return t[0]=1-(E+P),t[1]=l+w,t[2]=d-M,t[3]=0,t[4]=l-w,t[5]=1-(h+P),t[6]=S+x,t[7]=0,t[8]=d+M,t[9]=S-x,t[10]=1-(h+E),t[11]=0,t[12]=s[0],t[13]=s[1],t[14]=s[2],t[15]=1,t}},9947:function(v){v.exports=p;function p(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7437:function(v){v.exports=p;function p(t,r){var s=r[0],n=r[1],i=r[2],f=r[3],u=r[4],y=r[5],c=r[6],T=r[7],h=r[8],l=r[9],d=r[10],E=r[11],S=r[12],P=r[13],x=r[14],M=r[15],w=s*y-n*u,o=s*c-i*u,L=s*T-f*u,m=n*c-i*y,F=n*T-f*y,I=i*T-f*c,U=h*P-l*S,z=h*x-d*S,N=h*M-E*S,B=l*x-d*P,O=l*M-E*P,H=d*M-E*x,Y=w*H-o*O+L*B+m*N-F*z+I*U;return Y?(Y=1/Y,t[0]=(y*H-c*O+T*B)*Y,t[1]=(i*O-n*H-f*B)*Y,t[2]=(P*I-x*F+M*m)*Y,t[3]=(d*F-l*I-E*m)*Y,t[4]=(c*N-u*H-T*z)*Y,t[5]=(s*H-i*N+f*z)*Y,t[6]=(x*L-S*I-M*o)*Y,t[7]=(h*I-d*L+E*o)*Y,t[8]=(u*O-y*N+T*U)*Y,t[9]=(n*N-s*O-f*U)*Y,t[10]=(S*F-P*L+M*w)*Y,t[11]=(l*L-h*F-E*w)*Y,t[12]=(y*z-u*B-c*U)*Y,t[13]=(s*B-n*z+i*U)*Y,t[14]=(P*o-S*m-x*w)*Y,t[15]=(h*m-l*o+d*w)*Y,t):null}},3012:function(v,p,t){var r=t(9947);v.exports=s;function s(n,i,f,u){var y,c,T,h,l,d,E,S,P,x,M=i[0],w=i[1],o=i[2],L=u[0],m=u[1],F=u[2],I=f[0],U=f[1],z=f[2];return Math.abs(M-I)<1e-6&&Math.abs(w-U)<1e-6&&Math.abs(o-z)<1e-6?r(n):(E=M-I,S=w-U,P=o-z,x=1/Math.sqrt(E*E+S*S+P*P),E*=x,S*=x,P*=x,y=m*P-F*S,c=F*E-L*P,T=L*S-m*E,x=Math.sqrt(y*y+c*c+T*T),x?(x=1/x,y*=x,c*=x,T*=x):(y=0,c=0,T=0),h=S*T-P*c,l=P*y-E*T,d=E*c-S*y,x=Math.sqrt(h*h+l*l+d*d),x?(x=1/x,h*=x,l*=x,d*=x):(h=0,l=0,d=0),n[0]=y,n[1]=h,n[2]=E,n[3]=0,n[4]=c,n[5]=l,n[6]=S,n[7]=0,n[8]=T,n[9]=d,n[10]=P,n[11]=0,n[12]=-(y*M+c*w+T*o),n[13]=-(h*M+l*w+d*o),n[14]=-(E*M+S*w+P*o),n[15]=1,n)}},104:function(v){v.exports=p;function p(t,r,s){var n=r[0],i=r[1],f=r[2],u=r[3],y=r[4],c=r[5],T=r[6],h=r[7],l=r[8],d=r[9],E=r[10],S=r[11],P=r[12],x=r[13],M=r[14],w=r[15],o=s[0],L=s[1],m=s[2],F=s[3];return t[0]=o*n+L*y+m*l+F*P,t[1]=o*i+L*c+m*d+F*x,t[2]=o*f+L*T+m*E+F*M,t[3]=o*u+L*h+m*S+F*w,o=s[4],L=s[5],m=s[6],F=s[7],t[4]=o*n+L*y+m*l+F*P,t[5]=o*i+L*c+m*d+F*x,t[6]=o*f+L*T+m*E+F*M,t[7]=o*u+L*h+m*S+F*w,o=s[8],L=s[9],m=s[10],F=s[11],t[8]=o*n+L*y+m*l+F*P,t[9]=o*i+L*c+m*d+F*x,t[10]=o*f+L*T+m*E+F*M,t[11]=o*u+L*h+m*S+F*w,o=s[12],L=s[13],m=s[14],F=s[15],t[12]=o*n+L*y+m*l+F*P,t[13]=o*i+L*c+m*d+F*x,t[14]=o*f+L*T+m*E+F*M,t[15]=o*u+L*h+m*S+F*w,t}},5268:function(v){v.exports=p;function p(t,r,s,n,i,f,u){var y=1/(r-s),c=1/(n-i),T=1/(f-u);return t[0]=-2*y,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*T,t[11]=0,t[12]=(r+s)*y,t[13]=(i+n)*c,t[14]=(u+f)*T,t[15]=1,t}},1120:function(v){v.exports=p;function p(t,r,s,n,i){var f=1/Math.tan(r/2),u=1/(n-i);return t[0]=f/s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=f,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+n)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*n*u,t[15]=0,t}},4422:function(v){v.exports=p;function p(t,r,s,n){var i=n[0],f=n[1],u=n[2],y=Math.sqrt(i*i+f*f+u*u),c,T,h,l,d,E,S,P,x,M,w,o,L,m,F,I,U,z,N,B,O,H,Y,J;return Math.abs(y)<1e-6?null:(y=1/y,i*=y,f*=y,u*=y,c=Math.sin(s),T=Math.cos(s),h=1-T,l=r[0],d=r[1],E=r[2],S=r[3],P=r[4],x=r[5],M=r[6],w=r[7],o=r[8],L=r[9],m=r[10],F=r[11],I=i*i*h+T,U=f*i*h+u*c,z=u*i*h-f*c,N=i*f*h-u*c,B=f*f*h+T,O=u*f*h+i*c,H=i*u*h+f*c,Y=f*u*h-i*c,J=u*u*h+T,t[0]=l*I+P*U+o*z,t[1]=d*I+x*U+L*z,t[2]=E*I+M*U+m*z,t[3]=S*I+w*U+F*z,t[4]=l*N+P*B+o*O,t[5]=d*N+x*B+L*O,t[6]=E*N+M*B+m*O,t[7]=S*N+w*B+F*O,t[8]=l*H+P*Y+o*J,t[9]=d*H+x*Y+L*J,t[10]=E*H+M*Y+m*J,t[11]=S*H+w*Y+F*J,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)}},6109:function(v){v.exports=p;function p(t,r,s){var n=Math.sin(s),i=Math.cos(s),f=r[4],u=r[5],y=r[6],c=r[7],T=r[8],h=r[9],l=r[10],d=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=f*i+T*n,t[5]=u*i+h*n,t[6]=y*i+l*n,t[7]=c*i+d*n,t[8]=T*i-f*n,t[9]=h*i-u*n,t[10]=l*i-y*n,t[11]=d*i-c*n,t}},7115:function(v){v.exports=p;function p(t,r,s){var n=Math.sin(s),i=Math.cos(s),f=r[0],u=r[1],y=r[2],c=r[3],T=r[8],h=r[9],l=r[10],d=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=f*i-T*n,t[1]=u*i-h*n,t[2]=y*i-l*n,t[3]=c*i-d*n,t[8]=f*n+T*i,t[9]=u*n+h*i,t[10]=y*n+l*i,t[11]=c*n+d*i,t}},5240:function(v){v.exports=p;function p(t,r,s){var n=Math.sin(s),i=Math.cos(s),f=r[0],u=r[1],y=r[2],c=r[3],T=r[4],h=r[5],l=r[6],d=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=f*i+T*n,t[1]=u*i+h*n,t[2]=y*i+l*n,t[3]=c*i+d*n,t[4]=T*i-f*n,t[5]=h*i-u*n,t[6]=l*i-y*n,t[7]=d*i-c*n,t}},3668:function(v){v.exports=p;function p(t,r,s){var n=s[0],i=s[1],f=s[2];return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*i,t[5]=r[5]*i,t[6]=r[6]*i,t[7]=r[7]*i,t[8]=r[8]*f,t[9]=r[9]*f,t[10]=r[10]*f,t[11]=r[11]*f,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},998:function(v){v.exports=p;function p(t,r,s){var n=s[0],i=s[1],f=s[2],u,y,c,T,h,l,d,E,S,P,x,M;return r===t?(t[12]=r[0]*n+r[4]*i+r[8]*f+r[12],t[13]=r[1]*n+r[5]*i+r[9]*f+r[13],t[14]=r[2]*n+r[6]*i+r[10]*f+r[14],t[15]=r[3]*n+r[7]*i+r[11]*f+r[15]):(u=r[0],y=r[1],c=r[2],T=r[3],h=r[4],l=r[5],d=r[6],E=r[7],S=r[8],P=r[9],x=r[10],M=r[11],t[0]=u,t[1]=y,t[2]=c,t[3]=T,t[4]=h,t[5]=l,t[6]=d,t[7]=E,t[8]=S,t[9]=P,t[10]=x,t[11]=M,t[12]=u*n+h*i+S*f+r[12],t[13]=y*n+l*i+P*f+r[13],t[14]=c*n+d*i+x*f+r[14],t[15]=T*n+E*i+M*f+r[15]),t}},2142:function(v){v.exports=p;function p(t,r){if(t===r){var s=r[1],n=r[2],i=r[3],f=r[6],u=r[7],y=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=s,t[6]=r[9],t[7]=r[13],t[8]=n,t[9]=f,t[11]=r[14],t[12]=i,t[13]=u,t[14]=y}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t}},4340:function(v,p,t){var r=t(957),s=t(7309);v.exports=y;function n(c,T){for(var h=[0,0,0,0],l=0;l<4;++l)for(var d=0;d<4;++d)h[d]+=c[4*l+d]*T[l];return h}function i(c,T,h,l,d){for(var E=n(l,n(h,n(T,[c[0],c[1],c[2],1]))),S=0;S<3;++S)E[S]/=E[3];return[.5*d[0]*(1+E[0]),.5*d[1]*(1-E[1])]}function f(c,T){if(c.length===2){for(var h=0,l=0,d=0;d<2;++d)h+=Math.pow(T[d]-c[0][d],2),l+=Math.pow(T[d]-c[1][d],2);return h=Math.sqrt(h),l=Math.sqrt(l),h+l<1e-6?[1,0]:[l/(h+l),h/(l+h)]}else if(c.length===3){var E=[0,0];return s(c[0],c[1],c[2],T,E),r(c,E)}return[]}function u(c,T){for(var h=[0,0,0],l=0;l<c.length;++l)for(var d=c[l],E=T[l],S=0;S<3;++S)h[S]+=E*d[S];return h}function y(c,T,h,l,d,E){if(c.length===1)return[0,c[0].slice()];for(var S=new Array(c.length),P=0;P<c.length;++P)S[P]=i(c[P],h,l,d,E);for(var x=0,M=1/0,P=0;P<S.length;++P){for(var w=0,o=0;o<2;++o)w+=Math.pow(S[P][o]-T[o],2);w<M&&(M=w,x=P)}for(var L=f(S,T),m=0,P=0;P<3;++P){if(L[P]<-.001||L[P]>1.0001)return null;m+=L[P]}return Math.abs(m-1)>.001?null:[x,u(c,L),L]}},2056:function(v,p,t){var r=t(6832),s=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),i=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),f=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),u=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),y=r([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),c=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),T=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),h=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),l=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),d=r([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);p.meshShader={vertex:s,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.wireShader={vertex:i,fragment:f,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.pointShader={vertex:u,fragment:y,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},p.pickShader={vertex:c,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},p.pointPickShader={vertex:h,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},p.contourShader={vertex:l,fragment:d,attributes:[{name:"position",type:"vec3"}]}},8116:function(v,p,t){var r=1e-6,s=1e-6,n=t(5158),i=t(5827),f=t(2944),u=t(8931),y=t(115),c=t(104),T=t(7437),h=t(5050),l=t(9156),d=t(7212),E=t(5306),S=t(2056),P=t(4340),x=S.meshShader,M=S.wireShader,w=S.pointShader,o=S.pickShader,L=S.pointPickShader,m=S.contourShader,F=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function I(Q,j,Z,$,te,se,ee,q,le,oe,he,me,Ce,Ae,Ue,Ve,Pe,be,Le,We,je,Fe,Ze,ut,at,it,$e){this.gl=Q,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=j,this.dirty=!0,this.triShader=Z,this.lineShader=$,this.pointShader=te,this.pickShader=se,this.pointPickShader=ee,this.contourShader=q,this.trianglePositions=le,this.triangleColors=he,this.triangleNormals=Ce,this.triangleUVs=me,this.triangleIds=oe,this.triangleVAO=Ae,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Ue,this.edgeColors=Pe,this.edgeUVs=be,this.edgeIds=Ve,this.edgeVAO=Le,this.edgeCount=0,this.pointPositions=We,this.pointColors=Fe,this.pointUVs=Ze,this.pointSizes=ut,this.pointIds=je,this.pointVAO=at,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=it,this.contourVAO=$e,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=F,this._view=F,this._projection=F,this._resolution=[1,1]}var U=I.prototype;U.isOpaque=function(){return!this.hasAlpha},U.isTransparent=function(){return this.hasAlpha},U.pickSlots=1,U.setPickBase=function(Q){this.pickId=Q};function z(Q,j){if(!j||!j.length)return 1;for(var Z=0;Z<j.length;++Z){if(j.length<2)return 1;if(j[Z][0]===Q)return j[Z][1];if(j[Z][0]>Q&&Z>0){var $=(j[Z][0]-Q)/(j[Z][0]-j[Z-1][0]);return j[Z][1]*(1-$)+$*j[Z-1][1]}}return 1}function N(Q,j){for(var Z=l({colormap:Q,nshades:256,format:"rgba"}),$=new Uint8Array(256*4),te=0;te<256;++te){for(var se=Z[te],ee=0;ee<3;++ee)$[4*te+ee]=se[ee];j?$[4*te+3]=255*z(te/255,j):$[4*te+3]=255*se[3]}return h($,[256,256,4],[4,0,1])}function B(Q){for(var j=Q.length,Z=new Array(j),$=0;$<j;++$)Z[$]=Q[$][2];return Z}U.highlight=function(Q){if(!Q||!this.contourEnable){this.contourCount=0;return}for(var j=d(this.cells,this.intensity,Q.intensity),Z=j.cells,$=j.vertexIds,te=j.vertexWeights,se=Z.length,ee=E.mallocFloat32(2*3*se),q=0,le=0;le<se;++le)for(var oe=Z[le],he=0;he<2;++he){var me=oe[0];oe.length===2&&(me=oe[he]);for(var Ce=$[me][0],Ae=$[me][1],Ue=te[me],Ve=1-Ue,Pe=this.positions[Ce],be=this.positions[Ae],Le=0;Le<3;++Le)ee[q++]=Ue*Pe[Le]+Ve*be[Le]}this.contourCount=q/3|0,this.contourPositions.update(ee.subarray(0,q)),E.free(ee)},U.update=function(Q){Q=Q||{};var j=this.gl;this.dirty=!0,"contourEnable"in Q&&(this.contourEnable=Q.contourEnable),"contourColor"in Q&&(this.contourColor=Q.contourColor),"lineWidth"in Q&&(this.lineWidth=Q.lineWidth),"lightPosition"in Q&&(this.lightPosition=Q.lightPosition),this.hasAlpha=!1,"opacity"in Q&&(this.opacity=Q.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in Q&&(this.opacityscale=Q.opacityscale,this.hasAlpha=!0),"ambient"in Q&&(this.ambientLight=Q.ambient),"diffuse"in Q&&(this.diffuseLight=Q.diffuse),"specular"in Q&&(this.specularLight=Q.specular),"roughness"in Q&&(this.roughness=Q.roughness),"fresnel"in Q&&(this.fresnel=Q.fresnel),Q.texture?(this.texture.dispose(),this.texture=u(j,Q.texture)):Q.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=j.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=j.LINEAR,this.texture.setPixels(N(Q.colormap,this.opacityscale)),this.texture.generateMipmap());var Z=Q.cells,$=Q.positions;if(!(!$||!Z)){var te=[],se=[],ee=[],q=[],le=[],oe=[],he=[],me=[],Ce=[],Ae=[],Ue=[],Ve=[],Pe=[],be=[];this.cells=Z,this.positions=$;var Le=Q.vertexNormals,We=Q.cellNormals,je=Q.vertexNormalsEpsilon===void 0?r:Q.vertexNormalsEpsilon,Fe=Q.faceNormalsEpsilon===void 0?s:Q.faceNormalsEpsilon;Q.useFacetNormals&&!We&&(We=y.faceNormals(Z,$,Fe)),!We&&!Le&&(Le=y.vertexNormals(Z,$,je));var Ze=Q.vertexColors,ut=Q.cellColors,at=Q.meshColor||[1,1,1,1],it=Q.vertexUVs,$e=Q.vertexIntensity,st=Q.cellUVs,ct=Q.cellIntensity,vt=1/0,St=-1/0;if(!it&&!st)if($e)if(Q.vertexIntensityBounds)vt=+Q.vertexIntensityBounds[0],St=+Q.vertexIntensityBounds[1];else for(var Mt=0;Mt<$e.length;++Mt){var Bt=$e[Mt];vt=Math.min(vt,Bt),St=Math.max(St,Bt)}else if(ct)if(Q.cellIntensityBounds)vt=+Q.cellIntensityBounds[0],St=+Q.cellIntensityBounds[1];else for(var Mt=0;Mt<ct.length;++Mt){var Bt=ct[Mt];vt=Math.min(vt,Bt),St=Math.max(St,Bt)}else for(var Mt=0;Mt<$.length;++Mt){var Bt=$[Mt][2];vt=Math.min(vt,Bt),St=Math.max(St,Bt)}$e?this.intensity=$e:ct?this.intensity=ct:this.intensity=B($),this.pickVertex=!(ct||ut);var Qe=Q.pointSizes,ke=Q.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Mt=0;Mt<$.length;++Mt)for(var ze=$[Mt],Be=0;Be<3;++Be)isNaN(ze[Be])||!isFinite(ze[Be])||(this.bounds[0][Be]=Math.min(this.bounds[0][Be],ze[Be]),this.bounds[1][Be]=Math.max(this.bounds[1][Be],ze[Be]));var Re=0,we=0,ye=0;e:for(var Mt=0;Mt<Z.length;++Mt){var Se=Z[Mt];switch(Se.length){case 1:for(var Me=Se[0],ze=$[Me],Be=0;Be<3;++Be)if(isNaN(ze[Be])||!isFinite(ze[Be]))continue e;Ae.push(ze[0],ze[1],ze[2]);var He;Ze?He=Ze[Me]:ut?He=ut[Mt]:He=at,this.opacityscale&&$e?se.push(He[0],He[1],He[2],this.opacity*z(($e[Me]-vt)/(St-vt),this.opacityscale)):He.length===3?Ue.push(He[0],He[1],He[2],this.opacity):(Ue.push(He[0],He[1],He[2],He[3]*this.opacity),He[3]<1&&(this.hasAlpha=!0));var qe;it?qe=it[Me]:$e?qe=[($e[Me]-vt)/(St-vt),0]:st?qe=st[Mt]:ct?qe=[(ct[Mt]-vt)/(St-vt),0]:qe=[(ze[2]-vt)/(St-vt),0],Ve.push(qe[0],qe[1]),Qe?Pe.push(Qe[Me]):Pe.push(ke),be.push(Mt),ye+=1;break;case 2:for(var Be=0;Be<2;++Be)for(var Me=Se[Be],ze=$[Me],rt=0;rt<3;++rt)if(isNaN(ze[rt])||!isFinite(ze[rt]))continue e;for(var Be=0;Be<2;++Be){var Me=Se[Be],ze=$[Me];oe.push(ze[0],ze[1],ze[2]);var He;Ze?He=Ze[Me]:ut?He=ut[Mt]:He=at,this.opacityscale&&$e?se.push(He[0],He[1],He[2],this.opacity*z(($e[Me]-vt)/(St-vt),this.opacityscale)):He.length===3?he.push(He[0],He[1],He[2],this.opacity):(he.push(He[0],He[1],He[2],He[3]*this.opacity),He[3]<1&&(this.hasAlpha=!0));var qe;it?qe=it[Me]:$e?qe=[($e[Me]-vt)/(St-vt),0]:st?qe=st[Mt]:ct?qe=[(ct[Mt]-vt)/(St-vt),0]:qe=[(ze[2]-vt)/(St-vt),0],me.push(qe[0],qe[1]),Ce.push(Mt)}we+=1;break;case 3:for(var Be=0;Be<3;++Be)for(var Me=Se[Be],ze=$[Me],rt=0;rt<3;++rt)if(isNaN(ze[rt])||!isFinite(ze[rt]))continue e;for(var Be=0;Be<3;++Be){var Me=Se[2-Be],ze=$[Me];te.push(ze[0],ze[1],ze[2]);var He;Ze?He=Ze[Me]:ut?He=ut[Mt]:He=at,He?this.opacityscale&&$e?se.push(He[0],He[1],He[2],this.opacity*z(($e[Me]-vt)/(St-vt),this.opacityscale)):He.length===3?se.push(He[0],He[1],He[2],this.opacity):(se.push(He[0],He[1],He[2],He[3]*this.opacity),He[3]<1&&(this.hasAlpha=!0)):se.push(.5,.5,.5,1);var qe;it?qe=it[Me]:$e?qe=[($e[Me]-vt)/(St-vt),0]:st?qe=st[Mt]:ct?qe=[(ct[Mt]-vt)/(St-vt),0]:qe=[(ze[2]-vt)/(St-vt),0],q.push(qe[0],qe[1]);var pt;Le?pt=Le[Me]:pt=We[Mt],ee.push(pt[0],pt[1],pt[2]),le.push(Mt)}Re+=1;break}}this.pointCount=ye,this.edgeCount=we,this.triangleCount=Re,this.pointPositions.update(Ae),this.pointColors.update(Ue),this.pointUVs.update(Ve),this.pointSizes.update(Pe),this.pointIds.update(new Uint32Array(be)),this.edgePositions.update(oe),this.edgeColors.update(he),this.edgeUVs.update(me),this.edgeIds.update(new Uint32Array(Ce)),this.trianglePositions.update(te),this.triangleColors.update(se),this.triangleUVs.update(q),this.triangleNormals.update(ee),this.triangleIds.update(new Uint32Array(le))}},U.drawTransparent=U.draw=function(Q){Q=Q||{};for(var j=this.gl,Z=Q.model||F,$=Q.view||F,te=Q.projection||F,se=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],ee=0;ee<3;++ee)se[0][ee]=Math.max(se[0][ee],this.clipBounds[0][ee]),se[1][ee]=Math.min(se[1][ee],this.clipBounds[1][ee]);var q={model:Z,view:$,projection:te,inverseModel:F.slice(),clipBounds:se,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};q.inverseModel=T(q.inverseModel,q.model),j.disable(j.CULL_FACE),this.texture.bind(0);var le=new Array(16);c(le,q.view,q.model),c(le,q.projection,le),T(le,le);for(var ee=0;ee<3;++ee)q.eyePosition[ee]=le[12+ee]/le[15];for(var oe=le[15],ee=0;ee<3;++ee)oe+=this.lightPosition[ee]*le[4*ee+3];for(var ee=0;ee<3;++ee){for(var he=le[12+ee],me=0;me<3;++me)he+=le[4*me+ee]*this.lightPosition[me];q.lightPosition[ee]=he/oe}if(this.triangleCount>0){var Ce=this.triShader;Ce.bind(),Ce.uniforms=q,this.triangleVAO.bind(),j.drawArrays(j.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var Ce=this.lineShader;Ce.bind(),Ce.uniforms=q,this.edgeVAO.bind(),j.lineWidth(this.lineWidth*this.pixelRatio),j.drawArrays(j.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var Ce=this.pointShader;Ce.bind(),Ce.uniforms=q,this.pointVAO.bind(),j.drawArrays(j.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var Ce=this.contourShader;Ce.bind(),Ce.uniforms=q,this.contourVAO.bind(),j.drawArrays(j.LINES,0,this.contourCount),this.contourVAO.unbind()}},U.drawPick=function(Q){Q=Q||{};for(var j=this.gl,Z=Q.model||F,$=Q.view||F,te=Q.projection||F,se=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],ee=0;ee<3;++ee)se[0][ee]=Math.max(se[0][ee],this.clipBounds[0][ee]),se[1][ee]=Math.min(se[1][ee],this.clipBounds[1][ee]);this._model=[].slice.call(Z),this._view=[].slice.call($),this._projection=[].slice.call(te),this._resolution=[j.drawingBufferWidth,j.drawingBufferHeight];var q={model:Z,view:$,projection:te,clipBounds:se,pickId:this.pickId/255},le=this.pickShader;if(le.bind(),le.uniforms=q,this.triangleCount>0&&(this.triangleVAO.bind(),j.drawArrays(j.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),j.lineWidth(this.lineWidth*this.pixelRatio),j.drawArrays(j.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var le=this.pointPickShader;le.bind(),le.uniforms=q,this.pointVAO.bind(),j.drawArrays(j.POINTS,0,this.pointCount),this.pointVAO.unbind()}},U.pick=function(Q){if(!Q||Q.id!==this.pickId)return null;for(var j=Q.value[0]+256*Q.value[1]+65536*Q.value[2],Z=this.cells[j],$=this.positions,te=new Array(Z.length),se=0;se<Z.length;++se)te[se]=$[Z[se]];var ee=Q.coord[0],q=Q.coord[1];if(!this.pickVertex){var le=this.positions[Z[0]],oe=this.positions[Z[1]],he=this.positions[Z[2]],me=[(le[0]+oe[0]+he[0])/3,(le[1]+oe[1]+he[1])/3,(le[2]+oe[2]+he[2])/3];return{_cellCenter:!0,position:[ee,q],index:j,cell:Z,cellId:j,intensity:this.intensity[j],dataCoordinate:me}}var Ce=P(te,[ee*this.pixelRatio,this._resolution[1]-q*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!Ce)return null;for(var Ae=Ce[2],Ue=0,se=0;se<Z.length;++se)Ue+=Ae[se]*this.intensity[Z[se]];return{position:Ce[1],index:Z[Ce[0]],cell:Z,cellId:j,intensity:Ue,dataCoordinate:this.positions[Z[Ce[0]]]}},U.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function O(Q){var j=n(Q,x.vertex,x.fragment);return j.attributes.position.location=0,j.attributes.color.location=2,j.attributes.uv.location=3,j.attributes.normal.location=4,j}function H(Q){var j=n(Q,M.vertex,M.fragment);return j.attributes.position.location=0,j.attributes.color.location=2,j.attributes.uv.location=3,j}function Y(Q){var j=n(Q,w.vertex,w.fragment);return j.attributes.position.location=0,j.attributes.color.location=2,j.attributes.uv.location=3,j.attributes.pointSize.location=4,j}function J(Q){var j=n(Q,o.vertex,o.fragment);return j.attributes.position.location=0,j.attributes.id.location=1,j}function re(Q){var j=n(Q,L.vertex,L.fragment);return j.attributes.position.location=0,j.attributes.id.location=1,j.attributes.pointSize.location=4,j}function ie(Q){var j=n(Q,m.vertex,m.fragment);return j.attributes.position.location=0,j}function ce(Q,j){arguments.length===1&&(j=Q,Q=j.gl);var Z=Q.getExtension("OES_standard_derivatives")||Q.getExtension("MOZ_OES_standard_derivatives")||Q.getExtension("WEBKIT_OES_standard_derivatives");if(!Z)throw new Error("derivatives not supported");var $=O(Q),te=H(Q),se=Y(Q),ee=J(Q),q=re(Q),le=ie(Q),oe=u(Q,h(new Uint8Array([255,255,255,255]),[1,1,4]));oe.generateMipmap(),oe.minFilter=Q.LINEAR_MIPMAP_LINEAR,oe.magFilter=Q.LINEAR;var he=i(Q),me=i(Q),Ce=i(Q),Ae=i(Q),Ue=i(Q),Ve=f(Q,[{buffer:he,type:Q.FLOAT,size:3},{buffer:Ue,type:Q.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:me,type:Q.FLOAT,size:4},{buffer:Ce,type:Q.FLOAT,size:2},{buffer:Ae,type:Q.FLOAT,size:3}]),Pe=i(Q),be=i(Q),Le=i(Q),We=i(Q),je=f(Q,[{buffer:Pe,type:Q.FLOAT,size:3},{buffer:We,type:Q.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:be,type:Q.FLOAT,size:4},{buffer:Le,type:Q.FLOAT,size:2}]),Fe=i(Q),Ze=i(Q),ut=i(Q),at=i(Q),it=i(Q),$e=f(Q,[{buffer:Fe,type:Q.FLOAT,size:3},{buffer:it,type:Q.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Ze,type:Q.FLOAT,size:4},{buffer:ut,type:Q.FLOAT,size:2},{buffer:at,type:Q.FLOAT,size:1}]),st=i(Q),ct=f(Q,[{buffer:st,type:Q.FLOAT,size:3}]),vt=new I(Q,oe,$,te,se,ee,q,le,he,Ue,me,Ce,Ae,Ve,Pe,We,be,Le,je,Fe,it,Ze,ut,at,$e,st,ct);return vt.update(j),vt}v.exports=ce},4554:function(v,p,t){v.exports=u;var r=t(5827),s=t(5158),n=t(2709);function i(y,c,T){this.plot=y,this.vbo=c,this.shader=T}var f=i.prototype;f.bind=function(){var y=this.shader;this.vbo.bind(),this.shader.bind(),y.attributes.coord.pointer(),y.uniforms.screenBox=this.plot.screenBox},f.drawBox=function(){var y=[0,0],c=[0,0];return function(T,h,l,d,E){var S=this.plot,P=this.shader,x=S.gl;y[0]=T,y[1]=h,c[0]=l,c[1]=d,P.uniforms.lo=y,P.uniforms.hi=c,P.uniforms.color=E,x.drawArrays(x.TRIANGLE_STRIP,0,4)}}(),f.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function u(y){var c=y.gl,T=r(c,[0,0,0,1,1,0,1,1]),h=s(c,n.boxVert,n.lineFrag);return new i(y,T,h)}},3016:function(v,p,t){v.exports=c;var r=t(5827),s=t(5158),n=t(5070),i=t(2709);function f(T,h,l,d){this.plot=T,this.vbo=h,this.shader=l,this.tickShader=d,this.ticks=[[],[]]}function u(T,h){return T-h}var y=f.prototype;y.draw=function(){var T=[0,0],h=[0,0],l=[0,0];return function(){for(var d=this.plot,E=this.vbo,S=this.shader,P=this.ticks,x=d.gl,M=d._tickBounds,w=d.dataBox,o=d.viewBox,L=d.gridLineWidth,m=d.gridLineColor,F=d.gridLineEnable,I=d.pixelRatio,U=0;U<2;++U){var z=M[U],N=M[U+2],B=N-z,O=.5*(w[U+2]+w[U]),H=w[U+2]-w[U];h[U]=2*B/H,T[U]=2*(z-O)/H}S.bind(),E.bind(),S.attributes.dataCoord.pointer(),S.uniforms.dataShift=T,S.uniforms.dataScale=h;for(var Y=0,U=0;U<2;++U){l[0]=l[1]=0,l[U]=1,S.uniforms.dataAxis=l,S.uniforms.lineWidth=L[U]/(o[U+2]-o[U])*I,S.uniforms.color=m[U];var J=P[U].length*6;F[U]&&J&&x.drawArrays(x.TRIANGLES,Y,J),Y+=J}}}(),y.drawTickMarks=function(){var T=[0,0],h=[0,0],l=[1,0],d=[0,1],E=[0,0],S=[0,0];return function(){for(var P=this.plot,x=this.vbo,M=this.tickShader,w=this.ticks,o=P.gl,L=P._tickBounds,m=P.dataBox,F=P.viewBox,I=P.pixelRatio,U=P.screenBox,z=U[2]-U[0],N=U[3]-U[1],B=F[2]-F[0],O=F[3]-F[1],H=0;H<2;++H){var Y=L[H],J=L[H+2],re=J-Y,ie=.5*(m[H+2]+m[H]),ce=m[H+2]-m[H];h[H]=2*re/ce,T[H]=2*(Y-ie)/ce}h[0]*=B/z,T[0]*=B/z,h[1]*=O/N,T[1]*=O/N,M.bind(),x.bind(),M.attributes.dataCoord.pointer();var Q=M.uniforms;Q.dataShift=T,Q.dataScale=h;var j=P.tickMarkLength,Z=P.tickMarkWidth,$=P.tickMarkColor,te=0,se=w[0].length*6,ee=Math.min(n.ge(w[0],(m[0]-L[0])/(L[2]-L[0]),u),w[0].length),q=Math.min(n.gt(w[0],(m[2]-L[0])/(L[2]-L[0]),u),w[0].length),le=te+6*ee,oe=6*Math.max(0,q-ee),he=Math.min(n.ge(w[1],(m[1]-L[1])/(L[3]-L[1]),u),w[1].length),me=Math.min(n.gt(w[1],(m[3]-L[1])/(L[3]-L[1]),u),w[1].length),Ce=se+6*he,Ae=6*Math.max(0,me-he);E[0]=2*(F[0]-j[1])/z-1,E[1]=(F[3]+F[1])/N-1,S[0]=j[1]*I/z,S[1]=Z[1]*I/N,Ae&&(Q.color=$[1],Q.tickScale=S,Q.dataAxis=d,Q.screenOffset=E,o.drawArrays(o.TRIANGLES,Ce,Ae)),E[0]=(F[2]+F[0])/z-1,E[1]=2*(F[1]-j[0])/N-1,S[0]=Z[0]*I/z,S[1]=j[0]*I/N,oe&&(Q.color=$[0],Q.tickScale=S,Q.dataAxis=l,Q.screenOffset=E,o.drawArrays(o.TRIANGLES,le,oe)),E[0]=2*(F[2]+j[3])/z-1,E[1]=(F[3]+F[1])/N-1,S[0]=j[3]*I/z,S[1]=Z[3]*I/N,Ae&&(Q.color=$[3],Q.tickScale=S,Q.dataAxis=d,Q.screenOffset=E,o.drawArrays(o.TRIANGLES,Ce,Ae)),E[0]=(F[2]+F[0])/z-1,E[1]=2*(F[3]+j[2])/N-1,S[0]=Z[2]*I/z,S[1]=j[2]*I/N,oe&&(Q.color=$[2],Q.tickScale=S,Q.dataAxis=l,Q.screenOffset=E,o.drawArrays(o.TRIANGLES,le,oe))}}(),y.update=function(){var T=[1,1,-1,-1,1,-1],h=[1,-1,1,1,-1,-1];return function(l){var d=l.ticks,E=l.bounds,S=new Float32Array(6*3*(d[0].length+d[1].length));this.plot.zeroLineEnable;for(var P=0,x=[[],[]],M=0;M<2;++M)for(var w=x[M],o=d[M],L=E[M],m=E[M+2],F=0;F<o.length;++F){var I=(o[F].x-L)/(m-L);w.push(I);for(var U=0;U<6;++U)S[P++]=I,S[P++]=T[U],S[P++]=h[U]}this.ticks=x,this.vbo.update(S)}}(),y.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function c(T){var h=T.gl,l=r(h),d=s(h,i.gridVert,i.gridFrag),E=s(h,i.tickVert,i.gridFrag),S=new f(T,l,d,E);return S}},1154:function(v,p,t){v.exports=u;var r=t(5827),s=t(5158),n=t(2709);function i(y,c,T){this.plot=y,this.vbo=c,this.shader=T}var f=i.prototype;f.bind=function(){var y=this.shader;this.vbo.bind(),this.shader.bind(),y.attributes.coord.pointer(),y.uniforms.screenBox=this.plot.screenBox},f.drawLine=function(){var y=[0,0],c=[0,0];return function(T,h,l,d,E,S){var P=this.plot,x=this.shader,M=P.gl;y[0]=T,y[1]=h,c[0]=l,c[1]=d,x.uniforms.start=y,x.uniforms.end=c,x.uniforms.width=E*P.pixelRatio,x.uniforms.color=S,M.drawArrays(M.TRIANGLE_STRIP,0,4)}}(),f.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function u(y){var c=y.gl,T=r(c,[-1,-1,-1,1,1,-1,1,1]),h=s(c,n.lineVert,n.lineFrag),l=new i(y,T,h);return l}},2709:function(v,p,t){var r=t(6832),s=r([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);v.exports={lineVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:s,textVert:r([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:s,gridVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:s,boxVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},5613:function(v,p,t){v.exports=c;var r=t(5827),s=t(5158),n=t(6946),i=t(5070),f=t(2709);function u(T,h,l){this.plot=T,this.vbo=h,this.shader=l,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var y=u.prototype;y.drawTicks=function(){var T=[0,0],h=[0,0],l=[0,0];return function(d){var E=this.plot,S=this.shader,P=this.tickX[d],x=this.tickOffset[d],M=E.gl,w=E.viewBox,o=E.dataBox,L=E.screenBox,m=E.pixelRatio,F=E.tickEnable,I=E.tickPad,U=E.tickColor,z=E.tickAngle,N=E.labelEnable,B=E.labelPad,O=E.labelColor,H=E.labelAngle,Y=this.labelOffset[d],J=this.labelCount[d],re=i.lt(P,o[d]),ie=i.le(P,o[d+2]);T[0]=T[1]=0,T[d]=1,h[d]=(w[2+d]+w[d])/(L[2+d]-L[d])-1;var ce=2/L[2+(d^1)]-L[d^1];h[d^1]=ce*w[d^1]-1,F[d]&&(h[d^1]-=ce*m*I[d],re<ie&&x[ie]>x[re]&&(S.uniforms.dataAxis=T,S.uniforms.screenOffset=h,S.uniforms.color=U[d],S.uniforms.angle=z[d],M.drawArrays(M.TRIANGLES,x[re],x[ie]-x[re]))),N[d]&&J&&(h[d^1]-=ce*m*B[d],S.uniforms.dataAxis=l,S.uniforms.screenOffset=h,S.uniforms.color=O[d],S.uniforms.angle=H[d],M.drawArrays(M.TRIANGLES,Y,J)),h[d^1]=ce*w[2+(d^1)]-1,F[d+2]&&(h[d^1]+=ce*m*I[d+2],re<ie&&x[ie]>x[re]&&(S.uniforms.dataAxis=T,S.uniforms.screenOffset=h,S.uniforms.color=U[d+2],S.uniforms.angle=z[d+2],M.drawArrays(M.TRIANGLES,x[re],x[ie]-x[re]))),N[d+2]&&J&&(h[d^1]+=ce*m*B[d+2],S.uniforms.dataAxis=l,S.uniforms.screenOffset=h,S.uniforms.color=O[d+2],S.uniforms.angle=H[d+2],M.drawArrays(M.TRIANGLES,Y,J))}}(),y.drawTitle=function(){var T=[0,0],h=[0,0];return function(){var l=this.plot,d=this.shader,E=l.gl,S=l.screenBox,P=l.titleCenter,x=l.titleAngle,M=l.titleColor,w=l.pixelRatio;if(this.titleCount){for(var o=0;o<2;++o)h[o]=2*(P[o]*w-S[o])/(S[2+o]-S[o])-1;d.bind(),d.uniforms.dataAxis=T,d.uniforms.screenOffset=h,d.uniforms.angle=x,d.uniforms.color=M,E.drawArrays(E.TRIANGLES,this.titleOffset,this.titleCount)}}}(),y.bind=function(){var T=[0,0],h=[0,0],l=[0,0];return function(){var d=this.plot,E=this.shader,S=d._tickBounds,P=d.dataBox,x=d.screenBox,M=d.viewBox;E.bind();for(var w=0;w<2;++w){var o=S[w],L=S[w+2],m=L-o,F=.5*(P[w+2]+P[w]),I=P[w+2]-P[w],U=M[w],z=M[w+2],N=z-U,B=x[w],O=x[w+2],H=O-B;h[w]=2*m/I*N/H,T[w]=2*(o-F)/I*N/H}l[1]=2*d.pixelRatio/(x[3]-x[1]),l[0]=l[1]*(x[3]-x[1])/(x[2]-x[0]),E.uniforms.dataScale=h,E.uniforms.dataShift=T,E.uniforms.textScale=l,this.vbo.bind(),E.attributes.textCoordinate.pointer()}}(),y.update=function(T){var h=[],l=T.ticks,d=T.bounds,E,S,P,x,M;for(M=0;M<2;++M){var w=[Math.floor(h.length/3)],o=[-1/0],L=l[M];for(E=0;E<L.length;++E){var m=L[E],F=m.x,I=m.text,U=m.font||"sans-serif";x=m.fontSize||12;for(var z=1/(d[M+2]-d[M]),N=d[M],B=I.split(`
`),O=0;O<B.length;O++)for(P=n(U,B[O]).data,S=0;S<P.length;S+=2)h.push(P[S]*x,-P[S+1]*x-O*x*1.2,(F-N)*z);w.push(Math.floor(h.length/3)),o.push(F)}this.tickOffset[M]=w,this.tickX[M]=o}for(M=0;M<2;++M){for(this.labelOffset[M]=Math.floor(h.length/3),P=n(T.labelFont[M],T.labels[M],{textAlign:"center"}).data,x=T.labelSize[M],E=0;E<P.length;E+=2)h.push(P[E]*x,-P[E+1]*x,0);this.labelCount[M]=Math.floor(h.length/3)-this.labelOffset[M]}for(this.titleOffset=Math.floor(h.length/3),P=n(T.titleFont,T.title).data,x=T.titleSize,E=0;E<P.length;E+=2)h.push(P[E]*x,-P[E+1]*x,0);this.titleCount=Math.floor(h.length/3)-this.titleOffset,this.vbo.update(h)},y.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function c(T){var h=T.gl,l=r(h),d=s(h,f.textVert,f.textFrag),E=new u(T,l,d);return E}},2117:function(v,p,t){v.exports=h;var r=t(2611),s=t(3016),n=t(5613),i=t(1154),f=t(4554);function u(l,d){this.gl=l,this.pickBuffer=d,this.screenBox=[0,0,l.drawingBufferWidth,l.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var y=u.prototype;y.setDirty=function(){this.dirty=this.pickDirty=!0},y.setOverlayDirty=function(){this.dirty=!0},y.nextDepthValue=function(){return this._depthCounter++/65536},y.draw=function(){return function(){var l=this.gl,d=this.screenBox,E=this.viewBox,S=this.dataBox,P=this.pixelRatio,x=this.grid,M=this.line,w=this.text,o=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,l.bindFramebuffer(l.FRAMEBUFFER,null),l.enable(l.SCISSOR_TEST),l.disable(l.DEPTH_TEST),l.depthFunc(l.LESS),l.depthMask(!1),l.enable(l.BLEND),l.blendEquation(l.FUNC_ADD,l.FUNC_ADD),l.blendFunc(l.ONE,l.ONE_MINUS_SRC_ALPHA),this.borderColor){l.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]);var L=this.borderColor;l.clearColor(L[0]*L[3],L[1]*L[3],L[2]*L[3],L[3]),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT)}l.scissor(E[0],E[1],E[2]-E[0],E[3]-E[1]),l.viewport(E[0],E[1],E[2]-E[0],E[3]-E[1]);var m=this.backgroundColor;l.clearColor(m[0]*m[3],m[1]*m[3],m[2]*m[3],m[3]),l.clear(l.COLOR_BUFFER_BIT),x.draw();var F=this.zeroLineEnable,I=this.zeroLineColor,U=this.zeroLineWidth;if(F[0]||F[1]){M.bind();for(var z=0;z<2;++z)if(!(!F[z]||!(S[z]<=0&&S[z+2]>=0))){var N=d[z]-S[z]*(d[z+2]-d[z])/(S[z+2]-S[z]);z===0?M.drawLine(N,d[1],N,d[3],U[z],I[z]):M.drawLine(d[0],N,d[2],N,U[z],I[z])}}for(var z=0;z<o.length;++z)o[z].draw();l.viewport(d[0],d[1],d[2]-d[0],d[3]-d[1]),l.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]),this.grid.drawTickMarks(),M.bind();var B=this.borderLineEnable,O=this.borderLineWidth,H=this.borderLineColor;B[1]&&M.drawLine(E[0],E[1]-.5*O[1]*P,E[0],E[3]+.5*O[3]*P,O[1],H[1]),B[0]&&M.drawLine(E[0]-.5*O[0]*P,E[1],E[2]+.5*O[2]*P,E[1],O[0],H[0]),B[3]&&M.drawLine(E[2],E[1]-.5*O[1]*P,E[2],E[3]+.5*O[3]*P,O[3],H[3]),B[2]&&M.drawLine(E[0]-.5*O[0]*P,E[3],E[2]+.5*O[2]*P,E[3],O[2],H[2]),w.bind();for(var z=0;z<2;++z)w.drawTicks(z);this.titleEnable&&w.drawTitle();for(var Y=this.overlays,z=0;z<Y.length;++z)Y[z].draw();l.disable(l.SCISSOR_TEST),l.disable(l.BLEND),l.depthMask(!0)}}}(),y.drawPick=function(){return function(){if(!this.static){var l=this.pickBuffer;this.gl,this._pickTimeout=null,l.begin();for(var d=1,E=this.objects,S=0;S<E.length;++S)d=E[S].drawPick(d);l.end()}}}(),y.pick=function(){return function(l,d){if(!this.static){var E=this.pixelRatio,S=this.pickPixelRatio,P=this.viewBox,x=Math.round((l-P[0]/E)*S)|0,M=Math.round((d-P[1]/E)*S)|0,w=this.pickBuffer.query(x,M,this.pickRadius);if(!w)return null;for(var o=w.id+(w.value[0]<<8)+(w.value[1]<<16)+(w.value[2]<<24),L=this.objects,m=0;m<L.length;++m){var F=L[m].pick(x,M,o);if(F)return F}return null}}}();function c(l){for(var d=l.slice(),E=0;E<d.length;++E)d[E]=d[E].slice();return d}function T(l,d){return l.x-d.x}y.setScreenBox=function(l){var d=this.screenBox,E=this.pixelRatio;d[0]=Math.round(l[0]*E)|0,d[1]=Math.round(l[1]*E)|0,d[2]=Math.round(l[2]*E)|0,d[3]=Math.round(l[3]*E)|0,this.setDirty()},y.setDataBox=function(l){var d=this.dataBox,E=d[0]!==l[0]||d[1]!==l[1]||d[2]!==l[2]||d[3]!==l[3];E&&(d[0]=l[0],d[1]=l[1],d[2]=l[2],d[3]=l[3],this.setDirty())},y.setViewBox=function(l){var d=this.pixelRatio,E=this.viewBox;E[0]=Math.round(l[0]*d)|0,E[1]=Math.round(l[1]*d)|0,E[2]=Math.round(l[2]*d)|0,E[3]=Math.round(l[3]*d)|0;var S=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((l[2]-l[0])*S)|0,Math.round((l[3]-l[1])*S)|0],this.setDirty()},y.update=function(l){l=l||{};var d=this.gl;this.pixelRatio=l.pixelRatio||1;var E=this.pixelRatio;this.pickPixelRatio=Math.max(E,1),this.setScreenBox(l.screenBox||[0,0,d.drawingBufferWidth/E,d.drawingBufferHeight/E]),this.screenBox,this.setViewBox(l.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/E,.125*(this.screenBox[3]-this.screenBox[1])/E,.875*(this.screenBox[2]-this.screenBox[0])/E,.875*(this.screenBox[3]-this.screenBox[1])/E]);var S=this.viewBox,P=(S[2]-S[0])/(S[3]-S[1]);this.setDataBox(l.dataBox||[-10,-10/P,10,10/P]),this.borderColor=l.borderColor!==!1?(l.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(l.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(l.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(l.gridLineWidth||[1,1]).slice(),this.gridLineColor=c(l.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(l.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(l.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=c(l.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(l.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(l.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=c(l.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(l.titleCenter||[.5*(S[0]+S[2])/E,(S[3]+120)/E]).slice(),this.titleEnable=!("titleEnable"in l)||!!l.titleEnable,this.titleAngle=l.titleAngle||0,this.titleColor=(l.titleColor||[0,0,0,1]).slice(),this.labelPad=(l.labelPad||[15,15,15,15]).slice(),this.labelAngle=(l.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(l.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=c(l.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(l.tickPad||[15,15,15,15]).slice(),this.tickAngle=(l.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(l.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=c(l.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(l.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(l.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=c(l.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var x=l.ticks||[[],[]],M=this._tickBounds;M[0]=M[1]=1/0,M[2]=M[3]=-1/0;for(var w=0;w<2;++w){var o=x[w].slice(0);o.length!==0&&(o.sort(T),M[w]=Math.min(M[w],o[0].x),M[w+2]=Math.max(M[w+2],o[o.length-1].x))}this.grid.update({bounds:M,ticks:x}),this.text.update({bounds:M,ticks:x,labels:l.labels||["x","y"],labelSize:l.labelSize||[12,12],labelFont:l.labelFont||["sans-serif","sans-serif"],title:l.title||"",titleSize:l.titleSize||18,titleFont:l.titleFont||"sans-serif"}),this.static=!!l.static,this.setDirty()},y.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var l=this.objects.length-1;l>=0;--l)this.objects[l].dispose();this.objects.length=0;for(var l=this.overlays.length-1;l>=0;--l)this.overlays[l].dispose();this.overlays.length=0,this.gl=null},y.addObject=function(l){this.objects.indexOf(l)<0&&(this.objects.push(l),this.setDirty())},y.removeObject=function(l){for(var d=this.objects,E=0;E<d.length;++E)if(d[E]===l){d.splice(E,1),this.setDirty();break}},y.addOverlay=function(l){this.overlays.indexOf(l)<0&&(this.overlays.push(l),this.setOverlayDirty())},y.removeOverlay=function(l){for(var d=this.overlays,E=0;E<d.length;++E)if(d[E]===l){d.splice(E,1),this.setOverlayDirty();break}};function h(l){var d=l.gl,E=r(d,[d.drawingBufferWidth,d.drawingBufferHeight]),S=new u(d,E);return S.grid=s(S),S.text=n(S),S.line=i(S),S.box=f(S),S.update(l),S}},4296:function(v,p,t){v.exports=y;var r=t(8161),s=t(1152),n=t(6145),i=t(6475),f=t(2565),u=t(5233);function y(c,T){c=c||document.body,T=T||{};var h=[.01,1/0];"distanceLimits"in T&&(h[0]=T.distanceLimits[0],h[1]=T.distanceLimits[1]),"zoomMin"in T&&(h[0]=T.zoomMin),"zoomMax"in T&&(h[1]=T.zoomMax);var l=s({center:T.center||[0,0,0],up:T.up||[0,1,0],eye:T.eye||[0,0,10],mode:T.mode||"orbit",distanceLimits:h}),d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],E=0,S=c.clientWidth,P=c.clientHeight,x={keyBindingMode:"rotate",enableWheel:!0,view:l,element:c,delay:T.delay||16,rotateSpeed:T.rotateSpeed||1,zoomSpeed:T.zoomSpeed||1,translateSpeed:T.translateSpeed||1,flipX:!!T.flipX,flipY:!!T.flipY,modes:l.modes,_ortho:T._ortho||T.projection&&T.projection.type==="orthographic"||!1,tick:function(){var M=r(),w=this.delay,o=M-2*w;l.idle(M-w),l.recalcMatrix(o),l.flush(M-(100+w*2));for(var L=!0,m=l.computedMatrix,F=0;F<16;++F)L=L&&d[F]===m[F],d[F]=m[F];var I=c.clientWidth===S&&c.clientHeight===P;return S=c.clientWidth,P=c.clientHeight,L?!I:(E=Math.exp(l.computedRadius[0]),!0)},lookAt:function(M,w,o){l.lookAt(l.lastT(),M,w,o)},rotate:function(M,w,o){l.rotate(l.lastT(),M,w,o)},pan:function(M,w,o){l.pan(l.lastT(),M,w,o)},translate:function(M,w,o){l.translate(l.lastT(),M,w,o)}};return Object.defineProperties(x,{matrix:{get:function(){return l.computedMatrix},set:function(M){return l.setMatrix(l.lastT(),M),l.computedMatrix},enumerable:!0},mode:{get:function(){return l.getMode()},set:function(M){var w=l.computedUp.slice(),o=l.computedEye.slice(),L=l.computedCenter.slice();if(l.setMode(M),M==="turntable"){var m=r();l._active.lookAt(m,o,L,w),l._active.lookAt(m+500,o,L,[0,0,1]),l._active.flush(m)}return l.getMode()},enumerable:!0},center:{get:function(){return l.computedCenter},set:function(M){return l.lookAt(l.lastT(),null,M),l.computedCenter},enumerable:!0},eye:{get:function(){return l.computedEye},set:function(M){return l.lookAt(l.lastT(),M),l.computedEye},enumerable:!0},up:{get:function(){return l.computedUp},set:function(M){return l.lookAt(l.lastT(),null,null,M),l.computedUp},enumerable:!0},distance:{get:function(){return E},set:function(M){return l.setDistance(l.lastT(),M),M},enumerable:!0},distanceLimits:{get:function(){return l.getDistanceLimits(h)},set:function(M){return l.setDistanceLimits(M),M},enumerable:!0}}),c.addEventListener("contextmenu",function(M){return M.preventDefault(),!1}),x._lastX=-1,x._lastY=-1,x._lastMods={shift:!1,control:!1,alt:!1,meta:!1},x.enableMouseListeners=function(){x.mouseListener=n(c,M),c.addEventListener("touchstart",function(w){var o=f(w.changedTouches[0],c);M(0,o[0],o[1],x._lastMods),M(1,o[0],o[1],x._lastMods)},u?{passive:!0}:!1),c.addEventListener("touchmove",function(w){var o=f(w.changedTouches[0],c);M(1,o[0],o[1],x._lastMods),w.preventDefault()},u?{passive:!1}:!1),c.addEventListener("touchend",function(w){M(0,x._lastX,x._lastY,x._lastMods)},u?{passive:!0}:!1);function M(w,o,L,m){var F=x.keyBindingMode;if(F!==!1){var I=F==="rotate",U=F==="pan",z=F==="zoom",N=!!m.control,B=!!m.alt,O=!!m.shift,H=!!(w&1),Y=!!(w&2),J=!!(w&4),re=1/c.clientHeight,ie=re*(o-x._lastX),ce=re*(L-x._lastY),Q=x.flipX?1:-1,j=x.flipY?1:-1,Z=Math.PI*x.rotateSpeed,$=r();if(x._lastX!==-1&&x._lastY!==-1&&((I&&H&&!N&&!B&&!O||H&&!N&&!B&&O)&&l.rotate($,Q*Z*ie,-j*Z*ce,0),(U&&H&&!N&&!B&&!O||Y||H&&N&&!B&&!O)&&l.pan($,-x.translateSpeed*ie*E,x.translateSpeed*ce*E,0),z&&H&&!N&&!B&&!O||J||H&&!N&&B&&!O)){var te=-x.zoomSpeed*ce/window.innerHeight*($-l.lastT())*100;l.pan($,0,0,E*(Math.exp(te)-1))}return x._lastX=o,x._lastY=L,x._lastMods=m,!0}}x.wheelListener=i(c,function(w,o){if(x.keyBindingMode!==!1&&x.enableWheel){var L=x.flipX?1:-1,m=x.flipY?1:-1,F=r();if(Math.abs(w)>Math.abs(o))l.rotate(F,0,0,-w*L*Math.PI*x.rotateSpeed/window.innerWidth);else if(!x._ortho){var I=-x.zoomSpeed*m*o/window.innerHeight*(F-l.lastT())/20;l.pan(F,0,0,E*(Math.exp(I)-1))}}},!0)},x.enableMouseListeners(),x}},8245:function(v,p,t){var r=t(6832),s=t(5158),n=r([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),i=r([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);v.exports=function(f){return s(f,n,i,null,[{name:"position",type:"vec2"}])}},1059:function(v,p,t){var r=t(4296),s=t(7453),n=t(2771),i=t(6496),f=t(2611),u=t(4234),y=t(8126),c=t(6145),T=t(1120),h=t(5268),l=t(8245),d=t(2321)({tablet:!0,featureDetect:!0});v.exports={createScene:M,createCamera:r};function E(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function S(o,L){var m=null;try{m=o.getContext("webgl",L),m||(m=o.getContext("experimental-webgl",L))}catch{return null}return m}function P(o){var L=Math.round(Math.log(Math.abs(o))/Math.log(10));if(L<0){var m=Math.round(Math.pow(10,-L));return Math.ceil(o*m)/m}else if(L>0){var m=Math.round(Math.pow(10,L));return Math.ceil(o/m)*m}return Math.ceil(o)}function x(o){return typeof o=="boolean"?o:!0}function M(o){o=o||{},o.camera=o.camera||{};var L=o.canvas;if(!L)if(L=document.createElement("canvas"),o.container){var m=o.container;m.appendChild(L)}else document.body.appendChild(L);var F=o.gl;if(F||(o.glOptions&&(d=!!o.glOptions.preserveDrawingBuffer),F=S(L,o.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:d})),!F)throw new Error("webgl not supported");var I=o.bounds||[[-10,-10,-10],[10,10,10]],U=new E,z=u(F,F.drawingBufferWidth,F.drawingBufferHeight,{preferFloat:!d}),N=l(F),B=o.cameraObject&&o.cameraObject._ortho===!0||o.camera.projection&&o.camera.projection.type==="orthographic"||!1,O={eye:o.camera.eye||[2,0,0],center:o.camera.center||[0,0,0],up:o.camera.up||[0,1,0],zoomMin:o.camera.zoomMax||.1,zoomMax:o.camera.zoomMin||100,mode:o.camera.mode||"turntable",_ortho:B},H=o.axes||{},Y=s(F,H);Y.enable=!H.disable;var J=o.spikes||{},re=i(F,J),ie=[],ce=[],Q=[],j=[],Z=!0,ee=!0,$=new Array(16),te=new Array(16),se={view:null,projection:$,model:te,_ortho:!1},ee=!0,q=[F.drawingBufferWidth,F.drawingBufferHeight],le=o.cameraObject||r(L,O),oe={gl:F,contextLost:!1,pixelRatio:o.pixelRatio||1,canvas:L,selection:U,camera:le,axes:Y,axesPixels:null,spikes:re,bounds:I,objects:ie,shape:q,aspect:o.aspectRatio||[1,1,1],pickRadius:o.pickRadius||10,zNear:o.zNear||.01,zFar:o.zFar||1e3,fovy:o.fovy||Math.PI/4,clearColor:o.clearColor||[0,0,0,0],autoResize:x(o.autoResize),autoBounds:x(o.autoBounds),autoScale:!!o.autoScale,autoCenter:x(o.autoCenter),clipToBounds:x(o.clipToBounds),snapToData:!!o.snapToData,onselect:o.onselect||null,onrender:o.onrender||null,onclick:o.onclick||null,cameraParams:se,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(We){this.aspect[0]=We.x,this.aspect[1]=We.y,this.aspect[2]=We.z,ee=!0},setBounds:function(We,je){this.bounds[0][We]=je.min,this.bounds[1][We]=je.max},setClearColor:function(We){this.clearColor=We},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},he=[F.drawingBufferWidth/oe.pixelRatio|0,F.drawingBufferHeight/oe.pixelRatio|0];function me(){if(!oe._stopped&&oe.autoResize){var We=L.parentNode,je=1,Fe=1;We&&We!==document.body?(je=We.clientWidth,Fe=We.clientHeight):(je=window.innerWidth,Fe=window.innerHeight);var Ze=Math.ceil(je*oe.pixelRatio)|0,ut=Math.ceil(Fe*oe.pixelRatio)|0;if(Ze!==L.width||ut!==L.height){L.width=Ze,L.height=ut;var at=L.style;at.position=at.position||"absolute",at.left="0px",at.top="0px",at.width=je+"px",at.height=Fe+"px",Z=!0}}}oe.autoResize&&me(),window.addEventListener("resize",me);function Ce(){for(var We=ie.length,je=j.length,Fe=0;Fe<je;++Fe)Q[Fe]=0;e:for(var Fe=0;Fe<We;++Fe){var Ze=ie[Fe],ut=Ze.pickSlots;if(!ut){ce[Fe]=-1;continue}for(var at=0;at<je;++at)if(Q[at]+ut<255){ce[Fe]=at,Ze.setPickBase(Q[at]+1),Q[at]+=ut;continue e}var it=f(F,q);ce[Fe]=je,j.push(it),Q.push(ut),Ze.setPickBase(1),je+=1}for(;je>0&&Q[je-1]===0;)Q.pop(),j.pop().dispose()}oe.update=function(We){oe._stopped||(Z=!0,ee=!0)},oe.add=function(We){oe._stopped||(We.axes=Y,ie.push(We),ce.push(-1),Z=!0,ee=!0,Ce())},oe.remove=function(We){if(!oe._stopped){var je=ie.indexOf(We);je<0||(ie.splice(je,1),ce.pop(),Z=!0,ee=!0,Ce())}},oe.dispose=function(){if(!oe._stopped&&(oe._stopped=!0,window.removeEventListener("resize",me),L.removeEventListener("webglcontextlost",Ae),oe.mouseListener.enabled=!1,!oe.contextLost)){Y.dispose(),re.dispose();for(var We=0;We<ie.length;++We)ie[We].dispose();z.dispose();for(var We=0;We<j.length;++We)j[We].dispose();N.dispose(),F=null,Y=null,re=null,ie=[]}},oe._mouseRotating=!1,oe._prevButtons=0,oe.enableMouseListeners=function(){oe.mouseListener=c(L,function(We,je,Fe){if(!oe._stopped){var Ze=j.length,ut=ie.length,at=U.object;U.distance=1/0,U.mouse[0]=je,U.mouse[1]=Fe,U.object=null,U.screen=null,U.dataCoordinate=U.dataPosition=null;var it=!1;if(We&&oe._prevButtons)oe._mouseRotating=!0;else{oe._mouseRotating&&(ee=!0),oe._mouseRotating=!1;for(var $e=0;$e<Ze;++$e){var st=j[$e].query(je,he[1]-Fe-1,oe.pickRadius);if(st){if(st.distance>U.distance)continue;for(var ct=0;ct<ut;++ct){var vt=ie[ct];if(ce[ct]===$e){var St=vt.pick(st);St&&(U.buttons=We,U.screen=st.coord,U.distance=st.distance,U.object=vt,U.index=St.distance,U.dataPosition=St.position,U.dataCoordinate=St.dataCoordinate,U.data=St,it=!0)}}}}}at&&at!==U.object&&(at.highlight&&at.highlight(null),Z=!0),U.object&&(U.object.highlight&&U.object.highlight(U.data),Z=!0),it=it||U.object!==at,it&&oe.onselect&&oe.onselect(U),We&1&&!(oe._prevButtons&1)&&oe.onclick&&oe.onclick(U),oe._prevButtons=We}})};function Ae(){if(oe.contextLost)return!0;F.isContextLost()&&(oe.contextLost=!0,oe.mouseListener.enabled=!1,oe.selection.object=null,oe.oncontextloss&&oe.oncontextloss())}L.addEventListener("webglcontextlost",Ae);function Ue(){if(!Ae()){F.colorMask(!0,!0,!0,!0),F.depthMask(!0),F.disable(F.BLEND),F.enable(F.DEPTH_TEST),F.depthFunc(F.LEQUAL);for(var We=ie.length,je=j.length,Fe=0;Fe<je;++Fe){var Ze=j[Fe];Ze.shape=he,Ze.begin();for(var ut=0;ut<We;++ut)if(ce[ut]===Fe){var at=ie[ut];at.drawPick&&(at.pixelRatio=1,at.drawPick(se))}Ze.end()}}}var Ve=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Pe=[Ve[0].slice(),Ve[1].slice()];function be(){if(!Ae()){me();var We=oe.camera.tick();se.view=oe.camera.matrix,Z=Z||We,ee=ee||We,Y.pixelRatio=oe.pixelRatio,re.pixelRatio=oe.pixelRatio;var je=ie.length,Fe=Ve[0],Ze=Ve[1];Fe[0]=Fe[1]=Fe[2]=1/0,Ze[0]=Ze[1]=Ze[2]=-1/0;for(var ut=0;ut<je;++ut){var at=ie[ut];at.pixelRatio=oe.pixelRatio,at.axes=oe.axes,Z=Z||!!at.dirty,ee=ee||!!at.dirty;var it=at.bounds;if(it)for(var $e=it[0],st=it[1],ct=0;ct<3;++ct)Fe[ct]=Math.min(Fe[ct],$e[ct]),Ze[ct]=Math.max(Ze[ct],st[ct])}var vt=oe.bounds;if(oe.autoBounds)for(var ct=0;ct<3;++ct){if(Ze[ct]<Fe[ct])Fe[ct]=-1,Ze[ct]=1;else{Fe[ct]===Ze[ct]&&(Fe[ct]-=1,Ze[ct]+=1);var St=.05*(Ze[ct]-Fe[ct]);Fe[ct]=Fe[ct]-St,Ze[ct]=Ze[ct]+St}vt[0][ct]=Fe[ct],vt[1][ct]=Ze[ct]}for(var Mt=!1,ct=0;ct<3;++ct)Mt=Mt||Pe[0][ct]!==vt[0][ct]||Pe[1][ct]!==vt[1][ct],Pe[0][ct]=vt[0][ct],Pe[1][ct]=vt[1][ct];if(ee=ee||Mt,Z=Z||Mt,!!Z){if(Mt){for(var Bt=[0,0,0],ut=0;ut<3;++ut)Bt[ut]=P((vt[1][ut]-vt[0][ut])/10);Y.autoTicks?Y.update({bounds:vt,tickSpacing:Bt}):Y.update({bounds:vt})}var Qe=F.drawingBufferWidth,ke=F.drawingBufferHeight;q[0]=Qe,q[1]=ke,he[0]=Math.max(Qe/oe.pixelRatio,1)|0,he[1]=Math.max(ke/oe.pixelRatio,1)|0,w(oe,B);for(var ut=0;ut<je;++ut){var at=ie[ut];at.axesBounds=vt,oe.clipToBounds&&(at.clipBounds=vt)}U.object&&(oe.snapToData?re.position=U.dataCoordinate:re.position=U.dataPosition,re.bounds=vt),ee&&(ee=!1,Ue()),oe.axesPixels=n(oe.axes,se,Qe,ke),oe.onrender&&oe.onrender(),F.bindFramebuffer(F.FRAMEBUFFER,null),F.viewport(0,0,Qe,ke),oe.clearRGBA(),F.depthMask(!0),F.colorMask(!0,!0,!0,!0),F.enable(F.DEPTH_TEST),F.depthFunc(F.LEQUAL),F.disable(F.BLEND),F.disable(F.CULL_FACE);var ze=!1;Y.enable&&(ze=ze||Y.isTransparent(),Y.draw(se)),re.axes=Y,U.object&&re.draw(se),F.disable(F.CULL_FACE);for(var ut=0;ut<je;++ut){var at=ie[ut];at.axes=Y,at.pixelRatio=oe.pixelRatio,at.isOpaque&&at.isOpaque()&&at.draw(se),at.isTransparent&&at.isTransparent()&&(ze=!0)}if(ze){z.shape=q,z.bind(),F.clear(F.DEPTH_BUFFER_BIT),F.colorMask(!1,!1,!1,!1),F.depthMask(!0),F.depthFunc(F.LESS),Y.enable&&Y.isTransparent()&&Y.drawTransparent(se);for(var ut=0;ut<je;++ut){var at=ie[ut];at.isOpaque&&at.isOpaque()&&at.draw(se)}F.enable(F.BLEND),F.blendEquation(F.FUNC_ADD),F.blendFunc(F.ONE,F.ONE_MINUS_SRC_ALPHA),F.colorMask(!0,!0,!0,!0),F.depthMask(!1),F.clearColor(0,0,0,0),F.clear(F.COLOR_BUFFER_BIT),Y.isTransparent()&&Y.drawTransparent(se);for(var ut=0;ut<je;++ut){var at=ie[ut];at.isTransparent&&at.isTransparent()&&at.drawTransparent(se)}F.bindFramebuffer(F.FRAMEBUFFER,null),F.blendFunc(F.ONE,F.ONE_MINUS_SRC_ALPHA),F.disable(F.DEPTH_TEST),N.bind(),z.color[0].bind(0),N.uniforms.accumBuffer=0,y(F),F.disable(F.BLEND)}Z=!1;for(var ut=0;ut<je;++ut)ie[ut].dirty=!1}}}function Le(){oe._stopped||oe.contextLost||(be(),requestAnimationFrame(Le))}return oe.enableMouseListeners(),Le(),oe.redraw=function(){oe._stopped||(Z=!0,be())},oe}function w(o,L){var m=o.bounds,F=o.cameraParams,I=F.projection,U=F.model,z=o.gl.drawingBufferWidth,N=o.gl.drawingBufferHeight,B=o.zNear,O=o.zFar,H=o.fovy,Y=z/N;L?(h(I,-Y,Y,-1,1,B,O),F._ortho=!0):(T(I,H,Y,B,O),F._ortho=!1);for(var J=0;J<16;++J)U[J]=0;U[15]=1;for(var re=0,J=0;J<3;++J)re=Math.max(re,m[1][J]-m[0][J]);for(var J=0;J<3;++J)o.autoScale?U[5*J]=o.aspect[J]/(m[1][J]-m[0][J]):U[5*J]=1/re,o.autoCenter&&(U[12+J]=-U[5*J]*.5*(m[0][J]+m[1][J]))}},8023:function(v,p,t){var r=t(6832);p.pointVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),p.pointFragment=r([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),p.pickVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),p.pickFragment=r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},8271:function(v,p,t){var r=t(5158),s=t(5827),n=t(5306),i=t(8023);v.exports=c;function f(T,h,l,d,E){this.plot=T,this.offsetBuffer=h,this.pickBuffer=l,this.shader=d,this.pickShader=E,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var u=f.prototype;u.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},u.update=function(T){var h;T=T||{};function l(w,o){return w in T?T[w]:o}this.sizeMin=l("sizeMin",.5),this.sizeMax=l("sizeMax",20),this.color=l("color",[1,0,0,1]).slice(),this.areaRatio=l("areaRatio",1),this.borderColor=l("borderColor",[0,0,0,1]).slice(),this.blend=l("blend",!1);var d=T.positions.length>>>1,E=T.positions instanceof Float32Array,S=T.idToIndex instanceof Int32Array&&T.idToIndex.length>=d,P=T.positions,x=E?P:n.mallocFloat32(P.length),M=S?T.idToIndex:n.mallocInt32(d);if(E||x.set(P),!S)for(x.set(P),h=0;h<d;h++)M[h]=h;this.points=P,this.offsetBuffer.update(x),this.pickBuffer.update(M),E||n.free(x),S||n.free(M),this.pointCount=d,this.pickOffset=0};function y(T,h){var l=0,d=T.length>>>1,E;for(E=0;E<d;E++){var S=T[E*2],P=T[E*2+1];S>=h[0]&&S<=h[2]&&P>=h[1]&&P<=h[3]&&l++}return l}u.unifiedDraw=function(){var T=[1,0,0,0,1,0,0,0,1],h=[0,0,0,0];return function(l){var d=l!==void 0,E=d?this.pickShader:this.shader,S=this.plot.gl,P=this.plot.dataBox;if(this.pointCount===0)return l;var x=P[2]-P[0],M=P[3]-P[1],w=y(this.points,P),o=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(w,.33333)));T[0]=2/x,T[4]=2/M,T[6]=-2*P[0]/x-1,T[7]=-2*P[1]/M-1,this.offsetBuffer.bind(),E.bind(),E.attributes.position.pointer(),E.uniforms.matrix=T,E.uniforms.color=this.color,E.uniforms.borderColor=this.borderColor,E.uniforms.pointCloud=o<5,E.uniforms.pointSize=o,E.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),d&&(h[0]=l&255,h[1]=l>>8&255,h[2]=l>>16&255,h[3]=l>>24&255,this.pickBuffer.bind(),E.attributes.pickId.pointer(S.UNSIGNED_BYTE),E.uniforms.pickOffset=h,this.pickOffset=l);var L=S.getParameter(S.BLEND),m=S.getParameter(S.DITHER);return L&&!this.blend&&S.disable(S.BLEND),m&&S.disable(S.DITHER),S.drawArrays(S.POINTS,0,this.pointCount),L&&!this.blend&&S.enable(S.BLEND),m&&S.enable(S.DITHER),l+this.pointCount}}(),u.draw=u.unifiedDraw,u.drawPick=u.unifiedDraw,u.pick=function(T,h,l){var d=this.pickOffset,E=this.pointCount;if(l<d||l>=d+E)return null;var S=l-d,P=this.points;return{object:this,pointId:S,dataCoord:[P[2*S],P[2*S+1]]}};function c(T,h){var l=T.gl,d=s(l),E=s(l),S=r(l,i.pointVertex,i.pointFragment),P=r(l,i.pickVertex,i.pickFragment),x=new f(T,d,E,S,P);return x.update(h),T.addObject(x),x}},6093:function(v){v.exports=p;function p(t,r,s,n){var i=r[0],f=r[1],u=r[2],y=r[3],c=s[0],T=s[1],h=s[2],l=s[3],d,E,S,P,x;return E=i*c+f*T+u*h+y*l,E<0&&(E=-E,c=-c,T=-T,h=-h,l=-l),1-E>1e-6?(d=Math.acos(E),S=Math.sin(d),P=Math.sin((1-n)*d)/S,x=Math.sin(n*d)/S):(P=1-n,x=n),t[0]=P*i+x*c,t[1]=P*f+x*T,t[2]=P*u+x*h,t[3]=P*y+x*l,t}},8240:function(v){v.exports=function(p){return!p&&p!==0?"":p.toString()}},4123:function(v,p,t){var r=t(875);v.exports=n;var s={};function n(i,f,u){var y=s[f];if(y||(y=s[f]={}),i in y)return y[i];var c={textAlign:"center",textBaseline:"middle",lineHeight:1,font:f,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};c.triangles=!0;var T=r(i,c);c.triangles=!1;var h=r(i,c),l,d;if(u&&u!==1){for(l=0;l<T.positions.length;++l)for(d=0;d<T.positions[l].length;++d)T.positions[l][d]/=u;for(l=0;l<h.positions.length;++l)for(d=0;d<h.positions[l].length;++d)h.positions[l][d]/=u}var E=[[1/0,1/0],[-1/0,-1/0]],S=h.positions.length;for(l=0;l<S;++l){var P=h.positions[l];for(d=0;d<2;++d)E[0][d]=Math.min(E[0][d],P[d]),E[1][d]=Math.max(E[1][d],P[d])}return y[i]=[T,h,E]}},9282:function(v,p,t){var r=t(5158),s=t(6832),n=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),i=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),f=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),u=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),y=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),c=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],T={vertex:n,fragment:u,attributes:c},h={vertex:i,fragment:u,attributes:c},l={vertex:f,fragment:u,attributes:c},d={vertex:n,fragment:y,attributes:c},E={vertex:i,fragment:y,attributes:c},S={vertex:f,fragment:y,attributes:c};function P(x,M){var w=r(x,M),o=w.attributes;return o.position.location=0,o.color.location=1,o.glyph.location=2,o.id.location=3,w}p.createPerspective=function(x){return P(x,T)},p.createOrtho=function(x){return P(x,h)},p.createProject=function(x){return P(x,l)},p.createPickPerspective=function(x){return P(x,d)},p.createPickOrtho=function(x){return P(x,E)},p.createPickProject=function(x){return P(x,S)}},2182:function(v,p,t){var r=t(3596),s=t(5827),n=t(2944),i=t(5306),f=t(104),u=t(9282),y=t(4123),c=t(8240),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];v.exports=ce;function h(Q,j){var Z=Q[0],$=Q[1],te=Q[2],se=Q[3];return Q[0]=j[0]*Z+j[4]*$+j[8]*te+j[12]*se,Q[1]=j[1]*Z+j[5]*$+j[9]*te+j[13]*se,Q[2]=j[2]*Z+j[6]*$+j[10]*te+j[14]*se,Q[3]=j[3]*Z+j[7]*$+j[11]*te+j[15]*se,Q}function l(Q,j,Z,$){return h($,$),h($,$),h($,$)}function d(Q,j){this.index=Q,this.dataCoordinate=this.position=j}function E(Q){return Q===!0||Q>1?1:Q}function S(Q,j,Z,$,te,se,ee,q,le,oe,he,me){this.gl=Q,this.pixelRatio=1,this.shader=j,this.orthoShader=Z,this.projectShader=$,this.pointBuffer=te,this.colorBuffer=se,this.glyphBuffer=ee,this.idBuffer=q,this.vao=le,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=oe,this.pickOrthoShader=he,this.pickProjectShader=me,this.points=[],this._selectResult=new d(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var P=S.prototype;P.pickSlots=1,P.setPickBase=function(Q){this.pickId=Q},P.isTransparent=function(){if(this.hasAlpha)return!0;for(var Q=0;Q<3;++Q)if(this.axesProject[Q]&&this.projectHasAlpha)return!0;return!1},P.isOpaque=function(){if(!this.hasAlpha)return!0;for(var Q=0;Q<3;++Q)if(this.axesProject[Q]&&!this.projectHasAlpha)return!0;return!1};var x=[0,0],M=[0,0,0],w=[0,0,0],o=[0,0,0,1],L=[0,0,0,1],m=T.slice(),F=[0,0,0],I=[[0,0,0],[0,0,0]];function U(Q){return Q[0]=Q[1]=Q[2]=0,Q}function z(Q,j){return Q[0]=j[0],Q[1]=j[1],Q[2]=j[2],Q[3]=1,Q}function N(Q,j,Z,$){return Q[0]=j[0],Q[1]=j[1],Q[2]=j[2],Q[Z]=$,Q}function B(Q){for(var j=I,Z=0;Z<2;++Z)for(var $=0;$<3;++$)j[Z][$]=Math.max(Math.min(Q[Z][$],1e8),-1e8);return j}function O(Q,j,Z,$){var te=j.axesProject,se=j.gl,ee=Q.uniforms,q=Z.model||T,le=Z.view||T,oe=Z.projection||T,he=j.axesBounds,me=B(j.clipBounds),Ce;j.axes&&j.axes.lastCubeProps?Ce=j.axes.lastCubeProps.axis:Ce=[1,1,1],x[0]=2/se.drawingBufferWidth,x[1]=2/se.drawingBufferHeight,Q.bind(),ee.view=le,ee.projection=oe,ee.screenSize=x,ee.highlightId=j.highlightId,ee.highlightScale=j.highlightScale,ee.clipBounds=me,ee.pickGroup=j.pickId/255,ee.pixelRatio=$;for(var Ae=0;Ae<3;++Ae)if(te[Ae]){ee.scale=j.projectScale[Ae],ee.opacity=j.projectOpacity[Ae];for(var Ue=m,Ve=0;Ve<16;++Ve)Ue[Ve]=0;for(var Ve=0;Ve<4;++Ve)Ue[5*Ve]=1;Ue[5*Ae]=0,Ce[Ae]<0?Ue[12+Ae]=he[0][Ae]:Ue[12+Ae]=he[1][Ae],f(Ue,q,Ue),ee.model=Ue;var Pe=(Ae+1)%3,be=(Ae+2)%3,Le=U(M),We=U(w);Le[Pe]=1,We[be]=1;var je=l(oe,le,q,z(o,Le)),Fe=l(oe,le,q,z(L,We));if(Math.abs(je[1])>Math.abs(Fe[1])){var Ze=je;je=Fe,Fe=Ze,Ze=Le,Le=We,We=Ze;var ut=Pe;Pe=be,be=ut}je[0]<0&&(Le[Pe]=-1),Fe[1]>0&&(We[be]=-1);for(var at=0,it=0,Ve=0;Ve<4;++Ve)at+=Math.pow(q[4*Pe+Ve],2),it+=Math.pow(q[4*be+Ve],2);Le[Pe]/=Math.sqrt(at),We[be]/=Math.sqrt(it),ee.axes[0]=Le,ee.axes[1]=We,ee.fragClipBounds[0]=N(F,me[0],Ae,-1e8),ee.fragClipBounds[1]=N(F,me[1],Ae,1e8),j.vao.bind(),j.vao.draw(se.TRIANGLES,j.vertexCount),j.lineWidth>0&&(se.lineWidth(j.lineWidth*$),j.vao.draw(se.LINES,j.lineVertexCount,j.vertexCount)),j.vao.unbind()}}var H=[-1e8,-1e8,-1e8],Y=[1e8,1e8,1e8],J=[H,Y];function re(Q,j,Z,$,te,se,ee){var q=Z.gl;if((se===Z.projectHasAlpha||ee)&&O(j,Z,$,te),se===Z.hasAlpha||ee){Q.bind();var le=Q.uniforms;le.model=$.model||T,le.view=$.view||T,le.projection=$.projection||T,x[0]=2/q.drawingBufferWidth,x[1]=2/q.drawingBufferHeight,le.screenSize=x,le.highlightId=Z.highlightId,le.highlightScale=Z.highlightScale,le.fragClipBounds=J,le.clipBounds=Z.axes.bounds,le.opacity=Z.opacity,le.pickGroup=Z.pickId/255,le.pixelRatio=te,Z.vao.bind(),Z.vao.draw(q.TRIANGLES,Z.vertexCount),Z.lineWidth>0&&(q.lineWidth(Z.lineWidth*te),Z.vao.draw(q.LINES,Z.lineVertexCount,Z.vertexCount)),Z.vao.unbind()}}P.draw=function(Q){var j=this.useOrtho?this.orthoShader:this.shader;re(j,this.projectShader,this,Q,this.pixelRatio,!1,!1)},P.drawTransparent=function(Q){var j=this.useOrtho?this.orthoShader:this.shader;re(j,this.projectShader,this,Q,this.pixelRatio,!0,!1)},P.drawPick=function(Q){var j=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;re(j,this.pickProjectShader,this,Q,1,!0,!0)},P.pick=function(Q){if(!Q||Q.id!==this.pickId)return null;var j=Q.value[2]+(Q.value[1]<<8)+(Q.value[0]<<16);if(j>=this.pointCount||j<0)return null;var Z=this.points[j],$=this._selectResult;$.index=j;for(var te=0;te<3;++te)$.position[te]=$.dataCoordinate[te]=Z[te];return $},P.highlight=function(Q){if(!Q)this.highlightId=[1,1,1,1];else{var j=Q.index,Z=j&255,$=j>>8&255,te=j>>16&255;this.highlightId=[Z/255,$/255,te/255,0]}};function ie(Q,j,Z,$){var te;Array.isArray(Q)?j<Q.length?te=Q[j]:te=void 0:te=Q,te=c(te);var se=!0;r(te)&&(te="",se=!1);var ee=y(te,Z,$);return{mesh:ee[0],lines:ee[1],bounds:ee[2],visible:se}}P.update=function(Q){if(Q=Q||{},"perspective"in Q&&(this.useOrtho=!Q.perspective),"orthographic"in Q&&(this.useOrtho=!!Q.orthographic),"lineWidth"in Q&&(this.lineWidth=Q.lineWidth),"project"in Q)if(Array.isArray(Q.project))this.axesProject=Q.project;else{var j=!!Q.project;this.axesProject=[j,j,j]}if("projectScale"in Q)if(Array.isArray(Q.projectScale))this.projectScale=Q.projectScale.slice();else{var Z=+Q.projectScale;this.projectScale=[Z,Z,Z]}if(this.projectHasAlpha=!1,"projectOpacity"in Q){if(Array.isArray(Q.projectOpacity))this.projectOpacity=Q.projectOpacity.slice();else{var Z=+Q.projectOpacity;this.projectOpacity=[Z,Z,Z]}for(var $=0;$<3;++$)this.projectOpacity[$]=E(this.projectOpacity[$]),this.projectOpacity[$]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in Q&&(this.opacity=E(Q.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var te=Q.position,se=Q.font||"normal",ee=Q.alignment||[0,0],q,le;if(ee.length===2)q=ee[0],le=ee[1];else{q=[],le=[];for(var $=0;$<ee.length;++$)q[$]=ee[$][0],le[$]=ee[$][1]}var oe=[1/0,1/0,1/0],he=[-1/0,-1/0,-1/0],me=Q.glyph,Ce=Q.color,Ae=Q.size,Ue=Q.angle,Ve=Q.lineColor,Pe=-1,be=0,Le=0,We=0;if(te.length){We=te.length;e:for(var $=0;$<We;++$){for(var je=te[$],Fe=0;Fe<3;++Fe)if(isNaN(je[Fe])||!isFinite(je[Fe]))continue e;var Ze=ie(me,$,se,this.pixelRatio),ut=Ze.mesh,at=Ze.lines,it=Ze.bounds;be+=ut.cells.length*3,Le+=at.edges.length*2}}var $e=be+Le,st=i.mallocFloat(3*$e),ct=i.mallocFloat(4*$e),vt=i.mallocFloat(2*$e),St=i.mallocUint32($e);if($e>0){var Mt=0,Bt=be,Qe=[0,0,0,1],ke=[0,0,0,1],ze=Array.isArray(Ce)&&Array.isArray(Ce[0]),Be=Array.isArray(Ve)&&Array.isArray(Ve[0]);e:for(var $=0;$<We;++$){Pe+=1;for(var je=te[$],Fe=0;Fe<3;++Fe){if(isNaN(je[Fe])||!isFinite(je[Fe]))continue e;he[Fe]=Math.max(he[Fe],je[Fe]),oe[Fe]=Math.min(oe[Fe],je[Fe])}var Ze=ie(me,$,se,this.pixelRatio),ut=Ze.mesh,at=Ze.lines,it=Ze.bounds,Re=Ze.visible;if(!Re)Qe=[1,1,1,0];else if(Array.isArray(Ce)){var we;if(ze?$<Ce.length?we=Ce[$]:we=[0,0,0,0]:we=Ce,we.length===3){for(var Fe=0;Fe<3;++Fe)Qe[Fe]=we[Fe];Qe[3]=1}else if(we.length===4){for(var Fe=0;Fe<4;++Fe)Qe[Fe]=we[Fe];!this.hasAlpha&&we[3]<1&&(this.hasAlpha=!0)}}else Qe[0]=Qe[1]=Qe[2]=0,Qe[3]=1;if(!Re)ke=[1,1,1,0];else if(Array.isArray(Ve)){var we;if(Be?$<Ve.length?we=Ve[$]:we=[0,0,0,0]:we=Ve,we.length===3){for(var Fe=0;Fe<3;++Fe)ke[Fe]=we[Fe];ke[Fe]=1}else if(we.length===4){for(var Fe=0;Fe<4;++Fe)ke[Fe]=we[Fe];!this.hasAlpha&&we[3]<1&&(this.hasAlpha=!0)}}else ke[0]=ke[1]=ke[2]=0,ke[3]=1;var ye=.5;Re?Array.isArray(Ae)?$<Ae.length?ye=+Ae[$]:ye=12:Ae?ye=+Ae:this.useOrtho&&(ye=12):ye=0;var Se=0;Array.isArray(Ue)?$<Ue.length?Se=+Ue[$]:Se=0:Ue&&(Se=+Ue);for(var Me=Math.cos(Se),He=Math.sin(Se),je=te[$],Fe=0;Fe<3;++Fe)he[Fe]=Math.max(he[Fe],je[Fe]),oe[Fe]=Math.min(oe[Fe],je[Fe]);var qe=q,rt=le,qe=0;Array.isArray(q)?$<q.length?qe=q[$]:qe=0:q&&(qe=q);var rt=0;Array.isArray(le)?$<le.length?rt=le[$]:rt=0:le&&(rt=le),qe*=qe>0?1-it[0][0]:qe<0?1+it[1][0]:1,rt*=rt>0?1-it[0][1]:rt<0?1+it[1][1]:1;for(var pt=[qe,rt],Nt=ut.cells||[],Kt=ut.positions||[],Fe=0;Fe<Nt.length;++Fe)for(var At=Nt[Fe],jt=0;jt<3;++jt){for(var tr=0;tr<3;++tr)st[3*Mt+tr]=je[tr];for(var tr=0;tr<4;++tr)ct[4*Mt+tr]=Qe[tr];St[Mt]=Pe;var Ct=Kt[At[jt]];vt[2*Mt]=ye*(Me*Ct[0]-He*Ct[1]+pt[0]),vt[2*Mt+1]=ye*(He*Ct[0]+Me*Ct[1]+pt[1]),Mt+=1}for(var Nt=at.edges,Kt=at.positions,Fe=0;Fe<Nt.length;++Fe)for(var At=Nt[Fe],jt=0;jt<2;++jt){for(var tr=0;tr<3;++tr)st[3*Bt+tr]=je[tr];for(var tr=0;tr<4;++tr)ct[4*Bt+tr]=ke[tr];St[Bt]=Pe;var Ct=Kt[At[jt]];vt[2*Bt]=ye*(Me*Ct[0]-He*Ct[1]+pt[0]),vt[2*Bt+1]=ye*(He*Ct[0]+Me*Ct[1]+pt[1]),Bt+=1}}}this.bounds=[oe,he],this.points=te,this.pointCount=te.length,this.vertexCount=be,this.lineVertexCount=Le,this.pointBuffer.update(st),this.colorBuffer.update(ct),this.glyphBuffer.update(vt),this.idBuffer.update(St),i.free(st),i.free(ct),i.free(vt),i.free(St)},P.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function ce(Q){var j=Q.gl,Z=u.createPerspective(j),$=u.createOrtho(j),te=u.createProject(j),se=u.createPickPerspective(j),ee=u.createPickOrtho(j),q=u.createPickProject(j),le=s(j),oe=s(j),he=s(j),me=s(j),Ce=n(j,[{buffer:le,size:3,type:j.FLOAT},{buffer:oe,size:4,type:j.FLOAT},{buffer:he,size:2,type:j.FLOAT},{buffer:me,size:4,type:j.UNSIGNED_BYTE,normalized:!0}]),Ae=new S(j,Z,$,te,le,oe,he,me,Ce,se,ee,q);return Ae.update(Q),Ae}},1884:function(v,p,t){var r=t(6832);p.boxVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),p.boxFragment=r([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},6623:function(v,p,t){var r=t(5158),s=t(5827),n=t(1884);v.exports=u;function i(y,c,T){this.plot=y,this.boxBuffer=c,this.boxShader=T,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var f=i.prototype;f.draw=function(){if(this.enabled){var y=this.plot,c=this.selectBox,T=this.borderWidth;this.innerFill;var h=this.innerColor;this.outerFill;var l=this.outerColor,d=this.borderColor,E=y.box,S=y.screenBox,P=y.dataBox,x=y.viewBox,M=y.pixelRatio,w=(c[0]-P[0])*(x[2]-x[0])/(P[2]-P[0])+x[0],o=(c[1]-P[1])*(x[3]-x[1])/(P[3]-P[1])+x[1],L=(c[2]-P[0])*(x[2]-x[0])/(P[2]-P[0])+x[0],m=(c[3]-P[1])*(x[3]-x[1])/(P[3]-P[1])+x[1];if(w=Math.max(w,x[0]),o=Math.max(o,x[1]),L=Math.min(L,x[2]),m=Math.min(m,x[3]),!(L<w||m<o)){E.bind();var F=S[2]-S[0],I=S[3]-S[1];if(this.outerFill&&(E.drawBox(0,0,F,o,l),E.drawBox(0,o,w,m,l),E.drawBox(0,m,F,I,l),E.drawBox(L,o,F,m,l)),this.innerFill&&E.drawBox(w,o,L,m,h),T>0){var U=T*M;E.drawBox(w-U,o-U,L+U,o+U,d),E.drawBox(w-U,m-U,L+U,m+U,d),E.drawBox(w-U,o-U,w+U,m+U,d),E.drawBox(L-U,o-U,L+U,m+U,d)}}}},f.update=function(y){y=y||{},this.innerFill=!!y.innerFill,this.outerFill=!!y.outerFill,this.innerColor=(y.innerColor||[0,0,0,.5]).slice(),this.outerColor=(y.outerColor||[0,0,0,.5]).slice(),this.borderColor=(y.borderColor||[0,0,0,1]).slice(),this.borderWidth=y.borderWidth||0,this.selectBox=(y.selectBox||this.selectBox).slice()},f.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function u(y,c){var T=y.gl,h=s(T,[0,0,0,1,1,0,1,1]),l=r(T,n.boxVertex,n.boxFragment),d=new i(y,h,l);return d.update(c),y.addOverlay(d),d}},2611:function(v,p,t){v.exports=T;var r=t(4234),s=t(5306),n=t(5050),i=t(2288).nextPow2,f=function(h,l,d){for(var E=1e8,S=-1,P=-1,x=h.shape[0],M=h.shape[1],w=0;w<x;w++)for(var o=0;o<M;o++){var L=h.get(w,o,0),m=h.get(w,o,1),F=h.get(w,o,2),I=h.get(w,o,3);if(L<255||m<255||F<255||I<255){var U=l-w,z=d-o,N=U*U+z*z;N<E&&(E=N,S=w,P=o)}}return[S,P,E]};function u(h,l,d,E,S){this.coord=[h,l],this.id=d,this.value=E,this.distance=S}function y(h,l,d){this.gl=h,this.fbo=l,this.buffer=d,this._readTimeout=null;var E=this;this._readCallback=function(){E.gl&&(l.bind(),h.readPixels(0,0,l.shape[0],l.shape[1],h.RGBA,h.UNSIGNED_BYTE,E.buffer),E._readTimeout=null)}}var c=y.prototype;Object.defineProperty(c,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(h){if(this.gl){this.fbo.shape=h;var l=this.fbo.shape[0],d=this.fbo.shape[1];if(d*l*4>this.buffer.length){s.free(this.buffer);for(var E=this.buffer=s.mallocUint8(i(d*l*4)),S=0;S<d*l*4;++S)E[S]=255}return h}}}),c.begin=function(){var h=this.gl;this.shape,h&&(this.fbo.bind(),h.clearColor(1,1,1,1),h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT))},c.end=function(){var h=this.gl;h&&(h.bindFramebuffer(h.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},c.query=function(h,l,d){if(!this.gl)return null;var E=this.fbo.shape.slice();h=h|0,l=l|0,typeof d!="number"&&(d=1);var S=Math.min(Math.max(h-d,0),E[0])|0,P=Math.min(Math.max(h+d,0),E[0])|0,x=Math.min(Math.max(l-d,0),E[1])|0,M=Math.min(Math.max(l+d,0),E[1])|0;if(P<=S||M<=x)return null;var w=[P-S,M-x],o=n(this.buffer,[w[0],w[1],4],[4,E[0]*4,1],4*(S+E[0]*x)),L=f(o.hi(w[0],w[1],1),d,d),m=L[0],F=L[1];if(m<0||Math.pow(this.radius,2)<L[2])return null;var I=o.get(m,F,0),U=o.get(m,F,1),z=o.get(m,F,2),N=o.get(m,F,3);return new u(m+S|0,F+x|0,I,[U,z,N],Math.sqrt(L[2]))},c.dispose=function(){this.gl&&(this.fbo.dispose(),s.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function T(h,l){var d=l[0],E=l[1],S={},P=r(h,d,E,S),x=s.mallocUint8(d*E*4);return new y(h,P,x)}},5158:function(v,p,t){var r=t(9016),s=t(4280),n=t(3984),i=t(1628),f=t(2631),u=t(9068);function y(l){this.gl=l,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var c=y.prototype;c.bind=function(){this.program||this._relink();var l,d=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),E=this.gl.lastAttribCount;if(d>E)for(l=E;l<d;l++)this.gl.enableVertexAttribArray(l);else if(E>d)for(l=d;l<E;l++)this.gl.disableVertexAttribArray(l);this.gl.lastAttribCount=d,this.gl.useProgram(this.program)},c.dispose=function(){for(var l=this.gl.lastAttribCount,d=0;d<l;d++)this.gl.disableVertexAttribArray(d);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function T(l,d){return l.name<d.name?-1:1}c.update=function(l,d,E,S){if(!d||arguments.length===1){var P=l;l=P.vertex,d=P.fragment,E=P.uniforms,S=P.attributes}var x=this,M=x.gl,w=x._vref;x._vref=i.shader(M,M.VERTEX_SHADER,l),w&&w.dispose(),x.vertShader=x._vref.shader;var o=this._fref;if(x._fref=i.shader(M,M.FRAGMENT_SHADER,d),o&&o.dispose(),x.fragShader=x._fref.shader,!E||!S){var L=M.createProgram();if(M.attachShader(L,x.fragShader),M.attachShader(L,x.vertShader),M.linkProgram(L),!M.getProgramParameter(L,M.LINK_STATUS)){var m=M.getProgramInfoLog(L);throw new u(m,"Error linking program:"+m)}E=E||f.uniforms(M,L),S=S||f.attributes(M,L),M.deleteProgram(L)}S=S.slice(),S.sort(T);var F=[],I=[],U=[],z;for(z=0;z<S.length;++z){var N=S[z];if(N.type.indexOf("mat")>=0){for(var B=N.type.charAt(N.type.length-1)|0,O=new Array(B),H=0;H<B;++H)O[H]=U.length,I.push(N.name+"["+H+"]"),typeof N.location=="number"?U.push(N.location+H):Array.isArray(N.location)&&N.location.length===B&&typeof N.location[H]=="number"?U.push(N.location[H]|0):U.push(-1);F.push({name:N.name,type:N.type,locations:O})}else F.push({name:N.name,type:N.type,locations:[U.length]}),I.push(N.name),typeof N.location=="number"?U.push(N.location|0):U.push(-1)}var Y=0;for(z=0;z<U.length;++z)if(U[z]<0){for(;U.indexOf(Y)>=0;)Y+=1;U[z]=Y}var J=new Array(E.length);function re(){x.program=i.program(M,x._vref,x._fref,I,U);for(var ie=0;ie<E.length;++ie)J[ie]=M.getUniformLocation(x.program,E[ie].name)}re(),x._relink=re,x.types={uniforms:n(E),attributes:n(S)},x.attributes=s(M,x,F,U),Object.defineProperty(x,"uniforms",r(M,x,E,J))};function h(l,d,E,S,P){var x=new y(l);return x.update(d,E,S,P),x}v.exports=h},9068:function(v){function p(t,r,s){this.shortMessage=r||"",this.longMessage=s||"",this.rawError=t||"",this.message="gl-shader: "+(r||t||"")+(s?`
`+s:""),this.stack=new Error().stack}p.prototype=new Error,p.prototype.name="GLError",p.prototype.constructor=p,v.exports=p},4280:function(v,p,t){v.exports=y;var r=t(9068);function s(c,T,h,l,d,E){this._gl=c,this._wrapper=T,this._index=h,this._locations=l,this._dimension=d,this._constFunc=E}var n=s.prototype;n.pointer=function(T,h,l,d){var E=this,S=E._gl,P=E._locations[E._index];S.vertexAttribPointer(P,E._dimension,T||S.FLOAT,!!h,l||0,d||0),S.enableVertexAttribArray(P)},n.set=function(c,T,h,l){return this._constFunc(this._locations[this._index],c,T,h,l)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(c){return c!==this._locations[this._index]&&(this._locations[this._index]=c|0,this._wrapper.program=null),c|0}});var i=[function(c,T,h){return h.length===void 0?c.vertexAttrib1f(T,h):c.vertexAttrib1fv(T,h)},function(c,T,h,l){return h.length===void 0?c.vertexAttrib2f(T,h,l):c.vertexAttrib2fv(T,h)},function(c,T,h,l,d){return h.length===void 0?c.vertexAttrib3f(T,h,l,d):c.vertexAttrib3fv(T,h)},function(c,T,h,l,d,E){return h.length===void 0?c.vertexAttrib4f(T,h,l,d,E):c.vertexAttrib4fv(T,h)}];function f(c,T,h,l,d,E,S){var P=i[d],x=new s(c,T,h,l,d,P);Object.defineProperty(E,S,{set:function(M){return c.disableVertexAttribArray(l[h]),P(c,l[h],M),M},get:function(){return x},enumerable:!0})}function u(c,T,h,l,d,E,S){for(var P=new Array(d),x=new Array(d),M=0;M<d;++M)f(c,T,h[M],l,d,P,M),x[M]=P[M];Object.defineProperty(P,"location",{set:function(L){if(Array.isArray(L))for(var m=0;m<d;++m)x[m].location=L[m];else for(var m=0;m<d;++m)x[m].location=L+m;return L},get:function(){for(var L=new Array(d),m=0;m<d;++m)L[m]=l[h[m]];return L},enumerable:!0}),P.pointer=function(L,m,F,I){L=L||c.FLOAT,m=!!m,F=F||d*d,I=I||0;for(var U=0;U<d;++U){var z=l[h[U]];c.vertexAttribPointer(z,d,L,m,F,I+U*d),c.enableVertexAttribArray(z)}};var w=new Array(d),o=c["vertexAttrib"+d+"fv"];Object.defineProperty(E,S,{set:function(L){for(var m=0;m<d;++m){var F=l[h[m]];if(c.disableVertexAttribArray(F),Array.isArray(L[0]))o.call(c,F,L[m]);else{for(var I=0;I<d;++I)w[I]=L[d*m+I];o.call(c,F,w)}}return L},get:function(){return P},enumerable:!0})}function y(c,T,h,l){for(var d={},E=0,S=h.length;E<S;++E){var P=h[E],x=P.name,M=P.type,w=P.locations;switch(M){case"bool":case"int":case"float":f(c,T,w[0],l,1,d,x);break;default:if(M.indexOf("vec")>=0){var o=M.charCodeAt(M.length-1)-48;if(o<2||o>4)throw new r("","Invalid data type for attribute "+x+": "+M);f(c,T,w[0],l,o,d,x)}else if(M.indexOf("mat")>=0){var o=M.charCodeAt(M.length-1)-48;if(o<2||o>4)throw new r("","Invalid data type for attribute "+x+": "+M);u(c,T,w,l,o,d,x)}else throw new r("","Unknown data type for attribute "+x+": "+M);break}}return d}},9016:function(v,p,t){var r=t(3984),s=t(9068);v.exports=f;function n(u){return function(){return u}}function i(u,y){for(var c=new Array(u),T=0;T<u;++T)c[T]=y;return c}function f(u,y,c,T){function h(M){return function(w,o,L){return w.getUniform(o.program,L[M])}}function l(M){return function(o){for(var L=d("",M),m=0;m<L.length;++m){var F=L[m],I=F[0],U=F[1];if(T[U]){var z=o;if(typeof I=="string"&&(I.indexOf(".")===0||I.indexOf("[")===0)){var N=I;if(I.indexOf(".")===0&&(N=I.slice(1)),N.indexOf("]")===N.length-1){var B=N.indexOf("["),O=N.slice(0,B),H=N.slice(B+1,N.length-1);z=O?o[O][H]:o[H]}else z=o[N]}var Y=c[U].type,J;switch(Y){case"bool":case"int":case"sampler2D":case"samplerCube":u.uniform1i(T[U],z);break;case"float":u.uniform1f(T[U],z);break;default:var re=Y.indexOf("vec");if(0<=re&&re<=1&&Y.length===4+re){if(J=Y.charCodeAt(Y.length-1)-48,J<2||J>4)throw new s("","Invalid data type");switch(Y.charAt(0)){case"b":case"i":u["uniform"+J+"iv"](T[U],z);break;case"v":u["uniform"+J+"fv"](T[U],z);break;default:throw new s("","Unrecognized data type for vector "+name+": "+Y)}}else if(Y.indexOf("mat")===0&&Y.length===4){if(J=Y.charCodeAt(Y.length-1)-48,J<2||J>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+Y);u["uniformMatrix"+J+"fv"](T[U],!1,z);break}else throw new s("","Unknown uniform data type for "+name+": "+Y)}}}}}function d(M,w){if(typeof w!="object")return[[M,w]];var o=[];for(var L in w){var m=w[L],F=M;parseInt(L)+""===L?F+="["+L+"]":F+="."+L,typeof m=="object"?o.push.apply(o,d(F,m)):o.push([F,m])}return o}function E(M){switch(M){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var w=M.indexOf("vec");if(0<=w&&w<=1&&M.length===4+w){var o=M.charCodeAt(M.length-1)-48;if(o<2||o>4)throw new s("","Invalid data type");return M.charAt(0)==="b"?i(o,!1):i(o,0)}else if(M.indexOf("mat")===0&&M.length===4){var o=M.charCodeAt(M.length-1)-48;if(o<2||o>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+M);return i(o*o,0)}else throw new s("","Unknown uniform data type for "+name+": "+M)}}function S(M,w,o){if(typeof o=="object"){var L=P(o);Object.defineProperty(M,w,{get:n(L),set:l(o),enumerable:!0,configurable:!1})}else T[o]?Object.defineProperty(M,w,{get:h(o),set:l(o),enumerable:!0,configurable:!1}):M[w]=E(c[o].type)}function P(M){var w;if(Array.isArray(M)){w=new Array(M.length);for(var o=0;o<M.length;++o)S(w,o,M[o])}else{w={};for(var L in M)S(w,L,M[L])}return w}var x=r(c,!0);return{get:n(P(x)),set:l(x),enumerable:!0,configurable:!0}}},3984:function(v){v.exports=p;function p(t,r){for(var s={},n=0;n<t.length;++n)for(var i=t[n].name,f=i.split("."),u=s,y=0;y<f.length;++y){var c=f[y].split("[");if(c.length>1){c[0]in u||(u[c[0]]=[]),u=u[c[0]];for(var T=1;T<c.length;++T){var h=parseInt(c[T]);T<c.length-1||y<f.length-1?(h in u||(T<c.length-1?u[h]=[]:u[h]={}),u=u[h]):r?u[h]=n:u[h]=t[n].type}}else y<f.length-1?(c[0]in u||(u[c[0]]={}),u=u[c[0]]):r?u[c[0]]=n:u[c[0]]=t[n].type}return s}},2631:function(v,p){p.uniforms=n,p.attributes=i;var t={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},r=null;function s(f,u){if(!r){var y=Object.keys(t);r={};for(var c=0;c<y.length;++c){var T=y[c];r[f[T]]=t[T]}}return r[u]}function n(f,u){for(var y=f.getProgramParameter(u,f.ACTIVE_UNIFORMS),c=[],T=0;T<y;++T){var h=f.getActiveUniform(u,T);if(h){var l=s(f,h.type);if(h.size>1)for(var d=0;d<h.size;++d)c.push({name:h.name.replace("[0]","["+d+"]"),type:l});else c.push({name:h.name,type:l})}}return c}function i(f,u){for(var y=f.getProgramParameter(u,f.ACTIVE_ATTRIBUTES),c=[],T=0;T<y;++T){var h=f.getActiveAttrib(u,T);h&&c.push({name:h.name,type:s(f,h.type)})}return c}},1628:function(v,p,t){p.shader=d,p.program=E;var r=t(9068),s=t(3530),n=typeof WeakMap>"u"?t(4037):WeakMap,i=new n,f=0;function u(S,P,x,M,w,o,L){this.id=S,this.src=P,this.type=x,this.shader=M,this.count=o,this.programs=[],this.cache=L}u.prototype.dispose=function(){if(--this.count===0){for(var S=this.cache,P=S.gl,x=this.programs,M=0,w=x.length;M<w;++M){var o=S.programs[x[M]];o&&(delete S.programs[M],P.deleteProgram(o))}P.deleteShader(this.shader),delete S.shaders[this.type===P.FRAGMENT_SHADER|0][this.src]}};function y(S){this.gl=S,this.shaders=[{},{}],this.programs={}}var c=y.prototype;function T(S,P,x){var M=S.createShader(P);if(S.shaderSource(M,x),S.compileShader(M),!S.getShaderParameter(M,S.COMPILE_STATUS)){var w=S.getShaderInfoLog(M);try{var o=s(w,x,P)}catch(L){throw console.warn("Failed to format compiler error: "+L),new r(w,`Error compiling shader:
`+w)}throw new r(w,o.short,o.long)}return M}c.getShaderReference=function(S,P){var x=this.gl,M=this.shaders[S===x.FRAGMENT_SHADER|0],w=M[P];if(!w||!x.isShader(w.shader)){var o=T(x,S,P);w=M[P]=new u(f++,P,S,o,[],1,this)}else w.count+=1;return w};function h(S,P,x,M,w){var o=S.createProgram();S.attachShader(o,P),S.attachShader(o,x);for(var L=0;L<M.length;++L)S.bindAttribLocation(o,w[L],M[L]);if(S.linkProgram(o),!S.getProgramParameter(o,S.LINK_STATUS)){var m=S.getProgramInfoLog(o);throw new r(m,"Error linking program: "+m)}return o}c.getProgram=function(S,P,x,M){var w=[S.id,P.id,x.join(":"),M.join(":")].join("@"),o=this.programs[w];return(!o||!this.gl.isProgram(o))&&(this.programs[w]=o=h(this.gl,S.shader,P.shader,x,M),S.programs.push(w),P.programs.push(w)),o};function l(S){var P=i.get(S);return P||(P=new y(S),i.set(S,P)),P}function d(S,P,x){return l(S).getShaderReference(P,x)}function E(S,P,x,M,w){return l(S).getProgram(P,x,M,w)}},3050:function(v){v.exports=r;function p(s){this.plot=s,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var t=p.prototype;t.update=function(s){s=s||{},this.enable=(s.enable||[!0,!0,!1,!1]).slice(),this.width=(s.width||[1,1,1,1]).slice(),this.color=(s.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(s.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},t.draw=function(){var s=this.enable,n=this.width,i=this.color,f=this.center,u=this.plot,y=u.line,c=u.dataBox,T=u.viewBox;if(y.bind(),c[0]<=f[0]&&f[0]<=c[2]&&c[1]<=f[1]&&f[1]<=c[3]){var h=T[0]+(f[0]-c[0])/(c[2]-c[0])*(T[2]-T[0]),l=T[1]+(f[1]-c[1])/(c[3]-c[1])*(T[3]-T[1]);s[0]&&y.drawLine(h,l,T[0],l,n[0],i[0]),s[1]&&y.drawLine(h,l,h,T[1],n[1],i[1]),s[2]&&y.drawLine(h,l,T[2],l,n[2],i[2]),s[3]&&y.drawLine(h,l,h,T[3],n[3],i[3])}},t.dispose=function(){this.plot.removeOverlay(this)};function r(s,n){var i=new p(s);return i.update(n),s.addOverlay(i),i}},3540:function(v,p,t){var r=t(6832),s=t(5158),n=r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),i=r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);v.exports=function(f){return s(f,n,i,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(v,p,t){var r=t(5827),s=t(2944),n=t(3540);v.exports=h;var i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(l,d,E,S){this.gl=l,this.buffer=d,this.vao=E,this.shader=S,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var u=f.prototype,y=[0,0,0],c=[0,0,0],T=[0,0];u.isTransparent=function(){return!1},u.drawTransparent=function(l){},u.draw=function(l){var d=this.gl,E=this.vao,S=this.shader;E.bind(),S.bind();var P=l.model||i,x=l.view||i,M=l.projection||i,w;this.axes&&(w=this.axes.lastCubeProps.axis);for(var o=y,L=c,m=0;m<3;++m)w&&w[m]<0?(o[m]=this.bounds[0][m],L[m]=this.bounds[1][m]):(o[m]=this.bounds[1][m],L[m]=this.bounds[0][m]);T[0]=d.drawingBufferWidth,T[1]=d.drawingBufferHeight,S.uniforms.model=P,S.uniforms.view=x,S.uniforms.projection=M,S.uniforms.coordinates=[this.position,o,L],S.uniforms.colors=this.colors,S.uniforms.screenShape=T;for(var m=0;m<3;++m)S.uniforms.lineWidth=this.lineWidth[m]*this.pixelRatio,this.enabled[m]&&(E.draw(d.TRIANGLES,6,6*m),this.drawSides[m]&&E.draw(d.TRIANGLES,12,18+12*m));E.unbind()},u.update=function(l){l&&("bounds"in l&&(this.bounds=l.bounds),"position"in l&&(this.position=l.position),"lineWidth"in l&&(this.lineWidth=l.lineWidth),"colors"in l&&(this.colors=l.colors),"enabled"in l&&(this.enabled=l.enabled),"drawSides"in l&&(this.drawSides=l.drawSides))},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function h(l,d){var E=[];function S(o,L,m,F,I,U){var z=[o,L,m,0,0,0,1];z[F+3]=1,z[F]=I,E.push.apply(E,z),z[6]=-1,E.push.apply(E,z),z[F]=U,E.push.apply(E,z),E.push.apply(E,z),z[6]=1,E.push.apply(E,z),z[F]=I,E.push.apply(E,z)}S(0,0,0,0,0,1),S(0,0,0,1,0,1),S(0,0,0,2,0,1),S(1,0,0,1,-1,1),S(1,0,0,2,-1,1),S(0,1,0,0,-1,1),S(0,1,0,2,-1,1),S(0,0,1,0,-1,1),S(0,0,1,1,-1,1);var P=r(l,E),x=s(l,[{type:l.FLOAT,buffer:P,size:3,offset:0,stride:28},{type:l.FLOAT,buffer:P,size:3,offset:12,stride:28},{type:l.FLOAT,buffer:P,size:1,offset:24,stride:28}]),M=n(l);M.attributes.position.location=0,M.attributes.color.location=1,M.attributes.weight.location=2;var w=new f(l,P,x,M);return w.update(d),w}},9578:function(v,p,t){var r=t(6832),s=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),i=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),f=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:s,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},p.pickShader={vertex:i,fragment:f,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(v,p,t){var r=t(2858),s=t(4020),n=["xyz","xzy","yxz","yzx","zxy","zyx"],i=function(E,S,P,x){for(var M=E.points,w=E.velocities,o=E.divergences,L=[],m=[],F=[],I=[],U=[],z=[],N=0,B=0,O=s.create(),H=s.create(),Y=8,J=0;J<M.length;J++){var re=M[J],ie=w[J],ce=o[J];S===0&&(ce=P*.05),B=r.length(ie)/x,O=s.create(),r.copy(O,ie),O[3]=ce;for(var Q=0;Q<Y;Q++)U[Q]=[re[0],re[1],re[2],Q];if(I.length>0)for(var Q=0;Q<Y;Q++){var j=(Q+1)%Y;L.push(I[Q],U[Q],U[j],U[j],I[j],I[Q]),F.push(H,O,O,O,H,H),z.push(N,B,B,B,N,N);var Z=L.length;m.push([Z-6,Z-5,Z-4],[Z-3,Z-2,Z-1])}var $=I;I=U,U=$;var te=H;H=O,O=te;var se=N;N=B,B=se}return{positions:L,cells:m,vectors:F,vertexIntensity:z}},f=function(E,S,P,x){for(var M=0,w=0;w<E.length;w++)for(var o=E[w].velocities,L=0;L<o.length;L++)M=Math.max(M,r.length(o[L]));for(var m=E.map(function(J){return i(J,P,x,M)}),F=[],I=[],U=[],z=[],w=0;w<m.length;w++){var N=m[w],B=F.length;F=F.concat(N.positions),U=U.concat(N.vectors),z=z.concat(N.vertexIntensity);for(var L=0;L<N.cells.length;L++){var O=N.cells[L],H=[];I.push(H);for(var Y=0;Y<O.length;Y++)H.push(O[Y]+B)}}return{positions:F,cells:I,vectors:U,vertexIntensity:z,colormap:S}},u=function(E,S){var P=E.length,x;for(x=0;x<P;x++){var M=E[x];if(M===S)return x;if(M>S)return x-1}return x},y=function(E,S,P){return E<S?S:E>P?P:E},c=function(E,S,P){var x=S.vectors,M=S.meshgrid,w=E[0],o=E[1],L=E[2],m=M[0].length,F=M[1].length,I=M[2].length,U=u(M[0],w),z=u(M[1],o),N=u(M[2],L),B=U+1,O=z+1,H=N+1;if(U=y(U,0,m-1),B=y(B,0,m-1),z=y(z,0,F-1),O=y(O,0,F-1),N=y(N,0,I-1),H=y(H,0,I-1),U<0||z<0||N<0||B>m-1||O>F-1||H>I-1)return r.create();var Y=M[0][U],J=M[0][B],re=M[1][z],ie=M[1][O],ce=M[2][N],Q=M[2][H],j=(w-Y)/(J-Y),Z=(o-re)/(ie-re),$=(L-ce)/(Q-ce);isFinite(j)||(j=.5),isFinite(Z)||(Z=.5),isFinite($)||($=.5);var te,se,ee,q,le,oe;switch(P.reversedX&&(U=m-1-U,B=m-1-B),P.reversedY&&(z=F-1-z,O=F-1-O),P.reversedZ&&(N=I-1-N,H=I-1-H),P.filled){case 5:le=N,oe=H,ee=z*I,q=O*I,te=U*I*F,se=B*I*F;break;case 4:le=N,oe=H,te=U*I,se=B*I,ee=z*I*m,q=O*I*m;break;case 3:ee=z,q=O,le=N*F,oe=H*F,te=U*F*I,se=B*F*I;break;case 2:ee=z,q=O,te=U*F,se=B*F,le=N*F*m,oe=H*F*m;break;case 1:te=U,se=B,le=N*m,oe=H*m,ee=z*m*I,q=O*m*I;break;default:te=U,se=B,ee=z*m,q=O*m,le=N*m*F,oe=H*m*F;break}var he=x[te+ee+le],me=x[te+ee+oe],Ce=x[te+q+le],Ae=x[te+q+oe],Ue=x[se+ee+le],Ve=x[se+ee+oe],Pe=x[se+q+le],be=x[se+q+oe],Le=r.create(),We=r.create(),je=r.create(),Fe=r.create();r.lerp(Le,he,Ue,j),r.lerp(We,me,Ve,j),r.lerp(je,Ce,Pe,j),r.lerp(Fe,Ae,be,j);var Ze=r.create(),ut=r.create();r.lerp(Ze,Le,je,Z),r.lerp(ut,We,Fe,Z);var at=r.create();return r.lerp(at,Ze,ut,$),at},T=function(E){var S=1/0;E.sort(function(w,o){return w-o});for(var P=E.length,x=1;x<P;x++){var M=Math.abs(E[x]-E[x-1]);M<S&&(S=M)}return S},h=function(E){for(var S=[],P=[],x=[],M={},w={},o={},L=E.length,m=0;m<L;m++){var F=E[m],I=F[0],U=F[1],z=F[2];M[I]||(S.push(I),M[I]=!0),w[U]||(P.push(U),w[U]=!0),o[z]||(x.push(z),o[z]=!0)}var N=T(S),B=T(P),O=T(x),H=Math.min(N,B,O);return isFinite(H)?H:1};v.exports=function(E,S){var P=E.startingPositions,x=E.maxLength||1e3,M=E.tubeSize||1,w=E.absoluteTubeSize,o=E.gridFill||"+x+y+z",L={};o.indexOf("-x")!==-1&&(L.reversedX=!0),o.indexOf("-y")!==-1&&(L.reversedY=!0),o.indexOf("-z")!==-1&&(L.reversedZ=!0),L.filled=n.indexOf(o.replace(/-/g,"").replace(/\+/g,""));var m=E.getVelocity||function(Ve){return c(Ve,E,L)},F=E.getDivergence||function(Ve,Pe){var be=r.create(),Le=1e-4;r.add(be,Ve,[Le,0,0]);var We=m(be);r.subtract(We,We,Pe),r.scale(We,We,1/Le),r.add(be,Ve,[0,Le,0]);var je=m(be);r.subtract(je,je,Pe),r.scale(je,je,1/Le),r.add(be,Ve,[0,0,Le]);var Fe=m(be);return r.subtract(Fe,Fe,Pe),r.scale(Fe,Fe,1/Le),r.add(be,We,je),r.add(be,be,Fe),be},I=[],U=S[0][0],z=S[0][1],N=S[0][2],B=S[1][0],O=S[1][1],H=S[1][2],Y=function(Ve){var Pe=Ve[0],be=Ve[1],Le=Ve[2];return!(Pe<U||Pe>B||be<z||be>O||Le<N||Le>H)},J=r.distance(S[0],S[1]),re=10*J/x,ie=re*re,ce=1,Q=0,j=P.length;j>1&&(ce=h(P));for(var Z=0;Z<j;Z++){var $=r.create();r.copy($,P[Z]);var te=[$],se=[],ee=m($),q=$;se.push(ee);var le=[],oe=F($,ee),he=r.length(oe);isFinite(he)&&he>Q&&(Q=he),le.push(he),I.push({points:te,velocities:se,divergences:le});for(var me=0;me<x*100&&te.length<x&&Y($);){me++;var Ce=r.clone(ee),Ae=r.squaredLength(Ce);if(Ae===0)break;if(Ae>ie&&r.scale(Ce,Ce,re/Math.sqrt(Ae)),r.add(Ce,Ce,$),ee=m(Ce),r.squaredDistance(q,Ce)-ie>-1e-4*ie){te.push(Ce),q=Ce,se.push(ee);var oe=F(Ce,ee),he=r.length(oe);isFinite(he)&&he>Q&&(Q=he),le.push(he)}$=Ce}}var Ue=f(I,E.colormap,Q,ce);return w?Ue.tubeScale=w:(Q===0&&(Q=1),Ue.tubeScale=M*.5*ce/Q),Ue};var l=t(9578),d=t(1140).createMesh;v.exports.createTubeMesh=function(E,S){return d(E,S,{shaders:l,traceType:"streamtube"})}},9054:function(v,p,t){var r=t(5158),s=t(6832),n=s([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),i=s([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color  in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),f=s([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),u=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);p.createShader=function(y){var c=r(y,n,i,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},p.createPickShader=function(y){var c=r(y,n,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},p.createContourShader=function(y){var c=r(y,f,i,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c},p.createPickContourShader=function(y){var c=r(y,f,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c}},3754:function(v,p,t){v.exports=se;var r=t(2288),s=t(5827),n=t(2944),i=t(8931),f=t(5306),u=t(9156),y=t(7498),c=t(7382),T=t(5050),h=t(4162),l=t(104),d=t(7437),E=t(5070),S=t(9144),P=t(9054),x=P.createShader,M=P.createContourShader,w=P.createPickShader,o=P.createPickContourShader,L=4*(4+3+3),m=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],F=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],I=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var ee=0;ee<3;++ee){var q=I[ee],le=(ee+1)%3,oe=(ee+2)%3;q[le+0]=1,q[oe+3]=1,q[ee+6]=1}})();function U(ee,q,le,oe,he){this.position=ee,this.index=q,this.uv=le,this.level=oe,this.dataCoordinate=he}var z=256;function N(ee,q,le,oe,he,me,Ce,Ae,Ue,Ve,Pe,be,Le,We,je){this.gl=ee,this.shape=q,this.bounds=le,this.objectOffset=je,this.intensityBounds=[],this._shader=oe,this._pickShader=he,this._coordinateBuffer=me,this._vao=Ce,this._colorMap=Ae,this._contourShader=Ue,this._contourPickShader=Ve,this._contourBuffer=Pe,this._contourVAO=be,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new U([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Le,this._dynamicVAO=We,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[T(f.mallocFloat(1024),[0,0]),T(f.mallocFloat(1024),[0,0]),T(f.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var B=N.prototype;B.genColormap=function(ee,q){var le=!1,oe=c([u({colormap:ee,nshades:z,format:"rgba"}).map(function(he,me){var Ce=q?O(me/255,q):he[3];return Ce<1&&(le=!0),[he[0],he[1],he[2],255*Ce]})]);return y.divseq(oe,255),this.hasAlphaScale=le,oe},B.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},B.isOpaque=function(){return!this.isTransparent()},B.pickSlots=1,B.setPickBase=function(ee){this.pickId=ee};function O(ee,q){if(!q||!q.length)return 1;for(var le=0;le<q.length;++le){if(q.length<2)return 1;if(q[le][0]===ee)return q[le][1];if(q[le][0]>ee&&le>0){var oe=(q[le][0]-ee)/(q[le][0]-q[le-1][0]);return q[le][1]*(1-oe)+oe*q[le-1][1]}}return 1}var H=[0,0,0],Y={showSurface:!1,showContour:!1,projections:[m.slice(),m.slice(),m.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function J(ee,q){var le,oe,he,me=q.axes&&q.axes.lastCubeProps.axis||H,Ce=q.showSurface,Ae=q.showContour;for(le=0;le<3;++le)for(Ce=Ce||q.surfaceProject[le],oe=0;oe<3;++oe)Ae=Ae||q.contourProject[le][oe];for(le=0;le<3;++le){var Ue=Y.projections[le];for(oe=0;oe<16;++oe)Ue[oe]=0;for(oe=0;oe<4;++oe)Ue[5*oe]=1;Ue[5*le]=0,Ue[12+le]=q.axesBounds[+(me[le]>0)][le],l(Ue,ee.model,Ue);var Ve=Y.clipBounds[le];for(he=0;he<2;++he)for(oe=0;oe<3;++oe)Ve[he][oe]=ee.clipBounds[he][oe];Ve[0][le]=-1e8,Ve[1][le]=1e8}return Y.showSurface=Ce,Y.showContour=Ae,Y}var re={model:m,view:m,projection:m,inverseModel:m.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},ie=m.slice(),ce=[1,0,0,0,1,0,0,0,1];function Q(ee,q){ee=ee||{};var le=this.gl;le.disable(le.CULL_FACE),this._colorMap.bind(0);var oe=re;oe.model=ee.model||m,oe.view=ee.view||m,oe.projection=ee.projection||m,oe.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],oe.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],oe.objectOffset=this.objectOffset,oe.contourColor=this.contourColor[0],oe.inverseModel=d(oe.inverseModel,oe.model);for(var he=0;he<2;++he)for(var me=oe.clipBounds[he],Ce=0;Ce<3;++Ce)me[Ce]=Math.min(Math.max(this.clipBounds[he][Ce],-1e8),1e8);oe.kambient=this.ambientLight,oe.kdiffuse=this.diffuseLight,oe.kspecular=this.specularLight,oe.roughness=this.roughness,oe.fresnel=this.fresnel,oe.opacity=this.opacity,oe.height=0,oe.permutation=ce,oe.vertexColor=this.vertexColor;var Ae=ie;for(l(Ae,oe.view,oe.model),l(Ae,oe.projection,Ae),d(Ae,Ae),he=0;he<3;++he)oe.eyePosition[he]=Ae[12+he]/Ae[15];var Ue=Ae[15];for(he=0;he<3;++he)Ue+=this.lightPosition[he]*Ae[4*he+3];for(he=0;he<3;++he){var Ve=Ae[12+he];for(Ce=0;Ce<3;++Ce)Ve+=Ae[4*Ce+he]*this.lightPosition[Ce];oe.lightPosition[he]=Ve/Ue}var Pe=J(oe,this);if(Pe.showSurface){for(this._shader.bind(),this._shader.uniforms=oe,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(le.TRIANGLES,this._vertexCount),he=0;he<3;++he)!this.surfaceProject[he]||!this.vertexCount||(this._shader.uniforms.model=Pe.projections[he],this._shader.uniforms.clipBounds=Pe.clipBounds[he],this._vao.draw(le.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Pe.showContour){var be=this._contourShader;oe.kambient=1,oe.kdiffuse=0,oe.kspecular=0,oe.opacity=1,be.bind(),be.uniforms=oe;var Le=this._contourVAO;for(Le.bind(),he=0;he<3;++he)for(be.uniforms.permutation=I[he],le.lineWidth(this.contourWidth[he]*this.pixelRatio),Ce=0;Ce<this.contourLevels[he].length;++Ce)Ce===this.highlightLevel[he]?(be.uniforms.contourColor=this.highlightColor[he],be.uniforms.contourTint=this.highlightTint[he]):(Ce===0||Ce-1===this.highlightLevel[he])&&(be.uniforms.contourColor=this.contourColor[he],be.uniforms.contourTint=this.contourTint[he]),this._contourCounts[he][Ce]&&(be.uniforms.height=this.contourLevels[he][Ce],Le.draw(le.LINES,this._contourCounts[he][Ce],this._contourOffsets[he][Ce]));for(he=0;he<3;++he)for(be.uniforms.model=Pe.projections[he],be.uniforms.clipBounds=Pe.clipBounds[he],Ce=0;Ce<3;++Ce)if(this.contourProject[he][Ce]){be.uniforms.permutation=I[Ce],le.lineWidth(this.contourWidth[Ce]*this.pixelRatio);for(var We=0;We<this.contourLevels[Ce].length;++We)We===this.highlightLevel[Ce]?(be.uniforms.contourColor=this.highlightColor[Ce],be.uniforms.contourTint=this.highlightTint[Ce]):(We===0||We-1===this.highlightLevel[Ce])&&(be.uniforms.contourColor=this.contourColor[Ce],be.uniforms.contourTint=this.contourTint[Ce]),this._contourCounts[Ce][We]&&(be.uniforms.height=this.contourLevels[Ce][We],Le.draw(le.LINES,this._contourCounts[Ce][We],this._contourOffsets[Ce][We]))}for(Le.unbind(),Le=this._dynamicVAO,Le.bind(),he=0;he<3;++he)if(this._dynamicCounts[he]!==0)for(be.uniforms.model=oe.model,be.uniforms.clipBounds=oe.clipBounds,be.uniforms.permutation=I[he],le.lineWidth(this.dynamicWidth[he]*this.pixelRatio),be.uniforms.contourColor=this.dynamicColor[he],be.uniforms.contourTint=this.dynamicTint[he],be.uniforms.height=this.dynamicLevel[he],Le.draw(le.LINES,this._dynamicCounts[he],this._dynamicOffsets[he]),Ce=0;Ce<3;++Ce)this.contourProject[Ce][he]&&(be.uniforms.model=Pe.projections[Ce],be.uniforms.clipBounds=Pe.clipBounds[Ce],Le.draw(le.LINES,this._dynamicCounts[he],this._dynamicOffsets[he]));Le.unbind()}}B.draw=function(ee){return Q.call(this,ee,!1)},B.drawTransparent=function(ee){return Q.call(this,ee,!0)};var j={model:m,view:m,projection:m,inverseModel:m,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};B.drawPick=function(ee){ee=ee||{};var q=this.gl;q.disable(q.CULL_FACE);var le=j;le.model=ee.model||m,le.view=ee.view||m,le.projection=ee.projection||m,le.shape=this._field[2].shape,le.pickId=this.pickId/255,le.lowerBound=this.bounds[0],le.upperBound=this.bounds[1],le.objectOffset=this.objectOffset,le.permutation=ce;for(var oe=0;oe<2;++oe)for(var he=le.clipBounds[oe],me=0;me<3;++me)he[me]=Math.min(Math.max(this.clipBounds[oe][me],-1e8),1e8);var Ce=J(le,this);if(Ce.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=le,this._vao.bind(),this._vao.draw(q.TRIANGLES,this._vertexCount),oe=0;oe<3;++oe)this.surfaceProject[oe]&&(this._pickShader.uniforms.model=Ce.projections[oe],this._pickShader.uniforms.clipBounds=Ce.clipBounds[oe],this._vao.draw(q.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ce.showContour){var Ae=this._contourPickShader;Ae.bind(),Ae.uniforms=le;var Ue=this._contourVAO;for(Ue.bind(),me=0;me<3;++me)for(q.lineWidth(this.contourWidth[me]*this.pixelRatio),Ae.uniforms.permutation=I[me],oe=0;oe<this.contourLevels[me].length;++oe)this._contourCounts[me][oe]&&(Ae.uniforms.height=this.contourLevels[me][oe],Ue.draw(q.LINES,this._contourCounts[me][oe],this._contourOffsets[me][oe]));for(oe=0;oe<3;++oe)for(Ae.uniforms.model=Ce.projections[oe],Ae.uniforms.clipBounds=Ce.clipBounds[oe],me=0;me<3;++me)if(this.contourProject[oe][me]){Ae.uniforms.permutation=I[me],q.lineWidth(this.contourWidth[me]*this.pixelRatio);for(var Ve=0;Ve<this.contourLevels[me].length;++Ve)this._contourCounts[me][Ve]&&(Ae.uniforms.height=this.contourLevels[me][Ve],Ue.draw(q.LINES,this._contourCounts[me][Ve],this._contourOffsets[me][Ve]))}Ue.unbind()}},B.pick=function(ee){if(!ee||ee.id!==this.pickId)return null;var q=this._field[2].shape,le=this._pickResult,oe=q[0]*(ee.value[0]+(ee.value[2]>>4)/16)/255,he=Math.floor(oe),me=oe-he,Ce=q[1]*(ee.value[1]+(ee.value[2]&15)/16)/255,Ae=Math.floor(Ce),Ue=Ce-Ae;he+=1,Ae+=1;var Ve=le.position;Ve[0]=Ve[1]=Ve[2]=0;for(var Pe=0;Pe<2;++Pe)for(var be=Pe?me:1-me,Le=0;Le<2;++Le)for(var We=Le?Ue:1-Ue,je=he+Pe,Fe=Ae+Le,Ze=be*We,ut=0;ut<3;++ut)Ve[ut]+=this._field[ut].get(je,Fe)*Ze;for(var at=this._pickResult.level,it=0;it<3;++it)if(at[it]=E.le(this.contourLevels[it],Ve[it]),at[it]<0)this.contourLevels[it].length>0&&(at[it]=0);else if(at[it]<this.contourLevels[it].length-1){var $e=this.contourLevels[it][at[it]],st=this.contourLevels[it][at[it]+1];Math.abs($e-Ve[it])>Math.abs(st-Ve[it])&&(at[it]+=1)}for(le.index[0]=me<.5?he:he+1,le.index[1]=Ue<.5?Ae:Ae+1,le.uv[0]=oe/q[0],le.uv[1]=Ce/q[1],ut=0;ut<3;++ut)le.dataCoordinate[ut]=this._field[ut].get(le.index[0],le.index[1]);return le},B.padField=function(ee,q){var le=q.shape.slice(),oe=ee.shape.slice();y.assign(ee.lo(1,1).hi(le[0],le[1]),q),y.assign(ee.lo(1).hi(le[0],1),q.hi(le[0],1)),y.assign(ee.lo(1,oe[1]-1).hi(le[0],1),q.lo(0,le[1]-1).hi(le[0],1)),y.assign(ee.lo(0,1).hi(1,le[1]),q.hi(1)),y.assign(ee.lo(oe[0]-1,1).hi(1,le[1]),q.lo(le[0]-1)),ee.set(0,0,q.get(0,0)),ee.set(0,oe[1]-1,q.get(0,le[1]-1)),ee.set(oe[0]-1,0,q.get(le[0]-1,0)),ee.set(oe[0]-1,oe[1]-1,q.get(le[0]-1,le[1]-1))};function Z(ee,q){return Array.isArray(ee)?[q(ee[0]),q(ee[1]),q(ee[2])]:[q(ee),q(ee),q(ee)]}function $(ee){return Array.isArray(ee)?ee.length===3?[ee[0],ee[1],ee[2],1]:[ee[0],ee[1],ee[2],ee[3]]:[0,0,0,1]}function te(ee){if(Array.isArray(ee)){if(Array.isArray(ee))return[$(ee[0]),$(ee[1]),$(ee[2])];var q=$(ee);return[q.slice(),q.slice(),q.slice()]}}B.update=function(ee){ee=ee||{},this.objectOffset=ee.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in ee&&(this.contourWidth=Z(ee.contourWidth,Number)),"showContour"in ee&&(this.showContour=Z(ee.showContour,Boolean)),"showSurface"in ee&&(this.showSurface=!!ee.showSurface),"contourTint"in ee&&(this.contourTint=Z(ee.contourTint,Boolean)),"contourColor"in ee&&(this.contourColor=te(ee.contourColor)),"contourProject"in ee&&(this.contourProject=Z(ee.contourProject,function(Lt){return Z(Lt,Boolean)})),"surfaceProject"in ee&&(this.surfaceProject=ee.surfaceProject),"dynamicColor"in ee&&(this.dynamicColor=te(ee.dynamicColor)),"dynamicTint"in ee&&(this.dynamicTint=Z(ee.dynamicTint,Number)),"dynamicWidth"in ee&&(this.dynamicWidth=Z(ee.dynamicWidth,Number)),"opacity"in ee&&(this.opacity=ee.opacity),"opacityscale"in ee&&(this.opacityscale=ee.opacityscale),"colorBounds"in ee&&(this.colorBounds=ee.colorBounds),"vertexColor"in ee&&(this.vertexColor=ee.vertexColor?1:0),"colormap"in ee&&this._colorMap.setPixels(this.genColormap(ee.colormap,this.opacityscale));var q=ee.field||ee.coords&&ee.coords[2]||null,le=!1;if(q||(this._field[2].shape[0]||this._field[2].shape[2]?q=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):q=this._field[2].hi(0,0)),"field"in ee||"coords"in ee){var oe=(q.shape[0]+2)*(q.shape[1]+2);oe>this._field[2].data.length&&(f.freeFloat(this._field[2].data),this._field[2].data=f.mallocFloat(r.nextPow2(oe))),this._field[2]=T(this._field[2].data,[q.shape[0]+2,q.shape[1]+2]),this.padField(this._field[2],q),this.shape=q.shape.slice();for(var he=this.shape,me=0;me<2;++me)this._field[2].size>this._field[me].data.length&&(f.freeFloat(this._field[me].data),this._field[me].data=f.mallocFloat(this._field[2].size)),this._field[me]=T(this._field[me].data,[he[0]+2,he[1]+2]);if(ee.coords){var Ce=ee.coords;if(!Array.isArray(Ce)||Ce.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(me=0;me<2;++me){var Ae=Ce[me];for(Le=0;Le<2;++Le)if(Ae.shape[Le]!==he[Le])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[me],Ae)}}else if(ee.ticks){var Ue=ee.ticks;if(!Array.isArray(Ue)||Ue.length!==2)throw new Error("gl-surface: invalid ticks");for(me=0;me<2;++me){var Ve=Ue[me];if((Array.isArray(Ve)||Ve.length)&&(Ve=T(Ve)),Ve.shape[0]!==he[me])throw new Error("gl-surface: invalid tick length");var Pe=T(Ve.data,he);Pe.stride[me]=Ve.stride[0],Pe.stride[me^1]=0,this.padField(this._field[me],Pe)}}else{for(me=0;me<2;++me){var be=[0,0];be[me]=1,this._field[me]=T(this._field[me].data,[he[0]+2,he[1]+2],be,0)}this._field[0].set(0,0,0);for(var Le=0;Le<he[0];++Le)this._field[0].set(Le+1,0,Le);for(this._field[0].set(he[0]+1,0,he[0]-1),this._field[1].set(0,0,0),Le=0;Le<he[1];++Le)this._field[1].set(0,Le+1,Le);this._field[1].set(0,he[1]+1,he[1]-1)}var We=this._field,je=T(f.mallocFloat(We[2].size*3*2),[3,he[0]+2,he[1]+2,2]);for(me=0;me<3;++me)S(je.pick(me),We[me],"mirror");var Fe=T(f.mallocFloat(We[2].size*3),[he[0]+2,he[1]+2,3]);for(me=0;me<he[0]+2;++me)for(Le=0;Le<he[1]+2;++Le){var Ze=je.get(0,me,Le,0),ut=je.get(0,me,Le,1),at=je.get(1,me,Le,0),it=je.get(1,me,Le,1),$e=je.get(2,me,Le,0),st=je.get(2,me,Le,1),ct=at*st-it*$e,vt=$e*ut-st*Ze,St=Ze*it-ut*at,Mt=Math.sqrt(ct*ct+vt*vt+St*St);Mt<1e-8?(Mt=Math.max(Math.abs(ct),Math.abs(vt),Math.abs(St)),Mt<1e-8?(St=1,vt=ct=0,Mt=1):Mt=1/Mt):Mt=1/Math.sqrt(Mt),Fe.set(me,Le,0,ct*Mt),Fe.set(me,Le,1,vt*Mt),Fe.set(me,Le,2,St*Mt)}f.free(je.data);var Bt=[1/0,1/0,1/0],Qe=[-1/0,-1/0,-1/0],ke=1/0,ze=-1/0,Be=(he[0]-1)*(he[1]-1)*6,Re=f.mallocFloat(r.nextPow2(10*Be)),we=0,ye=0;for(me=0;me<he[0]-1;++me)e:for(Le=0;Le<he[1]-1;++Le){for(var Se=0;Se<2;++Se)for(var Me=0;Me<2;++Me)for(var He=0;He<3;++He){var qe=this._field[He].get(1+me+Se,1+Le+Me);if(isNaN(qe)||!isFinite(qe))continue e}for(He=0;He<6;++He){var rt=me+F[He][0],pt=Le+F[He][1],At=this._field[0].get(rt+1,pt+1),jt=this._field[1].get(rt+1,pt+1);qe=this._field[2].get(rt+1,pt+1),ct=Fe.get(rt+1,pt+1,0),vt=Fe.get(rt+1,pt+1,1),St=Fe.get(rt+1,pt+1,2),ee.intensity&&(tr=ee.intensity.get(rt,pt));var tr=ee.intensity?ee.intensity.get(rt,pt):qe+this.objectOffset[2];Re[we++]=rt,Re[we++]=pt,Re[we++]=At,Re[we++]=jt,Re[we++]=qe,Re[we++]=0,Re[we++]=tr,Re[we++]=ct,Re[we++]=vt,Re[we++]=St,Bt[0]=Math.min(Bt[0],At+this.objectOffset[0]),Bt[1]=Math.min(Bt[1],jt+this.objectOffset[1]),Bt[2]=Math.min(Bt[2],qe+this.objectOffset[2]),ke=Math.min(ke,tr),Qe[0]=Math.max(Qe[0],At+this.objectOffset[0]),Qe[1]=Math.max(Qe[1],jt+this.objectOffset[1]),Qe[2]=Math.max(Qe[2],qe+this.objectOffset[2]),ze=Math.max(ze,tr),ye+=1}}for(ee.intensityBounds&&(ke=+ee.intensityBounds[0],ze=+ee.intensityBounds[1]),me=6;me<we;me+=10)Re[me]=(Re[me]-ke)/(ze-ke);this._vertexCount=ye,this._coordinateBuffer.update(Re.subarray(0,we)),f.freeFloat(Re),f.free(Fe.data),this.bounds=[Bt,Qe],this.intensity=ee.intensity||this._field[2],(this.intensityBounds[0]!==ke||this.intensityBounds[1]!==ze)&&(le=!0),this.intensityBounds=[ke,ze]}if("levels"in ee){var Ct=ee.levels;for(Array.isArray(Ct[0])?Ct=Ct.slice():Ct=[[],[],Ct],me=0;me<3;++me)Ct[me]=Ct[me].slice(),Ct[me].sort(function(Lt,Xt){return Lt-Xt});for(me=0;me<3;++me)for(Le=0;Le<Ct[me].length;++Le)Ct[me][Le]-=this.objectOffset[me];e:for(me=0;me<3;++me){if(Ct[me].length!==this.contourLevels[me].length){le=!0;break}for(Le=0;Le<Ct[me].length;++Le)if(Ct[me][Le]!==this.contourLevels[me][Le]){le=!0;break e}}this.contourLevels=Ct}if(le){We=this._field,he=this.shape;for(var Nt=[],Kt=0;Kt<3;++Kt){var wr=this.contourLevels[Kt],yt=[],$t=[],er=[0,0,0];for(me=0;me<wr.length;++me){var mr=h(this._field[Kt],wr[me]);yt.push(Nt.length/5|0),ye=0;e:for(Le=0;Le<mr.cells.length;++Le){var vr=mr.cells[Le];for(He=0;He<2;++He){var bt=mr.positions[vr[He]],ht=bt[0],Tt=Math.floor(ht)|0,Pt=ht-Tt,zt=bt[1],Dt=Math.floor(zt)|0,Vt=zt-Dt,Ut=!1;t:for(var Qt=0;Qt<3;++Qt){er[Qt]=0;var hr=(Kt+Qt+1)%3;for(Se=0;Se<2;++Se){var cr=Se?Pt:1-Pt;for(rt=Math.min(Math.max(Tt+Se,0),he[0])|0,Me=0;Me<2;++Me){var lr=Me?Vt:1-Vt;if(pt=Math.min(Math.max(Dt+Me,0),he[1])|0,Qt<2?qe=this._field[hr].get(rt,pt):qe=(this.intensity.get(rt,pt)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(qe)||isNaN(qe)){Ut=!0;break t}var Xe=cr*lr;er[Qt]+=Xe*qe}}}if(!Ut)Nt.push(er[0],er[1],bt[0],bt[1],er[2]),ye+=1;else{if(He>0){for(var Ke=0;Ke<5;++Ke)Nt.pop();ye-=1}continue e}}}$t.push(ye)}this._contourOffsets[Kt]=yt,this._contourCounts[Kt]=$t}var Ot=f.mallocFloat(Nt.length);for(me=0;me<Nt.length;++me)Ot[me]=Nt[me];this._contourBuffer.update(Ot),f.freeFloat(Ot)}},B.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var ee=0;ee<3;++ee)f.freeFloat(this._field[ee].data)},B.highlight=function(ee){var q;if(!ee){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(q=0;q<3;++q)this.enableHighlight[q]?this.highlightLevel[q]=ee.level[q]:this.highlightLevel[q]=-1;var le;for(this.snapToData?le=ee.dataCoordinate:le=ee.position,q=0;q<3;++q)le[q]-=this.objectOffset[q];if(!((!this.enableDynamic[0]||le[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||le[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||le[2]===this.dynamicLevel[2]))){for(var oe=0,he=this.shape,me=f.mallocFloat(12*he[0]*he[1]),Ce=0;Ce<3;++Ce){if(!this.enableDynamic[Ce]){this.dynamicLevel[Ce]=NaN,this._dynamicCounts[Ce]=0;continue}this.dynamicLevel[Ce]=le[Ce];var Ae=(Ce+1)%3,Ue=(Ce+2)%3,Ve=this._field[Ce],Pe=this._field[Ae],be=this._field[Ue],Le=h(Ve,le[Ce]),We=Le.cells,je=Le.positions;for(this._dynamicOffsets[Ce]=oe,q=0;q<We.length;++q)for(var Fe=We[q],Ze=0;Ze<2;++Ze){var ut=je[Fe[Ze]],at=+ut[0],it=at|0,$e=Math.min(it+1,he[0])|0,st=at-it,ct=1-st,vt=+ut[1],St=vt|0,Mt=Math.min(St+1,he[1])|0,Bt=vt-St,Qe=1-Bt,ke=ct*Qe,ze=ct*Bt,Be=st*Qe,Re=st*Bt,we=ke*Pe.get(it,St)+ze*Pe.get(it,Mt)+Be*Pe.get($e,St)+Re*Pe.get($e,Mt),ye=ke*be.get(it,St)+ze*be.get(it,Mt)+Be*be.get($e,St)+Re*be.get($e,Mt);if(isNaN(we)||isNaN(ye)){Ze&&(oe-=1);break}me[2*oe+0]=we,me[2*oe+1]=ye,oe+=1}this._dynamicCounts[Ce]=oe-this._dynamicOffsets[Ce]}this._dynamicBuffer.update(me.subarray(0,2*oe)),f.freeFloat(me)}};function se(ee){var q=ee.gl,le=x(q),oe=w(q),he=M(q),me=o(q),Ce=s(q),Ae=n(q,[{buffer:Ce,size:4,stride:L,offset:0},{buffer:Ce,size:3,stride:L,offset:16},{buffer:Ce,size:3,stride:L,offset:28}]),Ue=s(q),Ve=n(q,[{buffer:Ue,size:4,stride:20,offset:0},{buffer:Ue,size:1,stride:20,offset:16}]),Pe=s(q),be=n(q,[{buffer:Pe,size:2,type:q.FLOAT}]),Le=i(q,1,z,q.RGBA,q.UNSIGNED_BYTE);Le.minFilter=q.LINEAR,Le.magFilter=q.LINEAR;var We=new N(q,[0,0],[[0,0,0],[0,0,0]],le,oe,Ce,Ae,Le,he,me,Ue,Ve,Pe,be,[0,0,0]),je={levels:[[],[],[]]};for(var Fe in ee)je[Fe]=ee[Fe];return je.colormap=je.colormap||"jet",We.update(je),We}},8931:function(v,p,t){var r=t(5050),s=t(7498),n=t(5306);v.exports=o;var i=null,f=null,u=null;function y(L){i=[L.LINEAR,L.NEAREST_MIPMAP_LINEAR,L.LINEAR_MIPMAP_NEAREST,L.LINEAR_MIPMAP_NEAREST],f=[L.NEAREST,L.LINEAR,L.NEAREST_MIPMAP_NEAREST,L.NEAREST_MIPMAP_LINEAR,L.LINEAR_MIPMAP_NEAREST,L.LINEAR_MIPMAP_LINEAR],u=[L.REPEAT,L.CLAMP_TO_EDGE,L.MIRRORED_REPEAT]}function c(L){return typeof HTMLCanvasElement<"u"&&L instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&L instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&L instanceof HTMLVideoElement||typeof ImageData<"u"&&L instanceof ImageData}var T=function(L,m){s.muls(L,m,255)};function h(L,m,F){var I=L.gl,U=I.getParameter(I.MAX_TEXTURE_SIZE);if(m<0||m>U||F<0||F>U)throw new Error("gl-texture2d: Invalid texture size");return L._shape=[m,F],L.bind(),I.texImage2D(I.TEXTURE_2D,0,L.format,m,F,0,L.format,L.type,null),L._mipLevels=[0],L}function l(L,m,F,I,U,z){this.gl=L,this.handle=m,this.format=U,this.type=z,this._shape=[F,I],this._mipLevels=[0],this._magFilter=L.NEAREST,this._minFilter=L.NEAREST,this._wrapS=L.CLAMP_TO_EDGE,this._wrapT=L.CLAMP_TO_EDGE,this._anisoSamples=1;var N=this,B=[this._wrapS,this._wrapT];Object.defineProperties(B,[{get:function(){return N._wrapS},set:function(H){return N.wrapS=H}},{get:function(){return N._wrapT},set:function(H){return N.wrapT=H}}]),this._wrapVector=B;var O=[this._shape[0],this._shape[1]];Object.defineProperties(O,[{get:function(){return N._shape[0]},set:function(H){return N.width=H}},{get:function(){return N._shape[1]},set:function(H){return N.height=H}}]),this._shapeVector=O}var d=l.prototype;Object.defineProperties(d,{minFilter:{get:function(){return this._minFilter},set:function(L){this.bind();var m=this.gl;if(this.type===m.FLOAT&&i.indexOf(L)>=0&&(m.getExtension("OES_texture_float_linear")||(L=m.NEAREST)),f.indexOf(L)<0)throw new Error("gl-texture2d: Unknown filter mode "+L);return m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,L),this._minFilter=L}},magFilter:{get:function(){return this._magFilter},set:function(L){this.bind();var m=this.gl;if(this.type===m.FLOAT&&i.indexOf(L)>=0&&(m.getExtension("OES_texture_float_linear")||(L=m.NEAREST)),f.indexOf(L)<0)throw new Error("gl-texture2d: Unknown filter mode "+L);return m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,L),this._magFilter=L}},mipSamples:{get:function(){return this._anisoSamples},set:function(L){var m=this._anisoSamples;if(this._anisoSamples=Math.max(L,1)|0,m!==this._anisoSamples){var F=this.gl.getExtension("EXT_texture_filter_anisotropic");F&&this.gl.texParameterf(this.gl.TEXTURE_2D,F.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(L){if(this.bind(),u.indexOf(L)<0)throw new Error("gl-texture2d: Unknown wrap mode "+L);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,L),this._wrapS=L}},wrapT:{get:function(){return this._wrapT},set:function(L){if(this.bind(),u.indexOf(L)<0)throw new Error("gl-texture2d: Unknown wrap mode "+L);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,L),this._wrapT=L}},wrap:{get:function(){return this._wrapVector},set:function(L){if(Array.isArray(L)||(L=[L,L]),L.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var m=0;m<2;++m)if(u.indexOf(L[m])<0)throw new Error("gl-texture2d: Unknown wrap mode "+L);this._wrapS=L[0],this._wrapT=L[1];var F=this.gl;return this.bind(),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_S,this._wrapS),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_T,this._wrapT),L}},shape:{get:function(){return this._shapeVector},set:function(L){if(!Array.isArray(L))L=[L|0,L|0];else if(L.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return h(this,L[0]|0,L[1]|0),[L[0]|0,L[1]|0]}},width:{get:function(){return this._shape[0]},set:function(L){return L=L|0,h(this,L,this._shape[1]),L}},height:{get:function(){return this._shape[1]},set:function(L){return L=L|0,h(this,this._shape[0],L),L}}}),d.bind=function(L){var m=this.gl;return L!==void 0&&m.activeTexture(m.TEXTURE0+(L|0)),m.bindTexture(m.TEXTURE_2D,this.handle),L!==void 0?L|0:m.getParameter(m.ACTIVE_TEXTURE)-m.TEXTURE0},d.dispose=function(){this.gl.deleteTexture(this.handle)},d.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var L=Math.min(this._shape[0],this._shape[1]),m=0;L>0;++m,L>>>=1)this._mipLevels.indexOf(m)<0&&this._mipLevels.push(m)},d.setPixels=function(L,m,F,I){var U=this.gl;this.bind(),Array.isArray(m)?(I=F,F=m[1]|0,m=m[0]|0):(m=m||0,F=F||0),I=I||0;var z=c(L)?L:L.raw;if(z){var N=this._mipLevels.indexOf(I)<0;N?(U.texImage2D(U.TEXTURE_2D,0,this.format,this.format,this.type,z),this._mipLevels.push(I)):U.texSubImage2D(U.TEXTURE_2D,I,m,F,this.format,this.type,z)}else if(L.shape&&L.stride&&L.data){if(L.shape.length<2||m+L.shape[1]>this._shape[1]>>>I||F+L.shape[0]>this._shape[0]>>>I||m<0||F<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");S(U,m,F,I,this.format,this.type,this._mipLevels,L)}else throw new Error("gl-texture2d: Unsupported data type")};function E(L,m){return L.length===3?m[2]===1&&m[1]===L[0]*L[2]&&m[0]===L[2]:m[0]===1&&m[1]===L[0]}function S(L,m,F,I,U,z,N,B){var O=B.dtype,H=B.shape.slice();if(H.length<2||H.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var Y=0,J=0,re=E(H,B.stride.slice());if(O==="float32"?Y=L.FLOAT:O==="float64"?(Y=L.FLOAT,re=!1,O="float32"):O==="uint8"?Y=L.UNSIGNED_BYTE:(Y=L.UNSIGNED_BYTE,re=!1,O="uint8"),H.length===2)J=L.LUMINANCE,H=[H[0],H[1],1],B=r(B.data,H,[B.stride[0],B.stride[1],1],B.offset);else if(H.length===3){if(H[2]===1)J=L.ALPHA;else if(H[2]===2)J=L.LUMINANCE_ALPHA;else if(H[2]===3)J=L.RGB;else if(H[2]===4)J=L.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");H[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((J===L.LUMINANCE||J===L.ALPHA)&&(U===L.LUMINANCE||U===L.ALPHA)&&(J=U),J!==U)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var ie=B.size,ce=N.indexOf(I)<0;if(ce&&N.push(I),Y===z&&re)B.offset===0&&B.data.length===ie?ce?L.texImage2D(L.TEXTURE_2D,I,U,H[0],H[1],0,U,z,B.data):L.texSubImage2D(L.TEXTURE_2D,I,m,F,H[0],H[1],U,z,B.data):ce?L.texImage2D(L.TEXTURE_2D,I,U,H[0],H[1],0,U,z,B.data.subarray(B.offset,B.offset+ie)):L.texSubImage2D(L.TEXTURE_2D,I,m,F,H[0],H[1],U,z,B.data.subarray(B.offset,B.offset+ie));else{var Q;z===L.FLOAT?Q=n.mallocFloat32(ie):Q=n.mallocUint8(ie);var j=r(Q,H,[H[2],H[2]*H[0],1]);Y===L.FLOAT&&z===L.UNSIGNED_BYTE?T(j,B):s.assign(j,B),ce?L.texImage2D(L.TEXTURE_2D,I,U,H[0],H[1],0,U,z,Q.subarray(0,ie)):L.texSubImage2D(L.TEXTURE_2D,I,m,F,H[0],H[1],U,z,Q.subarray(0,ie)),z===L.FLOAT?n.freeFloat32(Q):n.freeUint8(Q)}}function P(L){var m=L.createTexture();return L.bindTexture(L.TEXTURE_2D,m),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,L.NEAREST),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,L.NEAREST),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,L.CLAMP_TO_EDGE),m}function x(L,m,F,I,U){var z=L.getParameter(L.MAX_TEXTURE_SIZE);if(m<0||m>z||F<0||F>z)throw new Error("gl-texture2d: Invalid texture shape");if(U===L.FLOAT&&!L.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var N=P(L);return L.texImage2D(L.TEXTURE_2D,0,I,m,F,0,I,U,null),new l(L,N,m,F,I,U)}function M(L,m,F,I,U,z){var N=P(L);return L.texImage2D(L.TEXTURE_2D,0,U,U,z,m),new l(L,N,F,I,U,z)}function w(L,m){var F=m.dtype,I=m.shape.slice(),U=L.getParameter(L.MAX_TEXTURE_SIZE);if(I[0]<0||I[0]>U||I[1]<0||I[1]>U)throw new Error("gl-texture2d: Invalid texture size");var z=E(I,m.stride.slice()),N=0;F==="float32"?N=L.FLOAT:F==="float64"?(N=L.FLOAT,z=!1,F="float32"):F==="uint8"?N=L.UNSIGNED_BYTE:(N=L.UNSIGNED_BYTE,z=!1,F="uint8");var B=0;if(I.length===2)B=L.LUMINANCE,I=[I[0],I[1],1],m=r(m.data,I,[m.stride[0],m.stride[1],1],m.offset);else if(I.length===3)if(I[2]===1)B=L.ALPHA;else if(I[2]===2)B=L.LUMINANCE_ALPHA;else if(I[2]===3)B=L.RGB;else if(I[2]===4)B=L.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");N===L.FLOAT&&!L.getExtension("OES_texture_float")&&(N=L.UNSIGNED_BYTE,z=!1);var O,H,Y=m.size;if(z)m.offset===0&&m.data.length===Y?O=m.data:O=m.data.subarray(m.offset,m.offset+Y);else{var J=[I[2],I[2]*I[0],1];H=n.malloc(Y,F);var re=r(H,I,J,0);(F==="float32"||F==="float64")&&N===L.UNSIGNED_BYTE?T(re,m):s.assign(re,m),O=H.subarray(0,Y)}var ie=P(L);return L.texImage2D(L.TEXTURE_2D,0,B,I[0],I[1],0,B,N,O),z||n.free(H),new l(L,ie,I[0],I[1],B,N)}function o(L){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(i||y(L),typeof arguments[1]=="number")return x(L,arguments[1],arguments[2],arguments[3]||L.RGBA,arguments[4]||L.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return x(L,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||L.RGBA,arguments[3]||L.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var m=arguments[1],F=c(m)?m:m.raw;if(F)return M(L,F,m.width|0,m.height|0,arguments[2]||L.RGBA,arguments[3]||L.UNSIGNED_BYTE);if(m.shape&&m.data&&m.stride)return w(L,m)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},3056:function(v){function p(t,r,s){r?r.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var n=t.getParameter(t.MAX_VERTEX_ATTRIBS)|0;if(s){if(s.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var i=0;i<s.length;++i){var f=s[i];if(f.buffer){var u=f.buffer,y=f.size||4,c=f.type||t.FLOAT,T=!!f.normalized,h=f.stride||0,l=f.offset||0;u.bind(),t.enableVertexAttribArray(i),t.vertexAttribPointer(i,y,c,T,h,l)}else{if(typeof f=="number")t.vertexAttrib1f(i,f);else if(f.length===1)t.vertexAttrib1f(i,f[0]);else if(f.length===2)t.vertexAttrib2f(i,f[0],f[1]);else if(f.length===3)t.vertexAttrib3f(i,f[0],f[1],f[2]);else if(f.length===4)t.vertexAttrib4f(i,f[0],f[1],f[2],f[3]);else throw new Error("gl-vao: Invalid vertex attribute");t.disableVertexAttribArray(i)}}for(;i<n;++i)t.disableVertexAttribArray(i)}else{t.bindBuffer(t.ARRAY_BUFFER,null);for(var i=0;i<n;++i)t.disableVertexAttribArray(i)}}v.exports=p},7220:function(v,p,t){var r=t(3056);function s(i){this.gl=i,this._elements=null,this._attributes=null,this._elementsType=i.UNSIGNED_SHORT}s.prototype.bind=function(){r(this.gl,this._elements,this._attributes)},s.prototype.update=function(i,f,u){this._elements=f,this._attributes=i,this._elementsType=u||this.gl.UNSIGNED_SHORT},s.prototype.dispose=function(){},s.prototype.unbind=function(){},s.prototype.draw=function(i,f,u){u=u||0;var y=this.gl;this._elements?y.drawElements(i,f,this._elementsType,u):y.drawArrays(i,u,f)};function n(i){return new s(i)}v.exports=n},3778:function(v,p,t){var r=t(3056);function s(f,u,y,c,T,h){this.location=f,this.dimension=u,this.a=y,this.b=c,this.c=T,this.d=h}s.prototype.bind=function(f){switch(this.dimension){case 1:f.vertexAttrib1f(this.location,this.a);break;case 2:f.vertexAttrib2f(this.location,this.a,this.b);break;case 3:f.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:f.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function n(f,u,y){this.gl=f,this._ext=u,this.handle=y,this._attribs=[],this._useElements=!1,this._elementsType=f.UNSIGNED_SHORT}n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var f=0;f<this._attribs.length;++f)this._attribs[f].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(f,u,y){if(this.bind(),r(this.gl,u,f),this.unbind(),this._attribs.length=0,f)for(var c=0;c<f.length;++c){var T=f[c];typeof T=="number"?this._attribs.push(new s(c,1,T)):Array.isArray(T)&&this._attribs.push(new s(c,T.length,T[0],T[1],T[2],T[3]))}this._useElements=!!u,this._elementsType=y||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(f,u,y){y=y||0;var c=this.gl;this._useElements?c.drawElements(f,u,this._elementsType,y):c.drawArrays(f,y,u)};function i(f,u){return new n(f,u,u.createVertexArrayOES())}v.exports=i},2944:function(v,p,t){var r=t(3778),s=t(7220);function n(f){this.bindVertexArrayOES=f.bindVertexArray.bind(f),this.createVertexArrayOES=f.createVertexArray.bind(f),this.deleteVertexArrayOES=f.deleteVertexArray.bind(f)}function i(f,u,y,c){var T=f.createVertexArray?new n(f):f.getExtension("OES_vertex_array_object"),h;return T?h=r(f,T):h=s(f),h.update(u,y,c),h}v.exports=i},2598:function(v){v.exports=p;function p(t,r,s){return t[0]=r[0]+s[0],t[1]=r[1]+s[1],t[2]=r[2]+s[2],t}},5879:function(v,p,t){v.exports=i;var r=t(5415),s=t(899),n=t(9305);function i(f,u){var y=r(f[0],f[1],f[2]),c=r(u[0],u[1],u[2]);s(y,y),s(c,c);var T=n(y,c);return T>1?0:Math.acos(T)}},8827:function(v){v.exports=p;function p(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t}},7622:function(v){v.exports=p;function p(t){var r=new Float32Array(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},8782:function(v){v.exports=p;function p(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},8501:function(v){v.exports=p;function p(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},903:function(v){v.exports=p;function p(t,r,s){var n=r[0],i=r[1],f=r[2],u=s[0],y=s[1],c=s[2];return t[0]=i*c-f*y,t[1]=f*u-n*c,t[2]=n*y-i*u,t}},5981:function(v,p,t){v.exports=t(8288)},8288:function(v){v.exports=p;function p(t,r){var s=r[0]-t[0],n=r[1]-t[1],i=r[2]-t[2];return Math.sqrt(s*s+n*n+i*i)}},8629:function(v,p,t){v.exports=t(7979)},7979:function(v){v.exports=p;function p(t,r,s){return t[0]=r[0]/s[0],t[1]=r[1]/s[1],t[2]=r[2]/s[2],t}},9305:function(v){v.exports=p;function p(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}},154:function(v){v.exports=1e-6},4932:function(v,p,t){v.exports=s;var r=t(154);function s(n,i){var f=n[0],u=n[1],y=n[2],c=i[0],T=i[1],h=i[2];return Math.abs(f-c)<=r*Math.max(1,Math.abs(f),Math.abs(c))&&Math.abs(u-T)<=r*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(y-h)<=r*Math.max(1,Math.abs(y),Math.abs(h))}},5777:function(v){v.exports=p;function p(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]}},3306:function(v){v.exports=p;function p(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t}},7447:function(v,p,t){v.exports=s;var r=t(8501)();function s(n,i,f,u,y,c){var T,h;for(i||(i=3),f||(f=0),u?h=Math.min(u*i+f,n.length):h=n.length,T=f;T<h;T+=i)r[0]=n[T],r[1]=n[T+1],r[2]=n[T+2],y(r,r,c),n[T]=r[0],n[T+1]=r[1],n[T+2]=r[2];return n}},5415:function(v){v.exports=p;function p(t,r,s){var n=new Float32Array(3);return n[0]=t,n[1]=r,n[2]=s,n}},2858:function(v,p,t){v.exports={EPSILON:t(154),create:t(8501),clone:t(7622),angle:t(5879),fromValues:t(5415),copy:t(8782),set:t(831),equals:t(4932),exactEquals:t(5777),add:t(2598),subtract:t(911),sub:t(8921),multiply:t(105),mul:t(5733),divide:t(7979),div:t(8629),min:t(3605),max:t(1716),floor:t(3306),ceil:t(8827),round:t(1624),scale:t(5685),scaleAndAdd:t(6722),distance:t(8288),dist:t(5981),squaredDistance:t(6403),sqrDist:t(5294),length:t(4693),len:t(1468),squaredLength:t(4337),sqrLen:t(3303),negate:t(435),inverse:t(2073),normalize:t(899),dot:t(9305),cross:t(903),lerp:t(1868),random:t(6660),transformMat4:t(3255),transformMat3:t(9908),transformQuat:t(6568),rotateX:t(392),rotateY:t(3222),rotateZ:t(3388),forEach:t(7447)}},2073:function(v){v.exports=p;function p(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t}},1468:function(v,p,t){v.exports=t(4693)},4693:function(v){v.exports=p;function p(t){var r=t[0],s=t[1],n=t[2];return Math.sqrt(r*r+s*s+n*n)}},1868:function(v){v.exports=p;function p(t,r,s,n){var i=r[0],f=r[1],u=r[2];return t[0]=i+n*(s[0]-i),t[1]=f+n*(s[1]-f),t[2]=u+n*(s[2]-u),t}},1716:function(v){v.exports=p;function p(t,r,s){return t[0]=Math.max(r[0],s[0]),t[1]=Math.max(r[1],s[1]),t[2]=Math.max(r[2],s[2]),t}},3605:function(v){v.exports=p;function p(t,r,s){return t[0]=Math.min(r[0],s[0]),t[1]=Math.min(r[1],s[1]),t[2]=Math.min(r[2],s[2]),t}},5733:function(v,p,t){v.exports=t(105)},105:function(v){v.exports=p;function p(t,r,s){return t[0]=r[0]*s[0],t[1]=r[1]*s[1],t[2]=r[2]*s[2],t}},435:function(v){v.exports=p;function p(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t}},899:function(v){v.exports=p;function p(t,r){var s=r[0],n=r[1],i=r[2],f=s*s+n*n+i*i;return f>0&&(f=1/Math.sqrt(f),t[0]=r[0]*f,t[1]=r[1]*f,t[2]=r[2]*f),t}},6660:function(v){v.exports=p;function p(t,r){r=r||1;var s=Math.random()*2*Math.PI,n=Math.random()*2-1,i=Math.sqrt(1-n*n)*r;return t[0]=Math.cos(s)*i,t[1]=Math.sin(s)*i,t[2]=n*r,t}},392:function(v){v.exports=p;function p(t,r,s,n){var i=s[1],f=s[2],u=r[1]-i,y=r[2]-f,c=Math.sin(n),T=Math.cos(n);return t[0]=r[0],t[1]=i+u*T-y*c,t[2]=f+u*c+y*T,t}},3222:function(v){v.exports=p;function p(t,r,s,n){var i=s[0],f=s[2],u=r[0]-i,y=r[2]-f,c=Math.sin(n),T=Math.cos(n);return t[0]=i+y*c+u*T,t[1]=r[1],t[2]=f+y*T-u*c,t}},3388:function(v){v.exports=p;function p(t,r,s,n){var i=s[0],f=s[1],u=r[0]-i,y=r[1]-f,c=Math.sin(n),T=Math.cos(n);return t[0]=i+u*T-y*c,t[1]=f+u*c+y*T,t[2]=r[2],t}},1624:function(v){v.exports=p;function p(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t}},5685:function(v){v.exports=p;function p(t,r,s){return t[0]=r[0]*s,t[1]=r[1]*s,t[2]=r[2]*s,t}},6722:function(v){v.exports=p;function p(t,r,s,n){return t[0]=r[0]+s[0]*n,t[1]=r[1]+s[1]*n,t[2]=r[2]+s[2]*n,t}},831:function(v){v.exports=p;function p(t,r,s,n){return t[0]=r,t[1]=s,t[2]=n,t}},5294:function(v,p,t){v.exports=t(6403)},3303:function(v,p,t){v.exports=t(4337)},6403:function(v){v.exports=p;function p(t,r){var s=r[0]-t[0],n=r[1]-t[1],i=r[2]-t[2];return s*s+n*n+i*i}},4337:function(v){v.exports=p;function p(t){var r=t[0],s=t[1],n=t[2];return r*r+s*s+n*n}},8921:function(v,p,t){v.exports=t(911)},911:function(v){v.exports=p;function p(t,r,s){return t[0]=r[0]-s[0],t[1]=r[1]-s[1],t[2]=r[2]-s[2],t}},9908:function(v){v.exports=p;function p(t,r,s){var n=r[0],i=r[1],f=r[2];return t[0]=n*s[0]+i*s[3]+f*s[6],t[1]=n*s[1]+i*s[4]+f*s[7],t[2]=n*s[2]+i*s[5]+f*s[8],t}},3255:function(v){v.exports=p;function p(t,r,s){var n=r[0],i=r[1],f=r[2],u=s[3]*n+s[7]*i+s[11]*f+s[15];return u=u||1,t[0]=(s[0]*n+s[4]*i+s[8]*f+s[12])/u,t[1]=(s[1]*n+s[5]*i+s[9]*f+s[13])/u,t[2]=(s[2]*n+s[6]*i+s[10]*f+s[14])/u,t}},6568:function(v){v.exports=p;function p(t,r,s){var n=r[0],i=r[1],f=r[2],u=s[0],y=s[1],c=s[2],T=s[3],h=T*n+y*f-c*i,l=T*i+c*n-u*f,d=T*f+u*i-y*n,E=-u*n-y*i-c*f;return t[0]=h*T+E*-u+l*-c-d*-y,t[1]=l*T+E*-y+d*-u-h*-c,t[2]=d*T+E*-c+h*-y-l*-u,t}},3433:function(v){v.exports=p;function p(t,r,s){return t[0]=r[0]+s[0],t[1]=r[1]+s[1],t[2]=r[2]+s[2],t[3]=r[3]+s[3],t}},1413:function(v){v.exports=p;function p(t){var r=new Float32Array(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},3470:function(v){v.exports=p;function p(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},5313:function(v){v.exports=p;function p(){var t=new Float32Array(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}},5446:function(v){v.exports=p;function p(t,r){var s=r[0]-t[0],n=r[1]-t[1],i=r[2]-t[2],f=r[3]-t[3];return Math.sqrt(s*s+n*n+i*i+f*f)}},205:function(v){v.exports=p;function p(t,r,s){return t[0]=r[0]/s[0],t[1]=r[1]/s[1],t[2]=r[2]/s[2],t[3]=r[3]/s[3],t}},4242:function(v){v.exports=p;function p(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]}},5680:function(v){v.exports=p;function p(t,r,s,n){var i=new Float32Array(4);return i[0]=t,i[1]=r,i[2]=s,i[3]=n,i}},4020:function(v,p,t){v.exports={create:t(5313),clone:t(1413),fromValues:t(5680),copy:t(3470),set:t(6453),add:t(3433),subtract:t(2705),multiply:t(746),divide:t(205),min:t(2170),max:t(3030),scale:t(5510),scaleAndAdd:t(4224),distance:t(5446),squaredDistance:t(1542),length:t(8177),squaredLength:t(9037),negate:t(6459),inverse:t(8057),normalize:t(381),dot:t(4242),lerp:t(8746),random:t(3770),transformMat4:t(6342),transformQuat:t(5022)}},8057:function(v){v.exports=p;function p(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t}},8177:function(v){v.exports=p;function p(t){var r=t[0],s=t[1],n=t[2],i=t[3];return Math.sqrt(r*r+s*s+n*n+i*i)}},8746:function(v){v.exports=p;function p(t,r,s,n){var i=r[0],f=r[1],u=r[2],y=r[3];return t[0]=i+n*(s[0]-i),t[1]=f+n*(s[1]-f),t[2]=u+n*(s[2]-u),t[3]=y+n*(s[3]-y),t}},3030:function(v){v.exports=p;function p(t,r,s){return t[0]=Math.max(r[0],s[0]),t[1]=Math.max(r[1],s[1]),t[2]=Math.max(r[2],s[2]),t[3]=Math.max(r[3],s[3]),t}},2170:function(v){v.exports=p;function p(t,r,s){return t[0]=Math.min(r[0],s[0]),t[1]=Math.min(r[1],s[1]),t[2]=Math.min(r[2],s[2]),t[3]=Math.min(r[3],s[3]),t}},746:function(v){v.exports=p;function p(t,r,s){return t[0]=r[0]*s[0],t[1]=r[1]*s[1],t[2]=r[2]*s[2],t[3]=r[3]*s[3],t}},6459:function(v){v.exports=p;function p(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t}},381:function(v){v.exports=p;function p(t,r){var s=r[0],n=r[1],i=r[2],f=r[3],u=s*s+n*n+i*i+f*f;return u>0&&(u=1/Math.sqrt(u),t[0]=s*u,t[1]=n*u,t[2]=i*u,t[3]=f*u),t}},3770:function(v,p,t){var r=t(381),s=t(5510);v.exports=n;function n(i,f){return f=f||1,i[0]=Math.random(),i[1]=Math.random(),i[2]=Math.random(),i[3]=Math.random(),r(i,i),s(i,i,f),i}},5510:function(v){v.exports=p;function p(t,r,s){return t[0]=r[0]*s,t[1]=r[1]*s,t[2]=r[2]*s,t[3]=r[3]*s,t}},4224:function(v){v.exports=p;function p(t,r,s,n){return t[0]=r[0]+s[0]*n,t[1]=r[1]+s[1]*n,t[2]=r[2]+s[2]*n,t[3]=r[3]+s[3]*n,t}},6453:function(v){v.exports=p;function p(t,r,s,n,i){return t[0]=r,t[1]=s,t[2]=n,t[3]=i,t}},1542:function(v){v.exports=p;function p(t,r){var s=r[0]-t[0],n=r[1]-t[1],i=r[2]-t[2],f=r[3]-t[3];return s*s+n*n+i*i+f*f}},9037:function(v){v.exports=p;function p(t){var r=t[0],s=t[1],n=t[2],i=t[3];return r*r+s*s+n*n+i*i}},2705:function(v){v.exports=p;function p(t,r,s){return t[0]=r[0]-s[0],t[1]=r[1]-s[1],t[2]=r[2]-s[2],t[3]=r[3]-s[3],t}},6342:function(v){v.exports=p;function p(t,r,s){var n=r[0],i=r[1],f=r[2],u=r[3];return t[0]=s[0]*n+s[4]*i+s[8]*f+s[12]*u,t[1]=s[1]*n+s[5]*i+s[9]*f+s[13]*u,t[2]=s[2]*n+s[6]*i+s[10]*f+s[14]*u,t[3]=s[3]*n+s[7]*i+s[11]*f+s[15]*u,t}},5022:function(v){v.exports=p;function p(t,r,s){var n=r[0],i=r[1],f=r[2],u=s[0],y=s[1],c=s[2],T=s[3],h=T*n+y*f-c*i,l=T*i+c*n-u*f,d=T*f+u*i-y*n,E=-u*n-y*i-c*f;return t[0]=h*T+E*-u+l*-c-d*-y,t[1]=l*T+E*-y+d*-u-h*-c,t[2]=d*T+E*-c+h*-y-l*-u,t[3]=r[3],t}},9365:function(v,p,t){var r=t(8096),s=t(7896);v.exports=n;function n(i){for(var f=Array.isArray(i)?i:r(i),u=0;u<f.length;u++){var y=f[u];if(y.type==="preprocessor"){var c=y.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(c&&c[2]){var T=c[1],h=c[2];return(T?s(h):h).trim()}}}}},3193:function(v,p,t){v.exports=m;var r=t(399),s=t(9746),n=t(9525),i=t(9458),f=t(3585),u=999,y=9999,c=0,T=1,h=2,l=3,d=4,E=5,S=6,P=7,x=8,M=9,w=10,o=11,L=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function m(F){var I=0,U=0,z=u,N,B,O=[],H=[],Y=1,J=0,re=0,ie=!1,ce=!1,Q="",j;F=F||{};var Z=n,$=r;F.version==="300 es"&&(Z=f,$=i);for(var te={},se={},I=0;I<Z.length;I++)te[Z[I]]=!0;for(var I=0;I<$.length;I++)se[$[I]]=!0;return function(je){return H=[],je!==null?q(je):le()};function ee(je){je.length&&H.push({type:L[z],data:je,position:re,line:Y,column:J})}function q(je){I=0,je.toString&&(je=je.toString()),Q+=je.replace(/\r\n/g,`
`),j=Q.length;for(var Fe;N=Q[I],I<j;){switch(Fe=I,z){case c:I=Ae();break;case T:I=Ce();break;case h:I=me();break;case l:I=Ue();break;case d:I=be();break;case o:I=Pe();break;case E:I=Le();break;case y:I=We();break;case M:I=he();break;case u:I=oe();break}if(Fe!==I)switch(Q[Fe]){case`
`:J=0,++Y;break;default:++J;break}}return U+=I,Q=Q.slice(I),H}function le(je){return O.length&&ee(O.join("")),z=w,ee("(eof)"),H}function oe(){return O=O.length?[]:O,B==="/"&&N==="*"?(re=U+I-1,z=c,B=N,I+1):B==="/"&&N==="/"?(re=U+I-1,z=T,B=N,I+1):N==="#"?(z=h,re=U+I,I):/\s/.test(N)?(z=M,re=U+I,I):(ie=/\d/.test(N),ce=/[^\w_]/.test(N),re=U+I,z=ie?d:ce?l:y,I)}function he(){return/[^\s]/g.test(N)?(ee(O.join("")),z=u,I):(O.push(N),B=N,I+1)}function me(){return(N==="\r"||N===`
`)&&B!=="\\"?(ee(O.join("")),z=u,I):(O.push(N),B=N,I+1)}function Ce(){return me()}function Ae(){return N==="/"&&B==="*"?(O.push(N),ee(O.join("")),z=u,I+1):(O.push(N),B=N,I+1)}function Ue(){if(B==="."&&/\d/.test(N))return z=E,I;if(B==="/"&&N==="*")return z=c,I;if(B==="/"&&N==="/")return z=T,I;if(N==="."&&O.length){for(;Ve(O););return z=E,I}if(N===";"||N===")"||N==="("){if(O.length)for(;Ve(O););return ee(N),z=u,I+1}var je=O.length===2&&N!=="=";if(/[\w_\d\s]/.test(N)||je){for(;Ve(O););return z=u,I}return O.push(N),B=N,I+1}function Ve(je){var Fe=0,Ze,ut;do{if(Ze=s.indexOf(je.slice(0,je.length+Fe).join("")),ut=s[Ze],Ze===-1){if(Fe--+je.length>0)continue;ut=je.slice(0,1).join("")}return ee(ut),re+=ut.length,O=O.slice(ut.length),O.length}while(1)}function Pe(){return/[^a-fA-F0-9]/.test(N)?(ee(O.join("")),z=u,I):(O.push(N),B=N,I+1)}function be(){return N==="."||/[eE]/.test(N)?(O.push(N),z=E,B=N,I+1):N==="x"&&O.length===1&&O[0]==="0"?(z=o,O.push(N),B=N,I+1):/[^\d]/.test(N)?(ee(O.join("")),z=u,I):(O.push(N),B=N,I+1)}function Le(){return N==="f"&&(O.push(N),B=N,I+=1),/[eE]/.test(N)||(N==="-"||N==="+")&&/[eE]/.test(B)?(O.push(N),B=N,I+1):/[^\d]/.test(N)?(ee(O.join("")),z=u,I):(O.push(N),B=N,I+1)}function We(){if(/[^\d\w_]/.test(N)){var je=O.join("");return se[je]?z=x:te[je]?z=P:z=S,ee(O.join("")),z=u,I}return O.push(N),B=N,I+1}}},3585:function(v,p,t){var r=t(9525);r=r.slice().filter(function(s){return!/^(gl\_|texture)/.test(s)}),v.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(v,p,t){var r=t(399);v.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(v,p,t){var r=t(3193);v.exports=s;function s(n,i){var f=r(i),u=[];return u=u.concat(f(n)),u=u.concat(f(null)),u}},6832:function(v){v.exports=function(p){typeof p=="string"&&(p=[p]);for(var t=[].slice.call(arguments,1),r=[],s=0;s<p.length-1;s++)r.push(p[s],t[s]||"");return r.push(p[s]),r.join("")}},5233:function(v,p,t){var r=t(4846);function s(){var n=!1;try{var i=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,i),window.removeEventListener("test",null,i)}catch{n=!1}return n}v.exports=r&&s()},2183:function(v,p,t){v.exports=l;var r=t(417),s=t(8211).H;function n(d,E,S){this.vertices=d,this.adjacent=E,this.boundary=S,this.lastVisited=-1}n.prototype.flip=function(){var d=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=d;var E=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=E};function i(d,E,S){this.vertices=d,this.cell=E,this.index=S}function f(d,E){return s(d.vertices,E.vertices)}function u(d){return function(){var E=this.tuple;return d.apply(this,E)}}function y(d){var E=r[d+1];return E||(E=r),u(E)}var c=[];function T(d,E,S){this.dimension=d,this.vertices=E,this.simplices=S,this.interior=S.filter(function(M){return!M.boundary}),this.tuple=new Array(d+1);for(var P=0;P<=d;++P)this.tuple[P]=this.vertices[P];var x=c[d];x||(x=c[d]=y(d)),this.orient=x}var h=T.prototype;h.handleBoundaryDegeneracy=function(d,E){var S=this.dimension,P=this.vertices.length-1,x=this.tuple,M=this.vertices,w=[d];for(d.lastVisited=-P;w.length>0;){d=w.pop();for(var o=d.adjacent,L=0;L<=S;++L){var m=o[L];if(!(!m.boundary||m.lastVisited<=-P)){for(var F=m.vertices,I=0;I<=S;++I){var U=F[I];U<0?x[I]=E:x[I]=M[U]}var z=this.orient();if(z>0)return m;m.lastVisited=-P,z===0&&w.push(m)}}}return null},h.walk=function(d,E){var S=this.vertices.length-1,P=this.dimension,x=this.vertices,M=this.tuple,w=E?this.interior.length*Math.random()|0:this.interior.length-1,o=this.interior[w];e:for(;!o.boundary;){for(var L=o.vertices,m=o.adjacent,F=0;F<=P;++F)M[F]=x[L[F]];o.lastVisited=S;for(var F=0;F<=P;++F){var I=m[F];if(!(I.lastVisited>=S)){var U=M[F];M[F]=d;var z=this.orient();if(M[F]=U,z<0){o=I;continue e}else I.boundary?I.lastVisited=-S:I.lastVisited=S}}return}return o},h.addPeaks=function(d,E){var S=this.vertices.length-1,P=this.dimension,x=this.vertices,M=this.tuple,w=this.interior,o=this.simplices,L=[E];E.lastVisited=S,E.vertices[E.vertices.indexOf(-1)]=S,E.boundary=!1,w.push(E);for(var m=[];L.length>0;){var E=L.pop(),F=E.vertices,I=E.adjacent,U=F.indexOf(S);if(!(U<0)){for(var z=0;z<=P;++z)if(z!==U){var N=I[z];if(!(!N.boundary||N.lastVisited>=S)){var B=N.vertices;if(N.lastVisited!==-S){for(var O=0,H=0;H<=P;++H)B[H]<0?(O=H,M[H]=d):M[H]=x[B[H]];var Y=this.orient();if(Y>0){B[O]=S,N.boundary=!1,w.push(N),L.push(N),N.lastVisited=S;continue}else N.lastVisited=-S}var J=N.adjacent,re=F.slice(),ie=I.slice(),ce=new n(re,ie,!0);o.push(ce);var Q=J.indexOf(E);if(!(Q<0)){J[Q]=ce,ie[U]=N,re[z]=-1,ie[z]=E,I[z]=ce,ce.flip();for(var H=0;H<=P;++H){var j=re[H];if(!(j<0||j===S)){for(var Z=new Array(P-1),$=0,te=0;te<=P;++te){var se=re[te];se<0||te===H||(Z[$++]=se)}m.push(new i(Z,ce,H))}}}}}}}m.sort(f);for(var z=0;z+1<m.length;z+=2){var ee=m[z],q=m[z+1],le=ee.index,oe=q.index;le<0||oe<0||(ee.cell.adjacent[ee.index]=q.cell,q.cell.adjacent[q.index]=ee.cell)}},h.insert=function(d,E){var S=this.vertices;S.push(d);var P=this.walk(d,E);if(P){for(var x=this.dimension,M=this.tuple,w=0;w<=x;++w){var o=P.vertices[w];o<0?M[w]=d:M[w]=S[o]}var L=this.orient(M);L<0||L===0&&(P=this.handleBoundaryDegeneracy(P,d),!P)||this.addPeaks(d,P)}},h.boundary=function(){for(var d=this.dimension,E=[],S=this.simplices,P=S.length,x=0;x<P;++x){var M=S[x];if(M.boundary){for(var w=new Array(d),o=M.vertices,L=0,m=0,F=0;F<=d;++F)o[F]>=0?w[L++]=o[F]:m=F&1;if(m===(d&1)){var I=w[0];w[0]=w[1],w[1]=I}E.push(w)}}return E};function l(d,E){var S=d.length;if(S===0)throw new Error("Must have at least d+1 points");var P=d[0].length;if(S<=P)throw new Error("Must input at least d+1 points");var x=d.slice(0,P+1),M=r.apply(void 0,x);if(M===0)throw new Error("Input not in general position");for(var w=new Array(P+1),o=0;o<=P;++o)w[o]=o;M<0&&(w[0]=1,w[1]=0);for(var L=new n(w,new Array(P+1),!1),m=L.adjacent,F=new Array(P+2),o=0;o<=P;++o){for(var I=w.slice(),U=0;U<=P;++U)U===o&&(I[U]=-1);var z=I[0];I[0]=I[1],I[1]=z;var N=new n(I,new Array(P+1),!0);m[o]=N,F[o]=N}F[P+1]=L;for(var o=0;o<=P;++o)for(var I=m[o].vertices,B=m[o].adjacent,U=0;U<=P;++U){var O=I[U];if(O<0){B[U]=L;continue}for(var H=0;H<=P;++H)m[H].vertices.indexOf(O)<0&&(B[U]=m[H])}for(var Y=new T(P,x,F),J=!!E,o=P+1;o<S;++o)Y.insert(d[o],J);return Y.boundary()}},9014:function(v,p,t){var r=t(5070),s=0,n=1,i=2;v.exports=L;function f(m,F,I,U,z){this.mid=m,this.left=F,this.right=I,this.leftPoints=U,this.rightPoints=z,this.count=(F?F.count:0)+(I?I.count:0)+U.length}var u=f.prototype;function y(m,F){m.mid=F.mid,m.left=F.left,m.right=F.right,m.leftPoints=F.leftPoints,m.rightPoints=F.rightPoints,m.count=F.count}function c(m,F){var I=M(F);m.mid=I.mid,m.left=I.left,m.right=I.right,m.leftPoints=I.leftPoints,m.rightPoints=I.rightPoints,m.count=I.count}function T(m,F){var I=m.intervals([]);I.push(F),c(m,I)}function h(m,F){var I=m.intervals([]),U=I.indexOf(F);return U<0?s:(I.splice(U,1),c(m,I),n)}u.intervals=function(m){return m.push.apply(m,this.leftPoints),this.left&&this.left.intervals(m),this.right&&this.right.intervals(m),m},u.insert=function(m){var F=this.count-this.leftPoints.length;if(this.count+=1,m[1]<this.mid)this.left?4*(this.left.count+1)>3*(F+1)?T(this,m):this.left.insert(m):this.left=M([m]);else if(m[0]>this.mid)this.right?4*(this.right.count+1)>3*(F+1)?T(this,m):this.right.insert(m):this.right=M([m]);else{var I=r.ge(this.leftPoints,m,P),U=r.ge(this.rightPoints,m,x);this.leftPoints.splice(I,0,m),this.rightPoints.splice(U,0,m)}},u.remove=function(m){var F=this.count-this.leftPoints;if(m[1]<this.mid){if(!this.left)return s;var I=this.right?this.right.count:0;if(4*I>3*(F-1))return h(this,m);var U=this.left.remove(m);return U===i?(this.left=null,this.count-=1,n):(U===n&&(this.count-=1),U)}else if(m[0]>this.mid){if(!this.right)return s;var z=this.left?this.left.count:0;if(4*z>3*(F-1))return h(this,m);var U=this.right.remove(m);return U===i?(this.right=null,this.count-=1,n):(U===n&&(this.count-=1),U)}else{if(this.count===1)return this.leftPoints[0]===m?i:s;if(this.leftPoints.length===1&&this.leftPoints[0]===m){if(this.left&&this.right){for(var N=this,B=this.left;B.right;)N=B,B=B.right;if(N===this)B.right=this.right;else{var O=this.left,U=this.right;N.count-=B.count,N.right=B.left,B.left=O,B.right=U}y(this,B),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?y(this,this.left):y(this,this.right);return n}for(var O=r.ge(this.leftPoints,m,P);O<this.leftPoints.length&&this.leftPoints[O][0]===m[0];++O)if(this.leftPoints[O]===m){this.count-=1,this.leftPoints.splice(O,1);for(var U=r.ge(this.rightPoints,m,x);U<this.rightPoints.length&&this.rightPoints[U][1]===m[1];++U)if(this.rightPoints[U]===m)return this.rightPoints.splice(U,1),n}return s}};function l(m,F,I){for(var U=0;U<m.length&&m[U][0]<=F;++U){var z=I(m[U]);if(z)return z}}function d(m,F,I){for(var U=m.length-1;U>=0&&m[U][1]>=F;--U){var z=I(m[U]);if(z)return z}}function E(m,F){for(var I=0;I<m.length;++I){var U=F(m[I]);if(U)return U}}u.queryPoint=function(m,F){if(m<this.mid){if(this.left){var I=this.left.queryPoint(m,F);if(I)return I}return l(this.leftPoints,m,F)}else if(m>this.mid){if(this.right){var I=this.right.queryPoint(m,F);if(I)return I}return d(this.rightPoints,m,F)}else return E(this.leftPoints,F)},u.queryInterval=function(m,F,I){if(m<this.mid&&this.left){var U=this.left.queryInterval(m,F,I);if(U)return U}if(F>this.mid&&this.right){var U=this.right.queryInterval(m,F,I);if(U)return U}return F<this.mid?l(this.leftPoints,F,I):m>this.mid?d(this.rightPoints,m,I):E(this.leftPoints,I)};function S(m,F){return m-F}function P(m,F){var I=m[0]-F[0];return I||m[1]-F[1]}function x(m,F){var I=m[1]-F[1];return I||m[0]-F[0]}function M(m){if(m.length===0)return null;for(var F=[],I=0;I<m.length;++I)F.push(m[I][0],m[I][1]);F.sort(S);for(var U=F[F.length>>1],z=[],N=[],B=[],I=0;I<m.length;++I){var O=m[I];O[1]<U?z.push(O):U<O[0]?N.push(O):B.push(O)}var H=B,Y=B.slice();return H.sort(P),Y.sort(x),new f(U,M(z),M(N),H,Y)}function w(m){this.root=m}var o=w.prototype;o.insert=function(m){this.root?this.root.insert(m):this.root=new f(m[0],null,null,[m],[m])},o.remove=function(m){if(this.root){var F=this.root.remove(m);return F===i&&(this.root=null),F!==s}return!1},o.queryPoint=function(m,F){if(this.root)return this.root.queryPoint(m,F)},o.queryInterval=function(m,F,I){if(m<=F&&this.root)return this.root.queryInterval(m,F,I)},Object.defineProperty(o,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(o,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function L(m){return!m||m.length===0?new w(null):new w(M(m))}},9560:function(v){function p(t){for(var r=new Array(t),s=0;s<t;++s)r[s]=s;return r}v.exports=p},4846:function(v){v.exports=!0},4780:function(v){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/v.exports=function(r){return r!=null&&(p(r)||t(r)||!!r._isBuffer)};function p(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function t(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&p(r.slice(0,0))}},3596:function(v){v.exports=function(p){for(var t=p.length,r,s=0;s<t;s++)if(r=p.charCodeAt(s),(r<9||r>13)&&r!==32&&r!==133&&r!==160&&r!==5760&&r!==6158&&(r<8192||r>8205)&&r!==8232&&r!==8233&&r!==8239&&r!==8287&&r!==8288&&r!==12288&&r!==65279)return!1;return!0}},3578:function(v){function p(t,r,s){return t*(1-s)+r*s}v.exports=p},7191:function(v,p,t){var r=t(4690),s=t(9823),n=t(7332),i=t(7787),f=t(7437),u=t(2142),y={length:t(4693),normalize:t(899),dot:t(9305),cross:t(903)},c=s(),T=s(),h=[0,0,0,0],l=[[0,0,0],[0,0,0],[0,0,0]],d=[0,0,0];v.exports=function(M,w,o,L,m,F){if(w||(w=[0,0,0]),o||(o=[0,0,0]),L||(L=[0,0,0]),m||(m=[0,0,0,1]),F||(F=[0,0,0,1]),!r(c,M)||(n(T,c),T[3]=0,T[7]=0,T[11]=0,T[15]=1,Math.abs(i(T)<1e-8)))return!1;var I=c[3],U=c[7],z=c[11],N=c[12],B=c[13],O=c[14],H=c[15];if(I!==0||U!==0||z!==0){h[0]=I,h[1]=U,h[2]=z,h[3]=H;var Y=f(T,T);if(!Y)return!1;u(T,T),E(m,h,T)}else m[0]=m[1]=m[2]=0,m[3]=1;if(w[0]=N,w[1]=B,w[2]=O,S(l,c),o[0]=y.length(l[0]),y.normalize(l[0],l[0]),L[0]=y.dot(l[0],l[1]),P(l[1],l[1],l[0],1,-L[0]),o[1]=y.length(l[1]),y.normalize(l[1],l[1]),L[0]/=o[1],L[1]=y.dot(l[0],l[2]),P(l[2],l[2],l[0],1,-L[1]),L[2]=y.dot(l[1],l[2]),P(l[2],l[2],l[1],1,-L[2]),o[2]=y.length(l[2]),y.normalize(l[2],l[2]),L[1]/=o[2],L[2]/=o[2],y.cross(d,l[1],l[2]),y.dot(l[0],d)<0)for(var J=0;J<3;J++)o[J]*=-1,l[J][0]*=-1,l[J][1]*=-1,l[J][2]*=-1;return F[0]=.5*Math.sqrt(Math.max(1+l[0][0]-l[1][1]-l[2][2],0)),F[1]=.5*Math.sqrt(Math.max(1-l[0][0]+l[1][1]-l[2][2],0)),F[2]=.5*Math.sqrt(Math.max(1-l[0][0]-l[1][1]+l[2][2],0)),F[3]=.5*Math.sqrt(Math.max(1+l[0][0]+l[1][1]+l[2][2],0)),l[2][1]>l[1][2]&&(F[0]=-F[0]),l[0][2]>l[2][0]&&(F[1]=-F[1]),l[1][0]>l[0][1]&&(F[2]=-F[2]),!0};function E(x,M,w){var o=M[0],L=M[1],m=M[2],F=M[3];return x[0]=w[0]*o+w[4]*L+w[8]*m+w[12]*F,x[1]=w[1]*o+w[5]*L+w[9]*m+w[13]*F,x[2]=w[2]*o+w[6]*L+w[10]*m+w[14]*F,x[3]=w[3]*o+w[7]*L+w[11]*m+w[15]*F,x}function S(x,M){x[0][0]=M[0],x[0][1]=M[1],x[0][2]=M[2],x[1][0]=M[4],x[1][1]=M[5],x[1][2]=M[6],x[2][0]=M[8],x[2][1]=M[9],x[2][2]=M[10]}function P(x,M,w,o,L){x[0]=M[0]*o+w[0]*L,x[1]=M[1]*o+w[1]*L,x[2]=M[2]*o+w[2]*L}},4690:function(v){v.exports=function(t,r){var s=r[15];if(s===0)return!1;for(var n=1/s,i=0;i<16;i++)t[i]=r[i]*n;return!0}},7649:function(v,p,t){var r=t(1868),s=t(1102),n=t(7191),i=t(7787),f=t(1116),u=h(),y=h(),c=h();v.exports=T;function T(E,S,P,x){if(i(S)===0||i(P)===0)return!1;var M=n(S,u.translate,u.scale,u.skew,u.perspective,u.quaternion),w=n(P,y.translate,y.scale,y.skew,y.perspective,y.quaternion);return!M||!w?!1:(r(c.translate,u.translate,y.translate,x),r(c.skew,u.skew,y.skew,x),r(c.scale,u.scale,y.scale,x),r(c.perspective,u.perspective,y.perspective,x),f(c.quaternion,u.quaternion,y.quaternion,x),s(E,c.translate,c.scale,c.skew,c.perspective,c.quaternion),!0)}function h(){return{translate:l(),scale:l(1),skew:l(),perspective:d(),quaternion:d()}}function l(E){return[E||0,E||0,E||0]}function d(){return[0,0,0,1]}},1102:function(v,p,t){var r={identity:t(9947),translate:t(998),multiply:t(104),create:t(9823),scale:t(3668),fromRotationTranslation:t(7280)};r.create();var s=r.create();v.exports=function(i,f,u,y,c,T){return r.identity(i),r.fromRotationTranslation(i,T,f),i[3]=c[0],i[7]=c[1],i[11]=c[2],i[15]=c[3],r.identity(s),y[2]!==0&&(s[9]=y[2],r.multiply(i,i,s)),y[1]!==0&&(s[9]=0,s[8]=y[1],r.multiply(i,i,s)),y[0]!==0&&(s[8]=0,s[4]=y[0],r.multiply(i,i,s)),r.scale(i,i,u),i}},9298:function(v,p,t){var r=t(5070),s=t(7649),n=t(7437),i=t(6109),f=t(7115),u=t(5240),y=t(3012),c=t(998);t(3668);var T=t(899),h=[0,0,0];v.exports=S;function l(P){this._components=P.slice(),this._time=[0],this.prevMatrix=P.slice(),this.nextMatrix=P.slice(),this.computedMatrix=P.slice(),this.computedInverse=P.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var d=l.prototype;d.recalcMatrix=function(P){var x=this._time,M=r.le(x,P),w=this.computedMatrix;if(!(M<0)){var o=this._components;if(M===x.length-1)for(var L=16*M,m=0;m<16;++m)w[m]=o[L++];else{for(var F=x[M+1]-x[M],L=16*M,I=this.prevMatrix,U=!0,m=0;m<16;++m)I[m]=o[L++];for(var z=this.nextMatrix,m=0;m<16;++m)z[m]=o[L++],U=U&&I[m]===z[m];if(F<1e-6||U)for(var m=0;m<16;++m)w[m]=I[m];else s(w,I,z,(P-x[M])/F)}var N=this.computedUp;N[0]=w[1],N[1]=w[5],N[2]=w[9],T(N,N);var B=this.computedInverse;n(B,w);var O=this.computedEye,H=B[15];O[0]=B[12]/H,O[1]=B[13]/H,O[2]=B[14]/H;for(var Y=this.computedCenter,J=Math.exp(this.computedRadius[0]),m=0;m<3;++m)Y[m]=O[m]-w[2+4*m]*J}},d.idle=function(P){if(!(P<this.lastT())){for(var x=this._components,M=x.length-16,w=0;w<16;++w)x.push(x[M++]);this._time.push(P)}},d.flush=function(P){var x=r.gt(this._time,P)-2;x<0||(this._time.splice(0,x),this._components.splice(0,16*x))},d.lastT=function(){return this._time[this._time.length-1]},d.lookAt=function(P,x,M,w){this.recalcMatrix(P),x=x||this.computedEye,M=M||h,w=w||this.computedUp,this.setMatrix(P,y(this.computedMatrix,x,M,w));for(var o=0,L=0;L<3;++L)o+=Math.pow(M[L]-x[L],2);o=Math.log(Math.sqrt(o)),this.computedRadius[0]=o},d.rotate=function(P,x,M,w){this.recalcMatrix(P);var o=this.computedInverse;x&&f(o,o,x),M&&i(o,o,M),w&&u(o,o,w),this.setMatrix(P,n(this.computedMatrix,o))};var E=[0,0,0];d.pan=function(P,x,M,w){E[0]=-(x||0),E[1]=-(M||0),E[2]=-(w||0),this.recalcMatrix(P);var o=this.computedInverse;c(o,o,E),this.setMatrix(P,n(o,o))},d.translate=function(P,x,M,w){E[0]=x||0,E[1]=M||0,E[2]=w||0,this.recalcMatrix(P);var o=this.computedMatrix;c(o,o,E),this.setMatrix(P,o)},d.setMatrix=function(P,x){if(!(P<this.lastT())){this._time.push(P);for(var M=0;M<16;++M)this._components.push(x[M])}},d.setDistance=function(P,x){this.computedRadius[0]=x},d.setDistanceLimits=function(P,x){var M=this._limits;M[0]=P,M[1]=x},d.getDistanceLimits=function(P){var x=this._limits;return P?(P[0]=x[0],P[1]=x[1],P):x};function S(P){P=P||{};var x=P.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new l(x)}},3266:function(v,p,t){v.exports=s;var r=t(417)[3];function s(n){var i=n.length;if(i<3){for(var d=new Array(i),f=0;f<i;++f)d[f]=f;return i===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:d}for(var u=new Array(i),f=0;f<i;++f)u[f]=f;u.sort(function(x,M){var w=n[x][0]-n[M][0];return w||n[x][1]-n[M][1]});for(var y=[u[0],u[1]],c=[u[0],u[1]],f=2;f<i;++f){for(var T=u[f],h=n[T],l=y.length;l>1&&r(n[y[l-2]],n[y[l-1]],h)<=0;)l-=1,y.pop();for(y.push(T),l=c.length;l>1&&r(n[c[l-2]],n[c[l-1]],h)>=0;)l-=1,c.pop();c.push(T)}for(var d=new Array(c.length+y.length-2),E=0,f=0,S=y.length;f<S;++f)d[E++]=y[f];for(var P=c.length-2;P>0;--P)d[E++]=c[P];return d}},6145:function(v,p,t){v.exports=s;var r=t(4110);function s(n,i){i||(i=n,n=window);var f=0,u=0,y=0,c={shift:!1,alt:!1,control:!1,meta:!1},T=!1;function h(m){var F=!1;return"altKey"in m&&(F=F||m.altKey!==c.alt,c.alt=!!m.altKey),"shiftKey"in m&&(F=F||m.shiftKey!==c.shift,c.shift=!!m.shiftKey),"ctrlKey"in m&&(F=F||m.ctrlKey!==c.control,c.control=!!m.ctrlKey),"metaKey"in m&&(F=F||m.metaKey!==c.meta,c.meta=!!m.metaKey),F}function l(m,F){var I=r.x(F),U=r.y(F);"buttons"in F&&(m=F.buttons|0),(m!==f||I!==u||U!==y||h(F))&&(f=m|0,u=I||0,y=U||0,i&&i(f,u,y,c))}function d(m){l(0,m)}function E(){(f||u||y||c.shift||c.alt||c.meta||c.control)&&(u=y=0,f=0,c.shift=c.alt=c.control=c.meta=!1,i&&i(0,0,0,c))}function S(m){h(m)&&i&&i(f,u,y,c)}function P(m){r.buttons(m)===0?l(0,m):l(f,m)}function x(m){l(f|r.buttons(m),m)}function M(m){l(f&~r.buttons(m),m)}function w(){T||(T=!0,n.addEventListener("mousemove",P),n.addEventListener("mousedown",x),n.addEventListener("mouseup",M),n.addEventListener("mouseleave",d),n.addEventListener("mouseenter",d),n.addEventListener("mouseout",d),n.addEventListener("mouseover",d),n.addEventListener("blur",E),n.addEventListener("keyup",S),n.addEventListener("keydown",S),n.addEventListener("keypress",S),n!==window&&(window.addEventListener("blur",E),window.addEventListener("keyup",S),window.addEventListener("keydown",S),window.addEventListener("keypress",S)))}function o(){T&&(T=!1,n.removeEventListener("mousemove",P),n.removeEventListener("mousedown",x),n.removeEventListener("mouseup",M),n.removeEventListener("mouseleave",d),n.removeEventListener("mouseenter",d),n.removeEventListener("mouseout",d),n.removeEventListener("mouseover",d),n.removeEventListener("blur",E),n.removeEventListener("keyup",S),n.removeEventListener("keydown",S),n.removeEventListener("keypress",S),n!==window&&(window.removeEventListener("blur",E),window.removeEventListener("keyup",S),window.removeEventListener("keydown",S),window.removeEventListener("keypress",S)))}w();var L={element:n};return Object.defineProperties(L,{enabled:{get:function(){return T},set:function(m){m?w():o()},enumerable:!0},buttons:{get:function(){return f},enumerable:!0},x:{get:function(){return u},enumerable:!0},y:{get:function(){return y},enumerable:!0},mods:{get:function(){return c},enumerable:!0}}),L}},2565:function(v){var p={left:0,top:0};v.exports=t;function t(s,n,i){n=n||s.currentTarget||s.srcElement,Array.isArray(i)||(i=[0,0]);var f=s.clientX||0,u=s.clientY||0,y=r(n);return i[0]=f-y.left,i[1]=u-y.top,i}function r(s){return s===window||s===document||s===document.body?p:s.getBoundingClientRect()}},4110:function(v,p){function t(i){if(typeof i=="object"){if("buttons"in i)return i.buttons;if("which"in i){var f=i.which;if(f===2)return 4;if(f===3)return 2;if(f>0)return 1<<f-1}else if("button"in i){var f=i.button;if(f===1)return 4;if(f===2)return 2;if(f>=0)return 1<<f}}return 0}p.buttons=t;function r(i){return i.target||i.srcElement||window}p.element=r;function s(i){if(typeof i=="object"){if("offsetX"in i)return i.offsetX;var f=r(i),u=f.getBoundingClientRect();return i.clientX-u.left}return 0}p.x=s;function n(i){if(typeof i=="object"){if("offsetY"in i)return i.offsetY;var f=r(i),u=f.getBoundingClientRect();return i.clientY-u.top}return 0}p.y=n},6475:function(v,p,t){var r=t(14);v.exports=s;function s(n,i,f){typeof n=="function"&&(f=!!i,i=n,n=window);var u=r("ex",n),y=function(c){f&&c.preventDefault();var T=c.deltaX||0,h=c.deltaY||0,l=c.deltaZ||0,d=c.deltaMode,E=1;switch(d){case 1:E=u;break;case 2:E=window.innerHeight;break}if(T*=E,h*=E,l*=E,T||h||l)return i(T,h,l,c)};return n.addEventListener("wheel",y),y}},9284:function(v,p,t){var r=t(5306);v.exports=i;var s={"false,0,1":function(u,y,c,T,h){return function(d,E,S,P){var x=d.shape[0]|0,M=d.shape[1]|0,w=d.data,o=d.offset|0,L=d.stride[0]|0,m=d.stride[1]|0,F=o,I,U=-L|0,z=0,N=-m|0,B=0,O=-L-m|0,H=0,Y=L|0,J=m-L*x|0,re=0,ie=0,ce=0,Q=2*x|0,j=T(Q),Z=T(Q),$=0,te=0,se=-1,ee=-1,q=0,le=-x|0,oe=x|0,he=0,me=-x-1|0,Ce=x-1|0,Ae=0,Ue=0,Ve=0;for(re=0;re<x;++re)j[$++]=c(w[F],E,S,P),F+=Y;if(F+=J,M>0){if(ie=1,j[$++]=c(w[F],E,S,P),F+=Y,x>0)for(re=1,I=w[F],te=j[$]=c(I,E,S,P),q=j[$+se],he=j[$+le],Ae=j[$+me],(te!==q||te!==he||te!==Ae)&&(z=w[F+U],B=w[F+N],H=w[F+O],u(re,ie,I,z,B,H,te,q,he,Ae,E,S,P),Ue=Z[$]=ce++),$+=1,F+=Y,re=2;re<x;++re)I=w[F],te=j[$]=c(I,E,S,P),q=j[$+se],he=j[$+le],Ae=j[$+me],(te!==q||te!==he||te!==Ae)&&(z=w[F+U],B=w[F+N],H=w[F+O],u(re,ie,I,z,B,H,te,q,he,Ae,E,S,P),Ue=Z[$]=ce++,Ae!==q&&y(Z[$+se],Ue,H,z,Ae,q,E,S,P)),$+=1,F+=Y;for(F+=J,$=0,Ve=se,se=ee,ee=Ve,Ve=le,le=oe,oe=Ve,Ve=me,me=Ce,Ce=Ve,ie=2;ie<M;++ie){if(j[$++]=c(w[F],E,S,P),F+=Y,x>0)for(re=1,I=w[F],te=j[$]=c(I,E,S,P),q=j[$+se],he=j[$+le],Ae=j[$+me],(te!==q||te!==he||te!==Ae)&&(z=w[F+U],B=w[F+N],H=w[F+O],u(re,ie,I,z,B,H,te,q,he,Ae,E,S,P),Ue=Z[$]=ce++,Ae!==he&&y(Z[$+le],Ue,B,H,he,Ae,E,S,P)),$+=1,F+=Y,re=2;re<x;++re)I=w[F],te=j[$]=c(I,E,S,P),q=j[$+se],he=j[$+le],Ae=j[$+me],(te!==q||te!==he||te!==Ae)&&(z=w[F+U],B=w[F+N],H=w[F+O],u(re,ie,I,z,B,H,te,q,he,Ae,E,S,P),Ue=Z[$]=ce++,Ae!==he&&y(Z[$+le],Ue,B,H,he,Ae,E,S,P),Ae!==q&&y(Z[$+se],Ue,H,z,Ae,q,E,S,P)),$+=1,F+=Y;ie&1&&($=0),Ve=se,se=ee,ee=Ve,Ve=le,le=oe,oe=Ve,Ve=me,me=Ce,Ce=Ve,F+=J}}h(Z),h(j)}},"false,1,0":function(u,y,c,T,h){return function(d,E,S,P){var x=d.shape[0]|0,M=d.shape[1]|0,w=d.data,o=d.offset|0,L=d.stride[0]|0,m=d.stride[1]|0,F=o,I,U=-L|0,z=0,N=-m|0,B=0,O=-L-m|0,H=0,Y=m|0,J=L-m*M|0,re=0,ie=0,ce=0,Q=2*M|0,j=T(Q),Z=T(Q),$=0,te=0,se=-1,ee=-1,q=0,le=-M|0,oe=M|0,he=0,me=-M-1|0,Ce=M-1|0,Ae=0,Ue=0,Ve=0;for(ie=0;ie<M;++ie)j[$++]=c(w[F],E,S,P),F+=Y;if(F+=J,x>0){if(re=1,j[$++]=c(w[F],E,S,P),F+=Y,M>0)for(ie=1,I=w[F],te=j[$]=c(I,E,S,P),he=j[$+le],q=j[$+se],Ae=j[$+me],(te!==he||te!==q||te!==Ae)&&(z=w[F+U],B=w[F+N],H=w[F+O],u(re,ie,I,z,B,H,te,he,q,Ae,E,S,P),Ue=Z[$]=ce++),$+=1,F+=Y,ie=2;ie<M;++ie)I=w[F],te=j[$]=c(I,E,S,P),he=j[$+le],q=j[$+se],Ae=j[$+me],(te!==he||te!==q||te!==Ae)&&(z=w[F+U],B=w[F+N],H=w[F+O],u(re,ie,I,z,B,H,te,he,q,Ae,E,S,P),Ue=Z[$]=ce++,Ae!==q&&y(Z[$+se],Ue,B,H,q,Ae,E,S,P)),$+=1,F+=Y;for(F+=J,$=0,Ve=le,le=oe,oe=Ve,Ve=se,se=ee,ee=Ve,Ve=me,me=Ce,Ce=Ve,re=2;re<x;++re){if(j[$++]=c(w[F],E,S,P),F+=Y,M>0)for(ie=1,I=w[F],te=j[$]=c(I,E,S,P),he=j[$+le],q=j[$+se],Ae=j[$+me],(te!==he||te!==q||te!==Ae)&&(z=w[F+U],B=w[F+N],H=w[F+O],u(re,ie,I,z,B,H,te,he,q,Ae,E,S,P),Ue=Z[$]=ce++,Ae!==he&&y(Z[$+le],Ue,H,z,Ae,he,E,S,P)),$+=1,F+=Y,ie=2;ie<M;++ie)I=w[F],te=j[$]=c(I,E,S,P),he=j[$+le],q=j[$+se],Ae=j[$+me],(te!==he||te!==q||te!==Ae)&&(z=w[F+U],B=w[F+N],H=w[F+O],u(re,ie,I,z,B,H,te,he,q,Ae,E,S,P),Ue=Z[$]=ce++,Ae!==q&&y(Z[$+se],Ue,B,H,q,Ae,E,S,P),Ae!==he&&y(Z[$+le],Ue,H,z,Ae,he,E,S,P)),$+=1,F+=Y;re&1&&($=0),Ve=le,le=oe,oe=Ve,Ve=se,se=ee,ee=Ve,Ve=me,me=Ce,Ce=Ve,F+=J}}h(Z),h(j)}}};function n(f,u,y,c,T,h){var l=[h,T].join(","),d=s[l];return d(f,u,y,r.mallocUint32,r.freeUint32)}function i(f){function u(E){throw new Error("ndarray-extract-contour: "+E)}typeof f!="object"&&u("Must specify arguments");var y=f.order;Array.isArray(y)||u("Must specify order");var c=f.arrayArguments||1;c<1&&u("Must have at least one array argument");var T=f.scalarArguments||0;T<0&&u("Scalar arg count must be > 0"),typeof f.vertex!="function"&&u("Must specify vertex creation function"),typeof f.cell!="function"&&u("Must specify cell creation function"),typeof f.phase!="function"&&u("Must specify phase function");for(var h=f.getters||[],l=new Array(c),d=0;d<c;++d)h.indexOf(d)>=0?l[d]=!0:l[d]=!1;return n(f.vertex,f.cell,f.phase,T,y,l)}},9144:function(v,p,t){var r=t(3094),s={zero:function(S,P,x,M){var w=S[0],o=x[0];M|=0;var L=0,m=o;for(L=0;L<w;++L)P[M]=0,M+=m},fdTemplate1:function(S,P,x,M,w,o,L){var m=S[0],F=x[0],I=o[0],U=-1*F,z=F;M|=0,L|=0;var N=0,B=F,O=I;for(N=0;N<m;++N)w[L]=.5*(P[M+U]-P[M+z]),M+=B,L+=O},fdTemplate2:function(S,P,x,M,w,o,L,m,F,I){var U=S[0],z=S[1],N=x[0],B=x[1],O=o[0],H=o[1],Y=F[0],J=F[1],re=-1*N,ie=N,ce=-1*B,Q=B;M|=0,L|=0,I|=0;var j=0,Z=0,$=B,te=N-z*B,se=H,ee=O-z*H,q=J,le=Y-z*J;for(Z=0;Z<U;++Z){for(j=0;j<z;++j)w[L]=.5*(P[M+re]-P[M+ie]),m[I]=.5*(P[M+ce]-P[M+Q]),M+=$,L+=se,I+=q;M+=te,L+=ee,I+=le}}},n={cdiff:function(S){var P={};return function(M,w,o){var L=M.dtype,m=M.order,F=w.dtype,I=w.order,U=o.dtype,z=o.order,N=[L,m.join(),F,I.join(),U,z.join()].join(),B=P[N];return B||(P[N]=B=S([L,m,F,I,U,z])),B(M.shape.slice(0),M.data,M.stride,M.offset|0,w.data,w.stride,w.offset|0,o.data,o.stride,o.offset|0)}},zero:function(S){var P={};return function(M){var w=M.dtype,o=M.order,L=[w,o.join()].join(),m=P[L];return m||(P[L]=m=S([w,o])),m(M.shape.slice(0),M.data,M.stride,M.offset|0)}},fdTemplate1:function(S){var P={};return function(M,w){var o=M.dtype,L=M.order,m=w.dtype,F=w.order,I=[o,L.join(),m,F.join()].join(),U=P[I];return U||(P[I]=U=S([o,L,m,F])),U(M.shape.slice(0),M.data,M.stride,M.offset|0,w.data,w.stride,w.offset|0)}},fdTemplate2:function(S){var P={};return function(M,w,o){var L=M.dtype,m=M.order,F=w.dtype,I=w.order,U=o.dtype,z=o.order,N=[L,m.join(),F,I.join(),U,z.join()].join(),B=P[N];return B||(P[N]=B=S([L,m,F,I,U,z])),B(M.shape.slice(0),M.data,M.stride,M.offset|0,w.data,w.stride,w.offset|0,o.data,o.stride,o.offset|0)}}};function i(S){var P=n[S.funcName];return P(f.bind(void 0,S))}function f(S){return s[S.funcName]}function u(S){return i({funcName:S.funcName})}var y={},c={},T=u({funcName:"cdiff"}),h=u({funcName:"zero"});function l(S){return S in y?y[S]:y[S]=u({funcName:"fdTemplate"+S})}function d(S,P,x,M){return function(w,o){var L=o.shape.slice();return L[0]>2&&L[1]>2&&M(o.pick(-1,-1).lo(1,1).hi(L[0]-2,L[1]-2),w.pick(-1,-1,0).lo(1,1).hi(L[0]-2,L[1]-2),w.pick(-1,-1,1).lo(1,1).hi(L[0]-2,L[1]-2)),L[1]>2&&(x(o.pick(0,-1).lo(1).hi(L[1]-2),w.pick(0,-1,1).lo(1).hi(L[1]-2)),P(w.pick(0,-1,0).lo(1).hi(L[1]-2))),L[1]>2&&(x(o.pick(L[0]-1,-1).lo(1).hi(L[1]-2),w.pick(L[0]-1,-1,1).lo(1).hi(L[1]-2)),P(w.pick(L[0]-1,-1,0).lo(1).hi(L[1]-2))),L[0]>2&&(x(o.pick(-1,0).lo(1).hi(L[0]-2),w.pick(-1,0,0).lo(1).hi(L[0]-2)),P(w.pick(-1,0,1).lo(1).hi(L[0]-2))),L[0]>2&&(x(o.pick(-1,L[1]-1).lo(1).hi(L[0]-2),w.pick(-1,L[1]-1,0).lo(1).hi(L[0]-2)),P(w.pick(-1,L[1]-1,1).lo(1).hi(L[0]-2))),w.set(0,0,0,0),w.set(0,0,1,0),w.set(L[0]-1,0,0,0),w.set(L[0]-1,0,1,0),w.set(0,L[1]-1,0,0),w.set(0,L[1]-1,1,0),w.set(L[0]-1,L[1]-1,0,0),w.set(L[0]-1,L[1]-1,1,0),w}}function E(S){var P=S.join(),L=c[P];if(L)return L;for(var x=S.length,M=[T,h],w=1;w<=x;++w)M.push(l(w));var o=d,L=o.apply(void 0,M);return c[P]=L,L}v.exports=function(P,x,M){if(Array.isArray(M)||(typeof M=="string"?M=r(x.dimension,M):M=r(x.dimension,"clamp")),x.size===0)return P;if(x.dimension===0)return P.set(0),P;var w=E(M);return w(P,x)}},3581:function(v){function p(i,f){var u=Math.floor(f),y=f-u,c=0<=u&&u<i.shape[0],T=0<=u+1&&u+1<i.shape[0],h=c?+i.get(u):0,l=T?+i.get(u+1):0;return(1-y)*h+y*l}function t(i,f,u){var y=Math.floor(f),c=f-y,T=0<=y&&y<i.shape[0],h=0<=y+1&&y+1<i.shape[0],l=Math.floor(u),d=u-l,E=0<=l&&l<i.shape[1],S=0<=l+1&&l+1<i.shape[1],P=T&&E?i.get(y,l):0,x=T&&S?i.get(y,l+1):0,M=h&&E?i.get(y+1,l):0,w=h&&S?i.get(y+1,l+1):0;return(1-d)*((1-c)*P+c*M)+d*((1-c)*x+c*w)}function r(i,f,u,y){var c=Math.floor(f),T=f-c,h=0<=c&&c<i.shape[0],l=0<=c+1&&c+1<i.shape[0],d=Math.floor(u),E=u-d,S=0<=d&&d<i.shape[1],P=0<=d+1&&d+1<i.shape[1],x=Math.floor(y),M=y-x,w=0<=x&&x<i.shape[2],o=0<=x+1&&x+1<i.shape[2],L=h&&S&&w?i.get(c,d,x):0,m=h&&P&&w?i.get(c,d+1,x):0,F=l&&S&&w?i.get(c+1,d,x):0,I=l&&P&&w?i.get(c+1,d+1,x):0,U=h&&S&&o?i.get(c,d,x+1):0,z=h&&P&&o?i.get(c,d+1,x+1):0,N=l&&S&&o?i.get(c+1,d,x+1):0,B=l&&P&&o?i.get(c+1,d+1,x+1):0;return(1-M)*((1-E)*((1-T)*L+T*F)+E*((1-T)*m+T*I))+M*((1-E)*((1-T)*U+T*N)+E*((1-T)*z+T*B))}function s(i){var f=i.shape.length|0,u=new Array(f),y=new Array(f),c=new Array(f),T=new Array(f),h,l;for(h=0;h<f;++h)l=+arguments[h+1],u[h]=Math.floor(l),y[h]=l-u[h],c[h]=0<=u[h]&&u[h]<i.shape[h],T[h]=0<=u[h]+1&&u[h]+1<i.shape[h];var d=0,E,S,P;e:for(h=0;h<1<<f;++h){for(S=1,P=i.offset,E=0;E<f;++E)if(h&1<<E){if(!T[E])continue e;S*=y[E],P+=i.stride[E]*(u[E]+1)}else{if(!c[E])continue e;S*=1-y[E],P+=i.stride[E]*u[E]}d+=S*i.data[P]}return d}function n(i,f,u,y){switch(i.shape.length){case 0:return 0;case 1:return p(i,f);case 2:return t(i,f,u);case 3:return r(i,f,u,y);default:return s.apply(void 0,arguments)}}v.exports=n,v.exports.d1=p,v.exports.d2=t,v.exports.d3=r},7498:function(v,p){var t={"float64,2,1,0":function(){return function(c,T,h,l,d){var E=c[0],S=c[1],P=c[2],x=h[0],M=h[1],w=h[2];l|=0;var o=0,L=0,m=0,F=w,I=M-P*w,U=x-S*M;for(m=0;m<E;++m){for(L=0;L<S;++L){for(o=0;o<P;++o)T[l]/=d,l+=F;l+=I}l+=U}}},"uint8,2,0,1,float64,2,1,0":function(){return function(c,T,h,l,d,E,S,P){var x=c[0],M=c[1],w=c[2],o=h[0],L=h[1],m=h[2],F=E[0],I=E[1],U=E[2];l|=0,S|=0;for(var z=l,N=S,B=c[0]|0;B>0;){B<64?(x=B,B=0):(x=64,B-=64);for(var O=c[1]|0;O>0;){O<64?(M=O,O=0):(M=64,O-=64),l=z+B*o+O*L,S=N+B*F+O*I;var H=0,Y=0,J=0,re=m,ie=o-w*m,ce=L-x*o,Q=U,j=F-w*U,Z=I-x*F;for(J=0;J<M;++J){for(Y=0;Y<x;++Y){for(H=0;H<w;++H)T[l]=d[S]*P,l+=re,S+=Q;l+=ie,S+=j}l+=ce,S+=Z}}}}},"float32,1,0,float32,1,0":function(){return function(c,T,h,l,d,E,S){var P=c[0],x=c[1],M=h[0],w=h[1],o=E[0],L=E[1];l|=0,S|=0;var m=0,F=0,I=w,U=M-x*w,z=L,N=o-x*L;for(F=0;F<P;++F){for(m=0;m<x;++m)T[l]=d[S],l+=I,S+=z;l+=U,S+=N}}},"float32,1,0,float32,0,1":function(){return function(c,T,h,l,d,E,S){var P=c[0],x=c[1],M=h[0],w=h[1],o=E[0],L=E[1];l|=0,S|=0;for(var m=l,F=S,I=c[1]|0;I>0;){I<64?(x=I,I=0):(x=64,I-=64);for(var U=c[0]|0;U>0;){U<64?(P=U,U=0):(P=64,U-=64),l=m+I*w+U*M,S=F+I*L+U*o;var z=0,N=0,B=w,O=M-x*w,H=L,Y=o-x*L;for(N=0;N<P;++N){for(z=0;z<x;++z)T[l]=d[S],l+=B,S+=H;l+=O,S+=Y}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(c,T,h,l,d,E,S){var P=c[0],x=c[1],M=c[2],w=h[0],o=h[1],L=h[2],m=E[0],F=E[1],I=E[2];l|=0,S|=0;for(var U=l,z=S,N=c[2]|0;N>0;){N<64?(M=N,N=0):(M=64,N-=64);for(var B=c[0]|0;B>0;){B<64?(P=B,B=0):(P=64,B-=64);for(var O=c[1]|0;O>0;){O<64?(x=O,O=0):(x=64,O-=64),l=U+N*L+B*w+O*o,S=z+N*I+B*m+O*F;var H=0,Y=0,J=0,re=L,ie=w-M*L,ce=o-P*w,Q=I,j=m-M*I,Z=F-P*m;for(J=0;J<x;++J){for(Y=0;Y<P;++Y){for(H=0;H<M;++H)T[l]=d[S],l+=re,S+=Q;l+=ie,S+=j}l+=ce,S+=Z}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(c,T,h,l,d,E,S){var P=c[0],x=c[1],M=c[2],w=h[0],o=h[1],L=h[2],m=E[0],F=E[1],I=E[2];l|=0,S|=0;var U=0,z=0,N=0,B=L,O=w-M*L,H=o-P*w,Y=I,J=m-M*I,re=F-P*m;for(N=0;N<x;++N){for(z=0;z<P;++z){for(U=0;U<M;++U)T[l]=d[S],l+=B,S+=Y;l+=O,S+=J}l+=H,S+=re}}}};function r(y,c){var T=c.join(","),h=t[T];return h()}var s=r,n={mul:function(y){var c={};return function(h,l,d){var E=h.dtype,S=h.order,P=l.dtype,x=l.order,M=d.dtype,w=d.order,o=[E,S.join(),P,x.join(),M,w.join()].join(),L=c[o];return L||(c[o]=L=y([E,S,P,x,M,w])),L(h.shape.slice(0),h.data,h.stride,h.offset|0,l.data,l.stride,l.offset|0,d.data,d.stride,d.offset|0)}},muls:function(y){var c={};return function(h,l,d){var E=h.dtype,S=h.order,P=l.dtype,x=l.order,M=[E,S.join(),P,x.join()].join(),w=c[M];return w||(c[M]=w=y([E,S,P,x])),w(h.shape.slice(0),h.data,h.stride,h.offset|0,l.data,l.stride,l.offset|0,d)}},mulseq:function(y){var c={};return function(h,l){var d=h.dtype,E=h.order,S=[d,E.join()].join(),P=c[S];return P||(c[S]=P=y([d,E])),P(h.shape.slice(0),h.data,h.stride,h.offset|0,l)}},div:function(y){var c={};return function(h,l,d){var E=h.dtype,S=h.order,P=l.dtype,x=l.order,M=d.dtype,w=d.order,o=[E,S.join(),P,x.join(),M,w.join()].join(),L=c[o];return L||(c[o]=L=y([E,S,P,x,M,w])),L(h.shape.slice(0),h.data,h.stride,h.offset|0,l.data,l.stride,l.offset|0,d.data,d.stride,d.offset|0)}},divs:function(y){var c={};return function(h,l,d){var E=h.dtype,S=h.order,P=l.dtype,x=l.order,M=[E,S.join(),P,x.join()].join(),w=c[M];return w||(c[M]=w=y([E,S,P,x])),w(h.shape.slice(0),h.data,h.stride,h.offset|0,l.data,l.stride,l.offset|0,d)}},divseq:function(y){var c={};return function(h,l){var d=h.dtype,E=h.order,S=[d,E.join()].join(),P=c[S];return P||(c[S]=P=y([d,E])),P(h.shape.slice(0),h.data,h.stride,h.offset|0,l)}},assign:function(y){var c={};return function(h,l){var d=h.dtype,E=h.order,S=l.dtype,P=l.order,x=[d,E.join(),S,P.join()].join(),M=c[x];return M||(c[x]=M=y([d,E,S,P])),M(h.shape.slice(0),h.data,h.stride,h.offset|0,l.data,l.stride,l.offset|0)}}};function i(y){var c=n[y.funcName];return c(s.bind(void 0,y))}function f(y){return i({funcName:y.funcName})}var u={mul:"*",div:"/"};(function(){for(var y in u)p[y]=f({funcName:y}),p[y+"s"]=f({funcName:y+"s"}),p[y+"seq"]=f({funcName:y+"seq"})})(),p.assign=f({funcName:"assign"})},7382:function(v,p,t){var r=t(5050),s=t(9262);v.exports=function(i,f){for(var u=[],y=i,c=1;Array.isArray(y);)u.push(y.length),c*=y.length,y=y[0];return u.length===0?r():(f||(f=r(new Float64Array(c),u)),s(f,i),f)}},9262:function(v){function p(){return function(f,u,y,c,T){var h=f[0],l=f[1],d=f[2],E=y[0],S=y[1],P=y[2],x=[0,0,0];c|=0;var M=0,w=0,o=0,L=P,m=S-d*P,F=E-l*S;for(o=0;o<h;++o){for(w=0;w<l;++w){for(M=0;M<d;++M){{var I=T,U;for(U=0;U<x.length-1;++U)I=I[x[U]];u[c]=I[x[x.length-1]]}c+=L,++x[2]}c+=m,x[2]-=d,++x[1]}c+=F,x[1]-=l,++x[0]}}}function t(){return p()}var r=t;function s(f){var u={};return function(c,T){var h=c.dtype,l=c.order,d=[h,l.join()].join(),E=u[d];return E||(u[d]=E=f([h,l])),E(c.shape.slice(0),c.data,c.stride,c.offset|0,T)}}function n(f){return s(r.bind(void 0,f))}function i(f){return n({funcName:f.funcName})}v.exports=i({funcName:"convert"})},8139:function(v,p,t){var r=t(5306);function s(T){switch(T){case"uint32":return[r.mallocUint32,r.freeUint32];default:return null}}var n={"uint32,1,0":function(T,h){return function(d,E,S,P,x,M,w,o,L,m,F){var I,U,z,N=d*x+P,B,O=T(o),H,Y,J,re;for(I=d+1;I<=E;++I){for(U=I,N+=x,z=N,H=0,Y=N,B=0;B<o;++B)O[H++]=S[Y],Y+=L;e:for(;U-- >d;){H=0,Y=z-x;t:for(B=0;B<o;++B){if(J=S[Y],re=O[H],J<re)break e;if(J>re)break t;Y+=m,H+=F}for(H=z,Y=z-x,B=0;B<o;++B)S[H]=S[Y],H+=L,Y+=L;z-=x}for(H=z,Y=0,B=0;B<o;++B)S[H]=O[Y++],H+=L}h(O)}}};function i(T,h){var l=s(h),d=[h,T].join(","),E=n[d];return l?E(l[0],l[1]):E()}var f={"uint32,1,0":function(T,h,l){return function d(E,S,P,x,M,w,o,L,m,F,I){var U=(S-E+1)/6|0,z=E+U,N=S-U,B=E+S>>1,O=B-U,H=B+U,Y=z,J=O,re=B,ie=H,ce=N,Q=E+1,j=S-1,Z=!0,$,te,se,ee,q,le,oe,he,me,Ce=0,Ae=0,Ue=0,Ve,Pe,be,Le,We,je,Fe,Ze,ut,at,it,$e,st,ct,vt,St,Mt=L,Bt=h(Mt),Qe=h(Mt);Pe=M*Y,be=M*J,St=x;e:for(Ve=0;Ve<L;++Ve){if(oe=Pe+St,he=be+St,Ue=P[oe]-P[he],Ue>0){te=Y,Y=J,J=te;break e}if(Ue<0)break e;St+=F}Pe=M*ie,be=M*ce,St=x;e:for(Ve=0;Ve<L;++Ve){if(oe=Pe+St,he=be+St,Ue=P[oe]-P[he],Ue>0){te=ie,ie=ce,ce=te;break e}if(Ue<0)break e;St+=F}Pe=M*Y,be=M*re,St=x;e:for(Ve=0;Ve<L;++Ve){if(oe=Pe+St,he=be+St,Ue=P[oe]-P[he],Ue>0){te=Y,Y=re,re=te;break e}if(Ue<0)break e;St+=F}Pe=M*J,be=M*re,St=x;e:for(Ve=0;Ve<L;++Ve){if(oe=Pe+St,he=be+St,Ue=P[oe]-P[he],Ue>0){te=J,J=re,re=te;break e}if(Ue<0)break e;St+=F}Pe=M*Y,be=M*ie,St=x;e:for(Ve=0;Ve<L;++Ve){if(oe=Pe+St,he=be+St,Ue=P[oe]-P[he],Ue>0){te=Y,Y=ie,ie=te;break e}if(Ue<0)break e;St+=F}Pe=M*re,be=M*ie,St=x;e:for(Ve=0;Ve<L;++Ve){if(oe=Pe+St,he=be+St,Ue=P[oe]-P[he],Ue>0){te=re,re=ie,ie=te;break e}if(Ue<0)break e;St+=F}Pe=M*J,be=M*ce,St=x;e:for(Ve=0;Ve<L;++Ve){if(oe=Pe+St,he=be+St,Ue=P[oe]-P[he],Ue>0){te=J,J=ce,ce=te;break e}if(Ue<0)break e;St+=F}Pe=M*J,be=M*re,St=x;e:for(Ve=0;Ve<L;++Ve){if(oe=Pe+St,he=be+St,Ue=P[oe]-P[he],Ue>0){te=J,J=re,re=te;break e}if(Ue<0)break e;St+=F}Pe=M*ie,be=M*ce,St=x;e:for(Ve=0;Ve<L;++Ve){if(oe=Pe+St,he=be+St,Ue=P[oe]-P[he],Ue>0){te=ie,ie=ce,ce=te;break e}if(Ue<0)break e;St+=F}for(Pe=M*Y,be=M*J,Le=M*re,We=M*ie,je=M*ce,Fe=M*z,Ze=M*B,ut=M*N,vt=0,St=x,Ve=0;Ve<L;++Ve)oe=Pe+St,he=be+St,me=Le+St,at=We+St,it=je+St,$e=Fe+St,st=Ze+St,ct=ut+St,Bt[vt]=P[he],Qe[vt]=P[at],Z=Z&&Bt[vt]===Qe[vt],se=P[oe],ee=P[me],q=P[it],P[$e]=se,P[st]=ee,P[ct]=q,++vt,St+=m;for(Pe=M*O,be=M*E,St=x,Ve=0;Ve<L;++Ve)oe=Pe+St,he=be+St,P[oe]=P[he],St+=m;for(Pe=M*H,be=M*S,St=x,Ve=0;Ve<L;++Ve)oe=Pe+St,he=be+St,P[oe]=P[he],St+=m;if(Z)for(le=Q;le<=j;++le){oe=x+le*M,vt=0;e:for(Ve=0;Ve<L;++Ve){if(Ue=P[oe]-Bt[vt],Ue!==0)break e;vt+=I,oe+=F}if(Ue!==0)if(Ue<0){if(le!==Q)for(Pe=M*le,be=M*Q,St=x,Ve=0;Ve<L;++Ve)oe=Pe+St,he=be+St,$=P[oe],P[oe]=P[he],P[he]=$,St+=m;++Q}else for(;;){oe=x+j*M,vt=0;e:for(Ve=0;Ve<L;++Ve){if(Ue=P[oe]-Bt[vt],Ue!==0)break e;vt+=I,oe+=F}if(Ue>0)j--;else if(Ue<0){for(Pe=M*le,be=M*Q,Le=M*j,St=x,Ve=0;Ve<L;++Ve)oe=Pe+St,he=be+St,me=Le+St,$=P[oe],P[oe]=P[he],P[he]=P[me],P[me]=$,St+=m;++Q,--j;break}else{for(Pe=M*le,be=M*j,St=x,Ve=0;Ve<L;++Ve)oe=Pe+St,he=be+St,$=P[oe],P[oe]=P[he],P[he]=$,St+=m;--j;break}}}else for(le=Q;le<=j;++le){oe=x+le*M,vt=0;e:for(Ve=0;Ve<L;++Ve){if(Ce=P[oe]-Bt[vt],Ce!==0)break e;vt+=I,oe+=F}if(Ce<0){if(le!==Q)for(Pe=M*le,be=M*Q,St=x,Ve=0;Ve<L;++Ve)oe=Pe+St,he=be+St,$=P[oe],P[oe]=P[he],P[he]=$,St+=m;++Q}else{oe=x+le*M,vt=0;e:for(Ve=0;Ve<L;++Ve){if(Ae=P[oe]-Qe[vt],Ae!==0)break e;vt+=I,oe+=F}if(Ae>0)for(;;){oe=x+j*M,vt=0;e:for(Ve=0;Ve<L;++Ve){if(Ue=P[oe]-Qe[vt],Ue!==0)break e;vt+=I,oe+=F}if(Ue>0){if(--j<le)break;continue}else{oe=x+j*M,vt=0;e:for(Ve=0;Ve<L;++Ve){if(Ue=P[oe]-Bt[vt],Ue!==0)break e;vt+=I,oe+=F}if(Ue<0){for(Pe=M*le,be=M*Q,Le=M*j,St=x,Ve=0;Ve<L;++Ve)oe=Pe+St,he=be+St,me=Le+St,$=P[oe],P[oe]=P[he],P[he]=P[me],P[me]=$,St+=m;++Q,--j}else{for(Pe=M*le,be=M*j,St=x,Ve=0;Ve<L;++Ve)oe=Pe+St,he=be+St,$=P[oe],P[oe]=P[he],P[he]=$,St+=m;--j}break}}}}for(Pe=M*E,be=M*(Q-1),vt=0,St=x,Ve=0;Ve<L;++Ve)oe=Pe+St,he=be+St,P[oe]=P[he],P[he]=Bt[vt],++vt,St+=m;for(Pe=M*S,be=M*(j+1),vt=0,St=x,Ve=0;Ve<L;++Ve)oe=Pe+St,he=be+St,P[oe]=P[he],P[he]=Qe[vt],++vt,St+=m;if(Q-2-E<=32?T(E,Q-2,P,x,M,w,o,L,m,F,I):d(E,Q-2,P,x,M,w,o,L,m,F,I),S-(j+2)<=32?T(j+2,S,P,x,M,w,o,L,m,F,I):d(j+2,S,P,x,M,w,o,L,m,F,I),Z){l(Bt),l(Qe);return}if(Q<z&&j>N){e:for(;;){for(oe=x+Q*M,vt=0,St=x,Ve=0;Ve<L;++Ve){if(P[oe]!==Bt[vt])break e;++vt,oe+=m}++Q}e:for(;;){for(oe=x+j*M,vt=0,St=x,Ve=0;Ve<L;++Ve){if(P[oe]!==Qe[vt])break e;++vt,oe+=m}--j}for(le=Q;le<=j;++le){oe=x+le*M,vt=0;e:for(Ve=0;Ve<L;++Ve){if(Ce=P[oe]-Bt[vt],Ce!==0)break e;vt+=I,oe+=F}if(Ce===0){if(le!==Q)for(Pe=M*le,be=M*Q,St=x,Ve=0;Ve<L;++Ve)oe=Pe+St,he=be+St,$=P[oe],P[oe]=P[he],P[he]=$,St+=m;++Q}else{oe=x+le*M,vt=0;e:for(Ve=0;Ve<L;++Ve){if(Ae=P[oe]-Qe[vt],Ae!==0)break e;vt+=I,oe+=F}if(Ae===0)for(;;){oe=x+j*M,vt=0;e:for(Ve=0;Ve<L;++Ve){if(Ue=P[oe]-Qe[vt],Ue!==0)break e;vt+=I,oe+=F}if(Ue===0){if(--j<le)break;continue}else{oe=x+j*M,vt=0;e:for(Ve=0;Ve<L;++Ve){if(Ue=P[oe]-Bt[vt],Ue!==0)break e;vt+=I,oe+=F}if(Ue<0){for(Pe=M*le,be=M*Q,Le=M*j,St=x,Ve=0;Ve<L;++Ve)oe=Pe+St,he=be+St,me=Le+St,$=P[oe],P[oe]=P[he],P[he]=P[me],P[me]=$,St+=m;++Q,--j}else{for(Pe=M*le,be=M*j,St=x,Ve=0;Ve<L;++Ve)oe=Pe+St,he=be+St,$=P[oe],P[oe]=P[he],P[he]=$,St+=m;--j}break}}}}}l(Bt),l(Qe),j-Q<=32?T(Q,j,P,x,M,w,o,L,m,F,I):d(Q,j,P,x,M,w,o,L,m,F,I)}}};function u(T,h,l){var d=s(h),E=[h,T].join(","),S=f[E];return T.length>1&&d?S(l,d[0],d[1]):S(l)}var y={"uint32,1,0":function(T,h){return function(l){var d=l.data,E=l.offset|0,S=l.shape,P=l.stride,x=P[0]|0,M=S[0]|0,w=P[1]|0,o=S[1]|0,L=w,m=w,F=1;M<=32?T(0,M-1,d,E,x,w,M,o,L,m,F):h(0,M-1,d,E,x,w,M,o,L,m,F)}}};function c(T,h){var l=[h,T].join(","),d=y[l],E=i(T,h),S=u(T,h,E);return d(E,S)}v.exports=c},8729:function(v,p,t){var r=t(8139),s={};function n(i){var f=i.order,u=i.dtype,y=[f,u],c=y.join(":"),T=s[c];return T||(s[c]=T=r(f,u)),T(i),i}v.exports=n},5050:function(v,p,t){var r=t(4780),s=typeof Float64Array<"u";function n(h,l){return h[0]-l[0]}function i(){var h=this.stride,l=new Array(h.length),d;for(d=0;d<l.length;++d)l[d]=[Math.abs(h[d]),d];l.sort(n);var E=new Array(l.length);for(d=0;d<E.length;++d)E[d]=l[d][1];return E}var f={T:function(h){function l(E){this.data=E}var d=l.prototype;return d.dtype=h,d.index=function(){return-1},d.size=0,d.dimension=-1,d.shape=d.stride=d.order=[],d.lo=d.hi=d.transpose=d.step=function(){return new l(this.data)},d.get=d.set=function(){},d.pick=function(){return null},function(S){return new l(S)}},0:function(h,l){function d(S,P){this.data=S,this.offset=P}var E=d.prototype;return E.dtype=h,E.index=function(){return this.offset},E.dimension=0,E.size=1,E.shape=E.stride=E.order=[],E.lo=E.hi=E.transpose=E.step=function(){return new d(this.data,this.offset)},E.pick=function(){return l(this.data)},E.valueOf=E.get=function(){return h==="generic"?this.data.get(this.offset):this.data[this.offset]},E.set=function(P){return h==="generic"?this.data.set(this.offset,P):this.data[this.offset]=P},function(P,x,M,w){return new d(P,w)}},1:function(h,l,d){function E(P,x,M,w){this.data=P,this.shape=[x],this.stride=[M],this.offset=w|0}var S=E.prototype;return S.dtype=h,S.dimension=1,Object.defineProperty(S,"size",{get:function(){return this.shape[0]}}),S.order=[0],S.set=function(x,M){return h==="generic"?this.data.set(this.offset+this.stride[0]*x,M):this.data[this.offset+this.stride[0]*x]=M},S.get=function(x){return h==="generic"?this.data.get(this.offset+this.stride[0]*x):this.data[this.offset+this.stride[0]*x]},S.index=function(x){return this.offset+this.stride[0]*x},S.hi=function(x){return new E(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,this.stride[0],this.offset)},S.lo=function(x){var M=this.offset,w=0,o=this.shape[0],L=this.stride[0];return typeof x=="number"&&x>=0&&(w=x|0,M+=L*w,o-=w),new E(this.data,o,L,M)},S.step=function(x){var M=this.shape[0],w=this.stride[0],o=this.offset,L=0,m=Math.ceil;return typeof x=="number"&&(L=x|0,L<0?(o+=w*(M-1),M=m(-M/L)):M=m(M/L),w*=L),new E(this.data,M,w,o)},S.transpose=function(x){x=x===void 0?0:x|0;var M=this.shape,w=this.stride;return new E(this.data,M[x],w[x],this.offset)},S.pick=function(x){var M=[],w=[],o=this.offset;typeof x=="number"&&x>=0?o=o+this.stride[0]*x|0:(M.push(this.shape[0]),w.push(this.stride[0]));var L=l[M.length+1];return L(this.data,M,w,o)},function(x,M,w,o){return new E(x,M[0],w[0],o)}},2:function(h,l,d){function E(P,x,M,w,o,L){this.data=P,this.shape=[x,M],this.stride=[w,o],this.offset=L|0}var S=E.prototype;return S.dtype=h,S.dimension=2,Object.defineProperty(S,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(S,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),S.set=function(x,M,w){return h==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*M,w):this.data[this.offset+this.stride[0]*x+this.stride[1]*M]=w},S.get=function(x,M){return h==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*M):this.data[this.offset+this.stride[0]*x+this.stride[1]*M]},S.index=function(x,M){return this.offset+this.stride[0]*x+this.stride[1]*M},S.hi=function(x,M){return new E(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,typeof M!="number"||M<0?this.shape[1]:M|0,this.stride[0],this.stride[1],this.offset)},S.lo=function(x,M){var w=this.offset,o=0,L=this.shape[0],m=this.shape[1],F=this.stride[0],I=this.stride[1];return typeof x=="number"&&x>=0&&(o=x|0,w+=F*o,L-=o),typeof M=="number"&&M>=0&&(o=M|0,w+=I*o,m-=o),new E(this.data,L,m,F,I,w)},S.step=function(x,M){var w=this.shape[0],o=this.shape[1],L=this.stride[0],m=this.stride[1],F=this.offset,I=0,U=Math.ceil;return typeof x=="number"&&(I=x|0,I<0?(F+=L*(w-1),w=U(-w/I)):w=U(w/I),L*=I),typeof M=="number"&&(I=M|0,I<0?(F+=m*(o-1),o=U(-o/I)):o=U(o/I),m*=I),new E(this.data,w,o,L,m,F)},S.transpose=function(x,M){x=x===void 0?0:x|0,M=M===void 0?1:M|0;var w=this.shape,o=this.stride;return new E(this.data,w[x],w[M],o[x],o[M],this.offset)},S.pick=function(x,M){var w=[],o=[],L=this.offset;typeof x=="number"&&x>=0?L=L+this.stride[0]*x|0:(w.push(this.shape[0]),o.push(this.stride[0])),typeof M=="number"&&M>=0?L=L+this.stride[1]*M|0:(w.push(this.shape[1]),o.push(this.stride[1]));var m=l[w.length+1];return m(this.data,w,o,L)},function(x,M,w,o){return new E(x,M[0],M[1],w[0],w[1],o)}},3:function(h,l,d){function E(P,x,M,w,o,L,m,F){this.data=P,this.shape=[x,M,w],this.stride=[o,L,m],this.offset=F|0}var S=E.prototype;return S.dtype=h,S.dimension=3,Object.defineProperty(S,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(S,"order",{get:function(){var x=Math.abs(this.stride[0]),M=Math.abs(this.stride[1]),w=Math.abs(this.stride[2]);return x>M?M>w?[2,1,0]:x>w?[1,2,0]:[1,0,2]:x>w?[2,0,1]:w>M?[0,1,2]:[0,2,1]}}),S.set=function(x,M,w,o){return h==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*M+this.stride[2]*w,o):this.data[this.offset+this.stride[0]*x+this.stride[1]*M+this.stride[2]*w]=o},S.get=function(x,M,w){return h==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*M+this.stride[2]*w):this.data[this.offset+this.stride[0]*x+this.stride[1]*M+this.stride[2]*w]},S.index=function(x,M,w){return this.offset+this.stride[0]*x+this.stride[1]*M+this.stride[2]*w},S.hi=function(x,M,w){return new E(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,typeof M!="number"||M<0?this.shape[1]:M|0,typeof w!="number"||w<0?this.shape[2]:w|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},S.lo=function(x,M,w){var o=this.offset,L=0,m=this.shape[0],F=this.shape[1],I=this.shape[2],U=this.stride[0],z=this.stride[1],N=this.stride[2];return typeof x=="number"&&x>=0&&(L=x|0,o+=U*L,m-=L),typeof M=="number"&&M>=0&&(L=M|0,o+=z*L,F-=L),typeof w=="number"&&w>=0&&(L=w|0,o+=N*L,I-=L),new E(this.data,m,F,I,U,z,N,o)},S.step=function(x,M,w){var o=this.shape[0],L=this.shape[1],m=this.shape[2],F=this.stride[0],I=this.stride[1],U=this.stride[2],z=this.offset,N=0,B=Math.ceil;return typeof x=="number"&&(N=x|0,N<0?(z+=F*(o-1),o=B(-o/N)):o=B(o/N),F*=N),typeof M=="number"&&(N=M|0,N<0?(z+=I*(L-1),L=B(-L/N)):L=B(L/N),I*=N),typeof w=="number"&&(N=w|0,N<0?(z+=U*(m-1),m=B(-m/N)):m=B(m/N),U*=N),new E(this.data,o,L,m,F,I,U,z)},S.transpose=function(x,M,w){x=x===void 0?0:x|0,M=M===void 0?1:M|0,w=w===void 0?2:w|0;var o=this.shape,L=this.stride;return new E(this.data,o[x],o[M],o[w],L[x],L[M],L[w],this.offset)},S.pick=function(x,M,w){var o=[],L=[],m=this.offset;typeof x=="number"&&x>=0?m=m+this.stride[0]*x|0:(o.push(this.shape[0]),L.push(this.stride[0])),typeof M=="number"&&M>=0?m=m+this.stride[1]*M|0:(o.push(this.shape[1]),L.push(this.stride[1])),typeof w=="number"&&w>=0?m=m+this.stride[2]*w|0:(o.push(this.shape[2]),L.push(this.stride[2]));var F=l[o.length+1];return F(this.data,o,L,m)},function(x,M,w,o){return new E(x,M[0],M[1],M[2],w[0],w[1],w[2],o)}},4:function(h,l,d){function E(P,x,M,w,o,L,m,F,I,U){this.data=P,this.shape=[x,M,w,o],this.stride=[L,m,F,I],this.offset=U|0}var S=E.prototype;return S.dtype=h,S.dimension=4,Object.defineProperty(S,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(S,"order",{get:d}),S.set=function(x,M,w,o,L){return h==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*M+this.stride[2]*w+this.stride[3]*o,L):this.data[this.offset+this.stride[0]*x+this.stride[1]*M+this.stride[2]*w+this.stride[3]*o]=L},S.get=function(x,M,w,o){return h==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*M+this.stride[2]*w+this.stride[3]*o):this.data[this.offset+this.stride[0]*x+this.stride[1]*M+this.stride[2]*w+this.stride[3]*o]},S.index=function(x,M,w,o){return this.offset+this.stride[0]*x+this.stride[1]*M+this.stride[2]*w+this.stride[3]*o},S.hi=function(x,M,w,o){return new E(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,typeof M!="number"||M<0?this.shape[1]:M|0,typeof w!="number"||w<0?this.shape[2]:w|0,typeof o!="number"||o<0?this.shape[3]:o|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},S.lo=function(x,M,w,o){var L=this.offset,m=0,F=this.shape[0],I=this.shape[1],U=this.shape[2],z=this.shape[3],N=this.stride[0],B=this.stride[1],O=this.stride[2],H=this.stride[3];return typeof x=="number"&&x>=0&&(m=x|0,L+=N*m,F-=m),typeof M=="number"&&M>=0&&(m=M|0,L+=B*m,I-=m),typeof w=="number"&&w>=0&&(m=w|0,L+=O*m,U-=m),typeof o=="number"&&o>=0&&(m=o|0,L+=H*m,z-=m),new E(this.data,F,I,U,z,N,B,O,H,L)},S.step=function(x,M,w,o){var L=this.shape[0],m=this.shape[1],F=this.shape[2],I=this.shape[3],U=this.stride[0],z=this.stride[1],N=this.stride[2],B=this.stride[3],O=this.offset,H=0,Y=Math.ceil;return typeof x=="number"&&(H=x|0,H<0?(O+=U*(L-1),L=Y(-L/H)):L=Y(L/H),U*=H),typeof M=="number"&&(H=M|0,H<0?(O+=z*(m-1),m=Y(-m/H)):m=Y(m/H),z*=H),typeof w=="number"&&(H=w|0,H<0?(O+=N*(F-1),F=Y(-F/H)):F=Y(F/H),N*=H),typeof o=="number"&&(H=o|0,H<0?(O+=B*(I-1),I=Y(-I/H)):I=Y(I/H),B*=H),new E(this.data,L,m,F,I,U,z,N,B,O)},S.transpose=function(x,M,w,o){x=x===void 0?0:x|0,M=M===void 0?1:M|0,w=w===void 0?2:w|0,o=o===void 0?3:o|0;var L=this.shape,m=this.stride;return new E(this.data,L[x],L[M],L[w],L[o],m[x],m[M],m[w],m[o],this.offset)},S.pick=function(x,M,w,o){var L=[],m=[],F=this.offset;typeof x=="number"&&x>=0?F=F+this.stride[0]*x|0:(L.push(this.shape[0]),m.push(this.stride[0])),typeof M=="number"&&M>=0?F=F+this.stride[1]*M|0:(L.push(this.shape[1]),m.push(this.stride[1])),typeof w=="number"&&w>=0?F=F+this.stride[2]*w|0:(L.push(this.shape[2]),m.push(this.stride[2])),typeof o=="number"&&o>=0?F=F+this.stride[3]*o|0:(L.push(this.shape[3]),m.push(this.stride[3]));var I=l[L.length+1];return I(this.data,L,m,F)},function(x,M,w,o){return new E(x,M[0],M[1],M[2],M[3],w[0],w[1],w[2],w[3],o)}},5:function(l,d,E){function S(x,M,w,o,L,m,F,I,U,z,N,B){this.data=x,this.shape=[M,w,o,L,m],this.stride=[F,I,U,z,N],this.offset=B|0}var P=S.prototype;return P.dtype=l,P.dimension=5,Object.defineProperty(P,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(P,"order",{get:E}),P.set=function(M,w,o,L,m,F){return l==="generic"?this.data.set(this.offset+this.stride[0]*M+this.stride[1]*w+this.stride[2]*o+this.stride[3]*L+this.stride[4]*m,F):this.data[this.offset+this.stride[0]*M+this.stride[1]*w+this.stride[2]*o+this.stride[3]*L+this.stride[4]*m]=F},P.get=function(M,w,o,L,m){return l==="generic"?this.data.get(this.offset+this.stride[0]*M+this.stride[1]*w+this.stride[2]*o+this.stride[3]*L+this.stride[4]*m):this.data[this.offset+this.stride[0]*M+this.stride[1]*w+this.stride[2]*o+this.stride[3]*L+this.stride[4]*m]},P.index=function(M,w,o,L,m){return this.offset+this.stride[0]*M+this.stride[1]*w+this.stride[2]*o+this.stride[3]*L+this.stride[4]*m},P.hi=function(M,w,o,L,m){return new S(this.data,typeof M!="number"||M<0?this.shape[0]:M|0,typeof w!="number"||w<0?this.shape[1]:w|0,typeof o!="number"||o<0?this.shape[2]:o|0,typeof L!="number"||L<0?this.shape[3]:L|0,typeof m!="number"||m<0?this.shape[4]:m|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},P.lo=function(M,w,o,L,m){var F=this.offset,I=0,U=this.shape[0],z=this.shape[1],N=this.shape[2],B=this.shape[3],O=this.shape[4],H=this.stride[0],Y=this.stride[1],J=this.stride[2],re=this.stride[3],ie=this.stride[4];return typeof M=="number"&&M>=0&&(I=M|0,F+=H*I,U-=I),typeof w=="number"&&w>=0&&(I=w|0,F+=Y*I,z-=I),typeof o=="number"&&o>=0&&(I=o|0,F+=J*I,N-=I),typeof L=="number"&&L>=0&&(I=L|0,F+=re*I,B-=I),typeof m=="number"&&m>=0&&(I=m|0,F+=ie*I,O-=I),new S(this.data,U,z,N,B,O,H,Y,J,re,ie,F)},P.step=function(M,w,o,L,m){var F=this.shape[0],I=this.shape[1],U=this.shape[2],z=this.shape[3],N=this.shape[4],B=this.stride[0],O=this.stride[1],H=this.stride[2],Y=this.stride[3],J=this.stride[4],re=this.offset,ie=0,ce=Math.ceil;return typeof M=="number"&&(ie=M|0,ie<0?(re+=B*(F-1),F=ce(-F/ie)):F=ce(F/ie),B*=ie),typeof w=="number"&&(ie=w|0,ie<0?(re+=O*(I-1),I=ce(-I/ie)):I=ce(I/ie),O*=ie),typeof o=="number"&&(ie=o|0,ie<0?(re+=H*(U-1),U=ce(-U/ie)):U=ce(U/ie),H*=ie),typeof L=="number"&&(ie=L|0,ie<0?(re+=Y*(z-1),z=ce(-z/ie)):z=ce(z/ie),Y*=ie),typeof m=="number"&&(ie=m|0,ie<0?(re+=J*(N-1),N=ce(-N/ie)):N=ce(N/ie),J*=ie),new S(this.data,F,I,U,z,N,B,O,H,Y,J,re)},P.transpose=function(M,w,o,L,m){M=M===void 0?0:M|0,w=w===void 0?1:w|0,o=o===void 0?2:o|0,L=L===void 0?3:L|0,m=m===void 0?4:m|0;var F=this.shape,I=this.stride;return new S(this.data,F[M],F[w],F[o],F[L],F[m],I[M],I[w],I[o],I[L],I[m],this.offset)},P.pick=function(M,w,o,L,m){var F=[],I=[],U=this.offset;typeof M=="number"&&M>=0?U=U+this.stride[0]*M|0:(F.push(this.shape[0]),I.push(this.stride[0])),typeof w=="number"&&w>=0?U=U+this.stride[1]*w|0:(F.push(this.shape[1]),I.push(this.stride[1])),typeof o=="number"&&o>=0?U=U+this.stride[2]*o|0:(F.push(this.shape[2]),I.push(this.stride[2])),typeof L=="number"&&L>=0?U=U+this.stride[3]*L|0:(F.push(this.shape[3]),I.push(this.stride[3])),typeof m=="number"&&m>=0?U=U+this.stride[4]*m|0:(F.push(this.shape[4]),I.push(this.stride[4]));var z=d[F.length+1];return z(this.data,F,I,U)},function(M,w,o,L){return new S(M,w[0],w[1],w[2],w[3],w[4],o[0],o[1],o[2],o[3],o[4],L)}}};function u(h,l){var d=l===-1?"T":String(l),E=f[d];return l===-1?E(h):l===0?E(h,c[h][0]):E(h,c[h],i)}function y(h){if(r(h))return"buffer";if(s)switch(Object.prototype.toString.call(h)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(h)?"array":"generic"}var c={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function T(h,l,d,E){if(h===void 0){var o=c.array[0];return o([])}else typeof h=="number"&&(h=[h]);l===void 0&&(l=[h.length]);var S=l.length;if(d===void 0){d=new Array(S);for(var P=S-1,x=1;P>=0;--P)d[P]=x,x*=l[P]}if(E===void 0){E=0;for(var P=0;P<S;++P)d[P]<0&&(E-=(l[P]-1)*d[P])}for(var M=y(h),w=c[M];w.length<=S+1;)w.push(u(M,w.length-1));var o=w[S+1];return o(h,l,d,E)}v.exports=T},8551:function(v,p,t){var r=t(8362),s=Math.pow(2,-1074),n=-1>>>0;v.exports=i;function i(f,u){if(isNaN(f)||isNaN(u))return NaN;if(f===u)return f;if(f===0)return u<0?-s:s;var y=r.hi(f),c=r.lo(f);return u>f==f>0?c===n?(y+=1,c=0):c+=1:c===0?(c=n,y-=1):c-=1,r.pack(c,y)}},115:function(v,p){var t=1e-6,r=1e-6;p.vertexNormals=function(s,n,i){for(var f=n.length,u=new Array(f),y=i===void 0?t:i,c=0;c<f;++c)u[c]=[0,0,0];for(var c=0;c<s.length;++c)for(var T=s[c],h=0,l=T[T.length-1],d=T[0],E=0;E<T.length;++E){h=l,l=d,d=T[(E+1)%T.length];for(var S=n[h],P=n[l],x=n[d],M=new Array(3),w=0,o=new Array(3),L=0,m=0;m<3;++m)M[m]=S[m]-P[m],w+=M[m]*M[m],o[m]=x[m]-P[m],L+=o[m]*o[m];if(w*L>y)for(var F=u[l],I=1/Math.sqrt(w*L),m=0;m<3;++m){var U=(m+1)%3,z=(m+2)%3;F[m]+=I*(o[U]*M[z]-o[z]*M[U])}}for(var c=0;c<f;++c){for(var F=u[c],N=0,m=0;m<3;++m)N+=F[m]*F[m];if(N>y)for(var I=1/Math.sqrt(N),m=0;m<3;++m)F[m]*=I;else for(var m=0;m<3;++m)F[m]=0}return u},p.faceNormals=function(s,n,i){for(var f=s.length,u=new Array(f),y=i===void 0?r:i,c=0;c<f;++c){for(var T=s[c],h=new Array(3),l=0;l<3;++l)h[l]=n[T[l]];for(var d=new Array(3),E=new Array(3),l=0;l<3;++l)d[l]=h[1][l]-h[0][l],E[l]=h[2][l]-h[0][l];for(var S=new Array(3),P=0,l=0;l<3;++l){var x=(l+1)%3,M=(l+2)%3;S[l]=d[x]*E[M]-d[M]*E[x],P+=S[l]*S[l]}P>y?P=1/Math.sqrt(P):P=0;for(var l=0;l<3;++l)S[l]*=P;u[c]=S}return u}},567:function(v){v.exports=p;function p(t,r,s,n,i,f,u,y,c,T){var h=r+f+T;if(l>0){var l=Math.sqrt(h+1);t[0]=.5*(u-c)/l,t[1]=.5*(y-n)/l,t[2]=.5*(s-f)/l,t[3]=.5*l}else{var d=Math.max(r,f,T),l=Math.sqrt(2*d-h+1);r>=d?(t[0]=.5*l,t[1]=.5*(i+s)/l,t[2]=.5*(y+n)/l,t[3]=.5*(u-c)/l):f>=d?(t[0]=.5*(s+i)/l,t[1]=.5*l,t[2]=.5*(c+u)/l,t[3]=.5*(y-n)/l):(t[0]=.5*(n+y)/l,t[1]=.5*(u+c)/l,t[2]=.5*l,t[3]=.5*(s-i)/l)}return t}},7774:function(v,p,t){v.exports=l;var r=t(8444),s=t(3012),n=t(5950),i=t(7437),f=t(567);function u(d,E,S){return Math.sqrt(Math.pow(d,2)+Math.pow(E,2)+Math.pow(S,2))}function y(d,E,S,P){return Math.sqrt(Math.pow(d,2)+Math.pow(E,2)+Math.pow(S,2)+Math.pow(P,2))}function c(d,E){var S=E[0],P=E[1],x=E[2],M=E[3],w=y(S,P,x,M);w>1e-6?(d[0]=S/w,d[1]=P/w,d[2]=x/w,d[3]=M/w):(d[0]=d[1]=d[2]=0,d[3]=1)}function T(d,E,S){this.radius=r([S]),this.center=r(E),this.rotation=r(d),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var h=T.prototype;h.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},h.recalcMatrix=function(d){this.radius.curve(d),this.center.curve(d),this.rotation.curve(d);var E=this.computedRotation;c(E,E);var S=this.computedMatrix;n(S,E);var P=this.computedCenter,x=this.computedEye,M=this.computedUp,w=Math.exp(this.computedRadius[0]);x[0]=P[0]+w*S[2],x[1]=P[1]+w*S[6],x[2]=P[2]+w*S[10],M[0]=S[1],M[1]=S[5],M[2]=S[9];for(var o=0;o<3;++o){for(var L=0,m=0;m<3;++m)L+=S[o+4*m]*x[m];S[12+o]=-L}},h.getMatrix=function(d,E){this.recalcMatrix(d);var S=this.computedMatrix;if(E){for(var P=0;P<16;++P)E[P]=S[P];return E}return S},h.idle=function(d){this.center.idle(d),this.radius.idle(d),this.rotation.idle(d)},h.flush=function(d){this.center.flush(d),this.radius.flush(d),this.rotation.flush(d)},h.pan=function(d,E,S,P){E=E||0,S=S||0,P=P||0,this.recalcMatrix(d);var x=this.computedMatrix,M=x[1],w=x[5],o=x[9],L=u(M,w,o);M/=L,w/=L,o/=L;var m=x[0],F=x[4],I=x[8],U=m*M+F*w+I*o;m-=M*U,F-=w*U,I-=o*U;var z=u(m,F,I);m/=z,F/=z,I/=z,x[2],x[6],x[10];var N=m*E+M*S,B=F*E+w*S,O=I*E+o*S;this.center.move(d,N,B,O);var H=Math.exp(this.computedRadius[0]);H=Math.max(1e-4,H+P),this.radius.set(d,Math.log(H))},h.rotate=function(d,E,S,P){this.recalcMatrix(d),E=E||0,S=S||0;var x=this.computedMatrix,M=x[0],w=x[4],o=x[8],L=x[1],m=x[5],F=x[9],I=x[2],U=x[6],z=x[10],N=E*M+S*L,B=E*w+S*m,O=E*o+S*F,H=-(U*O-z*B),Y=-(z*N-I*O),J=-(I*B-U*N),re=Math.sqrt(Math.max(0,1-Math.pow(H,2)-Math.pow(Y,2)-Math.pow(J,2))),ie=y(H,Y,J,re);ie>1e-6?(H/=ie,Y/=ie,J/=ie,re/=ie):(H=Y=J=0,re=1);var ce=this.computedRotation,Q=ce[0],j=ce[1],Z=ce[2],$=ce[3],te=Q*re+$*H+j*J-Z*Y,se=j*re+$*Y+Z*H-Q*J,ee=Z*re+$*J+Q*Y-j*H,q=$*re-Q*H-j*Y-Z*J;if(P){H=I,Y=U,J=z;var le=Math.sin(P)/u(H,Y,J);H*=le,Y*=le,J*=le,re=Math.cos(E),te=te*re+q*H+se*J-ee*Y,se=se*re+q*Y+ee*H-te*J,ee=ee*re+q*J+te*Y-se*H,q=q*re-te*H-se*Y-ee*J}var oe=y(te,se,ee,q);oe>1e-6?(te/=oe,se/=oe,ee/=oe,q/=oe):(te=se=ee=0,q=1),this.rotation.set(d,te,se,ee,q)},h.lookAt=function(d,E,S,P){this.recalcMatrix(d),S=S||this.computedCenter,E=E||this.computedEye,P=P||this.computedUp;var x=this.computedMatrix;s(x,E,S,P);var M=this.computedRotation;f(M,x[0],x[1],x[2],x[4],x[5],x[6],x[8],x[9],x[10]),c(M,M),this.rotation.set(d,M[0],M[1],M[2],M[3]);for(var w=0,o=0;o<3;++o)w+=Math.pow(S[o]-E[o],2);this.radius.set(d,.5*Math.log(Math.max(w,1e-6))),this.center.set(d,S[0],S[1],S[2])},h.translate=function(d,E,S,P){this.center.move(d,E||0,S||0,P||0)},h.setMatrix=function(d,E){var S=this.computedRotation;f(S,E[0],E[1],E[2],E[4],E[5],E[6],E[8],E[9],E[10]),c(S,S),this.rotation.set(d,S[0],S[1],S[2],S[3]);var P=this.computedMatrix;i(P,E);var x=P[15];if(Math.abs(x)>1e-6){var M=P[12]/x,w=P[13]/x,o=P[14]/x;this.recalcMatrix(d);var L=Math.exp(this.computedRadius[0]);this.center.set(d,M-P[2]*L,w-P[6]*L,o-P[10]*L),this.radius.idle(d)}else this.center.idle(d),this.radius.idle(d)},h.setDistance=function(d,E){E>0&&this.radius.set(d,Math.log(E))},h.setDistanceLimits=function(d,E){d>0?d=Math.log(d):d=-1/0,E>0?E=Math.log(E):E=1/0,E=Math.max(E,d),this.radius.bounds[0][0]=d,this.radius.bounds[1][0]=E},h.getDistanceLimits=function(d){var E=this.radius.bounds;return d?(d[0]=Math.exp(E[0][0]),d[1]=Math.exp(E[1][0]),d):[Math.exp(E[0][0]),Math.exp(E[1][0])]},h.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},h.fromJSON=function(d){var E=this.lastT(),S=d.center;S&&this.center.set(E,S[0],S[1],S[2]);var P=d.rotation;P&&this.rotation.set(E,P[0],P[1],P[2],P[3]);var x=d.distance;x&&x>0&&this.radius.set(E,Math.log(x)),this.setDistanceLimits(d.zoomMin,d.zoomMax)};function l(d){d=d||{};var E=d.center||[0,0,0],S=d.rotation||[0,0,0,1],P=d.radius||1;E=[].slice.call(E,0,3),S=[].slice.call(S,0,4),c(S,S);var x=new T(S,E,Math.log(P));return x.setDistanceLimits(d.zoomMin,d.zoomMax),("eye"in d||"up"in d)&&x.lookAt(0,d.eye,d.center,d.up),x}},4930:function(v,p,t){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var r=t(6184);v.exports=function(n,i,f){return f=typeof f<"u"?f+"":" ",r(f,i)+n}},4405:function(v){v.exports=function(t,r){r||(r=[0,""]),t=String(t);var s=parseFloat(t,10);return r[0]=s,r[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",r}},4166:function(v,p,t){v.exports=s;var r=t(9398);function s(n,i){for(var f=i.length|0,u=n.length,y=[new Array(f),new Array(f)],c=0;c<f;++c)y[0][c]=[],y[1][c]=[];for(var c=0;c<u;++c){var T=n[c];y[0][T[0]].push(T),y[1][T[1]].push(T)}for(var h=[],c=0;c<f;++c)y[0][c].length+y[1][c].length===0&&h.push([c]);function l(w,o){var L=y[o][w[o]];L.splice(L.indexOf(w),1)}function d(w,o,L){for(var m,F,I,U=0;U<2;++U)if(y[U][o].length>0){m=y[U][o][0],I=U;break}F=m[I^1];for(var z=0;z<2;++z)for(var N=y[z][o],B=0;B<N.length;++B){var O=N[B],H=O[z^1],Y=r(i[w],i[o],i[F],i[H]);Y>0&&(m=O,F=H,I=z)}return L||m&&l(m,I),F}function E(w,o){var L=y[o][w][0],m=[w];l(L,o);for(var F=L[o^1];;){for(;F!==w;)m.push(F),F=d(m[m.length-2],F,!1);if(y[0][w].length+y[1][w].length===0)break;var I=m[m.length-1],U=w,z=m[1],N=d(I,U,!0);if(r(i[I],i[U],i[z],i[N])<0)break;m.push(w),F=d(I,U)}return m}function S(w,o){return o[1]===o[o.length-1]}for(var c=0;c<f;++c)for(var P=0;P<2;++P){for(var x=[];y[P][c].length>0;){y[0][c].length;var M=E(c,P);S(x,M)?x.push.apply(x,M):(x.length>0&&h.push(x),x=M)}x.length>0&&h.push(x)}return h}},3959:function(v,p,t){v.exports=s;var r=t(8348);function s(n,i){for(var f=r(n,i.length),u=new Array(i.length),y=new Array(i.length),c=[],T=0;T<i.length;++T){var h=f[T].length;y[T]=h,u[T]=!0,h<=1&&c.push(T)}for(;c.length>0;){var l=c.pop();u[l]=!1;for(var d=f[l],T=0;T<d.length;++T){var E=d[T];--y[E]===0&&c.push(E)}}for(var S=new Array(i.length),P=[],T=0;T<i.length;++T)if(u[T]){var l=P.length;S[T]=l,P.push(i[T])}else S[T]=-1;for(var x=[],T=0;T<n.length;++T){var M=n[T];u[M[0]]&&u[M[1]]&&x.push([S[M[0]],S[M[1]]])}return[x,P]}},8040:function(v,p,t){v.exports=h;var r=t(8348),s=t(4166),n=t(211),i=t(9660),f=t(9662),u=t(1215),y=t(3959);function c(l,d){for(var E=new Array(l),S=0;S<l;++S)E[S]=d;return E}function T(l){for(var d=new Array(l),E=0;E<l;++E)d[E]=[];return d}function h(l,d){var q=y(l,d);l=q[0],d=q[1];var E=d.length;l.length;for(var S=r(l,d.length),P=0;P<E;++P)if(S[P].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var x=s(l,d);function M(Ue){for(var Ve=Ue.length,Pe=[0],be=0;be<Ve;++be){var Le=d[Ue[be]],We=d[Ue[(be+1)%Ve]],je=i(-Le[0],Le[1]),Fe=i(-Le[0],We[1]),Ze=i(We[0],Le[1]),ut=i(We[0],We[1]);Pe=f(Pe,f(f(je,Fe),f(Ze,ut)))}return Pe[Pe.length-1]>0}x=x.filter(M);for(var w=x.length,o=new Array(w),L=new Array(w),P=0;P<w;++P){o[P]=P;var m=new Array(w),F=x[P].map(function(Ve){return d[Ve]}),I=n([F]),U=0;e:for(var z=0;z<w;++z)if(m[z]=0,P!==z){for(var N=x[z],B=N.length,O=0;O<B;++O){var H=I(d[N[O]]);if(H!==0){H<0&&(m[z]=1,U+=1);continue e}}m[z]=1,U+=1}L[P]=[U,P,m]}L.sort(function(Ue,Ve){return Ve[0]-Ue[0]});for(var P=0;P<w;++P)for(var m=L[P],Y=m[1],J=m[2],z=0;z<w;++z)J[z]&&(o[z]=Y);for(var re=T(w),P=0;P<w;++P)re[P].push(o[P]),re[o[P]].push(P);for(var ie={},ce=c(E,!1),P=0;P<w;++P)for(var N=x[P],B=N.length,z=0;z<B;++z){var Q=N[z],j=N[(z+1)%B],Z=Math.min(Q,j)+":"+Math.max(Q,j);if(Z in ie){var $=ie[Z];re[$].push(P),re[P].push($),ce[Q]=ce[j]=!0}else ie[Z]=P}function te(Ue){for(var Ve=Ue.length,Pe=0;Pe<Ve;++Pe)if(!ce[Ue[Pe]])return!1;return!0}for(var se=[],ee=c(w,-1),P=0;P<w;++P)o[P]===P&&!te(x[P])?(se.push(P),ee[P]=0):ee[P]=-1;for(var q=[];se.length>0;){var le=se.pop(),oe=re[le];u(oe,function(Ue,Ve){return Ue-Ve});var he=oe.length,me=ee[le],Ce;if(me===0){var N=x[le];Ce=[N]}for(var P=0;P<he;++P){var Ae=oe[P];if(!(ee[Ae]>=0)&&(ee[Ae]=me^1,se.push(Ae),me===0)){var N=x[Ae];te(N)||(N.reverse(),Ce.push(N))}}me===0&&q.push(Ce)}return q}},211:function(v,p,t){v.exports=d;var r=t(417)[3],s=t(4385),n=t(9014),i=t(5070);function f(){return!0}function u(E){return function(S,P){var x=E[S];return x?!!x.queryPoint(P,f):!1}}function y(E){for(var S={},P=0;P<E.length;++P){var x=E[P],M=x[0][0],w=x[0][1],o=x[1][1],L=[Math.min(w,o),Math.max(w,o)];M in S?S[M].push(L):S[M]=[L]}for(var m={},F=Object.keys(S),P=0;P<F.length;++P){var I=S[F[P]];m[F[P]]=n(I)}return u(m)}function c(E,S){return function(P){var x=i.le(S,P[0]);if(x<0)return 1;var M=E[x];if(!M)if(x>0&&S[x]===P[0])M=E[x-1];else return 1;for(var w=1;M;){var o=M.key,L=r(P,o[0],o[1]);if(o[0][0]<o[1][0])if(L<0)M=M.left;else if(L>0)w=-1,M=M.right;else return 0;else if(L>0)M=M.left;else if(L<0)w=1,M=M.right;else return 0}return w}}function T(E){return 1}function h(E){return function(P){return E(P[0],P[1])?0:1}}function l(E,S){return function(x){return E(x[0],x[1])?0:S(x)}}function d(E){for(var S=E.length,P=[],x=[],M=0;M<S;++M)for(var w=E[M],o=w.length,L=o-1,m=0;m<o;L=m++){var F=w[L],I=w[m];F[0]===I[0]?x.push([F,I]):P.push([F,I])}if(P.length===0)return x.length===0?T:h(y(x));var U=s(P),z=c(U.slabs,U.coordinates);return x.length===0?z:l(y(x),z)}},7309:function(v){var p=new Float64Array(4),t=new Float64Array(4),r=new Float64Array(4);function s(n,i,f,u,y){p.length<u.length&&(p=new Float64Array(u.length),t=new Float64Array(u.length),r=new Float64Array(u.length));for(var c=0;c<u.length;++c)p[c]=n[c]-u[c],t[c]=i[c]-n[c],r[c]=f[c]-n[c];for(var T=0,h=0,l=0,d=0,E=0,S=0,c=0;c<u.length;++c){var P=t[c],x=r[c],M=p[c];T+=P*P,h+=P*x,l+=x*x,d+=M*P,E+=M*x,S+=M*M}var w=Math.abs(T*l-h*h),o=h*E-l*d,L=h*d-T*E,m;if(o+L<=w)if(o<0)L<0&&d<0?(L=0,-d>=T?(o=1,m=T+2*d+S):(o=-d/T,m=d*o+S)):(o=0,E>=0?(L=0,m=S):-E>=l?(L=1,m=l+2*E+S):(L=-E/l,m=E*L+S));else if(L<0)L=0,d>=0?(o=0,m=S):-d>=T?(o=1,m=T+2*d+S):(o=-d/T,m=d*o+S);else{var F=1/w;o*=F,L*=F,m=o*(T*o+h*L+2*d)+L*(h*o+l*L+2*E)+S}else{var I,U,z,N;o<0?(I=h+d,U=l+E,U>I?(z=U-I,N=T-2*h+l,z>=N?(o=1,L=0,m=T+2*d+S):(o=z/N,L=1-o,m=o*(T*o+h*L+2*d)+L*(h*o+l*L+2*E)+S)):(o=0,U<=0?(L=1,m=l+2*E+S):E>=0?(L=0,m=S):(L=-E/l,m=E*L+S))):L<0?(I=h+E,U=T+d,U>I?(z=U-I,N=T-2*h+l,z>=N?(L=1,o=0,m=l+2*E+S):(L=z/N,o=1-L,m=o*(T*o+h*L+2*d)+L*(h*o+l*L+2*E)+S)):(L=0,U<=0?(o=1,m=T+2*d+S):d>=0?(o=0,m=S):(o=-d/T,m=d*o+S))):(z=l+E-h-d,z<=0?(o=0,L=1,m=l+2*E+S):(N=T-2*h+l,z>=N?(o=1,L=0,m=T+2*d+S):(o=z/N,L=1-o,m=o*(T*o+h*L+2*d)+L*(h*o+l*L+2*E)+S)))}for(var B=1-o-L,c=0;c<u.length;++c)y[c]=B*n[c]+o*i[c]+L*f[c];return m<0?0:m}v.exports=s},1116:function(v,p,t){v.exports=t(6093)},7584:function(v,p,t){var r=t(1539);v.exports=s;function s(n,i){for(var f=n.length,u=new Array(f),y=0;y<f;++y)u[y]=r(n[y],i[y]);return u}},2826:function(v,p,t){v.exports=s;var r=t(5125);function s(n){for(var i=new Array(n.length),f=0;f<n.length;++f)i[f]=r(n[f]);return i}},4469:function(v,p,t){var r=t(5125),s=t(3962);v.exports=n;function n(i,f){for(var u=r(f),y=i.length,c=new Array(y),T=0;T<y;++T)c[T]=s(i[T],u);return c}},6695:function(v,p,t){var r=t(4354);v.exports=s;function s(n,i){for(var f=n.length,u=new Array(f),y=0;y<f;++y)u[y]=r(n[y],i[y]);return u}},7037:function(v,p,t){var r=t(9209),s=t(1284),n=t(9887);v.exports=i;function i(f){f.sort(s);for(var u=f.length,y=0,c=0;c<u;++c){var T=f[c],h=n(T);if(h!==0){if(y>0){var l=f[y-1];if(r(T,l)===0&&n(l)!==h){y-=1;continue}}f[y++]=T}}return f.length=y,f}},6184:function(v){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var p="",t;v.exports=r;function r(s,n){if(typeof s!="string")throw new TypeError("expected a string");if(n===1)return s;if(n===2)return s+s;var i=s.length*n;if(t!==s||typeof t>"u")t=s,p="";else if(p.length>=i)return p.substr(0,i);for(;i>p.length&&n>1;)n&1&&(p+=s),n>>=1,s+=s;return p+=s,p=p.substr(0,i),p}},8161:function(v,p,t){v.exports=t.g.performance&&t.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(v){v.exports=p;function p(t){for(var r=t.length,s=t[t.length-1],n=r,i=r-2;i>=0;--i){var f=s,u=t[i];s=f+u;var y=s-f,c=u-y;c&&(t[--n]=s,s=c)}for(var T=0,i=n;i<r;++i){var f=t[i],u=s;s=f+u;var y=s-f,c=u-y;c&&(t[T++]=c)}return t[T++]=s,t.length=T,t}},8167:function(v,p,t){var r=t(9660),s=t(9662),n=t(8289),i=t(402),f=6;function u(S,P,x,M){return function(o){return M(S(x(o[0][0],o[1][1]),x(-o[0][1],o[1][0])))}}function y(S,P,x,M){return function(o){return M(S(P(S(x(o[1][1],o[2][2]),x(-o[1][2],o[2][1])),o[0][0]),S(P(S(x(o[1][0],o[2][2]),x(-o[1][2],o[2][0])),-o[0][1]),P(S(x(o[1][0],o[2][1]),x(-o[1][1],o[2][0])),o[0][2]))))}}function c(S,P,x,M){return function(o){return M(S(S(P(S(P(S(x(o[2][2],o[3][3]),x(-o[2][3],o[3][2])),o[1][1]),S(P(S(x(o[2][1],o[3][3]),x(-o[2][3],o[3][1])),-o[1][2]),P(S(x(o[2][1],o[3][2]),x(-o[2][2],o[3][1])),o[1][3]))),o[0][0]),P(S(P(S(x(o[2][2],o[3][3]),x(-o[2][3],o[3][2])),o[1][0]),S(P(S(x(o[2][0],o[3][3]),x(-o[2][3],o[3][0])),-o[1][2]),P(S(x(o[2][0],o[3][2]),x(-o[2][2],o[3][0])),o[1][3]))),-o[0][1])),S(P(S(P(S(x(o[2][1],o[3][3]),x(-o[2][3],o[3][1])),o[1][0]),S(P(S(x(o[2][0],o[3][3]),x(-o[2][3],o[3][0])),-o[1][1]),P(S(x(o[2][0],o[3][1]),x(-o[2][1],o[3][0])),o[1][3]))),o[0][2]),P(S(P(S(x(o[2][1],o[3][2]),x(-o[2][2],o[3][1])),o[1][0]),S(P(S(x(o[2][0],o[3][2]),x(-o[2][2],o[3][0])),-o[1][1]),P(S(x(o[2][0],o[3][1]),x(-o[2][1],o[3][0])),o[1][2]))),-o[0][3]))))}}function T(S,P,x,M){return function(o){return M(S(S(P(S(S(P(S(P(S(x(o[3][3],o[4][4]),x(-o[3][4],o[4][3])),o[2][2]),S(P(S(x(o[3][2],o[4][4]),x(-o[3][4],o[4][2])),-o[2][3]),P(S(x(o[3][2],o[4][3]),x(-o[3][3],o[4][2])),o[2][4]))),o[1][1]),P(S(P(S(x(o[3][3],o[4][4]),x(-o[3][4],o[4][3])),o[2][1]),S(P(S(x(o[3][1],o[4][4]),x(-o[3][4],o[4][1])),-o[2][3]),P(S(x(o[3][1],o[4][3]),x(-o[3][3],o[4][1])),o[2][4]))),-o[1][2])),S(P(S(P(S(x(o[3][2],o[4][4]),x(-o[3][4],o[4][2])),o[2][1]),S(P(S(x(o[3][1],o[4][4]),x(-o[3][4],o[4][1])),-o[2][2]),P(S(x(o[3][1],o[4][2]),x(-o[3][2],o[4][1])),o[2][4]))),o[1][3]),P(S(P(S(x(o[3][2],o[4][3]),x(-o[3][3],o[4][2])),o[2][1]),S(P(S(x(o[3][1],o[4][3]),x(-o[3][3],o[4][1])),-o[2][2]),P(S(x(o[3][1],o[4][2]),x(-o[3][2],o[4][1])),o[2][3]))),-o[1][4]))),o[0][0]),P(S(S(P(S(P(S(x(o[3][3],o[4][4]),x(-o[3][4],o[4][3])),o[2][2]),S(P(S(x(o[3][2],o[4][4]),x(-o[3][4],o[4][2])),-o[2][3]),P(S(x(o[3][2],o[4][3]),x(-o[3][3],o[4][2])),o[2][4]))),o[1][0]),P(S(P(S(x(o[3][3],o[4][4]),x(-o[3][4],o[4][3])),o[2][0]),S(P(S(x(o[3][0],o[4][4]),x(-o[3][4],o[4][0])),-o[2][3]),P(S(x(o[3][0],o[4][3]),x(-o[3][3],o[4][0])),o[2][4]))),-o[1][2])),S(P(S(P(S(x(o[3][2],o[4][4]),x(-o[3][4],o[4][2])),o[2][0]),S(P(S(x(o[3][0],o[4][4]),x(-o[3][4],o[4][0])),-o[2][2]),P(S(x(o[3][0],o[4][2]),x(-o[3][2],o[4][0])),o[2][4]))),o[1][3]),P(S(P(S(x(o[3][2],o[4][3]),x(-o[3][3],o[4][2])),o[2][0]),S(P(S(x(o[3][0],o[4][3]),x(-o[3][3],o[4][0])),-o[2][2]),P(S(x(o[3][0],o[4][2]),x(-o[3][2],o[4][0])),o[2][3]))),-o[1][4]))),-o[0][1])),S(P(S(S(P(S(P(S(x(o[3][3],o[4][4]),x(-o[3][4],o[4][3])),o[2][1]),S(P(S(x(o[3][1],o[4][4]),x(-o[3][4],o[4][1])),-o[2][3]),P(S(x(o[3][1],o[4][3]),x(-o[3][3],o[4][1])),o[2][4]))),o[1][0]),P(S(P(S(x(o[3][3],o[4][4]),x(-o[3][4],o[4][3])),o[2][0]),S(P(S(x(o[3][0],o[4][4]),x(-o[3][4],o[4][0])),-o[2][3]),P(S(x(o[3][0],o[4][3]),x(-o[3][3],o[4][0])),o[2][4]))),-o[1][1])),S(P(S(P(S(x(o[3][1],o[4][4]),x(-o[3][4],o[4][1])),o[2][0]),S(P(S(x(o[3][0],o[4][4]),x(-o[3][4],o[4][0])),-o[2][1]),P(S(x(o[3][0],o[4][1]),x(-o[3][1],o[4][0])),o[2][4]))),o[1][3]),P(S(P(S(x(o[3][1],o[4][3]),x(-o[3][3],o[4][1])),o[2][0]),S(P(S(x(o[3][0],o[4][3]),x(-o[3][3],o[4][0])),-o[2][1]),P(S(x(o[3][0],o[4][1]),x(-o[3][1],o[4][0])),o[2][3]))),-o[1][4]))),o[0][2]),S(P(S(S(P(S(P(S(x(o[3][2],o[4][4]),x(-o[3][4],o[4][2])),o[2][1]),S(P(S(x(o[3][1],o[4][4]),x(-o[3][4],o[4][1])),-o[2][2]),P(S(x(o[3][1],o[4][2]),x(-o[3][2],o[4][1])),o[2][4]))),o[1][0]),P(S(P(S(x(o[3][2],o[4][4]),x(-o[3][4],o[4][2])),o[2][0]),S(P(S(x(o[3][0],o[4][4]),x(-o[3][4],o[4][0])),-o[2][2]),P(S(x(o[3][0],o[4][2]),x(-o[3][2],o[4][0])),o[2][4]))),-o[1][1])),S(P(S(P(S(x(o[3][1],o[4][4]),x(-o[3][4],o[4][1])),o[2][0]),S(P(S(x(o[3][0],o[4][4]),x(-o[3][4],o[4][0])),-o[2][1]),P(S(x(o[3][0],o[4][1]),x(-o[3][1],o[4][0])),o[2][4]))),o[1][2]),P(S(P(S(x(o[3][1],o[4][2]),x(-o[3][2],o[4][1])),o[2][0]),S(P(S(x(o[3][0],o[4][2]),x(-o[3][2],o[4][0])),-o[2][1]),P(S(x(o[3][0],o[4][1]),x(-o[3][1],o[4][0])),o[2][2]))),-o[1][4]))),-o[0][3]),P(S(S(P(S(P(S(x(o[3][2],o[4][3]),x(-o[3][3],o[4][2])),o[2][1]),S(P(S(x(o[3][1],o[4][3]),x(-o[3][3],o[4][1])),-o[2][2]),P(S(x(o[3][1],o[4][2]),x(-o[3][2],o[4][1])),o[2][3]))),o[1][0]),P(S(P(S(x(o[3][2],o[4][3]),x(-o[3][3],o[4][2])),o[2][0]),S(P(S(x(o[3][0],o[4][3]),x(-o[3][3],o[4][0])),-o[2][2]),P(S(x(o[3][0],o[4][2]),x(-o[3][2],o[4][0])),o[2][3]))),-o[1][1])),S(P(S(P(S(x(o[3][1],o[4][3]),x(-o[3][3],o[4][1])),o[2][0]),S(P(S(x(o[3][0],o[4][3]),x(-o[3][3],o[4][0])),-o[2][1]),P(S(x(o[3][0],o[4][1]),x(-o[3][1],o[4][0])),o[2][3]))),o[1][2]),P(S(P(S(x(o[3][1],o[4][2]),x(-o[3][2],o[4][1])),o[2][0]),S(P(S(x(o[3][0],o[4][2]),x(-o[3][2],o[4][0])),-o[2][1]),P(S(x(o[3][0],o[4][1]),x(-o[3][1],o[4][0])),o[2][2]))),-o[1][3]))),o[0][4])))))}}function h(S){var P=S===2?u:S===3?y:S===4?c:S===5?T:void 0;return P(s,n,r,i)}var l=[function(){return[0]},function(P){return[P[0][0]]}];function d(S,P,x,M,w,o,L,m){return function(I){switch(I.length){case 0:return S(I);case 1:return P(I);case 2:return x(I);case 3:return M(I);case 4:return w(I);case 5:return o(I)}var U=L[I.length];return U||(U=L[I.length]=m(I.length)),U(I)}}function E(){for(;l.length<f;)l.push(h(l.length));v.exports=d.apply(void 0,l.concat([l,h]));for(var S=0;S<l.length;++S)v.exports[S]=l[S]}E()},9130:function(v,p,t){var r=t(9660),s=t(9662);v.exports=n;function n(i,f){for(var u=r(i[0],f[0]),y=1;y<i.length;++y)u=s(u,r(i[y],f[y]));return u}},2227:function(v,p,t){var r=t(9660),s=t(9662),n=t(4078),i=t(8289),f=6;function u(w){var o=w===3?h:w===4?l:w===5?d:E;return o(s,n,r,i)}function y(){return 0}function c(){return 0}function T(){return 0}function h(w,o,L,m){function F(I,U,z){var N=L(I[0],I[0]),B=m(N,U[0]),O=m(N,z[0]),H=L(U[0],U[0]),Y=m(H,I[0]),J=m(H,z[0]),re=L(z[0],z[0]),ie=m(re,I[0]),ce=m(re,U[0]),Q=w(o(ce,J),o(Y,B)),j=o(ie,O),Z=o(Q,j);return Z[Z.length-1]}return F}function l(w,o,L,m){function F(I,U,z,N){var B=w(L(I[0],I[0]),L(I[1],I[1])),O=m(B,U[0]),H=m(B,z[0]),Y=m(B,N[0]),J=w(L(U[0],U[0]),L(U[1],U[1])),re=m(J,I[0]),ie=m(J,z[0]),ce=m(J,N[0]),Q=w(L(z[0],z[0]),L(z[1],z[1])),j=m(Q,I[0]),Z=m(Q,U[0]),$=m(Q,N[0]),te=w(L(N[0],N[0]),L(N[1],N[1])),se=m(te,I[0]),ee=m(te,U[0]),q=m(te,z[0]),le=w(w(m(o(q,$),U[1]),w(m(o(ee,ce),-z[1]),m(o(Z,ie),N[1]))),w(m(o(ee,ce),I[1]),w(m(o(se,Y),-U[1]),m(o(re,O),N[1])))),oe=w(w(m(o(q,$),I[1]),w(m(o(se,Y),-z[1]),m(o(j,H),N[1]))),w(m(o(Z,ie),I[1]),w(m(o(j,H),-U[1]),m(o(re,O),z[1])))),he=o(le,oe);return he[he.length-1]}return F}function d(w,o,L,m){function F(I,U,z,N,B){var O=w(L(I[0],I[0]),w(L(I[1],I[1]),L(I[2],I[2]))),H=m(O,U[0]),Y=m(O,z[0]),J=m(O,N[0]),re=m(O,B[0]),ie=w(L(U[0],U[0]),w(L(U[1],U[1]),L(U[2],U[2]))),ce=m(ie,I[0]),Q=m(ie,z[0]),j=m(ie,N[0]),Z=m(ie,B[0]),$=w(L(z[0],z[0]),w(L(z[1],z[1]),L(z[2],z[2]))),te=m($,I[0]),se=m($,U[0]),ee=m($,N[0]),q=m($,B[0]),le=w(L(N[0],N[0]),w(L(N[1],N[1]),L(N[2],N[2]))),oe=m(le,I[0]),he=m(le,U[0]),me=m(le,z[0]),Ce=m(le,B[0]),Ae=w(L(B[0],B[0]),w(L(B[1],B[1]),L(B[2],B[2]))),Ue=m(Ae,I[0]),Ve=m(Ae,U[0]),Pe=m(Ae,z[0]),be=m(Ae,N[0]),Le=w(w(w(m(w(m(o(be,Ce),z[1]),w(m(o(Pe,q),-N[1]),m(o(me,ee),B[1]))),U[2]),w(m(w(m(o(be,Ce),U[1]),w(m(o(Ve,Z),-N[1]),m(o(he,j),B[1]))),-z[2]),m(w(m(o(Pe,q),U[1]),w(m(o(Ve,Z),-z[1]),m(o(se,Q),B[1]))),N[2]))),w(m(w(m(o(me,ee),U[1]),w(m(o(he,j),-z[1]),m(o(se,Q),N[1]))),-B[2]),w(m(w(m(o(be,Ce),U[1]),w(m(o(Ve,Z),-N[1]),m(o(he,j),B[1]))),I[2]),m(w(m(o(be,Ce),I[1]),w(m(o(Ue,re),-N[1]),m(o(oe,J),B[1]))),-U[2])))),w(w(m(w(m(o(Ve,Z),I[1]),w(m(o(Ue,re),-U[1]),m(o(ce,H),B[1]))),N[2]),w(m(w(m(o(he,j),I[1]),w(m(o(oe,J),-U[1]),m(o(ce,H),N[1]))),-B[2]),m(w(m(o(me,ee),U[1]),w(m(o(he,j),-z[1]),m(o(se,Q),N[1]))),I[2]))),w(m(w(m(o(me,ee),I[1]),w(m(o(oe,J),-z[1]),m(o(te,Y),N[1]))),-U[2]),w(m(w(m(o(he,j),I[1]),w(m(o(oe,J),-U[1]),m(o(ce,H),N[1]))),z[2]),m(w(m(o(se,Q),I[1]),w(m(o(te,Y),-U[1]),m(o(ce,H),z[1]))),-N[2]))))),We=w(w(w(m(w(m(o(be,Ce),z[1]),w(m(o(Pe,q),-N[1]),m(o(me,ee),B[1]))),I[2]),m(w(m(o(be,Ce),I[1]),w(m(o(Ue,re),-N[1]),m(o(oe,J),B[1]))),-z[2])),w(m(w(m(o(Pe,q),I[1]),w(m(o(Ue,re),-z[1]),m(o(te,Y),B[1]))),N[2]),m(w(m(o(me,ee),I[1]),w(m(o(oe,J),-z[1]),m(o(te,Y),N[1]))),-B[2]))),w(w(m(w(m(o(Pe,q),U[1]),w(m(o(Ve,Z),-z[1]),m(o(se,Q),B[1]))),I[2]),m(w(m(o(Pe,q),I[1]),w(m(o(Ue,re),-z[1]),m(o(te,Y),B[1]))),-U[2])),w(m(w(m(o(Ve,Z),I[1]),w(m(o(Ue,re),-U[1]),m(o(ce,H),B[1]))),z[2]),m(w(m(o(se,Q),I[1]),w(m(o(te,Y),-U[1]),m(o(ce,H),z[1]))),-B[2])))),je=o(Le,We);return je[je.length-1]}return F}function E(w,o,L,m){function F(I,U,z,N,B,O){var H=w(w(L(I[0],I[0]),L(I[1],I[1])),w(L(I[2],I[2]),L(I[3],I[3]))),Y=m(H,U[0]),J=m(H,z[0]),re=m(H,N[0]),ie=m(H,B[0]),ce=m(H,O[0]),Q=w(w(L(U[0],U[0]),L(U[1],U[1])),w(L(U[2],U[2]),L(U[3],U[3]))),j=m(Q,I[0]),Z=m(Q,z[0]),$=m(Q,N[0]),te=m(Q,B[0]),se=m(Q,O[0]),ee=w(w(L(z[0],z[0]),L(z[1],z[1])),w(L(z[2],z[2]),L(z[3],z[3]))),q=m(ee,I[0]),le=m(ee,U[0]),oe=m(ee,N[0]),he=m(ee,B[0]),me=m(ee,O[0]),Ce=w(w(L(N[0],N[0]),L(N[1],N[1])),w(L(N[2],N[2]),L(N[3],N[3]))),Ae=m(Ce,I[0]),Ue=m(Ce,U[0]),Ve=m(Ce,z[0]),Pe=m(Ce,B[0]),be=m(Ce,O[0]),Le=w(w(L(B[0],B[0]),L(B[1],B[1])),w(L(B[2],B[2]),L(B[3],B[3]))),We=m(Le,I[0]),je=m(Le,U[0]),Fe=m(Le,z[0]),Ze=m(Le,N[0]),ut=m(Le,O[0]),at=w(w(L(O[0],O[0]),L(O[1],O[1])),w(L(O[2],O[2]),L(O[3],O[3]))),it=m(at,I[0]),$e=m(at,U[0]),st=m(at,z[0]),ct=m(at,N[0]),vt=m(at,B[0]),St=w(w(w(m(w(w(m(w(m(o(vt,ut),N[1]),w(m(o(ct,be),-B[1]),m(o(Ze,Pe),O[1]))),z[2]),m(w(m(o(vt,ut),z[1]),w(m(o(st,me),-B[1]),m(o(Fe,he),O[1]))),-N[2])),w(m(w(m(o(ct,be),z[1]),w(m(o(st,me),-N[1]),m(o(Ve,oe),O[1]))),B[2]),m(w(m(o(Ze,Pe),z[1]),w(m(o(Fe,he),-N[1]),m(o(Ve,oe),B[1]))),-O[2]))),U[3]),w(m(w(w(m(w(m(o(vt,ut),N[1]),w(m(o(ct,be),-B[1]),m(o(Ze,Pe),O[1]))),U[2]),m(w(m(o(vt,ut),U[1]),w(m(o($e,se),-B[1]),m(o(je,te),O[1]))),-N[2])),w(m(w(m(o(ct,be),U[1]),w(m(o($e,se),-N[1]),m(o(Ue,$),O[1]))),B[2]),m(w(m(o(Ze,Pe),U[1]),w(m(o(je,te),-N[1]),m(o(Ue,$),B[1]))),-O[2]))),-z[3]),m(w(w(m(w(m(o(vt,ut),z[1]),w(m(o(st,me),-B[1]),m(o(Fe,he),O[1]))),U[2]),m(w(m(o(vt,ut),U[1]),w(m(o($e,se),-B[1]),m(o(je,te),O[1]))),-z[2])),w(m(w(m(o(st,me),U[1]),w(m(o($e,se),-z[1]),m(o(le,Z),O[1]))),B[2]),m(w(m(o(Fe,he),U[1]),w(m(o(je,te),-z[1]),m(o(le,Z),B[1]))),-O[2]))),N[3]))),w(w(m(w(w(m(w(m(o(ct,be),z[1]),w(m(o(st,me),-N[1]),m(o(Ve,oe),O[1]))),U[2]),m(w(m(o(ct,be),U[1]),w(m(o($e,se),-N[1]),m(o(Ue,$),O[1]))),-z[2])),w(m(w(m(o(st,me),U[1]),w(m(o($e,se),-z[1]),m(o(le,Z),O[1]))),N[2]),m(w(m(o(Ve,oe),U[1]),w(m(o(Ue,$),-z[1]),m(o(le,Z),N[1]))),-O[2]))),-B[3]),m(w(w(m(w(m(o(Ze,Pe),z[1]),w(m(o(Fe,he),-N[1]),m(o(Ve,oe),B[1]))),U[2]),m(w(m(o(Ze,Pe),U[1]),w(m(o(je,te),-N[1]),m(o(Ue,$),B[1]))),-z[2])),w(m(w(m(o(Fe,he),U[1]),w(m(o(je,te),-z[1]),m(o(le,Z),B[1]))),N[2]),m(w(m(o(Ve,oe),U[1]),w(m(o(Ue,$),-z[1]),m(o(le,Z),N[1]))),-B[2]))),O[3])),w(m(w(w(m(w(m(o(vt,ut),N[1]),w(m(o(ct,be),-B[1]),m(o(Ze,Pe),O[1]))),U[2]),m(w(m(o(vt,ut),U[1]),w(m(o($e,se),-B[1]),m(o(je,te),O[1]))),-N[2])),w(m(w(m(o(ct,be),U[1]),w(m(o($e,se),-N[1]),m(o(Ue,$),O[1]))),B[2]),m(w(m(o(Ze,Pe),U[1]),w(m(o(je,te),-N[1]),m(o(Ue,$),B[1]))),-O[2]))),I[3]),m(w(w(m(w(m(o(vt,ut),N[1]),w(m(o(ct,be),-B[1]),m(o(Ze,Pe),O[1]))),I[2]),m(w(m(o(vt,ut),I[1]),w(m(o(it,ce),-B[1]),m(o(We,ie),O[1]))),-N[2])),w(m(w(m(o(ct,be),I[1]),w(m(o(it,ce),-N[1]),m(o(Ae,re),O[1]))),B[2]),m(w(m(o(Ze,Pe),I[1]),w(m(o(We,ie),-N[1]),m(o(Ae,re),B[1]))),-O[2]))),-U[3])))),w(w(w(m(w(w(m(w(m(o(vt,ut),U[1]),w(m(o($e,se),-B[1]),m(o(je,te),O[1]))),I[2]),m(w(m(o(vt,ut),I[1]),w(m(o(it,ce),-B[1]),m(o(We,ie),O[1]))),-U[2])),w(m(w(m(o($e,se),I[1]),w(m(o(it,ce),-U[1]),m(o(j,Y),O[1]))),B[2]),m(w(m(o(je,te),I[1]),w(m(o(We,ie),-U[1]),m(o(j,Y),B[1]))),-O[2]))),N[3]),m(w(w(m(w(m(o(ct,be),U[1]),w(m(o($e,se),-N[1]),m(o(Ue,$),O[1]))),I[2]),m(w(m(o(ct,be),I[1]),w(m(o(it,ce),-N[1]),m(o(Ae,re),O[1]))),-U[2])),w(m(w(m(o($e,se),I[1]),w(m(o(it,ce),-U[1]),m(o(j,Y),O[1]))),N[2]),m(w(m(o(Ue,$),I[1]),w(m(o(Ae,re),-U[1]),m(o(j,Y),N[1]))),-O[2]))),-B[3])),w(m(w(w(m(w(m(o(Ze,Pe),U[1]),w(m(o(je,te),-N[1]),m(o(Ue,$),B[1]))),I[2]),m(w(m(o(Ze,Pe),I[1]),w(m(o(We,ie),-N[1]),m(o(Ae,re),B[1]))),-U[2])),w(m(w(m(o(je,te),I[1]),w(m(o(We,ie),-U[1]),m(o(j,Y),B[1]))),N[2]),m(w(m(o(Ue,$),I[1]),w(m(o(Ae,re),-U[1]),m(o(j,Y),N[1]))),-B[2]))),O[3]),m(w(w(m(w(m(o(ct,be),z[1]),w(m(o(st,me),-N[1]),m(o(Ve,oe),O[1]))),U[2]),m(w(m(o(ct,be),U[1]),w(m(o($e,se),-N[1]),m(o(Ue,$),O[1]))),-z[2])),w(m(w(m(o(st,me),U[1]),w(m(o($e,se),-z[1]),m(o(le,Z),O[1]))),N[2]),m(w(m(o(Ve,oe),U[1]),w(m(o(Ue,$),-z[1]),m(o(le,Z),N[1]))),-O[2]))),I[3]))),w(w(m(w(w(m(w(m(o(ct,be),z[1]),w(m(o(st,me),-N[1]),m(o(Ve,oe),O[1]))),I[2]),m(w(m(o(ct,be),I[1]),w(m(o(it,ce),-N[1]),m(o(Ae,re),O[1]))),-z[2])),w(m(w(m(o(st,me),I[1]),w(m(o(it,ce),-z[1]),m(o(q,J),O[1]))),N[2]),m(w(m(o(Ve,oe),I[1]),w(m(o(Ae,re),-z[1]),m(o(q,J),N[1]))),-O[2]))),-U[3]),m(w(w(m(w(m(o(ct,be),U[1]),w(m(o($e,se),-N[1]),m(o(Ue,$),O[1]))),I[2]),m(w(m(o(ct,be),I[1]),w(m(o(it,ce),-N[1]),m(o(Ae,re),O[1]))),-U[2])),w(m(w(m(o($e,se),I[1]),w(m(o(it,ce),-U[1]),m(o(j,Y),O[1]))),N[2]),m(w(m(o(Ue,$),I[1]),w(m(o(Ae,re),-U[1]),m(o(j,Y),N[1]))),-O[2]))),z[3])),w(m(w(w(m(w(m(o(st,me),U[1]),w(m(o($e,se),-z[1]),m(o(le,Z),O[1]))),I[2]),m(w(m(o(st,me),I[1]),w(m(o(it,ce),-z[1]),m(o(q,J),O[1]))),-U[2])),w(m(w(m(o($e,se),I[1]),w(m(o(it,ce),-U[1]),m(o(j,Y),O[1]))),z[2]),m(w(m(o(le,Z),I[1]),w(m(o(q,J),-U[1]),m(o(j,Y),z[1]))),-O[2]))),-N[3]),m(w(w(m(w(m(o(Ve,oe),U[1]),w(m(o(Ue,$),-z[1]),m(o(le,Z),N[1]))),I[2]),m(w(m(o(Ve,oe),I[1]),w(m(o(Ae,re),-z[1]),m(o(q,J),N[1]))),-U[2])),w(m(w(m(o(Ue,$),I[1]),w(m(o(Ae,re),-U[1]),m(o(j,Y),N[1]))),z[2]),m(w(m(o(le,Z),I[1]),w(m(o(q,J),-U[1]),m(o(j,Y),z[1]))),-N[2]))),O[3]))))),Mt=w(w(w(m(w(w(m(w(m(o(vt,ut),N[1]),w(m(o(ct,be),-B[1]),m(o(Ze,Pe),O[1]))),z[2]),m(w(m(o(vt,ut),z[1]),w(m(o(st,me),-B[1]),m(o(Fe,he),O[1]))),-N[2])),w(m(w(m(o(ct,be),z[1]),w(m(o(st,me),-N[1]),m(o(Ve,oe),O[1]))),B[2]),m(w(m(o(Ze,Pe),z[1]),w(m(o(Fe,he),-N[1]),m(o(Ve,oe),B[1]))),-O[2]))),I[3]),w(m(w(w(m(w(m(o(vt,ut),N[1]),w(m(o(ct,be),-B[1]),m(o(Ze,Pe),O[1]))),I[2]),m(w(m(o(vt,ut),I[1]),w(m(o(it,ce),-B[1]),m(o(We,ie),O[1]))),-N[2])),w(m(w(m(o(ct,be),I[1]),w(m(o(it,ce),-N[1]),m(o(Ae,re),O[1]))),B[2]),m(w(m(o(Ze,Pe),I[1]),w(m(o(We,ie),-N[1]),m(o(Ae,re),B[1]))),-O[2]))),-z[3]),m(w(w(m(w(m(o(vt,ut),z[1]),w(m(o(st,me),-B[1]),m(o(Fe,he),O[1]))),I[2]),m(w(m(o(vt,ut),I[1]),w(m(o(it,ce),-B[1]),m(o(We,ie),O[1]))),-z[2])),w(m(w(m(o(st,me),I[1]),w(m(o(it,ce),-z[1]),m(o(q,J),O[1]))),B[2]),m(w(m(o(Fe,he),I[1]),w(m(o(We,ie),-z[1]),m(o(q,J),B[1]))),-O[2]))),N[3]))),w(w(m(w(w(m(w(m(o(ct,be),z[1]),w(m(o(st,me),-N[1]),m(o(Ve,oe),O[1]))),I[2]),m(w(m(o(ct,be),I[1]),w(m(o(it,ce),-N[1]),m(o(Ae,re),O[1]))),-z[2])),w(m(w(m(o(st,me),I[1]),w(m(o(it,ce),-z[1]),m(o(q,J),O[1]))),N[2]),m(w(m(o(Ve,oe),I[1]),w(m(o(Ae,re),-z[1]),m(o(q,J),N[1]))),-O[2]))),-B[3]),m(w(w(m(w(m(o(Ze,Pe),z[1]),w(m(o(Fe,he),-N[1]),m(o(Ve,oe),B[1]))),I[2]),m(w(m(o(Ze,Pe),I[1]),w(m(o(We,ie),-N[1]),m(o(Ae,re),B[1]))),-z[2])),w(m(w(m(o(Fe,he),I[1]),w(m(o(We,ie),-z[1]),m(o(q,J),B[1]))),N[2]),m(w(m(o(Ve,oe),I[1]),w(m(o(Ae,re),-z[1]),m(o(q,J),N[1]))),-B[2]))),O[3])),w(m(w(w(m(w(m(o(vt,ut),z[1]),w(m(o(st,me),-B[1]),m(o(Fe,he),O[1]))),U[2]),m(w(m(o(vt,ut),U[1]),w(m(o($e,se),-B[1]),m(o(je,te),O[1]))),-z[2])),w(m(w(m(o(st,me),U[1]),w(m(o($e,se),-z[1]),m(o(le,Z),O[1]))),B[2]),m(w(m(o(Fe,he),U[1]),w(m(o(je,te),-z[1]),m(o(le,Z),B[1]))),-O[2]))),I[3]),m(w(w(m(w(m(o(vt,ut),z[1]),w(m(o(st,me),-B[1]),m(o(Fe,he),O[1]))),I[2]),m(w(m(o(vt,ut),I[1]),w(m(o(it,ce),-B[1]),m(o(We,ie),O[1]))),-z[2])),w(m(w(m(o(st,me),I[1]),w(m(o(it,ce),-z[1]),m(o(q,J),O[1]))),B[2]),m(w(m(o(Fe,he),I[1]),w(m(o(We,ie),-z[1]),m(o(q,J),B[1]))),-O[2]))),-U[3])))),w(w(w(m(w(w(m(w(m(o(vt,ut),U[1]),w(m(o($e,se),-B[1]),m(o(je,te),O[1]))),I[2]),m(w(m(o(vt,ut),I[1]),w(m(o(it,ce),-B[1]),m(o(We,ie),O[1]))),-U[2])),w(m(w(m(o($e,se),I[1]),w(m(o(it,ce),-U[1]),m(o(j,Y),O[1]))),B[2]),m(w(m(o(je,te),I[1]),w(m(o(We,ie),-U[1]),m(o(j,Y),B[1]))),-O[2]))),z[3]),m(w(w(m(w(m(o(st,me),U[1]),w(m(o($e,se),-z[1]),m(o(le,Z),O[1]))),I[2]),m(w(m(o(st,me),I[1]),w(m(o(it,ce),-z[1]),m(o(q,J),O[1]))),-U[2])),w(m(w(m(o($e,se),I[1]),w(m(o(it,ce),-U[1]),m(o(j,Y),O[1]))),z[2]),m(w(m(o(le,Z),I[1]),w(m(o(q,J),-U[1]),m(o(j,Y),z[1]))),-O[2]))),-B[3])),w(m(w(w(m(w(m(o(Fe,he),U[1]),w(m(o(je,te),-z[1]),m(o(le,Z),B[1]))),I[2]),m(w(m(o(Fe,he),I[1]),w(m(o(We,ie),-z[1]),m(o(q,J),B[1]))),-U[2])),w(m(w(m(o(je,te),I[1]),w(m(o(We,ie),-U[1]),m(o(j,Y),B[1]))),z[2]),m(w(m(o(le,Z),I[1]),w(m(o(q,J),-U[1]),m(o(j,Y),z[1]))),-B[2]))),O[3]),m(w(w(m(w(m(o(Ze,Pe),z[1]),w(m(o(Fe,he),-N[1]),m(o(Ve,oe),B[1]))),U[2]),m(w(m(o(Ze,Pe),U[1]),w(m(o(je,te),-N[1]),m(o(Ue,$),B[1]))),-z[2])),w(m(w(m(o(Fe,he),U[1]),w(m(o(je,te),-z[1]),m(o(le,Z),B[1]))),N[2]),m(w(m(o(Ve,oe),U[1]),w(m(o(Ue,$),-z[1]),m(o(le,Z),N[1]))),-B[2]))),I[3]))),w(w(m(w(w(m(w(m(o(Ze,Pe),z[1]),w(m(o(Fe,he),-N[1]),m(o(Ve,oe),B[1]))),I[2]),m(w(m(o(Ze,Pe),I[1]),w(m(o(We,ie),-N[1]),m(o(Ae,re),B[1]))),-z[2])),w(m(w(m(o(Fe,he),I[1]),w(m(o(We,ie),-z[1]),m(o(q,J),B[1]))),N[2]),m(w(m(o(Ve,oe),I[1]),w(m(o(Ae,re),-z[1]),m(o(q,J),N[1]))),-B[2]))),-U[3]),m(w(w(m(w(m(o(Ze,Pe),U[1]),w(m(o(je,te),-N[1]),m(o(Ue,$),B[1]))),I[2]),m(w(m(o(Ze,Pe),I[1]),w(m(o(We,ie),-N[1]),m(o(Ae,re),B[1]))),-U[2])),w(m(w(m(o(je,te),I[1]),w(m(o(We,ie),-U[1]),m(o(j,Y),B[1]))),N[2]),m(w(m(o(Ue,$),I[1]),w(m(o(Ae,re),-U[1]),m(o(j,Y),N[1]))),-B[2]))),z[3])),w(m(w(w(m(w(m(o(Fe,he),U[1]),w(m(o(je,te),-z[1]),m(o(le,Z),B[1]))),I[2]),m(w(m(o(Fe,he),I[1]),w(m(o(We,ie),-z[1]),m(o(q,J),B[1]))),-U[2])),w(m(w(m(o(je,te),I[1]),w(m(o(We,ie),-U[1]),m(o(j,Y),B[1]))),z[2]),m(w(m(o(le,Z),I[1]),w(m(o(q,J),-U[1]),m(o(j,Y),z[1]))),-B[2]))),-N[3]),m(w(w(m(w(m(o(Ve,oe),U[1]),w(m(o(Ue,$),-z[1]),m(o(le,Z),N[1]))),I[2]),m(w(m(o(Ve,oe),I[1]),w(m(o(Ae,re),-z[1]),m(o(q,J),N[1]))),-U[2])),w(m(w(m(o(Ue,$),I[1]),w(m(o(Ae,re),-U[1]),m(o(j,Y),N[1]))),z[2]),m(w(m(o(le,Z),I[1]),w(m(o(q,J),-U[1]),m(o(j,Y),z[1]))),-N[2]))),B[3]))))),Bt=o(St,Mt);return Bt[Bt.length-1]}return F}var S=[y,c,T];function P(w){var o=S[w.length];return o||(o=S[w.length]=u(w.length)),o.apply(void 0,w)}function x(w,o,L,m,F,I,U,z){function N(B,O,H,Y,J,re){switch(arguments.length){case 0:case 1:return 0;case 2:return m(B,O);case 3:return F(B,O,H);case 4:return I(B,O,H,Y);case 5:return U(B,O,H,Y,J);case 6:return z(B,O,H,Y,J,re)}for(var ie=new Array(arguments.length),ce=0;ce<arguments.length;++ce)ie[ce]=arguments[ce];return w(ie)}return N}function M(){for(;S.length<=f;)S.push(u(S.length));v.exports=x.apply(void 0,[P].concat(S));for(var w=0;w<=f;++w)v.exports[w]=S[w]}M()},6606:function(v,p,t){var r=t(8167),s=6;function n(S){var P=S===2?u:S===3?y:S===4?c:S===5?T:h;return S<6?P(r[S]):P(r)}function i(){return[[0]]}function f(S,P){return[[P[0]],[S[0][0]]]}function u(S){return function(x,M){return[S([[+M[0],+x[0][1]],[+M[1],+x[1][1]]]),S([[+x[0][0],+M[0]],[+x[1][0],+M[1]]]),S(x)]}}function y(S){return function(x,M){return[S([[+M[0],+x[0][1],+x[0][2]],[+M[1],+x[1][1],+x[1][2]],[+M[2],+x[2][1],+x[2][2]]]),S([[+x[0][0],+M[0],+x[0][2]],[+x[1][0],+M[1],+x[1][2]],[+x[2][0],+M[2],+x[2][2]]]),S([[+x[0][0],+x[0][1],+M[0]],[+x[1][0],+x[1][1],+M[1]],[+x[2][0],+x[2][1],+M[2]]]),S(x)]}}function c(S){return function(x,M){return[S([[+M[0],+x[0][1],+x[0][2],+x[0][3]],[+M[1],+x[1][1],+x[1][2],+x[1][3]],[+M[2],+x[2][1],+x[2][2],+x[2][3]],[+M[3],+x[3][1],+x[3][2],+x[3][3]]]),S([[+x[0][0],+M[0],+x[0][2],+x[0][3]],[+x[1][0],+M[1],+x[1][2],+x[1][3]],[+x[2][0],+M[2],+x[2][2],+x[2][3]],[+x[3][0],+M[3],+x[3][2],+x[3][3]]]),S([[+x[0][0],+x[0][1],+M[0],+x[0][3]],[+x[1][0],+x[1][1],+M[1],+x[1][3]],[+x[2][0],+x[2][1],+M[2],+x[2][3]],[+x[3][0],+x[3][1],+M[3],+x[3][3]]]),S([[+x[0][0],+x[0][1],+x[0][2],+M[0]],[+x[1][0],+x[1][1],+x[1][2],+M[1]],[+x[2][0],+x[2][1],+x[2][2],+M[2]],[+x[3][0],+x[3][1],+x[3][2],+M[3]]]),S(x)]}}function T(S){return function(x,M){return[S([[+M[0],+x[0][1],+x[0][2],+x[0][3],+x[0][4]],[+M[1],+x[1][1],+x[1][2],+x[1][3],+x[1][4]],[+M[2],+x[2][1],+x[2][2],+x[2][3],+x[2][4]],[+M[3],+x[3][1],+x[3][2],+x[3][3],+x[3][4]],[+M[4],+x[4][1],+x[4][2],+x[4][3],+x[4][4]]]),S([[+x[0][0],+M[0],+x[0][2],+x[0][3],+x[0][4]],[+x[1][0],+M[1],+x[1][2],+x[1][3],+x[1][4]],[+x[2][0],+M[2],+x[2][2],+x[2][3],+x[2][4]],[+x[3][0],+M[3],+x[3][2],+x[3][3],+x[3][4]],[+x[4][0],+M[4],+x[4][2],+x[4][3],+x[4][4]]]),S([[+x[0][0],+x[0][1],+M[0],+x[0][3],+x[0][4]],[+x[1][0],+x[1][1],+M[1],+x[1][3],+x[1][4]],[+x[2][0],+x[2][1],+M[2],+x[2][3],+x[2][4]],[+x[3][0],+x[3][1],+M[3],+x[3][3],+x[3][4]],[+x[4][0],+x[4][1],+M[4],+x[4][3],+x[4][4]]]),S([[+x[0][0],+x[0][1],+x[0][2],+M[0],+x[0][4]],[+x[1][0],+x[1][1],+x[1][2],+M[1],+x[1][4]],[+x[2][0],+x[2][1],+x[2][2],+M[2],+x[2][4]],[+x[3][0],+x[3][1],+x[3][2],+M[3],+x[3][4]],[+x[4][0],+x[4][1],+x[4][2],+M[4],+x[4][4]]]),S([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+M[0]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+M[1]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+M[2]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+M[3]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+M[4]]]),S(x)]}}function h(S){return function(x,M){return[S([[+M[0],+x[0][1],+x[0][2],+x[0][3],+x[0][4],+x[0][5]],[+M[1],+x[1][1],+x[1][2],+x[1][3],+x[1][4],+x[1][5]],[+M[2],+x[2][1],+x[2][2],+x[2][3],+x[2][4],+x[2][5]],[+M[3],+x[3][1],+x[3][2],+x[3][3],+x[3][4],+x[3][5]],[+M[4],+x[4][1],+x[4][2],+x[4][3],+x[4][4],+x[4][5]],[+M[5],+x[5][1],+x[5][2],+x[5][3],+x[5][4],+x[5][5]]]),S([[+x[0][0],+M[0],+x[0][2],+x[0][3],+x[0][4],+x[0][5]],[+x[1][0],+M[1],+x[1][2],+x[1][3],+x[1][4],+x[1][5]],[+x[2][0],+M[2],+x[2][2],+x[2][3],+x[2][4],+x[2][5]],[+x[3][0],+M[3],+x[3][2],+x[3][3],+x[3][4],+x[3][5]],[+x[4][0],+M[4],+x[4][2],+x[4][3],+x[4][4],+x[4][5]],[+x[5][0],+M[5],+x[5][2],+x[5][3],+x[5][4],+x[5][5]]]),S([[+x[0][0],+x[0][1],+M[0],+x[0][3],+x[0][4],+x[0][5]],[+x[1][0],+x[1][1],+M[1],+x[1][3],+x[1][4],+x[1][5]],[+x[2][0],+x[2][1],+M[2],+x[2][3],+x[2][4],+x[2][5]],[+x[3][0],+x[3][1],+M[3],+x[3][3],+x[3][4],+x[3][5]],[+x[4][0],+x[4][1],+M[4],+x[4][3],+x[4][4],+x[4][5]],[+x[5][0],+x[5][1],+M[5],+x[5][3],+x[5][4],+x[5][5]]]),S([[+x[0][0],+x[0][1],+x[0][2],+M[0],+x[0][4],+x[0][5]],[+x[1][0],+x[1][1],+x[1][2],+M[1],+x[1][4],+x[1][5]],[+x[2][0],+x[2][1],+x[2][2],+M[2],+x[2][4],+x[2][5]],[+x[3][0],+x[3][1],+x[3][2],+M[3],+x[3][4],+x[3][5]],[+x[4][0],+x[4][1],+x[4][2],+M[4],+x[4][4],+x[4][5]],[+x[5][0],+x[5][1],+x[5][2],+M[5],+x[5][4],+x[5][5]]]),S([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+M[0],+x[0][5]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+M[1],+x[1][5]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+M[2],+x[2][5]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+M[3],+x[3][5]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+M[4],+x[4][5]],[+x[5][0],+x[5][1],+x[5][2],+x[5][3],+M[5],+x[5][5]]]),S([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+x[0][4],+M[0]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+x[1][4],+M[1]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+x[2][4],+M[2]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+x[3][4],+M[3]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+x[4][4],+M[4]],[+x[5][0],+x[5][1],+x[5][2],+x[5][3],+x[5][4],+M[5]]]),S(x)]}}var l=[i,f];function d(S,P,x,M,w,o,L,m){return function(I,U){switch(I.length){case 0:return S(I,U);case 1:return P(I,U);case 2:return x(I,U);case 3:return M(I,U);case 4:return w(I,U);case 5:return o(I,U)}var z=L[I.length];return z||(z=L[I.length]=m(I.length)),z(I,U)}}function E(){for(;l.length<s;)l.push(n(l.length));v.exports=d.apply(void 0,l.concat([l,n]));for(var S=0;S<s;++S)v.exports[S]=l[S]}E()},417:function(v,p,t){var r=t(9660),s=t(9662),n=t(8289),i=t(4078),f=5,u=11102230246251565e-32,y=(3+16*u)*u,c=(7+56*u)*u;function T(o,L,m,F){return function(U,z,N){var B=o(o(L(z[1],N[0]),L(-N[1],z[0])),o(L(U[1],z[0]),L(-z[1],U[0]))),O=o(L(U[1],N[0]),L(-N[1],U[0])),H=F(B,O);return H[H.length-1]}}function h(o,L,m,F){return function(U,z,N,B){var O=o(o(m(o(L(N[1],B[0]),L(-B[1],N[0])),z[2]),o(m(o(L(z[1],B[0]),L(-B[1],z[0])),-N[2]),m(o(L(z[1],N[0]),L(-N[1],z[0])),B[2]))),o(m(o(L(z[1],B[0]),L(-B[1],z[0])),U[2]),o(m(o(L(U[1],B[0]),L(-B[1],U[0])),-z[2]),m(o(L(U[1],z[0]),L(-z[1],U[0])),B[2])))),H=o(o(m(o(L(N[1],B[0]),L(-B[1],N[0])),U[2]),o(m(o(L(U[1],B[0]),L(-B[1],U[0])),-N[2]),m(o(L(U[1],N[0]),L(-N[1],U[0])),B[2]))),o(m(o(L(z[1],N[0]),L(-N[1],z[0])),U[2]),o(m(o(L(U[1],N[0]),L(-N[1],U[0])),-z[2]),m(o(L(U[1],z[0]),L(-z[1],U[0])),N[2])))),Y=F(O,H);return Y[Y.length-1]}}function l(o,L,m,F){return function(U,z,N,B,O){var H=o(o(o(m(o(m(o(L(B[1],O[0]),L(-O[1],B[0])),N[2]),o(m(o(L(N[1],O[0]),L(-O[1],N[0])),-B[2]),m(o(L(N[1],B[0]),L(-B[1],N[0])),O[2]))),z[3]),o(m(o(m(o(L(B[1],O[0]),L(-O[1],B[0])),z[2]),o(m(o(L(z[1],O[0]),L(-O[1],z[0])),-B[2]),m(o(L(z[1],B[0]),L(-B[1],z[0])),O[2]))),-N[3]),m(o(m(o(L(N[1],O[0]),L(-O[1],N[0])),z[2]),o(m(o(L(z[1],O[0]),L(-O[1],z[0])),-N[2]),m(o(L(z[1],N[0]),L(-N[1],z[0])),O[2]))),B[3]))),o(m(o(m(o(L(N[1],B[0]),L(-B[1],N[0])),z[2]),o(m(o(L(z[1],B[0]),L(-B[1],z[0])),-N[2]),m(o(L(z[1],N[0]),L(-N[1],z[0])),B[2]))),-O[3]),o(m(o(m(o(L(B[1],O[0]),L(-O[1],B[0])),z[2]),o(m(o(L(z[1],O[0]),L(-O[1],z[0])),-B[2]),m(o(L(z[1],B[0]),L(-B[1],z[0])),O[2]))),U[3]),m(o(m(o(L(B[1],O[0]),L(-O[1],B[0])),U[2]),o(m(o(L(U[1],O[0]),L(-O[1],U[0])),-B[2]),m(o(L(U[1],B[0]),L(-B[1],U[0])),O[2]))),-z[3])))),o(o(m(o(m(o(L(z[1],O[0]),L(-O[1],z[0])),U[2]),o(m(o(L(U[1],O[0]),L(-O[1],U[0])),-z[2]),m(o(L(U[1],z[0]),L(-z[1],U[0])),O[2]))),B[3]),o(m(o(m(o(L(z[1],B[0]),L(-B[1],z[0])),U[2]),o(m(o(L(U[1],B[0]),L(-B[1],U[0])),-z[2]),m(o(L(U[1],z[0]),L(-z[1],U[0])),B[2]))),-O[3]),m(o(m(o(L(N[1],B[0]),L(-B[1],N[0])),z[2]),o(m(o(L(z[1],B[0]),L(-B[1],z[0])),-N[2]),m(o(L(z[1],N[0]),L(-N[1],z[0])),B[2]))),U[3]))),o(m(o(m(o(L(N[1],B[0]),L(-B[1],N[0])),U[2]),o(m(o(L(U[1],B[0]),L(-B[1],U[0])),-N[2]),m(o(L(U[1],N[0]),L(-N[1],U[0])),B[2]))),-z[3]),o(m(o(m(o(L(z[1],B[0]),L(-B[1],z[0])),U[2]),o(m(o(L(U[1],B[0]),L(-B[1],U[0])),-z[2]),m(o(L(U[1],z[0]),L(-z[1],U[0])),B[2]))),N[3]),m(o(m(o(L(z[1],N[0]),L(-N[1],z[0])),U[2]),o(m(o(L(U[1],N[0]),L(-N[1],U[0])),-z[2]),m(o(L(U[1],z[0]),L(-z[1],U[0])),N[2]))),-B[3]))))),Y=o(o(o(m(o(m(o(L(B[1],O[0]),L(-O[1],B[0])),N[2]),o(m(o(L(N[1],O[0]),L(-O[1],N[0])),-B[2]),m(o(L(N[1],B[0]),L(-B[1],N[0])),O[2]))),U[3]),m(o(m(o(L(B[1],O[0]),L(-O[1],B[0])),U[2]),o(m(o(L(U[1],O[0]),L(-O[1],U[0])),-B[2]),m(o(L(U[1],B[0]),L(-B[1],U[0])),O[2]))),-N[3])),o(m(o(m(o(L(N[1],O[0]),L(-O[1],N[0])),U[2]),o(m(o(L(U[1],O[0]),L(-O[1],U[0])),-N[2]),m(o(L(U[1],N[0]),L(-N[1],U[0])),O[2]))),B[3]),m(o(m(o(L(N[1],B[0]),L(-B[1],N[0])),U[2]),o(m(o(L(U[1],B[0]),L(-B[1],U[0])),-N[2]),m(o(L(U[1],N[0]),L(-N[1],U[0])),B[2]))),-O[3]))),o(o(m(o(m(o(L(N[1],O[0]),L(-O[1],N[0])),z[2]),o(m(o(L(z[1],O[0]),L(-O[1],z[0])),-N[2]),m(o(L(z[1],N[0]),L(-N[1],z[0])),O[2]))),U[3]),m(o(m(o(L(N[1],O[0]),L(-O[1],N[0])),U[2]),o(m(o(L(U[1],O[0]),L(-O[1],U[0])),-N[2]),m(o(L(U[1],N[0]),L(-N[1],U[0])),O[2]))),-z[3])),o(m(o(m(o(L(z[1],O[0]),L(-O[1],z[0])),U[2]),o(m(o(L(U[1],O[0]),L(-O[1],U[0])),-z[2]),m(o(L(U[1],z[0]),L(-z[1],U[0])),O[2]))),N[3]),m(o(m(o(L(z[1],N[0]),L(-N[1],z[0])),U[2]),o(m(o(L(U[1],N[0]),L(-N[1],U[0])),-z[2]),m(o(L(U[1],z[0]),L(-z[1],U[0])),N[2]))),-O[3])))),J=F(H,Y);return J[J.length-1]}}function d(o){var L=o===3?T:o===4?h:l;return L(s,r,n,i)}var E=d(3),S=d(4),P=[function(){return 0},function(){return 0},function(L,m){return m[0]-L[0]},function(L,m,F){var I=(L[1]-F[1])*(m[0]-F[0]),U=(L[0]-F[0])*(m[1]-F[1]),z=I-U,N;if(I>0){if(U<=0)return z;N=I+U}else if(I<0){if(U>=0)return z;N=-(I+U)}else return z;var B=y*N;return z>=B||z<=-B?z:E(L,m,F)},function(L,m,F,I){var U=L[0]-I[0],z=m[0]-I[0],N=F[0]-I[0],B=L[1]-I[1],O=m[1]-I[1],H=F[1]-I[1],Y=L[2]-I[2],J=m[2]-I[2],re=F[2]-I[2],ie=z*H,ce=N*O,Q=N*B,j=U*H,Z=U*O,$=z*B,te=Y*(ie-ce)+J*(Q-j)+re*(Z-$),se=(Math.abs(ie)+Math.abs(ce))*Math.abs(Y)+(Math.abs(Q)+Math.abs(j))*Math.abs(J)+(Math.abs(Z)+Math.abs($))*Math.abs(re),ee=c*se;return te>ee||-te>ee?te:S(L,m,F,I)}];function x(o){var L=P[o.length];return L||(L=P[o.length]=d(o.length)),L.apply(void 0,o)}function M(o,L,m,F,I,U,z){return function(B,O,H,Y,J){switch(arguments.length){case 0:case 1:return 0;case 2:return F(B,O);case 3:return I(B,O,H);case 4:return U(B,O,H,Y);case 5:return z(B,O,H,Y,J)}for(var re=new Array(arguments.length),ie=0;ie<arguments.length;++ie)re[ie]=arguments[ie];return o(re)}}function w(){for(;P.length<=f;)P.push(d(P.length));v.exports=M.apply(void 0,[x].concat(P));for(var o=0;o<=f;++o)v.exports[o]=P[o]}w()},2019:function(v,p,t){var r=t(9662),s=t(8289);v.exports=n;function n(i,f){if(i.length===1)return s(f,i[0]);if(f.length===1)return s(i,f[0]);if(i.length===0||f.length===0)return[0];var u=[0];if(i.length<f.length)for(var y=0;y<i.length;++y)u=r(u,s(f,i[y]));else for(var y=0;y<f.length;++y)u=r(u,s(i,f[y]));return u}},8289:function(v,p,t){var r=t(9660),s=t(87);v.exports=n;function n(i,f){var u=i.length;if(u===1){var y=r(i[0],f);return y[0]?y:[y[1]]}var c=new Array(2*u),T=[.1,.1],h=[.1,.1],l=0;r(i[0],f,T),T[0]&&(c[l++]=T[0]);for(var d=1;d<u;++d){r(i[d],f,h);var E=T[1];s(E,h[0],T),T[0]&&(c[l++]=T[0]);var S=h[1],P=T[1],x=S+P,M=x-S,w=P-M;T[1]=x,w&&(c[l++]=w)}return T[1]&&(c[l++]=T[1]),l===0&&(c[l++]=0),c.length=l,c}},4434:function(v,p,t){v.exports=n;var r=t(417)[3];function s(i,f,u,y){for(var c=0;c<2;++c){var T=i[c],h=f[c],l=Math.min(T,h),d=Math.max(T,h),E=u[c],S=y[c],P=Math.min(E,S),x=Math.max(E,S);if(x<l||d<P)return!1}return!0}function n(i,f,u,y){var c=r(i,u,y),T=r(f,u,y);if(c>0&&T>0||c<0&&T<0)return!1;var h=r(u,i,f),l=r(y,i,f);return h>0&&l>0||h<0&&l<0?!1:c===0&&T===0&&h===0&&l===0?s(i,f,u,y):!0}},4078:function(v){v.exports=t;function p(r,s){var n=r+s,i=n-r,f=n-i,u=s-i,y=r-f,c=y+u;return c?[c,n]:[n]}function t(r,s){var n=r.length|0,i=s.length|0;if(n===1&&i===1)return p(r[0],-s[0]);var f=n+i,u=new Array(f),y=0,c=0,T=0,h=Math.abs,l=r[c],d=h(l),E=-s[T],S=h(E),P,x;d<S?(x=l,c+=1,c<n&&(l=r[c],d=h(l))):(x=E,T+=1,T<i&&(E=-s[T],S=h(E))),c<n&&d<S||T>=i?(P=l,c+=1,c<n&&(l=r[c],d=h(l))):(P=E,T+=1,T<i&&(E=-s[T],S=h(E)));for(var M=P+x,w=M-P,o=x-w,L=o,m=M,F,I,U,z,N;c<n&&T<i;)d<S?(P=l,c+=1,c<n&&(l=r[c],d=h(l))):(P=E,T+=1,T<i&&(E=-s[T],S=h(E))),x=L,M=P+x,w=M-P,o=x-w,o&&(u[y++]=o),F=m+M,I=F-m,U=F-I,z=M-I,N=m-U,L=N+z,m=F;for(;c<n;)P=l,x=L,M=P+x,w=M-P,o=x-w,o&&(u[y++]=o),F=m+M,I=F-m,U=F-I,z=M-I,N=m-U,L=N+z,m=F,c+=1,c<n&&(l=r[c]);for(;T<i;)P=E,x=L,M=P+x,w=M-P,o=x-w,o&&(u[y++]=o),F=m+M,I=F-m,U=F-I,z=M-I,N=m-U,L=N+z,m=F,T+=1,T<i&&(E=-s[T]);return L&&(u[y++]=L),m&&(u[y++]=m),y||(u[y++]=0),u.length=y,u}},9662:function(v){v.exports=t;function p(r,s){var n=r+s,i=n-r,f=n-i,u=s-i,y=r-f,c=y+u;return c?[c,n]:[n]}function t(r,s){var n=r.length|0,i=s.length|0;if(n===1&&i===1)return p(r[0],s[0]);var f=n+i,u=new Array(f),y=0,c=0,T=0,h=Math.abs,l=r[c],d=h(l),E=s[T],S=h(E),P,x;d<S?(x=l,c+=1,c<n&&(l=r[c],d=h(l))):(x=E,T+=1,T<i&&(E=s[T],S=h(E))),c<n&&d<S||T>=i?(P=l,c+=1,c<n&&(l=r[c],d=h(l))):(P=E,T+=1,T<i&&(E=s[T],S=h(E)));for(var M=P+x,w=M-P,o=x-w,L=o,m=M,F,I,U,z,N;c<n&&T<i;)d<S?(P=l,c+=1,c<n&&(l=r[c],d=h(l))):(P=E,T+=1,T<i&&(E=s[T],S=h(E))),x=L,M=P+x,w=M-P,o=x-w,o&&(u[y++]=o),F=m+M,I=F-m,U=F-I,z=M-I,N=m-U,L=N+z,m=F;for(;c<n;)P=l,x=L,M=P+x,w=M-P,o=x-w,o&&(u[y++]=o),F=m+M,I=F-m,U=F-I,z=M-I,N=m-U,L=N+z,m=F,c+=1,c<n&&(l=r[c]);for(;T<i;)P=E,x=L,M=P+x,w=M-P,o=x-w,o&&(u[y++]=o),F=m+M,I=F-m,U=F-I,z=M-I,N=m-U,L=N+z,m=F,T+=1,T<i&&(E=s[T]);return L&&(u[y++]=L),m&&(u[y++]=m),y||(u[y++]=0),u.length=y,u}},8691:function(v,p,t){v.exports=n;var r=t(2692),s=t(7037);function n(i){return s(r(i))}},7212:function(v,p,t){v.exports=l;var r=t(5050),s=t(5306),n=t(8729),i=t(1168);function f(d){for(var E=d.length,S=0,P=0;P<E;++P)S=Math.max(S,d[P].length)|0;return S-1}function u(d,E){for(var S=d.length,P=s.mallocUint8(S),x=0;x<S;++x)P[x]=d[x]<E|0;return P}function y(d,E){for(var S=d.length,P=E*(E+1)/2*S|0,x=s.mallocUint32(P*2),M=0,w=0;w<S;++w)for(var o=d[w],E=o.length,L=0;L<E;++L)for(var m=0;m<L;++m){var F=o[m],I=o[L];x[M++]=Math.min(F,I)|0,x[M++]=Math.max(F,I)|0}var U=M/2|0;n(r(x,[U,2]));for(var z=2,w=2;w<M;w+=2)x[w-2]===x[w]&&x[w-1]===x[w+1]||(x[z++]=x[w],x[z++]=x[w+1]);return r(x,[z/2|0,2])}function c(d,E,S,P){for(var x=d.data,M=d.shape[0],w=s.mallocDouble(M),o=0,L=0;L<M;++L){var m=x[2*L],F=x[2*L+1];if(S[m]!==S[F]){var I=E[m],U=E[F];x[2*o]=m,x[2*o+1]=F,w[o++]=(U-P)/(U-I)}}return d.shape[0]=o,r(w,[o])}function T(d,E){var S=s.mallocInt32(E*2),P=d.shape[0],x=d.data;S[0]=0;for(var M=0,w=0;w<P;++w){var o=x[2*w];if(o!==M){for(S[2*M+1]=w;++M<o;)S[2*M]=w,S[2*M+1]=w;S[2*M]=w}}for(S[2*M+1]=P;++M<E;)S[2*M]=S[2*M+1]=P;return S}function h(d){for(var E=d.shape[0]|0,S=d.data,P=new Array(E),x=0;x<E;++x)P[x]=[S[2*x],S[2*x+1]];return P}function l(d,E,S,P){S=S||0,typeof P>"u"&&(P=f(d));var x=d.length;if(x===0||P<1)return{cells:[],vertexIds:[],vertexWeights:[]};var M=u(E,+S),w=y(d,P),o=c(w,E,M,+S),L=T(w,E.length|0),m=i(P)(d,w.data,L,M),F=h(w),I=[].slice.call(o.data,0,o.shape[0]);return s.free(M),s.free(w.data),s.free(o.data),s.free(L),{cells:m,vertexIds:F,vertexWeights:I}}},1168:function(v){v.exports=t;var p=[function(){function s(n,i,f,u){for(var y=n.length,c=[],T=0;T<y;++T){var h=n[T];h.length}return c}return s},function(){function s(i,f,u,y){for(var c=Math.min(u,y)|0,T=Math.max(u,y)|0,h=i[2*c],l=i[2*c+1];h<l;){var d=h+l>>1,E=f[2*d+1];if(E===T)return d;T<E?l=d:h=d+1}return h}function n(i,f,u,y){for(var c=i.length,T=[],h=0;h<c;++h){var l=i[h],d=l.length;if(d===2){var E=(y[l[0]]<<0)+(y[l[1]]<<1);if(E===0||E===3)continue;switch(E){case 0:break;case 1:T.push([s(u,f,l[0],l[1])]);break;case 2:T.push([s(u,f,l[1],l[0])]);break}}}return T}return n},function(){function s(i,f,u,y){for(var c=Math.min(u,y)|0,T=Math.max(u,y)|0,h=i[2*c],l=i[2*c+1];h<l;){var d=h+l>>1,E=f[2*d+1];if(E===T)return d;T<E?l=d:h=d+1}return h}function n(i,f,u,y){for(var c=i.length,T=[],h=0;h<c;++h){var l=i[h],d=l.length;if(d===3){var E=(y[l[0]]<<0)+(y[l[1]]<<1)+(y[l[2]]<<2);if(E===0||E===7)continue;switch(E){case 0:break;case 1:T.push([s(u,f,l[0],l[2]),s(u,f,l[0],l[1])]);break;case 2:T.push([s(u,f,l[1],l[0]),s(u,f,l[1],l[2])]);break;case 3:T.push([s(u,f,l[0],l[2]),s(u,f,l[1],l[2])]);break;case 4:T.push([s(u,f,l[2],l[1]),s(u,f,l[2],l[0])]);break;case 5:T.push([s(u,f,l[2],l[1]),s(u,f,l[0],l[1])]);break;case 6:T.push([s(u,f,l[1],l[0]),s(u,f,l[2],l[0])]);break}}else if(d===2){var E=(y[l[0]]<<0)+(y[l[1]]<<1);if(E===0||E===3)continue;switch(E){case 0:break;case 1:T.push([s(u,f,l[0],l[1])]);break;case 2:T.push([s(u,f,l[1],l[0])]);break}}}return T}return n},function(){function s(i,f,u,y){for(var c=Math.min(u,y)|0,T=Math.max(u,y)|0,h=i[2*c],l=i[2*c+1];h<l;){var d=h+l>>1,E=f[2*d+1];if(E===T)return d;T<E?l=d:h=d+1}return h}function n(i,f,u,y){for(var c=i.length,T=[],h=0;h<c;++h){var l=i[h],d=l.length;if(d===4){var E=(y[l[0]]<<0)+(y[l[1]]<<1)+(y[l[2]]<<2)+(y[l[3]]<<3);if(E===0||E===15)continue;switch(E){case 0:break;case 1:T.push([s(u,f,l[0],l[1]),s(u,f,l[0],l[2]),s(u,f,l[0],l[3])]);break;case 2:T.push([s(u,f,l[1],l[2]),s(u,f,l[1],l[0]),s(u,f,l[1],l[3])]);break;case 3:T.push([s(u,f,l[1],l[2]),s(u,f,l[0],l[2]),s(u,f,l[0],l[3])],[s(u,f,l[1],l[3]),s(u,f,l[1],l[2]),s(u,f,l[0],l[3])]);break;case 4:T.push([s(u,f,l[2],l[0]),s(u,f,l[2],l[1]),s(u,f,l[2],l[3])]);break;case 5:T.push([s(u,f,l[0],l[1]),s(u,f,l[2],l[1]),s(u,f,l[0],l[3])],[s(u,f,l[2],l[1]),s(u,f,l[2],l[3]),s(u,f,l[0],l[3])]);break;case 6:T.push([s(u,f,l[2],l[0]),s(u,f,l[1],l[0]),s(u,f,l[1],l[3])],[s(u,f,l[2],l[3]),s(u,f,l[2],l[0]),s(u,f,l[1],l[3])]);break;case 7:T.push([s(u,f,l[0],l[3]),s(u,f,l[1],l[3]),s(u,f,l[2],l[3])]);break;case 8:T.push([s(u,f,l[3],l[1]),s(u,f,l[3],l[0]),s(u,f,l[3],l[2])]);break;case 9:T.push([s(u,f,l[3],l[1]),s(u,f,l[0],l[1]),s(u,f,l[0],l[2])],[s(u,f,l[3],l[2]),s(u,f,l[3],l[1]),s(u,f,l[0],l[2])]);break;case 10:T.push([s(u,f,l[1],l[0]),s(u,f,l[3],l[0]),s(u,f,l[1],l[2])],[s(u,f,l[3],l[0]),s(u,f,l[3],l[2]),s(u,f,l[1],l[2])]);break;case 11:T.push([s(u,f,l[1],l[2]),s(u,f,l[0],l[2]),s(u,f,l[3],l[2])]);break;case 12:T.push([s(u,f,l[3],l[0]),s(u,f,l[2],l[0]),s(u,f,l[2],l[1])],[s(u,f,l[3],l[1]),s(u,f,l[3],l[0]),s(u,f,l[2],l[1])]);break;case 13:T.push([s(u,f,l[0],l[1]),s(u,f,l[2],l[1]),s(u,f,l[3],l[1])]);break;case 14:T.push([s(u,f,l[2],l[0]),s(u,f,l[1],l[0]),s(u,f,l[3],l[0])]);break}}else if(d===3){var E=(y[l[0]]<<0)+(y[l[1]]<<1)+(y[l[2]]<<2);if(E===0||E===7)continue;switch(E){case 0:break;case 1:T.push([s(u,f,l[0],l[2]),s(u,f,l[0],l[1])]);break;case 2:T.push([s(u,f,l[1],l[0]),s(u,f,l[1],l[2])]);break;case 3:T.push([s(u,f,l[0],l[2]),s(u,f,l[1],l[2])]);break;case 4:T.push([s(u,f,l[2],l[1]),s(u,f,l[2],l[0])]);break;case 5:T.push([s(u,f,l[2],l[1]),s(u,f,l[0],l[1])]);break;case 6:T.push([s(u,f,l[1],l[0]),s(u,f,l[2],l[0])]);break}}else if(d===2){var E=(y[l[0]]<<0)+(y[l[1]]<<1);if(E===0||E===3)continue;switch(E){case 0:break;case 1:T.push([s(u,f,l[0],l[1])]);break;case 2:T.push([s(u,f,l[1],l[0])]);break}}}return T}return n}];function t(r){return p[r]()}},8211:function(v,p,t){t(2288),t(1731);function r(s,n){var i=s.length,f=s.length-n.length,u=Math.min;if(f)return f;switch(i){case 0:return 0;case 1:return s[0]-n[0];case 2:var l=s[0]+s[1]-n[0]-n[1];return l||u(s[0],s[1])-u(n[0],n[1]);case 3:var y=s[0]+s[1],c=n[0]+n[1];if(l=y+s[2]-(c+n[2]),l)return l;var T=u(s[0],s[1]),h=u(n[0],n[1]),l=u(T,s[2])-u(h,n[2]);return l||u(T+s[2],y)-u(h+n[2],c);default:var d=s.slice(0);d.sort();var E=n.slice(0);E.sort();for(var S=0;S<i;++S)if(f=d[S]-E[S],f)return f;return 0}}p.H=r},9392:function(v,p){"use restrict";var t=32;p.INT_BITS=t,p.INT_MAX=2147483647,p.INT_MIN=-1<<t-1,p.sign=function(n){return(n>0)-(n<0)},p.abs=function(n){var i=n>>t-1;return(n^i)-i},p.min=function(n,i){return i^(n^i)&-(n<i)},p.max=function(n,i){return n^(n^i)&-(n<i)},p.isPow2=function(n){return!(n&n-1)&&!!n},p.log2=function(n){var i,f;return i=(n>65535)<<4,n>>>=i,f=(n>255)<<3,n>>>=f,i|=f,f=(n>15)<<2,n>>>=f,i|=f,f=(n>3)<<1,n>>>=f,i|=f,i|n>>1},p.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},p.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function r(n){var i=32;return n&=-n,n&&i--,n&65535&&(i-=16),n&16711935&&(i-=8),n&252645135&&(i-=4),n&858993459&&(i-=2),n&1431655765&&(i-=1),i}p.countTrailingZeros=r,p.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},p.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},p.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var s=new Array(256);(function(n){for(var i=0;i<256;++i){var f=i,u=i,y=7;for(f>>>=1;f;f>>>=1)u<<=1,u|=f&1,--y;n[i]=u<<y&255}})(s),p.reverse=function(n){return s[n&255]<<24|s[n>>>8&255]<<16|s[n>>>16&255]<<8|s[n>>>24&255]},p.interleave2=function(n,i){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,i&=65535,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,n|i<<1},p.deinterleave2=function(n,i){return n=n>>>i&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},p.interleave3=function(n,i,f){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,i&=1023,i=(i|i<<16)&4278190335,i=(i|i<<8)&251719695,i=(i|i<<4)&3272356035,i=(i|i<<2)&1227133513,n|=i<<1,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,n|f<<2},p.deinterleave3=function(n,i){return n=n>>>i&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},p.nextCombination=function(n){var i=n|n-1;return i+1|(~i&-~i)-1>>>r(n)+1}},6656:function(v,p,t){"use restrict";var r=t(9392),s=t(9521);function n(o){for(var L=0,m=Math.max,F=0,I=o.length;F<I;++F)L=m(L,o[F].length);return L-1}p.dimension=n;function i(o){for(var L=-1,m=Math.max,F=0,I=o.length;F<I;++F)for(var U=o[F],z=0,N=U.length;z<N;++z)L=m(L,U[z]);return L+1}p.countVertices=i;function f(o){for(var L=new Array(o.length),m=0,F=o.length;m<F;++m)L[m]=o[m].slice(0);return L}p.cloneCells=f;function u(o,L){var m=o.length,F=o.length-L.length,I=Math.min;if(F)return F;switch(m){case 0:return 0;case 1:return o[0]-L[0];case 2:var O=o[0]+o[1]-L[0]-L[1];return O||I(o[0],o[1])-I(L[0],L[1]);case 3:var U=o[0]+o[1],z=L[0]+L[1];if(O=U+o[2]-(z+L[2]),O)return O;var N=I(o[0],o[1]),B=I(L[0],L[1]),O=I(N,o[2])-I(B,L[2]);return O||I(N+o[2],U)-I(B+L[2],z);default:var H=o.slice(0);H.sort();var Y=L.slice(0);Y.sort();for(var J=0;J<m;++J)if(F=H[J]-Y[J],F)return F;return 0}}p.compareCells=u;function y(o,L){return u(o[0],L[0])}function c(o,L){if(L){for(var m=o.length,F=new Array(m),I=0;I<m;++I)F[I]=[o[I],L[I]];F.sort(y);for(var I=0;I<m;++I)o[I]=F[I][0],L[I]=F[I][1];return o}else return o.sort(u),o}p.normalize=c;function T(o){if(o.length===0)return[];for(var L=1,m=o.length,F=1;F<m;++F){var I=o[F];if(u(I,o[F-1])){if(F===L){L++;continue}o[L++]=I}}return o.length=L,o}p.unique=T;function h(o,L){for(var m=0,F=o.length-1,I=-1;m<=F;){var U=m+F>>1,z=u(o[U],L);z<=0?(z===0&&(I=U),m=U+1):z>0&&(F=U-1)}return I}p.findCell=h;function l(o,L){for(var m=new Array(o.length),F=0,I=m.length;F<I;++F)m[F]=[];for(var U=[],F=0,z=L.length;F<z;++F)for(var N=L[F],B=N.length,O=1,H=1<<B;O<H;++O){U.length=r.popCount(O);for(var Y=0,J=0;J<B;++J)O&1<<J&&(U[Y++]=N[J]);var re=h(o,U);if(!(re<0))for(;m[re++].push(F),!(re>=o.length||u(o[re],U)!==0););}return m}p.incidence=l;function d(o,L){if(!L)return l(T(S(o,0)),o);for(var m=new Array(L),F=0;F<L;++F)m[F]=[];for(var F=0,I=o.length;F<I;++F)for(var U=o[F],z=0,N=U.length;z<N;++z)m[U[z]].push(F);return m}p.dual=d;function E(o){for(var L=[],m=0,F=o.length;m<F;++m)for(var I=o[m],U=I.length|0,z=1,N=1<<U;z<N;++z){for(var B=[],O=0;O<U;++O)z>>>O&1&&B.push(I[O]);L.push(B)}return c(L)}p.explode=E;function S(o,L){if(L<0)return[];for(var m=[],F=(1<<L+1)-1,I=0;I<o.length;++I)for(var U=o[I],z=F;z<1<<U.length;z=r.nextCombination(z)){for(var N=new Array(L+1),B=0,O=0;O<U.length;++O)z&1<<O&&(N[B++]=U[O]);m.push(N)}return c(m)}p.skeleton=S;function P(o){for(var L=[],m=0,F=o.length;m<F;++m)for(var I=o[m],U=0,z=I.length;U<z;++U){for(var N=new Array(I.length-1),B=0,O=0;B<z;++B)B!==U&&(N[O++]=I[B]);L.push(N)}return c(L)}p.boundary=P;function x(o,L){for(var m=new s(L),F=0;F<o.length;++F)for(var I=o[F],U=0;U<I.length;++U)for(var z=U+1;z<I.length;++z)m.link(I[U],I[z]);for(var N=[],B=m.ranks,F=0;F<B.length;++F)B[F]=-1;for(var F=0;F<o.length;++F){var O=m.find(o[F][0]);B[O]<0?(B[O]=N.length,N.push([o[F].slice(0)])):N[B[O]].push(o[F].slice(0))}return N}function M(o){for(var L=T(c(S(o,0))),m=new s(L.length),F=0;F<o.length;++F)for(var I=o[F],U=0;U<I.length;++U)for(var z=h(L,[I[U]]),N=U+1;N<I.length;++N)m.link(z,h(L,[I[N]]));for(var B=[],O=m.ranks,F=0;F<O.length;++F)O[F]=-1;for(var F=0;F<o.length;++F){var H=m.find(h(L,[o[F][0]]));O[H]<0?(O[H]=B.length,B.push([o[F].slice(0)])):B[O[H]].push(o[F].slice(0))}return B}function w(o,L){return L?x(o,L):M(o)}p.connectedComponents=w},9521:function(v){"use restrict";v.exports=p;function p(t){this.roots=new Array(t),this.ranks=new Array(t);for(var r=0;r<t;++r)this.roots[r]=r,this.ranks[r]=0}p.prototype.length=function(){return this.roots.length},p.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},p.prototype.find=function(t){for(var r=this.roots;r[t]!==t;){var s=r[t];r[t]=r[s],t=s}return t},p.prototype.link=function(t,r){var s=this.find(t),n=this.find(r);if(s!==n){var i=this.ranks,f=this.roots,u=i[s],y=i[n];u<y?f[s]=n:y<u?f[n]=s:(f[n]=s,++i[s])}}},8243:function(v,p,t){v.exports=i;var r=t(417),s=t(6656);function n(f,u,y){var c=Math.abs(r(f,u,y)),T=Math.sqrt(Math.pow(u[0]-y[0],2)+Math.pow(u[1]-y[1],2));return c/T}function i(f,u,y){for(var c=u.length,T=f.length,h=new Array(c),l=new Array(c),d=new Array(c),E=new Array(c),S=0;S<c;++S)h[S]=l[S]=-1,d[S]=1/0,E[S]=!1;for(var S=0;S<T;++S){var P=f[S];if(P.length!==2)throw new Error("Input must be a graph");var x=P[1],M=P[0];l[M]!==-1?l[M]=-2:l[M]=x,h[x]!==-1?h[x]=-2:h[x]=M}function w(Q){if(E[Q])return 1/0;var j=h[Q],Z=l[Q];return j<0||Z<0?1/0:n(u[Q],u[j],u[Z])}function o(Q,j){var Z=B[Q],$=B[j];B[Q]=$,B[j]=Z,O[Z]=j,O[$]=Q}function L(Q){return d[B[Q]]}function m(Q){return Q&1?Q-1>>1:(Q>>1)-1}function F(Q){for(var j=L(Q);;){var Z=j,$=2*Q+1,te=2*(Q+1),se=Q;if($<Y){var ee=L($);ee<Z&&(se=$,Z=ee)}if(te<Y){var q=L(te);q<Z&&(se=te)}if(se===Q)return Q;o(Q,se),Q=se}}function I(Q){for(var j=L(Q);Q>0;){var Z=m(Q);if(Z>=0){var $=L(Z);if(j<$){o(Q,Z),Q=Z;continue}}return Q}}function U(){if(Y>0){var Q=B[0];return o(0,Y-1),Y-=1,F(0),Q}return-1}function z(Q,j){var Z=B[Q];return d[Z]===j?Q:(d[Z]=-1/0,I(Q),U(),d[Z]=j,Y+=1,I(Y-1))}function N(Q){if(!E[Q]){E[Q]=!0;var j=h[Q],Z=l[Q];h[Z]>=0&&(h[Z]=j),l[j]>=0&&(l[j]=Z),O[j]>=0&&z(O[j],w(j)),O[Z]>=0&&z(O[Z],w(Z))}}for(var B=[],O=new Array(c),S=0;S<c;++S){var H=d[S]=w(S);H<1/0?(O[S]=B.length,B.push(S)):O[S]=-1}for(var Y=B.length,S=Y>>1;S>=0;--S)F(S);for(;;){var J=U();if(J<0||d[J]>y)break;N(J)}for(var re=[],S=0;S<c;++S)E[S]||(O[S]=re.length,re.push(u[S].slice()));re.length;function ie(Q,j){if(Q[j]<0)return j;var Z=j,$=j;do{var te=Q[$];if(!E[$]||te<0||te===$||($=te,te=Q[$],!E[$]||te<0||te===$))break;$=te,Z=Q[Z]}while(Z!==$);for(var se=j;se!==$;se=Q[se])Q[se]=$;return $}var ce=[];return f.forEach(function(Q){var j=ie(h,Q[0]),Z=ie(l,Q[1]);if(j>=0&&Z>=0&&j!==Z){var $=O[j],te=O[Z];$!==te&&ce.push([$,te])}}),s.unique(s.normalize(ce)),{positions:re,edges:ce}}},6638:function(v,p,t){v.exports=n;var r=t(417);function s(i,f){var u,y;if(f[0][0]<f[1][0])u=f[0],y=f[1];else if(f[0][0]>f[1][0])u=f[1],y=f[0];else{var c=Math.min(i[0][1],i[1][1]),T=Math.max(i[0][1],i[1][1]),h=Math.min(f[0][1],f[1][1]),l=Math.max(f[0][1],f[1][1]);return T<h?T-h:c>l?c-l:T-l}var d,E;i[0][1]<i[1][1]?(d=i[0],E=i[1]):(d=i[1],E=i[0]);var S=r(y,u,d);return S||(S=r(y,u,E),S)?S:E-y}function n(i,f){var u,y;if(f[0][0]<f[1][0])u=f[0],y=f[1];else if(f[0][0]>f[1][0])u=f[1],y=f[0];else return s(f,i);var c,T;if(i[0][0]<i[1][0])c=i[0],T=i[1];else if(i[0][0]>i[1][0])c=i[1],T=i[0];else return-s(i,f);var h=r(u,y,T),l=r(u,y,c);if(h<0){if(l<=0)return h}else if(h>0){if(l>=0)return h}else if(l)return l;if(h=r(T,c,y),l=r(T,c,u),h<0){if(l<=0)return h}else if(h>0){if(l>=0)return h}else if(l)return l;return y[0]-T[0]}},4385:function(v,p,t){v.exports=l;var r=t(5070),s=t(7080),n=t(417),i=t(6638);function f(d,E,S){this.slabs=d,this.coordinates=E,this.horizontal=S}var u=f.prototype;function y(d,E){return d.y-E}function c(d,E){for(var S=null;d;){var P=d.key,x,M;P[0][0]<P[1][0]?(x=P[0],M=P[1]):(x=P[1],M=P[0]);var w=n(x,M,E);if(w<0)d=d.left;else if(w>0)if(E[0]!==P[1][0])S=d,d=d.right;else{var o=c(d.right,E);if(o)return o;d=d.left}else{if(E[0]!==P[1][0])return d;var o=c(d.right,E);if(o)return o;d=d.left}}return S}u.castUp=function(d){var E=r.le(this.coordinates,d[0]);if(E<0)return-1;this.slabs[E];var S=c(this.slabs[E],d),P=-1;if(S&&(P=S.value),this.coordinates[E]===d[0]){var x=null;if(S&&(x=S.key),E>0){var M=c(this.slabs[E-1],d);M&&(x?i(M.key,x)>0&&(x=M.key,P=M.value):(P=M.value,x=M.key))}var w=this.horizontal[E];if(w.length>0){var o=r.ge(w,d[1],y);if(o<w.length){var L=w[o];if(d[1]===L.y){if(L.closed)return L.index;for(;o<w.length-1&&w[o+1].y===d[1];)if(o=o+1,L=w[o],L.closed)return L.index;if(L.y===d[1]&&!L.start){if(o=o+1,o>=w.length)return P;L=w[o]}}if(L.start)if(x){var m=n(x[0],x[1],[d[0],L.y]);x[0][0]>x[1][0]&&(m=-m),m>0&&(P=L.index)}else P=L.index;else L.y!==d[1]&&(P=L.index)}}}return P};function T(d,E,S,P){this.y=d,this.index=E,this.start=S,this.closed=P}function h(d,E,S,P){this.x=d,this.segment=E,this.create=S,this.index=P}function l(d){for(var E=d.length,S=2*E,P=new Array(S),x=0;x<E;++x){var M=d[x],w=M[0][0]<M[1][0];P[2*x]=new h(M[0][0],M,w,x),P[2*x+1]=new h(M[1][0],M,!w,x)}P.sort(function(N,B){var O=N.x-B.x;return O||(O=N.create-B.create,O)?O:Math.min(N.segment[0][1],N.segment[1][1])-Math.min(B.segment[0][1],B.segment[1][1])});for(var o=s(i),L=[],m=[],F=[],x=0;x<S;){for(var I=P[x].x,U=[];x<S;){var z=P[x];if(z.x!==I)break;x+=1,z.segment[0][0]===z.x&&z.segment[1][0]===z.x?z.create&&(z.segment[0][1]<z.segment[1][1]?(U.push(new T(z.segment[0][1],z.index,!0,!0)),U.push(new T(z.segment[1][1],z.index,!1,!1))):(U.push(new T(z.segment[1][1],z.index,!0,!1)),U.push(new T(z.segment[0][1],z.index,!1,!0)))):z.create?o=o.insert(z.segment,z.index):o=o.remove(z.segment)}L.push(o.root),m.push(I),F.push(U)}return new f(L,m,F)}},4670:function(v,p,t){var r=t(9130),s=t(9662);v.exports=f,v.exports.positive=u,v.exports.negative=y;function n(c,T){var h=s(r(c,T),[T[T.length-1]]);return h[h.length-1]}function i(c,T,h,l){var d=l-T,E=-T/d;E<0?E=0:E>1&&(E=1);for(var S=1-E,P=c.length,x=new Array(P),M=0;M<P;++M)x[M]=E*c[M]+S*h[M];return x}function f(c,T){for(var h=[],l=[],d=n(c[c.length-1],T),E=c[c.length-1],S=c[0],P=0;P<c.length;++P,E=S){S=c[P];var x=n(S,T);if(d<0&&x>0||d>0&&x<0){var M=i(E,x,S,d);h.push(M),l.push(M.slice())}x<0?l.push(S.slice()):x>0?h.push(S.slice()):(h.push(S.slice()),l.push(S.slice())),d=x}return{positive:h,negative:l}}function u(c,T){for(var h=[],l=n(c[c.length-1],T),d=c[c.length-1],E=c[0],S=0;S<c.length;++S,d=E){E=c[S];var P=n(E,T);(l<0&&P>0||l>0&&P<0)&&h.push(i(d,P,E,l)),P>=0&&h.push(E.slice()),l=P}return h}function y(c,T){for(var h=[],l=n(c[c.length-1],T),d=c[c.length-1],E=c[0],S=0;S<c.length;++S,d=E){E=c[S];var P=n(E,T);(l<0&&P>0||l>0&&P<0)&&h.push(i(d,P,E,l)),P<=0&&h.push(E.slice()),l=P}return h}},8974:function(v,p,t){var r;(function(){var s={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(c){return f(y(c),arguments)}function i(c,T){return n.apply(null,[c].concat(T||[]))}function f(c,T){var h=1,l=c.length,d,E="",S,P,x,M,w,o,L,m;for(S=0;S<l;S++)if(typeof c[S]=="string")E+=c[S];else if(typeof c[S]=="object"){if(x=c[S],x.keys)for(d=T[h],P=0;P<x.keys.length;P++){if(d==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',x.keys[P],x.keys[P-1]));d=d[x.keys[P]]}else x.param_no?d=T[x.param_no]:d=T[h++];if(s.not_type.test(x.type)&&s.not_primitive.test(x.type)&&d instanceof Function&&(d=d()),s.numeric_arg.test(x.type)&&typeof d!="number"&&isNaN(d))throw new TypeError(n("[sprintf] expecting number but found %T",d));switch(s.number.test(x.type)&&(L=d>=0),x.type){case"b":d=parseInt(d,10).toString(2);break;case"c":d=String.fromCharCode(parseInt(d,10));break;case"d":case"i":d=parseInt(d,10);break;case"j":d=JSON.stringify(d,null,x.width?parseInt(x.width):0);break;case"e":d=x.precision?parseFloat(d).toExponential(x.precision):parseFloat(d).toExponential();break;case"f":d=x.precision?parseFloat(d).toFixed(x.precision):parseFloat(d);break;case"g":d=x.precision?String(Number(d.toPrecision(x.precision))):parseFloat(d);break;case"o":d=(parseInt(d,10)>>>0).toString(8);break;case"s":d=String(d),d=x.precision?d.substring(0,x.precision):d;break;case"t":d=String(!!d),d=x.precision?d.substring(0,x.precision):d;break;case"T":d=Object.prototype.toString.call(d).slice(8,-1).toLowerCase(),d=x.precision?d.substring(0,x.precision):d;break;case"u":d=parseInt(d,10)>>>0;break;case"v":d=d.valueOf(),d=x.precision?d.substring(0,x.precision):d;break;case"x":d=(parseInt(d,10)>>>0).toString(16);break;case"X":d=(parseInt(d,10)>>>0).toString(16).toUpperCase();break}s.json.test(x.type)?E+=d:(s.number.test(x.type)&&(!L||x.sign)?(m=L?"+":"-",d=d.toString().replace(s.sign,"")):m="",w=x.pad_char?x.pad_char==="0"?"0":x.pad_char.charAt(1):" ",o=x.width-(m+d).length,M=x.width&&o>0?w.repeat(o):"",E+=x.align?m+d+M:w==="0"?m+M+d:M+m+d)}return E}var u=Object.create(null);function y(c){if(u[c])return u[c];for(var T=c,h,l=[],d=0;T;){if((h=s.text.exec(T))!==null)l.push(h[0]);else if((h=s.modulo.exec(T))!==null)l.push("%");else if((h=s.placeholder.exec(T))!==null){if(h[2]){d|=1;var E=[],S=h[2],P=[];if((P=s.key.exec(S))!==null)for(E.push(P[1]);(S=S.substring(P[0].length))!=="";)if((P=s.key_access.exec(S))!==null)E.push(P[1]);else if((P=s.index_access.exec(S))!==null)E.push(P[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");h[2]=E}else d|=2;if(d===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");l.push({placeholder:h[0],param_no:h[1],keys:h[2],sign:h[3],pad_char:h[4],align:h[5],width:h[6],precision:h[7],type:h[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");T=T.substring(h[0].length)}return u[c]=l}p.sprintf=n,p.vsprintf=i,typeof window<"u"&&(window.sprintf=n,window.vsprintf=i,r=(function(){return{sprintf:n,vsprintf:i}}).call(p,t,p,v),r!==void 0&&(v.exports=r))})()},4162:function(v,p,t){v.exports=y;var r=t(9284),s=t(9584),n={"2d":function(c,T,h){var l=c({order:T,scalarArguments:3,getters:h==="generic"?[0]:void 0,phase:function(E,S,P,x){return E>x|0},vertex:function(E,S,P,x,M,w,o,L,m,F,I,U,z){var N=(o<<0)+(L<<1)+(m<<2)+(F<<3)|0;if(!(N===0||N===15))switch(N){case 0:I.push([E-.5,S-.5]);break;case 1:I.push([E-.25-.25*(x+P-2*z)/(P-x),S-.25-.25*(M+P-2*z)/(P-M)]);break;case 2:I.push([E-.75-.25*(-x-P+2*z)/(x-P),S-.25-.25*(w+x-2*z)/(x-w)]);break;case 3:I.push([E-.5,S-.5-.5*(M+P+w+x-4*z)/(P-M+x-w)]);break;case 4:I.push([E-.25-.25*(w+M-2*z)/(M-w),S-.75-.25*(-M-P+2*z)/(M-P)]);break;case 5:I.push([E-.5-.5*(x+P+w+M-4*z)/(P-x+M-w),S-.5]);break;case 6:I.push([E-.5-.25*(-x-P+w+M)/(x-P+M-w),S-.5-.25*(-M-P+w+x)/(M-P+x-w)]);break;case 7:I.push([E-.75-.25*(w+M-2*z)/(M-w),S-.75-.25*(w+x-2*z)/(x-w)]);break;case 8:I.push([E-.75-.25*(-w-M+2*z)/(w-M),S-.75-.25*(-w-x+2*z)/(w-x)]);break;case 9:I.push([E-.5-.25*(x+P+-w-M)/(P-x+w-M),S-.5-.25*(M+P+-w-x)/(P-M+w-x)]);break;case 10:I.push([E-.5-.5*(-x-P+-w-M+4*z)/(x-P+w-M),S-.5]);break;case 11:I.push([E-.25-.25*(-w-M+2*z)/(w-M),S-.75-.25*(M+P-2*z)/(P-M)]);break;case 12:I.push([E-.5,S-.5-.5*(-M-P+-w-x+4*z)/(M-P+w-x)]);break;case 13:I.push([E-.75-.25*(x+P-2*z)/(P-x),S-.25-.25*(-w-x+2*z)/(w-x)]);break;case 14:I.push([E-.25-.25*(-x-P+2*z)/(x-P),S-.25-.25*(-M-P+2*z)/(M-P)]);break;case 15:I.push([E-.5,S-.5]);break}},cell:function(E,S,P,x,M,w,o,L,m){M?L.push([E,S]):L.push([S,E])}});return function(d,E){var S=[],P=[];return l(d,S,P,E),{positions:S,cells:P}}}};function i(c,T){var h=c.length+"d",l=n[h];if(l)return l(r,c,T)}function f(c,T){for(var h=s(c,T),l=h.length,d=new Array(l),E=new Array(l),S=0;S<l;++S)d[S]=[h[S]],E[S]=[S];return{positions:d,cells:E}}var u={};function y(c,d){if(c.dimension<=0)return{positions:[],cells:[]};if(c.dimension===1)return f(c,d);var h=c.order.join()+"-"+c.dtype,l=u[h],d=+d||0;return l||(l=u[h]=i(c.order,c.dtype)),l(c,d)}},6946:function(v,p,t){v.exports=f;var r=t(875),s=window||g.global||{},n=s.__TEXT_CACHE||{};s.__TEXT_CACHE={};function i(u){for(var y=u.cells,c=u.positions,T=new Float32Array(y.length*6),h=0,l=0,d=0;d<y.length;++d)for(var E=y[d],S=0;S<3;++S){var P=c[E[S]];T[h++]=P[0],T[h++]=P[1]+1.4,l=Math.max(P[0],l)}return{data:T,shape:l}}function f(u,y,T){var T=T||{},h=n[u];h||(h=n[u]={" ":{data:new Float32Array(0),shape:.2}});var l=h[y];if(!l)if(y.length<=1||!/\d/.test(y))l=h[y]=i(r(y,{triangles:!0,font:u,textAlign:T.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var d=y.split(/(\d|\s)/),E=new Array(d.length),S=0,P=0,x=0;x<d.length;++x)E[x]=f(u,d[x]),S+=E[x].data.length,P+=E[x].shape,x>0&&(P+=.02);for(var M=new Float32Array(S),w=0,o=-.5*P,x=0;x<E.length;++x){for(var L=E[x].data,m=0;m<L.length;m+=2)M[w++]=L[m]+o,M[w++]=L[m+1];o+=E[x].shape+.02}l=h[y]={data:M,shape:P}}return l}},14:function(v,p,t){var r=t(4405);v.exports=f;var s=96;function n(u,y){var c=r(getComputedStyle(u).getPropertyValue(y));return c[0]*f(c[1],u)}function i(u,y){var c=document.createElement("div");c.style["font-size"]="128"+u,y.appendChild(c);var T=n(c,"font-size")/128;return y.removeChild(c),T}function f(u,y){switch(y=y||document.body,u=(u||"px").trim().toLowerCase(),(y===window||y===document)&&(y=document.body),u){case"%":return y.clientHeight/100;case"ch":case"ex":return i(u,y);case"em":return n(y,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return s;case"cm":return s/2.54;case"mm":return s/25.4;case"pt":return s/72;case"pc":return s/6}return 1}},3440:function(v,p,t){v.exports=E;var r=t(8444),s=t(7437),n=t(4422),i=t(903),f=t(899),u=t(9305);function y(S,P,x){return Math.sqrt(Math.pow(S,2)+Math.pow(P,2)+Math.pow(x,2))}function c(S){return Math.min(1,Math.max(-1,S))}function T(S){var P=Math.abs(S[0]),x=Math.abs(S[1]),M=Math.abs(S[2]),w=[0,0,0];P>Math.max(x,M)?w[2]=1:x>Math.max(P,M)?w[0]=1:w[1]=1;for(var o=0,L=0,m=0;m<3;++m)o+=S[m]*S[m],L+=w[m]*S[m];for(var m=0;m<3;++m)w[m]-=L/o*S[m];return f(w,w),w}function h(S,P,x,M,w,o,L,m){this.center=r(x),this.up=r(M),this.right=r(w),this.radius=r([o]),this.angle=r([L,m]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(S,P),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var F=0;F<16;++F)this.computedMatrix[F]=.5;this.recalcMatrix(0)}var l=h.prototype;l.setDistanceLimits=function(S,P){S>0?S=Math.log(S):S=-1/0,P>0?P=Math.log(P):P=1/0,P=Math.max(P,S),this.radius.bounds[0][0]=S,this.radius.bounds[1][0]=P},l.getDistanceLimits=function(S){var P=this.radius.bounds[0];return S?(S[0]=Math.exp(P[0][0]),S[1]=Math.exp(P[1][0]),S):[Math.exp(P[0][0]),Math.exp(P[1][0])]},l.recalcMatrix=function(S){this.center.curve(S),this.up.curve(S),this.right.curve(S),this.radius.curve(S),this.angle.curve(S);for(var P=this.computedUp,x=this.computedRight,M=0,w=0,o=0;o<3;++o)w+=P[o]*x[o],M+=P[o]*P[o];for(var L=Math.sqrt(M),m=0,o=0;o<3;++o)x[o]-=P[o]*w/M,m+=x[o]*x[o],P[o]/=L;for(var F=Math.sqrt(m),o=0;o<3;++o)x[o]/=F;var I=this.computedToward;i(I,P,x),f(I,I);for(var U=Math.exp(this.computedRadius[0]),z=this.computedAngle[0],N=this.computedAngle[1],B=Math.cos(z),O=Math.sin(z),H=Math.cos(N),Y=Math.sin(N),J=this.computedCenter,re=B*H,ie=O*H,ce=Y,Q=-B*Y,j=-O*Y,Z=H,$=this.computedEye,te=this.computedMatrix,o=0;o<3;++o){var se=re*x[o]+ie*I[o]+ce*P[o];te[4*o+1]=Q*x[o]+j*I[o]+Z*P[o],te[4*o+2]=se,te[4*o+3]=0}var ee=te[1],q=te[5],le=te[9],oe=te[2],he=te[6],me=te[10],Ce=q*me-le*he,Ae=le*oe-ee*me,Ue=ee*he-q*oe,Ve=y(Ce,Ae,Ue);Ce/=Ve,Ae/=Ve,Ue/=Ve,te[0]=Ce,te[4]=Ae,te[8]=Ue;for(var o=0;o<3;++o)$[o]=J[o]+te[2+4*o]*U;for(var o=0;o<3;++o){for(var m=0,Pe=0;Pe<3;++Pe)m+=te[o+4*Pe]*$[Pe];te[12+o]=-m}te[15]=1},l.getMatrix=function(S,P){this.recalcMatrix(S);var x=this.computedMatrix;if(P){for(var M=0;M<16;++M)P[M]=x[M];return P}return x};var d=[0,0,0];l.rotate=function(S,P,x,M){if(this.angle.move(S,P,x),M){this.recalcMatrix(S);var w=this.computedMatrix;d[0]=w[2],d[1]=w[6],d[2]=w[10];for(var o=this.computedUp,L=this.computedRight,m=this.computedToward,F=0;F<3;++F)w[4*F]=o[F],w[4*F+1]=L[F],w[4*F+2]=m[F];n(w,w,M,d);for(var F=0;F<3;++F)o[F]=w[4*F],L[F]=w[4*F+1];this.up.set(S,o[0],o[1],o[2]),this.right.set(S,L[0],L[1],L[2])}},l.pan=function(S,P,x,M){P=P||0,x=x||0,M=M||0,this.recalcMatrix(S);var w=this.computedMatrix;Math.exp(this.computedRadius[0]);var o=w[1],L=w[5],m=w[9],F=y(o,L,m);o/=F,L/=F,m/=F;var I=w[0],U=w[4],z=w[8],N=I*o+U*L+z*m;I-=o*N,U-=L*N,z-=m*N;var B=y(I,U,z);I/=B,U/=B,z/=B;var O=I*P+o*x,H=U*P+L*x,Y=z*P+m*x;this.center.move(S,O,H,Y);var J=Math.exp(this.computedRadius[0]);J=Math.max(1e-4,J+M),this.radius.set(S,Math.log(J))},l.translate=function(S,P,x,M){this.center.move(S,P||0,x||0,M||0)},l.setMatrix=function(S,P,x,M){var w=1;typeof x=="number"&&(w=x|0),(w<0||w>3)&&(w=1);var o=(w+2)%3;P||(this.recalcMatrix(S),P=this.computedMatrix);var L=P[w],m=P[w+4],F=P[w+8];if(M){var U=Math.abs(L),z=Math.abs(m),N=Math.abs(F),B=Math.max(U,z,N);U===B?(L=L<0?-1:1,m=F=0):N===B?(F=F<0?-1:1,L=m=0):(m=m<0?-1:1,L=F=0)}else{var I=y(L,m,F);L/=I,m/=I,F/=I}var O=P[o],H=P[o+4],Y=P[o+8],J=O*L+H*m+Y*F;O-=L*J,H-=m*J,Y-=F*J;var re=y(O,H,Y);O/=re,H/=re,Y/=re;var ie=m*Y-F*H,ce=F*O-L*Y,Q=L*H-m*O,j=y(ie,ce,Q);ie/=j,ce/=j,Q/=j,this.center.jump(S,je,Fe,Ze),this.radius.idle(S),this.up.jump(S,L,m,F),this.right.jump(S,O,H,Y);var Z,$;if(w===2){var te=P[1],se=P[5],ee=P[9],q=te*O+se*H+ee*Y,le=te*ie+se*ce+ee*Q;Ce<0?Z=-Math.PI/2:Z=Math.PI/2,$=Math.atan2(le,q)}else{var oe=P[2],he=P[6],me=P[10],Ce=oe*L+he*m+me*F,Ae=oe*O+he*H+me*Y,Ue=oe*ie+he*ce+me*Q;Z=Math.asin(c(Ce)),$=Math.atan2(Ue,Ae)}this.angle.jump(S,$,Z),this.recalcMatrix(S);var Ve=P[2],Pe=P[6],be=P[10],Le=this.computedMatrix;s(Le,P);var We=Le[15],je=Le[12]/We,Fe=Le[13]/We,Ze=Le[14]/We,ut=Math.exp(this.computedRadius[0]);this.center.jump(S,je-Ve*ut,Fe-Pe*ut,Ze-be*ut)},l.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},l.idle=function(S){this.center.idle(S),this.up.idle(S),this.right.idle(S),this.radius.idle(S),this.angle.idle(S)},l.flush=function(S){this.center.flush(S),this.up.flush(S),this.right.flush(S),this.radius.flush(S),this.angle.flush(S)},l.setDistance=function(S,P){P>0&&this.radius.set(S,Math.log(P))},l.lookAt=function(S,P,x,M){this.recalcMatrix(S),P=P||this.computedEye,x=x||this.computedCenter,M=M||this.computedUp;var w=M[0],o=M[1],L=M[2],m=y(w,o,L);if(!(m<1e-6)){w/=m,o/=m,L/=m;var F=P[0]-x[0],I=P[1]-x[1],U=P[2]-x[2],z=y(F,I,U);if(!(z<1e-6)){F/=z,I/=z,U/=z;var N=this.computedRight,B=N[0],O=N[1],H=N[2],Y=w*B+o*O+L*H;B-=Y*w,O-=Y*o,H-=Y*L;var J=y(B,O,H);if(!(J<.01&&(B=o*U-L*I,O=L*F-w*U,H=w*I-o*F,J=y(B,O,H),J<1e-6))){B/=J,O/=J,H/=J,this.up.set(S,w,o,L),this.right.set(S,B,O,H),this.center.set(S,x[0],x[1],x[2]),this.radius.set(S,Math.log(z));var re=o*H-L*O,ie=L*B-w*H,ce=w*O-o*B,Q=y(re,ie,ce);re/=Q,ie/=Q,ce/=Q;var j=w*F+o*I+L*U,Z=B*F+O*I+H*U,$=re*F+ie*I+ce*U,te=Math.asin(c(j)),se=Math.atan2($,Z),ee=this.angle._state,q=ee[ee.length-1],le=ee[ee.length-2];q=q%(2*Math.PI);var oe=Math.abs(q+2*Math.PI-se),he=Math.abs(q-se),me=Math.abs(q-2*Math.PI-se);oe<he&&(q+=2*Math.PI),me<he&&(q-=2*Math.PI),this.angle.jump(this.angle.lastT(),q,le),this.angle.set(S,se,te)}}}};function E(S){S=S||{};var P=S.center||[0,0,0],x=S.up||[0,1,0],M=S.right||T(x),w=S.radius||1,o=S.theta||0,L=S.phi||0;if(P=[].slice.call(P,0,3),x=[].slice.call(x,0,3),f(x,x),M=[].slice.call(M,0,3),f(M,M),"eye"in S){var m=S.eye,F=[m[0]-P[0],m[1]-P[1],m[2]-P[2]];i(M,F,x),y(M[0],M[1],M[2])<1e-6?M=T(x):f(M,M),w=y(F[0],F[1],F[2]);var I=u(x,F)/w,U=u(M,F)/w;L=Math.acos(I),o=Math.acos(U)}return w=Math.log(w),new h(S.zoomMin,S.zoomMax,P,x,M,w,o,L)}},9660:function(v){v.exports=t;var p=+(Math.pow(2,27)+1);function t(r,s,n){var i=r*s,f=p*r,u=f-r,y=f-u,c=r-y,T=p*s,h=T-s,l=T-h,d=s-l,E=i-y*l,S=E-c*l,P=S-y*d,x=c*d-P;return n?(n[0]=x,n[1]=i,n):[x,i]}},87:function(v){v.exports=p;function p(t,r,s){var n=t+r,i=n-t,f=n-i,u=r-i,y=t-f;return s?(s[0]=y+u,s[1]=n,s):[y+u,n]}},5306:function(v,p,t){var r=t(2288),s=t(3094),n=t(2146).lW;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:s([32,0]),UINT16:s([32,0]),UINT32:s([32,0]),BIGUINT64:s([32,0]),INT8:s([32,0]),INT16:s([32,0]),INT32:s([32,0]),BIGINT64:s([32,0]),FLOAT:s([32,0]),DOUBLE:s([32,0]),DATA:s([32,0]),UINT8C:s([32,0]),BUFFER:s([32,0])});var i=typeof Uint8ClampedArray<"u",f=typeof BigUint64Array<"u",u=typeof BigInt64Array<"u",y=t.g.__TYPEDARRAY_POOL;y.UINT8C||(y.UINT8C=s([32,0])),y.BIGUINT64||(y.BIGUINT64=s([32,0])),y.BIGINT64||(y.BIGINT64=s([32,0])),y.BUFFER||(y.BUFFER=s([32,0]));var c=y.DATA,T=y.BUFFER;p.free=function(B){if(n.isBuffer(B))T[r.log2(B.length)].push(B);else{if(Object.prototype.toString.call(B)!=="[object ArrayBuffer]"&&(B=B.buffer),!B)return;var O=B.length||B.byteLength,H=r.log2(O)|0;c[H].push(B)}};function h(N){if(N){var B=N.length||N.byteLength,O=r.log2(B);c[O].push(N)}}function l(N){h(N.buffer)}p.freeUint8=p.freeUint16=p.freeUint32=p.freeBigUint64=p.freeInt8=p.freeInt16=p.freeInt32=p.freeBigInt64=p.freeFloat32=p.freeFloat=p.freeFloat64=p.freeDouble=p.freeUint8Clamped=p.freeDataView=l,p.freeArrayBuffer=h,p.freeBuffer=function(B){T[r.log2(B.length)].push(B)},p.malloc=function(B,O){if(O===void 0||O==="arraybuffer")return d(B);switch(O){case"uint8":return E(B);case"uint16":return S(B);case"uint32":return P(B);case"int8":return x(B);case"int16":return M(B);case"int32":return w(B);case"float":case"float32":return o(B);case"double":case"float64":return L(B);case"uint8_clamped":return m(B);case"bigint64":return I(B);case"biguint64":return F(B);case"buffer":return z(B);case"data":case"dataview":return U(B);default:return null}return null};function d(B){var B=r.nextPow2(B),O=r.log2(B),H=c[O];return H.length>0?H.pop():new ArrayBuffer(B)}p.mallocArrayBuffer=d;function E(N){return new Uint8Array(d(N),0,N)}p.mallocUint8=E;function S(N){return new Uint16Array(d(2*N),0,N)}p.mallocUint16=S;function P(N){return new Uint32Array(d(4*N),0,N)}p.mallocUint32=P;function x(N){return new Int8Array(d(N),0,N)}p.mallocInt8=x;function M(N){return new Int16Array(d(2*N),0,N)}p.mallocInt16=M;function w(N){return new Int32Array(d(4*N),0,N)}p.mallocInt32=w;function o(N){return new Float32Array(d(4*N),0,N)}p.mallocFloat32=p.mallocFloat=o;function L(N){return new Float64Array(d(8*N),0,N)}p.mallocFloat64=p.mallocDouble=L;function m(N){return i?new Uint8ClampedArray(d(N),0,N):E(N)}p.mallocUint8Clamped=m;function F(N){return f?new BigUint64Array(d(8*N),0,N):null}p.mallocBigUint64=F;function I(N){return u?new BigInt64Array(d(8*N),0,N):null}p.mallocBigInt64=I;function U(N){return new DataView(d(N),0,N)}p.mallocDataView=U;function z(N){N=r.nextPow2(N);var B=r.log2(N),O=T[B];return O.length>0?O.pop():new n(N)}p.mallocBuffer=z,p.clearCache=function(){for(var B=0;B<32;++B)y.UINT8[B].length=0,y.UINT16[B].length=0,y.UINT32[B].length=0,y.INT8[B].length=0,y.INT16[B].length=0,y.INT32[B].length=0,y.FLOAT[B].length=0,y.DOUBLE[B].length=0,y.BIGUINT64[B].length=0,y.BIGINT64[B].length=0,y.UINT8C[B].length=0,c[B].length=0,T[B].length=0}},1731:function(v){"use restrict";v.exports=p;function p(r){this.roots=new Array(r),this.ranks=new Array(r);for(var s=0;s<r;++s)this.roots[s]=s,this.ranks[s]=0}var t=p.prototype;Object.defineProperty(t,"length",{get:function(){return this.roots.length}}),t.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},t.find=function(r){for(var s=r,n=this.roots;n[r]!==r;)r=n[r];for(;n[s]!==r;){var i=n[s];n[s]=r,s=i}return r},t.link=function(r,s){var n=this.find(r),i=this.find(s);if(n!==i){var f=this.ranks,u=this.roots,y=f[n],c=f[i];y<c?u[n]=i:c<y?u[i]=n:(u[i]=n,++f[n])}}},1215:function(v){function p(s,n){for(var i=1,f=s.length,u=s[0],y=s[0],c=1;c<f;++c)if(y=u,u=s[c],n(u,y)){if(c===i){i++;continue}s[i++]=u}return s.length=i,s}function t(s){for(var n=1,i=s.length,f=s[0],u=s[0],y=1;y<i;++y,u=f)if(u=f,f=s[y],f!==u){if(y===n){n++;continue}s[n++]=f}return s.length=n,s}function r(s,n,i){return s.length===0?s:n?(i||s.sort(n),p(s,n)):(i||s.sort(),t(s))}v.exports=r},875:function(v,p,t){v.exports=i;var r=t(712),s=null,n=null;typeof document<"u"&&(s=document.createElement("canvas"),s.width=8192,s.height=1024,n=s.getContext("2d"));function i(f,u){return(typeof u!="object"||u===null)&&(u={}),r(f,u.canvas||s,u.context||n,u)}},712:function(v,p,t){v.exports=I,v.exports.processPixels=F;var r=t(4162),s=t(5050),n=t(8243),i=t(197),f=t(7761),u=t(8040),y="b",c="b|",T="i",h="i|",l="sup",d="+",E="+1",S="sub",P="-",x="-1";function M(U,z,N,B){for(var O="<"+U+">",H="</"+U+">",Y=O.length,J=H.length,re=z[0]===d||z[0]===P,ie=0,ce=-J;ie>-1&&(ie=N.indexOf(O,ie),!(ie===-1||(ce=N.indexOf(H,ie+Y),ce===-1)||ce<=ie));){for(var Q=ie;Q<ce+J;++Q)if(Q<ie+Y||Q>=ce)B[Q]=null,N=N.substr(0,Q)+" "+N.substr(Q+1);else if(B[Q]!==null){var j=B[Q].indexOf(z[0]);j===-1?B[Q]+=z:re&&(B[Q]=B[Q].substr(0,j+1)+(1+parseInt(B[Q][j+1]))+B[Q].substr(j+2))}var Z=ie+Y,$=N.substr(Z,ce-Z),te=$.indexOf(O);te!==-1?ie=te:ie=ce+J}return B}function w(U,z,N){for(var B=z.textAlign||"start",O=z.textBaseline||"alphabetic",H=[1<<30,1<<30],Y=[0,0],J=U.length,re=0;re<J;++re)for(var ie=U[re],ce=0;ce<2;++ce)H[ce]=Math.min(H[ce],ie[ce])|0,Y[ce]=Math.max(Y[ce],ie[ce])|0;var Q=0;switch(B){case"center":Q=-.5*(H[0]+Y[0]);break;case"right":case"end":Q=-Y[0];break;case"left":case"start":Q=-H[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+B+"'")}var j=0;switch(O){case"hanging":case"top":j=-H[1];break;case"middle":j=-.5*(H[1]+Y[1]);break;case"alphabetic":case"ideographic":j=-3*N;break;case"bottom":j=-Y[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+O+"'")}var Z=1/N;return"lineHeight"in z?Z*=+z.lineHeight:"width"in z?Z=z.width/(Y[0]-H[0]):"height"in z&&(Z=z.height/(Y[1]-H[1])),U.map(function($){return[Z*($[0]+Q),Z*($[1]+j)]})}function o(U,z,N,B,O,H){N=N.replace(/\n/g,""),H.breaklines===!0?N=N.replace(/\<br\>/g,`
`):N=N.replace(/\<br\>/g," ");var Y="",J=[];for(q=0;q<N.length;++q)J[q]=Y;H.bolds===!0&&(J=M(y,c,N,J)),H.italics===!0&&(J=M(T,h,N,J)),H.superscripts===!0&&(J=M(l,E,N,J)),H.subscripts===!0&&(J=M(S,x,N,J));var re=[],ie="";for(q=0;q<N.length;++q)J[q]!==null&&(ie+=N[q],re.push(J[q]));var ce=ie.split(`
`),Q=ce.length,j=Math.round(O*B),Z=B,$=B*2,te=0,se=Q*j+$;U.height<se&&(U.height=se),z.fillStyle="#000",z.fillRect(0,0,U.width,U.height),z.fillStyle="#fff";var ee,q,le,oe,he,me=0,Ce="";function Ae(){if(Ce!==""){var Ze=z.measureText(Ce).width;z.fillText(Ce,Z+le,$+oe),le+=Ze}}function Ue(){return""+Math.round(he)+"px "}function Ve(Ze,ut){var at=""+z.font;if(H.subscripts===!0){var it=Ze.indexOf(P),$e=ut.indexOf(P),st=it>-1?parseInt(Ze[1+it]):0,ct=$e>-1?parseInt(ut[1+$e]):0;st!==ct&&(at=at.replace(Ue(),"?px "),he*=Math.pow(.75,ct-st),at=at.replace("?px ",Ue())),oe+=.25*j*(ct-st)}if(H.superscripts===!0){var vt=Ze.indexOf(d),St=ut.indexOf(d),Mt=vt>-1?parseInt(Ze[1+vt]):0,Bt=St>-1?parseInt(ut[1+St]):0;Mt!==Bt&&(at=at.replace(Ue(),"?px "),he*=Math.pow(.75,Bt-Mt),at=at.replace("?px ",Ue())),oe-=.25*j*(Bt-Mt)}if(H.bolds===!0){var Qe=Ze.indexOf(c)>-1,ke=ut.indexOf(c)>-1;!Qe&&ke&&(ze?at=at.replace("italic ","italic bold "):at="bold "+at),Qe&&!ke&&(at=at.replace("bold ",""))}if(H.italics===!0){var ze=Ze.indexOf(h)>-1,Be=ut.indexOf(h)>-1;!ze&&Be&&(at="italic "+at),ze&&!Be&&(at=at.replace("italic ",""))}z.font=at}for(ee=0;ee<Q;++ee){var Pe=ce[ee]+`
`;for(le=0,oe=ee*j,he=B,Ce="",q=0;q<Pe.length;++q){var be=q+me<re.length?re[q+me]:re[re.length-1];Y===be?Ce+=Pe[q]:(Ae(),Ce=Pe[q],be!==void 0&&(Ve(Y,be),Y=be))}Ae(),me+=Pe.length;var Le=Math.round(le+2*Z)|0;te<Le&&(te=Le)}var We=te,je=$+j*Q,Fe=s(z.getImageData(0,0,We,je).data,[je,We,4]);return Fe.pick(-1,-1,0).transpose(1,0)}function L(U,z){var N=r(U,128);return z?n(N.cells,N.positions,.25):{edges:N.cells,positions:N.positions}}function m(U,z,N,B){var O=L(U,B),H=w(O.positions,z,N),Y=O.edges,J=z.orientation==="ccw";if(i(H,Y),z.polygons||z.polygon||z.polyline){for(var re=u(Y,H),ie=new Array(re.length),ce=0;ce<re.length;++ce){for(var Q=re[ce],j=new Array(Q.length),Z=0;Z<Q.length;++Z){for(var $=Q[Z],te=new Array($.length),se=0;se<$.length;++se)te[se]=H[$[se]].slice();J&&te.reverse(),j[Z]=te}ie[ce]=j}return ie}else return z.triangles||z.triangulate||z.triangle?{cells:f(H,Y,{delaunay:!1,exterior:!1,interior:!0}),positions:H}:{edges:Y,positions:H}}function F(U,z,N){try{return m(U,z,N,!0)}catch{}try{return m(U,z,N,!1)}catch{}return z.polygons||z.polyline||z.polygon?[]:z.triangles||z.triangulate||z.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function I(U,z,N,B){var O=64,H=1.25,Y={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};B&&(B.size&&B.size>0&&(O=B.size),B.lineSpacing&&B.lineSpacing>0&&(H=B.lineSpacing),B.styletags&&B.styletags.breaklines&&(Y.breaklines=!!B.styletags.breaklines),B.styletags&&B.styletags.bolds&&(Y.bolds=!!B.styletags.bolds),B.styletags&&B.styletags.italics&&(Y.italics=!!B.styletags.italics),B.styletags&&B.styletags.subscripts&&(Y.subscripts=!!B.styletags.subscripts),B.styletags&&B.styletags.superscripts&&(Y.superscripts=!!B.styletags.superscripts)),N.font=[B.fontStyle,B.fontVariant,B.fontWeight,O+"px",B.font].filter(function(re){return re}).join(" "),N.textAlign="start",N.textBaseline="alphabetic",N.direction="ltr";var J=o(z,N,U,O,H,Y);return F(J,B,O)}},5346:function(v){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function t(L){L.permitHostObjects___&&L.permitHostObjects___(t)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=t);var r=!1;if(typeof WeakMap=="function"){var s=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var n=new s,i=Object.freeze({});if(n.set(i,1),n.get(i)!==1)r=!0;else{v.exports=WeakMap;return}}}var f=Object.getOwnPropertyNames,u=Object.defineProperty,y=Object.isExtensible,c="weakmap:",T=c+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var h=new ArrayBuffer(25),l=new Uint8Array(h);crypto.getRandomValues(l),T=c+"rand:"+Array.prototype.map.call(l,function(L){return(L%36).toString(36)}).join("")+"___"}function d(L){return!(L.substr(0,c.length)==c&&L.substr(L.length-3)==="___")}if(u(Object,"getOwnPropertyNames",{value:function(m){return f(m).filter(d)}}),"getPropertyNames"in Object){var E=Object.getPropertyNames;u(Object,"getPropertyNames",{value:function(m){return E(m).filter(d)}})}function S(L){if(L!==Object(L))throw new TypeError("Not an object: "+L);var m=L[T];if(m&&m.key===L)return m;if(y(L)){m={key:L};try{return u(L,T,{value:m,writable:!1,enumerable:!1,configurable:!1}),m}catch{return}}}(function(){var L=Object.freeze;u(Object,"freeze",{value:function(U){return S(U),L(U)}});var m=Object.seal;u(Object,"seal",{value:function(U){return S(U),m(U)}});var F=Object.preventExtensions;u(Object,"preventExtensions",{value:function(U){return S(U),F(U)}})})();function P(L){return L.prototype=null,Object.freeze(L)}var x=!1;function M(){!x&&typeof console<"u"&&(x=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var w=0,o=function(){this instanceof o||M();var L=[],m=[],F=w++;function I(B,O){var H,Y=S(B);return Y?F in Y?Y[F]:O:(H=L.indexOf(B),H>=0?m[H]:O)}function U(B){var O=S(B);return O?F in O:L.indexOf(B)>=0}function z(B,O){var H,Y=S(B);return Y?Y[F]=O:(H=L.indexOf(B),H>=0?m[H]=O:(H=L.length,m[H]=O,L[H]=B)),this}function N(B){var O=S(B),H,Y;return O?F in O&&delete O[F]:(H=L.indexOf(B),H<0?!1:(Y=L.length-1,L[H]=void 0,m[H]=m[Y],L[H]=L[Y],L.length=Y,m.length=Y,!0))}return Object.create(o.prototype,{get___:{value:P(I)},has___:{value:P(U)},set___:{value:P(z)},delete___:{value:P(N)}})};o.prototype=Object.create(Object.prototype,{get:{value:function(m,F){return this.get___(m,F)},writable:!0,configurable:!0},has:{value:function(m){return this.has___(m)},writable:!0,configurable:!0},set:{value:function(m,F){return this.set___(m,F)},writable:!0,configurable:!0},delete:{value:function(m){return this.delete___(m)},writable:!0,configurable:!0}}),typeof s=="function"?function(){r&&typeof Proxy<"u"&&(Proxy=void 0);function L(){this instanceof o||M();var m=new s,F=void 0,I=!1;function U(O,H){return F?m.has(O)?m.get(O):F.get___(O,H):m.get(O,H)}function z(O){return m.has(O)||(F?F.has___(O):!1)}var N;r?N=function(O,H){return m.set(O,H),m.has(O)||(F||(F=new o),F.set(O,H)),this}:N=function(O,H){if(I)try{m.set(O,H)}catch{F||(F=new o),F.set___(O,H)}else m.set(O,H);return this};function B(O){var H=!!m.delete(O);return F&&F.delete___(O)||H}return Object.create(o.prototype,{get___:{value:P(U)},has___:{value:P(z)},set___:{value:P(N)},delete___:{value:P(B)},permitHostObjects___:{value:P(function(O){if(O===t)I=!0;else throw new Error("bogus call to permitHostObjects___")})}})}L.prototype=o.prototype,v.exports=L,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),v.exports=o)})()},9222:function(v,p,t){var r=t(7178);v.exports=s;function s(){var n={};return function(i){if((typeof i!="object"||i===null)&&typeof i!="function")throw new Error("Weakmap-shim: Key must be object");var f=i.valueOf(n);return f&&f.identity===n?f:r(i,n)}}},7178:function(v){v.exports=p;function p(t,r){var s={identity:r},n=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(i){return i!==r?n.apply(this,arguments):s},writable:!0}),s}},4037:function(v,p,t){var r=t(9222);v.exports=s;function s(){var n=r();return{get:function(i,f){var u=n(i);return u.hasOwnProperty("value")?u.value:f},set:function(i,f){return n(i).value=f,this},has:function(i){return"value"in n(i)},delete:function(i){return delete n(i).value}}}},6183:function(v){function p(){return function(f,u,y,c,T,h){var l=f[0],d=y[0],E=[0],S=d;c|=0;var P=0,x=d;for(P=0;P<l;++P){{var M=u[c]-h,w=u[c+S]-h;M>=0!=w>=0&&T.push(E[0]+.5+.5*(M+w)/(M-w))}c+=x,++E[0]}}}function t(){return p()}var r=t;function s(f){var u={};return function(c,T,h){var l=c.dtype,d=c.order,E=[l,d.join()].join(),S=u[E];return S||(u[E]=S=f([l,d])),S(c.shape.slice(0),c.data,c.stride,c.offset|0,T,h)}}function n(f){return s(r.bind(void 0,f))}function i(f){return n({funcName:f.funcName})}v.exports=i({funcName:"zeroCrossings"})},9584:function(v,p,t){v.exports=s;var r=t(6183);function s(n,i){var f=[];return i=+i||0,r(n.hi(n.shape[0]-1),f,i),f}},6601:function(){}},a={};function C(v){var p=a[v];if(p!==void 0)return p.exports;var t=a[v]={id:v,loaded:!1,exports:{}};return _[v].call(t.exports,t,t.exports,C),t.loaded=!0,t.exports}(function(){C.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){C.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v}}();var A=C(7386);return A}()})},12856:function(G,V,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function g(Qe,ke){if(!(Qe instanceof ke))throw new TypeError("Cannot call a class as a function")}function _(Qe,ke){for(var ze=0;ze<ke.length;ze++){var Be=ke[ze];Be.enumerable=Be.enumerable||!1,Be.configurable=!0,"value"in Be&&(Be.writable=!0),Object.defineProperty(Qe,C(Be.key),Be)}}function a(Qe,ke,ze){return ke&&_(Qe.prototype,ke),ze&&_(Qe,ze),Object.defineProperty(Qe,"prototype",{writable:!1}),Qe}function C(Qe){var ke=A(Qe,"string");return f(ke)==="symbol"?ke:String(ke)}function A(Qe,ke){if(f(Qe)!=="object"||Qe===null)return Qe;var ze=Qe[Symbol.toPrimitive];if(ze!==void 0){var Be=ze.call(Qe,ke||"default");if(f(Be)!=="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ke==="string"?String:Number)(Qe)}function v(Qe,ke){if(typeof ke!="function"&&ke!==null)throw new TypeError("Super expression must either be null or a function");Qe.prototype=Object.create(ke&&ke.prototype,{constructor:{value:Qe,writable:!0,configurable:!0}}),Object.defineProperty(Qe,"prototype",{writable:!1}),ke&&p(Qe,ke)}function p(Qe,ke){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Be,Re){return Be.__proto__=Re,Be},p(Qe,ke)}function t(Qe){var ke=n();return function(){var Be=i(Qe),Re;if(ke){var we=i(this).constructor;Re=Reflect.construct(Be,arguments,we)}else Re=Be.apply(this,arguments);return r(this,Re)}}function r(Qe,ke){if(ke&&(f(ke)==="object"||typeof ke=="function"))return ke;if(ke!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(Qe)}function s(Qe){if(Qe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Qe}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function i(Qe){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ze){return ze.__proto__||Object.getPrototypeOf(ze)},i(Qe)}function f(Qe){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ke){return typeof ke}:function(ke){return ke&&typeof Symbol=="function"&&ke.constructor===Symbol&&ke!==Symbol.prototype?"symbol":typeof ke},f(Qe)}var u=e(95341),y=e(95280),c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;V.Buffer=d,V.SlowBuffer=I,V.INSPECT_MAX_BYTES=50;var T=2147483647;V.kMaxLength=T,d.TYPED_ARRAY_SUPPORT=h(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{var Qe=new Uint8Array(1),ke={foo:function(){return 42}};return Object.setPrototypeOf(ke,Uint8Array.prototype),Object.setPrototypeOf(Qe,ke),Qe.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function l(Qe){if(Qe>T)throw new RangeError('The value "'+Qe+'" is invalid for option "size"');var ke=new Uint8Array(Qe);return Object.setPrototypeOf(ke,d.prototype),ke}function d(Qe,ke,ze){if(typeof Qe=="number"){if(typeof ke=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(Qe)}return E(Qe,ke,ze)}d.poolSize=8192;function E(Qe,ke,ze){if(typeof Qe=="string")return M(Qe,ke);if(ArrayBuffer.isView(Qe))return o(Qe);if(Qe==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(Qe));if(ct(Qe,ArrayBuffer)||Qe&&ct(Qe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ct(Qe,SharedArrayBuffer)||Qe&&ct(Qe.buffer,SharedArrayBuffer)))return L(Qe,ke,ze);if(typeof Qe=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Be=Qe.valueOf&&Qe.valueOf();if(Be!=null&&Be!==Qe)return d.from(Be,ke,ze);var Re=m(Qe);if(Re)return Re;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Qe[Symbol.toPrimitive]=="function")return d.from(Qe[Symbol.toPrimitive]("string"),ke,ze);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(Qe))}d.from=function(Qe,ke,ze){return E(Qe,ke,ze)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array);function S(Qe){if(typeof Qe!="number")throw new TypeError('"size" argument must be of type number');if(Qe<0)throw new RangeError('The value "'+Qe+'" is invalid for option "size"')}function P(Qe,ke,ze){return S(Qe),Qe<=0?l(Qe):ke!==void 0?typeof ze=="string"?l(Qe).fill(ke,ze):l(Qe).fill(ke):l(Qe)}d.alloc=function(Qe,ke,ze){return P(Qe,ke,ze)};function x(Qe){return S(Qe),l(Qe<0?0:F(Qe)|0)}d.allocUnsafe=function(Qe){return x(Qe)},d.allocUnsafeSlow=function(Qe){return x(Qe)};function M(Qe,ke){if((typeof ke!="string"||ke==="")&&(ke="utf8"),!d.isEncoding(ke))throw new TypeError("Unknown encoding: "+ke);var ze=U(Qe,ke)|0,Be=l(ze),Re=Be.write(Qe,ke);return Re!==ze&&(Be=Be.slice(0,Re)),Be}function w(Qe){for(var ke=Qe.length<0?0:F(Qe.length)|0,ze=l(ke),Be=0;Be<ke;Be+=1)ze[Be]=Qe[Be]&255;return ze}function o(Qe){if(ct(Qe,Uint8Array)){var ke=new Uint8Array(Qe);return L(ke.buffer,ke.byteOffset,ke.byteLength)}return w(Qe)}function L(Qe,ke,ze){if(ke<0||Qe.byteLength<ke)throw new RangeError('"offset" is outside of buffer bounds');if(Qe.byteLength<ke+(ze||0))throw new RangeError('"length" is outside of buffer bounds');var Be;return ke===void 0&&ze===void 0?Be=new Uint8Array(Qe):ze===void 0?Be=new Uint8Array(Qe,ke):Be=new Uint8Array(Qe,ke,ze),Object.setPrototypeOf(Be,d.prototype),Be}function m(Qe){if(d.isBuffer(Qe)){var ke=F(Qe.length)|0,ze=l(ke);return ze.length===0||Qe.copy(ze,0,0,ke),ze}if(Qe.length!==void 0)return typeof Qe.length!="number"||vt(Qe.length)?l(0):w(Qe);if(Qe.type==="Buffer"&&Array.isArray(Qe.data))return w(Qe.data)}function F(Qe){if(Qe>=T)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+T.toString(16)+" bytes");return Qe|0}function I(Qe){return+Qe!=Qe&&(Qe=0),d.alloc(+Qe)}d.isBuffer=function(ke){return ke!=null&&ke._isBuffer===!0&&ke!==d.prototype},d.compare=function(ke,ze){if(ct(ke,Uint8Array)&&(ke=d.from(ke,ke.offset,ke.byteLength)),ct(ze,Uint8Array)&&(ze=d.from(ze,ze.offset,ze.byteLength)),!d.isBuffer(ke)||!d.isBuffer(ze))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ke===ze)return 0;for(var Be=ke.length,Re=ze.length,we=0,ye=Math.min(Be,Re);we<ye;++we)if(ke[we]!==ze[we]){Be=ke[we],Re=ze[we];break}return Be<Re?-1:Re<Be?1:0},d.isEncoding=function(ke){switch(String(ke).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(ke,ze){if(!Array.isArray(ke))throw new TypeError('"list" argument must be an Array of Buffers');if(ke.length===0)return d.alloc(0);var Be;if(ze===void 0)for(ze=0,Be=0;Be<ke.length;++Be)ze+=ke[Be].length;var Re=d.allocUnsafe(ze),we=0;for(Be=0;Be<ke.length;++Be){var ye=ke[Be];if(ct(ye,Uint8Array))we+ye.length>Re.length?(d.isBuffer(ye)||(ye=d.from(ye)),ye.copy(Re,we)):Uint8Array.prototype.set.call(Re,ye,we);else if(d.isBuffer(ye))ye.copy(Re,we);else throw new TypeError('"list" argument must be an Array of Buffers');we+=ye.length}return Re};function U(Qe,ke){if(d.isBuffer(Qe))return Qe.length;if(ArrayBuffer.isView(Qe)||ct(Qe,ArrayBuffer))return Qe.byteLength;if(typeof Qe!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+f(Qe));var ze=Qe.length,Be=arguments.length>2&&arguments[2]===!0;if(!Be&&ze===0)return 0;for(var Re=!1;;)switch(ke){case"ascii":case"latin1":case"binary":return ze;case"utf8":case"utf-8":return ut(Qe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ze*2;case"hex":return ze>>>1;case"base64":return $e(Qe).length;default:if(Re)return Be?-1:ut(Qe).length;ke=(""+ke).toLowerCase(),Re=!0}}d.byteLength=U;function z(Qe,ke,ze){var Be=!1;if((ke===void 0||ke<0)&&(ke=0),ke>this.length||((ze===void 0||ze>this.length)&&(ze=this.length),ze<=0)||(ze>>>=0,ke>>>=0,ze<=ke))return"";for(Qe||(Qe="utf8");;)switch(Qe){case"hex":return se(this,ke,ze);case"utf8":case"utf-8":return Q(this,ke,ze);case"ascii":return $(this,ke,ze);case"latin1":case"binary":return te(this,ke,ze);case"base64":return ce(this,ke,ze);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,ke,ze);default:if(Be)throw new TypeError("Unknown encoding: "+Qe);Qe=(Qe+"").toLowerCase(),Be=!0}}d.prototype._isBuffer=!0;function N(Qe,ke,ze){var Be=Qe[ke];Qe[ke]=Qe[ze],Qe[ze]=Be}d.prototype.swap16=function(){var ke=this.length;if(ke%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ze=0;ze<ke;ze+=2)N(this,ze,ze+1);return this},d.prototype.swap32=function(){var ke=this.length;if(ke%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ze=0;ze<ke;ze+=4)N(this,ze,ze+3),N(this,ze+1,ze+2);return this},d.prototype.swap64=function(){var ke=this.length;if(ke%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ze=0;ze<ke;ze+=8)N(this,ze,ze+7),N(this,ze+1,ze+6),N(this,ze+2,ze+5),N(this,ze+3,ze+4);return this},d.prototype.toString=function(){var ke=this.length;return ke===0?"":arguments.length===0?Q(this,0,ke):z.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(ke){if(!d.isBuffer(ke))throw new TypeError("Argument must be a Buffer");return this===ke?!0:d.compare(this,ke)===0},d.prototype.inspect=function(){var ke="",ze=V.INSPECT_MAX_BYTES;return ke=this.toString("hex",0,ze).replace(/(.{2})/g,"$1 ").trim(),this.length>ze&&(ke+=" ... "),"<Buffer "+ke+">"},c&&(d.prototype[c]=d.prototype.inspect),d.prototype.compare=function(ke,ze,Be,Re,we){if(ct(ke,Uint8Array)&&(ke=d.from(ke,ke.offset,ke.byteLength)),!d.isBuffer(ke))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+f(ke));if(ze===void 0&&(ze=0),Be===void 0&&(Be=ke?ke.length:0),Re===void 0&&(Re=0),we===void 0&&(we=this.length),ze<0||Be>ke.length||Re<0||we>this.length)throw new RangeError("out of range index");if(Re>=we&&ze>=Be)return 0;if(Re>=we)return-1;if(ze>=Be)return 1;if(ze>>>=0,Be>>>=0,Re>>>=0,we>>>=0,this===ke)return 0;for(var ye=we-Re,Se=Be-ze,Me=Math.min(ye,Se),He=this.slice(Re,we),qe=ke.slice(ze,Be),rt=0;rt<Me;++rt)if(He[rt]!==qe[rt]){ye=He[rt],Se=qe[rt];break}return ye<Se?-1:Se<ye?1:0};function B(Qe,ke,ze,Be,Re){if(Qe.length===0)return-1;if(typeof ze=="string"?(Be=ze,ze=0):ze>2147483647?ze=2147483647:ze<-2147483648&&(ze=-2147483648),ze=+ze,vt(ze)&&(ze=Re?0:Qe.length-1),ze<0&&(ze=Qe.length+ze),ze>=Qe.length){if(Re)return-1;ze=Qe.length-1}else if(ze<0)if(Re)ze=0;else return-1;if(typeof ke=="string"&&(ke=d.from(ke,Be)),d.isBuffer(ke))return ke.length===0?-1:O(Qe,ke,ze,Be,Re);if(typeof ke=="number")return ke=ke&255,typeof Uint8Array.prototype.indexOf=="function"?Re?Uint8Array.prototype.indexOf.call(Qe,ke,ze):Uint8Array.prototype.lastIndexOf.call(Qe,ke,ze):O(Qe,[ke],ze,Be,Re);throw new TypeError("val must be string, number or Buffer")}function O(Qe,ke,ze,Be,Re){var we=1,ye=Qe.length,Se=ke.length;if(Be!==void 0&&(Be=String(Be).toLowerCase(),Be==="ucs2"||Be==="ucs-2"||Be==="utf16le"||Be==="utf-16le")){if(Qe.length<2||ke.length<2)return-1;we=2,ye/=2,Se/=2,ze/=2}function Me(At,jt){return we===1?At[jt]:At.readUInt16BE(jt*we)}var He;if(Re){var qe=-1;for(He=ze;He<ye;He++)if(Me(Qe,He)===Me(ke,qe===-1?0:He-qe)){if(qe===-1&&(qe=He),He-qe+1===Se)return qe*we}else qe!==-1&&(He-=He-qe),qe=-1}else for(ze+Se>ye&&(ze=ye-Se),He=ze;He>=0;He--){for(var rt=!0,pt=0;pt<Se;pt++)if(Me(Qe,He+pt)!==Me(ke,pt)){rt=!1;break}if(rt)return He}return-1}d.prototype.includes=function(ke,ze,Be){return this.indexOf(ke,ze,Be)!==-1},d.prototype.indexOf=function(ke,ze,Be){return B(this,ke,ze,Be,!0)},d.prototype.lastIndexOf=function(ke,ze,Be){return B(this,ke,ze,Be,!1)};function H(Qe,ke,ze,Be){ze=Number(ze)||0;var Re=Qe.length-ze;Be?(Be=Number(Be),Be>Re&&(Be=Re)):Be=Re;var we=ke.length;Be>we/2&&(Be=we/2);var ye;for(ye=0;ye<Be;++ye){var Se=parseInt(ke.substr(ye*2,2),16);if(vt(Se))return ye;Qe[ze+ye]=Se}return ye}function Y(Qe,ke,ze,Be){return st(ut(ke,Qe.length-ze),Qe,ze,Be)}function J(Qe,ke,ze,Be){return st(at(ke),Qe,ze,Be)}function re(Qe,ke,ze,Be){return st($e(ke),Qe,ze,Be)}function ie(Qe,ke,ze,Be){return st(it(ke,Qe.length-ze),Qe,ze,Be)}d.prototype.write=function(ke,ze,Be,Re){if(ze===void 0)Re="utf8",Be=this.length,ze=0;else if(Be===void 0&&typeof ze=="string")Re=ze,Be=this.length,ze=0;else if(isFinite(ze))ze=ze>>>0,isFinite(Be)?(Be=Be>>>0,Re===void 0&&(Re="utf8")):(Re=Be,Be=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var we=this.length-ze;if((Be===void 0||Be>we)&&(Be=we),ke.length>0&&(Be<0||ze<0)||ze>this.length)throw new RangeError("Attempt to write outside buffer bounds");Re||(Re="utf8");for(var ye=!1;;)switch(Re){case"hex":return H(this,ke,ze,Be);case"utf8":case"utf-8":return Y(this,ke,ze,Be);case"ascii":case"latin1":case"binary":return J(this,ke,ze,Be);case"base64":return re(this,ke,ze,Be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,ke,ze,Be);default:if(ye)throw new TypeError("Unknown encoding: "+Re);Re=(""+Re).toLowerCase(),ye=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ce(Qe,ke,ze){return ke===0&&ze===Qe.length?u.fromByteArray(Qe):u.fromByteArray(Qe.slice(ke,ze))}function Q(Qe,ke,ze){ze=Math.min(Qe.length,ze);for(var Be=[],Re=ke;Re<ze;){var we=Qe[Re],ye=null,Se=we>239?4:we>223?3:we>191?2:1;if(Re+Se<=ze){var Me=void 0,He=void 0,qe=void 0,rt=void 0;switch(Se){case 1:we<128&&(ye=we);break;case 2:Me=Qe[Re+1],(Me&192)===128&&(rt=(we&31)<<6|Me&63,rt>127&&(ye=rt));break;case 3:Me=Qe[Re+1],He=Qe[Re+2],(Me&192)===128&&(He&192)===128&&(rt=(we&15)<<12|(Me&63)<<6|He&63,rt>2047&&(rt<55296||rt>57343)&&(ye=rt));break;case 4:Me=Qe[Re+1],He=Qe[Re+2],qe=Qe[Re+3],(Me&192)===128&&(He&192)===128&&(qe&192)===128&&(rt=(we&15)<<18|(Me&63)<<12|(He&63)<<6|qe&63,rt>65535&&rt<1114112&&(ye=rt))}}ye===null?(ye=65533,Se=1):ye>65535&&(ye-=65536,Be.push(ye>>>10&1023|55296),ye=56320|ye&1023),Be.push(ye),Re+=Se}return Z(Be)}var j=4096;function Z(Qe){var ke=Qe.length;if(ke<=j)return String.fromCharCode.apply(String,Qe);for(var ze="",Be=0;Be<ke;)ze+=String.fromCharCode.apply(String,Qe.slice(Be,Be+=j));return ze}function $(Qe,ke,ze){var Be="";ze=Math.min(Qe.length,ze);for(var Re=ke;Re<ze;++Re)Be+=String.fromCharCode(Qe[Re]&127);return Be}function te(Qe,ke,ze){var Be="";ze=Math.min(Qe.length,ze);for(var Re=ke;Re<ze;++Re)Be+=String.fromCharCode(Qe[Re]);return Be}function se(Qe,ke,ze){var Be=Qe.length;(!ke||ke<0)&&(ke=0),(!ze||ze<0||ze>Be)&&(ze=Be);for(var Re="",we=ke;we<ze;++we)Re+=St[Qe[we]];return Re}function ee(Qe,ke,ze){for(var Be=Qe.slice(ke,ze),Re="",we=0;we<Be.length-1;we+=2)Re+=String.fromCharCode(Be[we]+Be[we+1]*256);return Re}d.prototype.slice=function(ke,ze){var Be=this.length;ke=~~ke,ze=ze===void 0?Be:~~ze,ke<0?(ke+=Be,ke<0&&(ke=0)):ke>Be&&(ke=Be),ze<0?(ze+=Be,ze<0&&(ze=0)):ze>Be&&(ze=Be),ze<ke&&(ze=ke);var Re=this.subarray(ke,ze);return Object.setPrototypeOf(Re,d.prototype),Re};function q(Qe,ke,ze){if(Qe%1!==0||Qe<0)throw new RangeError("offset is not uint");if(Qe+ke>ze)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(ke,ze,Be){ke=ke>>>0,ze=ze>>>0,Be||q(ke,ze,this.length);for(var Re=this[ke],we=1,ye=0;++ye<ze&&(we*=256);)Re+=this[ke+ye]*we;return Re},d.prototype.readUintBE=d.prototype.readUIntBE=function(ke,ze,Be){ke=ke>>>0,ze=ze>>>0,Be||q(ke,ze,this.length);for(var Re=this[ke+--ze],we=1;ze>0&&(we*=256);)Re+=this[ke+--ze]*we;return Re},d.prototype.readUint8=d.prototype.readUInt8=function(ke,ze){return ke=ke>>>0,ze||q(ke,1,this.length),this[ke]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(ke,ze){return ke=ke>>>0,ze||q(ke,2,this.length),this[ke]|this[ke+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(ke,ze){return ke=ke>>>0,ze||q(ke,2,this.length),this[ke]<<8|this[ke+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(ke,ze){return ke=ke>>>0,ze||q(ke,4,this.length),(this[ke]|this[ke+1]<<8|this[ke+2]<<16)+this[ke+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(ke,ze){return ke=ke>>>0,ze||q(ke,4,this.length),this[ke]*16777216+(this[ke+1]<<16|this[ke+2]<<8|this[ke+3])},d.prototype.readBigUInt64LE=Mt(function(ke){ke=ke>>>0,We(ke,"offset");var ze=this[ke],Be=this[ke+7];(ze===void 0||Be===void 0)&&je(ke,this.length-8);var Re=ze+this[++ke]*Math.pow(2,8)+this[++ke]*Math.pow(2,16)+this[++ke]*Math.pow(2,24),we=this[++ke]+this[++ke]*Math.pow(2,8)+this[++ke]*Math.pow(2,16)+Be*Math.pow(2,24);return BigInt(Re)+(BigInt(we)<<BigInt(32))}),d.prototype.readBigUInt64BE=Mt(function(ke){ke=ke>>>0,We(ke,"offset");var ze=this[ke],Be=this[ke+7];(ze===void 0||Be===void 0)&&je(ke,this.length-8);var Re=ze*Math.pow(2,24)+this[++ke]*Math.pow(2,16)+this[++ke]*Math.pow(2,8)+this[++ke],we=this[++ke]*Math.pow(2,24)+this[++ke]*Math.pow(2,16)+this[++ke]*Math.pow(2,8)+Be;return(BigInt(Re)<<BigInt(32))+BigInt(we)}),d.prototype.readIntLE=function(ke,ze,Be){ke=ke>>>0,ze=ze>>>0,Be||q(ke,ze,this.length);for(var Re=this[ke],we=1,ye=0;++ye<ze&&(we*=256);)Re+=this[ke+ye]*we;return we*=128,Re>=we&&(Re-=Math.pow(2,8*ze)),Re},d.prototype.readIntBE=function(ke,ze,Be){ke=ke>>>0,ze=ze>>>0,Be||q(ke,ze,this.length);for(var Re=ze,we=1,ye=this[ke+--Re];Re>0&&(we*=256);)ye+=this[ke+--Re]*we;return we*=128,ye>=we&&(ye-=Math.pow(2,8*ze)),ye},d.prototype.readInt8=function(ke,ze){return ke=ke>>>0,ze||q(ke,1,this.length),this[ke]&128?(255-this[ke]+1)*-1:this[ke]},d.prototype.readInt16LE=function(ke,ze){ke=ke>>>0,ze||q(ke,2,this.length);var Be=this[ke]|this[ke+1]<<8;return Be&32768?Be|4294901760:Be},d.prototype.readInt16BE=function(ke,ze){ke=ke>>>0,ze||q(ke,2,this.length);var Be=this[ke+1]|this[ke]<<8;return Be&32768?Be|4294901760:Be},d.prototype.readInt32LE=function(ke,ze){return ke=ke>>>0,ze||q(ke,4,this.length),this[ke]|this[ke+1]<<8|this[ke+2]<<16|this[ke+3]<<24},d.prototype.readInt32BE=function(ke,ze){return ke=ke>>>0,ze||q(ke,4,this.length),this[ke]<<24|this[ke+1]<<16|this[ke+2]<<8|this[ke+3]},d.prototype.readBigInt64LE=Mt(function(ke){ke=ke>>>0,We(ke,"offset");var ze=this[ke],Be=this[ke+7];(ze===void 0||Be===void 0)&&je(ke,this.length-8);var Re=this[ke+4]+this[ke+5]*Math.pow(2,8)+this[ke+6]*Math.pow(2,16)+(Be<<24);return(BigInt(Re)<<BigInt(32))+BigInt(ze+this[++ke]*Math.pow(2,8)+this[++ke]*Math.pow(2,16)+this[++ke]*Math.pow(2,24))}),d.prototype.readBigInt64BE=Mt(function(ke){ke=ke>>>0,We(ke,"offset");var ze=this[ke],Be=this[ke+7];(ze===void 0||Be===void 0)&&je(ke,this.length-8);var Re=(ze<<24)+this[++ke]*Math.pow(2,16)+this[++ke]*Math.pow(2,8)+this[++ke];return(BigInt(Re)<<BigInt(32))+BigInt(this[++ke]*Math.pow(2,24)+this[++ke]*Math.pow(2,16)+this[++ke]*Math.pow(2,8)+Be)}),d.prototype.readFloatLE=function(ke,ze){return ke=ke>>>0,ze||q(ke,4,this.length),y.read(this,ke,!0,23,4)},d.prototype.readFloatBE=function(ke,ze){return ke=ke>>>0,ze||q(ke,4,this.length),y.read(this,ke,!1,23,4)},d.prototype.readDoubleLE=function(ke,ze){return ke=ke>>>0,ze||q(ke,8,this.length),y.read(this,ke,!0,52,8)},d.prototype.readDoubleBE=function(ke,ze){return ke=ke>>>0,ze||q(ke,8,this.length),y.read(this,ke,!1,52,8)};function le(Qe,ke,ze,Be,Re,we){if(!d.isBuffer(Qe))throw new TypeError('"buffer" argument must be a Buffer instance');if(ke>Re||ke<we)throw new RangeError('"value" argument is out of bounds');if(ze+Be>Qe.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(ke,ze,Be,Re){if(ke=+ke,ze=ze>>>0,Be=Be>>>0,!Re){var we=Math.pow(2,8*Be)-1;le(this,ke,ze,Be,we,0)}var ye=1,Se=0;for(this[ze]=ke&255;++Se<Be&&(ye*=256);)this[ze+Se]=ke/ye&255;return ze+Be},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(ke,ze,Be,Re){if(ke=+ke,ze=ze>>>0,Be=Be>>>0,!Re){var we=Math.pow(2,8*Be)-1;le(this,ke,ze,Be,we,0)}var ye=Be-1,Se=1;for(this[ze+ye]=ke&255;--ye>=0&&(Se*=256);)this[ze+ye]=ke/Se&255;return ze+Be},d.prototype.writeUint8=d.prototype.writeUInt8=function(ke,ze,Be){return ke=+ke,ze=ze>>>0,Be||le(this,ke,ze,1,255,0),this[ze]=ke&255,ze+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(ke,ze,Be){return ke=+ke,ze=ze>>>0,Be||le(this,ke,ze,2,65535,0),this[ze]=ke&255,this[ze+1]=ke>>>8,ze+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(ke,ze,Be){return ke=+ke,ze=ze>>>0,Be||le(this,ke,ze,2,65535,0),this[ze]=ke>>>8,this[ze+1]=ke&255,ze+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(ke,ze,Be){return ke=+ke,ze=ze>>>0,Be||le(this,ke,ze,4,4294967295,0),this[ze+3]=ke>>>24,this[ze+2]=ke>>>16,this[ze+1]=ke>>>8,this[ze]=ke&255,ze+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(ke,ze,Be){return ke=+ke,ze=ze>>>0,Be||le(this,ke,ze,4,4294967295,0),this[ze]=ke>>>24,this[ze+1]=ke>>>16,this[ze+2]=ke>>>8,this[ze+3]=ke&255,ze+4};function oe(Qe,ke,ze,Be,Re){Le(ke,Be,Re,Qe,ze,7);var we=Number(ke&BigInt(4294967295));Qe[ze++]=we,we=we>>8,Qe[ze++]=we,we=we>>8,Qe[ze++]=we,we=we>>8,Qe[ze++]=we;var ye=Number(ke>>BigInt(32)&BigInt(4294967295));return Qe[ze++]=ye,ye=ye>>8,Qe[ze++]=ye,ye=ye>>8,Qe[ze++]=ye,ye=ye>>8,Qe[ze++]=ye,ze}function he(Qe,ke,ze,Be,Re){Le(ke,Be,Re,Qe,ze,7);var we=Number(ke&BigInt(4294967295));Qe[ze+7]=we,we=we>>8,Qe[ze+6]=we,we=we>>8,Qe[ze+5]=we,we=we>>8,Qe[ze+4]=we;var ye=Number(ke>>BigInt(32)&BigInt(4294967295));return Qe[ze+3]=ye,ye=ye>>8,Qe[ze+2]=ye,ye=ye>>8,Qe[ze+1]=ye,ye=ye>>8,Qe[ze]=ye,ze+8}d.prototype.writeBigUInt64LE=Mt(function(ke){var ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return oe(this,ke,ze,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=Mt(function(ke){var ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return he(this,ke,ze,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(ke,ze,Be,Re){if(ke=+ke,ze=ze>>>0,!Re){var we=Math.pow(2,8*Be-1);le(this,ke,ze,Be,we-1,-we)}var ye=0,Se=1,Me=0;for(this[ze]=ke&255;++ye<Be&&(Se*=256);)ke<0&&Me===0&&this[ze+ye-1]!==0&&(Me=1),this[ze+ye]=(ke/Se>>0)-Me&255;return ze+Be},d.prototype.writeIntBE=function(ke,ze,Be,Re){if(ke=+ke,ze=ze>>>0,!Re){var we=Math.pow(2,8*Be-1);le(this,ke,ze,Be,we-1,-we)}var ye=Be-1,Se=1,Me=0;for(this[ze+ye]=ke&255;--ye>=0&&(Se*=256);)ke<0&&Me===0&&this[ze+ye+1]!==0&&(Me=1),this[ze+ye]=(ke/Se>>0)-Me&255;return ze+Be},d.prototype.writeInt8=function(ke,ze,Be){return ke=+ke,ze=ze>>>0,Be||le(this,ke,ze,1,127,-128),ke<0&&(ke=255+ke+1),this[ze]=ke&255,ze+1},d.prototype.writeInt16LE=function(ke,ze,Be){return ke=+ke,ze=ze>>>0,Be||le(this,ke,ze,2,32767,-32768),this[ze]=ke&255,this[ze+1]=ke>>>8,ze+2},d.prototype.writeInt16BE=function(ke,ze,Be){return ke=+ke,ze=ze>>>0,Be||le(this,ke,ze,2,32767,-32768),this[ze]=ke>>>8,this[ze+1]=ke&255,ze+2},d.prototype.writeInt32LE=function(ke,ze,Be){return ke=+ke,ze=ze>>>0,Be||le(this,ke,ze,4,2147483647,-2147483648),this[ze]=ke&255,this[ze+1]=ke>>>8,this[ze+2]=ke>>>16,this[ze+3]=ke>>>24,ze+4},d.prototype.writeInt32BE=function(ke,ze,Be){return ke=+ke,ze=ze>>>0,Be||le(this,ke,ze,4,2147483647,-2147483648),ke<0&&(ke=4294967295+ke+1),this[ze]=ke>>>24,this[ze+1]=ke>>>16,this[ze+2]=ke>>>8,this[ze+3]=ke&255,ze+4},d.prototype.writeBigInt64LE=Mt(function(ke){var ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return oe(this,ke,ze,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=Mt(function(ke){var ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return he(this,ke,ze,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function me(Qe,ke,ze,Be,Re,we){if(ze+Be>Qe.length)throw new RangeError("Index out of range");if(ze<0)throw new RangeError("Index out of range")}function Ce(Qe,ke,ze,Be,Re){return ke=+ke,ze=ze>>>0,Re||me(Qe,ke,ze,4),y.write(Qe,ke,ze,Be,23,4),ze+4}d.prototype.writeFloatLE=function(ke,ze,Be){return Ce(this,ke,ze,!0,Be)},d.prototype.writeFloatBE=function(ke,ze,Be){return Ce(this,ke,ze,!1,Be)};function Ae(Qe,ke,ze,Be,Re){return ke=+ke,ze=ze>>>0,Re||me(Qe,ke,ze,8),y.write(Qe,ke,ze,Be,52,8),ze+8}d.prototype.writeDoubleLE=function(ke,ze,Be){return Ae(this,ke,ze,!0,Be)},d.prototype.writeDoubleBE=function(ke,ze,Be){return Ae(this,ke,ze,!1,Be)},d.prototype.copy=function(ke,ze,Be,Re){if(!d.isBuffer(ke))throw new TypeError("argument should be a Buffer");if(Be||(Be=0),!Re&&Re!==0&&(Re=this.length),ze>=ke.length&&(ze=ke.length),ze||(ze=0),Re>0&&Re<Be&&(Re=Be),Re===Be||ke.length===0||this.length===0)return 0;if(ze<0)throw new RangeError("targetStart out of bounds");if(Be<0||Be>=this.length)throw new RangeError("Index out of range");if(Re<0)throw new RangeError("sourceEnd out of bounds");Re>this.length&&(Re=this.length),ke.length-ze<Re-Be&&(Re=ke.length-ze+Be);var we=Re-Be;return this===ke&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ze,Be,Re):Uint8Array.prototype.set.call(ke,this.subarray(Be,Re),ze),we},d.prototype.fill=function(ke,ze,Be,Re){if(typeof ke=="string"){if(typeof ze=="string"?(Re=ze,ze=0,Be=this.length):typeof Be=="string"&&(Re=Be,Be=this.length),Re!==void 0&&typeof Re!="string")throw new TypeError("encoding must be a string");if(typeof Re=="string"&&!d.isEncoding(Re))throw new TypeError("Unknown encoding: "+Re);if(ke.length===1){var we=ke.charCodeAt(0);(Re==="utf8"&&we<128||Re==="latin1")&&(ke=we)}}else typeof ke=="number"?ke=ke&255:typeof ke=="boolean"&&(ke=Number(ke));if(ze<0||this.length<ze||this.length<Be)throw new RangeError("Out of range index");if(Be<=ze)return this;ze=ze>>>0,Be=Be===void 0?this.length:Be>>>0,ke||(ke=0);var ye;if(typeof ke=="number")for(ye=ze;ye<Be;++ye)this[ye]=ke;else{var Se=d.isBuffer(ke)?ke:d.from(ke,Re),Me=Se.length;if(Me===0)throw new TypeError('The value "'+ke+'" is invalid for argument "value"');for(ye=0;ye<Be-ze;++ye)this[ye+ze]=Se[ye%Me]}return this};var Ue={};function Ve(Qe,ke,ze){Ue[Qe]=function(Be){v(we,Be);var Re=t(we);function we(){var ye;return g(this,we),ye=Re.call(this),Object.defineProperty(s(ye),"message",{value:ke.apply(s(ye),arguments),writable:!0,configurable:!0}),ye.name="".concat(ye.name," [").concat(Qe,"]"),ye.stack,delete ye.name,ye}return a(we,[{key:"code",get:function(){return Qe},set:function(Se){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Se,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Qe,"]: ").concat(this.message)}}]),we}(ze)}Ve("ERR_BUFFER_OUT_OF_BOUNDS",function(Qe){return Qe?"".concat(Qe," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ve("ERR_INVALID_ARG_TYPE",function(Qe,ke){return'The "'.concat(Qe,'" argument must be of type number. Received type ').concat(f(ke))},TypeError),Ve("ERR_OUT_OF_RANGE",function(Qe,ke,ze){var Be='The value of "'.concat(Qe,'" is out of range.'),Re=ze;return Number.isInteger(ze)&&Math.abs(ze)>Math.pow(2,32)?Re=Pe(String(ze)):typeof ze=="bigint"&&(Re=String(ze),(ze>Math.pow(BigInt(2),BigInt(32))||ze<-Math.pow(BigInt(2),BigInt(32)))&&(Re=Pe(Re)),Re+="n"),Be+=" It must be ".concat(ke,". Received ").concat(Re),Be},RangeError);function Pe(Qe){for(var ke="",ze=Qe.length,Be=Qe[0]==="-"?1:0;ze>=Be+4;ze-=3)ke="_".concat(Qe.slice(ze-3,ze)).concat(ke);return"".concat(Qe.slice(0,ze)).concat(ke)}function be(Qe,ke,ze){We(ke,"offset"),(Qe[ke]===void 0||Qe[ke+ze]===void 0)&&je(ke,Qe.length-(ze+1))}function Le(Qe,ke,ze,Be,Re,we){if(Qe>ze||Qe<ke){var ye=typeof ke=="bigint"?"n":"",Se;throw we>3?ke===0||ke===BigInt(0)?Se=">= 0".concat(ye," and < 2").concat(ye," ** ").concat((we+1)*8).concat(ye):Se=">= -(2".concat(ye," ** ").concat((we+1)*8-1).concat(ye,") and < 2 ** ")+"".concat((we+1)*8-1).concat(ye):Se=">= ".concat(ke).concat(ye," and <= ").concat(ze).concat(ye),new Ue.ERR_OUT_OF_RANGE("value",Se,Qe)}be(Be,Re,we)}function We(Qe,ke){if(typeof Qe!="number")throw new Ue.ERR_INVALID_ARG_TYPE(ke,"number",Qe)}function je(Qe,ke,ze){throw Math.floor(Qe)!==Qe?(We(Qe,ze),new Ue.ERR_OUT_OF_RANGE(ze||"offset","an integer",Qe)):ke<0?new Ue.ERR_BUFFER_OUT_OF_BOUNDS:new Ue.ERR_OUT_OF_RANGE(ze||"offset",">= ".concat(ze?1:0," and <= ").concat(ke),Qe)}var Fe=/[^+/0-9A-Za-z-_]/g;function Ze(Qe){if(Qe=Qe.split("=")[0],Qe=Qe.trim().replace(Fe,""),Qe.length<2)return"";for(;Qe.length%4!==0;)Qe=Qe+"=";return Qe}function ut(Qe,ke){ke=ke||1/0;for(var ze,Be=Qe.length,Re=null,we=[],ye=0;ye<Be;++ye){if(ze=Qe.charCodeAt(ye),ze>55295&&ze<57344){if(!Re){if(ze>56319){(ke-=3)>-1&&we.push(239,191,189);continue}else if(ye+1===Be){(ke-=3)>-1&&we.push(239,191,189);continue}Re=ze;continue}if(ze<56320){(ke-=3)>-1&&we.push(239,191,189),Re=ze;continue}ze=(Re-55296<<10|ze-56320)+65536}else Re&&(ke-=3)>-1&&we.push(239,191,189);if(Re=null,ze<128){if((ke-=1)<0)break;we.push(ze)}else if(ze<2048){if((ke-=2)<0)break;we.push(ze>>6|192,ze&63|128)}else if(ze<65536){if((ke-=3)<0)break;we.push(ze>>12|224,ze>>6&63|128,ze&63|128)}else if(ze<1114112){if((ke-=4)<0)break;we.push(ze>>18|240,ze>>12&63|128,ze>>6&63|128,ze&63|128)}else throw new Error("Invalid code point")}return we}function at(Qe){for(var ke=[],ze=0;ze<Qe.length;++ze)ke.push(Qe.charCodeAt(ze)&255);return ke}function it(Qe,ke){for(var ze,Be,Re,we=[],ye=0;ye<Qe.length&&!((ke-=2)<0);++ye)ze=Qe.charCodeAt(ye),Be=ze>>8,Re=ze%256,we.push(Re),we.push(Be);return we}function $e(Qe){return u.toByteArray(Ze(Qe))}function st(Qe,ke,ze,Be){var Re;for(Re=0;Re<Be&&!(Re+ze>=ke.length||Re>=Qe.length);++Re)ke[Re+ze]=Qe[Re];return Re}function ct(Qe,ke){return Qe instanceof ke||Qe!=null&&Qe.constructor!=null&&Qe.constructor.name!=null&&Qe.constructor.name===ke.name}function vt(Qe){return Qe!==Qe}var St=function(){for(var Qe="0123456789abcdef",ke=new Array(256),ze=0;ze<16;++ze)for(var Be=ze*16,Re=0;Re<16;++Re)ke[Be+Re]=Qe[ze]+Qe[Re];return ke}();function Mt(Qe){return typeof BigInt>"u"?Bt:Qe}function Bt(){throw new Error("BigInt not supported")}},35791:function(G){G.exports=_,G.exports.isMobile=_,G.exports.default=_;var V=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,g=/android|ipad|playbook|silk/i;function _(a){a||(a={});var C=a.ua;if(!C&&typeof navigator<"u"&&(C=navigator.userAgent),C&&C.headers&&typeof C.headers["user-agent"]=="string"&&(C=C.headers["user-agent"]),typeof C!="string")return!1;var A=V.test(C)&&!e.test(C)||!!a.tablet&&g.test(C);return!A&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&C.indexOf("Macintosh")!==-1&&C.indexOf("Safari")!==-1&&(A=!0),A}},86781:function(G,V,e){e.r(V),e.d(V,{sankeyCenter:function(){return s},sankeyCircular:function(){return L},sankeyJustify:function(){return r},sankeyLeft:function(){return p},sankeyRight:function(){return t}});var g=e(33064),_=e(15140),a=e(45879),C=e(2502),A=e.n(C);function v(Ae){return Ae.target.depth}function p(Ae){return Ae.depth}function t(Ae,Ue){return Ue-1-Ae.height}function r(Ae,Ue){return Ae.sourceLinks.length?Ae.depth:Ue-1}function s(Ae){return Ae.targetLinks.length?Ae.depth:Ae.sourceLinks.length?(0,g.VV)(Ae.sourceLinks,v)-1:0}function n(Ae){return function(){return Ae}}var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ae){return typeof Ae}:function(Ae){return Ae&&typeof Symbol=="function"&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae};function f(Ae,Ue){return y(Ae.source,Ue.source)||Ae.index-Ue.index}function u(Ae,Ue){return y(Ae.target,Ue.target)||Ae.index-Ue.index}function y(Ae,Ue){return Ae.partOfCycle===Ue.partOfCycle?Ae.y0-Ue.y0:Ae.circularLinkType==="top"||Ue.circularLinkType==="bottom"?-1:1}function c(Ae){return Ae.value}function T(Ae){return(Ae.y0+Ae.y1)/2}function h(Ae){return T(Ae.source)}function l(Ae){return T(Ae.target)}function d(Ae){return Ae.index}function E(Ae){return Ae.nodes}function S(Ae){return Ae.links}function P(Ae,Ue){var Ve=Ae.get(Ue);if(!Ve)throw new Error("missing: "+Ue);return Ve}function x(Ae,Ue){return Ue(Ae)}var M=25,w=10,o=.3;function L(){var Ae=0,Ue=0,Ve=1,Pe=1,be=24,Le,We=d,je=r,Fe=E,Ze=S,ut=32,at=2,it,$e=null;function st(){var ze={nodes:Fe.apply(null,arguments),links:Ze.apply(null,arguments)};ct(ze),m(ze,We,$e),vt(ze),Bt(ze),F(ze,We),Qe(ze,ut,We),ke(ze);for(var Be=4,Re=0;Re<Be;Re++)q(ze,Pe,We),le(ze,Pe,We),te(ze,Ue,Pe,We),q(ze,Pe,We),le(ze,Pe,We);return Ce(ze,Ue,Pe),O(ze,at,Pe,We),ze}st.nodeId=function(ze){return arguments.length?(We=typeof ze=="function"?ze:n(ze),st):We},st.nodeAlign=function(ze){return arguments.length?(je=typeof ze=="function"?ze:n(ze),st):je},st.nodeWidth=function(ze){return arguments.length?(be=+ze,st):be},st.nodePadding=function(ze){return arguments.length?(Le=+ze,st):Le},st.nodes=function(ze){return arguments.length?(Fe=typeof ze=="function"?ze:n(ze),st):Fe},st.links=function(ze){return arguments.length?(Ze=typeof ze=="function"?ze:n(ze),st):Ze},st.size=function(ze){return arguments.length?(Ae=Ue=0,Ve=+ze[0],Pe=+ze[1],st):[Ve-Ae,Pe-Ue]},st.extent=function(ze){return arguments.length?(Ae=+ze[0][0],Ve=+ze[1][0],Ue=+ze[0][1],Pe=+ze[1][1],st):[[Ae,Ue],[Ve,Pe]]},st.iterations=function(ze){return arguments.length?(ut=+ze,st):ut},st.circularLinkGap=function(ze){return arguments.length?(at=+ze,st):at},st.nodePaddingRatio=function(ze){return arguments.length?(it=+ze,st):it},st.sortNodes=function(ze){return arguments.length?($e=ze,st):$e},st.update=function(ze){return F(ze,We),ke(ze),ze.links.forEach(function(Be){Be.circular&&(Be.circularLinkType=Be.y0+Be.y1<Pe?"top":"bottom",Be.source.circularLinkType=Be.circularLinkType,Be.target.circularLinkType=Be.circularLinkType)}),q(ze,Pe,We,!1),le(ze,Pe,We),O(ze,at,Pe,We),ze};function ct(ze){ze.nodes.forEach(function(Re,we){Re.index=we,Re.sourceLinks=[],Re.targetLinks=[]});var Be=(0,_.UI)(ze.nodes,We);return ze.links.forEach(function(Re,we){Re.index=we;var ye=Re.source,Se=Re.target;(typeof ye>"u"?"undefined":i(ye))!=="object"&&(ye=Re.source=P(Be,ye)),(typeof Se>"u"?"undefined":i(Se))!=="object"&&(Se=Re.target=P(Be,Se)),ye.sourceLinks.push(Re),Se.targetLinks.push(Re)}),ze}function vt(ze){ze.nodes.forEach(function(Be){Be.partOfCycle=!1,Be.value=Math.max((0,g.Sm)(Be.sourceLinks,c),(0,g.Sm)(Be.targetLinks,c)),Be.sourceLinks.forEach(function(Re){Re.circular&&(Be.partOfCycle=!0,Be.circularLinkType=Re.circularLinkType)}),Be.targetLinks.forEach(function(Re){Re.circular&&(Be.partOfCycle=!0,Be.circularLinkType=Re.circularLinkType)})})}function St(ze){var Be=0,Re=0,we=0,ye=0,Se=(0,g.Fp)(ze.nodes,function(Me){return Me.column});return ze.links.forEach(function(Me){Me.circular&&(Me.circularLinkType=="top"?Be=Be+Me.width:Re=Re+Me.width,Me.target.column==0&&(ye=ye+Me.width),Me.source.column==Se&&(we=we+Me.width))}),Be=Be>0?Be+M+w:Be,Re=Re>0?Re+M+w:Re,we=we>0?we+M+w:we,ye=ye>0?ye+M+w:ye,{top:Be,bottom:Re,left:ye,right:we}}function Mt(ze,Be){var Re=(0,g.Fp)(ze.nodes,function(rt){return rt.column}),we=Ve-Ae,ye=Pe-Ue,Se=we+Be.right+Be.left,Me=ye+Be.top+Be.bottom,He=we/Se,qe=ye/Me;return Ae=Ae*He+Be.left,Ve=Be.right==0?Ve:Ve*He,Ue=Ue*qe+Be.top,Pe=Pe*qe,ze.nodes.forEach(function(rt){rt.x0=Ae+rt.column*((Ve-Ae-be)/Re),rt.x1=rt.x0+be}),qe}function Bt(ze){var Be,Re,we;for(Be=ze.nodes,Re=[],we=0;Be.length;++we,Be=Re,Re=[])Be.forEach(function(ye){ye.depth=we,ye.sourceLinks.forEach(function(Se){Re.indexOf(Se.target)<0&&!Se.circular&&Re.push(Se.target)})});for(Be=ze.nodes,Re=[],we=0;Be.length;++we,Be=Re,Re=[])Be.forEach(function(ye){ye.height=we,ye.targetLinks.forEach(function(Se){Re.indexOf(Se.source)<0&&!Se.circular&&Re.push(Se.source)})});ze.nodes.forEach(function(ye){ye.column=Math.floor(je.call(null,ye,we))})}function Qe(ze,Be,Re){var we=(0,_.b1)().key(function(rt){return rt.column}).sortKeys(g.j2).entries(ze.nodes).map(function(rt){return rt.values});Me(Re),qe();for(var ye=1,Se=Be;Se>0;--Se)He(ye*=.99,Re),qe();function Me(rt){if(it){var pt=1/0;we.forEach(function(Ct){var Nt=Pe*it/(Ct.length+1);pt=Nt<pt?Nt:pt}),Le=pt}var At=(0,g.VV)(we,function(Ct){return(Pe-Ue-(Ct.length-1)*Le)/(0,g.Sm)(Ct,c)});At=At*o,ze.links.forEach(function(Ct){Ct.width=Ct.value*At});var jt=St(ze),tr=Mt(ze,jt);At=At*tr,ze.links.forEach(function(Ct){Ct.width=Ct.value*At}),we.forEach(function(Ct){var Nt=Ct.length;Ct.forEach(function(Kt,wr){Kt.depth==we.length-1&&Nt==1||Kt.depth==0&&Nt==1?(Kt.y0=Pe/2-Kt.value*At,Kt.y1=Kt.y0+Kt.value*At):Kt.partOfCycle?z(Kt,rt)==0?(Kt.y0=Pe/2+wr,Kt.y1=Kt.y0+Kt.value*At):Kt.circularLinkType=="top"?(Kt.y0=Ue+wr,Kt.y1=Kt.y0+Kt.value*At):(Kt.y0=Pe-Kt.value*At-wr,Kt.y1=Kt.y0+Kt.value*At):jt.top==0||jt.bottom==0?(Kt.y0=(Pe-Ue)/Nt*wr,Kt.y1=Kt.y0+Kt.value*At):(Kt.y0=(Pe-Ue)/2-Nt/2+wr,Kt.y1=Kt.y0+Kt.value*At)})})}function He(rt,pt){var At=we.length;we.forEach(function(jt){var tr=jt.length,Ct=jt[0].depth;jt.forEach(function(Nt){var Kt;if((Nt.sourceLinks.length||Nt.targetLinks.length)&&!(Nt.partOfCycle&&z(Nt,pt)>0))if(Ct==0&&tr==1)Kt=Nt.y1-Nt.y0,Nt.y0=Pe/2-Kt/2,Nt.y1=Pe/2+Kt/2;else if(Ct==At-1&&tr==1)Kt=Nt.y1-Nt.y0,Nt.y0=Pe/2-Kt/2,Nt.y1=Pe/2+Kt/2;else{var wr=0,yt=(0,g.J6)(Nt.sourceLinks,l),$t=(0,g.J6)(Nt.targetLinks,h);yt&&$t?wr=(yt+$t)/2:wr=yt||$t;var er=(wr-T(Nt))*rt;Nt.y0+=er,Nt.y1+=er}})})}function qe(){we.forEach(function(rt){var pt,At,jt=Ue,tr=rt.length,Ct;for(rt.sort(y),Ct=0;Ct<tr;++Ct)pt=rt[Ct],At=jt-pt.y0,At>0&&(pt.y0+=At,pt.y1+=At),jt=pt.y1+Le;if(At=jt-Le-Pe,At>0)for(jt=pt.y0-=At,pt.y1-=At,Ct=tr-2;Ct>=0;--Ct)pt=rt[Ct],At=pt.y1+Le-jt,At>0&&(pt.y0-=At,pt.y1-=At),jt=pt.y0})}}function ke(ze){ze.nodes.forEach(function(Be){Be.sourceLinks.sort(u),Be.targetLinks.sort(f)}),ze.nodes.forEach(function(Be){var Re=Be.y0,we=Re,ye=Be.y1,Se=ye;Be.sourceLinks.forEach(function(Me){Me.circular?(Me.y0=ye-Me.width/2,ye=ye-Me.width):(Me.y0=Re+Me.width/2,Re+=Me.width)}),Be.targetLinks.forEach(function(Me){Me.circular?(Me.y1=Se-Me.width/2,Se=Se-Me.width):(Me.y1=we+Me.width/2,we+=Me.width)})})}return st}function m(Ae,Ue,Ve){var Pe=0;if(Ve===null){for(var be=[],Le=0;Le<Ae.links.length;Le++){var We=Ae.links[Le],je=We.source.index,Fe=We.target.index;be[je]||(be[je]=[]),be[Fe]||(be[Fe]=[]),be[je].indexOf(Fe)===-1&&be[je].push(Fe)}var Ze=A()(be);Ze.sort(function($e,st){return $e.length-st.length});var ut={};for(Le=0;Le<Ze.length;Le++){var at=Ze[Le],it=at.slice(-2);ut[it[0]]||(ut[it[0]]={}),ut[it[0]][it[1]]=!0}Ae.links.forEach(function($e){var st=$e.target.index,ct=$e.source.index;st===ct||ut[ct]&&ut[ct][st]?($e.circular=!0,$e.circularLinkID=Pe,Pe=Pe+1):$e.circular=!1})}else Ae.links.forEach(function($e){$e.source[Ve]<$e.target[Ve]?$e.circular=!1:($e.circular=!0,$e.circularLinkID=Pe,Pe=Pe+1)})}function F(Ae,Ue){var Ve=0,Pe=0;Ae.links.forEach(function(be){be.circular&&(be.source.circularLinkType||be.target.circularLinkType?be.circularLinkType=be.source.circularLinkType?be.source.circularLinkType:be.target.circularLinkType:be.circularLinkType=Ve<Pe?"top":"bottom",be.circularLinkType=="top"?Ve=Ve+1:Pe=Pe+1,Ae.nodes.forEach(function(Le){(x(Le,Ue)==x(be.source,Ue)||x(Le,Ue)==x(be.target,Ue))&&(Le.circularLinkType=be.circularLinkType)}))}),Ae.links.forEach(function(be){be.circular&&(be.source.circularLinkType==be.target.circularLinkType&&(be.circularLinkType=be.source.circularLinkType),me(be,Ue)&&(be.circularLinkType=be.source.circularLinkType))})}function I(Ae){var Ue=Math.abs(Ae.y1-Ae.y0),Ve=Math.abs(Ae.target.x0-Ae.source.x1);return Math.atan(Ve/Ue)}function U(Ae,Ue){return Ae.source.column<Ue.target.column?!1:!(Ae.target.column>Ue.source.column)}function z(Ae,Ue){var Ve=0;Ae.sourceLinks.forEach(function(be){Ve=be.circular&&!me(be,Ue)?Ve+1:Ve});var Pe=0;return Ae.targetLinks.forEach(function(be){Pe=be.circular&&!me(be,Ue)?Pe+1:Pe}),Ve+Pe}function N(Ae){var Ue=Ae.source.sourceLinks,Ve=0;Ue.forEach(function(Le){Ve=Le.circular?Ve+1:Ve});var Pe=Ae.target.targetLinks,be=0;return Pe.forEach(function(Le){be=Le.circular?be+1:be}),!(Ve>1||be>1)}function B(Ae,Ue,Ve){return Ae.sort(Y),Ae.forEach(function(Pe,be){var Le=0;if(me(Pe,Ve)&&N(Pe))Pe.circularPathData.verticalBuffer=Le+Pe.width/2;else{var We=0;for(We;We<be;We++)if(U(Ae[be],Ae[We])){var je=Ae[We].circularPathData.verticalBuffer+Ae[We].width/2+Ue;Le=je>Le?je:Le}Pe.circularPathData.verticalBuffer=Le+Pe.width/2}}),Ae}function O(Ae,Ue,Ve,Pe){var be=5,Le=(0,g.VV)(Ae.links,function(Fe){return Fe.source.y0});Ae.links.forEach(function(Fe){Fe.circular&&(Fe.circularPathData={})});var We=Ae.links.filter(function(Fe){return Fe.circularLinkType=="top"});B(We,Ue,Pe);var je=Ae.links.filter(function(Fe){return Fe.circularLinkType=="bottom"});B(je,Ue,Pe),Ae.links.forEach(function(Fe){if(Fe.circular){if(Fe.circularPathData.arcRadius=Fe.width+w,Fe.circularPathData.leftNodeBuffer=be,Fe.circularPathData.rightNodeBuffer=be,Fe.circularPathData.sourceWidth=Fe.source.x1-Fe.source.x0,Fe.circularPathData.sourceX=Fe.source.x0+Fe.circularPathData.sourceWidth,Fe.circularPathData.targetX=Fe.target.x0,Fe.circularPathData.sourceY=Fe.y0,Fe.circularPathData.targetY=Fe.y1,me(Fe,Pe)&&N(Fe))Fe.circularPathData.leftSmallArcRadius=w+Fe.width/2,Fe.circularPathData.leftLargeArcRadius=w+Fe.width/2,Fe.circularPathData.rightSmallArcRadius=w+Fe.width/2,Fe.circularPathData.rightLargeArcRadius=w+Fe.width/2,Fe.circularLinkType=="bottom"?(Fe.circularPathData.verticalFullExtent=Fe.source.y1+M+Fe.circularPathData.verticalBuffer,Fe.circularPathData.verticalLeftInnerExtent=Fe.circularPathData.verticalFullExtent-Fe.circularPathData.leftLargeArcRadius,Fe.circularPathData.verticalRightInnerExtent=Fe.circularPathData.verticalFullExtent-Fe.circularPathData.rightLargeArcRadius):(Fe.circularPathData.verticalFullExtent=Fe.source.y0-M-Fe.circularPathData.verticalBuffer,Fe.circularPathData.verticalLeftInnerExtent=Fe.circularPathData.verticalFullExtent+Fe.circularPathData.leftLargeArcRadius,Fe.circularPathData.verticalRightInnerExtent=Fe.circularPathData.verticalFullExtent+Fe.circularPathData.rightLargeArcRadius);else{var Ze=Fe.source.column,ut=Fe.circularLinkType,at=Ae.links.filter(function(st){return st.source.column==Ze&&st.circularLinkType==ut});Fe.circularLinkType=="bottom"?at.sort(re):at.sort(J);var it=0;at.forEach(function(st,ct){st.circularLinkID==Fe.circularLinkID&&(Fe.circularPathData.leftSmallArcRadius=w+Fe.width/2+it,Fe.circularPathData.leftLargeArcRadius=w+Fe.width/2+ct*Ue+it),it=it+st.width}),Ze=Fe.target.column,at=Ae.links.filter(function(st){return st.target.column==Ze&&st.circularLinkType==ut}),Fe.circularLinkType=="bottom"?at.sort(ce):at.sort(ie),it=0,at.forEach(function(st,ct){st.circularLinkID==Fe.circularLinkID&&(Fe.circularPathData.rightSmallArcRadius=w+Fe.width/2+it,Fe.circularPathData.rightLargeArcRadius=w+Fe.width/2+ct*Ue+it),it=it+st.width}),Fe.circularLinkType=="bottom"?(Fe.circularPathData.verticalFullExtent=Math.max(Ve,Fe.source.y1,Fe.target.y1)+M+Fe.circularPathData.verticalBuffer,Fe.circularPathData.verticalLeftInnerExtent=Fe.circularPathData.verticalFullExtent-Fe.circularPathData.leftLargeArcRadius,Fe.circularPathData.verticalRightInnerExtent=Fe.circularPathData.verticalFullExtent-Fe.circularPathData.rightLargeArcRadius):(Fe.circularPathData.verticalFullExtent=Le-M-Fe.circularPathData.verticalBuffer,Fe.circularPathData.verticalLeftInnerExtent=Fe.circularPathData.verticalFullExtent+Fe.circularPathData.leftLargeArcRadius,Fe.circularPathData.verticalRightInnerExtent=Fe.circularPathData.verticalFullExtent+Fe.circularPathData.rightLargeArcRadius)}Fe.circularPathData.leftInnerExtent=Fe.circularPathData.sourceX+Fe.circularPathData.leftNodeBuffer,Fe.circularPathData.rightInnerExtent=Fe.circularPathData.targetX-Fe.circularPathData.rightNodeBuffer,Fe.circularPathData.leftFullExtent=Fe.circularPathData.sourceX+Fe.circularPathData.leftLargeArcRadius+Fe.circularPathData.leftNodeBuffer,Fe.circularPathData.rightFullExtent=Fe.circularPathData.targetX-Fe.circularPathData.rightLargeArcRadius-Fe.circularPathData.rightNodeBuffer}if(Fe.circular)Fe.path=H(Fe);else{var $e=(0,a.h5)().source(function(st){var ct=st.source.x0+(st.source.x1-st.source.x0),vt=st.y0;return[ct,vt]}).target(function(st){var ct=st.target.x0,vt=st.y1;return[ct,vt]});Fe.path=$e(Fe)}})}function H(Ae){var Ue="";return Ae.circularLinkType=="top"?Ue="M"+Ae.circularPathData.sourceX+" "+Ae.circularPathData.sourceY+" L"+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.sourceY+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftSmallArcRadius+" 0 0 0 "+Ae.circularPathData.leftFullExtent+" "+(Ae.circularPathData.sourceY-Ae.circularPathData.leftSmallArcRadius)+" L"+Ae.circularPathData.leftFullExtent+" "+Ae.circularPathData.verticalLeftInnerExtent+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftLargeArcRadius+" 0 0 0 "+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" L"+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightLargeArcRadius+" 0 0 0 "+Ae.circularPathData.rightFullExtent+" "+Ae.circularPathData.verticalRightInnerExtent+" L"+Ae.circularPathData.rightFullExtent+" "+(Ae.circularPathData.targetY-Ae.circularPathData.rightSmallArcRadius)+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightSmallArcRadius+" 0 0 0 "+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.targetY+" L"+Ae.circularPathData.targetX+" "+Ae.circularPathData.targetY:Ue="M"+Ae.circularPathData.sourceX+" "+Ae.circularPathData.sourceY+" L"+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.sourceY+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftSmallArcRadius+" 0 0 1 "+Ae.circularPathData.leftFullExtent+" "+(Ae.circularPathData.sourceY+Ae.circularPathData.leftSmallArcRadius)+" L"+Ae.circularPathData.leftFullExtent+" "+Ae.circularPathData.verticalLeftInnerExtent+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftLargeArcRadius+" 0 0 1 "+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" L"+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightLargeArcRadius+" 0 0 1 "+Ae.circularPathData.rightFullExtent+" "+Ae.circularPathData.verticalRightInnerExtent+" L"+Ae.circularPathData.rightFullExtent+" "+(Ae.circularPathData.targetY+Ae.circularPathData.rightSmallArcRadius)+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightSmallArcRadius+" 0 0 1 "+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.targetY+" L"+Ae.circularPathData.targetX+" "+Ae.circularPathData.targetY,Ue}function Y(Ae,Ue){return Q(Ae)==Q(Ue)?Ae.circularLinkType=="bottom"?re(Ae,Ue):J(Ae,Ue):Q(Ue)-Q(Ae)}function J(Ae,Ue){return Ae.y0-Ue.y0}function re(Ae,Ue){return Ue.y0-Ae.y0}function ie(Ae,Ue){return Ae.y1-Ue.y1}function ce(Ae,Ue){return Ue.y1-Ae.y1}function Q(Ae){return Ae.target.column-Ae.source.column}function j(Ae){return Ae.target.x0-Ae.source.x1}function Z(Ae,Ue){var Ve=I(Ae),Pe=j(Ue)/Math.tan(Ve),be=he(Ae)=="up"?Ae.y1+Pe:Ae.y1-Pe;return be}function $(Ae,Ue){var Ve=I(Ae),Pe=j(Ue)/Math.tan(Ve),be=he(Ae)=="up"?Ae.y1-Pe:Ae.y1+Pe;return be}function te(Ae,Ue,Ve,Pe){Ae.links.forEach(function(be){if(!be.circular&&be.target.column-be.source.column>1){var Le=be.source.column+1,We=be.target.column-1,je=1,Fe=We-Le+1;for(je=1;Le<=We;Le++,je++)Ae.nodes.forEach(function(Ze){if(Ze.column==Le){var ut=je/(Fe+1),at=Math.pow(1-ut,3),it=3*ut*Math.pow(1-ut,2),$e=3*Math.pow(ut,2)*(1-ut),st=Math.pow(ut,3),ct=at*be.y0+it*be.y0+$e*be.y1+st*be.y1,vt=ct-be.width/2,St=ct+be.width/2,Mt;vt>Ze.y0&&vt<Ze.y1?(Mt=Ze.y1-vt+10,Mt=Ze.circularLinkType=="bottom"?Mt:-Mt,Ze=ee(Ze,Mt,Ue,Ve),Ae.nodes.forEach(function(Bt){x(Bt,Pe)==x(Ze,Pe)||Bt.column!=Ze.column||se(Ze,Bt)&&ee(Bt,Mt,Ue,Ve)})):St>Ze.y0&&St<Ze.y1?(Mt=St-Ze.y0+10,Ze=ee(Ze,Mt,Ue,Ve),Ae.nodes.forEach(function(Bt){x(Bt,Pe)==x(Ze,Pe)||Bt.column!=Ze.column||Bt.y0<Ze.y1&&Bt.y1>Ze.y1&&ee(Bt,Mt,Ue,Ve)})):vt<Ze.y0&&St>Ze.y1&&(Mt=St-Ze.y0+10,Ze=ee(Ze,Mt,Ue,Ve),Ae.nodes.forEach(function(Bt){x(Bt,Pe)==x(Ze,Pe)||Bt.column!=Ze.column||Bt.y0<Ze.y1&&Bt.y1>Ze.y1&&ee(Bt,Mt,Ue,Ve)}))}})}})}function se(Ae,Ue){return Ae.y0>Ue.y0&&Ae.y0<Ue.y1||Ae.y1>Ue.y0&&Ae.y1<Ue.y1?!0:Ae.y0<Ue.y0&&Ae.y1>Ue.y1}function ee(Ae,Ue,Ve,Pe){return Ae.y0+Ue>=Ve&&Ae.y1+Ue<=Pe&&(Ae.y0=Ae.y0+Ue,Ae.y1=Ae.y1+Ue,Ae.targetLinks.forEach(function(be){be.y1=be.y1+Ue}),Ae.sourceLinks.forEach(function(be){be.y0=be.y0+Ue})),Ae}function q(Ae,Ue,Ve,Pe){Ae.nodes.forEach(function(be){Pe&&be.y+(be.y1-be.y0)>Ue&&(be.y=be.y-(be.y+(be.y1-be.y0)-Ue));var Le=Ae.links.filter(function(Fe){return x(Fe.source,Ve)==x(be,Ve)}),We=Le.length;We>1&&Le.sort(function(Fe,Ze){if(!Fe.circular&&!Ze.circular){if(Fe.target.column==Ze.target.column)return Fe.y1-Ze.y1;if(oe(Fe,Ze)){if(Fe.target.column>Ze.target.column){var ut=$(Ze,Fe);return Fe.y1-ut}if(Ze.target.column>Fe.target.column){var at=$(Fe,Ze);return at-Ze.y1}}else return Fe.y1-Ze.y1}if(Fe.circular&&!Ze.circular)return Fe.circularLinkType=="top"?-1:1;if(Ze.circular&&!Fe.circular)return Ze.circularLinkType=="top"?1:-1;if(Fe.circular&&Ze.circular)return Fe.circularLinkType===Ze.circularLinkType&&Fe.circularLinkType=="top"?Fe.target.column===Ze.target.column?Fe.target.y1-Ze.target.y1:Ze.target.column-Fe.target.column:Fe.circularLinkType===Ze.circularLinkType&&Fe.circularLinkType=="bottom"?Fe.target.column===Ze.target.column?Ze.target.y1-Fe.target.y1:Fe.target.column-Ze.target.column:Fe.circularLinkType=="top"?-1:1});var je=be.y0;Le.forEach(function(Fe){Fe.y0=je+Fe.width/2,je=je+Fe.width}),Le.forEach(function(Fe,Ze){if(Fe.circularLinkType=="bottom"){var ut=Ze+1,at=0;for(ut;ut<We;ut++)at=at+Le[ut].width;Fe.y0=be.y1-at-Fe.width/2}})})}function le(Ae,Ue,Ve){Ae.nodes.forEach(function(Pe){var be=Ae.links.filter(function(je){return x(je.target,Ve)==x(Pe,Ve)}),Le=be.length;Le>1&&be.sort(function(je,Fe){if(!je.circular&&!Fe.circular){if(je.source.column==Fe.source.column)return je.y0-Fe.y0;if(oe(je,Fe)){if(Fe.source.column<je.source.column){var Ze=Z(Fe,je);return je.y0-Ze}if(je.source.column<Fe.source.column){var ut=Z(je,Fe);return ut-Fe.y0}}else return je.y0-Fe.y0}if(je.circular&&!Fe.circular)return je.circularLinkType=="top"?-1:1;if(Fe.circular&&!je.circular)return Fe.circularLinkType=="top"?1:-1;if(je.circular&&Fe.circular)return je.circularLinkType===Fe.circularLinkType&&je.circularLinkType=="top"?je.source.column===Fe.source.column?je.source.y1-Fe.source.y1:je.source.column-Fe.source.column:je.circularLinkType===Fe.circularLinkType&&je.circularLinkType=="bottom"?je.source.column===Fe.source.column?je.source.y1-Fe.source.y1:Fe.source.column-je.source.column:je.circularLinkType=="top"?-1:1});var We=Pe.y0;be.forEach(function(je){je.y1=We+je.width/2,We=We+je.width}),be.forEach(function(je,Fe){if(je.circularLinkType=="bottom"){var Ze=Fe+1,ut=0;for(Ze;Ze<Le;Ze++)ut=ut+be[Ze].width;je.y1=Pe.y1-ut-je.width/2}})})}function oe(Ae,Ue){return he(Ae)==he(Ue)}function he(Ae){return Ae.y0-Ae.y1>0?"up":"down"}function me(Ae,Ue){return x(Ae.source,Ue)==x(Ae.target,Ue)}function Ce(Ae,Ue,Ve){var Pe=Ae.nodes,be=Ae.links,Le=!1,We=!1;if(be.forEach(function(it){it.circularLinkType=="top"?Le=!0:it.circularLinkType=="bottom"&&(We=!0)}),Le==!1||We==!1){var je=(0,g.VV)(Pe,function(it){return it.y0}),Fe=(0,g.Fp)(Pe,function(it){return it.y1}),Ze=Fe-je,ut=Ve-Ue,at=ut/Ze;Pe.forEach(function(it){var $e=(it.y1-it.y0)*at;it.y0=(it.y0-je)*at,it.y1=it.y0+$e}),be.forEach(function(it){it.y0=(it.y0-je)*at,it.y1=(it.y1-je)*at,it.width=it.width*at})}}},30838:function(G,V,e){e.r(V),e.d(V,{sankey:function(){return d},sankeyCenter:function(){return p},sankeyJustify:function(){return v},sankeyLeft:function(){return C},sankeyLinkHorizontal:function(){return x},sankeyRight:function(){return A}});var g=e(33064),_=e(15140);function a(M){return M.target.depth}function C(M){return M.depth}function A(M,w){return w-1-M.height}function v(M,w){return M.sourceLinks.length?M.depth:w-1}function p(M){return M.targetLinks.length?M.depth:M.sourceLinks.length?(0,g.VV)(M.sourceLinks,a)-1:0}function t(M){return function(){return M}}function r(M,w){return n(M.source,w.source)||M.index-w.index}function s(M,w){return n(M.target,w.target)||M.index-w.index}function n(M,w){return M.y0-w.y0}function i(M){return M.value}function f(M){return(M.y0+M.y1)/2}function u(M){return f(M.source)*M.value}function y(M){return f(M.target)*M.value}function c(M){return M.index}function T(M){return M.nodes}function h(M){return M.links}function l(M,w){var o=M.get(w);if(!o)throw new Error("missing: "+w);return o}function d(){var M=0,w=0,o=1,L=1,m=24,F=8,I=c,U=v,z=T,N=h,B=32,O=2/3;function H(){var Q={nodes:z.apply(null,arguments),links:N.apply(null,arguments)};return Y(Q),J(Q),re(Q),ie(Q),ce(Q),Q}H.update=function(Q){return ce(Q),Q},H.nodeId=function(Q){return arguments.length?(I=typeof Q=="function"?Q:t(Q),H):I},H.nodeAlign=function(Q){return arguments.length?(U=typeof Q=="function"?Q:t(Q),H):U},H.nodeWidth=function(Q){return arguments.length?(m=+Q,H):m},H.nodePadding=function(Q){return arguments.length?(F=+Q,H):F},H.nodes=function(Q){return arguments.length?(z=typeof Q=="function"?Q:t(Q),H):z},H.links=function(Q){return arguments.length?(N=typeof Q=="function"?Q:t(Q),H):N},H.size=function(Q){return arguments.length?(M=w=0,o=+Q[0],L=+Q[1],H):[o-M,L-w]},H.extent=function(Q){return arguments.length?(M=+Q[0][0],o=+Q[1][0],w=+Q[0][1],L=+Q[1][1],H):[[M,w],[o,L]]},H.iterations=function(Q){return arguments.length?(B=+Q,H):B};function Y(Q){Q.nodes.forEach(function(Z,$){Z.index=$,Z.sourceLinks=[],Z.targetLinks=[]});var j=(0,_.UI)(Q.nodes,I);Q.links.forEach(function(Z,$){Z.index=$;var te=Z.source,se=Z.target;typeof te!="object"&&(te=Z.source=l(j,te)),typeof se!="object"&&(se=Z.target=l(j,se)),te.sourceLinks.push(Z),se.targetLinks.push(Z)})}function J(Q){Q.nodes.forEach(function(j){j.value=Math.max((0,g.Sm)(j.sourceLinks,i),(0,g.Sm)(j.targetLinks,i))})}function re(Q){var j,Z,$;for(j=Q.nodes,Z=[],$=0;j.length;++$,j=Z,Z=[])j.forEach(function(se){se.depth=$,se.sourceLinks.forEach(function(ee){Z.indexOf(ee.target)<0&&Z.push(ee.target)})});for(j=Q.nodes,Z=[],$=0;j.length;++$,j=Z,Z=[])j.forEach(function(se){se.height=$,se.targetLinks.forEach(function(ee){Z.indexOf(ee.source)<0&&Z.push(ee.source)})});var te=(o-M-m)/($-1);Q.nodes.forEach(function(se){se.x1=(se.x0=M+Math.max(0,Math.min($-1,Math.floor(U.call(null,se,$))))*te)+m})}function ie(Q){var j=(0,_.b1)().key(function(le){return le.x0}).sortKeys(g.j2).entries(Q.nodes).map(function(le){return le.values});te(),q();for(var Z=1,$=B;$>0;--$)ee(Z*=.99),q(),se(Z),q();function te(){var le=(0,g.Fp)(j,function(me){return me.length}),oe=O*(L-w)/(le-1);F>oe&&(F=oe);var he=(0,g.VV)(j,function(me){return(L-w-(me.length-1)*F)/(0,g.Sm)(me,i)});j.forEach(function(me){me.forEach(function(Ce,Ae){Ce.y1=(Ce.y0=Ae)+Ce.value*he})}),Q.links.forEach(function(me){me.width=me.value*he})}function se(le){j.forEach(function(oe){oe.forEach(function(he){if(he.targetLinks.length){var me=((0,g.Sm)(he.targetLinks,u)/(0,g.Sm)(he.targetLinks,i)-f(he))*le;he.y0+=me,he.y1+=me}})})}function ee(le){j.slice().reverse().forEach(function(oe){oe.forEach(function(he){if(he.sourceLinks.length){var me=((0,g.Sm)(he.sourceLinks,y)/(0,g.Sm)(he.sourceLinks,i)-f(he))*le;he.y0+=me,he.y1+=me}})})}function q(){j.forEach(function(le){var oe,he,me=w,Ce=le.length,Ae;for(le.sort(n),Ae=0;Ae<Ce;++Ae)oe=le[Ae],he=me-oe.y0,he>0&&(oe.y0+=he,oe.y1+=he),me=oe.y1+F;if(he=me-F-L,he>0)for(me=oe.y0-=he,oe.y1-=he,Ae=Ce-2;Ae>=0;--Ae)oe=le[Ae],he=oe.y1+F-me,he>0&&(oe.y0-=he,oe.y1-=he),me=oe.y0})}}function ce(Q){Q.nodes.forEach(function(j){j.sourceLinks.sort(s),j.targetLinks.sort(r)}),Q.nodes.forEach(function(j){var Z=j.y0,$=Z;j.sourceLinks.forEach(function(te){te.y0=Z+te.width/2,Z+=te.width}),j.targetLinks.forEach(function(te){te.y1=$+te.width/2,$+=te.width})})}return H}var E=e(45879);function S(M){return[M.source.x1,M.y0]}function P(M){return[M.target.x0,M.y1]}function x(){return(0,E.h5)().source(S).target(P)}},39898:function(G,V,e){var g,_;(function(){var a={version:"3.8.0"},C=[].slice,A=function(ue){return C.call(ue)},v=self.document;function p(ue){return ue&&(ue.ownerDocument||ue.document||ue).documentElement}function t(ue){return ue&&(ue.ownerDocument&&ue.ownerDocument.defaultView||ue.document&&ue||ue.defaultView)}if(v)try{A(v.documentElement.childNodes)[0].nodeType}catch{A=function(_e){for(var Ye=_e.length,nt=new Array(Ye);Ye--;)nt[Ye]=_e[Ye];return nt}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var r=this.Element.prototype,s=r.setAttribute,n=r.setAttributeNS,i=this.CSSStyleDeclaration.prototype,f=i.setProperty;r.setAttribute=function(_e,Ye){s.call(this,_e,Ye+"")},r.setAttributeNS=function(_e,Ye,nt){n.call(this,_e,Ye,nt+"")},i.setProperty=function(_e,Ye,nt){f.call(this,_e,Ye+"",nt)}}a.ascending=u;function u(ue,_e){return ue<_e?-1:ue>_e?1:ue>=_e?0:NaN}a.descending=function(ue,_e){return _e<ue?-1:_e>ue?1:_e>=ue?0:NaN},a.min=function(ue,_e){var Ye=-1,nt=ue.length,ot,ft;if(arguments.length===1){for(;++Ye<nt;)if((ft=ue[Ye])!=null&&ft>=ft){ot=ft;break}for(;++Ye<nt;)(ft=ue[Ye])!=null&&ot>ft&&(ot=ft)}else{for(;++Ye<nt;)if((ft=_e.call(ue,ue[Ye],Ye))!=null&&ft>=ft){ot=ft;break}for(;++Ye<nt;)(ft=_e.call(ue,ue[Ye],Ye))!=null&&ot>ft&&(ot=ft)}return ot},a.max=function(ue,_e){var Ye=-1,nt=ue.length,ot,ft;if(arguments.length===1){for(;++Ye<nt;)if((ft=ue[Ye])!=null&&ft>=ft){ot=ft;break}for(;++Ye<nt;)(ft=ue[Ye])!=null&&ft>ot&&(ot=ft)}else{for(;++Ye<nt;)if((ft=_e.call(ue,ue[Ye],Ye))!=null&&ft>=ft){ot=ft;break}for(;++Ye<nt;)(ft=_e.call(ue,ue[Ye],Ye))!=null&&ft>ot&&(ot=ft)}return ot},a.extent=function(ue,_e){var Ye=-1,nt=ue.length,ot,ft,kt;if(arguments.length===1){for(;++Ye<nt;)if((ft=ue[Ye])!=null&&ft>=ft){ot=kt=ft;break}for(;++Ye<nt;)(ft=ue[Ye])!=null&&(ot>ft&&(ot=ft),kt<ft&&(kt=ft))}else{for(;++Ye<nt;)if((ft=_e.call(ue,ue[Ye],Ye))!=null&&ft>=ft){ot=kt=ft;break}for(;++Ye<nt;)(ft=_e.call(ue,ue[Ye],Ye))!=null&&(ot>ft&&(ot=ft),kt<ft&&(kt=ft))}return[ot,kt]};function y(ue){return ue===null?NaN:+ue}function c(ue){return!isNaN(ue)}a.sum=function(ue,_e){var Ye=0,nt=ue.length,ot,ft=-1;if(arguments.length===1)for(;++ft<nt;)c(ot=+ue[ft])&&(Ye+=ot);else for(;++ft<nt;)c(ot=+_e.call(ue,ue[ft],ft))&&(Ye+=ot);return Ye},a.mean=function(ue,_e){var Ye=0,nt=ue.length,ot,ft=-1,kt=nt;if(arguments.length===1)for(;++ft<nt;)c(ot=y(ue[ft]))?Ye+=ot:--kt;else for(;++ft<nt;)c(ot=y(_e.call(ue,ue[ft],ft)))?Ye+=ot:--kt;if(kt)return Ye/kt},a.quantile=function(ue,_e){var Ye=(ue.length-1)*_e+1,nt=Math.floor(Ye),ot=+ue[nt-1],ft=Ye-nt;return ft?ot+ft*(ue[nt]-ot):ot},a.median=function(ue,_e){var Ye=[],nt=ue.length,ot,ft=-1;if(arguments.length===1)for(;++ft<nt;)c(ot=y(ue[ft]))&&Ye.push(ot);else for(;++ft<nt;)c(ot=y(_e.call(ue,ue[ft],ft)))&&Ye.push(ot);if(Ye.length)return a.quantile(Ye.sort(u),.5)},a.variance=function(ue,_e){var Ye=ue.length,nt=0,ot,ft,kt=0,mt=-1,Wt=0;if(arguments.length===1)for(;++mt<Ye;)c(ot=y(ue[mt]))&&(ft=ot-nt,nt+=ft/++Wt,kt+=ft*(ot-nt));else for(;++mt<Ye;)c(ot=y(_e.call(ue,ue[mt],mt)))&&(ft=ot-nt,nt+=ft/++Wt,kt+=ft*(ot-nt));if(Wt>1)return kt/(Wt-1)},a.deviation=function(){var ue=a.variance.apply(this,arguments);return ue&&Math.sqrt(ue)};function T(ue){return{left:function(_e,Ye,nt,ot){for(arguments.length<3&&(nt=0),arguments.length<4&&(ot=_e.length);nt<ot;){var ft=nt+ot>>>1;ue(_e[ft],Ye)<0?nt=ft+1:ot=ft}return nt},right:function(_e,Ye,nt,ot){for(arguments.length<3&&(nt=0),arguments.length<4&&(ot=_e.length);nt<ot;){var ft=nt+ot>>>1;ue(_e[ft],Ye)>0?ot=ft:nt=ft+1}return nt}}}var h=T(u);a.bisectLeft=h.left,a.bisect=a.bisectRight=h.right,a.bisector=function(ue){return T(ue.length===1?function(_e,Ye){return u(ue(_e),Ye)}:ue)},a.shuffle=function(ue,_e,Ye){(nt=arguments.length)<3&&(Ye=ue.length,nt<2&&(_e=0));for(var nt=Ye-_e,ot,ft;nt;)ft=Math.random()*nt--|0,ot=ue[nt+_e],ue[nt+_e]=ue[ft+_e],ue[ft+_e]=ot;return ue},a.permute=function(ue,_e){for(var Ye=_e.length,nt=new Array(Ye);Ye--;)nt[Ye]=ue[_e[Ye]];return nt},a.pairs=function(ue){for(var _e=0,Ye=ue.length-1,nt=ue[0],ot=new Array(Ye<0?0:Ye);_e<Ye;)ot[_e]=[nt,nt=ue[++_e]];return ot},a.transpose=function(ue){if(!(ft=ue.length))return[];for(var _e=-1,Ye=a.min(ue,l),nt=new Array(Ye);++_e<Ye;)for(var ot=-1,ft,kt=nt[_e]=new Array(ft);++ot<ft;)kt[ot]=ue[ot][_e];return nt};function l(ue){return ue.length}a.zip=function(){return a.transpose(arguments)},a.keys=function(ue){var _e=[];for(var Ye in ue)_e.push(Ye);return _e},a.values=function(ue){var _e=[];for(var Ye in ue)_e.push(ue[Ye]);return _e},a.entries=function(ue){var _e=[];for(var Ye in ue)_e.push({key:Ye,value:ue[Ye]});return _e},a.merge=function(ue){for(var _e=ue.length,Ye,nt=-1,ot=0,ft,kt;++nt<_e;)ot+=ue[nt].length;for(ft=new Array(ot);--_e>=0;)for(kt=ue[_e],Ye=kt.length;--Ye>=0;)ft[--ot]=kt[Ye];return ft};var d=Math.abs;a.range=function(ue,_e,Ye){if(arguments.length<3&&(Ye=1,arguments.length<2&&(_e=ue,ue=0)),(_e-ue)/Ye===1/0)throw new Error("infinite range");var nt=[],ot=E(d(Ye)),ft=-1,kt;if(ue*=ot,_e*=ot,Ye*=ot,Ye<0)for(;(kt=ue+Ye*++ft)>_e;)nt.push(kt/ot);else for(;(kt=ue+Ye*++ft)<_e;)nt.push(kt/ot);return nt};function E(ue){for(var _e=1;ue*_e%1;)_e*=10;return _e}function S(ue,_e){for(var Ye in _e)Object.defineProperty(ue.prototype,Ye,{value:_e[Ye],enumerable:!1})}a.map=function(ue,_e){var Ye=new P;if(ue instanceof P)ue.forEach(function(mt,Wt){Ye.set(mt,Wt)});else if(Array.isArray(ue)){var nt=-1,ot=ue.length,ft;if(arguments.length===1)for(;++nt<ot;)Ye.set(nt,ue[nt]);else for(;++nt<ot;)Ye.set(_e.call(ue,ft=ue[nt],nt),ft)}else for(var kt in ue)Ye.set(kt,ue[kt]);return Ye};function P(){this._=Object.create(null)}var x="__proto__",M="\0";S(P,{has:L,get:function(ue){return this._[w(ue)]},set:function(ue,_e){return this._[w(ue)]=_e},remove:m,keys:F,values:function(){var ue=[];for(var _e in this._)ue.push(this._[_e]);return ue},entries:function(){var ue=[];for(var _e in this._)ue.push({key:o(_e),value:this._[_e]});return ue},size:I,empty:U,forEach:function(ue){for(var _e in this._)ue.call(this,o(_e),this._[_e])}});function w(ue){return(ue+="")===x||ue[0]===M?M+ue:ue}function o(ue){return(ue+="")[0]===M?ue.slice(1):ue}function L(ue){return w(ue)in this._}function m(ue){return(ue=w(ue))in this._&&delete this._[ue]}function F(){var ue=[];for(var _e in this._)ue.push(o(_e));return ue}function I(){var ue=0;for(var _e in this._)++ue;return ue}function U(){for(var ue in this._)return!1;return!0}a.nest=function(){var ue={},_e=[],Ye=[],nt,ot;function ft(mt,Wt,ar){if(ar>=_e.length)return ot?ot.call(ue,Wt):nt?Wt.sort(nt):Wt;for(var sr=-1,Ir=Wt.length,Rr=_e[ar++],Kr,an,Fr,Gr=new P,Zr;++sr<Ir;)(Zr=Gr.get(Kr=Rr(an=Wt[sr])))?Zr.push(an):Gr.set(Kr,[an]);return mt?(an=mt(),Fr=function(ln,dn){an.set(ln,ft(mt,dn,ar))}):(an={},Fr=function(ln,dn){an[ln]=ft(mt,dn,ar)}),Gr.forEach(Fr),an}function kt(mt,Wt){if(Wt>=_e.length)return mt;var ar=[],sr=Ye[Wt++];return mt.forEach(function(Ir,Rr){ar.push({key:Ir,values:kt(Rr,Wt)})}),sr?ar.sort(function(Ir,Rr){return sr(Ir.key,Rr.key)}):ar}return ue.map=function(mt,Wt){return ft(Wt,mt,0)},ue.entries=function(mt){return kt(ft(a.map,mt,0),0)},ue.key=function(mt){return _e.push(mt),ue},ue.sortKeys=function(mt){return Ye[_e.length-1]=mt,ue},ue.sortValues=function(mt){return nt=mt,ue},ue.rollup=function(mt){return ot=mt,ue},ue},a.set=function(ue){var _e=new z;if(ue)for(var Ye=0,nt=ue.length;Ye<nt;++Ye)_e.add(ue[Ye]);return _e};function z(){this._=Object.create(null)}S(z,{has:L,add:function(ue){return this._[w(ue+="")]=!0,ue},remove:m,values:F,size:I,empty:U,forEach:function(ue){for(var _e in this._)ue.call(this,o(_e))}}),a.behavior={};function N(ue){return ue}a.rebind=function(ue,_e){for(var Ye=1,nt=arguments.length,ot;++Ye<nt;)ue[ot=arguments[Ye]]=B(ue,_e,_e[ot]);return ue};function B(ue,_e,Ye){return function(){var nt=Ye.apply(_e,arguments);return nt===_e?ue:nt}}function O(ue,_e){if(_e in ue)return _e;_e=_e.charAt(0).toUpperCase()+_e.slice(1);for(var Ye=0,nt=H.length;Ye<nt;++Ye){var ot=H[Ye]+_e;if(ot in ue)return ot}}var H=["webkit","ms","moz","Moz","o","O"];function Y(){}a.dispatch=function(){for(var ue=new J,_e=-1,Ye=arguments.length;++_e<Ye;)ue[arguments[_e]]=re(ue);return ue};function J(){}J.prototype.on=function(ue,_e){var Ye=ue.indexOf("."),nt="";if(Ye>=0&&(nt=ue.slice(Ye+1),ue=ue.slice(0,Ye)),ue)return arguments.length<2?this[ue].on(nt):this[ue].on(nt,_e);if(arguments.length===2){if(_e==null)for(ue in this)this.hasOwnProperty(ue)&&this[ue].on(nt,null);return this}};function re(ue){var _e=[],Ye=new P;function nt(){for(var ot=_e,ft=-1,kt=ot.length,mt;++ft<kt;)(mt=ot[ft].on)&&mt.apply(this,arguments);return ue}return nt.on=function(ot,ft){var kt=Ye.get(ot),mt;return arguments.length<2?kt&&kt.on:(kt&&(kt.on=null,_e=_e.slice(0,mt=_e.indexOf(kt)).concat(_e.slice(mt+1)),Ye.remove(ot)),ft&&_e.push(Ye.set(ot,{on:ft})),ue)},nt}a.event=null;function ie(){a.event.preventDefault()}function ce(){for(var ue=a.event,_e;_e=ue.sourceEvent;)ue=_e;return ue}function Q(ue){for(var _e=new J,Ye=0,nt=arguments.length;++Ye<nt;)_e[arguments[Ye]]=re(_e);return _e.of=function(ot,ft){return function(kt){try{var mt=kt.sourceEvent=a.event;kt.target=ue,a.event=kt,_e[kt.type].apply(ot,ft)}finally{a.event=mt}}},_e}a.requote=function(ue){return ue.replace(j,"\\$&")};var j=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Z={}.__proto__?function(ue,_e){ue.__proto__=_e}:function(ue,_e){for(var Ye in _e)ue[Ye]=_e[Ye]};function $(ue){return Z(ue,q),ue}var te=function(ue,_e){return _e.querySelector(ue)},se=function(ue,_e){return _e.querySelectorAll(ue)},ee=function(ue,_e){var Ye=ue.matches||ue[O(ue,"matchesSelector")];return ee=function(nt,ot){return Ye.call(nt,ot)},ee(ue,_e)};typeof Sizzle=="function"&&(te=function(ue,_e){return Sizzle(ue,_e)[0]||null},se=Sizzle,ee=Sizzle.matchesSelector),a.selection=function(){return a.select(v.documentElement)};var q=a.selection.prototype=[];q.select=function(ue){var _e=[],Ye,nt,ot,ft;ue=le(ue);for(var kt=-1,mt=this.length;++kt<mt;){_e.push(Ye=[]),Ye.parentNode=(ot=this[kt]).parentNode;for(var Wt=-1,ar=ot.length;++Wt<ar;)(ft=ot[Wt])?(Ye.push(nt=ue.call(ft,ft.__data__,Wt,kt)),nt&&"__data__"in ft&&(nt.__data__=ft.__data__)):Ye.push(null)}return $(_e)};function le(ue){return typeof ue=="function"?ue:function(){return te(ue,this)}}q.selectAll=function(ue){var _e=[],Ye,nt;ue=oe(ue);for(var ot=-1,ft=this.length;++ot<ft;)for(var kt=this[ot],mt=-1,Wt=kt.length;++mt<Wt;)(nt=kt[mt])&&(_e.push(Ye=A(ue.call(nt,nt.__data__,mt,ot))),Ye.parentNode=nt);return $(_e)};function oe(ue){return typeof ue=="function"?ue:function(){return se(ue,this)}}var he="http://www.w3.org/1999/xhtml",me={svg:"http://www.w3.org/2000/svg",xhtml:he,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};a.ns={prefix:me,qualify:function(ue){var _e=ue.indexOf(":"),Ye=ue;return _e>=0&&(Ye=ue.slice(0,_e))!=="xmlns"&&(ue=ue.slice(_e+1)),me.hasOwnProperty(Ye)?{space:me[Ye],local:ue}:ue}},q.attr=function(ue,_e){if(arguments.length<2){if(typeof ue=="string"){var Ye=this.node();return ue=a.ns.qualify(ue),ue.local?Ye.getAttributeNS(ue.space,ue.local):Ye.getAttribute(ue)}for(_e in ue)this.each(Ce(_e,ue[_e]));return this}return this.each(Ce(ue,_e))};function Ce(ue,_e){ue=a.ns.qualify(ue);function Ye(){this.removeAttribute(ue)}function nt(){this.removeAttributeNS(ue.space,ue.local)}function ot(){this.setAttribute(ue,_e)}function ft(){this.setAttributeNS(ue.space,ue.local,_e)}function kt(){var Wt=_e.apply(this,arguments);Wt==null?this.removeAttribute(ue):this.setAttribute(ue,Wt)}function mt(){var Wt=_e.apply(this,arguments);Wt==null?this.removeAttributeNS(ue.space,ue.local):this.setAttributeNS(ue.space,ue.local,Wt)}return _e==null?ue.local?nt:Ye:typeof _e=="function"?ue.local?mt:kt:ue.local?ft:ot}function Ae(ue){return ue.trim().replace(/\s+/g," ")}q.classed=function(ue,_e){if(arguments.length<2){if(typeof ue=="string"){var Ye=this.node(),nt=(ue=Ve(ue)).length,ot=-1;if(_e=Ye.classList){for(;++ot<nt;)if(!_e.contains(ue[ot]))return!1}else for(_e=Ye.getAttribute("class");++ot<nt;)if(!Ue(ue[ot]).test(_e))return!1;return!0}for(_e in ue)this.each(Pe(_e,ue[_e]));return this}return this.each(Pe(ue,_e))};function Ue(ue){return new RegExp("(?:^|\\s+)"+a.requote(ue)+"(?:\\s+|$)","g")}function Ve(ue){return(ue+"").trim().split(/^|\s+/)}function Pe(ue,_e){ue=Ve(ue).map(be);var Ye=ue.length;function nt(){for(var ft=-1;++ft<Ye;)ue[ft](this,_e)}function ot(){for(var ft=-1,kt=_e.apply(this,arguments);++ft<Ye;)ue[ft](this,kt)}return typeof _e=="function"?ot:nt}function be(ue){var _e=Ue(ue);return function(Ye,nt){if(ot=Ye.classList)return nt?ot.add(ue):ot.remove(ue);var ot=Ye.getAttribute("class")||"";nt?(_e.lastIndex=0,_e.test(ot)||Ye.setAttribute("class",Ae(ot+" "+ue))):Ye.setAttribute("class",Ae(ot.replace(_e," ")))}}q.style=function(ue,_e,Ye){var nt=arguments.length;if(nt<3){if(typeof ue!="string"){nt<2&&(_e="");for(Ye in ue)this.each(Le(Ye,ue[Ye],_e));return this}if(nt<2){var ot=this.node();return t(ot).getComputedStyle(ot,null).getPropertyValue(ue)}Ye=""}return this.each(Le(ue,_e,Ye))};function Le(ue,_e,Ye){function nt(){this.style.removeProperty(ue)}function ot(){this.style.setProperty(ue,_e,Ye)}function ft(){var kt=_e.apply(this,arguments);kt==null?this.style.removeProperty(ue):this.style.setProperty(ue,kt,Ye)}return _e==null?nt:typeof _e=="function"?ft:ot}q.property=function(ue,_e){if(arguments.length<2){if(typeof ue=="string")return this.node()[ue];for(_e in ue)this.each(We(_e,ue[_e]));return this}return this.each(We(ue,_e))};function We(ue,_e){function Ye(){delete this[ue]}function nt(){this[ue]=_e}function ot(){var ft=_e.apply(this,arguments);ft==null?delete this[ue]:this[ue]=ft}return _e==null?Ye:typeof _e=="function"?ot:nt}q.text=function(ue){return arguments.length?this.each(typeof ue=="function"?function(){var _e=ue.apply(this,arguments);this.textContent=_e??""}:ue==null?function(){this.textContent=""}:function(){this.textContent=ue}):this.node().textContent},q.html=function(ue){return arguments.length?this.each(typeof ue=="function"?function(){var _e=ue.apply(this,arguments);this.innerHTML=_e??""}:ue==null?function(){this.innerHTML=""}:function(){this.innerHTML=ue}):this.node().innerHTML},q.append=function(ue){return ue=je(ue),this.select(function(){return this.appendChild(ue.apply(this,arguments))})};function je(ue){function _e(){var nt=this.ownerDocument,ot=this.namespaceURI;return ot===he&&nt.documentElement.namespaceURI===he?nt.createElement(ue):nt.createElementNS(ot,ue)}function Ye(){return this.ownerDocument.createElementNS(ue.space,ue.local)}return typeof ue=="function"?ue:(ue=a.ns.qualify(ue)).local?Ye:_e}q.insert=function(ue,_e){return ue=je(ue),_e=le(_e),this.select(function(){return this.insertBefore(ue.apply(this,arguments),_e.apply(this,arguments)||null)})},q.remove=function(){return this.each(Fe)};function Fe(){var ue=this.parentNode;ue&&ue.removeChild(this)}q.data=function(ue,_e){var Ye=-1,nt=this.length,ot,ft;if(!arguments.length){for(ue=new Array(nt=(ot=this[0]).length);++Ye<nt;)(ft=ot[Ye])&&(ue[Ye]=ft.__data__);return ue}function kt(sr,Ir){var Rr,Kr=sr.length,an=Ir.length,Fr=Math.min(Kr,an),Gr=new Array(an),Zr=new Array(an),ln=new Array(Kr),dn,Xr;if(_e){var Bn=new P,Jn=new Array(Kr),na;for(Rr=-1;++Rr<Kr;)(dn=sr[Rr])&&(Bn.has(na=_e.call(dn,dn.__data__,Rr))?ln[Rr]=dn:Bn.set(na,dn),Jn[Rr]=na);for(Rr=-1;++Rr<an;)(dn=Bn.get(na=_e.call(Ir,Xr=Ir[Rr],Rr)))?dn!==!0&&(Gr[Rr]=dn,dn.__data__=Xr):Zr[Rr]=Ze(Xr),Bn.set(na,!0);for(Rr=-1;++Rr<Kr;)Rr in Jn&&Bn.get(Jn[Rr])!==!0&&(ln[Rr]=sr[Rr])}else{for(Rr=-1;++Rr<Fr;)dn=sr[Rr],Xr=Ir[Rr],dn?(dn.__data__=Xr,Gr[Rr]=dn):Zr[Rr]=Ze(Xr);for(;Rr<an;++Rr)Zr[Rr]=Ze(Ir[Rr]);for(;Rr<Kr;++Rr)ln[Rr]=sr[Rr]}Zr.update=Gr,Zr.parentNode=Gr.parentNode=ln.parentNode=sr.parentNode,mt.push(Zr),Wt.push(Gr),ar.push(ln)}var mt=$e([]),Wt=$([]),ar=$([]);if(typeof ue=="function")for(;++Ye<nt;)kt(ot=this[Ye],ue.call(ot,ot.parentNode.__data__,Ye));else for(;++Ye<nt;)kt(ot=this[Ye],ue);return Wt.enter=function(){return mt},Wt.exit=function(){return ar},Wt};function Ze(ue){return{__data__:ue}}q.datum=function(ue){return arguments.length?this.property("__data__",ue):this.property("__data__")},q.filter=function(ue){var _e=[],Ye,nt,ot;typeof ue!="function"&&(ue=ut(ue));for(var ft=0,kt=this.length;ft<kt;ft++){_e.push(Ye=[]),Ye.parentNode=(nt=this[ft]).parentNode;for(var mt=0,Wt=nt.length;mt<Wt;mt++)(ot=nt[mt])&&ue.call(ot,ot.__data__,mt,ft)&&Ye.push(ot)}return $(_e)};function ut(ue){return function(){return ee(this,ue)}}q.order=function(){for(var ue=-1,_e=this.length;++ue<_e;)for(var Ye=this[ue],nt=Ye.length-1,ot=Ye[nt],ft;--nt>=0;)(ft=Ye[nt])&&(ot&&ot!==ft.nextSibling&&ot.parentNode.insertBefore(ft,ot),ot=ft);return this},q.sort=function(ue){ue=at.apply(this,arguments);for(var _e=-1,Ye=this.length;++_e<Ye;)this[_e].sort(ue);return this.order()};function at(ue){return arguments.length||(ue=u),function(_e,Ye){return _e&&Ye?ue(_e.__data__,Ye.__data__):!_e-!Ye}}q.each=function(ue){return it(this,function(_e,Ye,nt){ue.call(_e,_e.__data__,Ye,nt)})};function it(ue,_e){for(var Ye=0,nt=ue.length;Ye<nt;Ye++)for(var ot=ue[Ye],ft=0,kt=ot.length,mt;ft<kt;ft++)(mt=ot[ft])&&_e(mt,ft,Ye);return ue}q.call=function(ue){var _e=A(arguments);return ue.apply(_e[0]=this,_e),this},q.empty=function(){return!this.node()},q.node=function(){for(var ue=0,_e=this.length;ue<_e;ue++)for(var Ye=this[ue],nt=0,ot=Ye.length;nt<ot;nt++){var ft=Ye[nt];if(ft)return ft}return null},q.size=function(){var ue=0;return it(this,function(){++ue}),ue};function $e(ue){return Z(ue,st),ue}var st=[];a.selection.enter=$e,a.selection.enter.prototype=st,st.append=q.append,st.empty=q.empty,st.node=q.node,st.call=q.call,st.size=q.size,st.select=function(ue){for(var _e=[],Ye,nt,ot,ft,kt,mt=-1,Wt=this.length;++mt<Wt;){ot=(ft=this[mt]).update,_e.push(Ye=[]),Ye.parentNode=ft.parentNode;for(var ar=-1,sr=ft.length;++ar<sr;)(kt=ft[ar])?(Ye.push(ot[ar]=nt=ue.call(ft.parentNode,kt.__data__,ar,mt)),nt.__data__=kt.__data__):Ye.push(null)}return $(_e)},st.insert=function(ue,_e){return arguments.length<2&&(_e=ct(this)),q.insert.call(this,ue,_e)};function ct(ue){var _e,Ye;return function(nt,ot,ft){var kt=ue[ft].update,mt=kt.length,Wt;for(ft!=Ye&&(Ye=ft,_e=0),ot>=_e&&(_e=ot+1);!(Wt=kt[_e])&&++_e<mt;);return Wt}}a.select=function(ue){var _e;return typeof ue=="string"?(_e=[te(ue,v)],_e.parentNode=v.documentElement):(_e=[ue],_e.parentNode=p(ue)),$([_e])},a.selectAll=function(ue){var _e;return typeof ue=="string"?(_e=A(se(ue,v)),_e.parentNode=v.documentElement):(_e=A(ue),_e.parentNode=null),$([_e])},q.on=function(ue,_e,Ye){var nt=arguments.length;if(nt<3){if(typeof ue!="string"){nt<2&&(_e=!1);for(Ye in ue)this.each(vt(Ye,ue[Ye],_e));return this}if(nt<2)return(nt=this.node()["__on"+ue])&&nt._;Ye=!1}return this.each(vt(ue,_e,Ye))};function vt(ue,_e,Ye){var nt="__on"+ue,ot=ue.indexOf("."),ft=Mt;ot>0&&(ue=ue.slice(0,ot));var kt=St.get(ue);kt&&(ue=kt,ft=Bt);function mt(){var sr=this[nt];sr&&(this.removeEventListener(ue,sr,sr.$),delete this[nt])}function Wt(){var sr=ft(_e,A(arguments));mt.call(this),this.addEventListener(ue,this[nt]=sr,sr.$=Ye),sr._=_e}function ar(){var sr=new RegExp("^__on([^.]+)"+a.requote(ue)+"$"),Ir;for(var Rr in this)if(Ir=Rr.match(sr)){var Kr=this[Rr];this.removeEventListener(Ir[1],Kr,Kr.$),delete this[Rr]}}return ot?_e?Wt:mt:_e?Y:ar}var St=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});v&&St.forEach(function(ue){"on"+ue in v&&St.remove(ue)});function Mt(ue,_e){return function(Ye){var nt=a.event;a.event=Ye,_e[0]=this.__data__;try{ue.apply(this,_e)}finally{a.event=nt}}}function Bt(ue,_e){var Ye=Mt(ue,_e);return function(nt){var ot=this,ft=nt.relatedTarget;(!ft||ft!==ot&&!(ft.compareDocumentPosition(ot)&8))&&Ye.call(ot,nt)}}var Qe,ke=0;function ze(ue){var _e=".dragsuppress-"+ ++ke,Ye="click"+_e,nt=a.select(t(ue)).on("touchmove"+_e,ie).on("dragstart"+_e,ie).on("selectstart"+_e,ie);if(Qe==null&&(Qe="onselectstart"in ue?!1:O(ue.style,"userSelect")),Qe){var ot=p(ue).style,ft=ot[Qe];ot[Qe]="none"}return function(kt){if(nt.on(_e,null),Qe&&(ot[Qe]=ft),kt){var mt=function(){nt.on(Ye,null)};nt.on(Ye,function(){ie(),mt()},!0),setTimeout(mt,0)}}}a.mouse=function(ue){return Re(ue,ce())};var Be=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Re(ue,_e){_e.changedTouches&&(_e=_e.changedTouches[0]);var Ye=ue.ownerSVGElement||ue;if(Ye.createSVGPoint){var nt=Ye.createSVGPoint();if(Be<0){var ot=t(ue);if(ot.scrollX||ot.scrollY){Ye=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ft=Ye[0][0].getScreenCTM();Be=!(ft.f||ft.e),Ye.remove()}}return Be?(nt.x=_e.pageX,nt.y=_e.pageY):(nt.x=_e.clientX,nt.y=_e.clientY),nt=nt.matrixTransform(ue.getScreenCTM().inverse()),[nt.x,nt.y]}var kt=ue.getBoundingClientRect();return[_e.clientX-kt.left-ue.clientLeft,_e.clientY-kt.top-ue.clientTop]}a.touch=function(ue,_e,Ye){if(arguments.length<3&&(Ye=_e,_e=ce().changedTouches),_e){for(var nt=0,ot=_e.length,ft;nt<ot;++nt)if((ft=_e[nt]).identifier===Ye)return Re(ue,ft)}},a.behavior.drag=function(){var ue=Q(ot,"drag","dragstart","dragend"),_e=null,Ye=ft(Y,a.mouse,t,"mousemove","mouseup"),nt=ft(we,a.touch,N,"touchmove","touchend");function ot(){this.on("mousedown.drag",Ye).on("touchstart.drag",nt)}function ft(kt,mt,Wt,ar,sr){return function(){var Ir=this,Rr=a.event.target.correspondingElement||a.event.target,Kr=Ir.parentNode,an=ue.of(Ir,arguments),Fr=0,Gr=kt(),Zr=".drag"+(Gr==null?"":"-"+Gr),ln,dn=a.select(Wt(Rr)).on(ar+Zr,Jn).on(sr+Zr,na),Xr=ze(Rr),Bn=mt(Kr,Gr);_e?(ln=_e.apply(Ir,arguments),ln=[ln.x-Bn[0],ln.y-Bn[1]]):ln=[0,0],an({type:"dragstart"});function Jn(){var ca=mt(Kr,Gr),Ea,Aa;ca&&(Ea=ca[0]-Bn[0],Aa=ca[1]-Bn[1],Fr|=Ea|Aa,Bn=ca,an({type:"drag",x:ca[0]+ln[0],y:ca[1]+ln[1],dx:Ea,dy:Aa}))}function na(){mt(Kr,Gr)&&(dn.on(ar+Zr,null).on(sr+Zr,null),Xr(Fr),an({type:"dragend"}))}}}return ot.origin=function(kt){return arguments.length?(_e=kt,ot):_e},a.rebind(ot,ue,"on")};function we(){return a.event.changedTouches[0].identifier}a.touches=function(ue,_e){return arguments.length<2&&(_e=ce().touches),_e?A(_e).map(function(Ye){var nt=Re(ue,Ye);return nt.identifier=Ye.identifier,nt}):[]};var ye=1e-6,Se=ye*ye,Me=Math.PI,He=2*Me,qe=He-ye,rt=Me/2,pt=Me/180,At=180/Me;function jt(ue,_e,Ye){return(_e[0]-ue[0])*(Ye[1]-ue[1])-(_e[1]-ue[1])*(Ye[0]-ue[0])}function tr(ue){return ue>1?rt:ue<-1?-rt:Math.asin(ue)}function Ct(ue){return((ue=Math.exp(ue))-1/ue)/2}function Nt(ue){return((ue=Math.exp(ue))+1/ue)/2}function Kt(ue){return((ue=Math.exp(2*ue))-1)/(ue+1)}var wr=Math.SQRT2,yt=2,$t=4;a.interpolateZoom=function(ue,_e){var Ye=ue[0],nt=ue[1],ot=ue[2],ft=_e[0],kt=_e[1],mt=_e[2],Wt=ft-Ye,ar=kt-nt,sr=Wt*Wt+ar*ar,Ir,Rr;if(sr<Se)Rr=Math.log(mt/ot)/wr,Ir=function(ln){return[Ye+ln*Wt,nt+ln*ar,ot*Math.exp(wr*ln*Rr)]};else{var Kr=Math.sqrt(sr),an=(mt*mt-ot*ot+$t*sr)/(2*ot*yt*Kr),Fr=(mt*mt-ot*ot-$t*sr)/(2*mt*yt*Kr),Gr=Math.log(Math.sqrt(an*an+1)-an),Zr=Math.log(Math.sqrt(Fr*Fr+1)-Fr);Rr=(Zr-Gr)/wr,Ir=function(ln){var dn=ln*Rr,Xr=Nt(Gr),Bn=ot/(yt*Kr)*(Xr*Kt(wr*dn+Gr)-Ct(Gr));return[Ye+Bn*Wt,nt+Bn*ar,ot*Xr/Nt(wr*dn+Gr)]}}return Ir.duration=Rr*1e3,Ir},a.behavior.zoom=function(){var ue={x:0,y:0,k:1},_e,Ye,nt,ot=[960,500],ft=er,kt=250,mt=0,Wt="mousedown.zoom",ar="mousemove.zoom",sr="mouseup.zoom",Ir,Rr="touchstart.zoom",Kr,an=Q(dn,"zoomstart","zoom","zoomend"),Fr,Gr,Zr,ln;vr||(vr="onwheel"in v?(mr=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(mr=function(){return a.event.wheelDelta},"mousewheel"):(mr=function(){return-a.event.detail},"MozMousePixelScroll"));function dn(Wn){Wn.on(Wt,Ga).on(vr+".zoom",ii).on("dblclick.zoom",di).on(Rr,ni)}dn.event=function(Wn){Wn.each(function(){var Ha=an.of(this,arguments),Na=ue;Dr?a.select(this).transition().each("start.zoom",function(){ue=this.__chart__||{x:0,y:0,k:1},Aa(Ha)}).tween("zoom:zoom",function(){var Xa=ot[0],Mi=ot[1],Oi=Ye?Ye[0]:Xa/2,Xi=Ye?Ye[1]:Mi/2,wi=a.interpolateZoom([(Oi-ue.x)/ue.k,(Xi-ue.y)/ue.k,Xa/ue.k],[(Oi-Na.x)/Na.k,(Xi-Na.y)/Na.k,Xa/Na.k]);return function(mi){var wa=wi(mi),Ca=Xa/wa[2];this.__chart__=ue={x:Oi-wa[0]*Ca,y:Xi-wa[1]*Ca,k:Ca},Ua(Ha)}}).each("interrupt.zoom",function(){Pa(Ha)}).each("end.zoom",function(){Pa(Ha)}):(this.__chart__=ue,Aa(Ha),Ua(Ha),Pa(Ha))})},dn.translate=function(Wn){return arguments.length?(ue={x:+Wn[0],y:+Wn[1],k:ue.k},Ea(),dn):[ue.x,ue.y]},dn.scale=function(Wn){return arguments.length?(ue={x:ue.x,y:ue.y,k:null},Jn(+Wn),Ea(),dn):ue.k},dn.scaleExtent=function(Wn){return arguments.length?(ft=Wn==null?er:[+Wn[0],+Wn[1]],dn):ft},dn.center=function(Wn){return arguments.length?(nt=Wn&&[+Wn[0],+Wn[1]],dn):nt},dn.size=function(Wn){return arguments.length?(ot=Wn&&[+Wn[0],+Wn[1]],dn):ot},dn.duration=function(Wn){return arguments.length?(kt=+Wn,dn):kt},dn.x=function(Wn){return arguments.length?(Gr=Wn,Fr=Wn.copy(),ue={x:0,y:0,k:1},dn):Gr},dn.y=function(Wn){return arguments.length?(ln=Wn,Zr=Wn.copy(),ue={x:0,y:0,k:1},dn):ln};function Xr(Wn){return[(Wn[0]-ue.x)/ue.k,(Wn[1]-ue.y)/ue.k]}function Bn(Wn){return[Wn[0]*ue.k+ue.x,Wn[1]*ue.k+ue.y]}function Jn(Wn){ue.k=Math.max(ft[0],Math.min(ft[1],Wn))}function na(Wn,Ha){Ha=Bn(Ha),ue.x+=Wn[0]-Ha[0],ue.y+=Wn[1]-Ha[1]}function ca(Wn,Ha,Na,Xa){Wn.__chart__={x:ue.x,y:ue.y,k:ue.k},Jn(Math.pow(2,Xa)),na(Ye=Ha,Na),Wn=a.select(Wn),kt>0&&(Wn=Wn.transition().duration(kt)),Wn.call(dn.event)}function Ea(){Gr&&Gr.domain(Fr.range().map(function(Wn){return(Wn-ue.x)/ue.k}).map(Fr.invert)),ln&&ln.domain(Zr.range().map(function(Wn){return(Wn-ue.y)/ue.k}).map(Zr.invert))}function Aa(Wn){mt++||Wn({type:"zoomstart"})}function Ua(Wn){Ea(),Wn({type:"zoom",scale:ue.k,translate:[ue.x,ue.y]})}function Pa(Wn){--mt||(Wn({type:"zoomend"}),Ye=null)}function Ga(){var Wn=this,Ha=an.of(Wn,arguments),Na=0,Xa=a.select(t(Wn)).on(ar,Xi).on(sr,wi),Mi=Xr(a.mouse(Wn)),Oi=ze(Wn);Gt.call(Wn),Aa(Ha);function Xi(){Na=1,na(a.mouse(Wn),Mi),Ua(Ha)}function wi(){Xa.on(ar,null).on(sr,null),Oi(Na),Pa(Ha)}}function ni(){var Wn=this,Ha=an.of(Wn,arguments),Na={},Xa=0,Mi,Oi=".zoom-"+a.event.changedTouches[0].identifier,Xi="touchmove"+Oi,wi="touchend"+Oi,mi=[],wa=a.select(Wn),Ca=ze(Wn);Gi(),Aa(Ha),wa.on(Wt,null).on(Rr,Gi);function Ai(){var to=a.touches(Wn);return Mi=ue.k,to.forEach(function(Ri){Ri.identifier in Na&&(Na[Ri.identifier]=Xr(Ri))}),to}function Gi(){var to=a.event.target;a.select(to).on(Xi,Wo).on(wi,ao),mi.push(to);for(var Ri=a.event.changedTouches,ps=0,oi=Ri.length;ps<oi;++ps)Na[Ri[ps].identifier]=null;var Ds=Ai(),rs=Date.now();if(Ds.length===1){if(rs-Kr<500){var ei=Ds[0];ca(Wn,ei,Na[ei.identifier],Math.floor(Math.log(ue.k)/Math.LN2)+1),ie()}Kr=rs}else if(Ds.length>1){var ei=Ds[0],Si=Ds[1],Mc=ei[0]-Si[0],Vf=ei[1]-Si[1];Xa=Mc*Mc+Vf*Vf}}function Wo(){var to=a.touches(Wn),Ri,ps,oi,Ds;Gt.call(Wn);for(var rs=0,ei=to.length;rs<ei;++rs,Ds=null)if(oi=to[rs],Ds=Na[oi.identifier]){if(ps)break;Ri=oi,ps=Ds}if(Ds){var Si=(Si=oi[0]-Ri[0])*Si+(Si=oi[1]-Ri[1])*Si,Mc=Xa&&Math.sqrt(Si/Xa);Ri=[(Ri[0]+oi[0])/2,(Ri[1]+oi[1])/2],ps=[(ps[0]+Ds[0])/2,(ps[1]+Ds[1])/2],Jn(Mc*Mi)}Kr=null,na(Ri,ps),Ua(Ha)}function ao(){if(a.event.touches.length){for(var to=a.event.changedTouches,Ri=0,ps=to.length;Ri<ps;++Ri)delete Na[to[Ri].identifier];for(var oi in Na)return void Ai()}a.selectAll(mi).on(Oi,null),wa.on(Wt,Ga).on(Rr,ni),Ca(),Pa(Ha)}}function ii(){var Wn=an.of(this,arguments);Ir?clearTimeout(Ir):(Gt.call(this),_e=Xr(Ye=nt||a.mouse(this)),Aa(Wn)),Ir=setTimeout(function(){Ir=null,Pa(Wn)},50),ie(),Jn(Math.pow(2,mr()*.002)*ue.k),na(Ye,_e),Ua(Wn)}function di(){var Wn=a.mouse(this),Ha=Math.log(ue.k)/Math.LN2;ca(this,Wn,Xr(Wn),a.event.shiftKey?Math.ceil(Ha)-1:Math.floor(Ha)+1)}return a.rebind(dn,an,"on")};var er=[0,1/0],mr,vr;a.color=bt;function bt(){}bt.prototype.toString=function(){return this.rgb()+""},a.hsl=ht;function ht(ue,_e,Ye){return this instanceof ht?(this.h=+ue,this.s=+_e,void(this.l=+Ye)):arguments.length<2?ue instanceof ht?new ht(ue.h,ue.s,ue.l):xr(""+ue,dr,ht):new ht(ue,_e,Ye)}var Tt=ht.prototype=new bt;Tt.brighter=function(ue){return ue=Math.pow(.7,arguments.length?ue:1),new ht(this.h,this.s,this.l/ue)},Tt.darker=function(ue){return ue=Math.pow(.7,arguments.length?ue:1),new ht(this.h,this.s,ue*this.l)},Tt.rgb=function(){return Pt(this.h,this.s,this.l)};function Pt(ue,_e,Ye){var nt,ot;ue=isNaN(ue)?0:(ue%=360)<0?ue+360:ue,_e=isNaN(_e)||_e<0?0:_e>1?1:_e,Ye=Ye<0?0:Ye>1?1:Ye,ot=Ye<=.5?Ye*(1+_e):Ye+_e-Ye*_e,nt=2*Ye-ot;function ft(mt){return mt>360?mt-=360:mt<0&&(mt+=360),mt<60?nt+(ot-nt)*mt/60:mt<180?ot:mt<240?nt+(ot-nt)*(240-mt)/60:nt}function kt(mt){return Math.round(ft(mt)*255)}return new ur(kt(ue+120),kt(ue),kt(ue-120))}a.hcl=zt;function zt(ue,_e,Ye){return this instanceof zt?(this.h=+ue,this.c=+_e,void(this.l=+Ye)):arguments.length<2?ue instanceof zt?new zt(ue.h,ue.c,ue.l):ue instanceof Ut?Ot(ue.l,ue.a,ue.b):Ot((ue=Wr((ue=a.rgb(ue)).r,ue.g,ue.b)).l,ue.a,ue.b):new zt(ue,_e,Ye)}var Dt=zt.prototype=new bt;Dt.brighter=function(ue){return new zt(this.h,this.c,Math.min(100,this.l+Qt*(arguments.length?ue:1)))},Dt.darker=function(ue){return new zt(this.h,this.c,Math.max(0,this.l-Qt*(arguments.length?ue:1)))},Dt.rgb=function(){return Vt(this.h,this.c,this.l).rgb()};function Vt(ue,_e,Ye){return isNaN(ue)&&(ue=0),isNaN(_e)&&(_e=0),new Ut(Ye,Math.cos(ue*=pt)*_e,Math.sin(ue)*_e)}a.lab=Ut;function Ut(ue,_e,Ye){return this instanceof Ut?(this.l=+ue,this.a=+_e,void(this.b=+Ye)):arguments.length<2?ue instanceof Ut?new Ut(ue.l,ue.a,ue.b):ue instanceof zt?Vt(ue.h,ue.c,ue.l):Wr((ue=ur(ue)).r,ue.g,ue.b):new Ut(ue,_e,Ye)}var Qt=18,hr=.95047,cr=1,lr=1.08883,Xe=Ut.prototype=new bt;Xe.brighter=function(ue){return new Ut(Math.min(100,this.l+Qt*(arguments.length?ue:1)),this.a,this.b)},Xe.darker=function(ue){return new Ut(Math.max(0,this.l-Qt*(arguments.length?ue:1)),this.a,this.b)},Xe.rgb=function(){return Ke(this.l,this.a,this.b)};function Ke(ue,_e,Ye){var nt=(ue+16)/116,ot=nt+_e/500,ft=nt-Ye/200;return ot=Lt(ot)*hr,nt=Lt(nt)*cr,ft=Lt(ft)*lr,new ur(rr(3.2404542*ot-1.5371385*nt-.4985314*ft),rr(-.969266*ot+1.8760108*nt+.041556*ft),rr(.0556434*ot-.2040259*nt+1.0572252*ft))}function Ot(ue,_e,Ye){return ue>0?new zt(Math.atan2(Ye,_e)*At,Math.sqrt(_e*_e+Ye*Ye),ue):new zt(NaN,NaN,ue)}function Lt(ue){return ue>.206893034?ue*ue*ue:(ue-.13793103448275862)/7.787037}function Xt(ue){return ue>.008856?Math.pow(ue,.3333333333333333):7.787037*ue+.13793103448275862}function rr(ue){return Math.round(255*(ue<=.00304?12.92*ue:1.055*Math.pow(ue,.4166666666666667)-.055))}a.rgb=ur;function ur(ue,_e,Ye){return this instanceof ur?(this.r=~~ue,this.g=~~_e,void(this.b=~~Ye)):arguments.length<2?ue instanceof ur?new ur(ue.r,ue.g,ue.b):xr(""+ue,ur,Pt):new ur(ue,_e,Ye)}function or(ue){return new ur(ue>>16,ue>>8&255,ue&255)}function Ht(ue){return or(ue)+""}var gr=ur.prototype=new bt;gr.brighter=function(ue){ue=Math.pow(.7,arguments.length?ue:1);var _e=this.r,Ye=this.g,nt=this.b,ot=30;return!_e&&!Ye&&!nt?new ur(ot,ot,ot):(_e&&_e<ot&&(_e=ot),Ye&&Ye<ot&&(Ye=ot),nt&&nt<ot&&(nt=ot),new ur(Math.min(255,_e/ue),Math.min(255,Ye/ue),Math.min(255,nt/ue)))},gr.darker=function(ue){return ue=Math.pow(.7,arguments.length?ue:1),new ur(ue*this.r,ue*this.g,ue*this.b)},gr.hsl=function(){return dr(this.r,this.g,this.b)},gr.toString=function(){return"#"+br(this.r)+br(this.g)+br(this.b)};function br(ue){return ue<16?"0"+Math.max(0,ue).toString(16):Math.min(255,ue).toString(16)}function xr(ue,_e,Ye){var nt=0,ot=0,ft=0,kt,mt,Wt;if(kt=/([a-z]+)\((.*)\)/.exec(ue=ue.toLowerCase()),kt)switch(mt=kt[2].split(","),kt[1]){case"hsl":return Ye(parseFloat(mt[0]),parseFloat(mt[1])/100,parseFloat(mt[2])/100);case"rgb":return _e(Ur(mt[0]),Ur(mt[1]),Ur(mt[2]))}return(Wt=yn.get(ue))?_e(Wt.r,Wt.g,Wt.b):(ue!=null&&ue.charAt(0)==="#"&&!isNaN(Wt=parseInt(ue.slice(1),16))&&(ue.length===4?(nt=(Wt&3840)>>4,nt=nt>>4|nt,ot=Wt&240,ot=ot>>4|ot,ft=Wt&15,ft=ft<<4|ft):ue.length===7&&(nt=(Wt&16711680)>>16,ot=(Wt&65280)>>8,ft=Wt&255)),_e(nt,ot,ft))}function dr(ue,_e,Ye){var nt=Math.min(ue/=255,_e/=255,Ye/=255),ot=Math.max(ue,_e,Ye),ft=ot-nt,kt,mt,Wt=(ot+nt)/2;return ft?(mt=Wt<.5?ft/(ot+nt):ft/(2-ot-nt),ue==ot?kt=(_e-Ye)/ft+(_e<Ye?6:0):_e==ot?kt=(Ye-ue)/ft+2:kt=(ue-_e)/ft+4,kt*=60):(kt=NaN,mt=Wt>0&&Wt<1?0:kt),new ht(kt,mt,Wt)}function Wr(ue,_e,Ye){ue=Br(ue),_e=Br(_e),Ye=Br(Ye);var nt=Xt((.4124564*ue+.3575761*_e+.1804375*Ye)/hr),ot=Xt((.2126729*ue+.7151522*_e+.072175*Ye)/cr),ft=Xt((.0193339*ue+.119192*_e+.9503041*Ye)/lr);return Ut(116*ot-16,500*(nt-ot),200*(ot-ft))}function Br(ue){return(ue/=255)<=.04045?ue/12.92:Math.pow((ue+.055)/1.055,2.4)}function Ur(ue){var _e=parseFloat(ue);return ue.charAt(ue.length-1)==="%"?Math.round(_e*2.55):_e}var yn=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});yn.forEach(function(ue,_e){yn.set(ue,or(_e))});function rn(ue){return typeof ue=="function"?ue:function(){return ue}}a.functor=rn,a.xhr=Un(N);function Un(ue){return function(_e,Ye,nt){return arguments.length===2&&typeof Ye=="function"&&(nt=Ye,Ye=null),bn(_e,Ye,ue,nt)}}function bn(ue,_e,Ye,nt){var ot={},ft=a.dispatch("beforesend","progress","load","error"),kt={},mt=new XMLHttpRequest,Wt=null;self.XDomainRequest&&!("withCredentials"in mt)&&/^(http(s)?:)?\/\//.test(ue)&&(mt=new XDomainRequest),"onload"in mt?mt.onload=mt.onerror=ar:mt.onreadystatechange=function(){mt.readyState>3&&ar()};function ar(){var sr=mt.status,Ir;if(!sr&&Pr(mt)||sr>=200&&sr<300||sr===304){try{Ir=Ye.call(ot,mt)}catch(Rr){ft.error.call(ot,Rr);return}ft.load.call(ot,Ir)}else ft.error.call(ot,mt)}return mt.onprogress=function(sr){var Ir=a.event;a.event=sr;try{ft.progress.call(ot,mt)}finally{a.event=Ir}},ot.header=function(sr,Ir){return sr=(sr+"").toLowerCase(),arguments.length<2?kt[sr]:(Ir==null?delete kt[sr]:kt[sr]=Ir+"",ot)},ot.mimeType=function(sr){return arguments.length?(_e=sr==null?null:sr+"",ot):_e},ot.responseType=function(sr){return arguments.length?(Wt=sr,ot):Wt},ot.response=function(sr){return Ye=sr,ot},["get","post"].forEach(function(sr){ot[sr]=function(){return ot.send.apply(ot,[sr].concat(A(arguments)))}}),ot.send=function(sr,Ir,Rr){if(arguments.length===2&&typeof Ir=="function"&&(Rr=Ir,Ir=null),mt.open(sr,ue,!0),_e!=null&&!("accept"in kt)&&(kt.accept=_e+",*/*"),mt.setRequestHeader)for(var Kr in kt)mt.setRequestHeader(Kr,kt[Kr]);return _e!=null&&mt.overrideMimeType&&mt.overrideMimeType(_e),Wt!=null&&(mt.responseType=Wt),Rr!=null&&ot.on("error",Rr).on("load",function(an){Rr(null,an)}),ft.beforesend.call(ot,mt),mt.send(Ir??null),ot},ot.abort=function(){return mt.abort(),ot},a.rebind(ot,ft,"on"),nt==null?ot:ot.get(Lr(nt))}function Lr(ue){return ue.length===1?function(_e,Ye){ue(_e==null?Ye:null)}:ue}function Pr(ue){var _e=ue.responseType;return _e&&_e!=="text"?ue.response:ue.responseText}a.dsv=function(ue,_e){var Ye=new RegExp('["'+ue+`
]`),nt=ue.charCodeAt(0);function ot(ar,sr,Ir){arguments.length<3&&(Ir=sr,sr=null);var Rr=bn(ar,_e,sr==null?ft:kt(sr),Ir);return Rr.row=function(Kr){return arguments.length?Rr.response((sr=Kr)==null?ft:kt(Kr)):sr},Rr}function ft(ar){return ot.parse(ar.responseText)}function kt(ar){return function(sr){return ot.parse(sr.responseText,ar)}}ot.parse=function(ar,sr){var Ir;return ot.parseRows(ar,function(Rr,Kr){if(Ir)return Ir(Rr,Kr-1);var an=function(Fr){for(var Gr={},Zr=Rr.length,ln=0;ln<Zr;++ln)Gr[Rr[ln]]=Fr[ln];return Gr};Ir=sr?function(Fr,Gr){return sr(an(Fr),Gr)}:an})},ot.parseRows=function(ar,sr){var Ir={},Rr={},Kr=[],an=ar.length,Fr=0,Gr=0,Zr,ln;function dn(){if(Fr>=an)return Rr;if(ln)return ln=!1,Ir;var Bn=Fr;if(ar.charCodeAt(Bn)===34){for(var Jn=Bn;Jn++<an;)if(ar.charCodeAt(Jn)===34){if(ar.charCodeAt(Jn+1)!==34)break;++Jn}Fr=Jn+2;var na=ar.charCodeAt(Jn+1);return na===13?(ln=!0,ar.charCodeAt(Jn+2)===10&&++Fr):na===10&&(ln=!0),ar.slice(Bn+1,Jn).replace(/""/g,'"')}for(;Fr<an;){var na=ar.charCodeAt(Fr++),ca=1;if(na===10)ln=!0;else if(na===13)ln=!0,ar.charCodeAt(Fr)===10&&(++Fr,++ca);else if(na!==nt)continue;return ar.slice(Bn,Fr-ca)}return ar.slice(Bn)}for(;(Zr=dn())!==Rr;){for(var Xr=[];Zr!==Ir&&Zr!==Rr;)Xr.push(Zr),Zr=dn();sr&&(Xr=sr(Xr,Gr++))==null||Kr.push(Xr)}return Kr},ot.format=function(ar){if(Array.isArray(ar[0]))return ot.formatRows(ar);var sr=new z,Ir=[];return ar.forEach(function(Rr){for(var Kr in Rr)sr.has(Kr)||Ir.push(sr.add(Kr))}),[Ir.map(Wt).join(ue)].concat(ar.map(function(Rr){return Ir.map(function(Kr){return Wt(Rr[Kr])}).join(ue)})).join(`
`)},ot.formatRows=function(ar){return ar.map(mt).join(`
`)};function mt(ar){return ar.map(Wt).join(ue)}function Wt(ar){return Ye.test(ar)?'"'+ar.replace(/\"/g,'""')+'"':ar}return ot},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("	","text/tab-separated-values");var Yr,Hr,en,cn,hn=this[O(this,"requestAnimationFrame")]||function(ue){setTimeout(ue,17)};a.timer=function(){Pn.apply(this,arguments)};function Pn(ue,_e,Ye){var nt=arguments.length;nt<2&&(_e=0),nt<3&&(Ye=Date.now());var ot=Ye+_e,ft={c:ue,t:ot,n:null};return Hr?Hr.n=ft:Yr=ft,Hr=ft,en||(cn=clearTimeout(cn),en=1,hn(kn)),ft}function kn(){var ue=sa(),_e=Xn()-ue;_e>24?(isFinite(_e)&&(clearTimeout(cn),cn=setTimeout(kn,_e)),en=0):(en=1,hn(kn))}a.timer.flush=function(){sa(),Xn()};function sa(){for(var ue=Date.now(),_e=Yr;_e;)ue>=_e.t&&_e.c(ue-_e.t)&&(_e.c=null),_e=_e.n;return ue}function Xn(){for(var ue,_e=Yr,Ye=1/0;_e;)_e.c?(_e.t<Ye&&(Ye=_e.t),_e=(ue=_e).n):_e=ue?ue.n=_e.n:Yr=_e.n;return Hr=ue,Ye}a.round=function(ue,_e){return _e?Math.round(ue*(_e=Math.pow(10,_e)))/_e:Math.round(ue)},a.geom={};function ea(ue){return ue[0]}function Zn(ue){return ue[1]}a.geom.hull=function(ue){var _e=ea,Ye=Zn;if(arguments.length)return nt(ue);function nt(ot){if(ot.length<3)return[];var ft=rn(_e),kt=rn(Ye),mt,Wt=ot.length,ar=[],sr=[];for(mt=0;mt<Wt;mt++)ar.push([+ft.call(this,ot[mt],mt),+kt.call(this,ot[mt],mt),mt]);for(ar.sort(Mr),mt=0;mt<Wt;mt++)sr.push([ar[mt][0],-ar[mt][1]]);var Ir=Qn(ar),Rr=Qn(sr),Kr=Rr[0]===Ir[0],an=Rr[Rr.length-1]===Ir[Ir.length-1],Fr=[];for(mt=Ir.length-1;mt>=0;--mt)Fr.push(ot[ar[Ir[mt]][2]]);for(mt=+Kr;mt<Rr.length-an;++mt)Fr.push(ot[ar[Rr[mt]][2]]);return Fr}return nt.x=function(ot){return arguments.length?(_e=ot,nt):_e},nt.y=function(ot){return arguments.length?(Ye=ot,nt):Ye},nt};function Qn(ue){for(var _e=ue.length,Ye=[0,1],nt=2,ot=2;ot<_e;ot++){for(;nt>1&&jt(ue[Ye[nt-2]],ue[Ye[nt-1]],ue[ot])<=0;)--nt;Ye[nt++]=ot}return Ye.slice(0,nt)}function Mr(ue,_e){return ue[0]-_e[0]||ue[1]-_e[1]}a.geom.polygon=function(ue){return Z(ue,on),ue};var on=a.geom.polygon.prototype=[];on.area=function(){for(var ue=-1,_e=this.length,Ye,nt=this[_e-1],ot=0;++ue<_e;)Ye=nt,nt=this[ue],ot+=Ye[1]*nt[0]-Ye[0]*nt[1];return ot*.5},on.centroid=function(ue){var _e=-1,Ye=this.length,nt=0,ot=0,ft,kt=this[Ye-1],mt;for(arguments.length||(ue=-1/(6*this.area()));++_e<Ye;)ft=kt,kt=this[_e],mt=ft[0]*kt[1]-kt[0]*ft[1],nt+=(ft[0]+kt[0])*mt,ot+=(ft[1]+kt[1])*mt;return[nt*ue,ot*ue]},on.clip=function(ue){for(var _e,Ye=Gn(ue),nt=-1,ot=this.length-Gn(this),ft,kt,mt=this[ot-1],Wt,ar,sr;++nt<ot;){for(_e=ue.slice(),ue.length=0,Wt=this[nt],ar=_e[(kt=_e.length-Ye)-1],ft=-1;++ft<kt;)sr=_e[ft],nn(sr,mt,Wt)?(nn(ar,mt,Wt)||ue.push(mn(ar,sr,mt,Wt)),ue.push(sr)):nn(ar,mt,Wt)&&ue.push(mn(ar,sr,mt,Wt)),ar=sr;Ye&&ue.push(ue[0]),mt=Wt}return ue};function nn(ue,_e,Ye){return(Ye[0]-_e[0])*(ue[1]-_e[1])<(Ye[1]-_e[1])*(ue[0]-_e[0])}function mn(ue,_e,Ye,nt){var ot=ue[0],ft=Ye[0],kt=_e[0]-ot,mt=nt[0]-ft,Wt=ue[1],ar=Ye[1],sr=_e[1]-Wt,Ir=nt[1]-ar,Rr=(mt*(Wt-ar)-Ir*(ot-ft))/(Ir*kt-mt*sr);return[ot+Rr*kt,Wt+Rr*sr]}function Gn(ue){var _e=ue[0],Ye=ue[ue.length-1];return!(_e[0]-Ye[0]||_e[1]-Ye[1])}var Mn,Ln,Hn,ra=[],ba,Za,Jt=[];function Er(){po(this),this.edge=this.site=this.circle=null}function qr(ue){var _e=ra.pop()||new Er;return _e.site=ue,_e}function sn(ue){Kn(ue),Hn.remove(ue),ra.push(ue),po(ue)}function fn(ue){var _e=ue.circle,Ye=_e.x,nt=_e.cy,ot={x:Ye,y:nt},ft=ue.P,kt=ue.N,mt=[ue];sn(ue);for(var Wt=ft;Wt.circle&&d(Ye-Wt.circle.x)<ye&&d(nt-Wt.circle.cy)<ye;)ft=Wt.P,mt.unshift(Wt),sn(Wt),Wt=ft;mt.unshift(Wt),Kn(Wt);for(var ar=kt;ar.circle&&d(Ye-ar.circle.x)<ye&&d(nt-ar.circle.cy)<ye;)kt=ar.N,mt.push(ar),sn(ar),ar=kt;mt.push(ar),Kn(ar);var sr=mt.length,Ir;for(Ir=1;Ir<sr;++Ir)ar=mt[Ir],Wt=mt[Ir-1],ma(ar.edge,Wt.site,ar.site,ot);Wt=mt[0],ar=mt[sr-1],ar.edge=ha(Wt.site,ar.site,null,ot),Fn(Wt),Fn(ar)}function Cn(ue){for(var _e=ue.x,Ye=ue.y,nt,ot,ft,kt,mt=Hn._;mt;)if(ft=En(mt,Ye)-_e,ft>ye)mt=mt.L;else if(kt=_e-pn(mt,Ye),kt>ye){if(!mt.R){nt=mt;break}mt=mt.R}else{ft>-ye?(nt=mt.P,ot=mt):kt>-ye?(nt=mt,ot=mt.N):nt=ot=mt;break}var Wt=qr(ue);if(Hn.insert(nt,Wt),!(!nt&&!ot)){if(nt===ot){Kn(nt),ot=qr(nt.site),Hn.insert(Wt,ot),Wt.edge=ot.edge=ha(nt.site,Wt.site),Fn(nt),Fn(ot);return}if(!ot){Wt.edge=ha(nt.site,Wt.site);return}Kn(nt),Kn(ot);var ar=nt.site,sr=ar.x,Ir=ar.y,Rr=ue.x-sr,Kr=ue.y-Ir,an=ot.site,Fr=an.x-sr,Gr=an.y-Ir,Zr=2*(Rr*Gr-Kr*Fr),ln=Rr*Rr+Kr*Kr,dn=Fr*Fr+Gr*Gr,Xr={x:(Gr*ln-Kr*dn)/Zr+sr,y:(Rr*dn-Fr*ln)/Zr+Ir};ma(ot.edge,ar,an,Xr),Wt.edge=ha(ar,ue,null,Xr),ot.edge=ha(ue,an,null,Xr),Fn(nt),Fn(ot)}}function En(ue,_e){var Ye=ue.site,nt=Ye.x,ot=Ye.y,ft=ot-_e;if(!ft)return nt;var kt=ue.P;if(!kt)return-1/0;Ye=kt.site;var mt=Ye.x,Wt=Ye.y,ar=Wt-_e;if(!ar)return mt;var sr=mt-nt,Ir=1/ft-1/ar,Rr=sr/ar;return Ir?(-Rr+Math.sqrt(Rr*Rr-2*Ir*(sr*sr/(-2*ar)-Wt+ar/2+ot-ft/2)))/Ir+nt:(nt+mt)/2}function pn(ue,_e){var Ye=ue.N;if(Ye)return En(Ye,_e);var nt=ue.site;return nt.y===_e?nt.x:1/0}function zr(ue){this.site=ue,this.edges=[]}zr.prototype.prepare=function(){for(var ue=this.edges,_e=ue.length,Ye;_e--;)Ye=ue[_e].edge,(!Ye.b||!Ye.a)&&ue.splice(_e,1);return ue.sort(Nr),ue.length};function _r(ue){for(var _e=ue[0][0],Ye=ue[1][0],nt=ue[0][1],ot=ue[1][1],ft,kt,mt,Wt,ar=Ln,sr=ar.length,Ir,Rr,Kr,an,Fr,Gr;sr--;)if(Ir=ar[sr],!(!Ir||!Ir.prepare()))for(Kr=Ir.edges,an=Kr.length,Rr=0;Rr<an;)Gr=Kr[Rr].end(),mt=Gr.x,Wt=Gr.y,Fr=Kr[++Rr%an].start(),ft=Fr.x,kt=Fr.y,(d(mt-ft)>ye||d(Wt-kt)>ye)&&(Kr.splice(Rr,0,new _i(la(Ir.site,Gr,d(mt-_e)<ye&&ot-Wt>ye?{x:_e,y:d(ft-_e)<ye?kt:ot}:d(Wt-ot)<ye&&Ye-mt>ye?{x:d(kt-ot)<ye?ft:Ye,y:ot}:d(mt-Ye)<ye&&Wt-nt>ye?{x:Ye,y:d(ft-Ye)<ye?kt:nt}:d(Wt-nt)<ye&&mt-_e>ye?{x:d(kt-nt)<ye?ft:_e,y:nt}:null),Ir.site,null)),++an)}function Nr(ue,_e){return _e.angle-ue.angle}function vn(){po(this),this.x=this.y=this.arc=this.site=this.cy=null}function Fn(ue){var _e=ue.P,Ye=ue.N;if(!(!_e||!Ye)){var nt=_e.site,ot=ue.site,ft=Ye.site;if(nt!==ft){var kt=ot.x,mt=ot.y,Wt=nt.x-kt,ar=nt.y-mt,sr=ft.x-kt,Gr=ft.y-mt,Ir=2*(Wt*Gr-ar*sr);if(!(Ir>=-Se)){var Rr=Wt*Wt+ar*ar,Kr=sr*sr+Gr*Gr,an=(Gr*Rr-ar*Kr)/Ir,Fr=(Wt*Kr-sr*Rr)/Ir,Gr=Fr+mt,Zr=Jt.pop()||new vn;Zr.arc=ue,Zr.site=ot,Zr.x=an+kt,Zr.y=Gr+Math.sqrt(an*an+Fr*Fr),Zr.cy=Gr,ue.circle=Zr;for(var ln=null,dn=Za._;dn;)if(Zr.y<dn.y||Zr.y===dn.y&&Zr.x<=dn.x)if(dn.L)dn=dn.L;else{ln=dn.P;break}else if(dn.R)dn=dn.R;else{ln=dn;break}Za.insert(ln,Zr),ln||(ba=Zr)}}}}function Kn(ue){var _e=ue.circle;_e&&(_e.P||(ba=_e.N),Za.remove(_e),Jt.push(_e),po(_e),ue.circle=null)}function xn(ue,_e,Ye,nt){return function(ot){var ft=ot.a,kt=ot.b,mt=ft.x,Wt=ft.y,ar=kt.x,sr=kt.y,Ir=0,Rr=1,Kr=ar-mt,an=sr-Wt,Fr;if(Fr=ue-mt,!(!Kr&&Fr>0)){if(Fr/=Kr,Kr<0){if(Fr<Ir)return;Fr<Rr&&(Rr=Fr)}else if(Kr>0){if(Fr>Rr)return;Fr>Ir&&(Ir=Fr)}if(Fr=Ye-mt,!(!Kr&&Fr<0)){if(Fr/=Kr,Kr<0){if(Fr>Rr)return;Fr>Ir&&(Ir=Fr)}else if(Kr>0){if(Fr<Ir)return;Fr<Rr&&(Rr=Fr)}if(Fr=_e-Wt,!(!an&&Fr>0)){if(Fr/=an,an<0){if(Fr<Ir)return;Fr<Rr&&(Rr=Fr)}else if(an>0){if(Fr>Rr)return;Fr>Ir&&(Ir=Fr)}if(Fr=nt-Wt,!(!an&&Fr<0)){if(Fr/=an,an<0){if(Fr>Rr)return;Fr>Ir&&(Ir=Fr)}else if(an>0){if(Fr<Ir)return;Fr<Rr&&(Rr=Fr)}return Ir>0&&(ot.a={x:mt+Ir*Kr,y:Wt+Ir*an}),Rr<1&&(ot.b={x:mt+Rr*Kr,y:Wt+Rr*an}),ot}}}}}}function Vn(ue){for(var _e=Mn,Ye=xn(ue[0][0],ue[0][1],ue[1][0],ue[1][1]),nt=_e.length,ot;nt--;)ot=_e[nt],(!aa(ot,ue)||!Ye(ot)||d(ot.a.x-ot.b.x)<ye&&d(ot.a.y-ot.b.y)<ye)&&(ot.a=ot.b=null,_e.splice(nt,1))}function aa(ue,_e){var Ye=ue.b;if(Ye)return!0;var nt=ue.a,ot=_e[0][0],ft=_e[1][0],kt=_e[0][1],mt=_e[1][1],Wt=ue.l,ar=ue.r,sr=Wt.x,Ir=Wt.y,Rr=ar.x,Kr=ar.y,an=(sr+Rr)/2,Fr=(Ir+Kr)/2,Gr,Zr;if(Kr===Ir){if(an<ot||an>=ft)return;if(sr>Rr){if(!nt)nt={x:an,y:kt};else if(nt.y>=mt)return;Ye={x:an,y:mt}}else{if(!nt)nt={x:an,y:mt};else if(nt.y<kt)return;Ye={x:an,y:kt}}}else if(Gr=(sr-Rr)/(Kr-Ir),Zr=Fr-Gr*an,Gr<-1||Gr>1)if(sr>Rr){if(!nt)nt={x:(kt-Zr)/Gr,y:kt};else if(nt.y>=mt)return;Ye={x:(mt-Zr)/Gr,y:mt}}else{if(!nt)nt={x:(mt-Zr)/Gr,y:mt};else if(nt.y<kt)return;Ye={x:(kt-Zr)/Gr,y:kt}}else if(Ir<Kr){if(!nt)nt={x:ot,y:Gr*ot+Zr};else if(nt.x>=ft)return;Ye={x:ft,y:Gr*ft+Zr}}else{if(!nt)nt={x:ft,y:Gr*ft+Zr};else if(nt.x<ot)return;Ye={x:ot,y:Gr*ot+Zr}}return ue.a=nt,ue.b=Ye,!0}function va(ue,_e){this.l=ue,this.r=_e,this.a=this.b=null}function ha(ue,_e,Ye,nt){var ot=new va(ue,_e);return Mn.push(ot),Ye&&ma(ot,ue,_e,Ye),nt&&ma(ot,_e,ue,nt),Ln[ue.i].edges.push(new _i(ot,ue,_e)),Ln[_e.i].edges.push(new _i(ot,_e,ue)),ot}function la(ue,_e,Ye){var nt=new va(ue,null);return nt.a=_e,nt.b=Ye,Mn.push(nt),nt}function ma(ue,_e,Ye,nt){!ue.a&&!ue.b?(ue.a=nt,ue.l=_e,ue.r=Ye):ue.l===Ye?ue.b=nt:ue.a=nt}function _i(ue,_e,Ye){var nt=ue.a,ot=ue.b;this.edge=ue,this.site=_e,this.angle=Ye?Math.atan2(Ye.y-_e.y,Ye.x-_e.x):ue.l===_e?Math.atan2(ot.x-nt.x,nt.y-ot.y):Math.atan2(nt.x-ot.x,ot.y-nt.y)}_i.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function Ji(){this._=null}function po(ue){ue.U=ue.C=ue.L=ue.R=ue.P=ue.N=null}Ji.prototype={insert:function(ue,_e){var Ye,nt,ot;if(ue){if(_e.P=ue,_e.N=ue.N,ue.N&&(ue.N.P=_e),ue.N=_e,ue.R){for(ue=ue.R;ue.L;)ue=ue.L;ue.L=_e}else ue.R=_e;Ye=ue}else this._?(ue=gu(this._),_e.P=null,_e.N=ue,ue.P=ue.L=_e,Ye=ue):(_e.P=_e.N=null,this._=_e,Ye=null);for(_e.L=_e.R=null,_e.U=Ye,_e.C=!0,ue=_e;Ye&&Ye.C;)nt=Ye.U,Ye===nt.L?(ot=nt.R,ot&&ot.C?(Ye.C=ot.C=!1,nt.C=!0,ue=nt):(ue===Ye.R&&(Ro(this,Ye),ue=Ye,Ye=ue.U),Ye.C=!1,nt.C=!0,Qi(this,nt))):(ot=nt.L,ot&&ot.C?(Ye.C=ot.C=!1,nt.C=!0,ue=nt):(ue===Ye.L&&(Qi(this,Ye),ue=Ye,Ye=ue.U),Ye.C=!1,nt.C=!0,Ro(this,nt))),Ye=ue.U;this._.C=!1},remove:function(ue){ue.N&&(ue.N.P=ue.P),ue.P&&(ue.P.N=ue.N),ue.N=ue.P=null;var _e=ue.U,Ye,nt=ue.L,ot=ue.R,ft,kt;if(nt?ot?ft=gu(ot):ft=nt:ft=ot,_e?_e.L===ue?_e.L=ft:_e.R=ft:this._=ft,nt&&ot?(kt=ft.C,ft.C=ue.C,ft.L=nt,nt.U=ft,ft!==ot?(_e=ft.U,ft.U=ue.U,ue=ft.R,_e.L=ue,ft.R=ot,ot.U=ft):(ft.U=_e,_e=ft,ue=ft.R)):(kt=ue.C,ue=ft),ue&&(ue.U=_e),!kt){if(ue&&ue.C){ue.C=!1;return}do{if(ue===this._)break;if(ue===_e.L){if(Ye=_e.R,Ye.C&&(Ye.C=!1,_e.C=!0,Ro(this,_e),Ye=_e.R),Ye.L&&Ye.L.C||Ye.R&&Ye.R.C){(!Ye.R||!Ye.R.C)&&(Ye.L.C=!1,Ye.C=!0,Qi(this,Ye),Ye=_e.R),Ye.C=_e.C,_e.C=Ye.R.C=!1,Ro(this,_e),ue=this._;break}}else if(Ye=_e.L,Ye.C&&(Ye.C=!1,_e.C=!0,Qi(this,_e),Ye=_e.L),Ye.L&&Ye.L.C||Ye.R&&Ye.R.C){(!Ye.L||!Ye.L.C)&&(Ye.R.C=!1,Ye.C=!0,Ro(this,Ye),Ye=_e.L),Ye.C=_e.C,_e.C=Ye.L.C=!1,Qi(this,_e),ue=this._;break}Ye.C=!0,ue=_e,_e=_e.U}while(!ue.C);ue&&(ue.C=!1)}}};function Ro(ue,_e){var Ye=_e,nt=_e.R,ot=Ye.U;ot?ot.L===Ye?ot.L=nt:ot.R=nt:ue._=nt,nt.U=ot,Ye.U=nt,Ye.R=nt.L,Ye.R&&(Ye.R.U=Ye),nt.L=Ye}function Qi(ue,_e){var Ye=_e,nt=_e.L,ot=Ye.U;ot?ot.L===Ye?ot.L=nt:ot.R=nt:ue._=nt,nt.U=ot,Ye.U=nt,Ye.L=nt.R,Ye.L&&(Ye.L.U=Ye),nt.R=Ye}function gu(ue){for(;ue.L;)ue=ue.L;return ue}function qa(ue,_e){var Ye=ue.sort(yu).pop(),nt,ot,ft;for(Mn=[],Ln=new Array(ue.length),Hn=new Ji,Za=new Ji;;)if(ft=ba,Ye&&(!ft||Ye.y<ft.y||Ye.y===ft.y&&Ye.x<ft.x))(Ye.x!==nt||Ye.y!==ot)&&(Ln[Ye.i]=new zr(Ye),Cn(Ye),nt=Ye.x,ot=Ye.y),Ye=ue.pop();else if(ft)fn(ft.arc);else break;_e&&(Vn(_e),_r(_e));var kt={cells:Ln,edges:Mn};return Hn=Za=Mn=Ln=null,kt}function yu(ue,_e){return _e.y-ue.y||_e.x-ue.x}a.geom.voronoi=function(ue){var _e=ea,Ye=Zn,nt=_e,ot=Ye,ft=Ml;if(ue)return kt(ue);function kt(Wt){var ar=new Array(Wt.length),sr=ft[0][0],Ir=ft[0][1],Rr=ft[1][0],Kr=ft[1][1];return qa(mt(Wt),ft).cells.forEach(function(an,Fr){var Gr=an.edges,Zr=an.site,ln=ar[Fr]=Gr.length?Gr.map(function(dn){var Xr=dn.start();return[Xr.x,Xr.y]}):Zr.x>=sr&&Zr.x<=Rr&&Zr.y>=Ir&&Zr.y<=Kr?[[sr,Kr],[Rr,Kr],[Rr,Ir],[sr,Ir]]:[];ln.point=Wt[Fr]}),ar}function mt(Wt){return Wt.map(function(ar,sr){return{x:Math.round(nt(ar,sr)/ye)*ye,y:Math.round(ot(ar,sr)/ye)*ye,i:sr}})}return kt.links=function(Wt){return qa(mt(Wt)).edges.filter(function(ar){return ar.l&&ar.r}).map(function(ar){return{source:Wt[ar.l.i],target:Wt[ar.r.i]}})},kt.triangles=function(Wt){var ar=[];return qa(mt(Wt)).cells.forEach(function(sr,Ir){for(var Rr=sr.site,Kr=sr.edges.sort(Nr),an=-1,Fr=Kr.length,Gr,Zr=Kr[Fr-1].edge,ln=Zr.l===Rr?Zr.r:Zr.l;++an<Fr;)Gr=ln,Zr=Kr[an].edge,ln=Zr.l===Rr?Zr.r:Zr.l,Ir<Gr.i&&Ir<ln.i&&qi(Rr,Gr,ln)<0&&ar.push([Wt[Ir],Wt[Gr.i],Wt[ln.i]])}),ar},kt.x=function(Wt){return arguments.length?(nt=rn(_e=Wt),kt):_e},kt.y=function(Wt){return arguments.length?(ot=rn(Ye=Wt),kt):Ye},kt.clipExtent=function(Wt){return arguments.length?(ft=Wt??Ml,kt):ft===Ml?null:ft},kt.size=function(Wt){return arguments.length?kt.clipExtent(Wt&&[[0,0],Wt]):ft===Ml?null:ft&&ft[1]},kt};var Ml=[[-1e6,-1e6],[1e6,1e6]];function qi(ue,_e,Ye){return(ue.x-Ye.x)*(_e.y-ue.y)-(ue.x-_e.x)*(Ye.y-ue.y)}a.geom.delaunay=function(ue){return a.geom.voronoi().triangles(ue)},a.geom.quadtree=function(ue,_e,Ye,nt,ot){var ft=ea,kt=Zn,mt;if(mt=arguments.length)return ft=bo,kt=lc,mt===3&&(ot=Ye,nt=_e,Ye=_e=0),Wt(ue);function Wt(ar){var sr,Ir=rn(ft),Rr=rn(kt),Kr,an,Fr,Gr,Zr,ln,dn,Xr;if(_e!=null)Zr=_e,ln=Ye,dn=nt,Xr=ot;else if(dn=Xr=-(Zr=ln=1/0),Kr=[],an=[],Gr=ar.length,mt)for(Fr=0;Fr<Gr;++Fr)sr=ar[Fr],sr.x<Zr&&(Zr=sr.x),sr.y<ln&&(ln=sr.y),sr.x>dn&&(dn=sr.x),sr.y>Xr&&(Xr=sr.y),Kr.push(sr.x),an.push(sr.y);else for(Fr=0;Fr<Gr;++Fr){var Bn=+Ir(sr=ar[Fr],Fr),Jn=+Rr(sr,Fr);Bn<Zr&&(Zr=Bn),Jn<ln&&(ln=Jn),Bn>dn&&(dn=Bn),Jn>Xr&&(Xr=Jn),Kr.push(Bn),an.push(Jn)}var na=dn-Zr,ca=Xr-ln;na>ca?Xr=ln+na:dn=Zr+ca;function Ea(Pa,Ga,ni,ii,di,Wn,Ha,Na){if(!(isNaN(ni)||isNaN(ii)))if(Pa.leaf){var Xa=Pa.x,Mi=Pa.y;if(Xa!=null)if(d(Xa-ni)+d(Mi-ii)<.01)Aa(Pa,Ga,ni,ii,di,Wn,Ha,Na);else{var Oi=Pa.point;Pa.x=Pa.y=Pa.point=null,Aa(Pa,Oi,Xa,Mi,di,Wn,Ha,Na),Aa(Pa,Ga,ni,ii,di,Wn,Ha,Na)}else Pa.x=ni,Pa.y=ii,Pa.point=Ga}else Aa(Pa,Ga,ni,ii,di,Wn,Ha,Na)}function Aa(Pa,Ga,ni,ii,di,Wn,Ha,Na){var Xa=(di+Ha)*.5,Mi=(Wn+Na)*.5,Oi=ni>=Xa,Xi=ii>=Mi,wi=Xi<<1|Oi;Pa.leaf=!1,Pa=Pa.nodes[wi]||(Pa.nodes[wi]=mu()),Oi?di=Xa:Ha=Xa,Xi?Wn=Mi:Na=Mi,Ea(Pa,Ga,ni,ii,di,Wn,Ha,Na)}var Ua=mu();if(Ua.add=function(Pa){Ea(Ua,Pa,+Ir(Pa,++Fr),+Rr(Pa,Fr),Zr,ln,dn,Xr)},Ua.visit=function(Pa){ki(Pa,Ua,Zr,ln,dn,Xr)},Ua.find=function(Pa){return $l(Ua,Pa[0],Pa[1],Zr,ln,dn,Xr)},Fr=-1,_e==null){for(;++Fr<Gr;)Ea(Ua,ar[Fr],Kr[Fr],an[Fr],Zr,ln,dn,Xr);--Fr}else ar.forEach(Ua.add);return Kr=an=ar=sr=null,Ua}return Wt.x=function(ar){return arguments.length?(ft=ar,Wt):ft},Wt.y=function(ar){return arguments.length?(kt=ar,Wt):kt},Wt.extent=function(ar){return arguments.length?(ar==null?_e=Ye=nt=ot=null:(_e=+ar[0][0],Ye=+ar[0][1],nt=+ar[1][0],ot=+ar[1][1]),Wt):_e==null?null:[[_e,Ye],[nt,ot]]},Wt.size=function(ar){return arguments.length?(ar==null?_e=Ye=nt=ot=null:(_e=Ye=0,nt=+ar[0],ot=+ar[1]),Wt):_e==null?null:[nt-_e,ot-Ye]},Wt};function bo(ue){return ue.x}function lc(ue){return ue.y}function mu(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function ki(ue,_e,Ye,nt,ot,ft){if(!ue(_e,Ye,nt,ot,ft)){var kt=(Ye+ot)*.5,mt=(nt+ft)*.5,Wt=_e.nodes;Wt[0]&&ki(ue,Wt[0],Ye,nt,kt,mt),Wt[1]&&ki(ue,Wt[1],kt,nt,ot,mt),Wt[2]&&ki(ue,Wt[2],Ye,mt,kt,ft),Wt[3]&&ki(ue,Wt[3],kt,mt,ot,ft)}}function $l(ue,_e,Ye,nt,ot,ft,kt){var mt=1/0,Wt;return function ar(sr,Ir,Rr,Kr,an){if(!(Ir>ft||Rr>kt||Kr<nt||an<ot)){if(Fr=sr.point){var Fr,Gr=_e-sr.x,Zr=Ye-sr.y,ln=Gr*Gr+Zr*Zr;if(ln<mt){var dn=Math.sqrt(mt=ln);nt=_e-dn,ot=Ye-dn,ft=_e+dn,kt=Ye+dn,Wt=Fr}}for(var Xr=sr.nodes,Bn=(Ir+Kr)*.5,Jn=(Rr+an)*.5,na=_e>=Bn,ca=Ye>=Jn,Ea=ca<<1|na,Aa=Ea+4;Ea<Aa;++Ea)if(sr=Xr[Ea&3])switch(Ea&3){case 0:ar(sr,Ir,Rr,Bn,Jn);break;case 1:ar(sr,Bn,Rr,Kr,Jn);break;case 2:ar(sr,Ir,Jn,Bn,an);break;case 3:ar(sr,Bn,Jn,Kr,an);break}}}(ue,nt,ot,ft,kt),Wt}a.interpolateRgb=ro;function ro(ue,_e){ue=a.rgb(ue),_e=a.rgb(_e);var Ye=ue.r,nt=ue.g,ot=ue.b,ft=_e.r-Ye,kt=_e.g-nt,mt=_e.b-ot;return function(Wt){return"#"+br(Math.round(Ye+ft*Wt))+br(Math.round(nt+kt*Wt))+br(Math.round(ot+mt*Wt))}}a.interpolateObject=eo;function eo(ue,_e){var Ye={},nt={},ot;for(ot in ue)ot in _e?Ye[ot]=qo(ue[ot],_e[ot]):nt[ot]=ue[ot];for(ot in _e)ot in ue||(nt[ot]=_e[ot]);return function(ft){for(ot in Ye)nt[ot]=Ye[ot](ft);return nt}}a.interpolateNumber=Ho;function Ho(ue,_e){return ue=+ue,_e=+_e,function(Ye){return ue*(1-Ye)+_e*Ye}}a.interpolateString=so;function so(ue,_e){var Ye=Jo.lastIndex=Qo.lastIndex=0,nt,ot,ft,kt=-1,mt=[],Wt=[];for(ue=ue+"",_e=_e+"";(nt=Jo.exec(ue))&&(ot=Qo.exec(_e));)(ft=ot.index)>Ye&&(ft=_e.slice(Ye,ft),mt[kt]?mt[kt]+=ft:mt[++kt]=ft),(nt=nt[0])===(ot=ot[0])?mt[kt]?mt[kt]+=ot:mt[++kt]=ot:(mt[++kt]=null,Wt.push({i:kt,x:Ho(nt,ot)})),Ye=Qo.lastIndex;return Ye<_e.length&&(ft=_e.slice(Ye),mt[kt]?mt[kt]+=ft:mt[++kt]=ft),mt.length<2?Wt[0]?(_e=Wt[0].x,function(ar){return _e(ar)+""}):function(){return _e}:(_e=Wt.length,function(ar){for(var sr=0,Ir;sr<_e;++sr)mt[(Ir=Wt[sr]).i]=Ir.x(ar);return mt.join("")})}var Jo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qo=new RegExp(Jo.source,"g");a.interpolate=qo;function qo(ue,_e){for(var Ye=a.interpolators.length,nt;--Ye>=0&&!(nt=a.interpolators[Ye](ue,_e)););return nt}a.interpolators=[function(ue,_e){var Ye=typeof _e;return(Ye==="string"?yn.has(_e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(_e)?ro:so:_e instanceof bt?ro:Array.isArray(_e)?lo:Ye==="object"&&isNaN(_e)?eo:Ho)(ue,_e)}],a.interpolateArray=lo;function lo(ue,_e){var Ye=[],nt=[],ot=ue.length,ft=_e.length,kt=Math.min(ue.length,_e.length),mt;for(mt=0;mt<kt;++mt)Ye.push(qo(ue[mt],_e[mt]));for(;mt<ot;++mt)nt[mt]=ue[mt];for(;mt<ft;++mt)nt[mt]=_e[mt];return function(Wt){for(mt=0;mt<kt;++mt)nt[mt]=Ye[mt](Wt);return nt}}var Xu=function(){return N},Es=a.map({linear:Xu,poly:Cl,quad:function(){return xu},cubic:function(){return xf},sin:function(){return uc},exp:function(){return bu},circle:function(){return bf},elastic:wf,back:fc,bounce:function(){return Hc}}),Zi=a.map({in:N,out:Ms,"in-out":es,"out-in":function(ue){return es(Ms(ue))}});a.ease=function(ue){var _e=ue.indexOf("-"),Ye=_e>=0?ue.slice(0,_e):ue,nt=_e>=0?ue.slice(_e+1):"in";return Ye=Es.get(Ye)||Xu,nt=Zi.get(nt)||N,mf(nt(Ye.apply(null,C.call(arguments,1))))};function mf(ue){return function(_e){return _e<=0?0:_e>=1?1:ue(_e)}}function Ms(ue){return function(_e){return 1-ue(1-_e)}}function es(ue){return function(_e){return .5*(_e<.5?ue(2*_e):2-ue(2-2*_e))}}function xu(ue){return ue*ue}function xf(ue){return ue*ue*ue}function Uc(ue){if(ue<=0)return 0;if(ue>=1)return 1;var _e=ue*ue,Ye=_e*ue;return 4*(ue<.5?Ye:3*(ue-_e)+Ye-.75)}function Cl(ue){return function(_e){return Math.pow(_e,ue)}}function uc(ue){return 1-Math.cos(ue*rt)}function bu(ue){return Math.pow(2,10*(ue-1))}function bf(ue){return 1-Math.sqrt(1-ue*ue)}function wf(ue,_e){var Ye;return arguments.length<2&&(_e=.45),arguments.length?Ye=_e/He*Math.asin(1/ue):(ue=1,Ye=_e/4),function(nt){return 1+ue*Math.pow(2,-10*nt)*Math.sin((nt-Ye)*He/_e)}}function fc(ue){return ue||(ue=1.70158),function(_e){return _e*_e*((ue+1)*_e-ue)}}function Hc(ue){return ue<.36363636363636365?7.5625*ue*ue:ue<.7272727272727273?7.5625*(ue-=.5454545454545454)*ue+.75:ue<.9090909090909091?7.5625*(ue-=.8181818181818182)*ue+.9375:7.5625*(ue-=.9545454545454546)*ue+.984375}a.interpolateHcl=cc;function cc(ue,_e){ue=a.hcl(ue),_e=a.hcl(_e);var Ye=ue.h,nt=ue.c,ot=ue.l,ft=_e.h-Ye,kt=_e.c-nt,mt=_e.l-ot;return isNaN(kt)&&(kt=0,nt=isNaN(nt)?_e.c:nt),isNaN(ft)?(ft=0,Ye=isNaN(Ye)?_e.h:Ye):ft>180?ft-=360:ft<-180&&(ft+=360),function(Wt){return Vt(Ye+ft*Wt,nt+kt*Wt,ot+mt*Wt)+""}}a.interpolateHsl=hc;function hc(ue,_e){ue=a.hsl(ue),_e=a.hsl(_e);var Ye=ue.h,nt=ue.s,ot=ue.l,ft=_e.h-Ye,kt=_e.s-nt,mt=_e.l-ot;return isNaN(kt)&&(kt=0,nt=isNaN(nt)?_e.s:nt),isNaN(ft)?(ft=0,Ye=isNaN(Ye)?_e.h:Ye):ft>180?ft-=360:ft<-180&&(ft+=360),function(Wt){return Pt(Ye+ft*Wt,nt+kt*Wt,ot+mt*Wt)+""}}a.interpolateLab=Jl;function Jl(ue,_e){ue=a.lab(ue),_e=a.lab(_e);var Ye=ue.l,nt=ue.a,ot=ue.b,ft=_e.l-Ye,kt=_e.a-nt,mt=_e.b-ot;return function(Wt){return Ke(Ye+ft*Wt,nt+kt*Wt,ot+mt*Wt)+""}}a.interpolateRound=Tf;function Tf(ue,_e){return _e-=ue,function(Ye){return Math.round(ue+_e*Ye)}}a.transform=function(ue){var _e=v.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(Ye){if(Ye!=null){_e.setAttribute("transform",Ye);var nt=_e.transform.baseVal.consolidate()}return new Ll(nt?nt.matrix:vc)})(ue)};function Ll(ue){var _e=[ue.a,ue.b],Ye=[ue.c,ue.d],nt=_l(_e),ot=Pl(_e,Ye),ft=_l(wu(Ye,_e,-ot))||0;_e[0]*Ye[1]<Ye[0]*_e[1]&&(_e[0]*=-1,_e[1]*=-1,nt*=-1,ot*=-1),this.rotate=(nt?Math.atan2(_e[1],_e[0]):Math.atan2(-Ye[0],Ye[1]))*At,this.translate=[ue.e,ue.f],this.scale=[nt,ft],this.skew=ft?Math.atan2(ot,ft)*At:0}Ll.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Pl(ue,_e){return ue[0]*_e[0]+ue[1]*_e[1]}function _l(ue){var _e=Math.sqrt(Pl(ue,ue));return _e&&(ue[0]/=_e,ue[1]/=_e),_e}function wu(ue,_e,Ye){return ue[0]+=Ye*_e[0],ue[1]+=Ye*_e[1],ue}var vc={a:1,b:0,c:0,d:1,e:0,f:0};a.interpolateTransform=Rl;function Ws(ue){return ue.length?ue.pop()+",":""}function Af(ue,_e,Ye,nt){if(ue[0]!==_e[0]||ue[1]!==_e[1]){var ot=Ye.push("translate(",null,",",null,")");nt.push({i:ot-4,x:Ho(ue[0],_e[0])},{i:ot-2,x:Ho(ue[1],_e[1])})}else(_e[0]||_e[1])&&Ye.push("translate("+_e+")")}function Sf(ue,_e,Ye,nt){ue!==_e?(ue-_e>180?_e+=360:_e-ue>180&&(ue+=360),nt.push({i:Ye.push(Ws(Ye)+"rotate(",null,")")-2,x:Ho(ue,_e)})):_e&&Ye.push(Ws(Ye)+"rotate("+_e+")")}function Vc(ue,_e,Ye,nt){ue!==_e?nt.push({i:Ye.push(Ws(Ye)+"skewX(",null,")")-2,x:Ho(ue,_e)}):_e&&Ye.push(Ws(Ye)+"skewX("+_e+")")}function Vo(ue,_e,Ye,nt){if(ue[0]!==_e[0]||ue[1]!==_e[1]){var ot=Ye.push(Ws(Ye)+"scale(",null,",",null,")");nt.push({i:ot-4,x:Ho(ue[0],_e[0])},{i:ot-2,x:Ho(ue[1],_e[1])})}else(_e[0]!==1||_e[1]!==1)&&Ye.push(Ws(Ye)+"scale("+_e+")")}function Rl(ue,_e){var Ye=[],nt=[];return ue=a.transform(ue),_e=a.transform(_e),Af(ue.translate,_e.translate,Ye,nt),Sf(ue.rotate,_e.rotate,Ye,nt),Vc(ue.skew,_e.skew,Ye,nt),Vo(ue.scale,_e.scale,Ye,nt),ue=_e=null,function(ot){for(var ft=-1,kt=nt.length,mt;++ft<kt;)Ye[(mt=nt[ft]).i]=mt.x(ot);return Ye.join("")}}function Dl(ue,_e){return _e=(_e-=ue=+ue)||1/_e,function(Ye){return(Ye-ue)/_e}}function Ql(ue,_e){return _e=(_e-=ue=+ue)||1/_e,function(Ye){return Math.max(0,Math.min(1,(Ye-ue)/_e))}}a.layout={},a.layout.bundle=function(){return function(ue){for(var _e=[],Ye=-1,nt=ue.length;++Ye<nt;)_e.push(Cs(ue[Ye]));return _e}};function Cs(ue){for(var _e=ue.source,Ye=ue.target,nt=Ef(_e,Ye),ot=[_e];_e!==nt;)_e=_e.parent,ot.push(_e);for(var ft=ot.length;Ye!==nt;)ot.splice(ft,0,Ye),Ye=Ye.parent;return ot}function Ls(ue){for(var _e=[],Ye=ue.parent;Ye!=null;)_e.push(ue),ue=Ye,Ye=Ye.parent;return _e.push(ue),_e}function Ef(ue,_e){if(ue===_e)return ue;for(var Ye=Ls(ue),nt=Ls(_e),ot=Ye.pop(),ft=nt.pop(),kt=null;ot===ft;)kt=ot,ot=Ye.pop(),ft=nt.pop();return kt}a.layout.chord=function(){var ue={},_e,Ye,nt,ot,ft=0,kt,mt,Wt;function ar(){var Ir={},Rr=[],Kr=a.range(ot),an=[],Fr,Gr,Zr,ln,dn;for(_e=[],Ye=[],Fr=0,ln=-1;++ln<ot;){for(Gr=0,dn=-1;++dn<ot;)Gr+=nt[ln][dn];Rr.push(Gr),an.push(a.range(ot)),Fr+=Gr}for(kt&&Kr.sort(function(Ua,Pa){return kt(Rr[Ua],Rr[Pa])}),mt&&an.forEach(function(Ua,Pa){Ua.sort(function(Ga,ni){return mt(nt[Pa][Ga],nt[Pa][ni])})}),Fr=(He-ft*ot)/Fr,Gr=0,ln=-1;++ln<ot;){for(Zr=Gr,dn=-1;++dn<ot;){var Xr=Kr[ln],Bn=an[Xr][dn],Jn=nt[Xr][Bn],na=Gr,ca=Gr+=Jn*Fr;Ir[Xr+"-"+Bn]={index:Xr,subindex:Bn,startAngle:na,endAngle:ca,value:Jn}}Ye[Xr]={index:Xr,startAngle:Zr,endAngle:Gr,value:Rr[Xr]},Gr+=ft}for(ln=-1;++ln<ot;)for(dn=ln-1;++dn<ot;){var Ea=Ir[ln+"-"+dn],Aa=Ir[dn+"-"+ln];(Ea.value||Aa.value)&&_e.push(Ea.value<Aa.value?{source:Aa,target:Ea}:{source:Ea,target:Aa})}Wt&&sr()}function sr(){_e.sort(function(Ir,Rr){return Wt((Ir.source.value+Ir.target.value)/2,(Rr.source.value+Rr.target.value)/2)})}return ue.matrix=function(Ir){return arguments.length?(ot=(nt=Ir)&&nt.length,_e=Ye=null,ue):nt},ue.padding=function(Ir){return arguments.length?(ft=Ir,_e=Ye=null,ue):ft},ue.sortGroups=function(Ir){return arguments.length?(kt=Ir,_e=Ye=null,ue):kt},ue.sortSubgroups=function(Ir){return arguments.length?(mt=Ir,_e=null,ue):mt},ue.sortChords=function(Ir){return arguments.length?(Wt=Ir,_e&&sr(),ue):Wt},ue.chords=function(){return _e||ar(),_e},ue.groups=function(){return Ye||ar(),Ye},ue},a.layout.force=function(){var ue={},_e=a.dispatch("start","tick","end"),Ye,nt=[1,1],ot,ft,kt=.9,mt=eu,Wt=dc,ar=-30,sr=Cf,Ir=.1,Rr=.64,Kr=[],an=[],Fr,Gr,Zr;function ln(Xr){return function(Bn,Jn,na,ca){if(Bn.point!==Xr){var Ea=Bn.cx-Xr.x,Aa=Bn.cy-Xr.y,Ua=ca-Jn,Pa=Ea*Ea+Aa*Aa;if(Ua*Ua/Rr<Pa){if(Pa<sr){var Ga=Bn.charge/Pa;Xr.px-=Ea*Ga,Xr.py-=Aa*Ga}return!0}if(Bn.point&&Pa&&Pa<sr){var Ga=Bn.pointCharge/Pa;Xr.px-=Ea*Ga,Xr.py-=Aa*Ga}}return!Bn.charge}}ue.tick=function(){if((ft*=.99)<.005)return Ye=null,_e.end({type:"end",alpha:ft=0}),!0;var Xr=Kr.length,Bn=an.length,Jn,na,ca,Ea,Aa,Ua,Pa,Ga,ni;for(na=0;na<Bn;++na)ca=an[na],Ea=ca.source,Aa=ca.target,Ga=Aa.x-Ea.x,ni=Aa.y-Ea.y,(Ua=Ga*Ga+ni*ni)&&(Ua=ft*Gr[na]*((Ua=Math.sqrt(Ua))-Fr[na])/Ua,Ga*=Ua,ni*=Ua,Aa.x-=Ga*(Pa=Ea.weight+Aa.weight?Ea.weight/(Ea.weight+Aa.weight):.5),Aa.y-=ni*Pa,Ea.x+=Ga*(Pa=1-Pa),Ea.y+=ni*Pa);if((Pa=ft*Ir)&&(Ga=nt[0]/2,ni=nt[1]/2,na=-1,Pa))for(;++na<Xr;)ca=Kr[na],ca.x+=(Ga-ca.x)*Pa,ca.y+=(ni-ca.y)*Pa;if(ar)for(Ku(Jn=a.geom.quadtree(Kr),ft,Zr),na=-1;++na<Xr;)(ca=Kr[na]).fixed||Jn.visit(ln(ca));for(na=-1;++na<Xr;)ca=Kr[na],ca.fixed?(ca.x=ca.px,ca.y=ca.py):(ca.x-=(ca.px-(ca.px=ca.x))*kt,ca.y-=(ca.py-(ca.py=ca.y))*kt);_e.tick({type:"tick",alpha:ft})},ue.nodes=function(Xr){return arguments.length?(Kr=Xr,ue):Kr},ue.links=function(Xr){return arguments.length?(an=Xr,ue):an},ue.size=function(Xr){return arguments.length?(nt=Xr,ue):nt},ue.linkDistance=function(Xr){return arguments.length?(mt=typeof Xr=="function"?Xr:+Xr,ue):mt},ue.distance=ue.linkDistance,ue.linkStrength=function(Xr){return arguments.length?(Wt=typeof Xr=="function"?Xr:+Xr,ue):Wt},ue.friction=function(Xr){return arguments.length?(kt=+Xr,ue):kt},ue.charge=function(Xr){return arguments.length?(ar=typeof Xr=="function"?Xr:+Xr,ue):ar},ue.chargeDistance=function(Xr){return arguments.length?(sr=Xr*Xr,ue):Math.sqrt(sr)},ue.gravity=function(Xr){return arguments.length?(Ir=+Xr,ue):Ir},ue.theta=function(Xr){return arguments.length?(Rr=Xr*Xr,ue):Math.sqrt(Rr)},ue.alpha=function(Xr){return arguments.length?(Xr=+Xr,ft?Xr>0?ft=Xr:(Ye.c=null,Ye.t=NaN,Ye=null,_e.end({type:"end",alpha:ft=0})):Xr>0&&(_e.start({type:"start",alpha:ft=Xr}),Ye=Pn(ue.tick)),ue):ft},ue.start=function(){var Xr,Bn=Kr.length,Jn=an.length,na=nt[0],ca=nt[1],Ea,Aa;for(Xr=0;Xr<Bn;++Xr)(Aa=Kr[Xr]).index=Xr,Aa.weight=0;for(Xr=0;Xr<Jn;++Xr)Aa=an[Xr],typeof Aa.source=="number"&&(Aa.source=Kr[Aa.source]),typeof Aa.target=="number"&&(Aa.target=Kr[Aa.target]),++Aa.source.weight,++Aa.target.weight;for(Xr=0;Xr<Bn;++Xr)Aa=Kr[Xr],isNaN(Aa.x)&&(Aa.x=Ua("x",na)),isNaN(Aa.y)&&(Aa.y=Ua("y",ca)),isNaN(Aa.px)&&(Aa.px=Aa.x),isNaN(Aa.py)&&(Aa.py=Aa.y);if(Fr=[],typeof mt=="function")for(Xr=0;Xr<Jn;++Xr)Fr[Xr]=+mt.call(this,an[Xr],Xr);else for(Xr=0;Xr<Jn;++Xr)Fr[Xr]=mt;if(Gr=[],typeof Wt=="function")for(Xr=0;Xr<Jn;++Xr)Gr[Xr]=+Wt.call(this,an[Xr],Xr);else for(Xr=0;Xr<Jn;++Xr)Gr[Xr]=Wt;if(Zr=[],typeof ar=="function")for(Xr=0;Xr<Bn;++Xr)Zr[Xr]=+ar.call(this,Kr[Xr],Xr);else for(Xr=0;Xr<Bn;++Xr)Zr[Xr]=ar;function Ua(Pa,Ga){if(!Ea){for(Ea=new Array(Bn),di=0;di<Bn;++di)Ea[di]=[];for(di=0;di<Jn;++di){var ni=an[di];Ea[ni.source.index].push(ni.target),Ea[ni.target.index].push(ni.source)}}for(var ii=Ea[Xr],di=-1,Wn=ii.length,Ha;++di<Wn;)if(!isNaN(Ha=ii[di][Pa]))return Ha;return Math.random()*Ga}return ue.resume()},ue.resume=function(){return ue.alpha(.1)},ue.stop=function(){return ue.alpha(0)},ue.drag=function(){if(ot||(ot=a.behavior.drag().origin(N).on("dragstart.force",ql).on("drag.force",dn).on("dragend.force",sl)),!arguments.length)return ot;this.on("mouseover.force",Bi).on("mouseout.force",Mf).call(ot)};function dn(Xr){Xr.px=a.event.x,Xr.py=a.event.y,ue.resume()}return a.rebind(ue,_e,"on")};function ql(ue){ue.fixed|=2}function sl(ue){ue.fixed&=-7}function Bi(ue){ue.fixed|=4,ue.px=ue.x,ue.py=ue.y}function Mf(ue){ue.fixed&=-5}function Ku(ue,_e,Ye){var nt=0,ot=0;if(ue.charge=0,!ue.leaf)for(var ft=ue.nodes,kt=ft.length,mt=-1,Wt;++mt<kt;)Wt=ft[mt],Wt!=null&&(Ku(Wt,_e,Ye),ue.charge+=Wt.charge,nt+=Wt.charge*Wt.cx,ot+=Wt.charge*Wt.cy);if(ue.point){ue.leaf||(ue.point.x+=Math.random()-.5,ue.point.y+=Math.random()-.5);var ar=_e*Ye[ue.point.index];ue.charge+=ue.pointCharge=ar,nt+=ar*ue.point.x,ot+=ar*ue.point.y}ue.cx=nt/ue.charge,ue.cy=ot/ue.charge}var eu=20,dc=1,Cf=1/0;a.layout.hierarchy=function(){var ue=Lf,_e=$u,Ye=Gc;function nt(ot){var ft=[ot],kt=[],mt;for(ot.depth=0;(mt=ft.pop())!=null;)if(kt.push(mt),(ar=_e.call(nt,mt,mt.depth))&&(Wt=ar.length)){for(var Wt,ar,sr;--Wt>=0;)ft.push(sr=ar[Wt]),sr.parent=mt,sr.depth=mt.depth+1;Ye&&(mt.value=0),mt.children=ar}else Ye&&(mt.value=+Ye.call(nt,mt,mt.depth)||0),delete mt.children;return no(ot,function(Ir){var Rr,Kr;ue&&(Rr=Ir.children)&&Rr.sort(ue),Ye&&(Kr=Ir.parent)&&(Kr.value+=Ir.value)}),kt}return nt.sort=function(ot){return arguments.length?(ue=ot,nt):ue},nt.children=function(ot){return arguments.length?(_e=ot,nt):_e},nt.value=function(ot){return arguments.length?(Ye=ot,nt):Ye},nt.revalue=function(ot){return Ye&&(Ys(ot,function(ft){ft.children&&(ft.value=0)}),no(ot,function(ft){var kt;ft.children||(ft.value=+Ye.call(nt,ft,ft.depth)||0),(kt=ft.parent)&&(kt.value+=ft.value)})),ot},nt};function Il(ue,_e){return a.rebind(ue,_e,"sort","children","value"),ue.nodes=ue,ue.links=Pf,ue}function Ys(ue,_e){for(var Ye=[ue];(ue=Ye.pop())!=null;)if(_e(ue),(ot=ue.children)&&(nt=ot.length))for(var nt,ot;--nt>=0;)Ye.push(ot[nt])}function no(ue,_e){for(var Ye=[ue],nt=[];(ue=Ye.pop())!=null;)if(nt.push(ue),(kt=ue.children)&&(ft=kt.length))for(var ot=-1,ft,kt;++ot<ft;)Ye.push(kt[ot]);for(;(ue=nt.pop())!=null;)_e(ue)}function $u(ue){return ue.children}function Gc(ue){return ue.value}function Lf(ue,_e){return _e.value-ue.value}function Pf(ue){return a.merge(ue.map(function(_e){return(_e.children||[]).map(function(Ye){return{source:_e,target:Ye}})}))}a.layout.partition=function(){var ue=a.layout.hierarchy(),_e=[1,1];function Ye(ft,kt,mt,Wt){var ar=ft.children;if(ft.x=kt,ft.y=ft.depth*Wt,ft.dx=mt,ft.dy=Wt,ar&&(Ir=ar.length)){var sr=-1,Ir,Rr,Kr;for(mt=ft.value?mt/ft.value:0;++sr<Ir;)Ye(Rr=ar[sr],kt,Kr=Rr.value*mt,Wt),kt+=Kr}}function nt(ft){var kt=ft.children,mt=0;if(kt&&(ar=kt.length))for(var Wt=-1,ar;++Wt<ar;)mt=Math.max(mt,nt(kt[Wt]));return 1+mt}function ot(ft,kt){var mt=ue.call(this,ft,kt);return Ye(mt[0],0,_e[0],_e[1]/nt(mt[0])),mt}return ot.size=function(ft){return arguments.length?(_e=ft,ot):_e},Il(ot,ue)},a.layout.pie=function(){var ue=Number,_e=Tu,Ye=0,nt=He,ot=0;function ft(kt){var mt=kt.length,Wt=kt.map(function(ln,dn){return+ue.call(ft,ln,dn)}),ar=+(typeof Ye=="function"?Ye.apply(this,arguments):Ye),sr=(typeof nt=="function"?nt.apply(this,arguments):nt)-ar,Ir=Math.min(Math.abs(sr)/mt,+(typeof ot=="function"?ot.apply(this,arguments):ot)),Rr=Ir*(sr<0?-1:1),Kr=a.sum(Wt),an=Kr?(sr-mt*Rr)/Kr:0,Fr=a.range(mt),Gr=[],Zr;return _e!=null&&Fr.sort(_e===Tu?function(ln,dn){return Wt[dn]-Wt[ln]}:function(ln,dn){return _e(kt[ln],kt[dn])}),Fr.forEach(function(ln){Gr[ln]={data:kt[ln],value:Zr=Wt[ln],startAngle:ar,endAngle:ar+=Zr*an+Rr,padAngle:Ir}}),Gr}return ft.value=function(kt){return arguments.length?(ue=kt,ft):ue},ft.sort=function(kt){return arguments.length?(_e=kt,ft):_e},ft.startAngle=function(kt){return arguments.length?(Ye=kt,ft):Ye},ft.endAngle=function(kt){return arguments.length?(nt=kt,ft):nt},ft.padAngle=function(kt){return arguments.length?(ot=kt,ft):ot},ft};var Tu={};a.layout.stack=function(){var ue=N,_e=Au,Ye=Rf,nt=js,ot=tu,ft=pc;function kt(mt,Wt){if(!(an=mt.length))return mt;var ar=mt.map(function(ln,dn){return ue.call(kt,ln,dn)}),sr=ar.map(function(ln){return ln.map(function(dn,Xr){return[ot.call(kt,dn,Xr),ft.call(kt,dn,Xr)]})}),Ir=_e.call(kt,sr,Wt);ar=a.permute(ar,Ir),sr=a.permute(sr,Ir);var Rr=Ye.call(kt,sr,Wt),Kr=ar[0].length,an,Fr,Gr,Zr;for(Gr=0;Gr<Kr;++Gr)for(nt.call(kt,ar[0][Gr],Zr=Rr[Gr],sr[0][Gr][1]),Fr=1;Fr<an;++Fr)nt.call(kt,ar[Fr][Gr],Zr+=sr[Fr-1][Gr][1],sr[Fr][Gr][1]);return mt}return kt.values=function(mt){return arguments.length?(ue=mt,kt):ue},kt.order=function(mt){return arguments.length?(_e=typeof mt=="function"?mt:kl.get(mt)||Au,kt):_e},kt.offset=function(mt){return arguments.length?(Ye=typeof mt=="function"?mt:_f.get(mt)||Rf,kt):Ye},kt.x=function(mt){return arguments.length?(ot=mt,kt):ot},kt.y=function(mt){return arguments.length?(ft=mt,kt):ft},kt.out=function(mt){return arguments.length?(nt=mt,kt):nt},kt};function tu(ue){return ue.x}function pc(ue){return ue.y}function js(ue,_e,Ye){ue.y0=_e,ue.y=Ye}var kl=a.map({"inside-out":function(ue){var _e=ue.length,Ye,nt,ot=ue.map(yi),ft=ue.map(gc),kt=a.range(_e).sort(function(Ir,Rr){return ot[Ir]-ot[Rr]}),mt=0,Wt=0,ar=[],sr=[];for(Ye=0;Ye<_e;++Ye)nt=kt[Ye],mt<Wt?(mt+=ft[nt],ar.push(nt)):(Wt+=ft[nt],sr.push(nt));return sr.reverse().concat(ar)},reverse:function(ue){return a.range(ue.length).reverse()},default:Au}),_f=a.map({silhouette:function(ue){var _e=ue.length,Ye=ue[0].length,nt=[],ot=0,ft,kt,mt,Wt=[];for(kt=0;kt<Ye;++kt){for(ft=0,mt=0;ft<_e;ft++)mt+=ue[ft][kt][1];mt>ot&&(ot=mt),nt.push(mt)}for(kt=0;kt<Ye;++kt)Wt[kt]=(ot-nt[kt])/2;return Wt},wiggle:function(ue){var _e=ue.length,Ye=ue[0],nt=Ye.length,ot,ft,kt,mt,Wt,ar,sr,Ir,Rr,Kr=[];for(Kr[0]=Ir=Rr=0,ft=1;ft<nt;++ft){for(ot=0,mt=0;ot<_e;++ot)mt+=ue[ot][ft][1];for(ot=0,Wt=0,sr=Ye[ft][0]-Ye[ft-1][0];ot<_e;++ot){for(kt=0,ar=(ue[ot][ft][1]-ue[ot][ft-1][1])/(2*sr);kt<ot;++kt)ar+=(ue[kt][ft][1]-ue[kt][ft-1][1])/sr;Wt+=ar*ue[ot][ft][1]}Kr[ft]=Ir-=mt?Wt/mt*sr:0,Ir<Rr&&(Rr=Ir)}for(ft=0;ft<nt;++ft)Kr[ft]-=Rr;return Kr},expand:function(ue){var _e=ue.length,Ye=ue[0].length,nt=1/_e,ot,ft,kt,mt=[];for(ft=0;ft<Ye;++ft){for(ot=0,kt=0;ot<_e;ot++)kt+=ue[ot][ft][1];if(kt)for(ot=0;ot<_e;ot++)ue[ot][ft][1]/=kt;else for(ot=0;ot<_e;ot++)ue[ot][ft][1]=nt}for(ft=0;ft<Ye;++ft)mt[ft]=0;return mt},zero:Rf});function Au(ue){return a.range(ue.length)}function Rf(ue){for(var _e=-1,Ye=ue[0].length,nt=[];++_e<Ye;)nt[_e]=0;return nt}function yi(ue){for(var _e=1,Ye=0,nt=ue[0][1],ot,ft=ue.length;_e<ft;++_e)(ot=ue[_e][1])>nt&&(Ye=_e,nt=ot);return Ye}function gc(ue){return ue.reduce(fs,0)}function fs(ue,_e){return ue+_e[1]}a.layout.histogram=function(){var ue=!0,_e=Number,Ye=Df,nt=ru;function ot(ft,Rr){for(var mt=[],Wt=ft.map(_e,this),ar=Ye.call(this,Wt,Rr),sr=nt.call(this,ar,Wt,Rr),Ir,Rr=-1,Kr=Wt.length,an=sr.length-1,Fr=ue?1:1/Kr,Gr;++Rr<an;)Ir=mt[Rr]=[],Ir.dx=sr[Rr+1]-(Ir.x=sr[Rr]),Ir.y=0;if(an>0)for(Rr=-1;++Rr<Kr;)Gr=Wt[Rr],Gr>=ar[0]&&Gr<=ar[1]&&(Ir=mt[a.bisect(sr,Gr,1,an)-1],Ir.y+=Fr,Ir.push(ft[Rr]));return mt}return ot.value=function(ft){return arguments.length?(_e=ft,ot):_e},ot.range=function(ft){return arguments.length?(Ye=rn(ft),ot):Ye},ot.bins=function(ft){return arguments.length?(nt=typeof ft=="number"?function(kt){return Ol(kt,ft)}:rn(ft),ot):nt},ot.frequency=function(ft){return arguments.length?(ue=!!ft,ot):ue},ot};function ru(ue,_e){return Ol(ue,Math.ceil(Math.log(_e.length)/Math.LN2+1))}function Ol(ue,_e){for(var Ye=-1,nt=+ue[0],ot=(ue[1]-nt)/_e,ft=[];++Ye<=_e;)ft[Ye]=ot*Ye+nt;return ft}function Df(ue){return[a.min(ue),a.max(ue)]}a.layout.pack=function(){var ue=a.layout.hierarchy().sort(Ui),_e=0,Ye=[1,1],nt;function ot(ft,kt){var mt=ue.call(this,ft,kt),Wt=mt[0],ar=Ye[0],sr=Ye[1],Ir=nt==null?Math.sqrt:typeof nt=="function"?nt:function(){return nt};if(Wt.x=Wt.y=0,no(Wt,function(Kr){Kr.r=+Ir(Kr.value)}),no(Wt,Zs),_e){var Rr=_e*(nt?1:Math.max(2*Wt.r/ar,2*Wt.r/sr))/2;no(Wt,function(Kr){Kr.r+=Rr}),no(Wt,Zs),no(Wt,function(Kr){Kr.r-=Rr})}return fl(Wt,ar/2,sr/2,nt?1:1/Math.max(2*Wt.r/ar,2*Wt.r/sr)),mt}return ot.size=function(ft){return arguments.length?(Ye=ft,ot):Ye},ot.radius=function(ft){return arguments.length?(nt=ft==null||typeof ft=="function"?ft:+ft,ot):nt},ot.padding=function(ft){return arguments.length?(_e=+ft,ot):_e},Il(ot,ue)};function Ui(ue,_e){return ue.value-_e.value}function nu(ue,_e){var Ye=ue._pack_next;ue._pack_next=_e,_e._pack_prev=ue,_e._pack_next=Ye,Ye._pack_prev=_e}function Do(ue,_e){ue._pack_next=_e,_e._pack_prev=ue}function Io(ue,_e){var Ye=_e.x-ue.x,nt=_e.y-ue.y,ot=ue.r+_e.r;return .999*ot*ot>Ye*Ye+nt*nt}function Zs(ue){if(!(_e=ue.children)||!(Rr=_e.length))return;var _e,Ye=1/0,nt=-1/0,ot=1/0,ft=-1/0,kt,mt,Wt,ar,sr,Ir,Rr;function Kr(Xr){Ye=Math.min(Xr.x-Xr.r,Ye),nt=Math.max(Xr.x+Xr.r,nt),ot=Math.min(Xr.y-Xr.r,ot),ft=Math.max(Xr.y+Xr.r,ft)}if(_e.forEach(ll),kt=_e[0],kt.x=-kt.r,kt.y=0,Kr(kt),Rr>1&&(mt=_e[1],mt.x=mt.r,mt.y=0,Kr(mt),Rr>2))for(Wt=_e[2],cs(kt,mt,Wt),Kr(Wt),nu(kt,Wt),kt._pack_prev=Wt,nu(Wt,mt),mt=kt._pack_next,ar=3;ar<Rr;ar++){cs(kt,mt,Wt=_e[ar]);var an=0,Fr=1,Gr=1;for(sr=mt._pack_next;sr!==mt;sr=sr._pack_next,Fr++)if(Io(sr,Wt)){an=1;break}if(an==1)for(Ir=kt._pack_prev;Ir!==sr._pack_prev&&!Io(Ir,Wt);Ir=Ir._pack_prev,Gr++);an?(Fr<Gr||Fr==Gr&&mt.r<kt.r?Do(kt,mt=sr):Do(kt=Ir,mt),ar--):(nu(kt,Wt),mt=Wt,Kr(Wt))}var Zr=(Ye+nt)/2,ln=(ot+ft)/2,dn=0;for(ar=0;ar<Rr;ar++)Wt=_e[ar],Wt.x-=Zr,Wt.y-=ln,dn=Math.max(dn,Wt.r+Math.sqrt(Wt.x*Wt.x+Wt.y*Wt.y));ue.r=dn,_e.forEach(ul)}function ll(ue){ue._pack_next=ue._pack_prev=ue}function ul(ue){delete ue._pack_next,delete ue._pack_prev}function fl(ue,_e,Ye,nt){var ot=ue.children;if(ue.x=_e+=nt*ue.x,ue.y=Ye+=nt*ue.y,ue.r*=nt,ot)for(var ft=-1,kt=ot.length;++ft<kt;)fl(ot[ft],_e,Ye,nt)}function cs(ue,_e,Ye){var nt=ue.r+Ye.r,ot=_e.x-ue.x,ft=_e.y-ue.y;if(nt&&(ot||ft)){var kt=_e.r+Ye.r,mt=ot*ot+ft*ft;kt*=kt,nt*=nt;var Wt=.5+(nt-kt)/(2*mt),ar=Math.sqrt(Math.max(0,2*kt*(nt+mt)-(nt-=mt)*nt-kt*kt))/(2*mt);Ye.x=ue.x+Wt*ot+ar*ft,Ye.y=ue.y+Wt*ft-ar*ot}else Ye.x=ue.x+nt,Ye.y=ue.y}a.layout.tree=function(){var ue=a.layout.hierarchy().sort(null).value(null),_e=go,Ye=[1,1],nt=null;function ot(sr,Ir){var Rr=ue.call(this,sr,Ir),Kr=Rr[0],an=ft(Kr);if(no(an,kt),an.parent.m=-an.z,Ys(an,mt),nt)Ys(Kr,ar);else{var Fr=Kr,Gr=Kr,Zr=Kr;Ys(Kr,function(Bn){Bn.x<Fr.x&&(Fr=Bn),Bn.x>Gr.x&&(Gr=Bn),Bn.depth>Zr.depth&&(Zr=Bn)});var ln=_e(Fr,Gr)/2-Fr.x,dn=Ye[0]/(Gr.x+_e(Gr,Fr)/2+ln),Xr=Ye[1]/(Zr.depth||1);Ys(Kr,function(Bn){Bn.x=(Bn.x+ln)*dn,Bn.y=Bn.depth*Xr})}return Rr}function ft(sr){for(var Ir={A:null,children:[sr]},Rr=[Ir],Kr;(Kr=Rr.pop())!=null;)for(var an=Kr.children,Fr,Gr=0,Zr=an.length;Gr<Zr;++Gr)Rr.push((an[Gr]=Fr={_:an[Gr],parent:Kr,children:(Fr=an[Gr].children)&&Fr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Gr}).a=Fr);return Ir.children[0]}function kt(sr){var Ir=sr.children,Rr=sr.parent.children,Kr=sr.i?Rr[sr.i-1]:null;if(Ir.length){Wc(sr);var an=(Ir[0].z+Ir[Ir.length-1].z)/2;Kr?(sr.z=Kr.z+_e(sr._,Kr._),sr.m=sr.z-an):sr.z=an}else Kr&&(sr.z=Kr.z+_e(sr._,Kr._));sr.parent.A=Wt(sr,Kr,sr.parent.A||Rr[0])}function mt(sr){sr._.x=sr.z+sr.parent.m,sr.m+=sr.parent.m}function Wt(sr,Ir,Rr){if(Ir){for(var Kr=sr,an=sr,Fr=Ir,Gr=Kr.parent.children[0],Zr=Kr.m,ln=an.m,dn=Fr.m,Xr=Gr.m,Bn;Fr=cl(Fr),Kr=Su(Kr),Fr&&Kr;)Gr=Su(Gr),an=cl(an),an.a=sr,Bn=Fr.z+dn-Kr.z-Zr+_e(Fr._,Kr._),Bn>0&&(Ju(Yc(Fr,sr,Rr),sr,Bn),Zr+=Bn,ln+=Bn),dn+=Fr.m,Zr+=Kr.m,Xr+=Gr.m,ln+=an.m;Fr&&!cl(an)&&(an.t=Fr,an.m+=dn-ln),Kr&&!Su(Gr)&&(Gr.t=Kr,Gr.m+=Zr-Xr,Rr=sr)}return Rr}function ar(sr){sr.x*=Ye[0],sr.y=sr.depth*Ye[1]}return ot.separation=function(sr){return arguments.length?(_e=sr,ot):_e},ot.size=function(sr){return arguments.length?(nt=(Ye=sr)==null?ar:null,ot):nt?null:Ye},ot.nodeSize=function(sr){return arguments.length?(nt=(Ye=sr)==null?null:ar,ot):nt?Ye:null},Il(ot,ue)};function go(ue,_e){return ue.parent==_e.parent?1:2}function Su(ue){var _e=ue.children;return _e.length?_e[0]:ue.t}function cl(ue){var _e=ue.children,Ye;return(Ye=_e.length)?_e[Ye-1]:ue.t}function Ju(ue,_e,Ye){var nt=Ye/(_e.i-ue.i);_e.c-=nt,_e.s+=Ye,ue.c+=nt,_e.z+=Ye,_e.m+=Ye}function Wc(ue){for(var _e=0,Ye=0,nt=ue.children,ot=nt.length,ft;--ot>=0;)ft=nt[ot],ft.z+=_e,ft.m+=_e,_e+=ft.s+(Ye+=ft.c)}function Yc(ue,_e,Ye){return ue.a.parent===_e.parent?ue.a:Ye}a.layout.cluster=function(){var ue=a.layout.hierarchy().sort(null).value(null),_e=go,Ye=[1,1],nt=!1;function ot(ft,kt){var mt=ue.call(this,ft,kt),Wt=mt[0],ar,sr=0;no(Wt,function(Fr){var Gr=Fr.children;Gr&&Gr.length?(Fr.x=Zc(Gr),Fr.y=jc(Gr)):(Fr.x=ar?sr+=_e(Fr,ar):0,Fr.y=0,ar=Fr)});var Ir=Qu(Wt),Rr=yc(Wt),Kr=Ir.x-_e(Ir,Rr)/2,an=Rr.x+_e(Rr,Ir)/2;return no(Wt,nt?function(Fr){Fr.x=(Fr.x-Wt.x)*Ye[0],Fr.y=(Wt.y-Fr.y)*Ye[1]}:function(Fr){Fr.x=(Fr.x-Kr)/(an-Kr)*Ye[0],Fr.y=(1-(Wt.y?Fr.y/Wt.y:1))*Ye[1]}),mt}return ot.separation=function(ft){return arguments.length?(_e=ft,ot):_e},ot.size=function(ft){return arguments.length?(nt=(Ye=ft)==null,ot):nt?null:Ye},ot.nodeSize=function(ft){return arguments.length?(nt=(Ye=ft)!=null,ot):nt?Ye:null},Il(ot,ue)};function jc(ue){return 1+a.max(ue,function(_e){return _e.y})}function Zc(ue){return ue.reduce(function(_e,Ye){return _e+Ye.x},0)/ue.length}function Qu(ue){var _e=ue.children;return _e&&_e.length?Qu(_e[0]):ue}function yc(ue){var _e=ue.children,Ye;return _e&&(Ye=_e.length)?yc(_e[Ye-1]):ue}a.layout.treemap=function(){var ue=a.layout.hierarchy(),_e=Math.round,Ye=[1,1],nt=null,ot=au,ft=!1,kt,mt="squarify",Wt=.5*(1+Math.sqrt(5));function ar(Fr,Gr){for(var Zr=-1,ln=Fr.length,dn,Xr;++Zr<ln;)Xr=(dn=Fr[Zr]).value*(Gr<0?0:Gr),dn.area=isNaN(Xr)||Xr<=0?0:Xr}function sr(Fr){var Gr=Fr.children;if(Gr&&Gr.length){var Zr=ot(Fr),ln=[],dn=Gr.slice(),Xr,Bn=1/0,Jn,na=mt==="slice"?Zr.dx:mt==="dice"?Zr.dy:mt==="slice-dice"?Fr.depth&1?Zr.dy:Zr.dx:Math.min(Zr.dx,Zr.dy),ca;for(ar(dn,Zr.dx*Zr.dy/Fr.value),ln.area=0;(ca=dn.length)>0;)ln.push(Xr=dn[ca-1]),ln.area+=Xr.area,mt!=="squarify"||(Jn=Rr(ln,na))<=Bn?(dn.pop(),Bn=Jn):(ln.area-=ln.pop().area,Kr(ln,na,Zr,!1),na=Math.min(Zr.dx,Zr.dy),ln.length=ln.area=0,Bn=1/0);ln.length&&(Kr(ln,na,Zr,!0),ln.length=ln.area=0),Gr.forEach(sr)}}function Ir(Fr){var Gr=Fr.children;if(Gr&&Gr.length){var Zr=ot(Fr),ln=Gr.slice(),dn,Xr=[];for(ar(ln,Zr.dx*Zr.dy/Fr.value),Xr.area=0;dn=ln.pop();)Xr.push(dn),Xr.area+=dn.area,dn.z!=null&&(Kr(Xr,dn.z?Zr.dx:Zr.dy,Zr,!ln.length),Xr.length=Xr.area=0);Gr.forEach(Ir)}}function Rr(Fr,Gr){for(var Zr=Fr.area,ln,dn=0,Xr=1/0,Bn=-1,Jn=Fr.length;++Bn<Jn;)(ln=Fr[Bn].area)&&(ln<Xr&&(Xr=ln),ln>dn&&(dn=ln));return Zr*=Zr,Gr*=Gr,Zr?Math.max(Gr*dn*Wt/Zr,Zr/(Gr*Xr*Wt)):1/0}function Kr(Fr,Gr,Zr,ln){var dn=-1,Xr=Fr.length,Bn=Zr.x,Jn=Zr.y,na=Gr?_e(Fr.area/Gr):0,ca;if(Gr==Zr.dx){for((ln||na>Zr.dy)&&(na=Zr.dy);++dn<Xr;)ca=Fr[dn],ca.x=Bn,ca.y=Jn,ca.dy=na,Bn+=ca.dx=Math.min(Zr.x+Zr.dx-Bn,na?_e(ca.area/na):0);ca.z=!0,ca.dx+=Zr.x+Zr.dx-Bn,Zr.y+=na,Zr.dy-=na}else{for((ln||na>Zr.dx)&&(na=Zr.dx);++dn<Xr;)ca=Fr[dn],ca.x=Bn,ca.y=Jn,ca.dx=na,Jn+=ca.dy=Math.min(Zr.y+Zr.dy-Jn,na?_e(ca.area/na):0);ca.z=!1,ca.dy+=Zr.y+Zr.dy-Jn,Zr.x+=na,Zr.dx-=na}}function an(Fr){var Gr=kt||ue(Fr),Zr=Gr[0];return Zr.x=Zr.y=0,Zr.value?(Zr.dx=Ye[0],Zr.dy=Ye[1]):Zr.dx=Zr.dy=0,kt&&ue.revalue(Zr),ar([Zr],Zr.dx*Zr.dy/Zr.value),(kt?Ir:sr)(Zr),ft&&(kt=Gr),Gr}return an.size=function(Fr){return arguments.length?(Ye=Fr,an):Ye},an.padding=function(Fr){if(!arguments.length)return nt;function Gr(dn){var Xr=Fr.call(an,dn,dn.depth);return Xr==null?au(dn):uo(dn,typeof Xr=="number"?[Xr,Xr,Xr,Xr]:Xr)}function Zr(dn){return uo(dn,Fr)}var ln;return ot=(nt=Fr)==null?au:(ln=typeof Fr)=="function"?Gr:(ln==="number"&&(Fr=[Fr,Fr,Fr,Fr]),Zr),an},an.round=function(Fr){return arguments.length?(_e=Fr?Math.round:Number,an):_e!=Number},an.sticky=function(Fr){return arguments.length?(ft=Fr,kt=null,an):ft},an.ratio=function(Fr){return arguments.length?(Wt=Fr,an):Wt},an.mode=function(Fr){return arguments.length?(mt=Fr+"",an):mt},Il(an,ue)};function au(ue){return{x:ue.x,y:ue.y,dx:ue.dx,dy:ue.dy}}function uo(ue,_e){var Ye=ue.x+_e[3],nt=ue.y+_e[0],ot=ue.dx-_e[1]-_e[3],ft=ue.dy-_e[0]-_e[2];return ot<0&&(Ye+=ot/2,ot=0),ft<0&&(nt+=ft/2,ft=0),{x:Ye,y:nt,dx:ot,dy:ft}}a.random={normal:function(ue,_e){var Ye=arguments.length;return Ye<2&&(_e=1),Ye<1&&(ue=0),function(){var nt,ot,ft;do nt=Math.random()*2-1,ot=Math.random()*2-1,ft=nt*nt+ot*ot;while(!ft||ft>1);return ue+_e*nt*Math.sqrt(-2*Math.log(ft)/ft)}},logNormal:function(){var ue=a.random.normal.apply(a,arguments);return function(){return Math.exp(ue())}},bates:function(ue){var _e=a.random.irwinHall(ue);return function(){return _e()/ue}},irwinHall:function(ue){return function(){for(var _e=0,Ye=0;Ye<ue;Ye++)_e+=Math.random();return _e}}},a.scale={};function ko(ue){var _e=ue[0],Ye=ue[ue.length-1];return _e<Ye?[_e,Ye]:[Ye,_e]}function Eu(ue){return ue.rangeExtent?ue.rangeExtent():ko(ue.range())}function zl(ue,_e,Ye,nt){var ot=Ye(ue[0],ue[1]),ft=nt(_e[0],_e[1]);return function(kt){return ft(ot(kt))}}function Mu(ue,_e){var Ye=0,nt=ue.length-1,ot=ue[Ye],ft=ue[nt],kt;return ft<ot&&(kt=Ye,Ye=nt,nt=kt,kt=ot,ot=ft,ft=kt),ue[Ye]=_e.floor(ot),ue[nt]=_e.ceil(ft),ue}function Oo(ue){return ue?{floor:function(_e){return Math.floor(_e/ue)*ue},ceil:function(_e){return Math.ceil(_e/ue)*ue}}:mc}var mc={floor:N,ceil:N};function xc(ue,_e,Ye,nt){var ot=[],ft=[],kt=0,mt=Math.min(ue.length,_e.length)-1;for(ue[mt]<ue[0]&&(ue=ue.slice().reverse(),_e=_e.slice().reverse());++kt<=mt;)ot.push(Ye(ue[kt-1],ue[kt])),ft.push(nt(_e[kt-1],_e[kt]));return function(Wt){var ar=a.bisect(ue,Wt,1,mt)-1;return ft[ar](ot[ar](Wt))}}a.scale.linear=function(){return If([0,1],[0,1],qo,!1)};function If(ue,_e,Ye,nt){var ot,ft;function kt(){var Wt=Math.min(ue.length,_e.length)>2?xc:zl,ar=nt?Ql:Dl;return ot=Wt(ue,_e,ar,Ye),ft=Wt(_e,ue,ar,qo),mt}function mt(Wt){return ot(Wt)}return mt.invert=function(Wt){return ft(Wt)},mt.domain=function(Wt){return arguments.length?(ue=Wt.map(Number),kt()):ue},mt.range=function(Wt){return arguments.length?(_e=Wt,kt()):_e},mt.rangeRound=function(Wt){return mt.range(Wt).interpolate(Tf)},mt.clamp=function(Wt){return arguments.length?(nt=Wt,kt()):nt},mt.interpolate=function(Wt){return arguments.length?(Ye=Wt,kt()):Ye},mt.ticks=function(Wt){return hs(ue,Wt)},mt.tickFormat=function(Wt,ar){return d3_scale_linearTickFormat(ue,Wt,ar)},mt.nice=function(Wt){return hl(ue,Wt),kt()},mt.copy=function(){return If(ue,_e,Ye,nt)},kt()}function qu(ue,_e){return a.rebind(ue,_e,"range","rangeRound","interpolate","clamp")}function hl(ue,_e){return Mu(ue,Oo(Vi(ue,_e)[2])),Mu(ue,Oo(Vi(ue,_e)[2])),ue}function Vi(ue,_e){_e==null&&(_e=10);var Ye=ko(ue),nt=Ye[1]-Ye[0],ot=Math.pow(10,Math.floor(Math.log(nt/_e)/Math.LN10)),ft=_e/nt*ot;return ft<=.15?ot*=10:ft<=.35?ot*=5:ft<=.75&&(ot*=2),Ye[0]=Math.ceil(Ye[0]/ot)*ot,Ye[1]=Math.floor(Ye[1]/ot)*ot+ot*.5,Ye[2]=ot,Ye}function hs(ue,_e){return a.range.apply(a,Vi(ue,_e))}a.scale.log=function(){return kf(a.scale.linear().domain([0,1]),10,!0,[1,10])};function kf(ue,_e,Ye,nt){function ot(mt){return(Ye?Math.log(mt<0?0:mt):-Math.log(mt>0?0:-mt))/Math.log(_e)}function ft(mt){return Ye?Math.pow(_e,mt):-Math.pow(_e,-mt)}function kt(mt){return ue(ot(mt))}return kt.invert=function(mt){return ft(ue.invert(mt))},kt.domain=function(mt){return arguments.length?(Ye=mt[0]>=0,ue.domain((nt=mt.map(Number)).map(ot)),kt):nt},kt.base=function(mt){return arguments.length?(_e=+mt,ue.domain(nt.map(ot)),kt):_e},kt.nice=function(){var mt=Mu(nt.map(ot),Ye?Math:Xc);return ue.domain(mt),nt=mt.map(ft),kt},kt.ticks=function(){var mt=ko(nt),Wt=[],ar=mt[0],sr=mt[1],Ir=Math.floor(ot(ar)),Rr=Math.ceil(ot(sr)),Kr=_e%1?2:_e;if(isFinite(Rr-Ir)){if(Ye){for(;Ir<Rr;Ir++)for(var an=1;an<Kr;an++)Wt.push(ft(Ir)*an);Wt.push(ft(Ir))}else for(Wt.push(ft(Ir));Ir++<Rr;)for(var an=Kr-1;an>0;an--)Wt.push(ft(Ir)*an);for(Ir=0;Wt[Ir]<ar;Ir++);for(Rr=Wt.length;Wt[Rr-1]>sr;Rr--);Wt=Wt.slice(Ir,Rr)}return Wt},kt.copy=function(){return kf(ue.copy(),_e,Ye,nt)},qu(kt,ue)}var Xc={floor:function(ue){return-Math.ceil(-ue)},ceil:function(ue){return-Math.floor(-ue)}};a.scale.pow=function(){return Ps(a.scale.linear(),1,[0,1])};function Ps(ue,_e,Ye){var nt=ef(_e),ot=ef(1/_e);function ft(kt){return ue(nt(kt))}return ft.invert=function(kt){return ot(ue.invert(kt))},ft.domain=function(kt){return arguments.length?(ue.domain((Ye=kt.map(Number)).map(nt)),ft):Ye},ft.ticks=function(kt){return hs(Ye,kt)},ft.tickFormat=function(kt,mt){return d3_scale_linearTickFormat(Ye,kt,mt)},ft.nice=function(kt){return ft.domain(hl(Ye,kt))},ft.exponent=function(kt){return arguments.length?(nt=ef(_e=kt),ot=ef(1/_e),ue.domain(Ye.map(nt)),ft):_e},ft.copy=function(){return Ps(ue.copy(),_e,Ye)},qu(ft,ue)}function ef(ue){return function(_e){return _e<0?-Math.pow(-_e,ue):Math.pow(_e,ue)}}a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return vs([],{t:"range",a:[[]]})};function vs(ue,_e){var Ye,nt,ot;function ft(mt){return nt[((Ye.get(mt)||(_e.t==="range"?Ye.set(mt,ue.push(mt)):NaN))-1)%nt.length]}function kt(mt,Wt){return a.range(ue.length).map(function(ar){return mt+Wt*ar})}return ft.domain=function(mt){if(!arguments.length)return ue;ue=[],Ye=new P;for(var Wt=-1,ar=mt.length,sr;++Wt<ar;)Ye.has(sr=mt[Wt])||Ye.set(sr,ue.push(sr));return ft[_e.t].apply(ft,_e.a)},ft.range=function(mt){return arguments.length?(nt=mt,ot=0,_e={t:"range",a:arguments},ft):nt},ft.rangePoints=function(mt,Wt){arguments.length<2&&(Wt=0);var ar=mt[0],sr=mt[1],Ir=ue.length<2?(ar=(ar+sr)/2,0):(sr-ar)/(ue.length-1+Wt);return nt=kt(ar+Ir*Wt/2,Ir),ot=0,_e={t:"rangePoints",a:arguments},ft},ft.rangeRoundPoints=function(mt,Wt){arguments.length<2&&(Wt=0);var ar=mt[0],sr=mt[1],Ir=ue.length<2?(ar=sr=Math.round((ar+sr)/2),0):(sr-ar)/(ue.length-1+Wt)|0;return nt=kt(ar+Math.round(Ir*Wt/2+(sr-ar-(ue.length-1+Wt)*Ir)/2),Ir),ot=0,_e={t:"rangeRoundPoints",a:arguments},ft},ft.rangeBands=function(mt,Wt,ar){arguments.length<2&&(Wt=0),arguments.length<3&&(ar=Wt);var sr=mt[1]<mt[0],Ir=mt[sr-0],Rr=mt[1-sr],Kr=(Rr-Ir)/(ue.length-Wt+2*ar);return nt=kt(Ir+Kr*ar,Kr),sr&&nt.reverse(),ot=Kr*(1-Wt),_e={t:"rangeBands",a:arguments},ft},ft.rangeRoundBands=function(mt,Wt,ar){arguments.length<2&&(Wt=0),arguments.length<3&&(ar=Wt);var sr=mt[1]<mt[0],Ir=mt[sr-0],Rr=mt[1-sr],Kr=Math.floor((Rr-Ir)/(ue.length-Wt+2*ar));return nt=kt(Ir+Math.round((Rr-Ir-(ue.length-Wt)*Kr)/2),Kr),sr&&nt.reverse(),ot=Math.round(Kr*(1-Wt)),_e={t:"rangeRoundBands",a:arguments},ft},ft.rangeBand=function(){return ot},ft.rangeExtent=function(){return ko(_e.a[0])},ft.copy=function(){return vs(ue,_e)},ft.domain(ue)}a.scale.category10=function(){return a.scale.ordinal().range(tf)},a.scale.category20=function(){return a.scale.ordinal().range(Xs)},a.scale.category20b=function(){return a.scale.ordinal().range(_s)},a.scale.category20c=function(){return a.scale.ordinal().range(Of)};var tf=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Ht),Xs=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Ht),_s=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Ht),Of=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Ht);a.scale.quantile=function(){return iu([],[])};function iu(ue,_e){var Ye;function nt(){var ft=0,kt=_e.length;for(Ye=[];++ft<kt;)Ye[ft-1]=a.quantile(ue,ft/kt);return ot}function ot(ft){if(!isNaN(ft=+ft))return _e[a.bisect(Ye,ft)]}return ot.domain=function(ft){return arguments.length?(ue=ft.map(y).filter(c).sort(u),nt()):ue},ot.range=function(ft){return arguments.length?(_e=ft,nt()):_e},ot.quantiles=function(){return Ye},ot.invertExtent=function(ft){return ft=_e.indexOf(ft),ft<0?[NaN,NaN]:[ft>0?Ye[ft-1]:ue[0],ft<Ye.length?Ye[ft]:ue[ue.length-1]]},ot.copy=function(){return iu(ue,_e)},nt()}a.scale.quantize=function(){return fi(0,1,[0,1])};function fi(ue,_e,Ye){var nt,ot;function ft(mt){return Ye[Math.max(0,Math.min(ot,Math.floor(nt*(mt-ue))))]}function kt(){return nt=Ye.length/(_e-ue),ot=Ye.length-1,ft}return ft.domain=function(mt){return arguments.length?(ue=+mt[0],_e=+mt[mt.length-1],kt()):[ue,_e]},ft.range=function(mt){return arguments.length?(Ye=mt,kt()):Ye},ft.invertExtent=function(mt){return mt=Ye.indexOf(mt),mt=mt<0?NaN:mt/nt+ue,[mt,mt+1/nt]},ft.copy=function(){return fi(ue,_e,Ye)},kt()}a.scale.threshold=function(){return vl([.5],[0,1])};function vl(ue,_e){function Ye(nt){if(nt<=nt)return _e[a.bisect(ue,nt)]}return Ye.domain=function(nt){return arguments.length?(ue=nt,Ye):ue},Ye.range=function(nt){return arguments.length?(_e=nt,Ye):_e},Ye.invertExtent=function(nt){return nt=_e.indexOf(nt),[ue[nt-1],ue[nt]]},Ye.copy=function(){return vl(ue,_e)},Ye}a.scale.identity=function(){return Cu([0,1])};function Cu(ue){function _e(Ye){return+Ye}return _e.invert=_e,_e.domain=_e.range=function(Ye){return arguments.length?(ue=Ye.map(_e),_e):ue},_e.ticks=function(Ye){return hs(ue,Ye)},_e.tickFormat=function(Ye,nt){return d3_scale_linearTickFormat(ue,Ye,nt)},_e.copy=function(){return Cu(ue)},_e}a.svg={};function Fl(){return 0}a.svg.arc=function(){var ue=zf,_e=Ff,Ye=Fl,nt=Ks,ot=Lu,ft=zo,kt=bc;function mt(){var ar=Math.max(0,+ue.apply(this,arguments)),sr=Math.max(0,+_e.apply(this,arguments)),Ir=ot.apply(this,arguments)-rt,Rr=ft.apply(this,arguments)-rt,Kr=Math.abs(Rr-Ir),an=Ir>Rr?0:1;if(sr<ar&&(Fr=sr,sr=ar,ar=Fr),Kr>=qe)return Wt(sr,an)+(ar?Wt(ar,1-an):"")+"Z";var Fr,Gr,Zr,ln,dn=0,Xr=0,Bn,Jn,na,ca,Ea,Aa,Ua,Pa,Ga=[];if((ln=(+kt.apply(this,arguments)||0)/2)&&(Zr=nt===Ks?Math.sqrt(ar*ar+sr*sr):+nt.apply(this,arguments),an||(Xr*=-1),sr&&(Xr=tr(Zr/sr*Math.sin(ln))),ar&&(dn=tr(Zr/ar*Math.sin(ln)))),sr){Bn=sr*Math.cos(Ir+Xr),Jn=sr*Math.sin(Ir+Xr),na=sr*Math.cos(Rr-Xr),ca=sr*Math.sin(Rr-Xr);var ni=Math.abs(Rr-Ir-2*Xr)<=Me?0:1;if(Xr&&$s(Bn,Jn,na,ca)===an^ni){var ii=(Ir+Rr)/2;Bn=sr*Math.cos(ii),Jn=sr*Math.sin(ii),na=ca=null}}else Bn=Jn=0;if(ar){Ea=ar*Math.cos(Rr-dn),Aa=ar*Math.sin(Rr-dn),Ua=ar*Math.cos(Ir+dn),Pa=ar*Math.sin(Ir+dn);var di=Math.abs(Ir-Rr+2*dn)<=Me?0:1;if(dn&&$s(Ea,Aa,Ua,Pa)===1-an^di){var Wn=(Ir+Rr)/2;Ea=ar*Math.cos(Wn),Aa=ar*Math.sin(Wn),Ua=Pa=null}}else Ea=Aa=0;if(Kr>ye&&(Fr=Math.min(Math.abs(sr-ar)/2,+Ye.apply(this,arguments)))>.001){Gr=ar<sr^an?0:1;var Ha=Fr,Na=Fr;if(Kr<Me){var Xa=Ua==null?[Ea,Aa]:na==null?[Bn,Jn]:mn([Bn,Jn],[Ua,Pa],[na,ca],[Ea,Aa]),Mi=Bn-Xa[0],Oi=Jn-Xa[1],Xi=na-Xa[0],wi=ca-Xa[1],mi=1/Math.sin(Math.acos((Mi*Xi+Oi*wi)/(Math.sqrt(Mi*Mi+Oi*Oi)*Math.sqrt(Xi*Xi+wi*wi)))/2),wa=Math.sqrt(Xa[0]*Xa[0]+Xa[1]*Xa[1]);Na=Math.min(Fr,(ar-wa)/(mi-1)),Ha=Math.min(Fr,(sr-wa)/(mi+1))}if(na!=null){var Ca=dl(Ua==null?[Ea,Aa]:[Ua,Pa],[Bn,Jn],sr,Ha,an),Ai=dl([na,ca],[Ea,Aa],sr,Ha,an);Fr===Ha?Ga.push("M",Ca[0],"A",Ha,",",Ha," 0 0,",Gr," ",Ca[1],"A",sr,",",sr," 0 ",1-an^$s(Ca[1][0],Ca[1][1],Ai[1][0],Ai[1][1]),",",an," ",Ai[1],"A",Ha,",",Ha," 0 0,",Gr," ",Ai[0]):Ga.push("M",Ca[0],"A",Ha,",",Ha," 0 1,",Gr," ",Ai[0])}else Ga.push("M",Bn,",",Jn);if(Ua!=null){var Gi=dl([Bn,Jn],[Ua,Pa],ar,-Na,an),Wo=dl([Ea,Aa],na==null?[Bn,Jn]:[na,ca],ar,-Na,an);Fr===Na?Ga.push("L",Wo[0],"A",Na,",",Na," 0 0,",Gr," ",Wo[1],"A",ar,",",ar," 0 ",an^$s(Wo[1][0],Wo[1][1],Gi[1][0],Gi[1][1]),",",1-an," ",Gi[1],"A",Na,",",Na," 0 0,",Gr," ",Gi[0]):Ga.push("L",Wo[0],"A",Na,",",Na," 0 0,",Gr," ",Gi[0])}else Ga.push("L",Ea,",",Aa)}else Ga.push("M",Bn,",",Jn),na!=null&&Ga.push("A",sr,",",sr," 0 ",ni,",",an," ",na,",",ca),Ga.push("L",Ea,",",Aa),Ua!=null&&Ga.push("A",ar,",",ar," 0 ",di,",",1-an," ",Ua,",",Pa);return Ga.push("Z"),Ga.join("")}function Wt(ar,sr){return"M0,"+ar+"A"+ar+","+ar+" 0 1,"+sr+" 0,"+-ar+"A"+ar+","+ar+" 0 1,"+sr+" 0,"+ar}return mt.innerRadius=function(ar){return arguments.length?(ue=rn(ar),mt):ue},mt.outerRadius=function(ar){return arguments.length?(_e=rn(ar),mt):_e},mt.cornerRadius=function(ar){return arguments.length?(Ye=rn(ar),mt):Ye},mt.padRadius=function(ar){return arguments.length?(nt=ar==Ks?Ks:rn(ar),mt):nt},mt.startAngle=function(ar){return arguments.length?(ot=rn(ar),mt):ot},mt.endAngle=function(ar){return arguments.length?(ft=rn(ar),mt):ft},mt.padAngle=function(ar){return arguments.length?(kt=rn(ar),mt):kt},mt.centroid=function(){var ar=(+ue.apply(this,arguments)+ +_e.apply(this,arguments))/2,sr=(+ot.apply(this,arguments)+ +ft.apply(this,arguments))/2-rt;return[Math.cos(sr)*ar,Math.sin(sr)*ar]},mt};var Ks="auto";function zf(ue){return ue.innerRadius}function Ff(ue){return ue.outerRadius}function Lu(ue){return ue.startAngle}function zo(ue){return ue.endAngle}function bc(ue){return ue&&ue.padAngle}function $s(ue,_e,Ye,nt){return(ue-Ye)*_e-(_e-nt)*ue>0?0:1}function dl(ue,_e,Ye,nt,ot){var ft=ue[0]-_e[0],kt=ue[1]-_e[1],mt=(ot?nt:-nt)/Math.sqrt(ft*ft+kt*kt),Wt=mt*kt,ar=-mt*ft,sr=ue[0]+Wt,Ir=ue[1]+ar,Rr=_e[0]+Wt,Kr=_e[1]+ar,an=(sr+Rr)/2,Fr=(Ir+Kr)/2,Gr=Rr-sr,Zr=Kr-Ir,ln=Gr*Gr+Zr*Zr,dn=Ye-nt,Xr=sr*Kr-Rr*Ir,Bn=(Zr<0?-1:1)*Math.sqrt(Math.max(0,dn*dn*ln-Xr*Xr)),Jn=(Xr*Zr-Gr*Bn)/ln,na=(-Xr*Gr-Zr*Bn)/ln,ca=(Xr*Zr+Gr*Bn)/ln,Ea=(-Xr*Gr+Zr*Bn)/ln,Aa=Jn-an,Ua=na-Fr,Pa=ca-an,Ga=Ea-Fr;return Aa*Aa+Ua*Ua>Pa*Pa+Ga*Ga&&(Jn=ca,na=Ea),[[Jn-Wt,na-ar],[Jn*Ye/dn,na*Ye/dn]]}function Nl(){return!0}function pl(ue){var _e=ea,Ye=Zn,nt=Nl,ot=Go,ft=ot.key,kt=.7;function mt(Wt){var ar=[],sr=[],Ir=-1,Rr=Wt.length,Kr,an=rn(_e),Fr=rn(Ye);function Gr(){ar.push("M",ot(ue(sr),kt))}for(;++Ir<Rr;)nt.call(this,Kr=Wt[Ir],Ir)?sr.push([+an.call(this,Kr,Ir),+Fr.call(this,Kr,Ir)]):sr.length&&(Gr(),sr=[]);return sr.length&&Gr(),ar.length?ar.join(""):null}return mt.x=function(Wt){return arguments.length?(_e=Wt,mt):_e},mt.y=function(Wt){return arguments.length?(Ye=Wt,mt):Ye},mt.defined=function(Wt){return arguments.length?(nt=Wt,mt):nt},mt.interpolate=function(Wt){return arguments.length?(typeof Wt=="function"?ft=ot=Wt:ft=(ot=wo.get(Wt)||Go).key,mt):ft},mt.tension=function(Wt){return arguments.length?(kt=Wt,mt):kt},mt}a.svg.line=function(){return pl(N)};var wo=a.map({linear:Go,"linear-closed":Bl,step:wc,"step-before":ou,"step-after":rf,basis:Qs,"basis-open":Kc,"basis-closed":Bf,bundle:nf,cardinal:Nf,"cardinal-open":Tc,"cardinal-closed":ts,monotone:Uf});wo.forEach(function(ue,_e){_e.key=ue,_e.closed=/-closed$/.test(ue)});function Go(ue){return ue.length>1?ue.join("L"):ue+"Z"}function Bl(ue){return ue.join("L")+"Z"}function wc(ue){for(var _e=0,Ye=ue.length,nt=ue[0],ot=[nt[0],",",nt[1]];++_e<Ye;)ot.push("H",(nt[0]+(nt=ue[_e])[0])/2,"V",nt[1]);return Ye>1&&ot.push("H",nt[0]),ot.join("")}function ou(ue){for(var _e=0,Ye=ue.length,nt=ue[0],ot=[nt[0],",",nt[1]];++_e<Ye;)ot.push("V",(nt=ue[_e])[1],"H",nt[0]);return ot.join("")}function rf(ue){for(var _e=0,Ye=ue.length,nt=ue[0],ot=[nt[0],",",nt[1]];++_e<Ye;)ot.push("H",(nt=ue[_e])[0],"V",nt[1]);return ot.join("")}function Tc(ue,_e){return ue.length<4?Go(ue):ue[1]+Js(ue.slice(1,-1),Ul(ue,_e))}function ts(ue,_e){return ue.length<3?Bl(ue):ue[0]+Js((ue.push(ue[0]),ue),Ul([ue[ue.length-2]].concat(ue,[ue[1]]),_e))}function Nf(ue,_e){return ue.length<3?Go(ue):ue[0]+Js(ue,Ul(ue,_e))}function Js(ue,_e){if(_e.length<1||ue.length!=_e.length&&ue.length!=_e.length+2)return Go(ue);var Ye=ue.length!=_e.length,nt="",ot=ue[0],ft=ue[1],kt=_e[0],mt=kt,Wt=1;if(Ye&&(nt+="Q"+(ft[0]-kt[0]*2/3)+","+(ft[1]-kt[1]*2/3)+","+ft[0]+","+ft[1],ot=ue[1],Wt=2),_e.length>1){mt=_e[1],ft=ue[Wt],Wt++,nt+="C"+(ot[0]+kt[0])+","+(ot[1]+kt[1])+","+(ft[0]-mt[0])+","+(ft[1]-mt[1])+","+ft[0]+","+ft[1];for(var ar=2;ar<_e.length;ar++,Wt++)ft=ue[Wt],mt=_e[ar],nt+="S"+(ft[0]-mt[0])+","+(ft[1]-mt[1])+","+ft[0]+","+ft[1]}if(Ye){var sr=ue[Wt];nt+="Q"+(ft[0]+mt[0]*2/3)+","+(ft[1]+mt[1]*2/3)+","+sr[0]+","+sr[1]}return nt}function Ul(ue,_e){for(var Ye=[],nt=(1-_e)/2,ot,ft=ue[0],kt=ue[1],mt=1,Wt=ue.length;++mt<Wt;)ot=ft,ft=kt,kt=ue[mt],Ye.push([nt*(kt[0]-ot[0]),nt*(kt[1]-ot[1])]);return Ye}function Qs(ue){if(ue.length<3)return Go(ue);var _e=1,Ye=ue.length,nt=ue[0],ot=nt[0],ft=nt[1],kt=[ot,ot,ot,(nt=ue[1])[0]],mt=[ft,ft,ft,nt[1]],Wt=[ot,",",ft,"L",yo(Rs,kt),",",yo(Rs,mt)];for(ue.push(ue[Ye-1]);++_e<=Ye;)nt=ue[_e],kt.shift(),kt.push(nt[0]),mt.shift(),mt.push(nt[1]),af(Wt,kt,mt);return ue.pop(),Wt.push("L",nt),Wt.join("")}function Kc(ue){if(ue.length<4)return Go(ue);for(var _e=[],Ye=-1,nt=ue.length,ot,ft=[0],kt=[0];++Ye<3;)ot=ue[Ye],ft.push(ot[0]),kt.push(ot[1]);for(_e.push(yo(Rs,ft)+","+yo(Rs,kt)),--Ye;++Ye<nt;)ot=ue[Ye],ft.shift(),ft.push(ot[0]),kt.shift(),kt.push(ot[1]),af(_e,ft,kt);return _e.join("")}function Bf(ue){for(var _e,Ye=-1,nt=ue.length,ot=nt+4,ft,kt=[],mt=[];++Ye<4;)ft=ue[Ye%nt],kt.push(ft[0]),mt.push(ft[1]);for(_e=[yo(Rs,kt),",",yo(Rs,mt)],--Ye;++Ye<ot;)ft=ue[Ye%nt],kt.shift(),kt.push(ft[0]),mt.shift(),mt.push(ft[1]),af(_e,kt,mt);return _e.join("")}function nf(ue,_e){var Ye=ue.length-1;if(Ye)for(var nt=ue[0][0],ot=ue[0][1],ft=ue[Ye][0]-nt,kt=ue[Ye][1]-ot,mt=-1,Wt,ar;++mt<=Ye;)Wt=ue[mt],ar=mt/Ye,Wt[0]=_e*Wt[0]+(1-_e)*(nt+ar*ft),Wt[1]=_e*Wt[1]+(1-_e)*(ot+ar*kt);return Qs(ue)}function yo(ue,_e){return ue[0]*_e[0]+ue[1]*_e[1]+ue[2]*_e[2]+ue[3]*_e[3]}var Ac=[0,2/3,1/3,0],ds=[0,1/3,2/3,0],Rs=[0,1/6,2/3,1/6];function af(ue,_e,Ye){ue.push("C",yo(Ac,_e),",",yo(Ac,Ye),",",yo(ds,_e),",",yo(ds,Ye),",",yo(Rs,_e),",",yo(Rs,Ye))}function mo(ue,_e){return(_e[1]-ue[1])/(_e[0]-ue[0])}function Pu(ue){for(var _e=0,Ye=ue.length-1,nt=[],ot=ue[0],ft=ue[1],kt=nt[0]=mo(ot,ft);++_e<Ye;)nt[_e]=(kt+(kt=mo(ot=ft,ft=ue[_e+1])))/2;return nt[_e]=kt,nt}function Sc(ue){for(var _e=[],Ye,nt,ot,ft,kt=Pu(ue),mt=-1,Wt=ue.length-1;++mt<Wt;)Ye=mo(ue[mt],ue[mt+1]),d(Ye)<ye?kt[mt]=kt[mt+1]=0:(nt=kt[mt]/Ye,ot=kt[mt+1]/Ye,ft=nt*nt+ot*ot,ft>9&&(ft=Ye*3/Math.sqrt(ft),kt[mt]=ft*nt,kt[mt+1]=ft*ot));for(mt=-1;++mt<=Wt;)ft=(ue[Math.min(Wt,mt+1)][0]-ue[Math.max(0,mt-1)][0])/(6*(1+kt[mt]*kt[mt])),_e.push([ft||0,kt[mt]*ft||0]);return _e}function Uf(ue){return ue.length<3?Go(ue):ue[0]+Js(ue,Sc(ue))}a.svg.line.radial=function(){var ue=pl(of);return ue.radius=ue.x,delete ue.x,ue.angle=ue.y,delete ue.y,ue};function of(ue){for(var _e,Ye=-1,nt=ue.length,ot,ft;++Ye<nt;)_e=ue[Ye],ot=_e[0],ft=_e[1]-rt,_e[0]=ot*Math.cos(ft),_e[1]=ot*Math.sin(ft);return ue}function yl(ue){var _e=ea,Ye=ea,nt=0,ot=Zn,ft=Nl,kt=Go,mt=kt.key,Wt=kt,ar="L",sr=.7;function Ir(Rr){var Kr=[],an=[],Fr=[],Gr=-1,Zr=Rr.length,ln,dn=rn(_e),Xr=rn(nt),Bn=_e===Ye?function(){return na}:rn(Ye),Jn=nt===ot?function(){return ca}:rn(ot),na,ca;function Ea(){Kr.push("M",kt(ue(Fr),sr),ar,Wt(ue(an.reverse()),sr),"Z")}for(;++Gr<Zr;)ft.call(this,ln=Rr[Gr],Gr)?(an.push([na=+dn.call(this,ln,Gr),ca=+Xr.call(this,ln,Gr)]),Fr.push([+Bn.call(this,ln,Gr),+Jn.call(this,ln,Gr)])):an.length&&(Ea(),an=[],Fr=[]);return an.length&&Ea(),Kr.length?Kr.join(""):null}return Ir.x=function(Rr){return arguments.length?(_e=Ye=Rr,Ir):Ye},Ir.x0=function(Rr){return arguments.length?(_e=Rr,Ir):_e},Ir.x1=function(Rr){return arguments.length?(Ye=Rr,Ir):Ye},Ir.y=function(Rr){return arguments.length?(nt=ot=Rr,Ir):ot},Ir.y0=function(Rr){return arguments.length?(nt=Rr,Ir):nt},Ir.y1=function(Rr){return arguments.length?(ot=Rr,Ir):ot},Ir.defined=function(Rr){return arguments.length?(ft=Rr,Ir):ft},Ir.interpolate=function(Rr){return arguments.length?(typeof Rr=="function"?mt=kt=Rr:mt=(kt=wo.get(Rr)||Go).key,Wt=kt.reverse||kt,ar=kt.closed?"M":"L",Ir):mt},Ir.tension=function(Rr){return arguments.length?(sr=Rr,Ir):sr},Ir}ou.reverse=rf,rf.reverse=ou,a.svg.area=function(){return yl(N)},a.svg.area.radial=function(){var ue=yl(of);return ue.radius=ue.x,delete ue.x,ue.innerRadius=ue.x0,delete ue.x0,ue.outerRadius=ue.x1,delete ue.x1,ue.angle=ue.y,delete ue.y,ue.startAngle=ue.y0,delete ue.y0,ue.endAngle=ue.y1,delete ue.y1,ue};function _u(ue){return ue.source}function Ru(ue){return ue.target}a.svg.chord=function(){var ue=_u,_e=Ru,Ye=Hf,nt=Lu,ot=zo;function ft(sr,Ir){var Rr=kt(this,ue,sr,Ir),Kr=kt(this,_e,sr,Ir);return"M"+Rr.p0+Wt(Rr.r,Rr.p1,Rr.a1-Rr.a0)+(mt(Rr,Kr)?ar(Rr.r,Rr.p1,Rr.r,Rr.p0):ar(Rr.r,Rr.p1,Kr.r,Kr.p0)+Wt(Kr.r,Kr.p1,Kr.a1-Kr.a0)+ar(Kr.r,Kr.p1,Rr.r,Rr.p0))+"Z"}function kt(sr,Ir,Rr,Kr){var an=Ir.call(sr,Rr,Kr),Fr=Ye.call(sr,an,Kr),Gr=nt.call(sr,an,Kr)-rt,Zr=ot.call(sr,an,Kr)-rt;return{r:Fr,a0:Gr,a1:Zr,p0:[Fr*Math.cos(Gr),Fr*Math.sin(Gr)],p1:[Fr*Math.cos(Zr),Fr*Math.sin(Zr)]}}function mt(sr,Ir){return sr.a0==Ir.a0&&sr.a1==Ir.a1}function Wt(sr,Ir,Rr){return"A"+sr+","+sr+" 0 "+ +(Rr>Me)+",1 "+Ir}function ar(sr,Ir,Rr,Kr){return"Q 0,0 "+Kr}return ft.radius=function(sr){return arguments.length?(Ye=rn(sr),ft):Ye},ft.source=function(sr){return arguments.length?(ue=rn(sr),ft):ue},ft.target=function(sr){return arguments.length?(_e=rn(sr),ft):_e},ft.startAngle=function(sr){return arguments.length?(nt=rn(sr),ft):nt},ft.endAngle=function(sr){return arguments.length?(ot=rn(sr),ft):ot},ft};function Hf(ue){return ue.radius}a.svg.diagonal=function(){var ue=_u,_e=Ru,Ye=Du;function nt(ot,ft){var kt=ue.call(this,ot,ft),mt=_e.call(this,ot,ft),Wt=(kt.y+mt.y)/2,ar=[kt,{x:kt.x,y:Wt},{x:mt.x,y:Wt},mt];return ar=ar.map(Ye),"M"+ar[0]+"C"+ar[1]+" "+ar[2]+" "+ar[3]}return nt.source=function(ot){return arguments.length?(ue=rn(ot),nt):ue},nt.target=function(ot){return arguments.length?(_e=rn(ot),nt):_e},nt.projection=function(ot){return arguments.length?(Ye=ot,nt):Ye},nt};function Du(ue){return[ue.x,ue.y]}a.svg.diagonal.radial=function(){var ue=a.svg.diagonal(),_e=Du,Ye=ue.projection;return ue.projection=function(nt){return arguments.length?Ye(Ec(_e=nt)):_e},ue};function Ec(ue){return function(){var _e=ue.apply(this,arguments),Ye=_e[0],nt=_e[1]-rt;return[Ye*Math.cos(nt),Ye*Math.sin(nt)]}}a.svg.symbol=function(){var ue=lt,_e=et;function Ye(nt,ot){return(wt.get(ue.call(this,nt,ot))||xt)(_e.call(this,nt,ot))}return Ye.type=function(nt){return arguments.length?(ue=rn(nt),Ye):ue},Ye.size=function(nt){return arguments.length?(_e=rn(nt),Ye):_e},Ye};function et(){return 64}function lt(){return"circle"}function xt(ue){var _e=Math.sqrt(ue/Me);return"M0,"+_e+"A"+_e+","+_e+" 0 1,1 0,"+-_e+"A"+_e+","+_e+" 0 1,1 0,"+_e+"Z"}var wt=a.map({circle:xt,cross:function(ue){var _e=Math.sqrt(ue/5)/2;return"M"+-3*_e+","+-_e+"H"+-_e+"V"+-3*_e+"H"+_e+"V"+-_e+"H"+3*_e+"V"+_e+"H"+_e+"V"+3*_e+"H"+-_e+"V"+_e+"H"+-3*_e+"Z"},diamond:function(ue){var _e=Math.sqrt(ue/(2*It)),Ye=_e*It;return"M0,"+-_e+"L"+Ye+",0 0,"+_e+" "+-Ye+",0Z"},square:function(ue){var _e=Math.sqrt(ue)/2;return"M"+-_e+","+-_e+"L"+_e+","+-_e+" "+_e+","+_e+" "+-_e+","+_e+"Z"},"triangle-down":function(ue){var _e=Math.sqrt(ue/Ft),Ye=_e*Ft/2;return"M0,"+Ye+"L"+_e+","+-Ye+" "+-_e+","+-Ye+"Z"},"triangle-up":function(ue){var _e=Math.sqrt(ue/Ft),Ye=_e*Ft/2;return"M0,"+-Ye+"L"+_e+","+Ye+" "+-_e+","+Ye+"Z"}});a.svg.symbolTypes=wt.keys();var Ft=Math.sqrt(3),It=Math.tan(30*pt);q.transition=function(ue){for(var _e=Dr||++Cr,Ye=Sn(ue),nt=[],ot,ft,kt=jr||{time:Date.now(),ease:Uc,delay:0,duration:250},mt=-1,Wt=this.length;++mt<Wt;){nt.push(ot=[]);for(var ar=this[mt],sr=-1,Ir=ar.length;++sr<Ir;)(ft=ar[sr])&&Dn(ft,sr,Ye,_e,kt),ot.push(ft)}return Tr(nt,Ye,_e)},q.interrupt=function(ue){return this.each(ue==null?Gt:pr(Sn(ue)))};var Gt=pr(Sn());function pr(ue){return function(){var _e,Ye,nt;(_e=this[ue])&&(nt=_e[Ye=_e.active])&&(nt.timer.c=null,nt.timer.t=NaN,--_e.count?delete _e[Ye]:delete this[ue],_e.active+=.5,nt.event&&nt.event.interrupt.call(this,this.__data__,nt.index))}}function Tr(ue,_e,Ye){return Z(ue,ir),ue.namespace=_e,ue.id=Ye,ue}var ir=[],Cr=0,Dr,jr;ir.call=q.call,ir.empty=q.empty,ir.node=q.node,ir.size=q.size,a.transition=function(ue,_e){return ue&&ue.transition?Dr?ue.transition(_e):ue:a.selection().transition(ue)},a.transition.prototype=ir,ir.select=function(ue){var _e=this.id,Ye=this.namespace,nt=[],ot,ft,kt;ue=le(ue);for(var mt=-1,Wt=this.length;++mt<Wt;){nt.push(ot=[]);for(var ar=this[mt],sr=-1,Ir=ar.length;++sr<Ir;)(kt=ar[sr])&&(ft=ue.call(kt,kt.__data__,sr,mt))?("__data__"in kt&&(ft.__data__=kt.__data__),Dn(ft,sr,Ye,_e,kt[Ye][_e]),ot.push(ft)):ot.push(null)}return Tr(nt,Ye,_e)},ir.selectAll=function(ue){var _e=this.id,Ye=this.namespace,nt=[],ot,ft,kt,mt,Wt;ue=oe(ue);for(var ar=-1,sr=this.length;++ar<sr;)for(var Ir=this[ar],Rr=-1,Kr=Ir.length;++Rr<Kr;)if(kt=Ir[Rr]){Wt=kt[Ye][_e],ft=ue.call(kt,kt.__data__,Rr,ar),nt.push(ot=[]);for(var an=-1,Fr=ft.length;++an<Fr;)(mt=ft[an])&&Dn(mt,an,Ye,_e,Wt),ot.push(mt)}return Tr(nt,Ye,_e)},ir.filter=function(ue){var _e=[],Ye,nt,ot;typeof ue!="function"&&(ue=ut(ue));for(var ft=0,kt=this.length;ft<kt;ft++){_e.push(Ye=[]);for(var nt=this[ft],mt=0,Wt=nt.length;mt<Wt;mt++)(ot=nt[mt])&&ue.call(ot,ot.__data__,mt,ft)&&Ye.push(ot)}return Tr(_e,this.namespace,this.id)},ir.tween=function(ue,_e){var Ye=this.id,nt=this.namespace;return arguments.length<2?this.node()[nt][Ye].tween.get(ue):it(this,_e==null?function(ot){ot[nt][Ye].tween.remove(ue)}:function(ot){ot[nt][Ye].tween.set(ue,_e)})};function Qr(ue,_e,Ye,nt){var ot=ue.id,ft=ue.namespace;return it(ue,typeof Ye=="function"?function(kt,mt,Wt){kt[ft][ot].tween.set(_e,nt(Ye.call(kt,kt.__data__,mt,Wt)))}:(Ye=nt(Ye),function(kt){kt[ft][ot].tween.set(_e,Ye)}))}ir.attr=function(ue,_e){if(arguments.length<2){for(_e in ue)this.attr(_e,ue[_e]);return this}var Ye=ue=="transform"?Rl:qo,nt=a.ns.qualify(ue);function ot(){this.removeAttribute(nt)}function ft(){this.removeAttributeNS(nt.space,nt.local)}function kt(Wt){return Wt==null?ot:(Wt+="",function(){var ar=this.getAttribute(nt),sr;return ar!==Wt&&(sr=Ye(ar,Wt),function(Ir){this.setAttribute(nt,sr(Ir))})})}function mt(Wt){return Wt==null?ft:(Wt+="",function(){var ar=this.getAttributeNS(nt.space,nt.local),sr;return ar!==Wt&&(sr=Ye(ar,Wt),function(Ir){this.setAttributeNS(nt.space,nt.local,sr(Ir))})})}return Qr(this,"attr."+ue,_e,nt.local?mt:kt)},ir.attrTween=function(ue,_e){var Ye=a.ns.qualify(ue);function nt(ft,kt){var mt=_e.call(this,ft,kt,this.getAttribute(Ye));return mt&&function(Wt){this.setAttribute(Ye,mt(Wt))}}function ot(ft,kt){var mt=_e.call(this,ft,kt,this.getAttributeNS(Ye.space,Ye.local));return mt&&function(Wt){this.setAttributeNS(Ye.space,Ye.local,mt(Wt))}}return this.tween("attr."+ue,Ye.local?ot:nt)},ir.style=function(ue,_e,Ye){var nt=arguments.length;if(nt<3){if(typeof ue!="string"){nt<2&&(_e="");for(Ye in ue)this.style(Ye,ue[Ye],_e);return this}Ye=""}function ot(){this.style.removeProperty(ue)}function ft(kt){return kt==null?ot:(kt+="",function(){var mt=t(this).getComputedStyle(this,null).getPropertyValue(ue),Wt;return mt!==kt&&(Wt=qo(mt,kt),function(ar){this.style.setProperty(ue,Wt(ar),Ye)})})}return Qr(this,"style."+ue,_e,ft)},ir.styleTween=function(ue,_e,Ye){arguments.length<3&&(Ye="");function nt(ot,ft){var kt=_e.call(this,ot,ft,t(this).getComputedStyle(this,null).getPropertyValue(ue));return kt&&function(mt){this.style.setProperty(ue,kt(mt),Ye)}}return this.tween("style."+ue,nt)},ir.text=function(ue){return Qr(this,"text",ue,wn)};function wn(ue){return ue==null&&(ue=""),function(){this.textContent=ue}}ir.remove=function(){var ue=this.namespace;return this.each("end.transition",function(){var _e;this[ue].count<2&&(_e=this.parentNode)&&_e.removeChild(this)})},ir.ease=function(ue){var _e=this.id,Ye=this.namespace;return arguments.length<1?this.node()[Ye][_e].ease:(typeof ue!="function"&&(ue=a.ease.apply(a,arguments)),it(this,function(nt){nt[Ye][_e].ease=ue}))},ir.delay=function(ue){var _e=this.id,Ye=this.namespace;return arguments.length<1?this.node()[Ye][_e].delay:it(this,typeof ue=="function"?function(nt,ot,ft){nt[Ye][_e].delay=+ue.call(nt,nt.__data__,ot,ft)}:(ue=+ue,function(nt){nt[Ye][_e].delay=ue}))},ir.duration=function(ue){var _e=this.id,Ye=this.namespace;return arguments.length<1?this.node()[Ye][_e].duration:it(this,typeof ue=="function"?function(nt,ot,ft){nt[Ye][_e].duration=Math.max(1,ue.call(nt,nt.__data__,ot,ft))}:(ue=Math.max(1,ue),function(nt){nt[Ye][_e].duration=ue}))},ir.each=function(ue,_e){var Ye=this.id,nt=this.namespace;if(arguments.length<2){var ot=jr,ft=Dr;try{Dr=Ye,it(this,function(kt,mt,Wt){jr=kt[nt][Ye],ue.call(kt,kt.__data__,mt,Wt)})}finally{jr=ot,Dr=ft}}else it(this,function(kt){var mt=kt[nt][Ye];(mt.event||(mt.event=a.dispatch("start","end","interrupt"))).on(ue,_e)});return this},ir.transition=function(){for(var ue=this.id,_e=++Cr,Ye=this.namespace,nt=[],ot,ft,kt,mt,Wt=0,ar=this.length;Wt<ar;Wt++){nt.push(ot=[]);for(var ft=this[Wt],sr=0,Ir=ft.length;sr<Ir;sr++)(kt=ft[sr])&&(mt=kt[Ye][ue],Dn(kt,sr,Ye,_e,{time:mt.time,ease:mt.ease,delay:mt.delay+mt.duration,duration:mt.duration})),ot.push(kt)}return Tr(nt,Ye,_e)};function Sn(ue){return ue==null?"__transition__":"__transition_"+ue+"__"}function Dn(ue,_e,Ye,nt,ot){var ft=ue[Ye]||(ue[Ye]={active:0,count:0}),kt=ft[nt],mt,Wt,ar,sr,Ir;function Rr(Fr){var Gr=kt.delay;if(Wt.t=Gr+mt,Gr<=Fr)return Kr(Fr-Gr);Wt.c=Kr}function Kr(Fr){var Gr=ft.active,Zr=ft[Gr];Zr&&(Zr.timer.c=null,Zr.timer.t=NaN,--ft.count,delete ft[Gr],Zr.event&&Zr.event.interrupt.call(ue,ue.__data__,Zr.index));for(var ln in ft)if(+ln<nt){var dn=ft[ln];dn.timer.c=null,dn.timer.t=NaN,--ft.count,delete ft[ln]}Wt.c=an,Pn(function(){return Wt.c&&an(Fr||1)&&(Wt.c=null,Wt.t=NaN),1},0,mt),ft.active=nt,kt.event&&kt.event.start.call(ue,ue.__data__,_e),Ir=[],kt.tween.forEach(function(Xr,Bn){(Bn=Bn.call(ue,ue.__data__,_e))&&Ir.push(Bn)}),sr=kt.ease,ar=kt.duration}function an(Fr){for(var Gr=Fr/ar,Zr=sr(Gr),ln=Ir.length;ln>0;)Ir[--ln].call(ue,Zr);if(Gr>=1)return kt.event&&kt.event.end.call(ue,ue.__data__,_e),--ft.count?delete ft[nt]:delete ue[Ye],1}kt||(mt=ot.time,Wt=Pn(Rr,0,mt),kt=ft[nt]={tween:new P,time:mt,timer:Wt,delay:ot.delay,duration:ot.duration,ease:ot.ease,index:_e},ot=null,++ft.count)}a.svg.axis=function(){var ue=a.scale.linear(),_e=pa,Ye=6,nt=6,ot=3,ft=[10],kt=null,mt;function Wt(ar){ar.each(function(){var sr=a.select(this),Ir=this.__chart__||ue,Rr=this.__chart__=ue.copy(),Kr=kt??(Rr.ticks?Rr.ticks.apply(Rr,ft):Rr.domain()),an=mt??(Rr.tickFormat?Rr.tickFormat.apply(Rr,ft):N),Fr=sr.selectAll(".tick").data(Kr,Rr),Gr=Fr.enter().insert("g",".domain").attr("class","tick").style("opacity",ye),Zr=a.transition(Fr.exit()).style("opacity",ye).remove(),ln=a.transition(Fr.order()).style("opacity",1),dn=Math.max(Ye,0)+ot,Xr,Bn=Eu(Rr),Jn=sr.selectAll(".domain").data([0]),na=(Jn.enter().append("path").attr("class","domain"),a.transition(Jn));Gr.append("line"),Gr.append("text");var ca=Gr.select("line"),Ea=ln.select("line"),Aa=Fr.select("text").text(an),Ua=Gr.select("text"),Pa=ln.select("text"),Ga=_e==="top"||_e==="left"?-1:1,ni,ii,di,Wn;if(_e==="bottom"||_e==="top"?(Xr=Ia,ni="x",di="y",ii="x2",Wn="y2",Aa.attr("dy",Ga<0?"0em":".71em").style("text-anchor","middle"),na.attr("d","M"+Bn[0]+","+Ga*nt+"V0H"+Bn[1]+"V"+Ga*nt)):(Xr=ka,ni="y",di="x",ii="y2",Wn="x2",Aa.attr("dy",".32em").style("text-anchor",Ga<0?"end":"start"),na.attr("d","M"+Ga*nt+","+Bn[0]+"H0V"+Bn[1]+"H"+Ga*nt)),ca.attr(Wn,Ga*Ye),Ua.attr(di,Ga*dn),Ea.attr(ii,0).attr(Wn,Ga*Ye),Pa.attr(ni,0).attr(di,Ga*dn),Rr.rangeBand){var Ha=Rr,Na=Ha.rangeBand()/2;Ir=Rr=function(Xa){return Ha(Xa)+Na}}else Ir.rangeBand?Ir=Rr:Zr.call(Xr,Rr,Ir);Gr.call(Xr,Ir,Rr),ln.call(Xr,Rr,Rr)})}return Wt.scale=function(ar){return arguments.length?(ue=ar,Wt):ue},Wt.orient=function(ar){return arguments.length?(_e=ar in Ra?ar+"":pa,Wt):_e},Wt.ticks=function(){return arguments.length?(ft=A(arguments),Wt):ft},Wt.tickValues=function(ar){return arguments.length?(kt=ar,Wt):kt},Wt.tickFormat=function(ar){return arguments.length?(mt=ar,Wt):mt},Wt.tickSize=function(ar){var sr=arguments.length;return sr?(Ye=+ar,nt=+arguments[sr-1],Wt):Ye},Wt.innerTickSize=function(ar){return arguments.length?(Ye=+ar,Wt):Ye},Wt.outerTickSize=function(ar){return arguments.length?(nt=+ar,Wt):nt},Wt.tickPadding=function(ar){return arguments.length?(ot=+ar,Wt):ot},Wt.tickSubdivide=function(){return arguments.length&&Wt},Wt};var pa="bottom",Ra={top:1,right:1,bottom:1,left:1};function Ia(ue,_e,Ye){ue.attr("transform",function(nt){var ot=_e(nt);return"translate("+(isFinite(ot)?ot:Ye(nt))+",0)"})}function ka(ue,_e,Ye){ue.attr("transform",function(nt){var ot=_e(nt);return"translate(0,"+(isFinite(ot)?ot:Ye(nt))+")"})}a.svg.brush=function(){var ue=Q(sr,"brushstart","brush","brushend"),_e=null,Ye=null,nt=[0,0],ot=[0,0],ft,kt,mt=!0,Wt=!0,ar=si[0];function sr(Fr){Fr.each(function(){var Gr=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",an).on("touchstart.brush",an),Zr=Gr.selectAll(".background").data([0]);Zr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Gr.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var ln=Gr.selectAll(".resize").data(ar,N);ln.exit().remove(),ln.enter().append("g").attr("class",function(Jn){return"resize "+Jn}).style("cursor",function(Jn){return Fa[Jn]}).append("rect").attr("x",function(Jn){return/[ew]$/.test(Jn)?-3:null}).attr("y",function(Jn){return/^[ns]/.test(Jn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),ln.style("display",sr.empty()?"none":null);var dn=a.transition(Gr),Xr=a.transition(Zr),Bn;_e&&(Bn=Eu(_e),Xr.attr("x",Bn[0]).attr("width",Bn[1]-Bn[0]),Rr(dn)),Ye&&(Bn=Eu(Ye),Xr.attr("y",Bn[0]).attr("height",Bn[1]-Bn[0]),Kr(dn)),Ir(dn)})}sr.event=function(Fr){Fr.each(function(){var Gr=ue.of(this,arguments),Zr={x:nt,y:ot,i:ft,j:kt},ln=this.__chart__||Zr;this.__chart__=Zr,Dr?a.select(this).transition().each("start.brush",function(){ft=ln.i,kt=ln.j,nt=ln.x,ot=ln.y,Gr({type:"brushstart"})}).tween("brush:brush",function(){var dn=lo(nt,Zr.x),Xr=lo(ot,Zr.y);return ft=kt=null,function(Bn){nt=Zr.x=dn(Bn),ot=Zr.y=Xr(Bn),Gr({type:"brush",mode:"resize"})}}).each("end.brush",function(){ft=Zr.i,kt=Zr.j,Gr({type:"brush",mode:"resize"}),Gr({type:"brushend"})}):(Gr({type:"brushstart"}),Gr({type:"brush",mode:"resize"}),Gr({type:"brushend"}))})};function Ir(Fr){Fr.selectAll(".resize").attr("transform",function(Gr){return"translate("+nt[+/e$/.test(Gr)]+","+ot[+/^s/.test(Gr)]+")"})}function Rr(Fr){Fr.select(".extent").attr("x",nt[0]),Fr.selectAll(".extent,.n>rect,.s>rect").attr("width",nt[1]-nt[0])}function Kr(Fr){Fr.select(".extent").attr("y",ot[0]),Fr.selectAll(".extent,.e>rect,.w>rect").attr("height",ot[1]-ot[0])}function an(){var Fr=this,Gr=a.select(a.event.target),Zr=ue.of(Fr,arguments),ln=a.select(Fr),dn=Gr.datum(),Xr=!/^(n|s)$/.test(dn)&&_e,Bn=!/^(e|w)$/.test(dn)&&Ye,Jn=Gr.classed("extent"),na=ze(Fr),ca,Ea=a.mouse(Fr),Aa,Ua=a.select(t(Fr)).on("keydown.brush",ni).on("keyup.brush",ii);if(a.event.changedTouches?Ua.on("touchmove.brush",di).on("touchend.brush",Ha):Ua.on("mousemove.brush",di).on("mouseup.brush",Ha),ln.interrupt().selectAll("*").interrupt(),Jn)Ea[0]=nt[0]-Ea[0],Ea[1]=ot[0]-Ea[1];else if(dn){var Pa=+/w$/.test(dn),Ga=+/^n/.test(dn);Aa=[nt[1-Pa]-Ea[0],ot[1-Ga]-Ea[1]],Ea[0]=nt[Pa],Ea[1]=ot[Ga]}else a.event.altKey&&(ca=Ea.slice());ln.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",Gr.style("cursor")),Zr({type:"brushstart"}),di();function ni(){a.event.keyCode==32&&(Jn||(ca=null,Ea[0]-=nt[1],Ea[1]-=ot[1],Jn=2),ie())}function ii(){a.event.keyCode==32&&Jn==2&&(Ea[0]+=nt[1],Ea[1]+=ot[1],Jn=0,ie())}function di(){var Na=a.mouse(Fr),Xa=!1;Aa&&(Na[0]+=Aa[0],Na[1]+=Aa[1]),Jn||(a.event.altKey?(ca||(ca=[(nt[0]+nt[1])/2,(ot[0]+ot[1])/2]),Ea[0]=nt[+(Na[0]<ca[0])],Ea[1]=ot[+(Na[1]<ca[1])]):ca=null),Xr&&Wn(Na,_e,0)&&(Rr(ln),Xa=!0),Bn&&Wn(Na,Ye,1)&&(Kr(ln),Xa=!0),Xa&&(Ir(ln),Zr({type:"brush",mode:Jn?"move":"resize"}))}function Wn(Na,Xa,Mi){var Oi=Eu(Xa),Xi=Oi[0],wi=Oi[1],mi=Ea[Mi],wa=Mi?ot:nt,Ca=wa[1]-wa[0],Ai,Gi;if(Jn&&(Xi-=mi,wi-=Ca+mi),Ai=(Mi?Wt:mt)?Math.max(Xi,Math.min(wi,Na[Mi])):Na[Mi],Jn?Gi=(Ai+=mi)+Ca:(ca&&(mi=Math.max(Xi,Math.min(wi,2*ca[Mi]-Ai))),mi<Ai?(Gi=Ai,Ai=mi):Gi=mi),wa[0]!=Ai||wa[1]!=Gi)return Mi?kt=null:ft=null,wa[0]=Ai,wa[1]=Gi,!0}function Ha(){di(),ln.style("pointer-events","all").selectAll(".resize").style("display",sr.empty()?"none":null),a.select("body").style("cursor",null),Ua.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),na(),Zr({type:"brushend"})}}return sr.x=function(Fr){return arguments.length?(_e=Fr,ar=si[!_e<<1|!Ye],sr):_e},sr.y=function(Fr){return arguments.length?(Ye=Fr,ar=si[!_e<<1|!Ye],sr):Ye},sr.clamp=function(Fr){return arguments.length?(_e&&Ye?(mt=!!Fr[0],Wt=!!Fr[1]):_e?mt=!!Fr:Ye&&(Wt=!!Fr),sr):_e&&Ye?[mt,Wt]:_e?mt:Ye?Wt:null},sr.extent=function(Fr){var Gr,Zr,ln,dn,Xr;return arguments.length?(_e&&(Gr=Fr[0],Zr=Fr[1],Ye&&(Gr=Gr[0],Zr=Zr[0]),ft=[Gr,Zr],_e.invert&&(Gr=_e(Gr),Zr=_e(Zr)),Zr<Gr&&(Xr=Gr,Gr=Zr,Zr=Xr),(Gr!=nt[0]||Zr!=nt[1])&&(nt=[Gr,Zr])),Ye&&(ln=Fr[0],dn=Fr[1],_e&&(ln=ln[1],dn=dn[1]),kt=[ln,dn],Ye.invert&&(ln=Ye(ln),dn=Ye(dn)),dn<ln&&(Xr=ln,ln=dn,dn=Xr),(ln!=ot[0]||dn!=ot[1])&&(ot=[ln,dn])),sr):(_e&&(ft?(Gr=ft[0],Zr=ft[1]):(Gr=nt[0],Zr=nt[1],_e.invert&&(Gr=_e.invert(Gr),Zr=_e.invert(Zr)),Zr<Gr&&(Xr=Gr,Gr=Zr,Zr=Xr))),Ye&&(kt?(ln=kt[0],dn=kt[1]):(ln=ot[0],dn=ot[1],Ye.invert&&(ln=Ye.invert(ln),dn=Ye.invert(dn)),dn<ln&&(Xr=ln,ln=dn,dn=Xr))),_e&&Ye?[[Gr,ln],[Zr,dn]]:_e?[Gr,Zr]:Ye&&[ln,dn])},sr.clear=function(){return sr.empty()||(nt=[0,0],ot=[0,0],ft=kt=null),sr},sr.empty=function(){return!!_e&&nt[0]==nt[1]||!!Ye&&ot[0]==ot[1]},a.rebind(sr,ue,"on")};var Fa={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},si=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];a.text=Un(function(ue){return ue.responseText}),a.json=function(ue,_e){return bn(ue,"application/json",Ei,_e)};function Ei(ue){return JSON.parse(ue.responseText)}a.html=function(ue,_e){return bn(ue,"text/html",bi,_e)};function bi(ue){var _e=v.createRange();return _e.selectNode(v.body),_e.createContextualFragment(ue.responseText)}a.xml=Un(function(ue){return ue.responseXML}),g=a,_=typeof g=="function"?g.call(V,e,V,G):g,_!==void 0&&(G.exports=_)}).apply(self)},88294:function(G,V,e){G.exports=e(62849)},62849:function(G,V,e){var g=e(91358),_=e(53435),a=e(18863),C=e(21527),A=e(71299),v=e(46775),p=e(30120),t=e(64941),r=e(90660),s=e(27084),n=1073741824;G.exports=function(u,y){y||(y={}),u=p(u,"float64"),y=A(y,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var c=v(y.maxDepth,255),T=v(y.bounds,C(u,2));T[0]===T[2]&&T[2]++,T[1]===T[3]&&T[3]++;var h=i(u,T),l=u.length>>>1,d;y.dtype||(y.dtype="array"),typeof y.dtype=="string"?d=new(r(y.dtype))(l):y.dtype&&(d=y.dtype,Array.isArray(d)&&(d.length=l));for(var E=0;E<l;++E)d[E]=E;var S=[],P=[],x=[],M=[];U(0,0,1,d,0,1);for(var w=0,o=0;o<S.length;o++){var L=S[o];if(d.set)d.set(L,w);else for(var m=0,F=L.length;m<F;m++)d[m+w]=L[m];var I=w+S[o].length;M[o]=[w,I],w=I}return d.range=z,d;function U(O,H,Y,J,re,ie){if(!J.length)return null;var ce=S[re]||(S[re]=[]),Q=x[re]||(x[re]=[]),j=P[re]||(P[re]=[]),Z=ce.length;if(re++,re>c||ie>n){for(var $=0;$<J.length;$++)ce.push(J[$]),Q.push(ie),j.push(null,null,null,null);return Z}if(ce.push(J[0]),Q.push(ie),J.length<=1)return j.push(null,null,null,null),Z;for(var te=Y*.5,se=O+te,ee=H+te,q=[],le=[],oe=[],he=[],me=1,Ce=J.length;me<Ce;me++){var Ae=J[me],Ue=h[Ae*2],Ve=h[Ae*2+1];Ue<se?Ve<ee?q.push(Ae):le.push(Ae):Ve<ee?oe.push(Ae):he.push(Ae)}return ie<<=2,j.push(U(O,H,te,q,re,ie),U(O,ee,te,le,re,ie+1),U(se,H,te,oe,re,ie+2),U(se,ee,te,he,re,ie+3)),Z}function z(){for(var O=[],H=arguments.length;H--;)O[H]=arguments[H];var Y;if(t(O[O.length-1])){var J=O.pop();!O.length&&(J.x!=null||J.l!=null||J.left!=null)&&(O=[J],Y={}),Y=A(J,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else Y={};O.length||(O=T);var re=a.apply(void 0,O),ie=[Math.min(re.x,re.x+re.width),Math.min(re.y,re.y+re.height),Math.max(re.x,re.x+re.width),Math.max(re.y,re.y+re.height)],ce=ie[0],Q=ie[1],j=ie[2],Z=ie[3],$=i([ce,Q,j,Z],T),te=$[0],se=$[1],ee=$[2],q=$[3],le=v(Y.level,S.length);if(Y.d!=null){var oe;typeof Y.d=="number"?oe=[Y.d,Y.d]:Y.d.length&&(oe=Y.d),le=Math.min(Math.max(Math.ceil(-s(Math.abs(oe[0])/(T[2]-T[0]))),Math.ceil(-s(Math.abs(oe[1])/(T[3]-T[1])))),le)}if(le=Math.min(le,S.length),Y.lod)return N(te,se,ee,q,le);var he=[];me(0,0,1,0,0,1);function me(Ae,Ue,Ve,Pe,be,Le){if(!(be===null||Le===null)){var We=Ae+Ve,je=Ue+Ve;if(!(te>We||se>je||ee<Ae||q<Ue)&&!(Pe>=le)&&be!==Le){var Fe=S[Pe];Le===void 0&&(Le=Fe.length);for(var Ze=be;Ze<Le;Ze++){var ut=Fe[Ze],at=u[ut*2],it=u[ut*2+1];at>=ce&&at<=j&&it>=Q&&it<=Z&&he.push(ut)}var $e=P[Pe],st=$e[be*4+0],ct=$e[be*4+1],vt=$e[be*4+2],St=$e[be*4+3],Mt=Ce($e,be+1),Bt=Ve*.5,Qe=Pe+1;me(Ae,Ue,Bt,Qe,st,ct||vt||St||Mt),me(Ae,Ue+Bt,Bt,Qe,ct,vt||St||Mt),me(Ae+Bt,Ue,Bt,Qe,vt,St||Mt),me(Ae+Bt,Ue+Bt,Bt,Qe,St,Mt)}}}function Ce(Ae,Ue){for(var Ve=null,Pe=0;Ve===null;)if(Ve=Ae[Ue*4+Pe],Pe++,Pe>Ae.length)return null;return Ve}return he}function N(O,H,Y,J,re){for(var ie=[],ce=0;ce<re;ce++){var Q=x[ce],j=M[ce][0],Z=B(O,H,ce),$=B(Y,J,ce),te=g.ge(Q,Z),se=g.gt(Q,$,te,Q.length-1);ie[ce]=[te+j,se+j]}return ie}function B(O,H,Y){for(var J=1,re=.5,ie=.5,ce=.5,Q=0;Q<Y;Q++)J<<=2,J+=O<re?H<ie?0:1:H<ie?2:3,ce*=.5,re+=O<re?-ce:ce,ie+=H<ie?-ce:ce;return J}};function i(f,u){for(var y=u[0],c=u[1],T=u[2],h=u[3],l=1/(T-y),d=1/(h-c),E=new Array(f.length),S=0,P=f.length/2;S<P;S++)E[2*S]=_((f[2*S]-y)*l,0,1),E[2*S+1]=_((f[2*S+1]-c)*d,0,1);return E}},30774:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var g=e(60302),_=6378137;function a(t){return g.geomReduce(t,function(r,s){return r+C(s)},0)}V.default=a;function C(t){var r=0,s;switch(t.type){case"Polygon":return A(t.coordinates);case"MultiPolygon":for(s=0;s<t.coordinates.length;s++)r+=A(t.coordinates[s]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function A(t){var r=0;if(t&&t.length>0){r+=Math.abs(v(t[0]));for(var s=1;s<t.length;s++)r-=Math.abs(v(t[s]))}return r}function v(t){var r,s,n,i,f,u,y,c=0,T=t.length;if(T>2){for(y=0;y<T;y++)y===T-2?(i=T-2,f=T-1,u=0):y===T-1?(i=T-1,f=0,u=1):(i=y,f=y+1,u=y+2),r=t[i],s=t[f],n=t[u],c+=(p(n[0])-p(r[0]))*Math.sin(p(s[1]));c=c*_*_/2}return c}function p(t){return t*Math.PI/180}},23132:function(G,V){Object.defineProperty(V,"__esModule",{value:!0}),V.earthRadius=63710088e-1,V.factors={centimeters:V.earthRadius*100,centimetres:V.earthRadius*100,degrees:V.earthRadius/111325,feet:V.earthRadius*3.28084,inches:V.earthRadius*39.37,kilometers:V.earthRadius/1e3,kilometres:V.earthRadius/1e3,meters:V.earthRadius,metres:V.earthRadius,miles:V.earthRadius/1609.344,millimeters:V.earthRadius*1e3,millimetres:V.earthRadius*1e3,nauticalmiles:V.earthRadius/1852,radians:1,yards:V.earthRadius*1.0936},V.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/V.earthRadius,yards:1.0936133},V.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(w,o,L){L===void 0&&(L={});var m={type:"Feature"};return(L.id===0||L.id)&&(m.id=L.id),L.bbox&&(m.bbox=L.bbox),m.properties=o||{},m.geometry=w,m}V.feature=e;function g(w,o,L){switch(w){case"Point":return _(o).geometry;case"LineString":return v(o).geometry;case"Polygon":return C(o).geometry;case"MultiPoint":return s(o).geometry;case"MultiLineString":return r(o).geometry;case"MultiPolygon":return n(o).geometry;default:throw new Error(w+" is invalid")}}V.geometry=g;function _(w,o,L){if(L===void 0&&(L={}),!w)throw new Error("coordinates is required");if(!Array.isArray(w))throw new Error("coordinates must be an Array");if(w.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!S(w[0])||!S(w[1]))throw new Error("coordinates must contain numbers");var m={type:"Point",coordinates:w};return e(m,o,L)}V.point=_;function a(w,o,L){return L===void 0&&(L={}),t(w.map(function(m){return _(m,o)}),L)}V.points=a;function C(w,o,L){L===void 0&&(L={});for(var m=0,F=w;m<F.length;m++){var I=F[m];if(I.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var U=0;U<I[I.length-1].length;U++)if(I[I.length-1][U]!==I[0][U])throw new Error("First and last Position are not equivalent.")}var z={type:"Polygon",coordinates:w};return e(z,o,L)}V.polygon=C;function A(w,o,L){return L===void 0&&(L={}),t(w.map(function(m){return C(m,o)}),L)}V.polygons=A;function v(w,o,L){if(L===void 0&&(L={}),w.length<2)throw new Error("coordinates must be an array of two or more positions");var m={type:"LineString",coordinates:w};return e(m,o,L)}V.lineString=v;function p(w,o,L){return L===void 0&&(L={}),t(w.map(function(m){return v(m,o)}),L)}V.lineStrings=p;function t(w,o){o===void 0&&(o={});var L={type:"FeatureCollection"};return o.id&&(L.id=o.id),o.bbox&&(L.bbox=o.bbox),L.features=w,L}V.featureCollection=t;function r(w,o,L){L===void 0&&(L={});var m={type:"MultiLineString",coordinates:w};return e(m,o,L)}V.multiLineString=r;function s(w,o,L){L===void 0&&(L={});var m={type:"MultiPoint",coordinates:w};return e(m,o,L)}V.multiPoint=s;function n(w,o,L){L===void 0&&(L={});var m={type:"MultiPolygon",coordinates:w};return e(m,o,L)}V.multiPolygon=n;function i(w,o,L){L===void 0&&(L={});var m={type:"GeometryCollection",geometries:w};return e(m,o,L)}V.geometryCollection=i;function f(w,o){if(o===void 0&&(o=0),o&&!(o>=0))throw new Error("precision must be a positive number");var L=Math.pow(10,o||0);return Math.round(w*L)/L}V.round=f;function u(w,o){o===void 0&&(o="kilometers");var L=V.factors[o];if(!L)throw new Error(o+" units is invalid");return w*L}V.radiansToLength=u;function y(w,o){o===void 0&&(o="kilometers");var L=V.factors[o];if(!L)throw new Error(o+" units is invalid");return w/L}V.lengthToRadians=y;function c(w,o){return h(y(w,o))}V.lengthToDegrees=c;function T(w){var o=w%360;return o<0&&(o+=360),o}V.bearingToAzimuth=T;function h(w){var o=w%(2*Math.PI);return o*180/Math.PI}V.radiansToDegrees=h;function l(w){var o=w%360;return o*Math.PI/180}V.degreesToRadians=l;function d(w,o,L){if(o===void 0&&(o="kilometers"),L===void 0&&(L="kilometers"),!(w>=0))throw new Error("length must be a positive number");return u(y(w,o),L)}V.convertLength=d;function E(w,o,L){if(o===void 0&&(o="meters"),L===void 0&&(L="kilometers"),!(w>=0))throw new Error("area must be a positive number");var m=V.areaFactors[o];if(!m)throw new Error("invalid original units");var F=V.areaFactors[L];if(!F)throw new Error("invalid final units");return w/m*F}V.convertArea=E;function S(w){return!isNaN(w)&&w!==null&&!Array.isArray(w)}V.isNumber=S;function P(w){return!!w&&w.constructor===Object}V.isObject=P;function x(w){if(!w)throw new Error("bbox is required");if(!Array.isArray(w))throw new Error("bbox must be an Array");if(w.length!==4&&w.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");w.forEach(function(o){if(!S(o))throw new Error("bbox must only contain numbers")})}V.validateBBox=x;function M(w){if(!w)throw new Error("id is required");if(["string","number"].indexOf(typeof w)===-1)throw new Error("id must be a number or a string")}V.validateId=M},60302:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var g=e(23132);function _(l,d,E){if(l!==null)for(var S,P,x,M,w,o,L,m=0,F=0,I,U=l.type,z=U==="FeatureCollection",N=U==="Feature",B=z?l.features.length:1,O=0;O<B;O++){L=z?l.features[O].geometry:N?l.geometry:l,I=L?L.type==="GeometryCollection":!1,w=I?L.geometries.length:1;for(var H=0;H<w;H++){var Y=0,J=0;if(M=I?L.geometries[H]:L,M!==null){o=M.coordinates;var re=M.type;switch(m=E&&(re==="Polygon"||re==="MultiPolygon")?1:0,re){case null:break;case"Point":if(d(o,F,O,Y,J)===!1)return!1;F++,Y++;break;case"LineString":case"MultiPoint":for(S=0;S<o.length;S++){if(d(o[S],F,O,Y,J)===!1)return!1;F++,re==="MultiPoint"&&Y++}re==="LineString"&&Y++;break;case"Polygon":case"MultiLineString":for(S=0;S<o.length;S++){for(P=0;P<o[S].length-m;P++){if(d(o[S][P],F,O,Y,J)===!1)return!1;F++}re==="MultiLineString"&&Y++,re==="Polygon"&&J++}re==="Polygon"&&Y++;break;case"MultiPolygon":for(S=0;S<o.length;S++){for(J=0,P=0;P<o[S].length;P++){for(x=0;x<o[S][P].length-m;x++){if(d(o[S][P][x],F,O,Y,J)===!1)return!1;F++}J++}Y++}break;case"GeometryCollection":for(S=0;S<M.geometries.length;S++)if(_(M.geometries[S],d,E)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(l,d,E,S){var P=E;return _(l,function(x,M,w,o,L){M===0&&E===void 0?P=x:P=d(P,x,M,w,o,L)},S),P}function C(l,d){var E;switch(l.type){case"FeatureCollection":for(E=0;E<l.features.length&&d(l.features[E].properties,E)!==!1;E++);break;case"Feature":d(l.properties,0);break}}function A(l,d,E){var S=E;return C(l,function(P,x){x===0&&E===void 0?S=P:S=d(S,P,x)}),S}function v(l,d){if(l.type==="Feature")d(l,0);else if(l.type==="FeatureCollection")for(var E=0;E<l.features.length&&d(l.features[E],E)!==!1;E++);}function p(l,d,E){var S=E;return v(l,function(P,x){x===0&&E===void 0?S=P:S=d(S,P,x)}),S}function t(l){var d=[];return _(l,function(E){d.push(E)}),d}function r(l,d){var E,S,P,x,M,w,o,L,m,F,I=0,U=l.type==="FeatureCollection",z=l.type==="Feature",N=U?l.features.length:1;for(E=0;E<N;E++){for(w=U?l.features[E].geometry:z?l.geometry:l,L=U?l.features[E].properties:z?l.properties:{},m=U?l.features[E].bbox:z?l.bbox:void 0,F=U?l.features[E].id:z?l.id:void 0,o=w?w.type==="GeometryCollection":!1,M=o?w.geometries.length:1,P=0;P<M;P++){if(x=o?w.geometries[P]:w,x===null){if(d(null,I,L,m,F)===!1)return!1;continue}switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(x,I,L,m,F)===!1)return!1;break}case"GeometryCollection":{for(S=0;S<x.geometries.length;S++)if(d(x.geometries[S],I,L,m,F)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function s(l,d,E){var S=E;return r(l,function(P,x,M,w,o){x===0&&E===void 0?S=P:S=d(S,P,x,M,w,o)}),S}function n(l,d){r(l,function(E,S,P,x,M){var w=E===null?null:E.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return d(g.feature(E,P,{bbox:x,id:M}),S,0)===!1?!1:void 0}var o;switch(w){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon";break}for(var L=0;L<E.coordinates.length;L++){var m=E.coordinates[L],F={type:o,coordinates:m};if(d(g.feature(F,P),S,L)===!1)return!1}})}function i(l,d,E){var S=E;return n(l,function(P,x,M){x===0&&M===0&&E===void 0?S=P:S=d(S,P,x,M)}),S}function f(l,d){n(l,function(E,S,P){var x=0;if(E.geometry){var M=E.geometry.type;if(!(M==="Point"||M==="MultiPoint")){var w,o=0,L=0,m=0;if(_(E,function(F,I,U,z,N){if(w===void 0||S>o||z>L||N>m){w=F,o=S,L=z,m=N,x=0;return}var B=g.lineString([w,F],E.properties);if(d(B,S,P,N,x)===!1)return!1;x++,w=F})===!1)return!1}}})}function u(l,d,E){var S=E,P=!1;return f(l,function(x,M,w,o,L){P===!1&&E===void 0?S=x:S=d(S,x,M,w,o,L),P=!0}),S}function y(l,d){if(!l)throw new Error("geojson is required");n(l,function(E,S,P){if(E.geometry!==null){var x=E.geometry.type,M=E.geometry.coordinates;switch(x){case"LineString":if(d(E,S,P,0,0)===!1)return!1;break;case"Polygon":for(var w=0;w<M.length;w++)if(d(g.lineString(M[w],E.properties),S,P,w)===!1)return!1;break}}})}function c(l,d,E){var S=E;return y(l,function(P,x,M,w){x===0&&E===void 0?S=P:S=d(S,P,x,M,w)}),S}function T(l,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var E=d.featureIndex||0,S=d.multiFeatureIndex||0,P=d.geometryIndex||0,x=d.segmentIndex||0,M=d.properties,w;switch(l.type){case"FeatureCollection":E<0&&(E=l.features.length+E),M=M||l.features[E].properties,w=l.features[E].geometry;break;case"Feature":M=M||l.properties,w=l.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=l;break;default:throw new Error("geojson is invalid")}if(w===null)return null;var o=w.coordinates;switch(w.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=o.length+x-1),g.lineString([o[x],o[x+1]],M,d);case"Polygon":return P<0&&(P=o.length+P),x<0&&(x=o[P].length+x-1),g.lineString([o[P][x],o[P][x+1]],M,d);case"MultiLineString":return S<0&&(S=o.length+S),x<0&&(x=o[S].length+x-1),g.lineString([o[S][x],o[S][x+1]],M,d);case"MultiPolygon":return S<0&&(S=o.length+S),P<0&&(P=o[S].length+P),x<0&&(x=o[S][P].length-x-1),g.lineString([o[S][P][x],o[S][P][x+1]],M,d)}throw new Error("geojson is invalid")}function h(l,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var E=d.featureIndex||0,S=d.multiFeatureIndex||0,P=d.geometryIndex||0,x=d.coordIndex||0,M=d.properties,w;switch(l.type){case"FeatureCollection":E<0&&(E=l.features.length+E),M=M||l.features[E].properties,w=l.features[E].geometry;break;case"Feature":M=M||l.properties,w=l.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=l;break;default:throw new Error("geojson is invalid")}if(w===null)return null;var o=w.coordinates;switch(w.type){case"Point":return g.point(o,M,d);case"MultiPoint":return S<0&&(S=o.length+S),g.point(o[S],M,d);case"LineString":return x<0&&(x=o.length+x),g.point(o[x],M,d);case"Polygon":return P<0&&(P=o.length+P),x<0&&(x=o[P].length+x),g.point(o[P][x],M,d);case"MultiLineString":return S<0&&(S=o.length+S),x<0&&(x=o[S].length+x),g.point(o[S][x],M,d);case"MultiPolygon":return S<0&&(S=o.length+S),P<0&&(P=o[S].length+P),x<0&&(x=o[S][P].length-x),g.point(o[S][P][x],M,d)}throw new Error("geojson is invalid")}V.coordEach=_,V.coordReduce=a,V.propEach=C,V.propReduce=A,V.featureEach=v,V.featureReduce=p,V.coordAll=t,V.geomEach=r,V.geomReduce=s,V.flattenEach=n,V.flattenReduce=i,V.segmentEach=f,V.segmentReduce=u,V.lineEach=y,V.lineReduce=c,V.findSegment=T,V.findPoint=h},85268:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var g=e(27138);function _(a){var C=[1/0,1/0,-1/0,-1/0];return g.coordEach(a,function(A){C[0]>A[0]&&(C[0]=A[0]),C[1]>A[1]&&(C[1]=A[1]),C[2]<A[0]&&(C[2]=A[0]),C[3]<A[1]&&(C[3]=A[1])}),C}_.default=_,V.default=_},94228:function(G,V){Object.defineProperty(V,"__esModule",{value:!0}),V.earthRadius=63710088e-1,V.factors={centimeters:V.earthRadius*100,centimetres:V.earthRadius*100,degrees:V.earthRadius/111325,feet:V.earthRadius*3.28084,inches:V.earthRadius*39.37,kilometers:V.earthRadius/1e3,kilometres:V.earthRadius/1e3,meters:V.earthRadius,metres:V.earthRadius,miles:V.earthRadius/1609.344,millimeters:V.earthRadius*1e3,millimetres:V.earthRadius*1e3,nauticalmiles:V.earthRadius/1852,radians:1,yards:V.earthRadius*1.0936},V.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/V.earthRadius,yards:1.0936133},V.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(w,o,L){L===void 0&&(L={});var m={type:"Feature"};return(L.id===0||L.id)&&(m.id=L.id),L.bbox&&(m.bbox=L.bbox),m.properties=o||{},m.geometry=w,m}V.feature=e;function g(w,o,L){switch(w){case"Point":return _(o).geometry;case"LineString":return v(o).geometry;case"Polygon":return C(o).geometry;case"MultiPoint":return s(o).geometry;case"MultiLineString":return r(o).geometry;case"MultiPolygon":return n(o).geometry;default:throw new Error(w+" is invalid")}}V.geometry=g;function _(w,o,L){if(L===void 0&&(L={}),!w)throw new Error("coordinates is required");if(!Array.isArray(w))throw new Error("coordinates must be an Array");if(w.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!S(w[0])||!S(w[1]))throw new Error("coordinates must contain numbers");var m={type:"Point",coordinates:w};return e(m,o,L)}V.point=_;function a(w,o,L){return L===void 0&&(L={}),t(w.map(function(m){return _(m,o)}),L)}V.points=a;function C(w,o,L){L===void 0&&(L={});for(var m=0,F=w;m<F.length;m++){var I=F[m];if(I.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var U=0;U<I[I.length-1].length;U++)if(I[I.length-1][U]!==I[0][U])throw new Error("First and last Position are not equivalent.")}var z={type:"Polygon",coordinates:w};return e(z,o,L)}V.polygon=C;function A(w,o,L){return L===void 0&&(L={}),t(w.map(function(m){return C(m,o)}),L)}V.polygons=A;function v(w,o,L){if(L===void 0&&(L={}),w.length<2)throw new Error("coordinates must be an array of two or more positions");var m={type:"LineString",coordinates:w};return e(m,o,L)}V.lineString=v;function p(w,o,L){return L===void 0&&(L={}),t(w.map(function(m){return v(m,o)}),L)}V.lineStrings=p;function t(w,o){o===void 0&&(o={});var L={type:"FeatureCollection"};return o.id&&(L.id=o.id),o.bbox&&(L.bbox=o.bbox),L.features=w,L}V.featureCollection=t;function r(w,o,L){L===void 0&&(L={});var m={type:"MultiLineString",coordinates:w};return e(m,o,L)}V.multiLineString=r;function s(w,o,L){L===void 0&&(L={});var m={type:"MultiPoint",coordinates:w};return e(m,o,L)}V.multiPoint=s;function n(w,o,L){L===void 0&&(L={});var m={type:"MultiPolygon",coordinates:w};return e(m,o,L)}V.multiPolygon=n;function i(w,o,L){L===void 0&&(L={});var m={type:"GeometryCollection",geometries:w};return e(m,o,L)}V.geometryCollection=i;function f(w,o){if(o===void 0&&(o=0),o&&!(o>=0))throw new Error("precision must be a positive number");var L=Math.pow(10,o||0);return Math.round(w*L)/L}V.round=f;function u(w,o){o===void 0&&(o="kilometers");var L=V.factors[o];if(!L)throw new Error(o+" units is invalid");return w*L}V.radiansToLength=u;function y(w,o){o===void 0&&(o="kilometers");var L=V.factors[o];if(!L)throw new Error(o+" units is invalid");return w/L}V.lengthToRadians=y;function c(w,o){return h(y(w,o))}V.lengthToDegrees=c;function T(w){var o=w%360;return o<0&&(o+=360),o}V.bearingToAzimuth=T;function h(w){var o=w%(2*Math.PI);return o*180/Math.PI}V.radiansToDegrees=h;function l(w){var o=w%360;return o*Math.PI/180}V.degreesToRadians=l;function d(w,o,L){if(o===void 0&&(o="kilometers"),L===void 0&&(L="kilometers"),!(w>=0))throw new Error("length must be a positive number");return u(y(w,o),L)}V.convertLength=d;function E(w,o,L){if(o===void 0&&(o="meters"),L===void 0&&(L="kilometers"),!(w>=0))throw new Error("area must be a positive number");var m=V.areaFactors[o];if(!m)throw new Error("invalid original units");var F=V.areaFactors[L];if(!F)throw new Error("invalid final units");return w/m*F}V.convertArea=E;function S(w){return!isNaN(w)&&w!==null&&!Array.isArray(w)}V.isNumber=S;function P(w){return!!w&&w.constructor===Object}V.isObject=P;function x(w){if(!w)throw new Error("bbox is required");if(!Array.isArray(w))throw new Error("bbox must be an Array");if(w.length!==4&&w.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");w.forEach(function(o){if(!S(o))throw new Error("bbox must only contain numbers")})}V.validateBBox=x;function M(w){if(!w)throw new Error("id is required");if(["string","number"].indexOf(typeof w)===-1)throw new Error("id must be a number or a string")}V.validateId=M},27138:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var g=e(94228);function _(l,d,E){if(l!==null)for(var S,P,x,M,w,o,L,m=0,F=0,I,U=l.type,z=U==="FeatureCollection",N=U==="Feature",B=z?l.features.length:1,O=0;O<B;O++){L=z?l.features[O].geometry:N?l.geometry:l,I=L?L.type==="GeometryCollection":!1,w=I?L.geometries.length:1;for(var H=0;H<w;H++){var Y=0,J=0;if(M=I?L.geometries[H]:L,M!==null){o=M.coordinates;var re=M.type;switch(m=E&&(re==="Polygon"||re==="MultiPolygon")?1:0,re){case null:break;case"Point":if(d(o,F,O,Y,J)===!1)return!1;F++,Y++;break;case"LineString":case"MultiPoint":for(S=0;S<o.length;S++){if(d(o[S],F,O,Y,J)===!1)return!1;F++,re==="MultiPoint"&&Y++}re==="LineString"&&Y++;break;case"Polygon":case"MultiLineString":for(S=0;S<o.length;S++){for(P=0;P<o[S].length-m;P++){if(d(o[S][P],F,O,Y,J)===!1)return!1;F++}re==="MultiLineString"&&Y++,re==="Polygon"&&J++}re==="Polygon"&&Y++;break;case"MultiPolygon":for(S=0;S<o.length;S++){for(J=0,P=0;P<o[S].length;P++){for(x=0;x<o[S][P].length-m;x++){if(d(o[S][P][x],F,O,Y,J)===!1)return!1;F++}J++}Y++}break;case"GeometryCollection":for(S=0;S<M.geometries.length;S++)if(_(M.geometries[S],d,E)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(l,d,E,S){var P=E;return _(l,function(x,M,w,o,L){M===0&&E===void 0?P=x:P=d(P,x,M,w,o,L)},S),P}function C(l,d){var E;switch(l.type){case"FeatureCollection":for(E=0;E<l.features.length&&d(l.features[E].properties,E)!==!1;E++);break;case"Feature":d(l.properties,0);break}}function A(l,d,E){var S=E;return C(l,function(P,x){x===0&&E===void 0?S=P:S=d(S,P,x)}),S}function v(l,d){if(l.type==="Feature")d(l,0);else if(l.type==="FeatureCollection")for(var E=0;E<l.features.length&&d(l.features[E],E)!==!1;E++);}function p(l,d,E){var S=E;return v(l,function(P,x){x===0&&E===void 0?S=P:S=d(S,P,x)}),S}function t(l){var d=[];return _(l,function(E){d.push(E)}),d}function r(l,d){var E,S,P,x,M,w,o,L,m,F,I=0,U=l.type==="FeatureCollection",z=l.type==="Feature",N=U?l.features.length:1;for(E=0;E<N;E++){for(w=U?l.features[E].geometry:z?l.geometry:l,L=U?l.features[E].properties:z?l.properties:{},m=U?l.features[E].bbox:z?l.bbox:void 0,F=U?l.features[E].id:z?l.id:void 0,o=w?w.type==="GeometryCollection":!1,M=o?w.geometries.length:1,P=0;P<M;P++){if(x=o?w.geometries[P]:w,x===null){if(d(null,I,L,m,F)===!1)return!1;continue}switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(x,I,L,m,F)===!1)return!1;break}case"GeometryCollection":{for(S=0;S<x.geometries.length;S++)if(d(x.geometries[S],I,L,m,F)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function s(l,d,E){var S=E;return r(l,function(P,x,M,w,o){x===0&&E===void 0?S=P:S=d(S,P,x,M,w,o)}),S}function n(l,d){r(l,function(E,S,P,x,M){var w=E===null?null:E.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return d(g.feature(E,P,{bbox:x,id:M}),S,0)===!1?!1:void 0}var o;switch(w){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon";break}for(var L=0;L<E.coordinates.length;L++){var m=E.coordinates[L],F={type:o,coordinates:m};if(d(g.feature(F,P),S,L)===!1)return!1}})}function i(l,d,E){var S=E;return n(l,function(P,x,M){x===0&&M===0&&E===void 0?S=P:S=d(S,P,x,M)}),S}function f(l,d){n(l,function(E,S,P){var x=0;if(E.geometry){var M=E.geometry.type;if(!(M==="Point"||M==="MultiPoint")){var w,o=0,L=0,m=0;if(_(E,function(F,I,U,z,N){if(w===void 0||S>o||z>L||N>m){w=F,o=S,L=z,m=N,x=0;return}var B=g.lineString([w,F],E.properties);if(d(B,S,P,N,x)===!1)return!1;x++,w=F})===!1)return!1}}})}function u(l,d,E){var S=E,P=!1;return f(l,function(x,M,w,o,L){P===!1&&E===void 0?S=x:S=d(S,x,M,w,o,L),P=!0}),S}function y(l,d){if(!l)throw new Error("geojson is required");n(l,function(E,S,P){if(E.geometry!==null){var x=E.geometry.type,M=E.geometry.coordinates;switch(x){case"LineString":if(d(E,S,P,0,0)===!1)return!1;break;case"Polygon":for(var w=0;w<M.length;w++)if(d(g.lineString(M[w],E.properties),S,P,w)===!1)return!1;break}}})}function c(l,d,E){var S=E;return y(l,function(P,x,M,w){x===0&&E===void 0?S=P:S=d(S,P,x,M,w)}),S}function T(l,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var E=d.featureIndex||0,S=d.multiFeatureIndex||0,P=d.geometryIndex||0,x=d.segmentIndex||0,M=d.properties,w;switch(l.type){case"FeatureCollection":E<0&&(E=l.features.length+E),M=M||l.features[E].properties,w=l.features[E].geometry;break;case"Feature":M=M||l.properties,w=l.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=l;break;default:throw new Error("geojson is invalid")}if(w===null)return null;var o=w.coordinates;switch(w.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=o.length+x-1),g.lineString([o[x],o[x+1]],M,d);case"Polygon":return P<0&&(P=o.length+P),x<0&&(x=o[P].length+x-1),g.lineString([o[P][x],o[P][x+1]],M,d);case"MultiLineString":return S<0&&(S=o.length+S),x<0&&(x=o[S].length+x-1),g.lineString([o[S][x],o[S][x+1]],M,d);case"MultiPolygon":return S<0&&(S=o.length+S),P<0&&(P=o[S].length+P),x<0&&(x=o[S][P].length-x-1),g.lineString([o[S][P][x],o[S][P][x+1]],M,d)}throw new Error("geojson is invalid")}function h(l,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var E=d.featureIndex||0,S=d.multiFeatureIndex||0,P=d.geometryIndex||0,x=d.coordIndex||0,M=d.properties,w;switch(l.type){case"FeatureCollection":E<0&&(E=l.features.length+E),M=M||l.features[E].properties,w=l.features[E].geometry;break;case"Feature":M=M||l.properties,w=l.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=l;break;default:throw new Error("geojson is invalid")}if(w===null)return null;var o=w.coordinates;switch(w.type){case"Point":return g.point(o,M,d);case"MultiPoint":return S<0&&(S=o.length+S),g.point(o[S],M,d);case"LineString":return x<0&&(x=o.length+x),g.point(o[x],M,d);case"Polygon":return P<0&&(P=o.length+P),x<0&&(x=o[P].length+x),g.point(o[P][x],M,d);case"MultiLineString":return S<0&&(S=o.length+S),x<0&&(x=o[S].length+x),g.point(o[S][x],M,d);case"MultiPolygon":return S<0&&(S=o.length+S),P<0&&(P=o[S].length+P),x<0&&(x=o[S][P].length-x),g.point(o[S][P][x],M,d)}throw new Error("geojson is invalid")}V.coordEach=_,V.coordReduce=a,V.propEach=C,V.propReduce=A,V.featureEach=v,V.featureReduce=p,V.coordAll=t,V.geomEach=r,V.geomReduce=s,V.flattenEach=n,V.flattenReduce=i,V.segmentEach=f,V.segmentReduce=u,V.lineEach=y,V.lineReduce=c,V.findSegment=T,V.findPoint=h},29261:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var g=e(88553),_=e(64182);function a(C,A){A===void 0&&(A={});var v=0,p=0,t=0;return g.coordEach(C,function(r){v+=r[0],p+=r[1],t++}),_.point([v/t,p/t],A.properties)}V.default=a},64182:function(G,V){Object.defineProperty(V,"__esModule",{value:!0}),V.earthRadius=63710088e-1,V.factors={centimeters:V.earthRadius*100,centimetres:V.earthRadius*100,degrees:V.earthRadius/111325,feet:V.earthRadius*3.28084,inches:V.earthRadius*39.37,kilometers:V.earthRadius/1e3,kilometres:V.earthRadius/1e3,meters:V.earthRadius,metres:V.earthRadius,miles:V.earthRadius/1609.344,millimeters:V.earthRadius*1e3,millimetres:V.earthRadius*1e3,nauticalmiles:V.earthRadius/1852,radians:1,yards:V.earthRadius/1.0936},V.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/V.earthRadius,yards:.91441111923921},V.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(z,N,B){B===void 0&&(B={});var O={type:"Feature"};return(B.id===0||B.id)&&(O.id=B.id),B.bbox&&(O.bbox=B.bbox),O.properties=N||{},O.geometry=z,O}V.feature=e;function g(z,N,B){switch(z){case"Point":return _(N).geometry;case"LineString":return v(N).geometry;case"Polygon":return C(N).geometry;case"MultiPoint":return s(N).geometry;case"MultiLineString":return r(N).geometry;case"MultiPolygon":return n(N).geometry;default:throw new Error(z+" is invalid")}}V.geometry=g;function _(z,N,B){B===void 0&&(B={});var O={type:"Point",coordinates:z};return e(O,N,B)}V.point=_;function a(z,N,B){return B===void 0&&(B={}),t(z.map(function(O){return _(O,N)}),B)}V.points=a;function C(z,N,B){B===void 0&&(B={});for(var O=0,H=z;O<H.length;O++){var Y=H[O];if(Y.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var J=0;J<Y[Y.length-1].length;J++)if(Y[Y.length-1][J]!==Y[0][J])throw new Error("First and last Position are not equivalent.")}var re={type:"Polygon",coordinates:z};return e(re,N,B)}V.polygon=C;function A(z,N,B){return B===void 0&&(B={}),t(z.map(function(O){return C(O,N)}),B)}V.polygons=A;function v(z,N,B){if(B===void 0&&(B={}),z.length<2)throw new Error("coordinates must be an array of two or more positions");var O={type:"LineString",coordinates:z};return e(O,N,B)}V.lineString=v;function p(z,N,B){return B===void 0&&(B={}),t(z.map(function(O){return v(O,N)}),B)}V.lineStrings=p;function t(z,N){N===void 0&&(N={});var B={type:"FeatureCollection"};return N.id&&(B.id=N.id),N.bbox&&(B.bbox=N.bbox),B.features=z,B}V.featureCollection=t;function r(z,N,B){B===void 0&&(B={});var O={type:"MultiLineString",coordinates:z};return e(O,N,B)}V.multiLineString=r;function s(z,N,B){B===void 0&&(B={});var O={type:"MultiPoint",coordinates:z};return e(O,N,B)}V.multiPoint=s;function n(z,N,B){B===void 0&&(B={});var O={type:"MultiPolygon",coordinates:z};return e(O,N,B)}V.multiPolygon=n;function i(z,N,B){B===void 0&&(B={});var O={type:"GeometryCollection",geometries:z};return e(O,N,B)}V.geometryCollection=i;function f(z,N){if(N===void 0&&(N=0),N&&!(N>=0))throw new Error("precision must be a positive number");var B=Math.pow(10,N||0);return Math.round(z*B)/B}V.round=f;function u(z,N){N===void 0&&(N="kilometers");var B=V.factors[N];if(!B)throw new Error(N+" units is invalid");return z*B}V.radiansToLength=u;function y(z,N){N===void 0&&(N="kilometers");var B=V.factors[N];if(!B)throw new Error(N+" units is invalid");return z/B}V.lengthToRadians=y;function c(z,N){return h(y(z,N))}V.lengthToDegrees=c;function T(z){var N=z%360;return N<0&&(N+=360),N}V.bearingToAzimuth=T;function h(z){var N=z%(2*Math.PI);return N*180/Math.PI}V.radiansToDegrees=h;function l(z){var N=z%360;return N*Math.PI/180}V.degreesToRadians=l;function d(z,N,B){if(N===void 0&&(N="kilometers"),B===void 0&&(B="kilometers"),!(z>=0))throw new Error("length must be a positive number");return u(y(z,N),B)}V.convertLength=d;function E(z,N,B){if(N===void 0&&(N="meters"),B===void 0&&(B="kilometers"),!(z>=0))throw new Error("area must be a positive number");var O=V.areaFactors[N];if(!O)throw new Error("invalid original units");var H=V.areaFactors[B];if(!H)throw new Error("invalid final units");return z/O*H}V.convertArea=E;function S(z){return!isNaN(z)&&z!==null&&!Array.isArray(z)&&!/^\s*$/.test(z)}V.isNumber=S;function P(z){return!!z&&z.constructor===Object}V.isObject=P;function x(z){if(!z)throw new Error("bbox is required");if(!Array.isArray(z))throw new Error("bbox must be an Array");if(z.length!==4&&z.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");z.forEach(function(N){if(!S(N))throw new Error("bbox must only contain numbers")})}V.validateBBox=x;function M(z){if(!z)throw new Error("id is required");if(["string","number"].indexOf(typeof z)===-1)throw new Error("id must be a number or a string")}V.validateId=M;function w(){throw new Error("method has been renamed to `radiansToDegrees`")}V.radians2degrees=w;function o(){throw new Error("method has been renamed to `degreesToRadians`")}V.degrees2radians=o;function L(){throw new Error("method has been renamed to `lengthToDegrees`")}V.distanceToDegrees=L;function m(){throw new Error("method has been renamed to `lengthToRadians`")}V.distanceToRadians=m;function F(){throw new Error("method has been renamed to `radiansToLength`")}V.radiansToDistance=F;function I(){throw new Error("method has been renamed to `bearingToAzimuth`")}V.bearingToAngle=I;function U(){throw new Error("method has been renamed to `convertLength`")}V.convertDistance=U},88553:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var g=e(64182);function _(l,d,E){if(l!==null)for(var S,P,x,M,w,o,L,m=0,F=0,I,U=l.type,z=U==="FeatureCollection",N=U==="Feature",B=z?l.features.length:1,O=0;O<B;O++){L=z?l.features[O].geometry:N?l.geometry:l,I=L?L.type==="GeometryCollection":!1,w=I?L.geometries.length:1;for(var H=0;H<w;H++){var Y=0,J=0;if(M=I?L.geometries[H]:L,M!==null){o=M.coordinates;var re=M.type;switch(m=E&&(re==="Polygon"||re==="MultiPolygon")?1:0,re){case null:break;case"Point":if(d(o,F,O,Y,J)===!1)return!1;F++,Y++;break;case"LineString":case"MultiPoint":for(S=0;S<o.length;S++){if(d(o[S],F,O,Y,J)===!1)return!1;F++,re==="MultiPoint"&&Y++}re==="LineString"&&Y++;break;case"Polygon":case"MultiLineString":for(S=0;S<o.length;S++){for(P=0;P<o[S].length-m;P++){if(d(o[S][P],F,O,Y,J)===!1)return!1;F++}re==="MultiLineString"&&Y++,re==="Polygon"&&J++}re==="Polygon"&&Y++;break;case"MultiPolygon":for(S=0;S<o.length;S++){for(J=0,P=0;P<o[S].length;P++){for(x=0;x<o[S][P].length-m;x++){if(d(o[S][P][x],F,O,Y,J)===!1)return!1;F++}J++}Y++}break;case"GeometryCollection":for(S=0;S<M.geometries.length;S++)if(_(M.geometries[S],d,E)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(l,d,E,S){var P=E;return _(l,function(x,M,w,o,L){M===0&&E===void 0?P=x:P=d(P,x,M,w,o,L)},S),P}function C(l,d){var E;switch(l.type){case"FeatureCollection":for(E=0;E<l.features.length&&d(l.features[E].properties,E)!==!1;E++);break;case"Feature":d(l.properties,0);break}}function A(l,d,E){var S=E;return C(l,function(P,x){x===0&&E===void 0?S=P:S=d(S,P,x)}),S}function v(l,d){if(l.type==="Feature")d(l,0);else if(l.type==="FeatureCollection")for(var E=0;E<l.features.length&&d(l.features[E],E)!==!1;E++);}function p(l,d,E){var S=E;return v(l,function(P,x){x===0&&E===void 0?S=P:S=d(S,P,x)}),S}function t(l){var d=[];return _(l,function(E){d.push(E)}),d}function r(l,d){var E,S,P,x,M,w,o,L,m,F,I=0,U=l.type==="FeatureCollection",z=l.type==="Feature",N=U?l.features.length:1;for(E=0;E<N;E++){for(w=U?l.features[E].geometry:z?l.geometry:l,L=U?l.features[E].properties:z?l.properties:{},m=U?l.features[E].bbox:z?l.bbox:void 0,F=U?l.features[E].id:z?l.id:void 0,o=w?w.type==="GeometryCollection":!1,M=o?w.geometries.length:1,P=0;P<M;P++){if(x=o?w.geometries[P]:w,x===null){if(d(null,I,L,m,F)===!1)return!1;continue}switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(x,I,L,m,F)===!1)return!1;break}case"GeometryCollection":{for(S=0;S<x.geometries.length;S++)if(d(x.geometries[S],I,L,m,F)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function s(l,d,E){var S=E;return r(l,function(P,x,M,w,o){x===0&&E===void 0?S=P:S=d(S,P,x,M,w,o)}),S}function n(l,d){r(l,function(E,S,P,x,M){var w=E===null?null:E.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return d(g.feature(E,P,{bbox:x,id:M}),S,0)===!1?!1:void 0}var o;switch(w){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon";break}for(var L=0;L<E.coordinates.length;L++){var m=E.coordinates[L],F={type:o,coordinates:m};if(d(g.feature(F,P),S,L)===!1)return!1}})}function i(l,d,E){var S=E;return n(l,function(P,x,M){x===0&&M===0&&E===void 0?S=P:S=d(S,P,x,M)}),S}function f(l,d){n(l,function(E,S,P){var x=0;if(E.geometry){var M=E.geometry.type;if(!(M==="Point"||M==="MultiPoint")){var w,o=0,L=0,m=0;if(_(E,function(F,I,U,z,N){if(w===void 0||S>o||z>L||N>m){w=F,o=S,L=z,m=N,x=0;return}var B=g.lineString([w,F],E.properties);if(d(B,S,P,N,x)===!1)return!1;x++,w=F})===!1)return!1}}})}function u(l,d,E){var S=E,P=!1;return f(l,function(x,M,w,o,L){P===!1&&E===void 0?S=x:S=d(S,x,M,w,o,L),P=!0}),S}function y(l,d){if(!l)throw new Error("geojson is required");n(l,function(E,S,P){if(E.geometry!==null){var x=E.geometry.type,M=E.geometry.coordinates;switch(x){case"LineString":if(d(E,S,P,0,0)===!1)return!1;break;case"Polygon":for(var w=0;w<M.length;w++)if(d(g.lineString(M[w],E.properties),S,P,w)===!1)return!1;break}}})}function c(l,d,E){var S=E;return y(l,function(P,x,M,w){x===0&&E===void 0?S=P:S=d(S,P,x,M,w)}),S}function T(l,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var E=d.featureIndex||0,S=d.multiFeatureIndex||0,P=d.geometryIndex||0,x=d.segmentIndex||0,M=d.properties,w;switch(l.type){case"FeatureCollection":E<0&&(E=l.features.length+E),M=M||l.features[E].properties,w=l.features[E].geometry;break;case"Feature":M=M||l.properties,w=l.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=l;break;default:throw new Error("geojson is invalid")}if(w===null)return null;var o=w.coordinates;switch(w.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=o.length+x-1),g.lineString([o[x],o[x+1]],M,d);case"Polygon":return P<0&&(P=o.length+P),x<0&&(x=o[P].length+x-1),g.lineString([o[P][x],o[P][x+1]],M,d);case"MultiLineString":return S<0&&(S=o.length+S),x<0&&(x=o[S].length+x-1),g.lineString([o[S][x],o[S][x+1]],M,d);case"MultiPolygon":return S<0&&(S=o.length+S),P<0&&(P=o[S].length+P),x<0&&(x=o[S][P].length-x-1),g.lineString([o[S][P][x],o[S][P][x+1]],M,d)}throw new Error("geojson is invalid")}function h(l,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var E=d.featureIndex||0,S=d.multiFeatureIndex||0,P=d.geometryIndex||0,x=d.coordIndex||0,M=d.properties,w;switch(l.type){case"FeatureCollection":E<0&&(E=l.features.length+E),M=M||l.features[E].properties,w=l.features[E].geometry;break;case"Feature":M=M||l.properties,w=l.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=l;break;default:throw new Error("geojson is invalid")}if(w===null)return null;var o=w.coordinates;switch(w.type){case"Point":return g.point(o,M,d);case"MultiPoint":return S<0&&(S=o.length+S),g.point(o[S],M,d);case"LineString":return x<0&&(x=o.length+x),g.point(o[x],M,d);case"Polygon":return P<0&&(P=o.length+P),x<0&&(x=o[P].length+x),g.point(o[P][x],M,d);case"MultiLineString":return S<0&&(S=o.length+S),x<0&&(x=o[S].length+x),g.point(o[S][x],M,d);case"MultiPolygon":return S<0&&(S=o.length+S),P<0&&(P=o[S].length+P),x<0&&(x=o[S][P].length-x),g.point(o[S][P][x],M,d)}throw new Error("geojson is invalid")}V.coordEach=_,V.coordReduce=a,V.propEach=C,V.propReduce=A,V.featureEach=v,V.featureReduce=p,V.coordAll=t,V.geomEach=r,V.geomReduce=s,V.flattenEach=n,V.flattenReduce=i,V.segmentEach=f,V.segmentReduce=u,V.lineEach=y,V.lineReduce=c,V.findSegment=T,V.findPoint=h},65185:function(G){G.exports=V;function V(e){var g=0,_=0,a=0,C=0;return e.map(function(A){A=A.slice();var v=A[0],p=v.toUpperCase();if(v!=p)switch(A[0]=p,v){case"a":A[6]+=a,A[7]+=C;break;case"v":A[1]+=C;break;case"h":A[1]+=a;break;default:for(var t=1;t<A.length;)A[t++]+=a,A[t++]+=C}switch(p){case"Z":a=g,C=_;break;case"H":a=A[1];break;case"V":C=A[1];break;case"M":a=g=A[1],C=_=A[2];break;default:a=A[A.length-2],C=A[A.length-1]}return A})}},21527:function(G){G.exports=V;function V(e,g){if(!e||e.length==null)throw Error("Argument should be an array");g==null?g=1:g=Math.floor(g);for(var _=Array(g*2),a=0;a<g;a++){for(var C=-1/0,A=1/0,v=a,p=e.length;v<p;v+=g)e[v]>C&&(C=e[v]),e[v]<A&&(A=e[v]);_[a]=A,_[g+a]=C}return _}},6851:function(G){G.exports=function(V,e,g){if(typeof Array.prototype.findIndex=="function")return V.findIndex(e,g);if(typeof e!="function")throw new TypeError("predicate must be a function");var _=Object(V),a=_.length;if(a===0)return-1;for(var C=0;C<a;C++)if(e.call(g,_[C],C,_))return C;return-1}},54:function(G,V,e){var g=e(21527);G.exports=_;function _(a,C,A){if(!a||a.length==null)throw Error("Argument should be an array");C==null&&(C=1),A==null&&(A=g(a,C));for(var v=0;v<C;v++){var p=A[C+v],t=A[v],r=v,s=a.length;if(p===1/0&&t===-1/0)for(r=v;r<s;r+=C)a[r]=a[r]===p?1:a[r]===t?0:.5;else if(p===1/0)for(r=v;r<s;r+=C)a[r]=a[r]===p?1:0;else if(t===-1/0)for(r=v;r<s;r+=C)a[r]=a[r]===t?0:1;else{var n=p-t;for(r=v;r<s;r+=C)isNaN(a[r])||(a[r]=n===0?.5:(a[r]-t)/n)}}return a}},57471:function(G){G.exports=function(e,g){var _=typeof e=="number",a=typeof g=="number";_&&!a?(g=e,e=0):!_&&!a&&(e=0,g=0),e=e|0,g=g|0;var C=g-e;if(C<0)throw new Error("array length must be positive");for(var A=new Array(C),v=0,p=e;v<C;v++,p++)A[v]=p;return A}},32791:function(G,V,e){var g=e(90386);function _(J){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(ie){return typeof ie}:_=function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},_(J)}function a(J,re){if(!(J instanceof re))throw new TypeError("Cannot call a class as a function")}var C=e(79616),A=C.codes,v=A.ERR_AMBIGUOUS_ARGUMENT,p=A.ERR_INVALID_ARG_TYPE,t=A.ERR_INVALID_ARG_VALUE,r=A.ERR_INVALID_RETURN_VALUE,s=A.ERR_MISSING_ARGS,n=e(73894),i=e(43827),f=i.inspect,u=e(43827).types,y=u.isPromise,c=u.isRegExp,T=Object.assign?Object.assign:e(73523).assign,h=Object.is?Object.is:e(64003),l,d;function E(){var J=e(74061);l=J.isDeepEqual,d=J.isDeepStrictEqual}var S=!1,P=G.exports=L,x={};function M(J){throw J.message instanceof Error?J.message:new n(J)}function w(J,re,ie,ce,Q){var j=arguments.length,Z;if(j===0)Z="Failed";else if(j===1)ie=J,J=void 0;else{if(S===!1){S=!0;var $=g.emitWarning?g.emitWarning:console.warn.bind(console);$("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}j===2&&(ce="!=")}if(ie instanceof Error)throw ie;var te={actual:J,expected:re,operator:ce===void 0?"fail":ce,stackStartFn:Q||w};ie!==void 0&&(te.message=ie);var se=new n(te);throw Z&&(se.message=Z,se.generatedMessage=!0),se}P.fail=w,P.AssertionError=n;function o(J,re,ie,ce){if(!ie){var Q=!1;if(re===0)Q=!0,ce="No value argument passed to `assert.ok()`";else if(ce instanceof Error)throw ce;var j=new n({actual:ie,expected:!0,message:ce,operator:"==",stackStartFn:J});throw j.generatedMessage=Q,j}}function L(){for(var J=arguments.length,re=new Array(J),ie=0;ie<J;ie++)re[ie]=arguments[ie];o.apply(void 0,[L,re.length].concat(re))}P.ok=L,P.equal=function J(re,ie,ce){if(arguments.length<2)throw new s("actual","expected");re!=ie&&M({actual:re,expected:ie,message:ce,operator:"==",stackStartFn:J})},P.notEqual=function J(re,ie,ce){if(arguments.length<2)throw new s("actual","expected");re==ie&&M({actual:re,expected:ie,message:ce,operator:"!=",stackStartFn:J})},P.deepEqual=function J(re,ie,ce){if(arguments.length<2)throw new s("actual","expected");l===void 0&&E(),l(re,ie)||M({actual:re,expected:ie,message:ce,operator:"deepEqual",stackStartFn:J})},P.notDeepEqual=function J(re,ie,ce){if(arguments.length<2)throw new s("actual","expected");l===void 0&&E(),l(re,ie)&&M({actual:re,expected:ie,message:ce,operator:"notDeepEqual",stackStartFn:J})},P.deepStrictEqual=function J(re,ie,ce){if(arguments.length<2)throw new s("actual","expected");l===void 0&&E(),d(re,ie)||M({actual:re,expected:ie,message:ce,operator:"deepStrictEqual",stackStartFn:J})},P.notDeepStrictEqual=m;function m(J,re,ie){if(arguments.length<2)throw new s("actual","expected");l===void 0&&E(),d(J,re)&&M({actual:J,expected:re,message:ie,operator:"notDeepStrictEqual",stackStartFn:m})}P.strictEqual=function J(re,ie,ce){if(arguments.length<2)throw new s("actual","expected");h(re,ie)||M({actual:re,expected:ie,message:ce,operator:"strictEqual",stackStartFn:J})},P.notStrictEqual=function J(re,ie,ce){if(arguments.length<2)throw new s("actual","expected");h(re,ie)&&M({actual:re,expected:ie,message:ce,operator:"notStrictEqual",stackStartFn:J})};var F=function J(re,ie,ce){var Q=this;a(this,J),ie.forEach(function(j){j in re&&(ce!==void 0&&typeof ce[j]=="string"&&c(re[j])&&re[j].test(ce[j])?Q[j]=ce[j]:Q[j]=re[j])})};function I(J,re,ie,ce,Q,j){if(!(ie in J)||!d(J[ie],re[ie])){if(!ce){var Z=new F(J,Q),$=new F(re,Q,J),te=new n({actual:Z,expected:$,operator:"deepStrictEqual",stackStartFn:j});throw te.actual=J,te.expected=re,te.operator=j.name,te}M({actual:J,expected:re,message:ce,operator:j.name,stackStartFn:j})}}function U(J,re,ie,ce){if(typeof re!="function"){if(c(re))return re.test(J);if(arguments.length===2)throw new p("expected",["Function","RegExp"],re);if(_(J)!=="object"||J===null){var Q=new n({actual:J,expected:re,message:ie,operator:"deepStrictEqual",stackStartFn:ce});throw Q.operator=ce.name,Q}var j=Object.keys(re);if(re instanceof Error)j.push("name","message");else if(j.length===0)throw new t("error",re,"may not be an empty object");return l===void 0&&E(),j.forEach(function(Z){typeof J[Z]=="string"&&c(re[Z])&&re[Z].test(J[Z])||I(J,re,Z,ie,j,ce)}),!0}return re.prototype!==void 0&&J instanceof re?!0:Error.isPrototypeOf(re)?!1:re.call({},J)===!0}function z(J){if(typeof J!="function")throw new p("fn","Function",J);try{J()}catch(re){return re}return x}function N(J){return y(J)||J!==null&&_(J)==="object"&&typeof J.then=="function"&&typeof J.catch=="function"}function B(J){return Promise.resolve().then(function(){var re;if(typeof J=="function"){if(re=J(),!N(re))throw new r("instance of Promise","promiseFn",re)}else if(N(J))re=J;else throw new p("promiseFn",["Function","Promise"],J);return Promise.resolve().then(function(){return re}).then(function(){return x}).catch(function(ie){return ie})})}function O(J,re,ie,ce){if(typeof ie=="string"){if(arguments.length===4)throw new p("error",["Object","Error","Function","RegExp"],ie);if(_(re)==="object"&&re!==null){if(re.message===ie)throw new v("error/message",'The error message "'.concat(re.message,'" is identical to the message.'))}else if(re===ie)throw new v("error/message",'The error "'.concat(re,'" is identical to the message.'));ce=ie,ie=void 0}else if(ie!=null&&_(ie)!=="object"&&typeof ie!="function")throw new p("error",["Object","Error","Function","RegExp"],ie);if(re===x){var Q="";ie&&ie.name&&(Q+=" (".concat(ie.name,")")),Q+=ce?": ".concat(ce):".";var j=J.name==="rejects"?"rejection":"exception";M({actual:void 0,expected:ie,operator:J.name,message:"Missing expected ".concat(j).concat(Q),stackStartFn:J})}if(ie&&!U(re,ie,ce,J))throw re}function H(J,re,ie,ce){if(re!==x){if(typeof ie=="string"&&(ce=ie,ie=void 0),!ie||U(re,ie)){var Q=ce?": ".concat(ce):".",j=J.name==="doesNotReject"?"rejection":"exception";M({actual:re,expected:ie,operator:J.name,message:"Got unwanted ".concat(j).concat(Q,`
`)+'Actual message: "'.concat(re&&re.message,'"'),stackStartFn:J})}throw re}}P.throws=function J(re){for(var ie=arguments.length,ce=new Array(ie>1?ie-1:0),Q=1;Q<ie;Q++)ce[Q-1]=arguments[Q];O.apply(void 0,[J,z(re)].concat(ce))},P.rejects=function J(re){for(var ie=arguments.length,ce=new Array(ie>1?ie-1:0),Q=1;Q<ie;Q++)ce[Q-1]=arguments[Q];return B(re).then(function(j){return O.apply(void 0,[J,j].concat(ce))})},P.doesNotThrow=function J(re){for(var ie=arguments.length,ce=new Array(ie>1?ie-1:0),Q=1;Q<ie;Q++)ce[Q-1]=arguments[Q];H.apply(void 0,[J,z(re)].concat(ce))},P.doesNotReject=function J(re){for(var ie=arguments.length,ce=new Array(ie>1?ie-1:0),Q=1;Q<ie;Q++)ce[Q-1]=arguments[Q];return B(re).then(function(j){return H.apply(void 0,[J,j].concat(ce))})},P.ifError=function J(re){if(re!=null){var ie="ifError got unwanted exception: ";_(re)==="object"&&typeof re.message=="string"?re.message.length===0&&re.constructor?ie+=re.constructor.name:ie+=re.message:ie+=f(re);var ce=new n({actual:re,expected:null,operator:"ifError",message:ie,stackStartFn:J}),Q=re.stack;if(typeof Q=="string"){var j=Q.split(`
`);j.shift();for(var Z=ce.stack.split(`
`),$=0;$<j.length;$++){var te=Z.indexOf(j[$]);if(te!==-1){Z=Z.slice(0,te);break}}ce.stack="".concat(Z.join(`
`),`
`).concat(j.join(`
`))}throw ce}};function Y(){for(var J=arguments.length,re=new Array(J),ie=0;ie<J;ie++)re[ie]=arguments[ie];o.apply(void 0,[Y,re.length].concat(re))}P.strict=T(Y,P,{equal:P.strictEqual,deepEqual:P.deepStrictEqual,notEqual:P.notStrictEqual,notDeepEqual:P.notDeepStrictEqual}),P.strict.strict=P.strict},73894:function(G,V,e){var g=e(90386);function _(z){for(var N=1;N<arguments.length;N++){var B=arguments[N]!=null?arguments[N]:{},O=Object.keys(B);typeof Object.getOwnPropertySymbols=="function"&&(O=O.concat(Object.getOwnPropertySymbols(B).filter(function(H){return Object.getOwnPropertyDescriptor(B,H).enumerable}))),O.forEach(function(H){a(z,H,B[H])})}return z}function a(z,N,B){return N in z?Object.defineProperty(z,N,{value:B,enumerable:!0,configurable:!0,writable:!0}):z[N]=B,z}function C(z,N){if(!(z instanceof N))throw new TypeError("Cannot call a class as a function")}function A(z,N){for(var B=0;B<N.length;B++){var O=N[B];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(z,O.key,O)}}function v(z,N,B){return N&&A(z.prototype,N),B&&A(z,B),z}function p(z,N){return N&&(c(N)==="object"||typeof N=="function")?N:t(z)}function t(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function r(z,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(N&&N.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),N&&u(z,N)}function s(z){var N=typeof Map=="function"?new Map:void 0;return s=function(O){if(O===null||!f(O))return O;if(typeof O!="function")throw new TypeError("Super expression must either be null or a function");if(typeof N<"u"){if(N.has(O))return N.get(O);N.set(O,H)}function H(){return i(O,arguments,y(this).constructor)}return H.prototype=Object.create(O.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),u(H,O)},s(z)}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function i(z,N,B){return n()?i=Reflect.construct:i=function(H,Y,J){var re=[null];re.push.apply(re,Y);var ie=Function.bind.apply(H,re),ce=new ie;return J&&u(ce,J.prototype),ce},i.apply(null,arguments)}function f(z){return Function.toString.call(z).indexOf("[native code]")!==-1}function u(z,N){return u=Object.setPrototypeOf||function(O,H){return O.__proto__=H,O},u(z,N)}function y(z){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(B){return B.__proto__||Object.getPrototypeOf(B)},y(z)}function c(z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(B){return typeof B}:c=function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},c(z)}var T=e(43827),h=T.inspect,l=e(79616),d=l.codes.ERR_INVALID_ARG_TYPE;function E(z,N,B){return(B===void 0||B>z.length)&&(B=z.length),z.substring(B-N.length,B)===N}function S(z,N){if(N=Math.floor(N),z.length==0||N==0)return"";var B=z.length*N;for(N=Math.floor(Math.log(N)/Math.log(2));N;)z+=z,N--;return z+=z.substring(0,B-z.length),z}var P="",x="",M="",w="",o={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},L=10;function m(z){var N=Object.keys(z),B=Object.create(Object.getPrototypeOf(z));return N.forEach(function(O){B[O]=z[O]}),Object.defineProperty(B,"message",{value:z.message}),B}function F(z){return h(z,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function I(z,N,B){var O="",H="",Y=0,J="",re=!1,ie=F(z),ce=ie.split(`
`),Q=F(N).split(`
`),j=0,Z="";if(B==="strictEqual"&&c(z)==="object"&&c(N)==="object"&&z!==null&&N!==null&&(B="strictEqualObject"),ce.length===1&&Q.length===1&&ce[0]!==Q[0]){var $=ce[0].length+Q[0].length;if($<=L){if((c(z)!=="object"||z===null)&&(c(N)!=="object"||N===null)&&(z!==0||N!==0))return"".concat(o[B],`

`)+"".concat(ce[0]," !== ").concat(Q[0],`
`)}else if(B!=="strictEqualObject"){var te=g.stderr&&g.stderr.isTTY?g.stderr.columns:80;if($<te){for(;ce[0][j]===Q[0][j];)j++;j>2&&(Z=`
  `.concat(S(" ",j),"^"),j=0)}}}for(var se=ce[ce.length-1],ee=Q[Q.length-1];se===ee&&(j++<2?J=`
  `.concat(se).concat(J):O=se,ce.pop(),Q.pop(),!(ce.length===0||Q.length===0));)se=ce[ce.length-1],ee=Q[Q.length-1];var q=Math.max(ce.length,Q.length);if(q===0){var le=ie.split(`
`);if(le.length>30)for(le[26]="".concat(P,"...").concat(w);le.length>27;)le.pop();return"".concat(o.notIdentical,`

`).concat(le.join(`
`),`
`)}j>3&&(J=`
`.concat(P,"...").concat(w).concat(J),re=!0),O!==""&&(J=`
  `.concat(O).concat(J),O="");var oe=0,he=o[B]+`
`.concat(x,"+ actual").concat(w," ").concat(M,"- expected").concat(w),me=" ".concat(P,"...").concat(w," Lines skipped");for(j=0;j<q;j++){var Ce=j-Y;if(ce.length<j+1)Ce>1&&j>2&&(Ce>4?(H+=`
`.concat(P,"...").concat(w),re=!0):Ce>3&&(H+=`
  `.concat(Q[j-2]),oe++),H+=`
  `.concat(Q[j-1]),oe++),Y=j,O+=`
`.concat(M,"-").concat(w," ").concat(Q[j]),oe++;else if(Q.length<j+1)Ce>1&&j>2&&(Ce>4?(H+=`
`.concat(P,"...").concat(w),re=!0):Ce>3&&(H+=`
  `.concat(ce[j-2]),oe++),H+=`
  `.concat(ce[j-1]),oe++),Y=j,H+=`
`.concat(x,"+").concat(w," ").concat(ce[j]),oe++;else{var Ae=Q[j],Ue=ce[j],Ve=Ue!==Ae&&(!E(Ue,",")||Ue.slice(0,-1)!==Ae);Ve&&E(Ae,",")&&Ae.slice(0,-1)===Ue&&(Ve=!1,Ue+=","),Ve?(Ce>1&&j>2&&(Ce>4?(H+=`
`.concat(P,"...").concat(w),re=!0):Ce>3&&(H+=`
  `.concat(ce[j-2]),oe++),H+=`
  `.concat(ce[j-1]),oe++),Y=j,H+=`
`.concat(x,"+").concat(w," ").concat(Ue),O+=`
`.concat(M,"-").concat(w," ").concat(Ae),oe+=2):(H+=O,O="",(Ce===1||j===0)&&(H+=`
  `.concat(Ue),oe++))}if(oe>20&&j<q-2)return"".concat(he).concat(me,`
`).concat(H,`
`).concat(P,"...").concat(w).concat(O,`
`)+"".concat(P,"...").concat(w)}return"".concat(he).concat(re?me:"",`
`).concat(H).concat(O).concat(J).concat(Z)}var U=function(z){r(N,z);function N(B){var O;if(C(this,N),c(B)!=="object"||B===null)throw new d("options","Object",B);var H=B.message,Y=B.operator,J=B.stackStartFn,re=B.actual,ie=B.expected,ce=Error.stackTraceLimit;if(Error.stackTraceLimit=0,H!=null)O=p(this,y(N).call(this,String(H)));else if(g.stderr&&g.stderr.isTTY&&(g.stderr&&g.stderr.getColorDepth&&g.stderr.getColorDepth()!==1?(P="\x1B[34m",x="\x1B[32m",w="\x1B[39m",M="\x1B[31m"):(P="",x="",w="",M="")),c(re)==="object"&&re!==null&&c(ie)==="object"&&ie!==null&&"stack"in re&&re instanceof Error&&"stack"in ie&&ie instanceof Error&&(re=m(re),ie=m(ie)),Y==="deepStrictEqual"||Y==="strictEqual")O=p(this,y(N).call(this,I(re,ie,Y)));else if(Y==="notDeepStrictEqual"||Y==="notStrictEqual"){var Q=o[Y],j=F(re).split(`
`);if(Y==="notStrictEqual"&&c(re)==="object"&&re!==null&&(Q=o.notStrictEqualObject),j.length>30)for(j[26]="".concat(P,"...").concat(w);j.length>27;)j.pop();j.length===1?O=p(this,y(N).call(this,"".concat(Q," ").concat(j[0]))):O=p(this,y(N).call(this,"".concat(Q,`

`).concat(j.join(`
`),`
`)))}else{var Z=F(re),$="",te=o[Y];Y==="notDeepEqual"||Y==="notEqual"?(Z="".concat(o[Y],`

`).concat(Z),Z.length>1024&&(Z="".concat(Z.slice(0,1021),"..."))):($="".concat(F(ie)),Z.length>512&&(Z="".concat(Z.slice(0,509),"...")),$.length>512&&($="".concat($.slice(0,509),"...")),Y==="deepEqual"||Y==="equal"?Z="".concat(te,`

`).concat(Z,`

should equal

`):$=" ".concat(Y," ").concat($)),O=p(this,y(N).call(this,"".concat(Z).concat($)))}return Error.stackTraceLimit=ce,O.generatedMessage=!H,Object.defineProperty(t(O),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),O.code="ERR_ASSERTION",O.actual=re,O.expected=ie,O.operator=Y,Error.captureStackTrace&&Error.captureStackTrace(t(O),J),O.stack,O.name="AssertionError",p(O)}return v(N,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:h.custom,value:function(O,H){return h(this,_({},H,{customInspect:!1,depth:0}))}}]),N}(s(Error));G.exports=U},79616:function(G,V,e){function g(c){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(h){return typeof h}:g=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},g(c)}function _(c,T){if(!(c instanceof T))throw new TypeError("Cannot call a class as a function")}function a(c,T){return T&&(g(T)==="object"||typeof T=="function")?T:C(c)}function C(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function A(c){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)},A(c)}function v(c,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(T&&T.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),T&&p(c,T)}function p(c,T){return p=Object.setPrototypeOf||function(l,d){return l.__proto__=d,l},p(c,T)}var t={},r,s;function n(c,T,h){h||(h=Error);function l(E,S,P){return typeof T=="string"?T:T(E,S,P)}var d=function(E){v(S,E);function S(P,x,M){var w;return _(this,S),w=a(this,A(S).call(this,l(P,x,M))),w.code=c,w}return S}(h);t[c]=d}function i(c,T){if(Array.isArray(c)){var h=c.length;return c=c.map(function(l){return String(l)}),h>2?"one of ".concat(T," ").concat(c.slice(0,h-1).join(", "),", or ")+c[h-1]:h===2?"one of ".concat(T," ").concat(c[0]," or ").concat(c[1]):"of ".concat(T," ").concat(c[0])}else return"of ".concat(T," ").concat(String(c))}function f(c,T,h){return c.substr(!h||h<0?0:+h,T.length)===T}function u(c,T,h){return(h===void 0||h>c.length)&&(h=c.length),c.substring(h-T.length,h)===T}function y(c,T,h){return typeof h!="number"&&(h=0),h+T.length>c.length?!1:c.indexOf(T,h)!==-1}n("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),n("ERR_INVALID_ARG_TYPE",function(c,T,h){r===void 0&&(r=e(32791)),r(typeof c=="string","'name' must be a string");var l;typeof T=="string"&&f(T,"not ")?(l="must not be",T=T.replace(/^not /,"")):l="must be";var d;if(u(c," argument"))d="The ".concat(c," ").concat(l," ").concat(i(T,"type"));else{var E=y(c,".")?"property":"argument";d='The "'.concat(c,'" ').concat(E," ").concat(l," ").concat(i(T,"type"))}return d+=". Received type ".concat(g(h)),d},TypeError),n("ERR_INVALID_ARG_VALUE",function(c,T){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";s===void 0&&(s=e(43827));var l=s.inspect(T);return l.length>128&&(l="".concat(l.slice(0,128),"...")),"The argument '".concat(c,"' ").concat(h,". Received ").concat(l)},TypeError),n("ERR_INVALID_RETURN_VALUE",function(c,T,h){var l;return h&&h.constructor&&h.constructor.name?l="instance of ".concat(h.constructor.name):l="type ".concat(g(h)),"Expected ".concat(c,' to be returned from the "').concat(T,'"')+" function but got ".concat(l,".")},TypeError),n("ERR_MISSING_ARGS",function(){for(var c=arguments.length,T=new Array(c),h=0;h<c;h++)T[h]=arguments[h];r===void 0&&(r=e(32791)),r(T.length>0,"At least one arg needs to be specified");var l="The ",d=T.length;switch(T=T.map(function(E){return'"'.concat(E,'"')}),d){case 1:l+="".concat(T[0]," argument");break;case 2:l+="".concat(T[0]," and ").concat(T[1]," arguments");break;default:l+=T.slice(0,d-1).join(", "),l+=", and ".concat(T[d-1]," arguments");break}return"".concat(l," must be specified")},TypeError),G.exports.codes=t},74061:function(G,V,e){function g(Pe,be){return C(Pe)||a(Pe,be)||_()}function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(Pe,be){var Le=[],We=!0,je=!1,Fe=void 0;try{for(var Ze=Pe[Symbol.iterator](),ut;!(We=(ut=Ze.next()).done)&&(Le.push(ut.value),!(be&&Le.length===be));We=!0);}catch(at){je=!0,Fe=at}finally{try{!We&&Ze.return!=null&&Ze.return()}finally{if(je)throw Fe}}return Le}function C(Pe){if(Array.isArray(Pe))return Pe}function A(Pe){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?A=function(Le){return typeof Le}:A=function(Le){return Le&&typeof Symbol=="function"&&Le.constructor===Symbol&&Le!==Symbol.prototype?"symbol":typeof Le},A(Pe)}var v=/a/g.flags!==void 0,p=function(be){var Le=[];return be.forEach(function(We){return Le.push(We)}),Le},t=function(be){var Le=[];return be.forEach(function(We,je){return Le.push([je,We])}),Le},r=Object.is?Object.is:e(64003),s=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},n=Number.isNaN?Number.isNaN:e(15567);function i(Pe){return Pe.call.bind(Pe)}var f=i(Object.prototype.hasOwnProperty),u=i(Object.prototype.propertyIsEnumerable),y=i(Object.prototype.toString),c=e(43827).types,T=c.isAnyArrayBuffer,h=c.isArrayBufferView,l=c.isDate,d=c.isMap,E=c.isRegExp,S=c.isSet,P=c.isNativeError,x=c.isBoxedPrimitive,M=c.isNumberObject,w=c.isStringObject,o=c.isBooleanObject,L=c.isBigIntObject,m=c.isSymbolObject,F=c.isFloat32Array,I=c.isFloat64Array;function U(Pe){if(Pe.length===0||Pe.length>10)return!0;for(var be=0;be<Pe.length;be++){var Le=Pe.charCodeAt(be);if(Le<48||Le>57)return!0}return Pe.length===10&&Pe>=Math.pow(2,32)}function z(Pe){return Object.keys(Pe).filter(U).concat(s(Pe).filter(Object.prototype.propertyIsEnumerable.bind(Pe)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function N(Pe,be){if(Pe===be)return 0;for(var Le=Pe.length,We=be.length,je=0,Fe=Math.min(Le,We);je<Fe;++je)if(Pe[je]!==be[je]){Le=Pe[je],We=be[je];break}return Le<We?-1:We<Le?1:0}var B=!0,O=!1,H=0,Y=1,J=2,re=3;function ie(Pe,be){return v?Pe.source===be.source&&Pe.flags===be.flags:RegExp.prototype.toString.call(Pe)===RegExp.prototype.toString.call(be)}function ce(Pe,be){if(Pe.byteLength!==be.byteLength)return!1;for(var Le=0;Le<Pe.byteLength;Le++)if(Pe[Le]!==be[Le])return!1;return!0}function Q(Pe,be){return Pe.byteLength!==be.byteLength?!1:N(new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength),new Uint8Array(be.buffer,be.byteOffset,be.byteLength))===0}function j(Pe,be){return Pe.byteLength===be.byteLength&&N(new Uint8Array(Pe),new Uint8Array(be))===0}function Z(Pe,be){return M(Pe)?M(be)&&r(Number.prototype.valueOf.call(Pe),Number.prototype.valueOf.call(be)):w(Pe)?w(be)&&String.prototype.valueOf.call(Pe)===String.prototype.valueOf.call(be):o(Pe)?o(be)&&Boolean.prototype.valueOf.call(Pe)===Boolean.prototype.valueOf.call(be):L(Pe)?L(be)&&BigInt.prototype.valueOf.call(Pe)===BigInt.prototype.valueOf.call(be):m(be)&&Symbol.prototype.valueOf.call(Pe)===Symbol.prototype.valueOf.call(be)}function $(Pe,be,Le,We){if(Pe===be)return Pe!==0?!0:Le?r(Pe,be):!0;if(Le){if(A(Pe)!=="object")return typeof Pe=="number"&&n(Pe)&&n(be);if(A(be)!=="object"||Pe===null||be===null||Object.getPrototypeOf(Pe)!==Object.getPrototypeOf(be))return!1}else{if(Pe===null||A(Pe)!=="object")return be===null||A(be)!=="object"?Pe==be:!1;if(be===null||A(be)!=="object")return!1}var je=y(Pe),Fe=y(be);if(je!==Fe)return!1;if(Array.isArray(Pe)){if(Pe.length!==be.length)return!1;var Ze=z(Pe),ut=z(be);return Ze.length!==ut.length?!1:se(Pe,be,Le,We,Y,Ze)}if(je==="[object Object]"&&(!d(Pe)&&d(be)||!S(Pe)&&S(be)))return!1;if(l(Pe)){if(!l(be)||Date.prototype.getTime.call(Pe)!==Date.prototype.getTime.call(be))return!1}else if(E(Pe)){if(!E(be)||!ie(Pe,be))return!1}else if(P(Pe)||Pe instanceof Error){if(Pe.message!==be.message||Pe.name!==be.name)return!1}else if(h(Pe)){if(!Le&&(F(Pe)||I(Pe))){if(!ce(Pe,be))return!1}else if(!Q(Pe,be))return!1;var at=z(Pe),it=z(be);return at.length!==it.length?!1:se(Pe,be,Le,We,H,at)}else{if(S(Pe))return!S(be)||Pe.size!==be.size?!1:se(Pe,be,Le,We,J);if(d(Pe))return!d(be)||Pe.size!==be.size?!1:se(Pe,be,Le,We,re);if(T(Pe)){if(!j(Pe,be))return!1}else if(x(Pe)&&!Z(Pe,be))return!1}return se(Pe,be,Le,We,H)}function te(Pe,be){return be.filter(function(Le){return u(Pe,Le)})}function se(Pe,be,Le,We,je,Fe){if(arguments.length===5){Fe=Object.keys(Pe);var Ze=Object.keys(be);if(Fe.length!==Ze.length)return!1}for(var ut=0;ut<Fe.length;ut++)if(!f(be,Fe[ut]))return!1;if(Le&&arguments.length===5){var at=s(Pe);if(at.length!==0){var it=0;for(ut=0;ut<at.length;ut++){var $e=at[ut];if(u(Pe,$e)){if(!u(be,$e))return!1;Fe.push($e),it++}else if(u(be,$e))return!1}var st=s(be);if(at.length!==st.length&&te(be,st).length!==it)return!1}else{var ct=s(be);if(ct.length!==0&&te(be,ct).length!==0)return!1}}if(Fe.length===0&&(je===H||je===Y&&Pe.length===0||Pe.size===0))return!0;if(We===void 0)We={val1:new Map,val2:new Map,position:0};else{var vt=We.val1.get(Pe);if(vt!==void 0){var St=We.val2.get(be);if(St!==void 0)return vt===St}We.position++}We.val1.set(Pe,We.position),We.val2.set(be,We.position);var Mt=Ae(Pe,be,Le,Fe,We,je);return We.val1.delete(Pe),We.val2.delete(be),Mt}function ee(Pe,be,Le,We){for(var je=p(Pe),Fe=0;Fe<je.length;Fe++){var Ze=je[Fe];if($(be,Ze,Le,We))return Pe.delete(Ze),!0}return!1}function q(Pe){switch(A(Pe)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Pe=+Pe;case"number":if(n(Pe))return!1}return!0}function le(Pe,be,Le){var We=q(Le);return We??(be.has(We)&&!Pe.has(We))}function oe(Pe,be,Le,We,je){var Fe=q(Le);if(Fe!=null)return Fe;var Ze=be.get(Fe);return Ze===void 0&&!be.has(Fe)||!$(We,Ze,!1,je)?!1:!Pe.has(Fe)&&$(We,Ze,!1,je)}function he(Pe,be,Le,We){for(var je=null,Fe=p(Pe),Ze=0;Ze<Fe.length;Ze++){var ut=Fe[Ze];if(A(ut)==="object"&&ut!==null)je===null&&(je=new Set),je.add(ut);else if(!be.has(ut)){if(Le||!le(Pe,be,ut))return!1;je===null&&(je=new Set),je.add(ut)}}if(je!==null){for(var at=p(be),it=0;it<at.length;it++){var $e=at[it];if(A($e)==="object"&&$e!==null){if(!ee(je,$e,Le,We))return!1}else if(!Le&&!Pe.has($e)&&!ee(je,$e,Le,We))return!1}return je.size===0}return!0}function me(Pe,be,Le,We,je,Fe){for(var Ze=p(Pe),ut=0;ut<Ze.length;ut++){var at=Ze[ut];if($(Le,at,je,Fe)&&$(We,be.get(at),je,Fe))return Pe.delete(at),!0}return!1}function Ce(Pe,be,Le,We){for(var je=null,Fe=t(Pe),Ze=0;Ze<Fe.length;Ze++){var ut=g(Fe[Ze],2),at=ut[0],it=ut[1];if(A(at)==="object"&&at!==null)je===null&&(je=new Set),je.add(at);else{var $e=be.get(at);if($e===void 0&&!be.has(at)||!$(it,$e,Le,We)){if(Le||!oe(Pe,be,at,it,We))return!1;je===null&&(je=new Set),je.add(at)}}}if(je!==null){for(var st=t(be),ct=0;ct<st.length;ct++){var vt=g(st[ct],2),at=vt[0],St=vt[1];if(A(at)==="object"&&at!==null){if(!me(je,Pe,at,St,Le,We))return!1}else if(!Le&&(!Pe.has(at)||!$(Pe.get(at),St,!1,We))&&!me(je,Pe,at,St,!1,We))return!1}return je.size===0}return!0}function Ae(Pe,be,Le,We,je,Fe){var Ze=0;if(Fe===J){if(!he(Pe,be,Le,je))return!1}else if(Fe===re){if(!Ce(Pe,be,Le,je))return!1}else if(Fe===Y)for(;Ze<Pe.length;Ze++)if(f(Pe,Ze)){if(!f(be,Ze)||!$(Pe[Ze],be[Ze],Le,je))return!1}else{if(f(be,Ze))return!1;for(var ut=Object.keys(Pe);Ze<ut.length;Ze++){var at=ut[Ze];if(!f(be,at)||!$(Pe[at],be[at],Le,je))return!1}return ut.length===Object.keys(be).length}for(Ze=0;Ze<We.length;Ze++){var it=We[Ze];if(!$(Pe[it],be[it],Le,je))return!1}return!0}function Ue(Pe,be){return $(Pe,be,O)}function Ve(Pe,be){return $(Pe,be,B)}G.exports={isDeepEqual:Ue,isDeepStrictEqual:Ve}},95341:function(G,V){V.byteLength=p,V.toByteArray=r,V.fromByteArray=i;for(var e=[],g=[],_=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=0,A=a.length;C<A;++C)e[C]=a[C],g[a.charCodeAt(C)]=C;g["-".charCodeAt(0)]=62,g["_".charCodeAt(0)]=63;function v(f){var u=f.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=f.indexOf("=");y===-1&&(y=u);var c=y===u?0:4-y%4;return[y,c]}function p(f){var u=v(f),y=u[0],c=u[1];return(y+c)*3/4-c}function t(f,u,y){return(u+y)*3/4-y}function r(f){var u,y=v(f),c=y[0],T=y[1],h=new _(t(f,c,T)),l=0,d=T>0?c-4:c,E;for(E=0;E<d;E+=4)u=g[f.charCodeAt(E)]<<18|g[f.charCodeAt(E+1)]<<12|g[f.charCodeAt(E+2)]<<6|g[f.charCodeAt(E+3)],h[l++]=u>>16&255,h[l++]=u>>8&255,h[l++]=u&255;return T===2&&(u=g[f.charCodeAt(E)]<<2|g[f.charCodeAt(E+1)]>>4,h[l++]=u&255),T===1&&(u=g[f.charCodeAt(E)]<<10|g[f.charCodeAt(E+1)]<<4|g[f.charCodeAt(E+2)]>>2,h[l++]=u>>8&255,h[l++]=u&255),h}function s(f){return e[f>>18&63]+e[f>>12&63]+e[f>>6&63]+e[f&63]}function n(f,u,y){for(var c,T=[],h=u;h<y;h+=3)c=(f[h]<<16&16711680)+(f[h+1]<<8&65280)+(f[h+2]&255),T.push(s(c));return T.join("")}function i(f){for(var u,y=f.length,c=y%3,T=[],h=16383,l=0,d=y-c;l<d;l+=h)T.push(n(f,l,l+h>d?d:l+h));return c===1?(u=f[y-1],T.push(e[u>>2]+e[u<<4&63]+"==")):c===2&&(u=(f[y-2]<<8)+f[y-1],T.push(e[u>>10]+e[u>>4&63]+e[u<<2&63]+"=")),T.join("")}},91358:function(G){function V(A,v,p,t,r){for(var s=r+1;t<=r;){var n=t+r>>>1,i=A[n],f=p!==void 0?p(i,v):i-v;f>=0?(s=n,r=n-1):t=n+1}return s}function e(A,v,p,t,r){for(var s=r+1;t<=r;){var n=t+r>>>1,i=A[n],f=p!==void 0?p(i,v):i-v;f>0?(s=n,r=n-1):t=n+1}return s}function g(A,v,p,t,r){for(var s=t-1;t<=r;){var n=t+r>>>1,i=A[n],f=p!==void 0?p(i,v):i-v;f<0?(s=n,t=n+1):r=n-1}return s}function _(A,v,p,t,r){for(var s=t-1;t<=r;){var n=t+r>>>1,i=A[n],f=p!==void 0?p(i,v):i-v;f<=0?(s=n,t=n+1):r=n-1}return s}function a(A,v,p,t,r){for(;t<=r;){var s=t+r>>>1,n=A[s],i=p!==void 0?p(n,v):n-v;if(i===0)return s;i<=0?t=s+1:r=s-1}return-1}function C(A,v,p,t,r,s){return typeof p=="function"?s(A,v,p,t===void 0?0:t|0,r===void 0?A.length-1:r|0):s(A,v,void 0,p===void 0?0:p|0,t===void 0?A.length-1:t|0)}G.exports={ge:function(A,v,p,t,r){return C(A,v,p,t,r,V)},gt:function(A,v,p,t,r){return C(A,v,p,t,r,e)},lt:function(A,v,p,t,r){return C(A,v,p,t,r,g)},le:function(A,v,p,t,r){return C(A,v,p,t,r,_)},eq:function(A,v,p,t,r){return C(A,v,p,t,r,a)}}},13547:function(G,V){"use restrict";var e=32;V.INT_BITS=e,V.INT_MAX=2147483647,V.INT_MIN=-1<<e-1,V.sign=function(a){return(a>0)-(a<0)},V.abs=function(a){var C=a>>e-1;return(a^C)-C},V.min=function(a,C){return C^(a^C)&-(a<C)},V.max=function(a,C){return a^(a^C)&-(a<C)},V.isPow2=function(a){return!(a&a-1)&&!!a},V.log2=function(a){var C,A;return C=(a>65535)<<4,a>>>=C,A=(a>255)<<3,a>>>=A,C|=A,A=(a>15)<<2,a>>>=A,C|=A,A=(a>3)<<1,a>>>=A,C|=A,C|a>>1},V.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},V.popCount=function(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),(a+(a>>>4)&252645135)*16843009>>>24};function g(a){var C=32;return a&=-a,a&&C--,a&65535&&(C-=16),a&16711935&&(C-=8),a&252645135&&(C-=4),a&858993459&&(C-=2),a&1431655765&&(C-=1),C}V.countTrailingZeros=g,V.nextPow2=function(a){return a+=a===0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1},V.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a-(a>>>1)},V.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,a&=15,27030>>>a&1};var _=new Array(256);(function(a){for(var C=0;C<256;++C){var A=C,v=C,p=7;for(A>>>=1;A;A>>>=1)v<<=1,v|=A&1,--p;a[C]=v<<p&255}})(_),V.reverse=function(a){return _[a&255]<<24|_[a>>>8&255]<<16|_[a>>>16&255]<<8|_[a>>>24&255]},V.interleave2=function(a,C){return a&=65535,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,C&=65535,C=(C|C<<8)&16711935,C=(C|C<<4)&252645135,C=(C|C<<2)&858993459,C=(C|C<<1)&1431655765,a|C<<1},V.deinterleave2=function(a,C){return a=a>>>C&1431655765,a=(a|a>>>1)&858993459,a=(a|a>>>2)&252645135,a=(a|a>>>4)&16711935,a=(a|a>>>16)&65535,a<<16>>16},V.interleave3=function(a,C,A){return a&=1023,a=(a|a<<16)&4278190335,a=(a|a<<8)&251719695,a=(a|a<<4)&3272356035,a=(a|a<<2)&1227133513,C&=1023,C=(C|C<<16)&4278190335,C=(C|C<<8)&251719695,C=(C|C<<4)&3272356035,C=(C|C<<2)&1227133513,a|=C<<1,A&=1023,A=(A|A<<16)&4278190335,A=(A|A<<8)&251719695,A=(A|A<<4)&3272356035,A=(A|A<<2)&1227133513,a|A<<2},V.deinterleave3=function(a,C){return a=a>>>C&1227133513,a=(a|a>>>2)&3272356035,a=(a|a>>>4)&251719695,a=(a|a>>>8)&4278190335,a=(a|a>>>16)&1023,a<<22>>22},V.nextCombination=function(a){var C=a|a-1;return C+1|(~C&-~C)-1>>>g(a)+1}},44781:function(G,V,e){var g=e(53435);G.exports=a;var _=1e20;function a(v,p){p||(p={});var t=p.cutoff==null?.25:p.cutoff,r=p.radius==null?8:p.radius,s=p.channel||0,n,i,f,u,y,c,T,h,l,d,E;if(ArrayBuffer.isView(v)||Array.isArray(v)){if(!p.width||!p.height)throw Error("For raw data width and height should be provided by options");n=p.width,i=p.height,u=v,p.stride?c=p.stride:c=Math.floor(v.length/n/i)}else window.HTMLCanvasElement&&v instanceof window.HTMLCanvasElement?(h=v,T=h.getContext("2d"),n=h.width,i=h.height,l=T.getImageData(0,0,n,i),u=l.data,c=4):window.CanvasRenderingContext2D&&v instanceof window.CanvasRenderingContext2D?(h=v.canvas,T=v,n=h.width,i=h.height,l=T.getImageData(0,0,n,i),u=l.data,c=4):window.ImageData&&v instanceof window.ImageData&&(l=v,n=v.width,i=v.height,u=l.data,c=4);if(f=Math.max(n,i),window.Uint8ClampedArray&&u instanceof window.Uint8ClampedArray||window.Uint8Array&&u instanceof window.Uint8Array)for(y=u,u=Array(n*i),d=0,E=y.length;d<E;d++)u[d]=y[d*c+s]/255;else if(c!==1)throw Error("Raw data can have only 1 value per pixel");var S=Array(n*i),P=Array(n*i),x=Array(f),M=Array(f),w=Array(f+1),o=Array(f);for(d=0,E=n*i;d<E;d++){var L=u[d];S[d]=L===1?0:L===0?_:Math.pow(Math.max(0,.5-L),2),P[d]=L===1?_:L===0?0:Math.pow(Math.max(0,L-.5),2)}C(S,n,i,x,M,o,w),C(P,n,i,x,M,o,w);var m=window.Float32Array?new Float32Array(n*i):new Array(n*i);for(d=0,E=n*i;d<E;d++)m[d]=g(1-((S[d]-P[d])/r+t),0,1);return m}function C(v,p,t,r,s,n,i){for(var f=0;f<p;f++){for(var u=0;u<t;u++)r[u]=v[u*p+f];for(A(r,s,n,i,t),u=0;u<t;u++)v[u*p+f]=s[u]}for(u=0;u<t;u++){for(f=0;f<p;f++)r[f]=v[u*p+f];for(A(r,s,n,i,p),f=0;f<p;f++)v[u*p+f]=Math.sqrt(s[f])}}function A(v,p,t,r,s){t[0]=0,r[0]=-_,r[1]=+_;for(var n=1,i=0;n<s;n++){for(var f=(v[n]+n*n-(v[t[i]]+t[i]*t[i]))/(2*n-2*t[i]);f<=r[i];)i--,f=(v[n]+n*n-(v[t[i]]+t[i]*t[i]))/(2*n-2*t[i]);i++,t[i]=n,r[i]=f,r[i+1]=+_}for(n=0,i=0;n<s;n++){for(;r[i+1]<n;)i++;p[n]=(n-t[i])*(n-t[i])+v[t[i]]}}},6614:function(G,V,e){var g=e(68318),_=e(68222),a=_(g("String.prototype.indexOf"));G.exports=function(A,v){var p=g(A,!!v);return typeof p=="function"&&a(A,".prototype.")>-1?_(p):p}},68222:function(G,V,e){var g=e(77575),_=e(68318),a=_("%Function.prototype.apply%"),C=_("%Function.prototype.call%"),A=_("%Reflect.apply%",!0)||g.call(C,a),v=_("%Object.getOwnPropertyDescriptor%",!0),p=_("%Object.defineProperty%",!0),t=_("%Math.max%");if(p)try{p({},"a",{value:1})}catch{p=null}G.exports=function(n){var i=A(g,C,arguments);if(v&&p){var f=v(i,"length");f.configurable&&p(i,"length",{value:1+t(0,n.length-(arguments.length-1))})}return i};var r=function(){return A(g,a,arguments)};p?p(G.exports,"apply",{value:r}):G.exports.apply=r},53435:function(G){G.exports=V;function V(e,g,_){return g<_?e<g?g:e>_?_:e:e<_?_:e>g?g:e}},6475:function(G,V,e){var g=e(53435);G.exports=_,G.exports.to=_,G.exports.from=a;function _(C,A){A==null&&(A=!0);var v=C[0],p=C[1],t=C[2],r=C[3];r==null&&(r=A?1:255),A&&(v*=255,p*=255,t*=255,r*=255),v=g(v,0,255)&255,p=g(p,0,255)&255,t=g(t,0,255)&255,r=g(r,0,255)&255;var s=v*16777216+(p<<16)+(t<<8)+r;return s}function a(C,A){C=+C;var v=C>>>24,p=(C&16711680)>>>16,t=(C&65280)>>>8,r=C&255;return A===!1?[v,p,t,r]:[v/255,p/255,t/255,r/255]}},76857:function(G){G.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},25075:function(G,V,e){var g=e(36652),_=e(53435),a=e(90660);G.exports=function(v,p){(p==="float"||!p)&&(p="array"),p==="uint"&&(p="uint8"),p==="uint_clamped"&&(p="uint8_clamped");var t=a(p),r=new t(4),s=p!=="uint8"&&p!=="uint8_clamped";return(!v.length||typeof v=="string")&&(v=g(v),v[0]/=255,v[1]/=255,v[2]/=255),C(v)?(r[0]=v[0],r[1]=v[1],r[2]=v[2],r[3]=v[3]!=null?v[3]:255,s&&(r[0]/=255,r[1]/=255,r[2]/=255,r[3]/=255),r):(s?(r[0]=v[0],r[1]=v[1],r[2]=v[2],r[3]=v[3]!=null?v[3]:1):(r[0]=_(Math.floor(v[0]*255),0,255),r[1]=_(Math.floor(v[1]*255),0,255),r[2]=_(Math.floor(v[2]*255),0,255),r[3]=v[3]==null?255:_(Math.floor(v[3]*255),0,255)),r)};function C(A){return!!(A instanceof Uint8Array||A instanceof Uint8ClampedArray||Array.isArray(A)&&(A[0]>1||A[0]===0)&&(A[1]>1||A[1]===0)&&(A[2]>1||A[2]===0)&&(!A[3]||A[3]>1))}},90736:function(G,V,e){var g=e(76857),_=e(10973),a=e(46775);G.exports=A;var C={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function A(v){var p,t=[],r=1,s;if(typeof v=="string")if(g[v])t=g[v].slice(),s="rgb";else if(v==="transparent")r=0,s="rgb",t=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(v)){var n=v.slice(1),i=n.length,f=i<=4;r=1,f?(t=[parseInt(n[0]+n[0],16),parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16)],i===4&&(r=parseInt(n[3]+n[3],16)/255)):(t=[parseInt(n[0]+n[1],16),parseInt(n[2]+n[3],16),parseInt(n[4]+n[5],16)],i===8&&(r=parseInt(n[6]+n[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),s="rgb"}else if(p=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(v)){var u=p[1],y=u==="rgb",n=u.replace(/a$/,"");s=n;var i=n==="cmyk"?4:n==="gray"?1:3;t=p[2].trim().split(/\s*,\s*/).map(function(l,d){if(/%$/.test(l))return d===i?parseFloat(l)/100:n==="rgb"?parseFloat(l)*255/100:parseFloat(l);if(n[d]==="h"){if(/deg$/.test(l))return parseFloat(l);if(C[l]!==void 0)return C[l]}return parseFloat(l)}),u===n&&t.push(1),r=y||t[i]===void 0?1:t[i],t=t.slice(0,i)}else v.length>10&&/[0-9](?:\s|\/)/.test(v)&&(t=v.match(/([0-9]+)/g).map(function(T){return parseFloat(T)}),s=v.match(/([a-z])/ig).join("").toLowerCase());else if(!isNaN(v))s="rgb",t=[v>>>16,(v&65280)>>>8,v&255];else if(_(v)){var c=a(v.r,v.red,v.R,null);c!==null?(s="rgb",t=[c,a(v.g,v.green,v.G),a(v.b,v.blue,v.B)]):(s="hsl",t=[a(v.h,v.hue,v.H),a(v.s,v.saturation,v.S),a(v.l,v.lightness,v.L,v.b,v.brightness)]),r=a(v.a,v.alpha,v.opacity,1),v.opacity!=null&&(r/=100)}else(Array.isArray(v)||e.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(v))&&(t=[v[0],v[1],v[2]],s="rgb",r=v.length===4?v[3]:1);return{space:s,values:t,alpha:r}}},36652:function(G,V,e){var g=e(90736),_=e(80009),a=e(53435);G.exports=function(A){var v,p=g(A);return p.space?(v=Array(3),v[0]=a(p.values[0],0,255),v[1]=a(p.values[1],0,255),v[2]=a(p.values[2],0,255),p.space[0]==="h"&&(v=_.rgb(v)),v.push(a(p.alpha,0,1)),v):[]}},80009:function(G,V,e){var g=e(6866);G.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(_){var a=_[0]/360,C=_[1]/100,A=_[2]/100,v,p,t,r,s;if(C===0)return s=A*255,[s,s,s];A<.5?p=A*(1+C):p=A+C-A*C,v=2*A-p,r=[0,0,0];for(var n=0;n<3;n++)t=a+.3333333333333333*-(n-1),t<0?t++:t>1&&t--,6*t<1?s=v+(p-v)*6*t:2*t<1?s=p:3*t<2?s=v+(p-v)*(.6666666666666666-t)*6:s=v,r[n]=s*255;return r}},g.hsl=function(_){var a=_[0]/255,C=_[1]/255,A=_[2]/255,v=Math.min(a,C,A),p=Math.max(a,C,A),t=p-v,r,s,n;return p===v?r=0:a===p?r=(C-A)/t:C===p?r=2+(A-a)/t:A===p&&(r=4+(a-C)/t),r=Math.min(r*60,360),r<0&&(r+=360),n=(v+p)/2,p===v?s=0:n<=.5?s=t/(p+v):s=t/(2-p-v),[r,s*100,n*100]}},6866:function(G){G.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},24138:function(G){G.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|)o.?tom(e|)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},72791:function(G,V,e){G.exports={parse:e(41004),stringify:e(53313)}},63625:function(G,V,e){var g=e(40402);G.exports={isSize:function(a){return/^[\d\.]/.test(a)||a.indexOf("/")!==-1||g.indexOf(a)!==-1}}},41004:function(G,V,e){var g=e(90448),_=e(38732),a=e(41901),C=e(15659),A=e(96209),v=e(83794),p=e(99011),t=e(63625).isSize;G.exports=s;var r=s.cache={};function s(i){if(typeof i!="string")throw new Error("Font argument must be a string.");if(r[i])return r[i];if(i==="")throw new Error("Cannot parse an empty string.");if(a.indexOf(i)!==-1)return r[i]={system:i};for(var f={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},u=p(i,/\s+/),y;y=u.shift();){if(_.indexOf(y)!==-1)return["style","variant","weight","stretch"].forEach(function(T){f[T]=y}),r[i]=f;if(A.indexOf(y)!==-1){f.style=y;continue}if(y==="normal"||y==="small-caps"){f.variant=y;continue}if(v.indexOf(y)!==-1){f.stretch=y;continue}if(C.indexOf(y)!==-1){f.weight=y;continue}if(t(y)){var c=p(y,"/");if(f.size=c[0],c[1]!=null?f.lineHeight=n(c[1]):u[0]==="/"&&(u.shift(),f.lineHeight=n(u.shift())),!u.length)throw new Error("Missing required font-family.");return f.family=p(u.join(" "),/\s*,\s*/).map(g),r[i]=f}throw new Error("Unknown or unsupported font token: "+y)}throw new Error("Missing required font-size.")}function n(i){var f=parseFloat(i);return f.toString()===i?f:i}},53313:function(G,V,e){var g=e(71299),_=e(63625).isSize,a=i(e(38732)),C=i(e(41901)),A=i(e(15659)),v=i(e(96209)),p=i(e(83794)),t={normal:1,"small-caps":1},r={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},s={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};G.exports=function(u){if(u=g(u,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),u.system)return u.system&&n(u.system,C),u.system;if(n(u.style,v),n(u.variant,t),n(u.weight,A),n(u.stretch,p),u.size==null&&(u.size=s.size),typeof u.size=="number"&&(u.size+="px"),!_)throw Error("Bad size value `"+u.size+"`");u.family||(u.family=s.family),Array.isArray(u.family)&&(u.family.length||(u.family=[s.family]),u.family=u.family.map(function(c){return r[c]?c:'"'+c+'"'}).join(", "));var y=[];return y.push(u.style),u.variant!==u.style&&y.push(u.variant),u.weight!==u.variant&&u.weight!==u.style&&y.push(u.weight),u.stretch!==u.weight&&u.stretch!==u.variant&&u.stretch!==u.style&&y.push(u.stretch),y.push(u.size+(u.lineHeight==null||u.lineHeight==="normal"||u.lineHeight+""=="1"?"":"/"+u.lineHeight)),y.push(u.family),y.filter(Boolean).join(" ")};function n(f,u){if(f&&!u[f]&&!a[f])throw Error("Unknown keyword `"+f+"`");return f}function i(f){for(var u={},y=0;y<f.length;y++)u[f[y]]=1;return u}},55174:function(G,V,e){var g=e(24582),_=e(10424),a=e(82527),C=e(19012),A=e(21780),v=e(16906),p=Function.prototype.bind,t=Object.defineProperty,r=Object.prototype.hasOwnProperty,s;s=function(n,i,f){var u=_(i)&&a(i.value),y;return y=C(i),delete y.writable,delete y.value,y.get=function(){return!f.overwriteDefinition&&r.call(this,n)?u:(i.value=p.call(u,f.resolveContext?f.resolveContext(this):this),t(this,n,i),this[n])},y},G.exports=function(n){var i=A(arguments[1]);return g(i.resolveContext)&&a(i.resolveContext),v(n,function(f,u){return s(u,f,i)})}},62072:function(G,V,e){var g=e(24582),_=e(84985),a=e(95879),C=e(21780),A=e(66741),v=G.exports=function(p,t){var r,s,n,i,f;return arguments.length<2||typeof p!="string"?(i=t,t=p,p=null):i=arguments[2],g(p)?(r=A.call(p,"c"),s=A.call(p,"e"),n=A.call(p,"w")):(r=n=!0,s=!1),f={value:t,configurable:r,enumerable:s,writable:n},i?a(C(i),f):f};v.gs=function(p,t,r){var s,n,i,f;return typeof p!="string"?(i=r,r=t,t=p,p=null):i=arguments[3],g(t)?_(t)?g(r)?_(r)||(i=r,r=void 0):r=void 0:(i=t,t=r=void 0):t=void 0,g(p)?(s=A.call(p,"c"),n=A.call(p,"e")):(s=!0,n=!1),f={get:t,set:r,configurable:s,enumerable:n},i?a(C(i),f):f}},33064:function(G,V,e){e.d(V,{j2:function(){return g},Fp:function(){return C},J6:function(){return v},TS:function(){return p},VV:function(){return t},w6:function(){return r},Sm:function(){return s}});function g(n,i){return n<i?-1:n>i?1:n>=i?0:NaN}function _(n){return n.length===1&&(n=a(n)),{left:function(i,f,u,y){for(u==null&&(u=0),y==null&&(y=i.length);u<y;){var c=u+y>>>1;n(i[c],f)<0?u=c+1:y=c}return u},right:function(i,f,u,y){for(u==null&&(u=0),y==null&&(y=i.length);u<y;){var c=u+y>>>1;n(i[c],f)>0?y=c:u=c+1}return u}}}function a(n){return function(i,f){return g(n(i),f)}}_(g);function C(n,i){var f=n.length,u=-1,y,c;if(i==null){for(;++u<f;)if((y=n[u])!=null&&y>=y)for(c=y;++u<f;)(y=n[u])!=null&&y>c&&(c=y)}else for(;++u<f;)if((y=i(n[u],u,n))!=null&&y>=y)for(c=y;++u<f;)(y=i(n[u],u,n))!=null&&y>c&&(c=y);return c}function A(n){return n===null?NaN:+n}function v(n,i){var f=n.length,u=f,y=-1,c,T=0;if(i==null)for(;++y<f;)isNaN(c=A(n[y]))?--u:T+=c;else for(;++y<f;)isNaN(c=A(i(n[y],y,n)))?--u:T+=c;if(u)return T/u}function p(n){for(var i=n.length,f,u=-1,y=0,c,T;++u<i;)y+=n[u].length;for(c=new Array(y);--i>=0;)for(T=n[i],f=T.length;--f>=0;)c[--y]=T[f];return c}function t(n,i){var f=n.length,u=-1,y,c;if(i==null){for(;++u<f;)if((y=n[u])!=null&&y>=y)for(c=y;++u<f;)(y=n[u])!=null&&c>y&&(c=y)}else for(;++u<f;)if((y=i(n[u],u,n))!=null&&y>=y)for(c=y;++u<f;)(y=i(n[u],u,n))!=null&&c>y&&(c=y);return c}function r(n,i,f){n=+n,i=+i,f=(y=arguments.length)<2?(i=n,n=0,1):y<3?1:+f;for(var u=-1,y=Math.max(0,Math.ceil((i-n)/f))|0,c=new Array(y);++u<y;)c[u]=n+u*f;return c}function s(n,i){var f=n.length,u=-1,y,c=0;if(i==null)for(;++u<f;)(y=+n[u])&&(c+=y);else for(;++u<f;)(y=+i(n[u],u,n))&&(c+=y);return c}},15140:function(G,V,e){e.d(V,{UI:function(){return C},b1:function(){return A}});var g="$";function _(){}_.prototype=a.prototype={constructor:_,has:function(i){return g+i in this},get:function(i){return this[g+i]},set:function(i,f){return this[g+i]=f,this},remove:function(i){var f=g+i;return f in this&&delete this[f]},clear:function(){for(var i in this)i[0]===g&&delete this[i]},keys:function(){var i=[];for(var f in this)f[0]===g&&i.push(f.slice(1));return i},values:function(){var i=[];for(var f in this)f[0]===g&&i.push(this[f]);return i},entries:function(){var i=[];for(var f in this)f[0]===g&&i.push({key:f.slice(1),value:this[f]});return i},size:function(){var i=0;for(var f in this)f[0]===g&&++i;return i},empty:function(){for(var i in this)if(i[0]===g)return!1;return!0},each:function(i){for(var f in this)f[0]===g&&i(this[f],f.slice(1),this)}};function a(i,f){var u=new _;if(i instanceof _)i.each(function(l,d){u.set(d,l)});else if(Array.isArray(i)){var y=-1,c=i.length,T;if(f==null)for(;++y<c;)u.set(y,i[y]);else for(;++y<c;)u.set(f(T=i[y],y,i),T)}else if(i)for(var h in i)u.set(h,i[h]);return u}var C=a;function A(){var i=[],f=[],u,y,c;function T(l,d,E,S){if(d>=i.length)return u!=null&&l.sort(u),y!=null?y(l):l;for(var P=-1,x=l.length,M=i[d++],w,o,L=C(),m,F=E();++P<x;)(m=L.get(w=M(o=l[P])+""))?m.push(o):L.set(w,[o]);return L.each(function(I,U){S(F,U,T(I,d,E,S))}),F}function h(l,d){if(++d>i.length)return l;var E,S=f[d-1];return y!=null&&d>=i.length?E=l.entries():(E=[],l.each(function(P,x){E.push({key:x,values:h(P,d)})})),S!=null?E.sort(function(P,x){return S(P.key,x.key)}):E}return c={object:function(l){return T(l,0,v,p)},map:function(l){return T(l,0,t,r)},entries:function(l){return h(T(l,0,t,r),0)},key:function(l){return i.push(l),c},sortKeys:function(l){return f[i.length-1]=l,c},sortValues:function(l){return u=l,c},rollup:function(l){return y=l,c}}}function v(){return{}}function p(i,f,u){i[f]=u}function t(){return C()}function r(i,f,u){i.set(f,u)}function s(){}var n=C.prototype;s.prototype={constructor:s,has:n.has,add:function(i){return i+="",this[g+i]=i,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49887:function(G,V,e){e.r(V),e.d(V,{forceCenter:function(){return g},forceCollide:function(){return L},forceLink:function(){return U},forceManyBody:function(){return Ze},forceRadial:function(){return ut},forceSimulation:function(){return Fe},forceX:function(){return at},forceY:function(){return it}});function g($e,st){var ct;$e==null&&($e=0),st==null&&(st=0);function vt(){var St,Mt=ct.length,Bt,Qe=0,ke=0;for(St=0;St<Mt;++St)Bt=ct[St],Qe+=Bt.x,ke+=Bt.y;for(Qe=Qe/Mt-$e,ke=ke/Mt-st,St=0;St<Mt;++St)Bt=ct[St],Bt.x-=Qe,Bt.y-=ke}return vt.initialize=function(St){ct=St},vt.x=function(St){return arguments.length?($e=+St,vt):$e},vt.y=function(St){return arguments.length?(st=+St,vt):st},vt}function _($e){return function(){return $e}}function a(){return(Math.random()-.5)*1e-6}function C($e){var st=+this._x.call(null,$e),ct=+this._y.call(null,$e);return A(this.cover(st,ct),st,ct,$e)}function A($e,st,ct,vt){if(isNaN(st)||isNaN(ct))return $e;var St,Mt=$e._root,Bt={data:vt},Qe=$e._x0,ke=$e._y0,ze=$e._x1,Be=$e._y1,Re,we,ye,Se,Me,He,qe,rt;if(!Mt)return $e._root=Bt,$e;for(;Mt.length;)if((Me=st>=(Re=(Qe+ze)/2))?Qe=Re:ze=Re,(He=ct>=(we=(ke+Be)/2))?ke=we:Be=we,St=Mt,!(Mt=Mt[qe=He<<1|Me]))return St[qe]=Bt,$e;if(ye=+$e._x.call(null,Mt.data),Se=+$e._y.call(null,Mt.data),st===ye&&ct===Se)return Bt.next=Mt,St?St[qe]=Bt:$e._root=Bt,$e;do St=St?St[qe]=new Array(4):$e._root=new Array(4),(Me=st>=(Re=(Qe+ze)/2))?Qe=Re:ze=Re,(He=ct>=(we=(ke+Be)/2))?ke=we:Be=we;while((qe=He<<1|Me)===(rt=(Se>=we)<<1|ye>=Re));return St[rt]=Mt,St[qe]=Bt,$e}function v($e){var st,ct,vt=$e.length,St,Mt,Bt=new Array(vt),Qe=new Array(vt),ke=1/0,ze=1/0,Be=-1/0,Re=-1/0;for(ct=0;ct<vt;++ct)isNaN(St=+this._x.call(null,st=$e[ct]))||isNaN(Mt=+this._y.call(null,st))||(Bt[ct]=St,Qe[ct]=Mt,St<ke&&(ke=St),St>Be&&(Be=St),Mt<ze&&(ze=Mt),Mt>Re&&(Re=Mt));if(ke>Be||ze>Re)return this;for(this.cover(ke,ze).cover(Be,Re),ct=0;ct<vt;++ct)A(this,Bt[ct],Qe[ct],$e[ct]);return this}function p($e,st){if(isNaN($e=+$e)||isNaN(st=+st))return this;var ct=this._x0,vt=this._y0,St=this._x1,Mt=this._y1;if(isNaN(ct))St=(ct=Math.floor($e))+1,Mt=(vt=Math.floor(st))+1;else{for(var Bt=St-ct,Qe=this._root,ke,ze;ct>$e||$e>=St||vt>st||st>=Mt;)switch(ze=(st<vt)<<1|$e<ct,ke=new Array(4),ke[ze]=Qe,Qe=ke,Bt*=2,ze){case 0:St=ct+Bt,Mt=vt+Bt;break;case 1:ct=St-Bt,Mt=vt+Bt;break;case 2:St=ct+Bt,vt=Mt-Bt;break;case 3:ct=St-Bt,vt=Mt-Bt;break}this._root&&this._root.length&&(this._root=Qe)}return this._x0=ct,this._y0=vt,this._x1=St,this._y1=Mt,this}function t(){var $e=[];return this.visit(function(st){if(!st.length)do $e.push(st.data);while(st=st.next)}),$e}function r($e){return arguments.length?this.cover(+$e[0][0],+$e[0][1]).cover(+$e[1][0],+$e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function s($e,st,ct,vt,St){this.node=$e,this.x0=st,this.y0=ct,this.x1=vt,this.y1=St}function n($e,st,ct){var vt,St=this._x0,Mt=this._y0,Bt,Qe,ke,ze,Be=this._x1,Re=this._y1,we=[],ye=this._root,Se,Me;for(ye&&we.push(new s(ye,St,Mt,Be,Re)),ct==null?ct=1/0:(St=$e-ct,Mt=st-ct,Be=$e+ct,Re=st+ct,ct*=ct);Se=we.pop();)if(!(!(ye=Se.node)||(Bt=Se.x0)>Be||(Qe=Se.y0)>Re||(ke=Se.x1)<St||(ze=Se.y1)<Mt))if(ye.length){var He=(Bt+ke)/2,qe=(Qe+ze)/2;we.push(new s(ye[3],He,qe,ke,ze),new s(ye[2],Bt,qe,He,ze),new s(ye[1],He,Qe,ke,qe),new s(ye[0],Bt,Qe,He,qe)),(Me=(st>=qe)<<1|$e>=He)&&(Se=we[we.length-1],we[we.length-1]=we[we.length-1-Me],we[we.length-1-Me]=Se)}else{var rt=$e-+this._x.call(null,ye.data),pt=st-+this._y.call(null,ye.data),At=rt*rt+pt*pt;if(At<ct){var jt=Math.sqrt(ct=At);St=$e-jt,Mt=st-jt,Be=$e+jt,Re=st+jt,vt=ye.data}}return vt}function i($e){if(isNaN(Be=+this._x.call(null,$e))||isNaN(Re=+this._y.call(null,$e)))return this;var st,ct=this._root,vt,St,Mt,Bt=this._x0,Qe=this._y0,ke=this._x1,ze=this._y1,Be,Re,we,ye,Se,Me,He,qe;if(!ct)return this;if(ct.length)for(;;){if((Se=Be>=(we=(Bt+ke)/2))?Bt=we:ke=we,(Me=Re>=(ye=(Qe+ze)/2))?Qe=ye:ze=ye,st=ct,!(ct=ct[He=Me<<1|Se]))return this;if(!ct.length)break;(st[He+1&3]||st[He+2&3]||st[He+3&3])&&(vt=st,qe=He)}for(;ct.data!==$e;)if(St=ct,!(ct=ct.next))return this;return(Mt=ct.next)&&delete ct.next,St?(Mt?St.next=Mt:delete St.next,this):st?(Mt?st[He]=Mt:delete st[He],(ct=st[0]||st[1]||st[2]||st[3])&&ct===(st[3]||st[2]||st[1]||st[0])&&!ct.length&&(vt?vt[qe]=ct:this._root=ct),this):(this._root=Mt,this)}function f($e){for(var st=0,ct=$e.length;st<ct;++st)this.remove($e[st]);return this}function u(){return this._root}function y(){var $e=0;return this.visit(function(st){if(!st.length)do++$e;while(st=st.next)}),$e}function c($e){var st=[],ct,vt=this._root,St,Mt,Bt,Qe,ke;for(vt&&st.push(new s(vt,this._x0,this._y0,this._x1,this._y1));ct=st.pop();)if(!$e(vt=ct.node,Mt=ct.x0,Bt=ct.y0,Qe=ct.x1,ke=ct.y1)&&vt.length){var ze=(Mt+Qe)/2,Be=(Bt+ke)/2;(St=vt[3])&&st.push(new s(St,ze,Be,Qe,ke)),(St=vt[2])&&st.push(new s(St,Mt,Be,ze,ke)),(St=vt[1])&&st.push(new s(St,ze,Bt,Qe,Be)),(St=vt[0])&&st.push(new s(St,Mt,Bt,ze,Be))}return this}function T($e){var st=[],ct=[],vt;for(this._root&&st.push(new s(this._root,this._x0,this._y0,this._x1,this._y1));vt=st.pop();){var St=vt.node;if(St.length){var Mt,Bt=vt.x0,Qe=vt.y0,ke=vt.x1,ze=vt.y1,Be=(Bt+ke)/2,Re=(Qe+ze)/2;(Mt=St[0])&&st.push(new s(Mt,Bt,Qe,Be,Re)),(Mt=St[1])&&st.push(new s(Mt,Be,Qe,ke,Re)),(Mt=St[2])&&st.push(new s(Mt,Bt,Re,Be,ze)),(Mt=St[3])&&st.push(new s(Mt,Be,Re,ke,ze))}ct.push(vt)}for(;vt=ct.pop();)$e(vt.node,vt.x0,vt.y0,vt.x1,vt.y1);return this}function h($e){return $e[0]}function l($e){return arguments.length?(this._x=$e,this):this._x}function d($e){return $e[1]}function E($e){return arguments.length?(this._y=$e,this):this._y}function S($e,st,ct){var vt=new P(st??h,ct??d,NaN,NaN,NaN,NaN);return $e==null?vt:vt.addAll($e)}function P($e,st,ct,vt,St,Mt){this._x=$e,this._y=st,this._x0=ct,this._y0=vt,this._x1=St,this._y1=Mt,this._root=void 0}function x($e){for(var st={data:$e.data},ct=st;$e=$e.next;)ct=ct.next={data:$e.data};return st}var M=S.prototype=P.prototype;M.copy=function(){var $e=new P(this._x,this._y,this._x0,this._y0,this._x1,this._y1),st=this._root,ct,vt;if(!st)return $e;if(!st.length)return $e._root=x(st),$e;for(ct=[{source:st,target:$e._root=new Array(4)}];st=ct.pop();)for(var St=0;St<4;++St)(vt=st.source[St])&&(vt.length?ct.push({source:vt,target:st.target[St]=new Array(4)}):st.target[St]=x(vt));return $e},M.add=C,M.addAll=v,M.cover=p,M.data=t,M.extent=r,M.find=n,M.remove=i,M.removeAll=f,M.root=u,M.size=y,M.visit=c,M.visitAfter=T,M.x=l,M.y=E;function w($e){return $e.x+$e.vx}function o($e){return $e.y+$e.vy}function L($e){var st,ct,vt=1,St=1;typeof $e!="function"&&($e=_($e==null?1:+$e));function Mt(){for(var ke,ze=st.length,Be,Re,we,ye,Se,Me,He=0;He<St;++He)for(Be=S(st,w,o).visitAfter(Bt),ke=0;ke<ze;++ke)Re=st[ke],Se=ct[Re.index],Me=Se*Se,we=Re.x+Re.vx,ye=Re.y+Re.vy,Be.visit(qe);function qe(rt,pt,At,jt,tr){var Ct=rt.data,Nt=rt.r,Kt=Se+Nt;if(Ct){if(Ct.index>Re.index){var wr=we-Ct.x-Ct.vx,yt=ye-Ct.y-Ct.vy,$t=wr*wr+yt*yt;$t<Kt*Kt&&(wr===0&&(wr=a(),$t+=wr*wr),yt===0&&(yt=a(),$t+=yt*yt),$t=(Kt-($t=Math.sqrt($t)))/$t*vt,Re.vx+=(wr*=$t)*(Kt=(Nt*=Nt)/(Me+Nt)),Re.vy+=(yt*=$t)*Kt,Ct.vx-=wr*(Kt=1-Kt),Ct.vy-=yt*Kt)}return}return pt>we+Kt||jt<we-Kt||At>ye+Kt||tr<ye-Kt}}function Bt(ke){if(ke.data)return ke.r=ct[ke.data.index];for(var ze=ke.r=0;ze<4;++ze)ke[ze]&&ke[ze].r>ke.r&&(ke.r=ke[ze].r)}function Qe(){if(st){var ke,ze=st.length,Be;for(ct=new Array(ze),ke=0;ke<ze;++ke)Be=st[ke],ct[Be.index]=+$e(Be,ke,st)}}return Mt.initialize=function(ke){st=ke,Qe()},Mt.iterations=function(ke){return arguments.length?(St=+ke,Mt):St},Mt.strength=function(ke){return arguments.length?(vt=+ke,Mt):vt},Mt.radius=function(ke){return arguments.length?($e=typeof ke=="function"?ke:_(+ke),Qe(),Mt):$e},Mt}var m=e(15140);function F($e){return $e.index}function I($e,st){var ct=$e.get(st);if(!ct)throw new Error("missing: "+st);return ct}function U($e){var st=F,ct=Be,vt,St=_(30),Mt,Bt,Qe,ke,ze=1;$e==null&&($e=[]);function Be(Me){return 1/Math.min(Qe[Me.source.index],Qe[Me.target.index])}function Re(Me){for(var He=0,qe=$e.length;He<ze;++He)for(var rt=0,pt,At,jt,tr,Ct,Nt,Kt;rt<qe;++rt)pt=$e[rt],At=pt.source,jt=pt.target,tr=jt.x+jt.vx-At.x-At.vx||a(),Ct=jt.y+jt.vy-At.y-At.vy||a(),Nt=Math.sqrt(tr*tr+Ct*Ct),Nt=(Nt-Mt[rt])/Nt*Me*vt[rt],tr*=Nt,Ct*=Nt,jt.vx-=tr*(Kt=ke[rt]),jt.vy-=Ct*Kt,At.vx+=tr*(Kt=1-Kt),At.vy+=Ct*Kt}function we(){if(Bt){var Me,He=Bt.length,qe=$e.length,rt=(0,m.UI)(Bt,st),pt;for(Me=0,Qe=new Array(He);Me<qe;++Me)pt=$e[Me],pt.index=Me,typeof pt.source!="object"&&(pt.source=I(rt,pt.source)),typeof pt.target!="object"&&(pt.target=I(rt,pt.target)),Qe[pt.source.index]=(Qe[pt.source.index]||0)+1,Qe[pt.target.index]=(Qe[pt.target.index]||0)+1;for(Me=0,ke=new Array(qe);Me<qe;++Me)pt=$e[Me],ke[Me]=Qe[pt.source.index]/(Qe[pt.source.index]+Qe[pt.target.index]);vt=new Array(qe),ye(),Mt=new Array(qe),Se()}}function ye(){if(Bt)for(var Me=0,He=$e.length;Me<He;++Me)vt[Me]=+ct($e[Me],Me,$e)}function Se(){if(Bt)for(var Me=0,He=$e.length;Me<He;++Me)Mt[Me]=+St($e[Me],Me,$e)}return Re.initialize=function(Me){Bt=Me,we()},Re.links=function(Me){return arguments.length?($e=Me,we(),Re):$e},Re.id=function(Me){return arguments.length?(st=Me,Re):st},Re.iterations=function(Me){return arguments.length?(ze=+Me,Re):ze},Re.strength=function(Me){return arguments.length?(ct=typeof Me=="function"?Me:_(+Me),ye(),Re):ct},Re.distance=function(Me){return arguments.length?(St=typeof Me=="function"?Me:_(+Me),Se(),Re):St},Re}var z={value:function(){}};function N(){for(var $e=0,st=arguments.length,ct={},vt;$e<st;++$e){if(!(vt=arguments[$e]+"")||vt in ct||/[\s.]/.test(vt))throw new Error("illegal type: "+vt);ct[vt]=[]}return new B(ct)}function B($e){this._=$e}function O($e,st){return $e.trim().split(/^|\s+/).map(function(ct){var vt="",St=ct.indexOf(".");if(St>=0&&(vt=ct.slice(St+1),ct=ct.slice(0,St)),ct&&!st.hasOwnProperty(ct))throw new Error("unknown type: "+ct);return{type:ct,name:vt}})}B.prototype=N.prototype={constructor:B,on:function($e,st){var ct=this._,vt=O($e+"",ct),St,Mt=-1,Bt=vt.length;if(arguments.length<2){for(;++Mt<Bt;)if((St=($e=vt[Mt]).type)&&(St=H(ct[St],$e.name)))return St;return}if(st!=null&&typeof st!="function")throw new Error("invalid callback: "+st);for(;++Mt<Bt;)if(St=($e=vt[Mt]).type)ct[St]=Y(ct[St],$e.name,st);else if(st==null)for(St in ct)ct[St]=Y(ct[St],$e.name,null);return this},copy:function(){var $e={},st=this._;for(var ct in st)$e[ct]=st[ct].slice();return new B($e)},call:function($e,st){if((St=arguments.length-2)>0)for(var ct=new Array(St),vt=0,St,Mt;vt<St;++vt)ct[vt]=arguments[vt+2];if(!this._.hasOwnProperty($e))throw new Error("unknown type: "+$e);for(Mt=this._[$e],vt=0,St=Mt.length;vt<St;++vt)Mt[vt].value.apply(st,ct)},apply:function($e,st,ct){if(!this._.hasOwnProperty($e))throw new Error("unknown type: "+$e);for(var vt=this._[$e],St=0,Mt=vt.length;St<Mt;++St)vt[St].value.apply(st,ct)}};function H($e,st){for(var ct=0,vt=$e.length,St;ct<vt;++ct)if((St=$e[ct]).name===st)return St.value}function Y($e,st,ct){for(var vt=0,St=$e.length;vt<St;++vt)if($e[vt].name===st){$e[vt]=z,$e=$e.slice(0,vt).concat($e.slice(vt+1));break}return ct!=null&&$e.push({name:st,value:ct}),$e}var J=N,re=0,ie=0,ce=0,Q=1e3,j,Z,$=0,te=0,se=0,ee=typeof performance=="object"&&performance.now?performance:Date,q=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function($e){setTimeout($e,17)};function le(){return te||(q(oe),te=ee.now()+se)}function oe(){te=0}function he(){this._call=this._time=this._next=null}he.prototype=me.prototype={constructor:he,restart:function($e,st,ct){if(typeof $e!="function")throw new TypeError("callback is not a function");ct=(ct==null?le():+ct)+(st==null?0:+st),!this._next&&Z!==this&&(Z?Z._next=this:j=this,Z=this),this._call=$e,this._time=ct,Pe()},stop:function(){this._call&&(this._call=null,this._time=1/0,Pe())}};function me($e,st,ct){var vt=new he;return vt.restart($e,st,ct),vt}function Ce(){le(),++re;for(var $e=j,st;$e;)(st=te-$e._time)>=0&&$e._call.call(null,st),$e=$e._next;--re}function Ae(){te=($=ee.now())+se,re=ie=0;try{Ce()}finally{re=0,Ve(),te=0}}function Ue(){var $e=ee.now(),st=$e-$;st>Q&&(se-=st,$=$e)}function Ve(){for(var $e,st=j,ct,vt=1/0;st;)st._call?(vt>st._time&&(vt=st._time),$e=st,st=st._next):(ct=st._next,st._next=null,st=$e?$e._next=ct:j=ct);Z=$e,Pe(vt)}function Pe($e){if(!re){ie&&(ie=clearTimeout(ie));var st=$e-te;st>24?($e<1/0&&(ie=setTimeout(Ae,$e-ee.now()-se)),ce&&(ce=clearInterval(ce))):(ce||($=ee.now(),ce=setInterval(Ue,Q)),re=1,q(Ae))}}function be($e){return $e.x}function Le($e){return $e.y}var We=10,je=Math.PI*(3-Math.sqrt(5));function Fe($e){var st,ct=1,vt=.001,St=1-Math.pow(vt,1/300),Mt=0,Bt=.6,Qe=(0,m.UI)(),ke=me(Be),ze=J("tick","end");$e==null&&($e=[]);function Be(){Re(),ze.call("tick",st),ct<vt&&(ke.stop(),ze.call("end",st))}function Re(Se){var Me,He=$e.length,qe;Se===void 0&&(Se=1);for(var rt=0;rt<Se;++rt)for(ct+=(Mt-ct)*St,Qe.each(function(pt){pt(ct)}),Me=0;Me<He;++Me)qe=$e[Me],qe.fx==null?qe.x+=qe.vx*=Bt:(qe.x=qe.fx,qe.vx=0),qe.fy==null?qe.y+=qe.vy*=Bt:(qe.y=qe.fy,qe.vy=0);return st}function we(){for(var Se=0,Me=$e.length,He;Se<Me;++Se){if(He=$e[Se],He.index=Se,He.fx!=null&&(He.x=He.fx),He.fy!=null&&(He.y=He.fy),isNaN(He.x)||isNaN(He.y)){var qe=We*Math.sqrt(Se),rt=Se*je;He.x=qe*Math.cos(rt),He.y=qe*Math.sin(rt)}(isNaN(He.vx)||isNaN(He.vy))&&(He.vx=He.vy=0)}}function ye(Se){return Se.initialize&&Se.initialize($e),Se}return we(),st={tick:Re,restart:function(){return ke.restart(Be),st},stop:function(){return ke.stop(),st},nodes:function(Se){return arguments.length?($e=Se,we(),Qe.each(ye),st):$e},alpha:function(Se){return arguments.length?(ct=+Se,st):ct},alphaMin:function(Se){return arguments.length?(vt=+Se,st):vt},alphaDecay:function(Se){return arguments.length?(St=+Se,st):+St},alphaTarget:function(Se){return arguments.length?(Mt=+Se,st):Mt},velocityDecay:function(Se){return arguments.length?(Bt=1-Se,st):1-Bt},force:function(Se,Me){return arguments.length>1?(Me==null?Qe.remove(Se):Qe.set(Se,ye(Me)),st):Qe.get(Se)},find:function(Se,Me,He){var qe=0,rt=$e.length,pt,At,jt,tr,Ct;for(He==null?He=1/0:He*=He,qe=0;qe<rt;++qe)tr=$e[qe],pt=Se-tr.x,At=Me-tr.y,jt=pt*pt+At*At,jt<He&&(Ct=tr,He=jt);return Ct},on:function(Se,Me){return arguments.length>1?(ze.on(Se,Me),st):ze.on(Se)}}}function Ze(){var $e,st,ct,vt=_(-30),St,Mt=1,Bt=1/0,Qe=.81;function ke(we){var ye,Se=$e.length,Me=S($e,be,Le).visitAfter(Be);for(ct=we,ye=0;ye<Se;++ye)st=$e[ye],Me.visit(Re)}function ze(){if($e){var we,ye=$e.length,Se;for(St=new Array(ye),we=0;we<ye;++we)Se=$e[we],St[Se.index]=+vt(Se,we,$e)}}function Be(we){var ye=0,Se,Me,He=0,qe,rt,pt;if(we.length){for(qe=rt=pt=0;pt<4;++pt)(Se=we[pt])&&(Me=Math.abs(Se.value))&&(ye+=Se.value,He+=Me,qe+=Me*Se.x,rt+=Me*Se.y);we.x=qe/He,we.y=rt/He}else{Se=we,Se.x=Se.data.x,Se.y=Se.data.y;do ye+=St[Se.data.index];while(Se=Se.next)}we.value=ye}function Re(we,ye,Se,Me){if(!we.value)return!0;var He=we.x-st.x,qe=we.y-st.y,rt=Me-ye,pt=He*He+qe*qe;if(rt*rt/Qe<pt)return pt<Bt&&(He===0&&(He=a(),pt+=He*He),qe===0&&(qe=a(),pt+=qe*qe),pt<Mt&&(pt=Math.sqrt(Mt*pt)),st.vx+=He*we.value*ct/pt,st.vy+=qe*we.value*ct/pt),!0;if(we.length||pt>=Bt)return;(we.data!==st||we.next)&&(He===0&&(He=a(),pt+=He*He),qe===0&&(qe=a(),pt+=qe*qe),pt<Mt&&(pt=Math.sqrt(Mt*pt)));do we.data!==st&&(rt=St[we.data.index]*ct/pt,st.vx+=He*rt,st.vy+=qe*rt);while(we=we.next)}return ke.initialize=function(we){$e=we,ze()},ke.strength=function(we){return arguments.length?(vt=typeof we=="function"?we:_(+we),ze(),ke):vt},ke.distanceMin=function(we){return arguments.length?(Mt=we*we,ke):Math.sqrt(Mt)},ke.distanceMax=function(we){return arguments.length?(Bt=we*we,ke):Math.sqrt(Bt)},ke.theta=function(we){return arguments.length?(Qe=we*we,ke):Math.sqrt(Qe)},ke}function ut($e,st,ct){var vt,St=_(.1),Mt,Bt;typeof $e!="function"&&($e=_(+$e)),st==null&&(st=0),ct==null&&(ct=0);function Qe(ze){for(var Be=0,Re=vt.length;Be<Re;++Be){var we=vt[Be],ye=we.x-st||1e-6,Se=we.y-ct||1e-6,Me=Math.sqrt(ye*ye+Se*Se),He=(Bt[Be]-Me)*Mt[Be]*ze/Me;we.vx+=ye*He,we.vy+=Se*He}}function ke(){if(vt){var ze,Be=vt.length;for(Mt=new Array(Be),Bt=new Array(Be),ze=0;ze<Be;++ze)Bt[ze]=+$e(vt[ze],ze,vt),Mt[ze]=isNaN(Bt[ze])?0:+St(vt[ze],ze,vt)}}return Qe.initialize=function(ze){vt=ze,ke()},Qe.strength=function(ze){return arguments.length?(St=typeof ze=="function"?ze:_(+ze),ke(),Qe):St},Qe.radius=function(ze){return arguments.length?($e=typeof ze=="function"?ze:_(+ze),ke(),Qe):$e},Qe.x=function(ze){return arguments.length?(st=+ze,Qe):st},Qe.y=function(ze){return arguments.length?(ct=+ze,Qe):ct},Qe}function at($e){var st=_(.1),ct,vt,St;typeof $e!="function"&&($e=_($e==null?0:+$e));function Mt(Qe){for(var ke=0,ze=ct.length,Be;ke<ze;++ke)Be=ct[ke],Be.vx+=(St[ke]-Be.x)*vt[ke]*Qe}function Bt(){if(ct){var Qe,ke=ct.length;for(vt=new Array(ke),St=new Array(ke),Qe=0;Qe<ke;++Qe)vt[Qe]=isNaN(St[Qe]=+$e(ct[Qe],Qe,ct))?0:+st(ct[Qe],Qe,ct)}}return Mt.initialize=function(Qe){ct=Qe,Bt()},Mt.strength=function(Qe){return arguments.length?(st=typeof Qe=="function"?Qe:_(+Qe),Bt(),Mt):st},Mt.x=function(Qe){return arguments.length?($e=typeof Qe=="function"?Qe:_(+Qe),Bt(),Mt):$e},Mt}function it($e){var st=_(.1),ct,vt,St;typeof $e!="function"&&($e=_($e==null?0:+$e));function Mt(Qe){for(var ke=0,ze=ct.length,Be;ke<ze;++ke)Be=ct[ke],Be.vy+=(St[ke]-Be.y)*vt[ke]*Qe}function Bt(){if(ct){var Qe,ke=ct.length;for(vt=new Array(ke),St=new Array(ke),Qe=0;Qe<ke;++Qe)vt[Qe]=isNaN(St[Qe]=+$e(ct[Qe],Qe,ct))?0:+st(ct[Qe],Qe,ct)}}return Mt.initialize=function(Qe){ct=Qe,Bt()},Mt.strength=function(Qe){return arguments.length?(st=typeof Qe=="function"?Qe:_(+Qe),Bt(),Mt):st},Mt.y=function(Qe){return arguments.length?($e=typeof Qe=="function"?Qe:_(+Qe),Bt(),Mt):$e},Mt}},60721:function(G,V,e){e.d(V,{WU:function(){return l},FF:function(){return T}});function g(E){return Math.abs(E=Math.round(E))>=1e21?E.toLocaleString("en").replace(/,/g,""):E.toString(10)}function _(E,S){if((P=(E=S?E.toExponential(S-1):E.toExponential()).indexOf("e"))<0)return null;var P,x=E.slice(0,P);return[x.length>1?x[0]+x.slice(2):x,+E.slice(P+1)]}function a(E){return E=_(Math.abs(E)),E?E[1]:NaN}function C(E,S){return function(P,x){for(var M=P.length,w=[],o=0,L=E[0],m=0;M>0&&L>0&&(m+L+1>x&&(L=Math.max(1,x-m)),w.push(P.substring(M-=L,M+L)),!((m+=L+1)>x));)L=E[o=(o+1)%E.length];return w.reverse().join(S)}}function A(E){return function(S){return S.replace(/[0-9]/g,function(P){return E[+P]})}}var v=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function p(E){if(!(S=v.exec(E)))throw new Error("invalid format: "+E);var S;return new t({fill:S[1],align:S[2],sign:S[3],symbol:S[4],zero:S[5],width:S[6],comma:S[7],precision:S[8]&&S[8].slice(1),trim:S[9],type:S[10]})}p.prototype=t.prototype;function t(E){this.fill=E.fill===void 0?" ":E.fill+"",this.align=E.align===void 0?">":E.align+"",this.sign=E.sign===void 0?"-":E.sign+"",this.symbol=E.symbol===void 0?"":E.symbol+"",this.zero=!!E.zero,this.width=E.width===void 0?void 0:+E.width,this.comma=!!E.comma,this.precision=E.precision===void 0?void 0:+E.precision,this.trim=!!E.trim,this.type=E.type===void 0?"":E.type+""}t.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function r(E){e:for(var S=E.length,P=1,x=-1,M;P<S;++P)switch(E[P]){case".":x=M=P;break;case"0":x===0&&(x=P),M=P;break;default:if(!+E[P])break e;x>0&&(x=0);break}return x>0?E.slice(0,x)+E.slice(M+1):E}var s;function n(E,S){var P=_(E,S);if(!P)return E+"";var x=P[0],M=P[1],w=M-(s=Math.max(-8,Math.min(8,Math.floor(M/3)))*3)+1,o=x.length;return w===o?x:w>o?x+new Array(w-o+1).join("0"):w>0?x.slice(0,w)+"."+x.slice(w):"0."+new Array(1-w).join("0")+_(E,Math.max(0,S+w-1))[0]}function i(E,S){var P=_(E,S);if(!P)return E+"";var x=P[0],M=P[1];return M<0?"0."+new Array(-M).join("0")+x:x.length>M+1?x.slice(0,M+1)+"."+x.slice(M+1):x+new Array(M-x.length+2).join("0")}var f={"%":function(E,S){return(E*100).toFixed(S)},b:function(E){return Math.round(E).toString(2)},c:function(E){return E+""},d:g,e:function(E,S){return E.toExponential(S)},f:function(E,S){return E.toFixed(S)},g:function(E,S){return E.toPrecision(S)},o:function(E){return Math.round(E).toString(8)},p:function(E,S){return i(E*100,S)},r:i,s:n,X:function(E){return Math.round(E).toString(16).toUpperCase()},x:function(E){return Math.round(E).toString(16)}};function u(E){return E}var y=Array.prototype.map,c=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function T(E){var S=E.grouping===void 0||E.thousands===void 0?u:C(y.call(E.grouping,Number),E.thousands+""),P=E.currency===void 0?"":E.currency[0]+"",x=E.currency===void 0?"":E.currency[1]+"",M=E.decimal===void 0?".":E.decimal+"",w=E.numerals===void 0?u:A(y.call(E.numerals,String)),o=E.percent===void 0?"%":E.percent+"",L=E.minus===void 0?"-":E.minus+"",m=E.nan===void 0?"NaN":E.nan+"";function F(U){U=p(U);var z=U.fill,N=U.align,B=U.sign,O=U.symbol,H=U.zero,Y=U.width,J=U.comma,re=U.precision,ie=U.trim,ce=U.type;ce==="n"?(J=!0,ce="g"):f[ce]||(re===void 0&&(re=12),ie=!0,ce="g"),(H||z==="0"&&N==="=")&&(H=!0,z="0",N="=");var Q=O==="$"?P:O==="#"&&/[boxX]/.test(ce)?"0"+ce.toLowerCase():"",j=O==="$"?x:/[%p]/.test(ce)?o:"",Z=f[ce],$=/[defgprs%]/.test(ce);re=re===void 0?6:/[gprs]/.test(ce)?Math.max(1,Math.min(21,re)):Math.max(0,Math.min(20,re));function te(se){var ee=Q,q=j,le,oe,he;if(ce==="c")q=Z(se)+q,se="";else{se=+se;var me=se<0||1/se<0;if(se=isNaN(se)?m:Z(Math.abs(se),re),ie&&(se=r(se)),me&&+se==0&&B!=="+"&&(me=!1),ee=(me?B==="("?B:L:B==="-"||B==="("?"":B)+ee,q=(ce==="s"?c[8+s/3]:"")+q+(me&&B==="("?")":""),$){for(le=-1,oe=se.length;++le<oe;)if(he=se.charCodeAt(le),48>he||he>57){q=(he===46?M+se.slice(le+1):se.slice(le))+q,se=se.slice(0,le);break}}}J&&!H&&(se=S(se,1/0));var Ce=ee.length+se.length+q.length,Ae=Ce<Y?new Array(Y-Ce+1).join(z):"";switch(J&&H&&(se=S(Ae+se,Ae.length?Y-q.length:1/0),Ae=""),N){case"<":se=ee+se+q+Ae;break;case"=":se=ee+Ae+se+q;break;case"^":se=Ae.slice(0,Ce=Ae.length>>1)+ee+se+q+Ae.slice(Ce);break;default:se=Ae+ee+se+q;break}return w(se)}return te.toString=function(){return U+""},te}function I(U,z){var N=F((U=p(U),U.type="f",U)),B=Math.max(-8,Math.min(8,Math.floor(a(z)/3)))*3,O=Math.pow(10,-B),H=c[8+B/3];return function(Y){return N(O*Y)+H}}return{format:F,formatPrefix:I}}var h,l;d({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function d(E){return h=T(E),l=h.format,h.formatPrefix,h}},65704:function(G,V,e){e.r(V),e.d(V,{geoAiry:function(){return H},geoAiryRaw:function(){return O},geoAitoff:function(){return J},geoAitoffRaw:function(){return Y},geoArmadillo:function(){return ie},geoArmadilloRaw:function(){return re},geoAugust:function(){return Q},geoAugustRaw:function(){return ce},geoBaker:function(){return te},geoBakerRaw:function(){return $},geoBerghaus:function(){return q},geoBerghausRaw:function(){return ee},geoBertin1953:function(){return Ve},geoBertin1953Raw:function(){return Ue},geoBoggs:function(){return ut},geoBoggsRaw:function(){return Ze},geoBonne:function(){return ct},geoBonneRaw:function(){return st},geoBottomley:function(){return St},geoBottomleyRaw:function(){return vt},geoBromley:function(){return Bt},geoBromleyRaw:function(){return Mt},geoChamberlin:function(){return Me},geoChamberlinAfrica:function(){return Se},geoChamberlinRaw:function(){return we},geoCollignon:function(){return qe},geoCollignonRaw:function(){return He},geoCraig:function(){return pt},geoCraigRaw:function(){return rt},geoCraster:function(){return tr},geoCrasterRaw:function(){return jt},geoCylindricalEqualArea:function(){return Nt},geoCylindricalEqualAreaRaw:function(){return Ct},geoCylindricalStereographic:function(){return wr},geoCylindricalStereographicRaw:function(){return Kt},geoEckert1:function(){return $t},geoEckert1Raw:function(){return yt},geoEckert2:function(){return mr},geoEckert2Raw:function(){return er},geoEckert3:function(){return bt},geoEckert3Raw:function(){return vr},geoEckert4:function(){return Tt},geoEckert4Raw:function(){return ht},geoEckert5:function(){return zt},geoEckert5Raw:function(){return Pt},geoEckert6:function(){return Vt},geoEckert6Raw:function(){return Dt},geoEisenlohr:function(){return hr},geoEisenlohrRaw:function(){return Qt},geoFahey:function(){return Xe},geoFaheyRaw:function(){return lr},geoFoucaut:function(){return Ot},geoFoucautRaw:function(){return Ke},geoFoucautSinusoidal:function(){return Xt},geoFoucautSinusoidalRaw:function(){return Lt},geoGilbert:function(){return gr},geoGingery:function(){return Wr},geoGingeryRaw:function(){return br},geoGinzburg4:function(){return yn},geoGinzburg4Raw:function(){return Ur},geoGinzburg5:function(){return Un},geoGinzburg5Raw:function(){return rn},geoGinzburg6:function(){return Lr},geoGinzburg6Raw:function(){return bn},geoGinzburg8:function(){return Yr},geoGinzburg8Raw:function(){return Pr},geoGinzburg9:function(){return en},geoGinzburg9Raw:function(){return Hr},geoGringorten:function(){return sa},geoGringortenQuincuncial:function(){return mc},geoGringortenRaw:function(){return hn},geoGuyou:function(){return mn},geoGuyouRaw:function(){return Mr},geoHammer:function(){return me},geoHammerRaw:function(){return oe},geoHammerRetroazimuthal:function(){return Hn},geoHammerRetroazimuthalRaw:function(){return Mn},geoHealpix:function(){return pn},geoHealpixRaw:function(){return qr},geoHill:function(){return _r},geoHillRaw:function(){return zr},geoHomolosine:function(){return Vn},geoHomolosineRaw:function(){return xn},geoHufnagel:function(){return va},geoHufnagelRaw:function(){return aa},geoHyperelliptical:function(){return _i},geoHyperellipticalRaw:function(){return ma},geoInterrupt:function(){return Qi},geoInterruptedBoggs:function(){return qa},geoInterruptedHomolosine:function(){return Ml},geoInterruptedMollweide:function(){return bo},geoInterruptedMollweideHemispheres:function(){return mu},geoInterruptedQuarticAuthalic:function(){return Ef},geoInterruptedSinuMollweide:function(){return $l},geoInterruptedSinusoidal:function(){return eo},geoKavrayskiy7:function(){return so},geoKavrayskiy7Raw:function(){return Ho},geoLagrange:function(){return Qo},geoLagrangeRaw:function(){return Jo},geoLarrivee:function(){return Xu},geoLarriveeRaw:function(){return lo},geoLaskowski:function(){return Zi},geoLaskowskiRaw:function(){return Es},geoLittrow:function(){return Ms},geoLittrowRaw:function(){return mf},geoLoximuthal:function(){return xu},geoLoximuthalRaw:function(){return es},geoMiller:function(){return Uc},geoMillerRaw:function(){return xf},geoModifiedStereographic:function(){return Ll},geoModifiedStereographicAlaska:function(){return Hc},geoModifiedStereographicGs48:function(){return cc},geoModifiedStereographicGs50:function(){return hc},geoModifiedStereographicLee:function(){return Tf},geoModifiedStereographicMiller:function(){return Jl},geoModifiedStereographicRaw:function(){return Cl},geoMollweide:function(){return We},geoMollweideRaw:function(){return Le},geoMtFlatPolarParabolic:function(){return vc},geoMtFlatPolarParabolicRaw:function(){return wu},geoMtFlatPolarQuartic:function(){return Af},geoMtFlatPolarQuarticRaw:function(){return Ws},geoMtFlatPolarSinusoidal:function(){return Vc},geoMtFlatPolarSinusoidalRaw:function(){return Sf},geoNaturalEarth:function(){return Vo.Z},geoNaturalEarth2:function(){return Dl},geoNaturalEarth2Raw:function(){return Rl},geoNaturalEarthRaw:function(){return Vo.K},geoNellHammer:function(){return Cs},geoNellHammerRaw:function(){return Ql},geoNicolosi:function(){return sl},geoNicolosiRaw:function(){return ql},geoPatterson:function(){return Gc},geoPattersonRaw:function(){return $u},geoPeirceQuincuncial:function(){return xc},geoPierceQuincuncial:function(){return xc},geoPolyconic:function(){return Pf},geoPolyconicRaw:function(){return Lf},geoPolyhedral:function(){return yi},geoPolyhedralButterfly:function(){return Io},geoPolyhedralCollignon:function(){return ul},geoPolyhedralWaterman:function(){return fl},geoProject:function(){return jc},geoQuantize:function(){return If},geoQuincuncial:function(){return Oo},geoRectangularPolyconic:function(){return hl},geoRectangularPolyconicRaw:function(){return qu},geoRobinson:function(){return kf},geoRobinsonRaw:function(){return hs},geoSatellite:function(){return ef},geoSatelliteRaw:function(){return Ps},geoSinuMollweide:function(){return Kn},geoSinuMollweideRaw:function(){return Fn},geoSinusoidal:function(){return $e},geoSinusoidalRaw:function(){return it},geoStitch:function(){return pl},geoTimes:function(){return Go},geoTimesRaw:function(){return wo},geoTwoPointAzimuthal:function(){return rf},geoTwoPointAzimuthalRaw:function(){return wc},geoTwoPointAzimuthalUsa:function(){return ou},geoTwoPointEquidistant:function(){return Nf},geoTwoPointEquidistantRaw:function(){return Tc},geoTwoPointEquidistantUsa:function(){return ts},geoVanDerGrinten:function(){return Ul},geoVanDerGrinten2:function(){return Kc},geoVanDerGrinten2Raw:function(){return Qs},geoVanDerGrinten3:function(){return nf},geoVanDerGrinten3Raw:function(){return Bf},geoVanDerGrinten4:function(){return Ac},geoVanDerGrinten4Raw:function(){return yo},geoVanDerGrintenRaw:function(){return Js},geoWagner:function(){return af},geoWagner4:function(){return of},geoWagner4Raw:function(){return Uf},geoWagner6:function(){return _u},geoWagner6Raw:function(){return yl},geoWagner7:function(){return mo},geoWagnerRaw:function(){return Rs},geoWiechel:function(){return Hf},geoWiechelRaw:function(){return Ru},geoWinkel3:function(){return Ec},geoWinkel3Raw:function(){return Du}});var g=e(15002),_=Math.abs,a=Math.atan,C=Math.atan2,A=Math.cos,v=Math.exp,p=Math.floor,t=Math.log,r=Math.max,s=Math.min,n=Math.pow,i=Math.round,f=Math.sign||function(et){return et>0?1:et<0?-1:0},u=Math.sin,y=Math.tan,c=1e-6,T=1e-12,h=Math.PI,l=h/2,d=h/4,E=Math.SQRT1_2,S=F(2),P=F(h),x=h*2,M=180/h,w=h/180;function o(et){return et?et/Math.sin(et):1}function L(et){return et>1?l:et<-1?-l:Math.asin(et)}function m(et){return et>1?0:et<-1?h:Math.acos(et)}function F(et){return et>0?Math.sqrt(et):0}function I(et){return et=v(2*et),(et-1)/(et+1)}function U(et){return(v(et)-v(-et))/2}function z(et){return(v(et)+v(-et))/2}function N(et){return t(et+F(et*et+1))}function B(et){return t(et+F(et*et-1))}function O(et){var lt=y(et/2),xt=2*t(A(et/2))/(lt*lt);function wt(Ft,It){var Gt=A(Ft),pr=A(It),Tr=u(It),ir=pr*Gt,Cr=-((1-ir?t((1+ir)/2)/(1-ir):-.5)+xt/(1+ir));return[Cr*pr*u(Ft),Cr*Tr]}return wt.invert=function(Ft,It){var Gt=F(Ft*Ft+It*It),pr=-et/2,Tr=50,ir;if(!Gt)return[0,0];do{var Cr=pr/2,Dr=A(Cr),jr=u(Cr),Qr=jr/Dr,wn=-t(_(Dr));pr-=ir=(2/Qr*wn-xt*Qr-Gt)/(-wn/(jr*jr)+1-xt/(2*Dr*Dr))*(Dr<0?.7:1)}while(_(ir)>c&&--Tr>0);var Sn=u(pr);return[C(Ft*Sn,Gt*A(pr)),L(It*Sn/Gt)]},wt}function H(){var et=l,lt=(0,g.r)(O),xt=lt(et);return xt.radius=function(wt){return arguments.length?lt(et=wt*w):et*M},xt.scale(179.976).clipAngle(147)}function Y(et,lt){var xt=A(lt),wt=o(m(xt*A(et/=2)));return[2*xt*u(et)*wt,u(lt)*wt]}Y.invert=function(et,lt){if(!(et*et+4*lt*lt>h*h+c)){var xt=et,wt=lt,Ft=25;do{var It=u(xt),Gt=u(xt/2),pr=A(xt/2),Tr=u(wt),ir=A(wt),Cr=u(2*wt),Dr=Tr*Tr,jr=ir*ir,Qr=Gt*Gt,wn=1-jr*pr*pr,Sn=wn?m(ir*pr)*F(Dn=1/wn):Dn=0,Dn,pa=2*Sn*ir*Gt-et,Ra=Sn*Tr-lt,Ia=Dn*(jr*Qr+Sn*ir*pr*Dr),ka=Dn*(.5*It*Cr-Sn*2*Tr*Gt),Fa=Dn*.25*(Cr*Gt-Sn*Tr*jr*It),si=Dn*(Dr*pr+Sn*Qr*ir),Ei=ka*Fa-si*Ia;if(!Ei)break;var bi=(Ra*ka-pa*si)/Ei,ue=(pa*Fa-Ra*Ia)/Ei;xt-=bi,wt-=ue}while((_(bi)>c||_(ue)>c)&&--Ft>0);return[xt,wt]}};function J(){return(0,g.Z)(Y).scale(152.63)}function re(et){var lt=u(et),xt=A(et),wt=et>=0?1:-1,Ft=y(wt*et),It=(1+lt-xt)/2;function Gt(pr,Tr){var ir=A(Tr),Cr=A(pr/=2);return[(1+ir)*u(pr),(wt*Tr>-C(Cr,Ft)-.001?0:-wt*10)+It+u(Tr)*xt-(1+ir)*lt*Cr]}return Gt.invert=function(pr,Tr){var ir=0,Cr=0,Dr=50;do{var jr=A(ir),Qr=u(ir),wn=A(Cr),Sn=u(Cr),Dn=1+wn,pa=Dn*Qr-pr,Ra=It+Sn*xt-Dn*lt*jr-Tr,Ia=Dn*jr/2,ka=-Qr*Sn,Fa=lt*Dn*Qr/2,si=xt*wn+lt*jr*Sn,Ei=ka*Fa-si*Ia,bi=(Ra*ka-pa*si)/Ei/2,ue=(pa*Fa-Ra*Ia)/Ei;_(ue)>2&&(ue/=2),ir-=bi,Cr-=ue}while((_(bi)>c||_(ue)>c)&&--Dr>0);return wt*Cr>-C(A(ir),Ft)-.001?[ir*2,Cr]:null},Gt}function ie(){var et=20*w,lt=et>=0?1:-1,xt=y(lt*et),wt=(0,g.r)(re),Ft=wt(et),It=Ft.stream;return Ft.parallel=function(Gt){return arguments.length?(xt=y((lt=(et=Gt*w)>=0?1:-1)*et),wt(et)):et*M},Ft.stream=function(Gt){var pr=Ft.rotate(),Tr=It(Gt),ir=(Ft.rotate([0,0]),It(Gt)),Cr=Ft.precision();return Ft.rotate(pr),Tr.sphere=function(){ir.polygonStart(),ir.lineStart();for(var Dr=lt*-180;lt*Dr<180;Dr+=lt*90)ir.point(Dr,lt*90);if(et)for(;lt*(Dr-=3*lt*Cr)>=-180;)ir.point(Dr,lt*-C(A(Dr*w/2),xt)*M);ir.lineEnd(),ir.polygonEnd()},Tr},Ft.scale(218.695).center([0,28.0974])}function ce(et,lt){var xt=y(lt/2),wt=F(1-xt*xt),Ft=1+wt*A(et/=2),It=u(et)*wt/Ft,Gt=xt/Ft,pr=It*It,Tr=Gt*Gt;return[1.3333333333333333*It*(3+pr-3*Tr),1.3333333333333333*Gt*(3+3*pr-Tr)]}ce.invert=function(et,lt){if(et*=.375,lt*=.375,!et&&_(lt)>1)return null;var xt=et*et,wt=lt*lt,Ft=1+xt+wt,It=F((Ft-F(Ft*Ft-4*lt*lt))/2),Gt=L(It)/3,pr=It?B(_(lt/It))/3:N(_(et))/3,Tr=A(Gt),ir=z(pr),Cr=ir*ir-Tr*Tr;return[f(et)*2*C(U(pr)*Tr,.25-Cr),f(lt)*2*C(ir*u(Gt),.25+Cr)]};function Q(){return(0,g.Z)(ce).scale(66.1603)}var j=F(8),Z=t(1+S);function $(et,lt){var xt=_(lt);return xt<d?[et,t(y(d+lt/2))]:[et*A(xt)*(2*S-1/u(xt)),f(lt)*(2*S*(xt-d)-t(y(xt/2)))]}$.invert=function(et,lt){if((It=_(lt))<Z)return[et,2*a(v(lt))-l];var xt=d,wt=25,Ft,It;do{var Gt=A(xt/2),pr=y(xt/2);xt-=Ft=(j*(xt-d)-t(pr)-It)/(j-Gt*Gt/(2*pr))}while(_(Ft)>T&&--wt>0);return[et/(A(xt)*(j-1/u(xt))),f(lt)*xt]};function te(){return(0,g.Z)($).scale(112.314)}var se=e(17889);function ee(et){var lt=2*h/et;function xt(wt,Ft){var It=(0,se.N)(wt,Ft);if(_(wt)>l){var Gt=C(It[1],It[0]),pr=F(It[0]*It[0]+It[1]*It[1]),Tr=lt*i((Gt-l)/lt)+l,ir=C(u(Gt-=Tr),2-A(Gt));Gt=Tr+L(h/pr*u(ir))-ir,It[0]=pr*A(Gt),It[1]=pr*u(Gt)}return It}return xt.invert=function(wt,Ft){var It=F(wt*wt+Ft*Ft);if(It>l){var Gt=C(Ft,wt),pr=lt*i((Gt-l)/lt)+l,Tr=Gt>pr?-1:1,ir=It*A(pr-Gt),Cr=1/y(Tr*m((ir-h)/F(h*(h-2*ir)+It*It)));Gt=pr+2*a((Cr+Tr*F(Cr*Cr-3))/3),wt=It*A(Gt),Ft=It*u(Gt)}return se.N.invert(wt,Ft)},xt}function q(){var et=5,lt=(0,g.r)(ee),xt=lt(et),wt=xt.stream,Ft=.01,It=-A(Ft*w),Gt=u(Ft*w);return xt.lobes=function(pr){return arguments.length?lt(et=+pr):et},xt.stream=function(pr){var Tr=xt.rotate(),ir=wt(pr),Cr=(xt.rotate([0,0]),wt(pr));return xt.rotate(Tr),ir.sphere=function(){Cr.polygonStart(),Cr.lineStart();for(var Dr=0,jr=360/et,Qr=2*h/et,wn=90-180/et,Sn=l;Dr<et;++Dr,wn-=jr,Sn-=Qr)Cr.point(C(Gt*A(Sn),It)*M,L(Gt*u(Sn))*M),wn<-90?(Cr.point(-90,-180-wn-Ft),Cr.point(-90,-180-wn+Ft)):(Cr.point(90,wn+Ft),Cr.point(90,wn-Ft));Cr.lineEnd(),Cr.polygonEnd()},ir},xt.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var le=e(12956);function oe(et,lt){if(arguments.length<2&&(lt=et),lt===1)return le.l;if(lt===1/0)return he;function xt(wt,Ft){var It=(0,le.l)(wt/lt,Ft);return It[0]*=et,It}return xt.invert=function(wt,Ft){var It=le.l.invert(wt/et,Ft);return It[0]*=lt,It},xt}function he(et,lt){return[et*A(lt)/A(lt/=2),2*u(lt)]}he.invert=function(et,lt){var xt=2*L(lt/2);return[et*A(xt/2)/A(xt),xt]};function me(){var et=2,lt=(0,g.r)(oe),xt=lt(et);return xt.coefficient=function(wt){return arguments.length?lt(et=+wt):et},xt.scale(169.529)}function Ce(et,lt,xt){var wt=100,Ft,It,Gt;xt=xt===void 0?0:+xt,lt=+lt;do It=et(xt),Gt=et(xt+c),It===Gt&&(Gt=It+c),xt-=Ft=-1*c*(It-lt)/(It-Gt);while(wt-- >0&&_(Ft)>c);return wt<0?NaN:xt}function Ae(et,lt,xt){return lt===void 0&&(lt=40),xt===void 0&&(xt=T),function(wt,Ft,It,Gt){var pr,Tr,ir;It=It===void 0?0:+It,Gt=Gt===void 0?0:+Gt;for(var Cr=0;Cr<lt;Cr++){var Dr=et(It,Gt),jr=Dr[0]-wt,Qr=Dr[1]-Ft;if(_(jr)<xt&&_(Qr)<xt)break;var wn=jr*jr+Qr*Qr;if(wn>pr){It-=Tr/=2,Gt-=ir/=2;continue}pr=wn;var Sn=(It>0?-1:1)*xt,Dn=(Gt>0?-1:1)*xt,pa=et(It+Sn,Gt),Ra=et(It,Gt+Dn),Ia=(pa[0]-Dr[0])/Sn,ka=(pa[1]-Dr[1])/Sn,Fa=(Ra[0]-Dr[0])/Dn,si=(Ra[1]-Dr[1])/Dn,Ei=si*Ia-ka*Fa,bi=(_(Ei)<.5?.5:1)/Ei;if(Tr=(Qr*Fa-jr*si)*bi,ir=(jr*ka-Qr*Ia)*bi,It+=Tr,Gt+=ir,_(Tr)<xt&&_(ir)<xt)break}return[It,Gt]}}function Ue(){var et=oe(1.68,2),lt=1.4,xt=12;function wt(Ft,It){if(Ft+It<-lt){var Gt=(Ft-It+1.6)*(Ft+It+lt)/8;Ft+=Gt,It-=.8*Gt*u(It+h/2)}var pr=et(Ft,It),Tr=(1-A(Ft*It))/xt;return pr[1]<0&&(pr[0]*=1+Tr),pr[1]>0&&(pr[1]*=1+Tr/1.5*pr[0]*pr[0]),pr}return wt.invert=Ae(wt),wt}function Ve(){return(0,g.Z)(Ue()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Pe(et,lt){var xt=et*u(lt),wt=30,Ft;do lt-=Ft=(lt+u(lt)-xt)/(1+A(lt));while(_(Ft)>c&&--wt>0);return lt/2}function be(et,lt,xt){function wt(Ft,It){return[et*Ft*A(It=Pe(xt,It)),lt*u(It)]}return wt.invert=function(Ft,It){return It=L(It/lt),[Ft/(et*A(It)),L((2*It+u(2*It))/xt)]},wt}var Le=be(S/l,S,h);function We(){return(0,g.Z)(Le).scale(169.529)}var je=2.00276,Fe=1.11072;function Ze(et,lt){var xt=Pe(h,lt);return[je*et/(1/A(lt)+Fe/A(xt)),(lt+S*u(xt))/je]}Ze.invert=function(et,lt){var xt=je*lt,wt=lt<0?-d:d,Ft=25,It,Gt;do Gt=xt-S*u(wt),wt-=It=(u(2*wt)+2*wt-h*u(Gt))/(2*A(2*wt)+2+h*A(Gt)*S*A(wt));while(_(It)>c&&--Ft>0);return Gt=xt-S*u(wt),[et*(1/A(Gt)+Fe/A(wt))/je,Gt]};function ut(){return(0,g.Z)(Ze).scale(160.857)}function at(et){var lt=0,xt=(0,g.r)(et),wt=xt(lt);return wt.parallel=function(Ft){return arguments.length?xt(lt=Ft*w):lt*M},wt}function it(et,lt){return[et*A(lt),lt]}it.invert=function(et,lt){return[et/A(lt),lt]};function $e(){return(0,g.Z)(it).scale(152.63)}function st(et){if(!et)return it;var lt=1/y(et);function xt(wt,Ft){var It=lt+et-Ft,Gt=It&&wt*A(Ft)/It;return[It*u(Gt),lt-It*A(Gt)]}return xt.invert=function(wt,Ft){var It=F(wt*wt+(Ft=lt-Ft)*Ft),Gt=lt+et-It;return[It/A(Gt)*C(wt,Ft),Gt]},xt}function ct(){return at(st).scale(123.082).center([0,26.1441]).parallel(45)}function vt(et){function lt(xt,wt){var Ft=l-wt,It=Ft&&xt*et*u(Ft)/Ft;return[Ft*u(It)/et,l-Ft*A(It)]}return lt.invert=function(xt,wt){var Ft=xt*et,It=l-wt,Gt=F(Ft*Ft+It*It),pr=C(Ft,It);return[(Gt?Gt/u(Gt):1)*pr/et,l-Gt]},lt}function St(){var et=.5,lt=(0,g.r)(vt),xt=lt(et);return xt.fraction=function(wt){return arguments.length?lt(et=+wt):et},xt.scale(158.837)}var Mt=be(1,4/h,h);function Bt(){return(0,g.Z)(Mt).scale(152.63)}var Qe=e(66624),ke=e(49386);function ze(et,lt,xt,wt,Ft,It){var Gt=A(It),pr;if(_(et)>1||_(It)>1)pr=m(xt*Ft+lt*wt*Gt);else{var Tr=u(et/2),ir=u(It/2);pr=2*L(F(Tr*Tr+lt*wt*ir*ir))}return _(pr)>c?[pr,C(wt*u(It),lt*Ft-xt*wt*Gt)]:[0,0]}function Be(et,lt,xt){return m((et*et+lt*lt-xt*xt)/(2*et*lt))}function Re(et){return et-2*h*p((et+h)/(2*h))}function we(et,lt,xt){for(var wt=[[et[0],et[1],u(et[1]),A(et[1])],[lt[0],lt[1],u(lt[1]),A(lt[1])],[xt[0],xt[1],u(xt[1]),A(xt[1])]],Ft=wt[2],It,Gt=0;Gt<3;++Gt,Ft=It)It=wt[Gt],Ft.v=ze(It[1]-Ft[1],Ft[3],Ft[2],It[3],It[2],It[0]-Ft[0]),Ft.point=[0,0];var pr=Be(wt[0].v[0],wt[2].v[0],wt[1].v[0]),Tr=Be(wt[0].v[0],wt[1].v[0],wt[2].v[0]),ir=h-pr;wt[2].point[1]=0,wt[0].point[0]=-(wt[1].point[0]=wt[0].v[0]/2);var Cr=[wt[2].point[0]=wt[0].point[0]+wt[2].v[0]*A(pr),2*(wt[0].point[1]=wt[1].point[1]=wt[2].v[0]*u(pr))];function Dr(jr,Qr){var wn=u(Qr),Sn=A(Qr),Dn=new Array(3),pa;for(pa=0;pa<3;++pa){var Ra=wt[pa];if(Dn[pa]=ze(Qr-Ra[1],Ra[3],Ra[2],Sn,wn,jr-Ra[0]),!Dn[pa][0])return Ra.point;Dn[pa][1]=Re(Dn[pa][1]-Ra.v[1])}var Ia=Cr.slice();for(pa=0;pa<3;++pa){var ka=pa==2?0:pa+1,Fa=Be(wt[pa].v[0],Dn[pa][0],Dn[ka][0]);Dn[pa][1]<0&&(Fa=-Fa),pa?pa==1?(Fa=Tr-Fa,Ia[0]-=Dn[pa][0]*A(Fa),Ia[1]-=Dn[pa][0]*u(Fa)):(Fa=ir-Fa,Ia[0]+=Dn[pa][0]*A(Fa),Ia[1]+=Dn[pa][0]*u(Fa)):(Ia[0]+=Dn[pa][0]*A(Fa),Ia[1]-=Dn[pa][0]*u(Fa))}return Ia[0]/=3,Ia[1]/=3,Ia}return Dr}function ye(et){return et[0]*=w,et[1]*=w,et}function Se(){return Me([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Me(et,lt,xt){var wt=(0,Qe.Z)({type:"MultiPoint",coordinates:[et,lt,xt]}),Ft=[-wt[0],-wt[1]],It=(0,ke.Z)(Ft),Gt=we(ye(It(et)),ye(It(lt)),ye(It(xt)));Gt.invert=Ae(Gt);var pr=(0,g.Z)(Gt).rotate(Ft),Tr=pr.center;return delete pr.rotate,pr.center=function(ir){return arguments.length?Tr(It(ir)):It.invert(Tr())},pr.clipAngle(90)}function He(et,lt){var xt=F(1-u(lt));return[2/P*et*xt,P*(1-xt)]}He.invert=function(et,lt){var xt=(xt=lt/P-1)*xt;return[xt>0?et*F(h/xt)/2:0,L(1-xt)]};function qe(){return(0,g.Z)(He).scale(95.6464).center([0,30])}function rt(et){var lt=y(et);function xt(wt,Ft){return[wt,(wt?wt/u(wt):1)*(u(Ft)*A(wt)-lt*A(Ft))]}return xt.invert=lt?function(wt,Ft){wt&&(Ft*=u(wt)/wt);var It=A(wt);return[wt,2*C(F(It*It+lt*lt-Ft*Ft)-It,lt-Ft)]}:function(wt,Ft){return[wt,L(wt?Ft*y(wt)/wt:Ft)]},xt}function pt(){return at(rt).scale(249.828).clipAngle(90)}var At=F(3);function jt(et,lt){return[At*et*(2*A(2*lt/3)-1)/P,At*P*u(lt/3)]}jt.invert=function(et,lt){var xt=3*L(lt/(At*P));return[P*et/(At*(2*A(2*xt/3)-1)),xt]};function tr(){return(0,g.Z)(jt).scale(156.19)}function Ct(et){var lt=A(et);function xt(wt,Ft){return[wt*lt,u(Ft)/lt]}return xt.invert=function(wt,Ft){return[wt/lt,L(Ft*lt)]},xt}function Nt(){return at(Ct).parallel(38.58).scale(195.044)}function Kt(et){var lt=A(et);function xt(wt,Ft){return[wt*lt,(1+lt)*y(Ft/2)]}return xt.invert=function(wt,Ft){return[wt/lt,a(Ft/(1+lt))*2]},xt}function wr(){return at(Kt).scale(124.75)}function yt(et,lt){var xt=F(8/(3*h));return[xt*et*(1-_(lt)/h),xt*lt]}yt.invert=function(et,lt){var xt=F(8/(3*h)),wt=lt/xt;return[et/(xt*(1-_(wt)/h)),wt]};function $t(){return(0,g.Z)(yt).scale(165.664)}function er(et,lt){var xt=F(4-3*u(_(lt)));return[2/F(6*h)*et*xt,f(lt)*F(2*h/3)*(2-xt)]}er.invert=function(et,lt){var xt=2-_(lt)/F(2*h/3);return[et*F(6*h)/(2*xt),f(lt)*L((4-xt*xt)/3)]};function mr(){return(0,g.Z)(er).scale(165.664)}function vr(et,lt){var xt=F(h*(4+h));return[2/xt*et*(1+F(1-4*lt*lt/(h*h))),4/xt*lt]}vr.invert=function(et,lt){var xt=F(h*(4+h))/2;return[et*xt/(1+F(1-lt*lt*(4+h)/(4*h))),lt*xt/2]};function bt(){return(0,g.Z)(vr).scale(180.739)}function ht(et,lt){var xt=(2+l)*u(lt);lt/=2;for(var wt=0,Ft=1/0;wt<10&&_(Ft)>c;wt++){var It=A(lt);lt-=Ft=(lt+u(lt)*(It+2)-xt)/(2*It*(1+It))}return[2/F(h*(4+h))*et*(1+A(lt)),2*F(h/(4+h))*u(lt)]}ht.invert=function(et,lt){var xt=lt*F((4+h)/h)/2,wt=L(xt),Ft=A(wt);return[et/(2/F(h*(4+h))*(1+Ft)),L((wt+xt*(Ft+2))/(2+l))]};function Tt(){return(0,g.Z)(ht).scale(180.739)}function Pt(et,lt){return[et*(1+A(lt))/F(2+h),2*lt/F(2+h)]}Pt.invert=function(et,lt){var xt=F(2+h),wt=lt*xt/2;return[xt*et/(1+A(wt)),wt]};function zt(){return(0,g.Z)(Pt).scale(173.044)}function Dt(et,lt){for(var xt=(1+l)*u(lt),wt=0,Ft=1/0;wt<10&&_(Ft)>c;wt++)lt-=Ft=(lt+u(lt)-xt)/(1+A(lt));return xt=F(2+h),[et*(1+A(lt))/xt,2*lt/xt]}Dt.invert=function(et,lt){var xt=1+l,wt=F(xt/2);return[et*2*wt/(1+A(lt*=wt)),L((lt+u(lt))/xt)]};function Vt(){return(0,g.Z)(Dt).scale(173.044)}var Ut=3+2*S;function Qt(et,lt){var xt=u(et/=2),wt=A(et),Ft=F(A(lt)),It=A(lt/=2),Gt=u(lt)/(It+S*wt*Ft),pr=F(2/(1+Gt*Gt)),Tr=F((S*It+(wt+xt)*Ft)/(S*It+(wt-xt)*Ft));return[Ut*(pr*(Tr-1/Tr)-2*t(Tr)),Ut*(pr*Gt*(Tr+1/Tr)-2*a(Gt))]}Qt.invert=function(et,lt){if(!(It=ce.invert(et/1.2,lt*1.065)))return null;var xt=It[0],wt=It[1],Ft=20,It;et/=Ut,lt/=Ut;do{var Gt=xt/2,pr=wt/2,Tr=u(Gt),ir=A(Gt),Cr=u(pr),Dr=A(pr),jr=A(wt),Qr=F(jr),wn=Cr/(Dr+S*ir*Qr),Sn=wn*wn,Dn=F(2/(1+Sn)),pa=S*Dr+(ir+Tr)*Qr,Ra=S*Dr+(ir-Tr)*Qr,Ia=pa/Ra,ka=F(Ia),Fa=ka-1/ka,si=ka+1/ka,Ei=Dn*Fa-2*t(ka)-et,bi=Dn*wn*si-2*a(wn)-lt,ue=Cr&&E*Qr*Tr*Sn/Cr,_e=(S*ir*Dr+Qr)/(2*(Dr+S*ir*Qr)*(Dr+S*ir*Qr)*Qr),Ye=-.5*wn*Dn*Dn*Dn,nt=Ye*ue,ot=Ye*_e,ft=(ft=2*Dr+S*Qr*(ir-Tr))*ft*ka,kt=(S*ir*Dr*Qr+jr)/ft,mt=-(S*Tr*Cr)/(Qr*ft),Wt=Fa*nt-2*kt/ka+Dn*(kt+kt/Ia),ar=Fa*ot-2*mt/ka+Dn*(mt+mt/Ia),sr=wn*si*nt-2*ue/(1+Sn)+Dn*si*ue+Dn*wn*(kt-kt/Ia),Ir=wn*si*ot-2*_e/(1+Sn)+Dn*si*_e+Dn*wn*(mt-mt/Ia),Rr=ar*sr-Ir*Wt;if(!Rr)break;var Kr=(bi*ar-Ei*Ir)/Rr,an=(Ei*sr-bi*Wt)/Rr;xt-=Kr,wt=r(-l,s(l,wt-an))}while((_(Kr)>c||_(an)>c)&&--Ft>0);return _(_(wt)-l)<c?[0,wt]:Ft&&[xt,wt]};function hr(){return(0,g.Z)(Qt).scale(62.5271)}var cr=A(35*w);function lr(et,lt){var xt=y(lt/2);return[et*cr*F(1-xt*xt),(1+cr)*xt]}lr.invert=function(et,lt){var xt=lt/(1+cr);return[et&&et/(cr*F(1-xt*xt)),2*a(xt)]};function Xe(){return(0,g.Z)(lr).scale(137.152)}function Ke(et,lt){var xt=lt/2,wt=A(xt);return[2*et/P*A(lt)*wt*wt,P*y(xt)]}Ke.invert=function(et,lt){var xt=a(lt/P),wt=A(xt),Ft=2*xt;return[et*P/2/(A(Ft)*wt*wt),Ft]};function Ot(){return(0,g.Z)(Ke).scale(135.264)}function Lt(et){var lt=1-et,xt=It(h,0)[0]-It(-h,0)[0],wt=It(0,l)[1]-It(0,-l)[1],Ft=F(2*wt/xt);function It(Tr,ir){var Cr=A(ir),Dr=u(ir);return[Cr/(lt+et*Cr)*Tr,lt*ir+et*Dr]}function Gt(Tr,ir){var Cr=It(Tr,ir);return[Cr[0]*Ft,Cr[1]/Ft]}function pr(Tr){return Gt(0,Tr)[1]}return Gt.invert=function(Tr,ir){var Cr=Ce(pr,ir),Dr=Tr/Ft*(et+lt/A(Cr));return[Dr,Cr]},Gt}function Xt(){var et=.5,lt=(0,g.r)(Lt),xt=lt(et);return xt.alpha=function(wt){return arguments.length?lt(et=+wt):et},xt.scale(168.725)}var rr=e(57962),ur=e(97492);function or(et){return[et[0]/2,L(y(et[1]/2*w))*M]}function Ht(et){return[et[0]*2,2*a(u(et[1]*w))*M]}function gr(et){et==null&&(et=rr.Z);var lt=et(),xt=(0,ur.Z)().scale(M).precision(0).clipAngle(null).translate([0,0]);function wt(It){return lt(or(It))}lt.invert&&(wt.invert=function(It){return Ht(lt.invert(It))}),wt.stream=function(It){var Gt=lt.stream(It),pr=xt.stream({point:function(Tr,ir){Gt.point(Tr/2,L(y(-ir/2*w))*M)},lineStart:function(){Gt.lineStart()},lineEnd:function(){Gt.lineEnd()},polygonStart:function(){Gt.polygonStart()},polygonEnd:function(){Gt.polygonEnd()}});return pr.sphere=Gt.sphere,pr};function Ft(It){wt[It]=function(){return arguments.length?(lt[It].apply(lt,arguments),wt):lt[It]()}}return wt.rotate=function(It){return arguments.length?(xt.rotate(It),wt):xt.rotate()},wt.center=function(It){return arguments.length?(lt.center(or(It)),wt):Ht(lt.center())},Ft("angle"),Ft("clipAngle"),Ft("clipExtent"),Ft("fitExtent"),Ft("fitHeight"),Ft("fitSize"),Ft("fitWidth"),Ft("scale"),Ft("translate"),Ft("precision"),wt.scale(249.5)}function br(et,lt){var xt=2*h/lt,wt=et*et;function Ft(It,Gt){var pr=(0,se.N)(It,Gt),Tr=pr[0],ir=pr[1],Cr=Tr*Tr+ir*ir;if(Cr>wt){var Dr=F(Cr),jr=C(ir,Tr),Qr=xt*i(jr/xt),wn=jr-Qr,Sn=et*A(wn),Dn=(et*u(wn)-wn*u(Sn))/(l-Sn),pa=xr(wn,Dn),Ra=(h-et)/dr(pa,Sn,h);Tr=Dr;var Ia=50,ka;do Tr-=ka=(et+dr(pa,Sn,Tr)*Ra-Dr)/(pa(Tr)*Ra);while(_(ka)>c&&--Ia>0);ir=wn*u(Tr),Tr<l&&(ir-=Dn*(Tr-l));var Fa=u(Qr),si=A(Qr);pr[0]=Tr*si-ir*Fa,pr[1]=Tr*Fa+ir*si}return pr}return Ft.invert=function(It,Gt){var pr=It*It+Gt*Gt;if(pr>wt){var Tr=F(pr),ir=C(Gt,It),Cr=xt*i(ir/xt),Dr=ir-Cr;It=Tr*A(Dr),Gt=Tr*u(Dr);for(var jr=It-l,Qr=u(It),wn=Gt/Qr,Sn=It<l?1/0:0,Dn=10;;){var pa=et*u(wn),Ra=et*A(wn),Ia=u(Ra),ka=l-Ra,Fa=(pa-wn*Ia)/ka,si=xr(wn,Fa);if(_(Sn)<T||!--Dn)break;wn-=Sn=(wn*Qr-Fa*jr-Gt)/(Qr-jr*2*(ka*(Ra+wn*pa*A(Ra)-Ia)-pa*(pa-wn*Ia))/(ka*ka))}Tr=et+dr(si,Ra,It)*(h-et)/dr(si,Ra,h),ir=Cr+wn,It=Tr*A(ir),Gt=Tr*u(ir)}return se.N.invert(It,Gt)},Ft}function xr(et,lt){return function(xt){var wt=et*A(xt);return xt<l&&(wt-=lt),F(1+wt*wt)}}function dr(et,lt,xt){for(var wt=50,Ft=(xt-lt)/wt,It=et(lt)+et(xt),Gt=1,pr=lt;Gt<wt;++Gt)It+=2*et(pr+=Ft);return It*.5*Ft}function Wr(){var et=6,lt=30*w,xt=A(lt),wt=u(lt),Ft=(0,g.r)(br),It=Ft(lt,et),Gt=It.stream,pr=.01,Tr=-A(pr*w),ir=u(pr*w);return It.radius=function(Cr){return arguments.length?(xt=A(lt=Cr*w),wt=u(lt),Ft(lt,et)):lt*M},It.lobes=function(Cr){return arguments.length?Ft(lt,et=+Cr):et},It.stream=function(Cr){var Dr=It.rotate(),jr=Gt(Cr),Qr=(It.rotate([0,0]),Gt(Cr));return It.rotate(Dr),jr.sphere=function(){Qr.polygonStart(),Qr.lineStart();for(var wn=0,Sn=2*h/et,Dn=0;wn<et;++wn,Dn-=Sn)Qr.point(C(ir*A(Dn),Tr)*M,L(ir*u(Dn))*M),Qr.point(C(wt*A(Dn-Sn/2),xt)*M,L(wt*u(Dn-Sn/2))*M);Qr.lineEnd(),Qr.polygonEnd()},jr},It.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Br(et,lt,xt,wt,Ft,It,Gt,pr){arguments.length<8&&(pr=0);function Tr(ir,Cr){if(!Cr)return[et*ir/h,0];var Dr=Cr*Cr,jr=et+Dr*(lt+Dr*(xt+Dr*wt)),Qr=Cr*(Ft-1+Dr*(It-pr+Dr*Gt)),wn=(jr*jr+Qr*Qr)/(2*Qr),Sn=ir*L(jr/wn)/h;return[wn*u(Sn),Cr*(1+Dr*pr)+wn*(1-A(Sn))]}return Tr.invert=function(ir,Cr){var Dr=h*ir/et,jr=Cr,Qr,wn,Sn=50;do{var Dn=jr*jr,pa=et+Dn*(lt+Dn*(xt+Dn*wt)),Ra=jr*(Ft-1+Dn*(It-pr+Dn*Gt)),Ia=pa*pa+Ra*Ra,ka=2*Ra,Fa=Ia/ka,si=Fa*Fa,Ei=L(pa/Fa)/h,bi=Dr*Ei,ue=pa*pa,_e=(2*lt+Dn*(4*xt+Dn*6*wt))*jr,Ye=Ft+Dn*(3*It+Dn*5*Gt),nt=2*(pa*_e+Ra*(Ye-1)),ot=2*(Ye-1),ft=(nt*ka-Ia*ot)/(ka*ka),kt=A(bi),mt=u(bi),Wt=Fa*kt,ar=Fa*mt,sr=Dr/h*(1/F(1-ue/si))*(_e*Fa-pa*ft)/si,Ir=ar-ir,Rr=jr*(1+Dn*pr)+Fa-Wt-Cr,Kr=ft*mt+Wt*sr,an=Wt*Ei,Fr=1+ft-(ft*kt-ar*sr),Gr=ar*Ei,Zr=Kr*Gr-Fr*an;if(!Zr)break;Dr-=Qr=(Rr*Kr-Ir*Fr)/Zr,jr-=wn=(Ir*Gr-Rr*an)/Zr}while((_(Qr)>c||_(wn)>c)&&--Sn>0);return[Dr,jr]},Tr}var Ur=Br(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function yn(){return(0,g.Z)(Ur).scale(149.995)}var rn=Br(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function Un(){return(0,g.Z)(rn).scale(153.93)}var bn=Br(5/6*h,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Lr(){return(0,g.Z)(bn).scale(130.945)}function Pr(et,lt){var xt=et*et,wt=lt*lt;return[et*(1-.162388*wt)*(.87-952426e-9*xt*xt),lt*(1+wt/12)]}Pr.invert=function(et,lt){var xt=et,wt=lt,Ft=50,It;do{var Gt=wt*wt;wt-=It=(wt*(1+Gt/12)-lt)/(1+Gt/4)}while(_(It)>c&&--Ft>0);Ft=50,et/=1-.162388*Gt;do{var pr=(pr=xt*xt)*pr;xt-=It=(xt*(.87-952426e-9*pr)-et)/(.87-.00476213*pr)}while(_(It)>c&&--Ft>0);return[xt,wt]};function Yr(){return(0,g.Z)(Pr).scale(131.747)}var Hr=Br(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function en(){return(0,g.Z)(Hr).scale(131.087)}function cn(et){var lt=et(l,0)[0]-et(-l,0)[0];function xt(wt,Ft){var It=wt>0?-.5:.5,Gt=et(wt+It*h,Ft);return Gt[0]-=It*lt,Gt}return et.invert&&(xt.invert=function(wt,Ft){var It=wt>0?-.5:.5,Gt=et.invert(wt+It*lt,Ft),pr=Gt[0]-It*h;return pr<-h?pr+=2*h:pr>h&&(pr-=2*h),Gt[0]=pr,Gt}),xt}function hn(et,lt){var xt=f(et),wt=f(lt),Ft=A(lt),It=A(et)*Ft,Gt=u(et)*Ft,pr=u(wt*lt);et=_(C(Gt,pr)),lt=L(It),_(et-l)>c&&(et%=l);var Tr=Pn(et>h/4?l-et:et,lt);return et>h/4&&(pr=Tr[0],Tr[0]=-Tr[1],Tr[1]=-pr),Tr[0]*=xt,Tr[1]*=-wt,Tr}hn.invert=function(et,lt){_(et)>1&&(et=f(et)*2-et),_(lt)>1&&(lt=f(lt)*2-lt);var xt=f(et),wt=f(lt),Ft=-xt*et,It=-wt*lt,Gt=It/Ft<1,pr=kn(Gt?It:Ft,Gt?Ft:It),Tr=pr[0],ir=pr[1],Cr=A(ir);return Gt&&(Tr=-l-Tr),[xt*(C(u(Tr)*Cr,-u(ir))+h),wt*L(A(Tr)*Cr)]};function Pn(et,lt){if(lt===l)return[0,0];var xt=u(lt),wt=xt*xt,Ft=wt*wt,It=1+Ft,Gt=1+3*Ft,pr=1-Ft,Tr=L(1/F(It)),ir=pr+wt*It*Tr,Cr=(1-xt)/ir,Dr=F(Cr),jr=Cr*It,Qr=F(jr),wn=Dr*pr,Sn,Dn;if(et===0)return[0,-(wn+wt*Qr)];var pa=A(lt),Ra=1/pa,Ia=2*xt*pa,ka=(-3*wt+Tr*Gt)*Ia,Fa=(-ir*pa-(1-xt)*ka)/(ir*ir),si=.5*Fa/Dr,Ei=pr*si-2*wt*Dr*Ia,bi=wt*It*Fa+Cr*Gt*Ia,ue=-Ra*Ia,_e=-Ra*bi,Ye=-2*Ra*Ei,nt=4*et/h,ot;if(et>.222*h||lt<h/4&&et>.175*h){if(Sn=(wn+wt*F(jr*(1+Ft)-wn*wn))/(1+Ft),et>h/4)return[Sn,Sn];var ft=Sn,kt=.5*Sn;Sn=.5*(kt+ft),Dn=50;do{var mt=F(jr-Sn*Sn),Wt=Sn*(Ye+ue*mt)+_e*L(Sn/Qr)-nt;if(!Wt)break;Wt<0?kt=Sn:ft=Sn,Sn=.5*(kt+ft)}while(_(ft-kt)>c&&--Dn>0)}else{Sn=c,Dn=25;do{var ar=Sn*Sn,sr=F(jr-ar),Ir=Ye+ue*sr,Rr=Sn*Ir+_e*L(Sn/Qr)-nt,Kr=Ir+(_e-ue*ar)/sr;Sn-=ot=sr?Rr/Kr:0}while(_(ot)>c&&--Dn>0)}return[Sn,-wn-wt*F(jr-Sn*Sn)]}function kn(et,lt){for(var xt=0,wt=1,Ft=.5,It=50;;){var Gt=Ft*Ft,pr=F(Ft),Tr=L(1/F(1+Gt)),ir=1-Gt+Ft*(1+Gt)*Tr,Cr=(1-pr)/ir,Dr=F(Cr),jr=Cr*(1+Gt),Qr=Dr*(1-Gt),wn=jr-et*et,Sn=F(wn),Dn=lt+Qr+Ft*Sn;if(_(wt-xt)<T||--It===0||Dn===0)break;Dn>0?xt=Ft:wt=Ft,Ft=.5*(xt+wt)}if(!It)return null;var pa=L(pr),Ra=A(pa),Ia=1/Ra,ka=2*pr*Ra,Fa=(-3*Ft+Tr*(1+3*Gt))*ka,si=(-ir*Ra-(1-pr)*Fa)/(ir*ir),Ei=.5*si/Dr,bi=(1-Gt)*Ei-2*Ft*Dr*ka,ue=-2*Ia*bi,_e=-Ia*ka,Ye=-Ia*(Ft*(1+Gt)*si+Cr*(1+3*Gt)*ka);return[h/4*(et*(ue+_e*Sn)+Ye*L(et/F(jr))),pa]}function sa(){return(0,g.Z)(cn(hn)).scale(239.75)}function Xn(et,lt,xt){var wt,Ft,It;return et?(wt=ea(et,xt),lt?(Ft=ea(lt,1-xt),It=Ft[1]*Ft[1]+xt*wt[0]*wt[0]*Ft[0]*Ft[0],[[wt[0]*Ft[2]/It,wt[1]*wt[2]*Ft[0]*Ft[1]/It],[wt[1]*Ft[1]/It,-wt[0]*wt[2]*Ft[0]*Ft[2]/It],[wt[2]*Ft[1]*Ft[2]/It,-xt*wt[0]*wt[1]*Ft[0]/It]]):[[wt[0],0],[wt[1],0],[wt[2],0]]):(Ft=ea(lt,1-xt),[[0,Ft[0]/Ft[1]],[1/Ft[1],0],[Ft[2]/Ft[1],0]])}function ea(et,lt){var xt,wt,Ft,It,Gt;if(lt<c)return It=u(et),wt=A(et),xt=lt*(et-It*wt)/4,[It-xt*wt,wt+xt*It,1-lt*It*It/2,et-xt];if(lt>=1-c)return xt=(1-lt)/4,wt=z(et),It=I(et),Ft=1/wt,Gt=wt*U(et),[It+xt*(Gt-et)/(wt*wt),Ft-xt*It*Ft*(Gt-et),Ft+xt*It*Ft*(Gt+et),2*a(v(et))-l+xt*(Gt-et)/wt];var pr=[1,0,0,0,0,0,0,0,0],Tr=[F(lt),0,0,0,0,0,0,0,0],ir=0;for(wt=F(1-lt),Gt=1;_(Tr[ir]/pr[ir])>c&&ir<8;)xt=pr[ir++],Tr[ir]=(xt-wt)/2,pr[ir]=(xt+wt)/2,wt=F(xt*wt),Gt*=2;Ft=Gt*pr[ir]*et;do It=Tr[ir]*u(wt=Ft)/pr[ir],Ft=(L(It)+Ft)/2;while(--ir);return[u(Ft),It=A(Ft),It/A(Ft-wt),Ft]}function Zn(et,lt,xt){var wt=_(et),Ft=_(lt),It=U(Ft);if(wt){var Gt=1/u(wt),pr=1/(y(wt)*y(wt)),Tr=-(pr+xt*(It*It*Gt*Gt)-1+xt),ir=(xt-1)*pr,Cr=(-Tr+F(Tr*Tr-4*ir))/2;return[Qn(a(1/F(Cr)),xt)*f(et),Qn(a(F((Cr/pr-1)/xt)),1-xt)*f(lt)]}return[0,Qn(a(It),1-xt)*f(lt)]}function Qn(et,lt){if(!lt)return et;if(lt===1)return t(y(et/2+d));for(var xt=1,wt=F(1-lt),Ft=F(lt),It=0;_(Ft)>c;It++){if(et%h){var Gt=a(wt*y(et)/xt);Gt<0&&(Gt+=h),et+=Gt+~~(et/h)*h}else et+=et;Ft=(xt+wt)/2,wt=F(xt*wt),Ft=((xt=Ft)-wt)/2}return et/(n(2,It)*xt)}function Mr(et,lt){var xt=(S-1)/(S+1),wt=F(1-xt*xt),Ft=Qn(l,wt*wt),It=-1,Gt=t(y(h/4+_(lt)/2)),pr=v(It*Gt)/F(xt),Tr=on(pr*A(It*et),pr*u(It*et)),ir=Zn(Tr[0],Tr[1],wt*wt);return[-ir[1],(lt>=0?1:-1)*(.5*Ft-ir[0])]}function on(et,lt){var xt=et*et,wt=lt+1,Ft=1-xt-lt*lt;return[.5*((et>=0?l:-l)-C(Ft,2*et)),-.25*t(Ft*Ft+4*xt)+.5*t(wt*wt+xt)]}function nn(et,lt){var xt=lt[0]*lt[0]+lt[1]*lt[1];return[(et[0]*lt[0]+et[1]*lt[1])/xt,(et[1]*lt[0]-et[0]*lt[1])/xt]}Mr.invert=function(et,lt){var xt=(S-1)/(S+1),wt=F(1-xt*xt),Ft=Qn(l,wt*wt),It=-1,Gt=Xn(.5*Ft-lt,-et,wt*wt),pr=nn(Gt[0],Gt[1]),Tr=C(pr[1],pr[0])/It;return[Tr,2*a(v(.5/It*t(xt*pr[0]*pr[0]+xt*pr[1]*pr[1])))-l]};function mn(){return(0,g.Z)(cn(Mr)).scale(151.496)}var Gn=e(7613);function Mn(et){var lt=u(et),xt=A(et),wt=Ln(et);wt.invert=Ln(-et);function Ft(It,Gt){var pr=wt(It,Gt);It=pr[0],Gt=pr[1];var Tr=u(Gt),ir=A(Gt),Cr=A(It),Dr=m(lt*Tr+xt*ir*Cr),jr=u(Dr),Qr=_(jr)>c?Dr/jr:1;return[Qr*xt*u(It),(_(It)>l?Qr:-Qr)*(lt*ir-xt*Tr*Cr)]}return Ft.invert=function(It,Gt){var pr=F(It*It+Gt*Gt),Tr=-u(pr),ir=A(pr),Cr=pr*ir,Dr=-Gt*Tr,jr=pr*lt,Qr=F(Cr*Cr+Dr*Dr-jr*jr),wn=C(Cr*jr+Dr*Qr,Dr*jr-Cr*Qr),Sn=(pr>l?-1:1)*C(It*Tr,pr*A(wn)*ir+Gt*u(wn)*Tr);return wt.invert(Sn,wn)},Ft}function Ln(et){var lt=u(et),xt=A(et);return function(wt,Ft){var It=A(Ft),Gt=A(wt)*It,pr=u(wt)*It,Tr=u(Ft);return[C(pr,Gt*xt-Tr*lt),L(Tr*xt+Gt*lt)]}}function Hn(){var et=0,lt=(0,g.r)(Mn),xt=lt(et),wt=xt.rotate,Ft=xt.stream,It=(0,Gn.Z)();return xt.parallel=function(Gt){if(!arguments.length)return et*M;var pr=xt.rotate();return lt(et=Gt*w).rotate(pr)},xt.rotate=function(Gt){return arguments.length?(wt.call(xt,[Gt[0],Gt[1]-et*M]),It.center([-Gt[0],-Gt[1]]),xt):(Gt=wt.call(xt),Gt[1]+=et*M,Gt)},xt.stream=function(Gt){return Gt=Ft(Gt),Gt.sphere=function(){Gt.polygonStart();var pr=.01,Tr=It.radius(90-pr)().coordinates[0],ir=Tr.length-1,Cr=-1,Dr;for(Gt.lineStart();++Cr<ir;)Gt.point((Dr=Tr[Cr])[0],Dr[1]);for(Gt.lineEnd(),Tr=It.radius(90+pr)().coordinates[0],ir=Tr.length-1,Gt.lineStart();--Cr>=0;)Gt.point((Dr=Tr[Cr])[0],Dr[1]);Gt.lineEnd(),Gt.polygonEnd()},Gt},xt.scale(79.4187).parallel(45).clipAngle(179.999)}var ra=e(33064),ba=e(72736),Za=3,Jt=L(1-1/Za)*M,Er=Ct(0);function qr(et){var lt=Jt*w,xt=He(h,lt)[0]-He(-h,lt)[0],wt=Er(0,lt)[1],Ft=He(0,lt)[1],It=P-Ft,Gt=x/et,pr=4/x,Tr=wt+It*It*4/x;function ir(Cr,Dr){var jr,Qr=_(Dr);if(Qr>lt){var wn=s(et-1,r(0,p((Cr+h)/Gt)));Cr+=h*(et-1)/et-wn*Gt,jr=He(Cr,Qr),jr[0]=jr[0]*x/xt-x*(et-1)/(2*et)+wn*x/et,jr[1]=wt+(jr[1]-Ft)*4*It/x,Dr<0&&(jr[1]=-jr[1])}else jr=Er(Cr,Dr);return jr[0]*=pr,jr[1]/=Tr,jr}return ir.invert=function(Cr,Dr){Cr/=pr,Dr*=Tr;var jr=_(Dr);if(jr>wt){var Qr=s(et-1,r(0,p((Cr+h)/Gt)));Cr=(Cr+h*(et-1)/et-Qr*Gt)*xt/x;var wn=He.invert(Cr,.25*(jr-wt)*x/It+Ft);return wn[0]-=h*(et-1)/et-Qr*Gt,Dr<0&&(wn[1]=-wn[1]),wn}return Er.invert(Cr,Dr)},ir}function sn(et,lt){return[et,lt&1?90-c:Jt]}function fn(et,lt){return[et,lt&1?-90+c:-Jt]}function Cn(et){return[et[0]*(1-c),et[1]]}function En(et){var lt=[].concat((0,ra.w6)(-180,180+et/2,et).map(sn),(0,ra.w6)(180,-180-et/2,-et).map(fn));return{type:"Polygon",coordinates:[et===180?lt.map(Cn):lt]}}function pn(){var et=4,lt=(0,g.r)(qr),xt=lt(et),wt=xt.stream;return xt.lobes=function(Ft){return arguments.length?lt(et=+Ft):et},xt.stream=function(Ft){var It=xt.rotate(),Gt=wt(Ft),pr=(xt.rotate([0,0]),wt(Ft));return xt.rotate(It),Gt.sphere=function(){(0,ba.Z)(En(180/et),pr)},Gt},xt.scale(239.75)}function zr(et){var lt=1+et,xt=u(1/lt),wt=L(xt),Ft=2*F(h/(It=h+4*wt*lt)),It,Gt=.5*Ft*(lt+F(et*(2+et))),pr=et*et,Tr=lt*lt;function ir(Cr,Dr){var jr=1-u(Dr),Qr,wn;if(jr&&jr<2){var Sn=l-Dr,Dn=25,pa;do{var Ra=u(Sn),Ia=A(Sn),ka=wt+C(Ra,lt-Ia),Fa=1+Tr-2*lt*Ia;Sn-=pa=(Sn-pr*wt-lt*Ra+Fa*ka-.5*jr*It)/(2*lt*Ra*ka)}while(_(pa)>T&&--Dn>0);Qr=Ft*F(Fa),wn=Cr*ka/h}else Qr=Ft*(et+jr),wn=Cr*wt/h;return[Qr*u(wn),Gt-Qr*A(wn)]}return ir.invert=function(Cr,Dr){var jr=Cr*Cr+(Dr-=Gt)*Dr,Qr=(1+Tr-jr/(Ft*Ft))/(2*lt),wn=m(Qr),Sn=u(wn),Dn=wt+C(Sn,lt-Qr);return[L(Cr/F(jr))*h/Dn,L(1-2*(wn-pr*wt-lt*Sn+(1+Tr-2*lt*Qr)*Dn)/It)]},ir}function _r(){var et=1,lt=(0,g.r)(zr),xt=lt(et);return xt.ratio=function(wt){return arguments.length?lt(et=+wt):et},xt.scale(167.774).center([0,18.67])}var Nr=.7109889596207567,vn=.0528035274542;function Fn(et,lt){return lt>-Nr?(et=Le(et,lt),et[1]+=vn,et):it(et,lt)}Fn.invert=function(et,lt){return lt>-Nr?Le.invert(et,lt-vn):it.invert(et,lt)};function Kn(){return(0,g.Z)(Fn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function xn(et,lt){return _(lt)>Nr?(et=Le(et,lt),et[1]-=lt>0?vn:-vn,et):it(et,lt)}xn.invert=function(et,lt){return _(lt)>Nr?Le.invert(et,lt+(lt>0?vn:-vn)):it.invert(et,lt)};function Vn(){return(0,g.Z)(xn).scale(152.63)}function aa(et,lt,xt,wt){var Ft=F(4*h/(2*xt+(1+et-lt/2)*u(2*xt)+(et+lt)/2*u(4*xt)+lt/2*u(6*xt))),It=F(wt*u(xt)*F((1+et*A(2*xt)+lt*A(4*xt))/(1+et+lt))),Gt=xt*Tr(1);function pr(Dr){return F(1+et*A(2*Dr)+lt*A(4*Dr))}function Tr(Dr){var jr=Dr*xt;return(2*jr+(1+et-lt/2)*u(2*jr)+(et+lt)/2*u(4*jr)+lt/2*u(6*jr))/xt}function ir(Dr){return pr(Dr)*u(Dr)}var Cr=function(Dr,jr){var Qr=xt*Ce(Tr,Gt*u(jr)/xt,jr/h);isNaN(Qr)&&(Qr=xt*f(jr));var wn=Ft*pr(Qr);return[wn*It*Dr/h*A(Qr),wn/It*u(Qr)]};return Cr.invert=function(Dr,jr){var Qr=Ce(ir,jr*It/Ft);return[Dr*h/(A(Qr)*Ft*It*pr(Qr)),L(xt*Tr(Qr/xt)/Gt)]},xt===0&&(Ft=F(wt/h),Cr=function(Dr,jr){return[Dr*Ft,u(jr)/Ft]},Cr.invert=function(Dr,jr){return[Dr/Ft,L(jr*Ft)]}),Cr}function va(){var et=1,lt=0,xt=45*w,wt=2,Ft=(0,g.r)(aa),It=Ft(et,lt,xt,wt);return It.a=function(Gt){return arguments.length?Ft(et=+Gt,lt,xt,wt):et},It.b=function(Gt){return arguments.length?Ft(et,lt=+Gt,xt,wt):lt},It.psiMax=function(Gt){return arguments.length?Ft(et,lt,xt=+Gt*w,wt):xt*M},It.ratio=function(Gt){return arguments.length?Ft(et,lt,xt,wt=+Gt):wt},It.scale(180.739)}function ha(et,lt,xt,wt,Ft,It,Gt,pr,Tr,ir,Cr){if(Cr.nanEncountered)return NaN;var Dr,jr,Qr,wn,Sn,Dn,pa,Ra,Ia,ka;if(Dr=xt-lt,jr=et(lt+Dr*.25),Qr=et(xt-Dr*.25),isNaN(jr)){Cr.nanEncountered=!0;return}if(isNaN(Qr)){Cr.nanEncountered=!0;return}return wn=Dr*(wt+4*jr+Ft)/12,Sn=Dr*(Ft+4*Qr+It)/12,Dn=wn+Sn,ka=(Dn-Gt)/15,ir>Tr?(Cr.maxDepthCount++,Dn+ka):Math.abs(ka)<pr?Dn+ka:(pa=lt+Dr*.5,Ra=ha(et,lt,pa,wt,jr,Ft,wn,pr*.5,Tr,ir+1,Cr),isNaN(Ra)?(Cr.nanEncountered=!0,NaN):(Ia=ha(et,pa,xt,Ft,Qr,It,Sn,pr*.5,Tr,ir+1,Cr),isNaN(Ia)?(Cr.nanEncountered=!0,NaN):Ra+Ia))}function la(et,lt,xt,wt,Ft){var It={maxDepthCount:0,nanEncountered:!1};wt===void 0&&(wt=1e-8),Ft===void 0&&(Ft=20);var Gt=et(lt),pr=et(.5*(lt+xt)),Tr=et(xt),ir=(Gt+4*pr+Tr)*(xt-lt)/6,Cr=ha(et,lt,xt,Gt,pr,Tr,ir,wt,Ft,1,It);return Cr}function ma(et,lt,xt){function wt(Qr){return et+(1-et)*n(1-n(Qr,lt),1/lt)}function Ft(Qr){return la(wt,0,Qr,1e-4)}for(var It=1/Ft(1),Gt=1e3,pr=(1+1e-8)*It,Tr=[],ir=0;ir<=Gt;ir++)Tr.push(Ft(ir/Gt)*pr);function Cr(Qr){var wn=0,Sn=Gt,Dn=Gt>>1;do Tr[Dn]>Qr?Sn=Dn:wn=Dn,Dn=wn+Sn>>1;while(Dn>wn);var pa=Tr[Dn+1]-Tr[Dn];return pa&&(pa=(Qr-Tr[Dn+1])/pa),(Dn+1+pa)/Gt}var Dr=2*Cr(1)/h*It/xt,jr=function(Qr,wn){var Sn=Cr(_(u(wn))),Dn=wt(Sn)*Qr;return Sn/=Dr,[Dn,wn>=0?Sn:-Sn]};return jr.invert=function(Qr,wn){var Sn;return wn*=Dr,_(wn)<1&&(Sn=f(wn)*L(Ft(_(wn))*It)),[Qr/wt(_(wn)),Sn]},jr}function _i(){var et=0,lt=2.5,xt=1.183136,wt=(0,g.r)(ma),Ft=wt(et,lt,xt);return Ft.alpha=function(It){return arguments.length?wt(et=+It,lt,xt):et},Ft.k=function(It){return arguments.length?wt(et,lt=+It,xt):lt},Ft.gamma=function(It){return arguments.length?wt(et,lt,xt=+It):xt},Ft.scale(152.63)}function Ji(et,lt){return _(et[0]-lt[0])<c&&_(et[1]-lt[1])<c}function po(et,lt){for(var xt=-1,wt=et.length,Ft=et[0],It,Gt,pr,Tr=[];++xt<wt;){It=et[xt],Gt=(It[0]-Ft[0])/lt,pr=(It[1]-Ft[1])/lt;for(var ir=0;ir<lt;++ir)Tr.push([Ft[0]+ir*Gt,Ft[1]+ir*pr]);Ft=It}return Tr.push(It),Tr}function Ro(et){var lt=[],xt,wt,Ft,It,Gt,pr,Tr,ir=et[0].length;for(Tr=0;Tr<ir;++Tr)xt=et[0][Tr],wt=xt[0][0],Ft=xt[0][1],It=xt[1][1],Gt=xt[2][0],pr=xt[2][1],lt.push(po([[wt+c,Ft+c],[wt+c,It-c],[Gt-c,It-c],[Gt-c,pr+c]],30));for(Tr=et[1].length-1;Tr>=0;--Tr)xt=et[1][Tr],wt=xt[0][0],Ft=xt[0][1],It=xt[1][1],Gt=xt[2][0],pr=xt[2][1],lt.push(po([[Gt-c,pr-c],[Gt-c,It+c],[wt+c,It+c],[wt+c,Ft-c]],30));return{type:"Polygon",coordinates:[(0,ra.TS)(lt)]}}function Qi(et,lt,xt){var wt,Ft;function It(Tr,ir){for(var Cr=ir<0?-1:1,Dr=lt[+(ir<0)],jr=0,Qr=Dr.length-1;jr<Qr&&Tr>Dr[jr][2][0];++jr);var wn=et(Tr-Dr[jr][1][0],ir);return wn[0]+=et(Dr[jr][1][0],Cr*ir>Cr*Dr[jr][0][1]?Dr[jr][0][1]:ir)[0],wn}xt?It.invert=xt(It):et.invert&&(It.invert=function(Tr,ir){for(var Cr=Ft[+(ir<0)],Dr=lt[+(ir<0)],jr=0,Qr=Cr.length;jr<Qr;++jr){var wn=Cr[jr];if(wn[0][0]<=Tr&&Tr<wn[1][0]&&wn[0][1]<=ir&&ir<wn[1][1]){var Sn=et.invert(Tr-et(Dr[jr][1][0],0)[0],ir);return Sn[0]+=Dr[jr][1][0],Ji(It(Sn[0],Sn[1]),[Tr,ir])?Sn:null}}});var Gt=(0,g.Z)(It),pr=Gt.stream;return Gt.stream=function(Tr){var ir=Gt.rotate(),Cr=pr(Tr),Dr=(Gt.rotate([0,0]),pr(Tr));return Gt.rotate(ir),Cr.sphere=function(){(0,ba.Z)(wt,Dr)},Cr},Gt.lobes=function(Tr){return arguments.length?(wt=Ro(Tr),lt=Tr.map(function(ir){return ir.map(function(Cr){return[[Cr[0][0]*w,Cr[0][1]*w],[Cr[1][0]*w,Cr[1][1]*w],[Cr[2][0]*w,Cr[2][1]*w]]})}),Ft=lt.map(function(ir){return ir.map(function(Cr){var Dr=et(Cr[0][0],Cr[0][1])[0],jr=et(Cr[2][0],Cr[2][1])[0],Qr=et(Cr[1][0],Cr[0][1])[1],wn=et(Cr[1][0],Cr[1][1])[1],Sn;return Qr>wn&&(Sn=Qr,Qr=wn,wn=Sn),[[Dr,Qr],[jr,wn]]})}),Gt):lt.map(function(ir){return ir.map(function(Cr){return[[Cr[0][0]*M,Cr[0][1]*M],[Cr[1][0]*M,Cr[1][1]*M],[Cr[2][0]*M,Cr[2][1]*M]]})})},lt!=null&&Gt.lobes(lt),Gt}var gu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function qa(){return Qi(Ze,gu).scale(160.857)}var yu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Ml(){return Qi(xn,yu).scale(152.63)}var qi=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function bo(){return Qi(Le,qi).scale(169.529)}var lc=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function mu(){return Qi(Le,lc).scale(169.529).rotate([20,0])}var ki=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function $l(){return Qi(Fn,ki,Ae).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var ro=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function eo(){return Qi(it,ro).scale(152.63).rotate([-20,0])}function Ho(et,lt){return[3/x*et*F(h*h/3-lt*lt),lt]}Ho.invert=function(et,lt){return[x/3*et/F(h*h/3-lt*lt),lt]};function so(){return(0,g.Z)(Ho).scale(158.837)}function Jo(et){function lt(xt,wt){if(_(_(wt)-l)<c)return[0,wt<0?-2:2];var Ft=u(wt),It=n((1+Ft)/(1-Ft),et/2),Gt=.5*(It+1/It)+A(xt*=et);return[2*u(xt)/Gt,(It-1/It)/Gt]}return lt.invert=function(xt,wt){var Ft=_(wt);if(_(Ft-2)<c)return xt?null:[0,f(wt)*l];if(Ft>2)return null;xt/=2,wt/=2;var It=xt*xt,Gt=wt*wt,pr=2*wt/(1+It+Gt);return pr=n((1+pr)/(1-pr),1/et),[C(2*xt,1-It-Gt)/et,L((pr-1)/(pr+1))]},lt}function Qo(){var et=.5,lt=(0,g.r)(Jo),xt=lt(et);return xt.spacing=function(wt){return arguments.length?lt(et=+wt):et},xt.scale(124.75)}var qo=h/S;function lo(et,lt){return[et*(1+F(A(lt)))/2,lt/(A(lt/2)*A(et/6))]}lo.invert=function(et,lt){var xt=_(et),wt=_(lt),Ft=c,It=l;wt<qo?It*=wt/qo:Ft+=6*m(qo/wt);for(var Gt=0;Gt<25;Gt++){var pr=u(It),Tr=F(A(It)),ir=u(It/2),Cr=A(It/2),Dr=u(Ft/6),jr=A(Ft/6),Qr=.5*Ft*(1+Tr)-xt,wn=It/(Cr*jr)-wt,Sn=Tr?-.25*Ft*pr/Tr:0,Dn=.5*(1+Tr),pa=(1+.5*It*ir/Cr)/(Cr*jr),Ra=It/Cr*(Dr/6)/(jr*jr),Ia=Sn*Ra-pa*Dn,ka=(Qr*Ra-wn*Dn)/Ia,Fa=(wn*Sn-Qr*pa)/Ia;if(It-=ka,Ft-=Fa,_(ka)<c&&_(Fa)<c)break}return[et<0?-Ft:Ft,lt<0?-It:It]};function Xu(){return(0,g.Z)(lo).scale(97.2672)}function Es(et,lt){var xt=et*et,wt=lt*lt;return[et*(.975534+wt*(-.119161+xt*-.0143059+wt*-.0547009)),lt*(1.00384+xt*(.0802894+wt*-.02855+xt*199025e-9)+wt*(.0998909+wt*-.0491032))]}Es.invert=function(et,lt){var xt=f(et)*h,wt=lt/2,Ft=50;do{var It=xt*xt,Gt=wt*wt,pr=xt*wt,Tr=xt*(.975534+Gt*(-.119161+It*-.0143059+Gt*-.0547009))-et,ir=wt*(1.00384+It*(.0802894+Gt*-.02855+It*199025e-9)+Gt*(.0998909+Gt*-.0491032))-lt,Cr=.975534-Gt*(.119161+3*It*.0143059+Gt*.0547009),Dr=-pr*(2*.119161+4*.0547009*Gt+2*.0143059*It),jr=pr*(2*.0802894+4*199025e-9*It+2*-.02855*Gt),Qr=1.00384+It*(.0802894+199025e-9*It)+Gt*(3*(.0998909-.02855*It)-5*.0491032*Gt),wn=Dr*jr-Qr*Cr,Sn=(ir*Dr-Tr*Qr)/wn,Dn=(Tr*jr-ir*Cr)/wn;xt-=Sn,wt-=Dn}while((_(Sn)>c||_(Dn)>c)&&--Ft>0);return Ft&&[xt,wt]};function Zi(){return(0,g.Z)(Es).scale(139.98)}function mf(et,lt){return[u(et)/A(lt),y(lt)*A(et)]}mf.invert=function(et,lt){var xt=et*et,wt=lt*lt,Ft=wt+1,It=xt+Ft,Gt=et?E*F((It-F(It*It-4*xt))/xt):1/F(Ft);return[L(et*Gt),f(lt)*m(Gt)]};function Ms(){return(0,g.Z)(mf).scale(144.049).clipAngle(89.999)}function es(et){var lt=A(et),xt=y(d+et/2);function wt(Ft,It){var Gt=It-et,pr=_(Gt)<c?Ft*lt:_(pr=d+It/2)<c||_(_(pr)-l)<c?0:Ft*Gt/t(y(pr)/xt);return[pr,Gt]}return wt.invert=function(Ft,It){var Gt,pr=It+et;return[_(It)<c?Ft/lt:_(Gt=d+pr/2)<c||_(_(Gt)-l)<c?0:Ft*t(y(Gt)/xt)/It,pr]},wt}function xu(){return at(es).parallel(40).scale(158.837)}function xf(et,lt){return[et,1.25*t(y(d+.4*lt))]}xf.invert=function(et,lt){return[et,2.5*a(v(.8*lt))-.625*h]};function Uc(){return(0,g.Z)(xf).scale(108.318)}function Cl(et){var lt=et.length-1;function xt(wt,Ft){for(var It=A(Ft),Gt=2/(1+It*A(wt)),pr=Gt*It*u(wt),Tr=Gt*u(Ft),ir=lt,Cr=et[ir],Dr=Cr[0],jr=Cr[1],Qr;--ir>=0;)Cr=et[ir],Dr=Cr[0]+pr*(Qr=Dr)-Tr*jr,jr=Cr[1]+pr*jr+Tr*Qr;return Dr=pr*(Qr=Dr)-Tr*jr,jr=pr*jr+Tr*Qr,[Dr,jr]}return xt.invert=function(wt,Ft){var It=20,Gt=wt,pr=Ft;do{for(var Tr=lt,ir=et[Tr],Cr=ir[0],Dr=ir[1],jr=0,Qr=0,wn;--Tr>=0;)ir=et[Tr],jr=Cr+Gt*(wn=jr)-pr*Qr,Qr=Dr+Gt*Qr+pr*wn,Cr=ir[0]+Gt*(wn=Cr)-pr*Dr,Dr=ir[1]+Gt*Dr+pr*wn;jr=Cr+Gt*(wn=jr)-pr*Qr,Qr=Dr+Gt*Qr+pr*wn,Cr=Gt*(wn=Cr)-pr*Dr-wt,Dr=Gt*Dr+pr*wn-Ft;var Sn=jr*jr+Qr*Qr,Dn,pa;Gt-=Dn=(Cr*jr+Dr*Qr)/Sn,pr-=pa=(Dr*jr-Cr*Qr)/Sn}while(_(Dn)+_(pa)>c*c&&--It>0);if(It){var Ra=F(Gt*Gt+pr*pr),Ia=2*a(Ra*.5),ka=u(Ia);return[C(Gt*ka,Ra*A(Ia)),Ra?L(pr*ka/Ra):0]}},xt}var uc=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],bu=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],bf=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],wf=[[.9245,0],[0,0],[.01943,0]],fc=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Hc(){return Ll(uc,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function cc(){return Ll(bu,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function hc(){return Ll(bf,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Jl(){return Ll(wf,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Tf(){return Ll(fc,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Ll(et,lt){var xt=(0,g.Z)(Cl(et)).rotate(lt).clipAngle(90),wt=(0,ke.Z)(lt),Ft=xt.center;return delete xt.rotate,xt.center=function(It){return arguments.length?Ft(wt(It)):wt.invert(Ft())},xt}var Pl=F(6),_l=F(7);function wu(et,lt){var xt=L(7*u(lt)/(3*Pl));return[Pl*et*(2*A(2*xt/3)-1)/_l,9*u(xt/3)/_l]}wu.invert=function(et,lt){var xt=3*L(lt*_l/9);return[et*_l/(Pl*(2*A(2*xt/3)-1)),L(u(xt)*3*Pl/7)]};function vc(){return(0,g.Z)(wu).scale(164.859)}function Ws(et,lt){for(var xt=(1+E)*u(lt),wt=lt,Ft=0,It;Ft<25&&(wt-=It=(u(wt/2)+u(wt)-xt)/(.5*A(wt/2)+A(wt)),!(_(It)<c));Ft++);return[et*(1+2*A(wt)/A(wt/2))/(3*S),2*F(3)*u(wt/2)/F(2+S)]}Ws.invert=function(et,lt){var xt=lt*F(2+S)/(2*F(3)),wt=2*L(xt);return[3*S*et/(1+2*A(wt)/A(wt/2)),L((xt+u(wt))/(1+E))]};function Af(){return(0,g.Z)(Ws).scale(188.209)}function Sf(et,lt){for(var xt=F(6/(4+h)),wt=(1+h/4)*u(lt),Ft=lt/2,It=0,Gt;It<25&&(Ft-=Gt=(Ft/2+u(Ft)-wt)/(.5+A(Ft)),!(_(Gt)<c));It++);return[xt*(.5+A(Ft))*et/1.5,xt*Ft]}Sf.invert=function(et,lt){var xt=F(6/(4+h)),wt=lt/xt;return _(_(wt)-l)<c&&(wt=wt<0?-l:l),[1.5*et/(xt*(.5+A(wt))),L((wt/2+u(wt))/(1+h/4))]};function Vc(){return(0,g.Z)(Sf).scale(166.518)}var Vo=e(26867);function Rl(et,lt){var xt=lt*lt,wt=xt*xt,Ft=xt*wt;return[et*(.84719-.13063*xt+Ft*Ft*(-.04515+.05494*xt-.02326*wt+.00331*Ft)),lt*(1.01183+wt*wt*(-.02625+.01926*xt-.00396*wt))]}Rl.invert=function(et,lt){var xt=lt,wt=25,Ft,It,Gt,pr;do It=xt*xt,Gt=It*It,xt-=Ft=(xt*(1.01183+Gt*Gt*(-.02625+.01926*It-.00396*Gt))-lt)/(1.01183+Gt*Gt*(-.23625+.21186*It+-.05148*Gt));while(_(Ft)>T&&--wt>0);return It=xt*xt,Gt=It*It,pr=It*Gt,[et/(.84719-.13063*It+pr*pr*(-.04515+.05494*It-.02326*Gt+.00331*pr)),xt]};function Dl(){return(0,g.Z)(Rl).scale(175.295)}function Ql(et,lt){return[et*(1+A(lt))/2,2*(lt-y(lt/2))]}Ql.invert=function(et,lt){for(var xt=lt/2,wt=0,Ft=1/0;wt<10&&_(Ft)>c;++wt){var It=A(lt/2);lt-=Ft=(lt-y(lt/2)-xt)/(1-.5/(It*It))}return[2*et/(1+A(lt)),lt]};function Cs(){return(0,g.Z)(Ql).scale(152.63)}var Ls=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Ef(){return Qi(oe(1/0),Ls).rotate([20,0]).scale(152.63)}function ql(et,lt){var xt=u(lt),wt=A(lt),Ft=f(et);if(et===0||_(lt)===l)return[0,lt];if(lt===0)return[et,0];if(_(et)===l)return[et*wt,l*xt];var It=h/(2*et)-2*et/h,Gt=2*lt/h,pr=(1-Gt*Gt)/(xt-Gt),Tr=It*It,ir=pr*pr,Cr=1+Tr/ir,Dr=1+ir/Tr,jr=(It*xt/pr-It/2)/Cr,Qr=(ir*xt/Tr+pr/2)/Dr,wn=jr*jr+wt*wt/Cr,Sn=Qr*Qr-(ir*xt*xt/Tr+pr*xt-1)/Dr;return[l*(jr+F(wn)*Ft),l*(Qr+F(Sn<0?0:Sn)*f(-lt*It)*Ft)]}ql.invert=function(et,lt){et/=l,lt/=l;var xt=et*et,wt=lt*lt,Ft=xt+wt,It=h*h;return[et?(Ft-1+F((1-Ft)*(1-Ft)+4*xt))/(2*et)*l:0,Ce(function(Gt){return Ft*(h*u(Gt)-2*Gt)*h+4*Gt*Gt*(lt-u(Gt))+2*h*Gt-It*lt},0)]};function sl(){return(0,g.Z)(ql).scale(127.267)}var Bi=1.0148,Mf=.23185,Ku=-.14499,eu=.02406,dc=Bi,Cf=5*Mf,Il=7*Ku,Ys=9*eu,no=1.790857183;function $u(et,lt){var xt=lt*lt;return[et,lt*(Bi+xt*xt*(Mf+xt*(Ku+eu*xt)))]}$u.invert=function(et,lt){lt>no?lt=no:lt<-no&&(lt=-no);var xt=lt,wt;do{var Ft=xt*xt;xt-=wt=(xt*(Bi+Ft*Ft*(Mf+Ft*(Ku+eu*Ft)))-lt)/(dc+Ft*Ft*(Cf+Ft*(Il+Ys*Ft)))}while(_(wt)>c);return[et,xt]};function Gc(){return(0,g.Z)($u).scale(139.319)}function Lf(et,lt){if(_(lt)<c)return[et,0];var xt=y(lt),wt=et*u(lt);return[u(wt)/xt,lt+(1-A(wt))/xt]}Lf.invert=function(et,lt){if(_(lt)<c)return[et,0];var xt=et*et+lt*lt,wt=lt*.5,Ft=10,It;do{var Gt=y(wt),pr=1/A(wt),Tr=xt-2*lt*wt+wt*wt;wt-=It=(Gt*Tr+2*(wt-lt))/(2+Tr*pr*pr+2*(wt-lt)*Gt)}while(_(It)>c&&--Ft>0);return Gt=y(wt),[(_(lt)<_(wt+1/Gt)?L(et*Gt):f(lt)*f(et)*(m(_(et*Gt))+l))/u(wt),wt]};function Pf(){return(0,g.Z)(Lf).scale(103.74)}var Tu=e(77338),tu=e(83074);function pc(et,lt){var xt=_f(et[1],et[0]),wt=_f(lt[1],lt[0]),Ft=Rf(xt,wt),It=Au(xt)/Au(wt);return kl([1,0,et[0][0],0,1,et[0][1]],kl([It,0,0,0,It,0],kl([A(Ft),u(Ft),0,-u(Ft),A(Ft),0],[1,0,-lt[0][0],0,1,-lt[0][1]])))}function js(et){var lt=1/(et[0]*et[4]-et[1]*et[3]);return[lt*et[4],-lt*et[1],lt*(et[1]*et[5]-et[2]*et[4]),-lt*et[3],lt*et[0],lt*(et[2]*et[3]-et[0]*et[5])]}function kl(et,lt){return[et[0]*lt[0]+et[1]*lt[3],et[0]*lt[1]+et[1]*lt[4],et[0]*lt[2]+et[1]*lt[5]+et[2],et[3]*lt[0]+et[4]*lt[3],et[3]*lt[1]+et[4]*lt[4],et[3]*lt[2]+et[4]*lt[5]+et[5]]}function _f(et,lt){return[et[0]-lt[0],et[1]-lt[1]]}function Au(et){return F(et[0]*et[0]+et[1]*et[1])}function Rf(et,lt){return C(et[0]*lt[1]-et[1]*lt[0],et[0]*lt[0]+et[1]*lt[1])}function yi(et,lt,xt){wt(et,{transform:null});function wt(ir,Cr){if(ir.edges=Ol(ir.face),Cr.face){var Dr=ir.shared=ru(ir.face,Cr.face),jr=pc(Dr.map(Cr.project),Dr.map(ir.project));ir.transform=Cr.transform?kl(Cr.transform,jr):jr;for(var Qr=Cr.edges,wn=0,Sn=Qr.length;wn<Sn;++wn)fs(Dr[0],Qr[wn][1])&&fs(Dr[1],Qr[wn][0])&&(Qr[wn]=ir),fs(Dr[0],Qr[wn][0])&&fs(Dr[1],Qr[wn][1])&&(Qr[wn]=ir);for(Qr=ir.edges,wn=0,Sn=Qr.length;wn<Sn;++wn)fs(Dr[0],Qr[wn][0])&&fs(Dr[1],Qr[wn][1])&&(Qr[wn]=Cr),fs(Dr[0],Qr[wn][1])&&fs(Dr[1],Qr[wn][0])&&(Qr[wn]=Cr)}else ir.transform=Cr.transform;return ir.children&&ir.children.forEach(function(Dn){wt(Dn,ir)}),ir}function Ft(ir,Cr){var Dr=lt(ir,Cr),jr=Dr.project([ir*M,Cr*M]),Qr;return(Qr=Dr.transform)?[Qr[0]*jr[0]+Qr[1]*jr[1]+Qr[2],-(Qr[3]*jr[0]+Qr[4]*jr[1]+Qr[5])]:(jr[1]=-jr[1],jr)}Df(et)&&(Ft.invert=function(ir,Cr){var Dr=It(et,[ir,-Cr]);return Dr&&(Dr[0]*=w,Dr[1]*=w,Dr)});function It(ir,Cr){var Dr=ir.project.invert,jr=ir.transform,Qr=Cr;if(jr&&(jr=js(jr),Qr=[jr[0]*Qr[0]+jr[1]*Qr[1]+jr[2],jr[3]*Qr[0]+jr[4]*Qr[1]+jr[5]]),Dr&&ir===Gt(wn=Dr(Qr)))return wn;for(var wn,Sn=ir.children,Dn=0,pa=Sn&&Sn.length;Dn<pa;++Dn)if(wn=It(Sn[Dn],Cr))return wn}function Gt(ir){return lt(ir[0]*w,ir[1]*w)}var pr=(0,g.Z)(Ft),Tr=pr.stream;return pr.stream=function(ir){var Cr=pr.rotate(),Dr=Tr(ir),jr=(pr.rotate([0,0]),Tr(ir));return pr.rotate(Cr),Dr.sphere=function(){jr.polygonStart(),jr.lineStart(),gc(jr,et),jr.lineEnd(),jr.polygonEnd()},Dr},pr.angle(xt==null?-30:xt*M)}function gc(et,lt,xt){var wt,Ft=lt.edges,It=Ft.length,Gt,pr={type:"MultiPoint",coordinates:lt.face},Tr=lt.face.filter(function(Sn){return _(Sn[1])!==90}),ir=(0,Tu.Z)({type:"MultiPoint",coordinates:Tr}),Cr=!1,Dr=-1,jr=ir[1][0]-ir[0][0],Qr=jr===180||jr===360?[(ir[0][0]+ir[1][0])/2,(ir[0][1]+ir[1][1])/2]:(0,Qe.Z)(pr);if(xt)for(;++Dr<It&&Ft[Dr]!==xt;);++Dr;for(var wn=0;wn<It;++wn)Gt=Ft[(wn+Dr)%It],Array.isArray(Gt)?(Cr||(et.point((wt=(0,tu.Z)(Gt[0],Qr)(c))[0],wt[1]),Cr=!0),et.point((wt=(0,tu.Z)(Gt[1],Qr)(c))[0],wt[1])):(Cr=!1,Gt!==xt&&gc(et,Gt,lt))}function fs(et,lt){return et&&lt&&et[0]===lt[0]&&et[1]===lt[1]}function ru(et,lt){for(var xt,wt,Ft=et.length,It=null,Gt=0;Gt<Ft;++Gt){xt=et[Gt];for(var pr=lt.length;--pr>=0;)if(wt=lt[pr],xt[0]===wt[0]&&xt[1]===wt[1]){if(It)return[It,xt];It=xt}}}function Ol(et){for(var lt=et.length,xt=[],wt=et[lt-1],Ft=0;Ft<lt;++Ft)xt.push([wt,wt=et[Ft]]);return xt}function Df(et){return et.project.invert||et.children&&et.children.some(Df)}var Ui=e(98936),nu=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Do=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(et){return et.map(function(lt){return nu[lt]})});function Io(et){et=et||function(xt){var wt=(0,Qe.Z)({type:"MultiPoint",coordinates:xt});return(0,Ui.Z)().scale(1).translate([0,0]).rotate([-wt[0],-wt[1]])};var lt=Do.map(function(xt){return{face:xt,project:et(xt)}});return[-1,0,0,1,0,1,4,5].forEach(function(xt,wt){var Ft=lt[xt];Ft&&(Ft.children||(Ft.children=[])).push(lt[wt])}),yi(lt[0],function(xt,wt){return lt[xt<-h/2?wt<0?6:4:xt<0?wt<0?2:0:xt<h/2?wt<0?3:1:wt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var Zs=2/F(3);function ll(et,lt){var xt=He(et,lt);return[xt[0]*Zs,xt[1]]}ll.invert=function(et,lt){return He.invert(et/Zs,lt)};function ul(et){et=et||function(xt){var wt=(0,Qe.Z)({type:"MultiPoint",coordinates:xt});return(0,g.Z)(ll).translate([0,0]).scale(1).rotate(wt[1]>0?[-wt[0],0]:[180-wt[0],180])};var lt=Do.map(function(xt){return{face:xt,project:et(xt)}});return[-1,0,0,1,0,1,4,5].forEach(function(xt,wt){var Ft=lt[xt];Ft&&(Ft.children||(Ft.children=[])).push(lt[wt])}),yi(lt[0],function(xt,wt){return lt[xt<-h/2?wt<0?6:4:xt<0?wt<0?2:0:xt<h/2?wt<0?3:1:wt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function fl(et){et=et||function(Gt){var pr=Gt.length===6?(0,Qe.Z)({type:"MultiPoint",coordinates:Gt}):Gt[0];return(0,Ui.Z)().scale(1).translate([0,0]).rotate([-pr[0],-pr[1]])};var lt=Do.map(function(Gt){for(var pr=Gt.map(cl),Tr=pr.length,ir=pr[Tr-1],Cr,Dr=[],jr=0;jr<Tr;++jr)Cr=pr[jr],Dr.push(Su([ir[0]*.9486832980505138+Cr[0]*.31622776601683794,ir[1]*.9486832980505138+Cr[1]*.31622776601683794,ir[2]*.9486832980505138+Cr[2]*.31622776601683794]),Su([Cr[0]*.9486832980505138+ir[0]*.31622776601683794,Cr[1]*.9486832980505138+ir[1]*.31622776601683794,Cr[2]*.9486832980505138+ir[2]*.31622776601683794])),ir=Cr;return Dr}),xt=[],wt=[-1,0,0,1,0,1,4,5];lt.forEach(function(Gt,pr){for(var Tr=Do[pr],ir=Tr.length,Cr=xt[pr]=[],Dr=0;Dr<ir;++Dr)lt.push([Tr[Dr],Gt[(Dr*2+2)%(2*ir)],Gt[(Dr*2+1)%(2*ir)]]),wt.push(pr),Cr.push(go(cl(Gt[(Dr*2+2)%(2*ir)]),cl(Gt[(Dr*2+1)%(2*ir)])))});var Ft=lt.map(function(Gt){return{project:et(Gt),face:Gt}});wt.forEach(function(Gt,pr){var Tr=Ft[Gt];Tr&&(Tr.children||(Tr.children=[])).push(Ft[pr])});function It(Gt,pr){var Tr=A(pr),ir=[Tr*A(Gt),Tr*u(Gt),u(pr)],Cr=Gt<-h/2?pr<0?6:4:Gt<0?pr<0?2:0:Gt<h/2?pr<0?3:1:pr<0?7:5,Dr=xt[Cr];return Ft[cs(Dr[0],ir)<0?8+3*Cr:cs(Dr[1],ir)<0?8+3*Cr+1:cs(Dr[2],ir)<0?8+3*Cr+2:Cr]}return yi(Ft[0],It).angle(-30).scale(110.625).center([0,45])}function cs(et,lt){for(var xt=0,wt=et.length,Ft=0;xt<wt;++xt)Ft+=et[xt]*lt[xt];return Ft}function go(et,lt){return[et[1]*lt[2]-et[2]*lt[1],et[2]*lt[0]-et[0]*lt[2],et[0]*lt[1]-et[1]*lt[0]]}function Su(et){return[C(et[1],et[0])*M,L(r(-1,s(1,et[2])))*M]}function cl(et){var lt=et[0]*w,xt=et[1]*w,wt=A(xt);return[wt*A(lt),wt*u(lt),u(xt)]}function Ju(){}function Wc(et){if((xt=et.length)<4)return!1;for(var lt=0,xt,wt=et[xt-1][1]*et[0][0]-et[xt-1][0]*et[0][1];++lt<xt;)wt+=et[lt-1][1]*et[lt][0]-et[lt-1][0]*et[lt][1];return wt<=0}function Yc(et,lt){for(var xt=lt[0],wt=lt[1],Ft=!1,It=0,Gt=et.length,pr=Gt-1;It<Gt;pr=It++){var Tr=et[It],ir=Tr[0],Cr=Tr[1],Dr=et[pr],jr=Dr[0],Qr=Dr[1];Cr>wt^Qr>wt&&xt<(jr-ir)*(wt-Cr)/(Qr-Cr)+ir&&(Ft=!Ft)}return Ft}function jc(et,lt){var xt=lt.stream,wt;if(!xt)throw new Error("invalid projection");switch(et&&et.type){case"Feature":wt=Qu;break;case"FeatureCollection":wt=Zc;break;default:wt=au;break}return wt(et,xt)}function Zc(et,lt){return{type:"FeatureCollection",features:et.features.map(function(xt){return Qu(xt,lt)})}}function Qu(et,lt){return{type:"Feature",id:et.id,properties:et.properties,geometry:au(et.geometry,lt)}}function yc(et,lt){return{type:"GeometryCollection",geometries:et.geometries.map(function(xt){return au(xt,lt)})}}function au(et,lt){if(!et)return null;if(et.type==="GeometryCollection")return yc(et,lt);var xt;switch(et.type){case"Point":xt=Eu;break;case"MultiPoint":xt=Eu;break;case"LineString":xt=zl;break;case"MultiLineString":xt=zl;break;case"Polygon":xt=Mu;break;case"MultiPolygon":xt=Mu;break;case"Sphere":xt=Mu;break;default:return null}return(0,ba.Z)(et,lt(xt)),xt.result()}var uo=[],ko=[],Eu={point:function(et,lt){uo.push([et,lt])},result:function(){var et=uo.length?uo.length<2?{type:"Point",coordinates:uo[0]}:{type:"MultiPoint",coordinates:uo}:null;return uo=[],et}},zl={lineStart:Ju,point:function(et,lt){uo.push([et,lt])},lineEnd:function(){uo.length&&(ko.push(uo),uo=[])},result:function(){var et=ko.length?ko.length<2?{type:"LineString",coordinates:ko[0]}:{type:"MultiLineString",coordinates:ko}:null;return ko=[],et}},Mu={polygonStart:Ju,lineStart:Ju,point:function(et,lt){uo.push([et,lt])},lineEnd:function(){var et=uo.length;if(et){do uo.push(uo[0].slice());while(++et<4);ko.push(uo),uo=[]}},polygonEnd:Ju,result:function(){if(!ko.length)return null;var et=[],lt=[];return ko.forEach(function(xt){Wc(xt)?et.push([xt]):lt.push(xt)}),lt.forEach(function(xt){var wt=xt[0];et.some(function(Ft){if(Yc(Ft[0],wt))return Ft.push(xt),!0})||et.push([xt])}),ko=[],et.length?et.length>1?{type:"MultiPolygon",coordinates:et}:{type:"Polygon",coordinates:et[0]}:null}};function Oo(et){var lt=et(l,0)[0]-et(-l,0)[0];function xt(wt,Ft){var It=_(wt)<l,Gt=et(It?wt:wt>0?wt-h:wt+h,Ft),pr=(Gt[0]-Gt[1])*E,Tr=(Gt[0]+Gt[1])*E;if(It)return[pr,Tr];var ir=lt*E,Cr=pr>0^Tr>0?-1:1;return[Cr*pr-f(Tr)*ir,Cr*Tr-f(pr)*ir]}return et.invert&&(xt.invert=function(wt,Ft){var It=(wt+Ft)*E,Gt=(Ft-wt)*E,pr=_(It)<.5*lt&&_(Gt)<.5*lt;if(!pr){var Tr=lt*E,ir=It>0^Gt>0?-1:1,Cr=-ir*wt+(Gt>0?1:-1)*Tr,Dr=-ir*Ft+(It>0?1:-1)*Tr;It=(-Cr-Dr)*E,Gt=(Cr-Dr)*E}var jr=et.invert(It,Gt);return pr||(jr[0]+=It>0?h:-h),jr}),(0,g.Z)(xt).rotate([-90,-90,45]).clipAngle(179.999)}function mc(){return Oo(hn).scale(176.423)}function xc(){return Oo(Mr).scale(111.48)}function If(et,lt){if(!(0<=(lt=+lt)&&lt<=20))throw new Error("invalid digits");function xt(ir){var Cr=ir.length,Dr=2,jr=new Array(Cr);for(jr[0]=+ir[0].toFixed(lt),jr[1]=+ir[1].toFixed(lt);Dr<Cr;)jr[Dr]=ir[Dr],++Dr;return jr}function wt(ir){return ir.map(xt)}function Ft(ir){for(var Cr=xt(ir[0]),Dr=[Cr],jr=1;jr<ir.length;jr++){var Qr=xt(ir[jr]);(Qr.length>2||Qr[0]!=Cr[0]||Qr[1]!=Cr[1])&&(Dr.push(Qr),Cr=Qr)}return Dr.length===1&&ir.length>1&&Dr.push(xt(ir[ir.length-1])),Dr}function It(ir){return ir.map(Ft)}function Gt(ir){if(ir==null)return ir;var Cr;switch(ir.type){case"GeometryCollection":Cr={type:"GeometryCollection",geometries:ir.geometries.map(Gt)};break;case"Point":Cr={type:"Point",coordinates:xt(ir.coordinates)};break;case"MultiPoint":Cr={type:ir.type,coordinates:wt(ir.coordinates)};break;case"LineString":Cr={type:ir.type,coordinates:Ft(ir.coordinates)};break;case"MultiLineString":case"Polygon":Cr={type:ir.type,coordinates:It(ir.coordinates)};break;case"MultiPolygon":Cr={type:"MultiPolygon",coordinates:ir.coordinates.map(It)};break;default:return ir}return ir.bbox!=null&&(Cr.bbox=ir.bbox),Cr}function pr(ir){var Cr={type:"Feature",properties:ir.properties,geometry:Gt(ir.geometry)};return ir.id!=null&&(Cr.id=ir.id),ir.bbox!=null&&(Cr.bbox=ir.bbox),Cr}if(et!=null)switch(et.type){case"Feature":return pr(et);case"FeatureCollection":{var Tr={type:"FeatureCollection",features:et.features.map(pr)};return et.bbox!=null&&(Tr.bbox=et.bbox),Tr}default:return Gt(et)}return et}function qu(et){var lt=u(et);function xt(wt,Ft){var It=lt?y(wt*lt/2)/lt:wt/2;if(!Ft)return[2*It,-et];var Gt=2*a(It*u(Ft)),pr=1/y(Ft);return[u(Gt)*pr,Ft+(1-A(Gt))*pr-et]}return xt.invert=function(wt,Ft){if(_(Ft+=et)<c)return[lt?2*a(lt*wt/2)/lt:wt,0];var It=wt*wt+Ft*Ft,Gt=0,pr=10,Tr;do{var ir=y(Gt),Cr=1/A(Gt),Dr=It-2*Ft*Gt+Gt*Gt;Gt-=Tr=(ir*Dr+2*(Gt-Ft))/(2+Dr*Cr*Cr+2*(Gt-Ft)*ir)}while(_(Tr)>c&&--pr>0);var jr=wt*(ir=y(Gt)),Qr=y(_(Ft)<_(Gt+1/ir)?L(jr)*.5:m(jr)*.5+h/4)/u(Gt);return[lt?2*a(lt*Qr)/lt:2*Qr,Gt]},xt}function hl(){return at(qu).scale(131.215)}var Vi=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Vi.forEach(function(et){et[1]*=1.0144});function hs(et,lt){var xt=s(18,_(lt)*36/h),wt=p(xt),Ft=xt-wt,It=(Dr=Vi[wt])[0],Gt=Dr[1],pr=(Dr=Vi[++wt])[0],Tr=Dr[1],ir=(Dr=Vi[s(19,++wt)])[0],Cr=Dr[1],Dr;return[et*(pr+Ft*(ir-It)/2+Ft*Ft*(ir-2*pr+It)/2),(lt>0?l:-l)*(Tr+Ft*(Cr-Gt)/2+Ft*Ft*(Cr-2*Tr+Gt)/2)]}hs.invert=function(et,lt){var xt=lt/l,wt=xt*90,Ft=s(18,_(wt/5)),It=r(0,p(Ft));do{var Gt=Vi[It][1],pr=Vi[It+1][1],Tr=Vi[s(19,It+2)][1],ir=Tr-Gt,Cr=Tr-2*pr+Gt,Dr=2*(_(xt)-pr)/ir,jr=Cr/ir,Qr=Dr*(1-jr*Dr*(1-2*jr*Dr));if(Qr>=0||It===1){wt=(lt>=0?5:-5)*(Qr+Ft);var wn=50,Sn;do Ft=s(18,_(wt)/5),It=p(Ft),Qr=Ft-It,Gt=Vi[It][1],pr=Vi[It+1][1],Tr=Vi[s(19,It+2)][1],wt-=(Sn=(lt>=0?l:-l)*(pr+Qr*(Tr-Gt)/2+Qr*Qr*(Tr-2*pr+Gt)/2)-lt)*M;while(_(Sn)>T&&--wn>0);break}}while(--It>=0);var Dn=Vi[It][0],pa=Vi[It+1][0],Ra=Vi[s(19,It+2)][0];return[et/(pa+Qr*(Ra-Dn)/2+Qr*Qr*(Ra-2*pa+Dn)/2),wt*w]};function kf(){return(0,g.Z)(hs).scale(152.63)}function Xc(et){function lt(xt,wt){var Ft=A(wt),It=(et-1)/(et-Ft*A(xt));return[It*Ft*u(xt),It*u(wt)]}return lt.invert=function(xt,wt){var Ft=xt*xt+wt*wt,It=F(Ft),Gt=(et-F(1-Ft*(et+1)/(et-1)))/((et-1)/It+It/(et-1));return[C(xt*Gt,It*F(1-Gt*Gt)),It?L(wt*Gt/It):0]},lt}function Ps(et,lt){var xt=Xc(et);if(!lt)return xt;var wt=A(lt),Ft=u(lt);function It(Gt,pr){var Tr=xt(Gt,pr),ir=Tr[1],Cr=ir*Ft/(et-1)+wt;return[Tr[0]*wt/Cr,ir/Cr]}return It.invert=function(Gt,pr){var Tr=(et-1)/(et-1-pr*Ft);return xt.invert(Tr*Gt,Tr*pr*wt)},It}function ef(){var et=2,lt=0,xt=(0,g.r)(Ps),wt=xt(et,lt);return wt.distance=function(Ft){return arguments.length?xt(et=+Ft,lt):et},wt.tilt=function(Ft){return arguments.length?xt(et,lt=Ft*w):lt*M},wt.scale(432.147).clipAngle(m(1/et)*M-1e-6)}var vs=1e-4,tf=1e4,Xs=-180,_s=Xs+vs,Of=180,iu=Of-vs,fi=-90,vl=fi+vs,Cu=90,Fl=Cu-vs;function Ks(et){return et.length>0}function zf(et){return Math.floor(et*tf)/tf}function Ff(et){return et===fi||et===Cu?[0,et]:[Xs,zf(et)]}function Lu(et){var lt=et[0],xt=et[1],wt=!1;return lt<=_s?(lt=Xs,wt=!0):lt>=iu&&(lt=Of,wt=!0),xt<=vl?(xt=fi,wt=!0):xt>=Fl&&(xt=Cu,wt=!0),wt?[lt,xt]:et}function zo(et){return et.map(Lu)}function bc(et,lt,xt){for(var wt=0,Ft=et.length;wt<Ft;++wt){var It=et[wt].slice();xt.push({index:-1,polygon:lt,ring:It});for(var Gt=0,pr=It.length;Gt<pr;++Gt){var Tr=It[Gt],ir=Tr[0],Cr=Tr[1];if(ir<=_s||ir>=iu||Cr<=vl||Cr>=Fl){It[Gt]=Lu(Tr);for(var Dr=Gt+1;Dr<pr;++Dr){var jr=It[Dr],Qr=jr[0],wn=jr[1];if(Qr>_s&&Qr<iu&&wn>vl&&wn<Fl)break}if(Dr===Gt+1)continue;if(Gt){var Sn={index:-1,polygon:lt,ring:It.slice(0,Gt+1)};Sn.ring[Sn.ring.length-1]=Ff(Cr),xt[xt.length-1]=Sn}else xt.pop();if(Dr>=pr)break;xt.push({index:-1,polygon:lt,ring:It=It.slice(Dr-1)}),It[0]=Ff(It[0][1]),Gt=-1,pr=It.length}}}}function $s(et){var lt,xt=et.length,wt={},Ft={},It,Gt,pr,Tr,ir;for(lt=0;lt<xt;++lt){if(It=et[lt],Gt=It.ring[0],Tr=It.ring[It.ring.length-1],Gt[0]===Tr[0]&&Gt[1]===Tr[1]){It.polygon.push(It.ring),et[lt]=null;continue}It.index=lt,wt[Gt]=Ft[Tr]=It}for(lt=0;lt<xt;++lt)if(It=et[lt],It){if(Gt=It.ring[0],Tr=It.ring[It.ring.length-1],pr=Ft[Gt],ir=wt[Tr],delete wt[Gt],delete Ft[Tr],Gt[0]===Tr[0]&&Gt[1]===Tr[1]){It.polygon.push(It.ring);continue}pr?(delete Ft[Gt],delete wt[pr.ring[0]],pr.ring.pop(),et[pr.index]=null,It={index:-1,polygon:pr.polygon,ring:pr.ring.concat(It.ring)},pr===ir?It.polygon.push(It.ring):(It.index=xt++,et.push(wt[It.ring[0]]=Ft[It.ring[It.ring.length-1]]=It))):ir?(delete wt[Tr],delete Ft[ir.ring[ir.ring.length-1]],It.ring.pop(),It={index:xt++,polygon:ir.polygon,ring:It.ring.concat(ir.ring)},et[ir.index]=null,et.push(wt[It.ring[0]]=Ft[It.ring[It.ring.length-1]]=It)):(It.ring.push(It.ring[0]),It.polygon.push(It.ring))}}function dl(et){var lt={type:"Feature",geometry:Nl(et.geometry)};return et.id!=null&&(lt.id=et.id),et.bbox!=null&&(lt.bbox=et.bbox),et.properties!=null&&(lt.properties=et.properties),lt}function Nl(et){if(et==null)return et;var lt,xt,wt,Ft;switch(et.type){case"GeometryCollection":lt={type:"GeometryCollection",geometries:et.geometries.map(Nl)};break;case"Point":lt={type:"Point",coordinates:Lu(et.coordinates)};break;case"MultiPoint":case"LineString":lt={type:et.type,coordinates:zo(et.coordinates)};break;case"MultiLineString":lt={type:"MultiLineString",coordinates:et.coordinates.map(zo)};break;case"Polygon":{var It=[];bc(et.coordinates,It,xt=[]),$s(xt),lt={type:"Polygon",coordinates:It};break}case"MultiPolygon":{xt=[],wt=-1,Ft=et.coordinates.length;for(var Gt=new Array(Ft);++wt<Ft;)bc(et.coordinates[wt],Gt[wt]=[],xt);$s(xt),lt={type:"MultiPolygon",coordinates:Gt.filter(Ks)};break}default:return et}return et.bbox!=null&&(lt.bbox=et.bbox),lt}function pl(et){if(et==null)return et;switch(et.type){case"Feature":return dl(et);case"FeatureCollection":{var lt={type:"FeatureCollection",features:et.features.map(dl)};return et.bbox!=null&&(lt.bbox=et.bbox),lt}default:return Nl(et)}}function wo(et,lt){var xt=y(lt/2),wt=u(d*xt);return[et*(.74482-.34588*wt*wt),1.70711*xt]}wo.invert=function(et,lt){var xt=lt/1.70711,wt=u(d*xt);return[et/(.74482-.34588*wt*wt),2*a(xt)]};function Go(){return(0,g.Z)(wo).scale(146.153)}function Bl(et,lt,xt){var wt=(0,tu.Z)(lt,xt),Ft=wt(.5),It=(0,ke.Z)([-Ft[0],-Ft[1]])(lt),Gt=wt.distance/2,pr=-L(u(It[1]*w)/u(Gt)),Tr=[-Ft[0],-Ft[1],-(It[0]>0?h-pr:pr)*M],ir=(0,g.Z)(et(Gt)).rotate(Tr),Cr=(0,ke.Z)(Tr),Dr=ir.center;return delete ir.rotate,ir.center=function(jr){return arguments.length?Dr(Cr(jr)):Cr.invert(Dr())},ir.clipAngle(90)}function wc(et){var lt=A(et);function xt(wt,Ft){var It=(0,Ui.M)(wt,Ft);return It[0]*=lt,It}return xt.invert=function(wt,Ft){return Ui.M.invert(wt/lt,Ft)},xt}function ou(){return rf([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function rf(et,lt){return Bl(wc,et,lt)}function Tc(et){if(!(et*=2))return se.N;var lt=-et/2,xt=-lt,wt=et*et,Ft=y(xt),It=.5/u(xt);function Gt(pr,Tr){var ir=m(A(Tr)*A(pr-lt)),Cr=m(A(Tr)*A(pr-xt)),Dr=Tr<0?-1:1;return ir*=ir,Cr*=Cr,[(ir-Cr)/(2*et),Dr*F(4*wt*Cr-(wt-ir+Cr)*(wt-ir+Cr))/(2*et)]}return Gt.invert=function(pr,Tr){var ir=Tr*Tr,Cr=A(F(ir+(jr=pr+lt)*jr)),Dr=A(F(ir+(jr=pr+xt)*jr)),jr,Qr;return[C(Qr=Cr-Dr,jr=(Cr+Dr)*Ft),(Tr<0?-1:1)*m(F(jr*jr+Qr*Qr)*It)]},Gt}function ts(){return Nf([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Nf(et,lt){return Bl(Tc,et,lt)}function Js(et,lt){if(_(lt)<c)return[et,0];var xt=_(lt/l),wt=L(xt);if(_(et)<c||_(_(lt)-l)<c)return[0,f(lt)*h*y(wt/2)];var Ft=A(wt),It=_(h/et-et/h)/2,Gt=It*It,pr=Ft/(xt+Ft-1),Tr=pr*(2/xt-1),ir=Tr*Tr,Cr=ir+Gt,Dr=pr-ir,jr=Gt+pr;return[f(et)*h*(It*Dr+F(Gt*Dr*Dr-Cr*(pr*pr-ir)))/Cr,f(lt)*h*(Tr*jr-It*F((Gt+1)*Cr-jr*jr))/Cr]}Js.invert=function(et,lt){if(_(lt)<c)return[et,0];if(_(et)<c)return[0,l*u(2*a(lt/h))];var xt=(et/=h)*et,wt=(lt/=h)*lt,Ft=xt+wt,It=Ft*Ft,Gt=-_(lt)*(1+Ft),pr=Gt-2*wt+xt,Tr=-2*Gt+1+2*wt+It,ir=wt/Tr+(2*pr*pr*pr/(Tr*Tr*Tr)-9*Gt*pr/(Tr*Tr))/27,Cr=(Gt-pr*pr/(3*Tr))/Tr,Dr=2*F(-Cr/3),jr=m(3*ir/(Cr*Dr))/3;return[h*(Ft-1+F(1+2*(xt-wt)+It))/(2*et),f(lt)*h*(-Dr*A(jr+h/3)-pr/(3*Tr))]};function Ul(){return(0,g.Z)(Js).scale(79.4183)}function Qs(et,lt){if(_(lt)<c)return[et,0];var xt=_(lt/l),wt=L(xt);if(_(et)<c||_(_(lt)-l)<c)return[0,f(lt)*h*y(wt/2)];var Ft=A(wt),It=_(h/et-et/h)/2,Gt=It*It,pr=Ft*(F(1+Gt)-It*Ft)/(1+Gt*xt*xt);return[f(et)*h*pr,f(lt)*h*F(1-pr*(2*It+pr))]}Qs.invert=function(et,lt){if(!et)return[0,l*u(2*a(lt/h))];var xt=_(et/h),wt=(1-xt*xt-(lt/=h)*lt)/(2*xt),Ft=wt*wt,It=F(Ft+1);return[f(et)*h*(It-wt),f(lt)*l*u(2*C(F((1-2*wt*xt)*(wt+It)-xt),F(It+wt+xt)))]};function Kc(){return(0,g.Z)(Qs).scale(79.4183)}function Bf(et,lt){if(_(lt)<c)return[et,0];var xt=lt/l,wt=L(xt);if(_(et)<c||_(_(lt)-l)<c)return[0,h*y(wt/2)];var Ft=(h/et-et/h)/2,It=xt/(1+A(wt));return[h*(f(et)*F(Ft*Ft+1-It*It)-Ft),h*It]}Bf.invert=function(et,lt){if(!lt)return[et,0];var xt=lt/h,wt=(h*h*(1-xt*xt)-et*et)/(2*h*et);return[et?h*(f(et)*F(wt*wt+1)-wt):0,l*u(2*a(xt))]};function nf(){return(0,g.Z)(Bf).scale(79.4183)}function yo(et,lt){if(!lt)return[et,0];var xt=_(lt);if(!et||xt===l)return[0,lt];var wt=xt/l,Ft=wt*wt,It=(8*wt-Ft*(Ft+2)-5)/(2*Ft*(wt-1)),Gt=It*It,pr=wt*It,Tr=Ft+Gt+2*pr,ir=wt+3*It,Cr=et/l,Dr=Cr+1/Cr,jr=f(_(et)-l)*F(Dr*Dr-4),Qr=jr*jr,wn=Tr*(Ft+Gt*Qr-1)+(1-Ft)*(Ft*(ir*ir+4*Gt)+12*pr*Gt+4*Gt*Gt),Sn=(jr*(Tr+Gt-1)+2*F(wn))/(4*Tr+Qr);return[f(et)*l*Sn,f(lt)*l*F(1+jr*_(Sn)-Sn*Sn)]}yo.invert=function(et,lt){var xt;if(!et||!lt)return[et,lt];lt/=h;var wt=f(et)*et/l,Ft=(wt*wt-1+4*lt*lt)/_(wt),It=Ft*Ft,Gt=2*lt,pr=50;do{var Tr=Gt*Gt,ir=(8*Gt-Tr*(Tr+2)-5)/(2*Tr*(Gt-1)),Cr=(3*Gt-Tr*Gt-10)/(2*Tr*Gt),Dr=ir*ir,jr=Gt*ir,Qr=Gt+ir,wn=Qr*Qr,Sn=Gt+3*ir,Dn=wn*(Tr+Dr*It-1)+(1-Tr)*(Tr*(Sn*Sn+4*Dr)+Dr*(12*jr+4*Dr)),pa=-2*Qr*(4*jr*Dr+(1-4*Tr+3*Tr*Tr)*(1+Cr)+Dr*(-6+14*Tr-It+(-8+8*Tr-2*It)*Cr)+jr*(-8+12*Tr+(-10+10*Tr-It)*Cr)),Ra=F(Dn),Ia=Ft*(wn+Dr-1)+2*Ra-wt*(4*wn+It),ka=Ft*(2*ir*Cr+2*Qr*(1+Cr))+pa/Ra-8*Qr*(Ft*(-1+Dr+wn)+2*Ra)*(1+Cr)/(It+4*wn);Gt-=xt=Ia/ka}while(xt>c&&--pr>0);return[f(et)*(F(Ft*Ft+4)+Ft)*h/4,l*Gt]};function Ac(){return(0,g.Z)(yo).scale(127.16)}function ds(et,lt,xt,wt,Ft){function It(Gt,pr){var Tr=xt*u(wt*pr),ir=F(1-Tr*Tr),Cr=F(2/(1+ir*A(Gt*=Ft)));return[et*ir*Cr*u(Gt),lt*Tr*Cr]}return It.invert=function(Gt,pr){var Tr=Gt/et,ir=pr/lt,Cr=F(Tr*Tr+ir*ir),Dr=2*L(Cr/2);return[C(Gt*y(Dr),et*Cr)/Ft,Cr&&L(pr*u(Dr)/(lt*xt*Cr))/wt]},It}function Rs(et,lt,xt,wt){var Ft=h/3;et=r(et,c),lt=r(lt,c),et=s(et,l),lt=s(lt,h-c),xt=r(xt,0),xt=s(xt,100-c),wt=r(wt,c);var It=xt/100+1,Gt=wt/100,pr=m(It*A(Ft))/Ft,Tr=u(et)/u(pr*l),ir=lt/h,Cr=F(Gt*u(et/2)/u(lt/2)),Dr=Cr/F(ir*Tr*pr),jr=1/(Cr*F(ir*Tr*pr));return ds(Dr,jr,Tr,pr,ir)}function af(){var et=65*w,lt=60*w,xt=20,wt=200,Ft=(0,g.r)(Rs),It=Ft(et,lt,xt,wt);return It.poleline=function(Gt){return arguments.length?Ft(et=+Gt*w,lt,xt,wt):et*M},It.parallels=function(Gt){return arguments.length?Ft(et,lt=+Gt*w,xt,wt):lt*M},It.inflation=function(Gt){return arguments.length?Ft(et,lt,xt=+Gt,wt):xt},It.ratio=function(Gt){return arguments.length?Ft(et,lt,xt,wt=+Gt):wt},It.scale(163.775)}function mo(){return af().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var Pu=4*h+3*F(3),Sc=2*F(2*h*F(3)/Pu),Uf=be(Sc*F(3)/h,Sc,Pu/6);function of(){return(0,g.Z)(Uf).scale(176.84)}function yl(et,lt){return[et*F(1-3*lt*lt/(h*h)),lt]}yl.invert=function(et,lt){return[et/F(1-3*lt*lt/(h*h)),lt]};function _u(){return(0,g.Z)(yl).scale(152.63)}function Ru(et,lt){var xt=A(lt),wt=A(et)*xt,Ft=1-wt,It=A(et=C(u(et)*xt,-u(lt))),Gt=u(et);return xt=F(1-wt*wt),[Gt*xt-It*Ft,-It*xt-Gt*Ft]}Ru.invert=function(et,lt){var xt=(et*et+lt*lt)/-2,wt=F(-xt*(2+xt)),Ft=lt*xt+et*wt,It=et*xt-lt*wt,Gt=F(It*It+Ft*Ft);return[C(wt*Ft,Gt*(1+xt)),Gt?-L(wt*It/Gt):0]};function Hf(){return(0,g.Z)(Ru).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function Du(et,lt){var xt=Y(et,lt);return[(xt[0]+et/l)/2,(xt[1]+lt)/2]}Du.invert=function(et,lt){var xt=et,wt=lt,Ft=25;do{var It=A(wt),Gt=u(wt),pr=u(2*wt),Tr=Gt*Gt,ir=It*It,Cr=u(xt),Dr=A(xt/2),jr=u(xt/2),Qr=jr*jr,wn=1-ir*Dr*Dr,Sn=wn?m(It*Dr)*F(Dn=1/wn):Dn=0,Dn,pa=.5*(2*Sn*It*jr+xt/l)-et,Ra=.5*(Sn*Gt+wt)-lt,Ia=.5*Dn*(ir*Qr+Sn*It*Dr*Tr)+.5/l,ka=Dn*(Cr*pr/4-Sn*Gt*jr),Fa=.125*Dn*(pr*jr-Sn*Gt*ir*Cr),si=.5*Dn*(Tr*Dr+Sn*Qr*It)+.5,Ei=ka*Fa-si*Ia,bi=(Ra*ka-pa*si)/Ei,ue=(pa*Fa-Ra*Ia)/Ei;xt-=bi,wt-=ue}while((_(bi)>c||_(ue)>c)&&--Ft>0);return[xt,wt]};function Ec(){return(0,g.Z)(Du).scale(158.837)}},33940:function(G,V,e){e.d(V,{Z:function(){return g}});function g(){return new _}function _(){this.reset()}_.prototype={constructor:_,reset:function(){this.s=this.t=0},add:function(A){C(a,A,this.t),C(this,a.s,this.s),this.s?this.t+=a.t:this.s=a.t},valueOf:function(){return this.s}};var a=new _;function C(A,v,p){var t=A.s=v+p,r=t-v,s=t-r;A.t=v-s+(p-r)}},97860:function(G,V,e){e.d(V,{L9:function(){return A},ZP:function(){return T},gL:function(){return i}});var g=e(33940),_=e(39695),a=e(73182),C=e(72736),A=(0,g.Z)(),v=(0,g.Z)(),p,t,r,s,n,i={point:a.Z,lineStart:a.Z,lineEnd:a.Z,polygonStart:function(){A.reset(),i.lineStart=f,i.lineEnd=u},polygonEnd:function(){var h=+A;v.add(h<0?_.BZ+h:h),this.lineStart=this.lineEnd=this.point=a.Z},sphere:function(){v.add(_.BZ)}};function f(){i.point=y}function u(){c(p,t)}function y(h,l){i.point=c,p=h,t=l,h*=_.uR,l*=_.uR,r=h,s=(0,_.mC)(l=l/2+_.pu),n=(0,_.O$)(l)}function c(h,l){h*=_.uR,l*=_.uR,l=l/2+_.pu;var d=h-r,E=d>=0?1:-1,S=E*d,P=(0,_.mC)(l),x=(0,_.O$)(l),M=n*x,w=s*P+M*(0,_.mC)(S),o=M*E*(0,_.O$)(S);A.add((0,_.fv)(o,w)),r=h,s=P,n=x}function T(h){return v.reset(),(0,C.Z)(h,i),v*2}},77338:function(G,V,e){e.d(V,{Z:function(){return L}});var g=e(33940),_=e(97860),a=e(7620),C=e(39695),A=e(72736),v,p,t,r,s,n,i,f,u=(0,g.Z)(),y,c,T={point:h,lineStart:d,lineEnd:E,polygonStart:function(){T.point=S,T.lineStart=P,T.lineEnd=x,u.reset(),_.gL.polygonStart()},polygonEnd:function(){_.gL.polygonEnd(),T.point=h,T.lineStart=d,T.lineEnd=E,_.L9<0?(v=-(t=180),p=-(r=90)):u>C.Ho?r=90:u<-C.Ho&&(p=-90),c[0]=v,c[1]=t},sphere:function(){v=-(t=180),p=-(r=90)}};function h(m,F){y.push(c=[v=m,t=m]),F<p&&(p=F),F>r&&(r=F)}function l(m,F){var I=(0,a.Og)([m*C.uR,F*C.uR]);if(f){var U=(0,a.T5)(f,I),z=[U[1],-U[0],0],N=(0,a.T5)(z,U);(0,a.iJ)(N),N=(0,a.Y1)(N);var B=m-s,O=B>0?1:-1,H=N[0]*C.RW*O,Y,J=(0,C.Wn)(B)>180;J^(O*s<H&&H<O*m)?(Y=N[1]*C.RW,Y>r&&(r=Y)):(H=(H+360)%360-180,J^(O*s<H&&H<O*m)?(Y=-N[1]*C.RW,Y<p&&(p=Y)):(F<p&&(p=F),F>r&&(r=F))),J?m<s?M(v,m)>M(v,t)&&(t=m):M(m,t)>M(v,t)&&(v=m):t>=v?(m<v&&(v=m),m>t&&(t=m)):m>s?M(v,m)>M(v,t)&&(t=m):M(m,t)>M(v,t)&&(v=m)}else y.push(c=[v=m,t=m]);F<p&&(p=F),F>r&&(r=F),f=I,s=m}function d(){T.point=l}function E(){c[0]=v,c[1]=t,T.point=h,f=null}function S(m,F){if(f){var I=m-s;u.add((0,C.Wn)(I)>180?I+(I>0?360:-360):I)}else n=m,i=F;_.gL.point(m,F),l(m,F)}function P(){_.gL.lineStart()}function x(){S(n,i),_.gL.lineEnd(),(0,C.Wn)(u)>C.Ho&&(v=-(t=180)),c[0]=v,c[1]=t,f=null}function M(m,F){return(F-=m)<0?F+360:F}function w(m,F){return m[0]-F[0]}function o(m,F){return m[0]<=m[1]?m[0]<=F&&F<=m[1]:F<m[0]||m[1]<F}function L(m){var F,I,U,z,N,B,O;if(r=t=-(v=p=1/0),y=[],(0,A.Z)(m,T),I=y.length){for(y.sort(w),F=1,U=y[0],N=[U];F<I;++F)z=y[F],o(U,z[0])||o(U,z[1])?(M(U[0],z[1])>M(U[0],U[1])&&(U[1]=z[1]),M(z[0],U[1])>M(U[0],U[1])&&(U[0]=z[0])):N.push(U=z);for(B=-1/0,I=N.length-1,F=0,U=N[I];F<=I;U=z,++F)z=N[F],(O=M(U[1],z[0]))>B&&(B=O,v=z[0],t=U[1])}return y=c=null,v===1/0||p===1/0?[[NaN,NaN],[NaN,NaN]]:[[v,p],[t,r]]}},7620:function(G,V,e){e.d(V,{Og:function(){return a},T:function(){return p},T5:function(){return A},Y1:function(){return _},iJ:function(){return t},j9:function(){return C},s0:function(){return v}});var g=e(39695);function _(r){return[(0,g.fv)(r[1],r[0]),(0,g.ZR)(r[2])]}function a(r){var s=r[0],n=r[1],i=(0,g.mC)(n);return[i*(0,g.mC)(s),i*(0,g.O$)(s),(0,g.O$)(n)]}function C(r,s){return r[0]*s[0]+r[1]*s[1]+r[2]*s[2]}function A(r,s){return[r[1]*s[2]-r[2]*s[1],r[2]*s[0]-r[0]*s[2],r[0]*s[1]-r[1]*s[0]]}function v(r,s){r[0]+=s[0],r[1]+=s[1],r[2]+=s[2]}function p(r,s){return[r[0]*s,r[1]*s,r[2]*s]}function t(r){var s=(0,g._b)(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);r[0]/=s,r[1]/=s,r[2]/=s}},66624:function(G,V,e){e.d(V,{Z:function(){return I}});var g=e(39695),_=e(73182),a=e(72736),C,A,v,p,t,r,s,n,i,f,u,y,c,T,h,l,d={sphere:_.Z,point:E,lineStart:P,lineEnd:w,polygonStart:function(){d.lineStart=o,d.lineEnd=L},polygonEnd:function(){d.lineStart=P,d.lineEnd=w}};function E(U,z){U*=g.uR,z*=g.uR;var N=(0,g.mC)(z);S(N*(0,g.mC)(U),N*(0,g.O$)(U),(0,g.O$)(z))}function S(U,z,N){++C,v+=(U-v)/C,p+=(z-p)/C,t+=(N-t)/C}function P(){d.point=x}function x(U,z){U*=g.uR,z*=g.uR;var N=(0,g.mC)(z);T=N*(0,g.mC)(U),h=N*(0,g.O$)(U),l=(0,g.O$)(z),d.point=M,S(T,h,l)}function M(U,z){U*=g.uR,z*=g.uR;var N=(0,g.mC)(z),B=N*(0,g.mC)(U),O=N*(0,g.O$)(U),H=(0,g.O$)(z),Y=(0,g.fv)((0,g._b)((Y=h*H-l*O)*Y+(Y=l*B-T*H)*Y+(Y=T*O-h*B)*Y),T*B+h*O+l*H);A+=Y,r+=Y*(T+(T=B)),s+=Y*(h+(h=O)),n+=Y*(l+(l=H)),S(T,h,l)}function w(){d.point=E}function o(){d.point=m}function L(){F(y,c),d.point=E}function m(U,z){y=U,c=z,U*=g.uR,z*=g.uR,d.point=F;var N=(0,g.mC)(z);T=N*(0,g.mC)(U),h=N*(0,g.O$)(U),l=(0,g.O$)(z),S(T,h,l)}function F(U,z){U*=g.uR,z*=g.uR;var N=(0,g.mC)(z),B=N*(0,g.mC)(U),O=N*(0,g.O$)(U),H=(0,g.O$)(z),Y=h*H-l*O,J=l*B-T*H,re=T*O-h*B,ie=(0,g._b)(Y*Y+J*J+re*re),ce=(0,g.ZR)(ie),Q=ie&&-ce/ie;i+=Q*Y,f+=Q*J,u+=Q*re,A+=ce,r+=ce*(T+(T=B)),s+=ce*(h+(h=O)),n+=ce*(l+(l=H)),S(T,h,l)}function I(U){C=A=v=p=t=r=s=n=i=f=u=0,(0,a.Z)(U,d);var z=i,N=f,B=u,O=z*z+N*N+B*B;return O<g.aW&&(z=r,N=s,B=n,A<g.Ho&&(z=v,N=p,B=t),O=z*z+N*N+B*B,O<g.aW)?[NaN,NaN]:[(0,g.fv)(N,z)*g.RW,(0,g.ZR)(B/(0,g._b)(O))*g.RW]}},7613:function(G,V,e){e.d(V,{m:function(){return A},Z:function(){return p}});var g=e(7620);function _(t){return function(){return t}}var a=e(39695),C=e(49386);function A(t,r,s,n,i,f){if(s){var u=(0,a.mC)(r),y=(0,a.O$)(r),c=n*s;i==null?(i=r+n*a.BZ,f=r-c/2):(i=v(u,i),f=v(u,f),(n>0?i<f:i>f)&&(i+=n*a.BZ));for(var T,h=i;n>0?h>f:h<f;h-=c)T=(0,g.Y1)([u,-y*(0,a.mC)(h),-y*(0,a.O$)(h)]),t.point(T[0],T[1])}}function v(t,r){r=(0,g.Og)(r),r[0]-=t,(0,g.iJ)(r);var s=(0,a.Kh)(-r[1]);return((-r[2]<0?-s:s)+a.BZ-a.Ho)%a.BZ}function p(){var t=_([0,0]),r=_(90),s=_(6),n,i,f={point:u};function u(c,T){n.push(c=i(c,T)),c[0]*=a.RW,c[1]*=a.RW}function y(){var c=t.apply(this,arguments),T=r.apply(this,arguments)*a.uR,h=s.apply(this,arguments)*a.uR;return n=[],i=(0,C.I)(-c[0]*a.uR,-c[1]*a.uR,0).invert,A(f,T,h,1),c={type:"Polygon",coordinates:[n]},n=i=null,c}return y.center=function(c){return arguments.length?(t=typeof c=="function"?c:_([+c[0],+c[1]]),y):t},y.radius=function(c){return arguments.length?(r=typeof c=="function"?c:_(+c),y):r},y.precision=function(c){return arguments.length?(s=typeof c=="function"?c:_(+c),y):s},y}},87070:function(G,V,e){var g=e(97023),_=e(39695);V.Z=(0,g.Z)(function(){return!0},a,A,[-_.pi,-_.ou]);function a(v){var p=NaN,t=NaN,r=NaN,s;return{lineStart:function(){v.lineStart(),s=1},point:function(n,i){var f=n>0?_.pi:-_.pi,u=(0,_.Wn)(n-p);(0,_.Wn)(u-_.pi)<_.Ho?(v.point(p,t=(t+i)/2>0?_.ou:-_.ou),v.point(r,t),v.lineEnd(),v.lineStart(),v.point(f,t),v.point(n,t),s=0):r!==f&&u>=_.pi&&((0,_.Wn)(p-r)<_.Ho&&(p-=r*_.Ho),(0,_.Wn)(n-f)<_.Ho&&(n-=f*_.Ho),t=C(p,t,n,i),v.point(r,t),v.lineEnd(),v.lineStart(),v.point(f,t),s=0),v.point(p=n,t=i),r=f},lineEnd:function(){v.lineEnd(),p=t=NaN},clean:function(){return 2-s}}}function C(v,p,t,r){var s,n,i=(0,_.O$)(v-t);return(0,_.Wn)(i)>_.Ho?(0,_.z4)(((0,_.O$)(p)*(n=(0,_.mC)(r))*(0,_.O$)(t)-(0,_.O$)(r)*(s=(0,_.mC)(p))*(0,_.O$)(v))/(s*n*i)):(p+r)/2}function A(v,p,t,r){var s;if(v==null)s=t*_.ou,r.point(-_.pi,s),r.point(0,s),r.point(_.pi,s),r.point(_.pi,0),r.point(_.pi,-s),r.point(0,-s),r.point(-_.pi,-s),r.point(-_.pi,0),r.point(-_.pi,s);else if((0,_.Wn)(v[0]-p[0])>_.Ho){var n=v[0]<p[0]?_.pi:-_.pi;s=t*n/2,r.point(-n,s),r.point(0,s),r.point(n,s)}else r.point(p[0],p[1])}},85272:function(G,V,e){e.d(V,{Z:function(){return _}});var g=e(73182);function _(){var a=[],C;return{point:function(A,v,p){C.push([A,v,p])},lineStart:function(){a.push(C=[])},lineEnd:g.Z,rejoin:function(){a.length>1&&a.push(a.pop().concat(a.shift()))},result:function(){var A=a;return a=[],C=null,A}}}},1457:function(G,V,e){e.d(V,{Z:function(){return v}});var g=e(7620),_=e(7613),a=e(39695),C=e(67108),A=e(97023);function v(p){var t=(0,a.mC)(p),r=6*a.uR,s=t>0,n=(0,a.Wn)(t)>a.Ho;function i(T,h,l,d){(0,_.m)(d,p,r,l,T,h)}function f(T,h){return(0,a.mC)(T)*(0,a.mC)(h)>t}function u(T){var h,l,d,E,S;return{lineStart:function(){E=d=!1,S=1},point:function(P,x){var M=[P,x],w,o=f(P,x),L=s?o?0:c(P,x):o?c(P+(P<0?a.pi:-a.pi),x):0;if(!h&&(E=d=o)&&T.lineStart(),o!==d&&(w=y(h,M),(!w||(0,C.Z)(h,w)||(0,C.Z)(M,w))&&(M[2]=1)),o!==d)S=0,o?(T.lineStart(),w=y(M,h),T.point(w[0],w[1])):(w=y(h,M),T.point(w[0],w[1],2),T.lineEnd()),h=w;else if(n&&h&&s^o){var m;!(L&l)&&(m=y(M,h,!0))&&(S=0,s?(T.lineStart(),T.point(m[0][0],m[0][1]),T.point(m[1][0],m[1][1]),T.lineEnd()):(T.point(m[1][0],m[1][1]),T.lineEnd(),T.lineStart(),T.point(m[0][0],m[0][1],3)))}o&&(!h||!(0,C.Z)(h,M))&&T.point(M[0],M[1]),h=M,d=o,l=L},lineEnd:function(){d&&T.lineEnd(),h=null},clean:function(){return S|(E&&d)<<1}}}function y(T,h,l){var d=(0,g.Og)(T),E=(0,g.Og)(h),S=[1,0,0],P=(0,g.T5)(d,E),x=(0,g.j9)(P,P),M=P[0],w=x-M*M;if(!w)return!l&&T;var o=t*x/w,L=-t*M/w,m=(0,g.T5)(S,P),F=(0,g.T)(S,o),I=(0,g.T)(P,L);(0,g.s0)(F,I);var U=m,z=(0,g.j9)(F,U),N=(0,g.j9)(U,U),B=z*z-N*((0,g.j9)(F,F)-1);if(!(B<0)){var O=(0,a._b)(B),H=(0,g.T)(U,(-z-O)/N);if((0,g.s0)(H,F),H=(0,g.Y1)(H),!l)return H;var Y=T[0],J=h[0],re=T[1],ie=h[1],ce;J<Y&&(ce=Y,Y=J,J=ce);var Q=J-Y,j=(0,a.Wn)(Q-a.pi)<a.Ho,Z=j||Q<a.Ho;if(!j&&ie<re&&(ce=re,re=ie,ie=ce),Z?j?re+ie>0^H[1]<((0,a.Wn)(H[0]-Y)<a.Ho?re:ie):re<=H[1]&&H[1]<=ie:Q>a.pi^(Y<=H[0]&&H[0]<=J)){var $=(0,g.T)(U,(-z+O)/N);return(0,g.s0)($,F),[H,(0,g.Y1)($)]}}}function c(T,h){var l=s?p:a.pi-p,d=0;return T<-l?d|=1:T>l&&(d|=2),h<-l?d|=4:h>l&&(d|=8),d}return(0,A.Z)(f,u,i,s?[0,-p]:[-a.pi,p-a.pi])}},97023:function(G,V,e){e.d(V,{Z:function(){return v}});var g=e(85272),_=e(46225),a=e(39695),C=e(23071),A=e(33064);function v(r,s,n,i){return function(f){var u=s(f),y=(0,g.Z)(),c=s(y),T=!1,h,l,d,E={point:S,lineStart:x,lineEnd:M,polygonStart:function(){E.point=w,E.lineStart=o,E.lineEnd=L,l=[],h=[]},polygonEnd:function(){E.point=S,E.lineStart=x,E.lineEnd=M,l=(0,A.TS)(l);var m=(0,C.Z)(h,i);l.length?(T||(f.polygonStart(),T=!0),(0,_.Z)(l,t,m,n,f)):m&&(T||(f.polygonStart(),T=!0),f.lineStart(),n(null,null,1,f),f.lineEnd()),T&&(f.polygonEnd(),T=!1),l=h=null},sphere:function(){f.polygonStart(),f.lineStart(),n(null,null,1,f),f.lineEnd(),f.polygonEnd()}};function S(m,F){r(m,F)&&f.point(m,F)}function P(m,F){u.point(m,F)}function x(){E.point=P,u.lineStart()}function M(){E.point=S,u.lineEnd()}function w(m,F){d.push([m,F]),c.point(m,F)}function o(){c.lineStart(),d=[]}function L(){w(d[0][0],d[0][1]),c.lineEnd();var m=c.clean(),F=y.result(),I,U=F.length,z,N,B;if(d.pop(),h.push(d),d=null,!!U){if(m&1){if(N=F[0],(z=N.length-1)>0){for(T||(f.polygonStart(),T=!0),f.lineStart(),I=0;I<z;++I)f.point((B=N[I])[0],B[1]);f.lineEnd()}return}U>1&&m&2&&F.push(F.pop().concat(F.shift())),l.push(F.filter(p))}}return E}}function p(r){return r.length>1}function t(r,s){return((r=r.x)[0]<0?r[1]-a.ou-a.Ho:a.ou-r[1])-((s=s.x)[0]<0?s[1]-a.ou-a.Ho:a.ou-s[1])}},87605:function(G,V,e){e.d(V,{Z:function(){return t}});var g=e(39695),_=e(85272);function a(r,s,n,i,f,u){var y=r[0],c=r[1],T=s[0],h=s[1],l=0,d=1,E=T-y,S=h-c,P;if(P=n-y,!(!E&&P>0)){if(P/=E,E<0){if(P<l)return;P<d&&(d=P)}else if(E>0){if(P>d)return;P>l&&(l=P)}if(P=f-y,!(!E&&P<0)){if(P/=E,E<0){if(P>d)return;P>l&&(l=P)}else if(E>0){if(P<l)return;P<d&&(d=P)}if(P=i-c,!(!S&&P>0)){if(P/=S,S<0){if(P<l)return;P<d&&(d=P)}else if(S>0){if(P>d)return;P>l&&(l=P)}if(P=u-c,!(!S&&P<0)){if(P/=S,S<0){if(P>d)return;P>l&&(l=P)}else if(S>0){if(P<l)return;P<d&&(d=P)}return l>0&&(r[0]=y+l*E,r[1]=c+l*S),d<1&&(s[0]=y+d*E,s[1]=c+d*S),!0}}}}}var C=e(46225),A=e(33064),v=1e9,p=-v;function t(r,s,n,i){function f(h,l){return r<=h&&h<=n&&s<=l&&l<=i}function u(h,l,d,E){var S=0,P=0;if(h==null||(S=y(h,d))!==(P=y(l,d))||T(h,l)<0^d>0)do E.point(S===0||S===3?r:n,S>1?i:s);while((S=(S+d+4)%4)!==P);else E.point(l[0],l[1])}function y(h,l){return(0,g.Wn)(h[0]-r)<g.Ho?l>0?0:3:(0,g.Wn)(h[0]-n)<g.Ho?l>0?2:1:(0,g.Wn)(h[1]-s)<g.Ho?l>0?1:0:l>0?3:2}function c(h,l){return T(h.x,l.x)}function T(h,l){var d=y(h,1),E=y(l,1);return d!==E?d-E:d===0?l[1]-h[1]:d===1?h[0]-l[0]:d===2?h[1]-l[1]:l[0]-h[0]}return function(h){var l=h,d=(0,_.Z)(),E,S,P,x,M,w,o,L,m,F,I,U={point:z,lineStart:H,lineEnd:Y,polygonStart:B,polygonEnd:O};function z(re,ie){f(re,ie)&&l.point(re,ie)}function N(){for(var re=0,ie=0,ce=S.length;ie<ce;++ie)for(var Q=S[ie],j=1,Z=Q.length,$=Q[0],te,se,ee=$[0],q=$[1];j<Z;++j)te=ee,se=q,$=Q[j],ee=$[0],q=$[1],se<=i?q>i&&(ee-te)*(i-se)>(q-se)*(r-te)&&++re:q<=i&&(ee-te)*(i-se)<(q-se)*(r-te)&&--re;return re}function B(){l=d,E=[],S=[],I=!0}function O(){var re=N(),ie=I&&re,ce=(E=(0,A.TS)(E)).length;(ie||ce)&&(h.polygonStart(),ie&&(h.lineStart(),u(null,null,1,h),h.lineEnd()),ce&&(0,C.Z)(E,c,re,u,h),h.polygonEnd()),l=h,E=S=P=null}function H(){U.point=J,S&&S.push(P=[]),F=!0,m=!1,o=L=NaN}function Y(){E&&(J(x,M),w&&m&&d.rejoin(),E.push(d.result())),U.point=z,m&&l.lineEnd()}function J(re,ie){var ce=f(re,ie);if(S&&P.push([re,ie]),F)x=re,M=ie,w=ce,F=!1,ce&&(l.lineStart(),l.point(re,ie));else if(ce&&m)l.point(re,ie);else{var Q=[o=Math.max(p,Math.min(v,o)),L=Math.max(p,Math.min(v,L))],j=[re=Math.max(p,Math.min(v,re)),ie=Math.max(p,Math.min(v,ie))];a(Q,j,r,s,n,i)?(m||(l.lineStart(),l.point(Q[0],Q[1])),l.point(j[0],j[1]),ce||l.lineEnd(),I=!1):ce&&(l.lineStart(),l.point(re,ie),I=!1)}o=re,L=ie,m=ce}return U}}},46225:function(G,V,e){e.d(V,{Z:function(){return C}});var g=e(67108),_=e(39695);function a(v,p,t,r){this.x=v,this.z=p,this.o=t,this.e=r,this.v=!1,this.n=this.p=null}function C(v,p,t,r,s){var n=[],i=[],f,u;if(v.forEach(function(d){if(!((E=d.length-1)<=0)){var E,S=d[0],P=d[E],x;if((0,g.Z)(S,P)){if(!S[2]&&!P[2]){for(s.lineStart(),f=0;f<E;++f)s.point((S=d[f])[0],S[1]);s.lineEnd();return}P[0]+=2*_.Ho}n.push(x=new a(S,d,null,!0)),i.push(x.o=new a(S,null,x,!1)),n.push(x=new a(P,d,null,!1)),i.push(x.o=new a(P,null,x,!0))}}),!!n.length){for(i.sort(p),A(n),A(i),f=0,u=i.length;f<u;++f)i[f].e=t=!t;for(var y=n[0],c,T;;){for(var h=y,l=!0;h.v;)if((h=h.n)===y)return;c=h.z,s.lineStart();do{if(h.v=h.o.v=!0,h.e){if(l)for(f=0,u=c.length;f<u;++f)s.point((T=c[f])[0],T[1]);else r(h.x,h.n.x,1,s);h=h.n}else{if(l)for(c=h.p.z,f=c.length-1;f>=0;--f)s.point((T=c[f])[0],T[1]);else r(h.x,h.p.x,-1,s);h=h.p}h=h.o,c=h.z,l=!l}while(!h.v);s.lineEnd()}}}function A(v){if(p=v.length){for(var p,t=0,r=v[0],s;++t<p;)r.n=s=v[t],s.p=r,r=s;r.n=s=v[0],s.p=r}}},96059:function(G,V,e){e.d(V,{Z:function(){return g}});function g(_,a){function C(A,v){return A=_(A,v),a(A[0],A[1])}return _.invert&&a.invert&&(C.invert=function(A,v){return A=a.invert(A,v),A&&_.invert(A[0],A[1])}),C}},8593:function(G,V,e){e.d(V,{Z:function(){return g}});function g(_){return _}},27362:function(G,V,e){e.r(V),e.d(V,{geoAlbers:function(){return mr},geoAlbersUsa:function(){return ht},geoArea:function(){return g.ZP},geoAzimuthalEqualArea:function(){return Tt.Z},geoAzimuthalEqualAreaRaw:function(){return Tt.l},geoAzimuthalEquidistant:function(){return Pt.Z},geoAzimuthalEquidistantRaw:function(){return Pt.N},geoBounds:function(){return _.Z},geoCentroid:function(){return a.Z},geoCircle:function(){return C.Z},geoClipAntimeridian:function(){return A.Z},geoClipCircle:function(){return v.Z},geoClipExtent:function(){return t},geoClipRectangle:function(){return p.Z},geoConicConformal:function(){return cr},geoConicConformalRaw:function(){return hr},geoConicEqualArea:function(){return er},geoConicEqualAreaRaw:function(){return $t},geoConicEquidistant:function(){return Ke},geoConicEquidistantRaw:function(){return Xe},geoContains:function(){return B},geoDistance:function(){return w},geoEqualEarth:function(){return gr},geoEqualEarthRaw:function(){return Ht},geoEquirectangular:function(){return lr.Z},geoEquirectangularRaw:function(){return lr.k},geoGnomonic:function(){return br.Z},geoGnomonicRaw:function(){return br.M},geoGraticule:function(){return J},geoGraticule10:function(){return re},geoIdentity:function(){return dr},geoInterpolate:function(){return ie.Z},geoLength:function(){return P},geoMercator:function(){return Vt},geoMercatorRaw:function(){return Dt},geoNaturalEarth1:function(){return Wr.Z},geoNaturalEarth1Raw:function(){return Wr.K},geoOrthographic:function(){return Br.Z},geoOrthographicRaw:function(){return Br.I},geoPath:function(){return Nt},geoProjection:function(){return Kt.Z},geoProjectionMutator:function(){return Kt.r},geoRotation:function(){return zt.Z},geoStereographic:function(){return rn},geoStereographicRaw:function(){return yn},geoStream:function(){return f.Z},geoTransform:function(){return xr.Z},geoTransverseMercator:function(){return bn},geoTransverseMercatorRaw:function(){return Un}});var g=e(97860),_=e(77338),a=e(66624),C=e(7613),A=e(87070),v=e(1457),p=e(87605);function t(){var Lr=0,Pr=0,Yr=960,Hr=500,en,cn,hn;return hn={stream:function(Pn){return en&&cn===Pn?en:en=(0,p.Z)(Lr,Pr,Yr,Hr)(cn=Pn)},extent:function(Pn){return arguments.length?(Lr=+Pn[0][0],Pr=+Pn[0][1],Yr=+Pn[1][0],Hr=+Pn[1][1],en=cn=null,hn):[[Lr,Pr],[Yr,Hr]]}}}var r=e(23071),s=e(33940),n=e(39695),i=e(73182),f=e(72736),u=(0,s.Z)(),y,c,T,h={sphere:i.Z,point:i.Z,lineStart:l,lineEnd:i.Z,polygonStart:i.Z,polygonEnd:i.Z};function l(){h.point=E,h.lineEnd=d}function d(){h.point=h.lineEnd=i.Z}function E(Lr,Pr){Lr*=n.uR,Pr*=n.uR,y=Lr,c=(0,n.O$)(Pr),T=(0,n.mC)(Pr),h.point=S}function S(Lr,Pr){Lr*=n.uR,Pr*=n.uR;var Yr=(0,n.O$)(Pr),Hr=(0,n.mC)(Pr),en=(0,n.Wn)(Lr-y),cn=(0,n.mC)(en),hn=(0,n.O$)(en),Pn=Hr*hn,kn=T*Yr-c*Hr*cn,sa=c*Yr+T*Hr*cn;u.add((0,n.fv)((0,n._b)(Pn*Pn+kn*kn),sa)),y=Lr,c=Yr,T=Hr}function P(Lr){return u.reset(),(0,f.Z)(Lr,h),+u}var x=[null,null],M={type:"LineString",coordinates:x};function w(Lr,Pr){return x[0]=Lr,x[1]=Pr,P(M)}var o={Feature:function(Lr,Pr){return m(Lr.geometry,Pr)},FeatureCollection:function(Lr,Pr){for(var Yr=Lr.features,Hr=-1,en=Yr.length;++Hr<en;)if(m(Yr[Hr].geometry,Pr))return!0;return!1}},L={Sphere:function(){return!0},Point:function(Lr,Pr){return F(Lr.coordinates,Pr)},MultiPoint:function(Lr,Pr){for(var Yr=Lr.coordinates,Hr=-1,en=Yr.length;++Hr<en;)if(F(Yr[Hr],Pr))return!0;return!1},LineString:function(Lr,Pr){return I(Lr.coordinates,Pr)},MultiLineString:function(Lr,Pr){for(var Yr=Lr.coordinates,Hr=-1,en=Yr.length;++Hr<en;)if(I(Yr[Hr],Pr))return!0;return!1},Polygon:function(Lr,Pr){return U(Lr.coordinates,Pr)},MultiPolygon:function(Lr,Pr){for(var Yr=Lr.coordinates,Hr=-1,en=Yr.length;++Hr<en;)if(U(Yr[Hr],Pr))return!0;return!1},GeometryCollection:function(Lr,Pr){for(var Yr=Lr.geometries,Hr=-1,en=Yr.length;++Hr<en;)if(m(Yr[Hr],Pr))return!0;return!1}};function m(Lr,Pr){return Lr&&L.hasOwnProperty(Lr.type)?L[Lr.type](Lr,Pr):!1}function F(Lr,Pr){return w(Lr,Pr)===0}function I(Lr,Pr){for(var Yr,Hr,en,cn=0,hn=Lr.length;cn<hn;cn++){if(Hr=w(Lr[cn],Pr),Hr===0||cn>0&&(en=w(Lr[cn],Lr[cn-1]),en>0&&Yr<=en&&Hr<=en&&(Yr+Hr-en)*(1-Math.pow((Yr-Hr)/en,2))<n.aW*en))return!0;Yr=Hr}return!1}function U(Lr,Pr){return!!(0,r.Z)(Lr.map(z),N(Pr))}function z(Lr){return Lr=Lr.map(N),Lr.pop(),Lr}function N(Lr){return[Lr[0]*n.uR,Lr[1]*n.uR]}function B(Lr,Pr){return(Lr&&o.hasOwnProperty(Lr.type)?o[Lr.type]:m)(Lr,Pr)}var O=e(33064);function H(Lr,Pr,Yr){var Hr=(0,O.w6)(Lr,Pr-n.Ho,Yr).concat(Pr);return function(en){return Hr.map(function(cn){return[en,cn]})}}function Y(Lr,Pr,Yr){var Hr=(0,O.w6)(Lr,Pr-n.Ho,Yr).concat(Pr);return function(en){return Hr.map(function(cn){return[cn,en]})}}function J(){var Lr,Pr,Yr,Hr,en,cn,hn,Pn,kn=10,sa=kn,Xn=90,ea=360,Zn,Qn,Mr,on,nn=2.5;function mn(){return{type:"MultiLineString",coordinates:Gn()}}function Gn(){return(0,O.w6)((0,n.mD)(Hr/Xn)*Xn,Yr,Xn).map(Mr).concat((0,O.w6)((0,n.mD)(Pn/ea)*ea,hn,ea).map(on)).concat((0,O.w6)((0,n.mD)(Pr/kn)*kn,Lr,kn).filter(function(Mn){return(0,n.Wn)(Mn%Xn)>n.Ho}).map(Zn)).concat((0,O.w6)((0,n.mD)(cn/sa)*sa,en,sa).filter(function(Mn){return(0,n.Wn)(Mn%ea)>n.Ho}).map(Qn))}return mn.lines=function(){return Gn().map(function(Mn){return{type:"LineString",coordinates:Mn}})},mn.outline=function(){return{type:"Polygon",coordinates:[Mr(Hr).concat(on(hn).slice(1),Mr(Yr).reverse().slice(1),on(Pn).reverse().slice(1))]}},mn.extent=function(Mn){return arguments.length?mn.extentMajor(Mn).extentMinor(Mn):mn.extentMinor()},mn.extentMajor=function(Mn){return arguments.length?(Hr=+Mn[0][0],Yr=+Mn[1][0],Pn=+Mn[0][1],hn=+Mn[1][1],Hr>Yr&&(Mn=Hr,Hr=Yr,Yr=Mn),Pn>hn&&(Mn=Pn,Pn=hn,hn=Mn),mn.precision(nn)):[[Hr,Pn],[Yr,hn]]},mn.extentMinor=function(Mn){return arguments.length?(Pr=+Mn[0][0],Lr=+Mn[1][0],cn=+Mn[0][1],en=+Mn[1][1],Pr>Lr&&(Mn=Pr,Pr=Lr,Lr=Mn),cn>en&&(Mn=cn,cn=en,en=Mn),mn.precision(nn)):[[Pr,cn],[Lr,en]]},mn.step=function(Mn){return arguments.length?mn.stepMajor(Mn).stepMinor(Mn):mn.stepMinor()},mn.stepMajor=function(Mn){return arguments.length?(Xn=+Mn[0],ea=+Mn[1],mn):[Xn,ea]},mn.stepMinor=function(Mn){return arguments.length?(kn=+Mn[0],sa=+Mn[1],mn):[kn,sa]},mn.precision=function(Mn){return arguments.length?(nn=+Mn,Zn=H(cn,en,90),Qn=Y(Pr,Lr,nn),Mr=H(Pn,hn,90),on=Y(Hr,Yr,nn),mn):nn},mn.extentMajor([[-180,-90+n.Ho],[180,90-n.Ho]]).extentMinor([[-180,-80-n.Ho],[180,80+n.Ho]])}function re(){return J()()}var ie=e(83074),ce=e(8593),Q=(0,s.Z)(),j=(0,s.Z)(),Z,$,te,se,ee={point:i.Z,lineStart:i.Z,lineEnd:i.Z,polygonStart:function(){ee.lineStart=q,ee.lineEnd=he},polygonEnd:function(){ee.lineStart=ee.lineEnd=ee.point=i.Z,Q.add((0,n.Wn)(j)),j.reset()},result:function(){var Lr=Q/2;return Q.reset(),Lr}};function q(){ee.point=le}function le(Lr,Pr){ee.point=oe,Z=te=Lr,$=se=Pr}function oe(Lr,Pr){j.add(se*Lr-te*Pr),te=Lr,se=Pr}function he(){oe(Z,$)}var me=ee,Ce=e(3559),Ae=0,Ue=0,Ve=0,Pe=0,be=0,Le=0,We=0,je=0,Fe=0,Ze,ut,at,it,$e={point:st,lineStart:ct,lineEnd:Mt,polygonStart:function(){$e.lineStart=Bt,$e.lineEnd=Qe},polygonEnd:function(){$e.point=st,$e.lineStart=ct,$e.lineEnd=Mt},result:function(){var Lr=Fe?[We/Fe,je/Fe]:Le?[Pe/Le,be/Le]:Ve?[Ae/Ve,Ue/Ve]:[NaN,NaN];return Ae=Ue=Ve=Pe=be=Le=We=je=Fe=0,Lr}};function st(Lr,Pr){Ae+=Lr,Ue+=Pr,++Ve}function ct(){$e.point=vt}function vt(Lr,Pr){$e.point=St,st(at=Lr,it=Pr)}function St(Lr,Pr){var Yr=Lr-at,Hr=Pr-it,en=(0,n._b)(Yr*Yr+Hr*Hr);Pe+=en*(at+Lr)/2,be+=en*(it+Pr)/2,Le+=en,st(at=Lr,it=Pr)}function Mt(){$e.point=st}function Bt(){$e.point=ke}function Qe(){ze(Ze,ut)}function ke(Lr,Pr){$e.point=ze,st(Ze=at=Lr,ut=it=Pr)}function ze(Lr,Pr){var Yr=Lr-at,Hr=Pr-it,en=(0,n._b)(Yr*Yr+Hr*Hr);Pe+=en*(at+Lr)/2,be+=en*(it+Pr)/2,Le+=en,en=it*Lr-at*Pr,We+=en*(at+Lr),je+=en*(it+Pr),Fe+=en*3,st(at=Lr,it=Pr)}var Be=$e;function Re(Lr){this._context=Lr}Re.prototype={_radius:4.5,pointRadius:function(Lr){return this._radius=Lr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Lr,Pr){switch(this._point){case 0:{this._context.moveTo(Lr,Pr),this._point=1;break}case 1:{this._context.lineTo(Lr,Pr);break}default:{this._context.moveTo(Lr+this._radius,Pr),this._context.arc(Lr,Pr,this._radius,0,n.BZ);break}}},result:i.Z};var we=(0,s.Z)(),ye,Se,Me,He,qe,rt={point:i.Z,lineStart:function(){rt.point=pt},lineEnd:function(){ye&&At(Se,Me),rt.point=i.Z},polygonStart:function(){ye=!0},polygonEnd:function(){ye=null},result:function(){var Lr=+we;return we.reset(),Lr}};function pt(Lr,Pr){rt.point=At,Se=He=Lr,Me=qe=Pr}function At(Lr,Pr){He-=Lr,qe-=Pr,we.add((0,n._b)(He*He+qe*qe)),He=Lr,qe=Pr}var jt=rt;function tr(){this._string=[]}tr.prototype={_radius:4.5,_circle:Ct(4.5),pointRadius:function(Lr){return(Lr=+Lr)!==this._radius&&(this._radius=Lr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Lr,Pr){switch(this._point){case 0:{this._string.push("M",Lr,",",Pr),this._point=1;break}case 1:{this._string.push("L",Lr,",",Pr);break}default:{this._circle==null&&(this._circle=Ct(this._radius)),this._string.push("M",Lr,",",Pr,this._circle);break}}},result:function(){if(this._string.length){var Lr=this._string.join("");return this._string=[],Lr}else return null}};function Ct(Lr){return"m0,"+Lr+"a"+Lr+","+Lr+" 0 1,1 0,"+-2*Lr+"a"+Lr+","+Lr+" 0 1,1 0,"+2*Lr+"z"}function Nt(Lr,Pr){var Yr=4.5,Hr,en;function cn(hn){return hn&&(typeof Yr=="function"&&en.pointRadius(+Yr.apply(this,arguments)),(0,f.Z)(hn,Hr(en))),en.result()}return cn.area=function(hn){return(0,f.Z)(hn,Hr(me)),me.result()},cn.measure=function(hn){return(0,f.Z)(hn,Hr(jt)),jt.result()},cn.bounds=function(hn){return(0,f.Z)(hn,Hr(Ce.Z)),Ce.Z.result()},cn.centroid=function(hn){return(0,f.Z)(hn,Hr(Be)),Be.result()},cn.projection=function(hn){return arguments.length?(Hr=hn==null?(Lr=null,ce.Z):(Lr=hn).stream,cn):Lr},cn.context=function(hn){return arguments.length?(en=hn==null?(Pr=null,new tr):new Re(Pr=hn),typeof Yr!="function"&&en.pointRadius(Yr),cn):Pr},cn.pointRadius=function(hn){return arguments.length?(Yr=typeof hn=="function"?hn:(en.pointRadius(+hn),+hn),cn):Yr},cn.projection(Lr).context(Pr)}var Kt=e(15002);function wr(Lr){var Pr=0,Yr=n.pi/3,Hr=(0,Kt.r)(Lr),en=Hr(Pr,Yr);return en.parallels=function(cn){return arguments.length?Hr(Pr=cn[0]*n.uR,Yr=cn[1]*n.uR):[Pr*n.RW,Yr*n.RW]},en}function yt(Lr){var Pr=(0,n.mC)(Lr);function Yr(Hr,en){return[Hr*Pr,(0,n.O$)(en)/Pr]}return Yr.invert=function(Hr,en){return[Hr/Pr,(0,n.ZR)(en*Pr)]},Yr}function $t(Lr,Pr){var Yr=(0,n.O$)(Lr),Hr=(Yr+(0,n.O$)(Pr))/2;if((0,n.Wn)(Hr)<n.Ho)return yt(Lr);var en=1+Yr*(2*Hr-Yr),cn=(0,n._b)(en)/Hr;function hn(Pn,kn){var sa=(0,n._b)(en-2*Hr*(0,n.O$)(kn))/Hr;return[sa*(0,n.O$)(Pn*=Hr),cn-sa*(0,n.mC)(Pn)]}return hn.invert=function(Pn,kn){var sa=cn-kn,Xn=(0,n.fv)(Pn,(0,n.Wn)(sa))*(0,n.Xx)(sa);return sa*Hr<0&&(Xn-=n.pi*(0,n.Xx)(Pn)*(0,n.Xx)(sa)),[Xn/Hr,(0,n.ZR)((en-(Pn*Pn+sa*sa)*Hr*Hr)/(2*Hr))]},hn}function er(){return wr($t).scale(155.424).center([0,33.6442])}function mr(){return er().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var vr=e(47589);function bt(Lr){var Pr=Lr.length;return{point:function(Yr,Hr){for(var en=-1;++en<Pr;)Lr[en].point(Yr,Hr)},sphere:function(){for(var Yr=-1;++Yr<Pr;)Lr[Yr].sphere()},lineStart:function(){for(var Yr=-1;++Yr<Pr;)Lr[Yr].lineStart()},lineEnd:function(){for(var Yr=-1;++Yr<Pr;)Lr[Yr].lineEnd()},polygonStart:function(){for(var Yr=-1;++Yr<Pr;)Lr[Yr].polygonStart()},polygonEnd:function(){for(var Yr=-1;++Yr<Pr;)Lr[Yr].polygonEnd()}}}function ht(){var Lr,Pr,Yr=mr(),Hr,en=er().rotate([154,0]).center([-2,58.5]).parallels([55,65]),cn,hn=er().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Pn,kn,sa={point:function(Zn,Qn){kn=[Zn,Qn]}};function Xn(Zn){var Qn=Zn[0],Mr=Zn[1];return kn=null,Hr.point(Qn,Mr),kn||(cn.point(Qn,Mr),kn)||(Pn.point(Qn,Mr),kn)}Xn.invert=function(Zn){var Qn=Yr.scale(),Mr=Yr.translate(),on=(Zn[0]-Mr[0])/Qn,nn=(Zn[1]-Mr[1])/Qn;return(nn>=.12&&nn<.234&&on>=-.425&&on<-.214?en:nn>=.166&&nn<.234&&on>=-.214&&on<-.115?hn:Yr).invert(Zn)},Xn.stream=function(Zn){return Lr&&Pr===Zn?Lr:Lr=bt([Yr.stream(Pr=Zn),en.stream(Zn),hn.stream(Zn)])},Xn.precision=function(Zn){return arguments.length?(Yr.precision(Zn),en.precision(Zn),hn.precision(Zn),ea()):Yr.precision()},Xn.scale=function(Zn){return arguments.length?(Yr.scale(Zn),en.scale(Zn*.35),hn.scale(Zn),Xn.translate(Yr.translate())):Yr.scale()},Xn.translate=function(Zn){if(!arguments.length)return Yr.translate();var Qn=Yr.scale(),Mr=+Zn[0],on=+Zn[1];return Hr=Yr.translate(Zn).clipExtent([[Mr-.455*Qn,on-.238*Qn],[Mr+.455*Qn,on+.238*Qn]]).stream(sa),cn=en.translate([Mr-.307*Qn,on+.201*Qn]).clipExtent([[Mr-.425*Qn+n.Ho,on+.12*Qn+n.Ho],[Mr-.214*Qn-n.Ho,on+.234*Qn-n.Ho]]).stream(sa),Pn=hn.translate([Mr-.205*Qn,on+.212*Qn]).clipExtent([[Mr-.214*Qn+n.Ho,on+.166*Qn+n.Ho],[Mr-.115*Qn-n.Ho,on+.234*Qn-n.Ho]]).stream(sa),ea()},Xn.fitExtent=function(Zn,Qn){return(0,vr.qg)(Xn,Zn,Qn)},Xn.fitSize=function(Zn,Qn){return(0,vr.mF)(Xn,Zn,Qn)},Xn.fitWidth=function(Zn,Qn){return(0,vr.V6)(Xn,Zn,Qn)},Xn.fitHeight=function(Zn,Qn){return(0,vr.rf)(Xn,Zn,Qn)};function ea(){return Lr=Pr=null,Xn}return Xn.scale(1070)}var Tt=e(12956),Pt=e(17889),zt=e(49386);function Dt(Lr,Pr){return[Lr,(0,n.cM)((0,n.OR)((n.ou+Pr)/2))]}Dt.invert=function(Lr,Pr){return[Lr,2*(0,n.z4)((0,n.Qq)(Pr))-n.ou]};function Vt(){return Ut(Dt).scale(961/n.BZ)}function Ut(Lr){var Pr=(0,Kt.Z)(Lr),Yr=Pr.center,Hr=Pr.scale,en=Pr.translate,cn=Pr.clipExtent,hn=null,Pn,kn,sa;Pr.scale=function(ea){return arguments.length?(Hr(ea),Xn()):Hr()},Pr.translate=function(ea){return arguments.length?(en(ea),Xn()):en()},Pr.center=function(ea){return arguments.length?(Yr(ea),Xn()):Yr()},Pr.clipExtent=function(ea){return arguments.length?(ea==null?hn=Pn=kn=sa=null:(hn=+ea[0][0],Pn=+ea[0][1],kn=+ea[1][0],sa=+ea[1][1]),Xn()):hn==null?null:[[hn,Pn],[kn,sa]]};function Xn(){var ea=n.pi*Hr(),Zn=Pr((0,zt.Z)(Pr.rotate()).invert([0,0]));return cn(hn==null?[[Zn[0]-ea,Zn[1]-ea],[Zn[0]+ea,Zn[1]+ea]]:Lr===Dt?[[Math.max(Zn[0]-ea,hn),Pn],[Math.min(Zn[0]+ea,kn),sa]]:[[hn,Math.max(Zn[1]-ea,Pn)],[kn,Math.min(Zn[1]+ea,sa)]])}return Xn()}function Qt(Lr){return(0,n.OR)((n.ou+Lr)/2)}function hr(Lr,Pr){var Yr=(0,n.mC)(Lr),Hr=Lr===Pr?(0,n.O$)(Lr):(0,n.cM)(Yr/(0,n.mC)(Pr))/(0,n.cM)(Qt(Pr)/Qt(Lr)),en=Yr*(0,n.sQ)(Qt(Lr),Hr)/Hr;if(!Hr)return Dt;function cn(hn,Pn){en>0?Pn<-n.ou+n.Ho&&(Pn=-n.ou+n.Ho):Pn>n.ou-n.Ho&&(Pn=n.ou-n.Ho);var kn=en/(0,n.sQ)(Qt(Pn),Hr);return[kn*(0,n.O$)(Hr*hn),en-kn*(0,n.mC)(Hr*hn)]}return cn.invert=function(hn,Pn){var kn=en-Pn,sa=(0,n.Xx)(Hr)*(0,n._b)(hn*hn+kn*kn),Xn=(0,n.fv)(hn,(0,n.Wn)(kn))*(0,n.Xx)(kn);return kn*Hr<0&&(Xn-=n.pi*(0,n.Xx)(hn)*(0,n.Xx)(kn)),[Xn/Hr,2*(0,n.z4)((0,n.sQ)(en/sa,1/Hr))-n.ou]},cn}function cr(){return wr(hr).scale(109.5).parallels([30,30])}var lr=e(97492);function Xe(Lr,Pr){var Yr=(0,n.mC)(Lr),Hr=Lr===Pr?(0,n.O$)(Lr):(Yr-(0,n.mC)(Pr))/(Pr-Lr),en=Yr/Hr+Lr;if((0,n.Wn)(Hr)<n.Ho)return lr.k;function cn(hn,Pn){var kn=en-Pn,sa=Hr*hn;return[kn*(0,n.O$)(sa),en-kn*(0,n.mC)(sa)]}return cn.invert=function(hn,Pn){var kn=en-Pn,sa=(0,n.fv)(hn,(0,n.Wn)(kn))*(0,n.Xx)(kn);return kn*Hr<0&&(sa-=n.pi*(0,n.Xx)(hn)*(0,n.Xx)(kn)),[sa/Hr,en-(0,n.Xx)(Hr)*(0,n._b)(hn*hn+kn*kn)]},cn}function Ke(){return wr(Xe).scale(131.154).center([0,13.9389])}var Ot=1.340264,Lt=-.081106,Xt=893e-6,rr=.003796,ur=(0,n._b)(3)/2,or=12;function Ht(Lr,Pr){var Yr=(0,n.ZR)(ur*(0,n.O$)(Pr)),Hr=Yr*Yr,en=Hr*Hr*Hr;return[Lr*(0,n.mC)(Yr)/(ur*(Ot+3*Lt*Hr+en*(7*Xt+9*rr*Hr))),Yr*(Ot+Lt*Hr+en*(Xt+rr*Hr))]}Ht.invert=function(Lr,Pr){for(var Yr=Pr,Hr=Yr*Yr,en=Hr*Hr*Hr,cn=0,hn,Pn,kn;cn<or&&(Pn=Yr*(Ot+Lt*Hr+en*(Xt+rr*Hr))-Pr,kn=Ot+3*Lt*Hr+en*(7*Xt+9*rr*Hr),Yr-=hn=Pn/kn,Hr=Yr*Yr,en=Hr*Hr*Hr,!((0,n.Wn)(hn)<n.aW));++cn);return[ur*Lr*(Ot+3*Lt*Hr+en*(7*Xt+9*rr*Hr))/(0,n.mC)(Yr),(0,n.ZR)((0,n.O$)(Yr)/ur)]};function gr(){return(0,Kt.Z)(Ht).scale(177.158)}var br=e(98936),xr=e(64684);function dr(){var Lr=1,Pr=0,Yr=0,Hr=1,en=1,cn=0,hn,Pn,kn=null,sa,Xn,ea,Zn=1,Qn=1,Mr=(0,xr.l)({point:function(Ln,Hn){var ra=Mn([Ln,Hn]);this.stream.point(ra[0],ra[1])}}),on=ce.Z,nn,mn;function Gn(){return Zn=Lr*Hr,Qn=Lr*en,nn=mn=null,Mn}function Mn(Ln){var Hn=Ln[0]*Zn,ra=Ln[1]*Qn;if(cn){var ba=ra*hn-Hn*Pn;Hn=Hn*hn+ra*Pn,ra=ba}return[Hn+Pr,ra+Yr]}return Mn.invert=function(Ln){var Hn=Ln[0]-Pr,ra=Ln[1]-Yr;if(cn){var ba=ra*hn+Hn*Pn;Hn=Hn*hn-ra*Pn,ra=ba}return[Hn/Zn,ra/Qn]},Mn.stream=function(Ln){return nn&&mn===Ln?nn:nn=Mr(on(mn=Ln))},Mn.postclip=function(Ln){return arguments.length?(on=Ln,kn=sa=Xn=ea=null,Gn()):on},Mn.clipExtent=function(Ln){return arguments.length?(on=Ln==null?(kn=sa=Xn=ea=null,ce.Z):(0,p.Z)(kn=+Ln[0][0],sa=+Ln[0][1],Xn=+Ln[1][0],ea=+Ln[1][1]),Gn()):kn==null?null:[[kn,sa],[Xn,ea]]},Mn.scale=function(Ln){return arguments.length?(Lr=+Ln,Gn()):Lr},Mn.translate=function(Ln){return arguments.length?(Pr=+Ln[0],Yr=+Ln[1],Gn()):[Pr,Yr]},Mn.angle=function(Ln){return arguments.length?(cn=Ln%360*n.uR,Pn=(0,n.O$)(cn),hn=(0,n.mC)(cn),Gn()):cn*n.RW},Mn.reflectX=function(Ln){return arguments.length?(Hr=Ln?-1:1,Gn()):Hr<0},Mn.reflectY=function(Ln){return arguments.length?(en=Ln?-1:1,Gn()):en<0},Mn.fitExtent=function(Ln,Hn){return(0,vr.qg)(Mn,Ln,Hn)},Mn.fitSize=function(Ln,Hn){return(0,vr.mF)(Mn,Ln,Hn)},Mn.fitWidth=function(Ln,Hn){return(0,vr.V6)(Mn,Ln,Hn)},Mn.fitHeight=function(Ln,Hn){return(0,vr.rf)(Mn,Ln,Hn)},Mn}var Wr=e(26867),Br=e(57962),Ur=e(25382);function yn(Lr,Pr){var Yr=(0,n.mC)(Pr),Hr=1+(0,n.mC)(Lr)*Yr;return[Yr*(0,n.O$)(Lr)/Hr,(0,n.O$)(Pr)/Hr]}yn.invert=(0,Ur.O)(function(Lr){return 2*(0,n.z4)(Lr)});function rn(){return(0,Kt.Z)(yn).scale(250).clipAngle(142)}function Un(Lr,Pr){return[(0,n.cM)((0,n.OR)((n.ou+Pr)/2)),-Lr]}Un.invert=function(Lr,Pr){return[-Pr,2*(0,n.z4)((0,n.Qq)(Lr))-n.ou]};function bn(){var Lr=Ut(Un),Pr=Lr.center,Yr=Lr.rotate;return Lr.center=function(Hr){return arguments.length?Pr([-Hr[1],Hr[0]]):(Hr=Pr(),[Hr[1],-Hr[0]])},Lr.rotate=function(Hr){return arguments.length?Yr([Hr[0],Hr[1],Hr.length>2?Hr[2]+90:90]):(Hr=Yr(),[Hr[0],Hr[1],Hr[2]-90])},Yr([0,0,90]).scale(159.155)}},83074:function(G,V,e){e.d(V,{Z:function(){return _}});var g=e(39695);function _(a,C){var A=a[0]*g.uR,v=a[1]*g.uR,p=C[0]*g.uR,t=C[1]*g.uR,r=(0,g.mC)(v),s=(0,g.O$)(v),n=(0,g.mC)(t),i=(0,g.O$)(t),f=r*(0,g.mC)(A),u=r*(0,g.O$)(A),y=n*(0,g.mC)(p),c=n*(0,g.O$)(p),T=2*(0,g.ZR)((0,g._b)((0,g.Jy)(t-v)+r*n*(0,g.Jy)(p-A))),h=(0,g.O$)(T),l=T?function(d){var E=(0,g.O$)(d*=T)/h,S=(0,g.O$)(T-d)/h,P=S*f+E*y,x=S*u+E*c,M=S*s+E*i;return[(0,g.fv)(x,P)*g.RW,(0,g.fv)(M,(0,g._b)(P*P+x*x))*g.RW]}:function(){return[A*g.RW,v*g.RW]};return l.distance=T,l}},39695:function(G,V,e){e.d(V,{BZ:function(){return v},Ho:function(){return g},Jy:function(){return P},Kh:function(){return E},O$:function(){return T},OR:function(){return d},Qq:function(){return u},RW:function(){return p},Wn:function(){return r},Xx:function(){return h},ZR:function(){return S},_b:function(){return l},aW:function(){return _},cM:function(){return y},fv:function(){return n},mC:function(){return i},mD:function(){return f},ou:function(){return C},pi:function(){return a},pu:function(){return A},sQ:function(){return c},uR:function(){return t},z4:function(){return s}});var g=1e-6,_=1e-12,a=Math.PI,C=a/2,A=a/4,v=a*2,p=180/a,t=a/180,r=Math.abs,s=Math.atan,n=Math.atan2,i=Math.cos,f=Math.ceil,u=Math.exp,y=Math.log,c=Math.pow,T=Math.sin,h=Math.sign||function(x){return x>0?1:x<0?-1:0},l=Math.sqrt,d=Math.tan;function E(x){return x>1?0:x<-1?a:Math.acos(x)}function S(x){return x>1?C:x<-1?-C:Math.asin(x)}function P(x){return(x=T(x/2))*x}},73182:function(G,V,e){e.d(V,{Z:function(){return g}});function g(){}},3559:function(G,V,e){var g=e(73182),_=1/0,a=_,C=-_,A=C,v={point:p,lineStart:g.Z,lineEnd:g.Z,polygonStart:g.Z,polygonEnd:g.Z,result:function(){var t=[[_,a],[C,A]];return C=A=-(a=_=1/0),t}};function p(t,r){t<_&&(_=t),t>C&&(C=t),r<a&&(a=r),r>A&&(A=r)}V.Z=v},67108:function(G,V,e){e.d(V,{Z:function(){return _}});var g=e(39695);function _(a,C){return(0,g.Wn)(a[0]-C[0])<g.Ho&&(0,g.Wn)(a[1]-C[1])<g.Ho}},23071:function(G,V,e){e.d(V,{Z:function(){return v}});var g=e(33940),_=e(7620),a=e(39695),C=(0,g.Z)();function A(p){return(0,a.Wn)(p[0])<=a.pi?p[0]:(0,a.Xx)(p[0])*(((0,a.Wn)(p[0])+a.pi)%a.BZ-a.pi)}function v(p,t){var r=A(t),s=t[1],n=(0,a.O$)(s),i=[(0,a.O$)(r),-(0,a.mC)(r),0],f=0,u=0;C.reset(),n===1?s=a.ou+a.Ho:n===-1&&(s=-a.ou-a.Ho);for(var y=0,c=p.length;y<c;++y)if(h=(T=p[y]).length)for(var T,h,l=T[h-1],d=A(l),E=l[1]/2+a.pu,S=(0,a.O$)(E),P=(0,a.mC)(E),x=0;x<h;++x,d=w,S=L,P=m,l=M){var M=T[x],w=A(M),o=M[1]/2+a.pu,L=(0,a.O$)(o),m=(0,a.mC)(o),F=w-d,I=F>=0?1:-1,U=I*F,z=U>a.pi,N=S*L;if(C.add((0,a.fv)(N*I*(0,a.O$)(U),P*m+N*(0,a.mC)(U))),f+=z?F+I*a.BZ:F,z^d>=r^w>=r){var B=(0,_.T5)((0,_.Og)(l),(0,_.Og)(M));(0,_.iJ)(B);var O=(0,_.T5)(i,B);(0,_.iJ)(O);var H=(z^F>=0?-1:1)*(0,a.ZR)(O[2]);(s>H||s===H&&(B[0]||B[1]))&&(u+=z^F>=0?1:-1)}}return(f<-a.Ho||f<a.Ho&&C<-a.Ho)^u&1}},25382:function(G,V,e){e.d(V,{O:function(){return a},W:function(){return _}});var g=e(39695);function _(C){return function(A,v){var p=(0,g.mC)(A),t=(0,g.mC)(v),r=C(p*t);return[r*t*(0,g.O$)(A),r*(0,g.O$)(v)]}}function a(C){return function(A,v){var p=(0,g._b)(A*A+v*v),t=C(p),r=(0,g.O$)(t),s=(0,g.mC)(t);return[(0,g.fv)(A*r,p*s),(0,g.ZR)(p&&v*r/p)]}}},12956:function(G,V,e){e.d(V,{Z:function(){return A},l:function(){return C}});var g=e(39695),_=e(25382),a=e(15002),C=(0,_.W)(function(v){return(0,g._b)(2/(1+v))});C.invert=(0,_.O)(function(v){return 2*(0,g.ZR)(v/2)});function A(){return(0,a.Z)(C).scale(124.75).clipAngle(179.999)}},17889:function(G,V,e){e.d(V,{N:function(){return C},Z:function(){return A}});var g=e(39695),_=e(25382),a=e(15002),C=(0,_.W)(function(v){return(v=(0,g.Kh)(v))&&v/(0,g.O$)(v)});C.invert=(0,_.O)(function(v){return v});function A(){return(0,a.Z)(C).scale(79.4188).clipAngle(179.999)}},97492:function(G,V,e){e.d(V,{Z:function(){return a},k:function(){return _}});var g=e(15002);function _(C,A){return[C,A]}_.invert=_;function a(){return(0,g.Z)(_).scale(152.63)}},47589:function(G,V,e){e.d(V,{V6:function(){return v},mF:function(){return A},qg:function(){return C},rf:function(){return p}});var g=e(72736),_=e(3559);function a(t,r,s){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),n!=null&&t.clipExtent(null),(0,g.Z)(s,t.stream(_.Z)),r(_.Z.result()),n!=null&&t.clipExtent(n),t}function C(t,r,s){return a(t,function(n){var i=r[1][0]-r[0][0],f=r[1][1]-r[0][1],u=Math.min(i/(n[1][0]-n[0][0]),f/(n[1][1]-n[0][1])),y=+r[0][0]+(i-u*(n[1][0]+n[0][0]))/2,c=+r[0][1]+(f-u*(n[1][1]+n[0][1]))/2;t.scale(150*u).translate([y,c])},s)}function A(t,r,s){return C(t,[[0,0],r],s)}function v(t,r,s){return a(t,function(n){var i=+r,f=i/(n[1][0]-n[0][0]),u=(i-f*(n[1][0]+n[0][0]))/2,y=-f*n[0][1];t.scale(150*f).translate([u,y])},s)}function p(t,r,s){return a(t,function(n){var i=+r,f=i/(n[1][1]-n[0][1]),u=-f*n[0][0],y=(i-f*(n[1][1]+n[0][1]))/2;t.scale(150*f).translate([u,y])},s)}},98936:function(G,V,e){e.d(V,{M:function(){return C},Z:function(){return A}});var g=e(39695),_=e(25382),a=e(15002);function C(v,p){var t=(0,g.mC)(p),r=(0,g.mC)(v)*t;return[t*(0,g.O$)(v)/r,(0,g.O$)(p)/r]}C.invert=(0,_.O)(g.z4);function A(){return(0,a.Z)(C).scale(144.049).clipAngle(60)}},15002:function(G,V,e){e.d(V,{Z:function(){return d},r:function(){return E}});var g=e(87070),_=e(1457),a=e(87605),C=e(96059),A=e(8593),v=e(39695),p=e(49386),t=e(64684),r=e(47589),s=e(7620),n=16,i=(0,v.mC)(30*v.uR);function f(S,P){return+P?y(S,P):u(S)}function u(S){return(0,t.l)({point:function(P,x){P=S(P,x),this.stream.point(P[0],P[1])}})}function y(S,P){function x(M,w,o,L,m,F,I,U,z,N,B,O,H,Y){var J=I-M,re=U-w,ie=J*J+re*re;if(ie>4*P&&H--){var ce=L+N,Q=m+B,j=F+O,Z=(0,v._b)(ce*ce+Q*Q+j*j),$=(0,v.ZR)(j/=Z),te=(0,v.Wn)((0,v.Wn)(j)-1)<v.Ho||(0,v.Wn)(o-z)<v.Ho?(o+z)/2:(0,v.fv)(Q,ce),se=S(te,$),ee=se[0],q=se[1],le=ee-M,oe=q-w,he=re*le-J*oe;(he*he/ie>P||(0,v.Wn)((J*le+re*oe)/ie-.5)>.3||L*N+m*B+F*O<i)&&(x(M,w,o,L,m,F,ee,q,te,ce/=Z,Q/=Z,j,H,Y),Y.point(ee,q),x(ee,q,te,ce,Q,j,I,U,z,N,B,O,H,Y))}}return function(M){var w,o,L,m,F,I,U,z,N,B,O,H,Y={point:J,lineStart:re,lineEnd:ce,polygonStart:function(){M.polygonStart(),Y.lineStart=Q},polygonEnd:function(){M.polygonEnd(),Y.lineStart=re}};function J($,te){$=S($,te),M.point($[0],$[1])}function re(){z=NaN,Y.point=ie,M.lineStart()}function ie($,te){var se=(0,s.Og)([$,te]),ee=S($,te);x(z,N,U,B,O,H,z=ee[0],N=ee[1],U=$,B=se[0],O=se[1],H=se[2],n,M),M.point(z,N)}function ce(){Y.point=J,M.lineEnd()}function Q(){re(),Y.point=j,Y.lineEnd=Z}function j($,te){ie(w=$,te),o=z,L=N,m=B,F=O,I=H,Y.point=ie}function Z(){x(z,N,U,B,O,H,o,L,w,m,F,I,n,M),Y.lineEnd=ce,ce()}return Y}}var c=(0,t.l)({point:function(S,P){this.stream.point(S*v.uR,P*v.uR)}});function T(S){return(0,t.l)({point:function(P,x){var M=S(P,x);return this.stream.point(M[0],M[1])}})}function h(S,P,x,M,w){function o(L,m){return L*=M,m*=w,[P+S*L,x-S*m]}return o.invert=function(L,m){return[(L-P)/S*M,(x-m)/S*w]},o}function l(S,P,x,M,w,o){var L=(0,v.mC)(o),m=(0,v.O$)(o),F=L*S,I=m*S,U=L/S,z=m/S,N=(m*x-L*P)/S,B=(m*P+L*x)/S;function O(H,Y){return H*=M,Y*=w,[F*H-I*Y+P,x-I*H-F*Y]}return O.invert=function(H,Y){return[M*(U*H-z*Y+N),w*(B-z*H-U*Y)]},O}function d(S){return E(function(){return S})()}function E(S){var P,x=150,M=480,w=250,o=0,L=0,m=0,F=0,I=0,U,z=0,N=1,B=1,O=null,H=g.Z,Y=null,J,re,ie,ce=A.Z,Q=.5,j,Z,$,te,se;function ee(he){return $(he[0]*v.uR,he[1]*v.uR)}function q(he){return he=$.invert(he[0],he[1]),he&&[he[0]*v.RW,he[1]*v.RW]}ee.stream=function(he){return te&&se===he?te:te=c(T(U)(H(j(ce(se=he)))))},ee.preclip=function(he){return arguments.length?(H=he,O=void 0,oe()):H},ee.postclip=function(he){return arguments.length?(ce=he,Y=J=re=ie=null,oe()):ce},ee.clipAngle=function(he){return arguments.length?(H=+he?(0,_.Z)(O=he*v.uR):(O=null,g.Z),oe()):O*v.RW},ee.clipExtent=function(he){return arguments.length?(ce=he==null?(Y=J=re=ie=null,A.Z):(0,a.Z)(Y=+he[0][0],J=+he[0][1],re=+he[1][0],ie=+he[1][1]),oe()):Y==null?null:[[Y,J],[re,ie]]},ee.scale=function(he){return arguments.length?(x=+he,le()):x},ee.translate=function(he){return arguments.length?(M=+he[0],w=+he[1],le()):[M,w]},ee.center=function(he){return arguments.length?(o=he[0]%360*v.uR,L=he[1]%360*v.uR,le()):[o*v.RW,L*v.RW]},ee.rotate=function(he){return arguments.length?(m=he[0]%360*v.uR,F=he[1]%360*v.uR,I=he.length>2?he[2]%360*v.uR:0,le()):[m*v.RW,F*v.RW,I*v.RW]},ee.angle=function(he){return arguments.length?(z=he%360*v.uR,le()):z*v.RW},ee.reflectX=function(he){return arguments.length?(N=he?-1:1,le()):N<0},ee.reflectY=function(he){return arguments.length?(B=he?-1:1,le()):B<0},ee.precision=function(he){return arguments.length?(j=f(Z,Q=he*he),oe()):(0,v._b)(Q)},ee.fitExtent=function(he,me){return(0,r.qg)(ee,he,me)},ee.fitSize=function(he,me){return(0,r.mF)(ee,he,me)},ee.fitWidth=function(he,me){return(0,r.V6)(ee,he,me)},ee.fitHeight=function(he,me){return(0,r.rf)(ee,he,me)};function le(){var he=l(x,0,0,N,B,z).apply(null,P(o,L)),me=(z?l:h)(x,M-he[0],w-he[1],N,B,z);return U=(0,p.I)(m,F,I),Z=(0,C.Z)(P,me),$=(0,C.Z)(U,Z),j=f(Z,Q),oe()}function oe(){return te=se=null,ee}return function(){return P=S.apply(this,arguments),ee.invert=P.invert&&q,le()}}},26867:function(G,V,e){e.d(V,{K:function(){return a},Z:function(){return C}});var g=e(15002),_=e(39695);function a(A,v){var p=v*v,t=p*p;return[A*(.8707-.131979*p+t*(-.013791+t*(.003971*p-.001529*t))),v*(1.007226+p*(.015085+t*(-.044475+.028874*p-.005916*t)))]}a.invert=function(A,v){var p=v,t=25,r;do{var s=p*p,n=s*s;p-=r=(p*(1.007226+s*(.015085+n*(-.044475+.028874*s-.005916*n)))-v)/(1.007226+s*(.045255+n*(-.311325+.259866*s-.06507600000000001*n)))}while((0,_.Wn)(r)>_.Ho&&--t>0);return[A/(.8707+(s=p*p)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),p]};function C(){return(0,g.Z)(a).scale(175.295)}},57962:function(G,V,e){e.d(V,{I:function(){return C},Z:function(){return A}});var g=e(39695),_=e(25382),a=e(15002);function C(v,p){return[(0,g.mC)(p)*(0,g.O$)(v),(0,g.O$)(p)]}C.invert=(0,_.O)(g.ZR);function A(){return(0,a.Z)(C).scale(249.5).clipAngle(90+g.Ho)}},49386:function(G,V,e){e.d(V,{I:function(){return C},Z:function(){return t}});var g=e(96059),_=e(39695);function a(r,s){return[(0,_.Wn)(r)>_.pi?r+Math.round(-r/_.BZ)*_.BZ:r,s]}a.invert=a;function C(r,s,n){return(r%=_.BZ)?s||n?(0,g.Z)(v(r),p(s,n)):v(r):s||n?p(s,n):a}function A(r){return function(s,n){return s+=r,[s>_.pi?s-_.BZ:s<-_.pi?s+_.BZ:s,n]}}function v(r){var s=A(r);return s.invert=A(-r),s}function p(r,s){var n=(0,_.mC)(r),i=(0,_.O$)(r),f=(0,_.mC)(s),u=(0,_.O$)(s);function y(c,T){var h=(0,_.mC)(T),l=(0,_.mC)(c)*h,d=(0,_.O$)(c)*h,E=(0,_.O$)(T),S=E*n+l*i;return[(0,_.fv)(d*f-S*u,l*n-E*i),(0,_.ZR)(S*f+d*u)]}return y.invert=function(c,T){var h=(0,_.mC)(T),l=(0,_.mC)(c)*h,d=(0,_.O$)(c)*h,E=(0,_.O$)(T),S=E*f-d*u;return[(0,_.fv)(d*f+E*u,l*n+S*i),(0,_.ZR)(S*n-l*i)]},y}function t(r){r=C(r[0]*_.uR,r[1]*_.uR,r.length>2?r[2]*_.uR:0);function s(n){return n=r(n[0]*_.uR,n[1]*_.uR),n[0]*=_.RW,n[1]*=_.RW,n}return s.invert=function(n){return n=r.invert(n[0]*_.uR,n[1]*_.uR),n[0]*=_.RW,n[1]*=_.RW,n},s}},72736:function(G,V,e){e.d(V,{Z:function(){return v}});function g(p,t){p&&a.hasOwnProperty(p.type)&&a[p.type](p,t)}var _={Feature:function(p,t){g(p.geometry,t)},FeatureCollection:function(p,t){for(var r=p.features,s=-1,n=r.length;++s<n;)g(r[s].geometry,t)}},a={Sphere:function(p,t){t.sphere()},Point:function(p,t){p=p.coordinates,t.point(p[0],p[1],p[2])},MultiPoint:function(p,t){for(var r=p.coordinates,s=-1,n=r.length;++s<n;)p=r[s],t.point(p[0],p[1],p[2])},LineString:function(p,t){C(p.coordinates,t,0)},MultiLineString:function(p,t){for(var r=p.coordinates,s=-1,n=r.length;++s<n;)C(r[s],t,0)},Polygon:function(p,t){A(p.coordinates,t)},MultiPolygon:function(p,t){for(var r=p.coordinates,s=-1,n=r.length;++s<n;)A(r[s],t)},GeometryCollection:function(p,t){for(var r=p.geometries,s=-1,n=r.length;++s<n;)g(r[s],t)}};function C(p,t,r){var s=-1,n=p.length-r,i;for(t.lineStart();++s<n;)i=p[s],t.point(i[0],i[1],i[2]);t.lineEnd()}function A(p,t){var r=-1,s=p.length;for(t.polygonStart();++r<s;)C(p[r],t,1);t.polygonEnd()}function v(p,t){p&&_.hasOwnProperty(p.type)?_[p.type](p,t):g(p,t)}},64684:function(G,V,e){e.d(V,{Z:function(){return g},l:function(){return _}});function g(C){return{stream:_(C)}}function _(C){return function(A){var v=new a;for(var p in C)v[p]=C[p];return v.stream=A,v}}function a(){}a.prototype={constructor:a,point:function(C,A){this.stream.point(C,A)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},674:function(G,V,e){e.r(V),e.d(V,{cluster:function(){return t},hierarchy:function(){return S},pack:function(){return q},packEnclose:function(){return F},packSiblings:function(){return j},partition:function(){return Ae},stratify:function(){return We},tree:function(){return ct},treemap:function(){return Qe},treemapBinary:function(){return ke},treemapDice:function(){return Ce},treemapResquarify:function(){return Be},treemapSlice:function(){return vt},treemapSliceDice:function(){return ze},treemapSquarify:function(){return Bt}});function g(Re,we){return Re.parent===we.parent?1:2}function _(Re){return Re.reduce(a,0)/Re.length}function a(Re,we){return Re+we.x}function C(Re){return 1+Re.reduce(A,0)}function A(Re,we){return Math.max(Re,we.y)}function v(Re){for(var we;we=Re.children;)Re=we[0];return Re}function p(Re){for(var we;we=Re.children;)Re=we[we.length-1];return Re}function t(){var Re=g,we=1,ye=1,Se=!1;function Me(He){var qe,rt=0;He.eachAfter(function(Ct){var Nt=Ct.children;Nt?(Ct.x=_(Nt),Ct.y=C(Nt)):(Ct.x=qe?rt+=Re(Ct,qe):0,Ct.y=0,qe=Ct)});var pt=v(He),At=p(He),jt=pt.x-Re(pt,At)/2,tr=At.x+Re(At,pt)/2;return He.eachAfter(Se?function(Ct){Ct.x=(Ct.x-He.x)*we,Ct.y=(He.y-Ct.y)*ye}:function(Ct){Ct.x=(Ct.x-jt)/(tr-jt)*we,Ct.y=(1-(He.y?Ct.y/He.y:1))*ye})}return Me.separation=function(He){return arguments.length?(Re=He,Me):Re},Me.size=function(He){return arguments.length?(Se=!1,we=+He[0],ye=+He[1],Me):Se?null:[we,ye]},Me.nodeSize=function(He){return arguments.length?(Se=!0,we=+He[0],ye=+He[1],Me):Se?[we,ye]:null},Me}function r(Re){var we=0,ye=Re.children,Se=ye&&ye.length;if(!Se)we=1;else for(;--Se>=0;)we+=ye[Se].value;Re.value=we}function s(){return this.eachAfter(r)}function n(Re){var we=this,ye,Se=[we],Me,He,qe;do for(ye=Se.reverse(),Se=[];we=ye.pop();)if(Re(we),Me=we.children,Me)for(He=0,qe=Me.length;He<qe;++He)Se.push(Me[He]);while(Se.length);return this}function i(Re){for(var we=this,ye=[we],Se,Me;we=ye.pop();)if(Re(we),Se=we.children,Se)for(Me=Se.length-1;Me>=0;--Me)ye.push(Se[Me]);return this}function f(Re){for(var we=this,ye=[we],Se=[],Me,He,qe;we=ye.pop();)if(Se.push(we),Me=we.children,Me)for(He=0,qe=Me.length;He<qe;++He)ye.push(Me[He]);for(;we=Se.pop();)Re(we);return this}function u(Re){return this.eachAfter(function(we){for(var ye=+Re(we.data)||0,Se=we.children,Me=Se&&Se.length;--Me>=0;)ye+=Se[Me].value;we.value=ye})}function y(Re){return this.eachBefore(function(we){we.children&&we.children.sort(Re)})}function c(Re){for(var we=this,ye=T(we,Re),Se=[we];we!==ye;)we=we.parent,Se.push(we);for(var Me=Se.length;Re!==ye;)Se.splice(Me,0,Re),Re=Re.parent;return Se}function T(Re,we){if(Re===we)return Re;var ye=Re.ancestors(),Se=we.ancestors(),Me=null;for(Re=ye.pop(),we=Se.pop();Re===we;)Me=Re,Re=ye.pop(),we=Se.pop();return Me}function h(){for(var Re=this,we=[Re];Re=Re.parent;)we.push(Re);return we}function l(){var Re=[];return this.each(function(we){Re.push(we)}),Re}function d(){var Re=[];return this.eachBefore(function(we){we.children||Re.push(we)}),Re}function E(){var Re=this,we=[];return Re.each(function(ye){ye!==Re&&we.push({source:ye.parent,target:ye})}),we}function S(Re,we){var ye=new o(Re),Se=+Re.value&&(ye.value=Re.value),Me,He=[ye],qe,rt,pt,At;for(we==null&&(we=x);Me=He.pop();)if(Se&&(Me.value=+Me.data.value),(rt=we(Me.data))&&(At=rt.length))for(Me.children=new Array(At),pt=At-1;pt>=0;--pt)He.push(qe=Me.children[pt]=new o(rt[pt])),qe.parent=Me,qe.depth=Me.depth+1;return ye.eachBefore(w)}function P(){return S(this).eachBefore(M)}function x(Re){return Re.children}function M(Re){Re.data=Re.data.data}function w(Re){var we=0;do Re.height=we;while((Re=Re.parent)&&Re.height<++we)}function o(Re){this.data=Re,this.depth=this.height=0,this.parent=null}o.prototype=S.prototype={constructor:o,count:s,each:n,eachAfter:f,eachBefore:i,sum:u,sort:y,path:c,ancestors:h,descendants:l,leaves:d,links:E,copy:P};var L=Array.prototype.slice;function m(Re){for(var we=Re.length,ye,Se;we;)Se=Math.random()*we--|0,ye=Re[we],Re[we]=Re[Se],Re[Se]=ye;return Re}function F(Re){for(var we=0,ye=(Re=m(L.call(Re))).length,Se=[],Me,He;we<ye;)Me=Re[we],He&&z(He,Me)?++we:(He=B(Se=I(Se,Me)),we=0);return He}function I(Re,we){var ye,Se;if(N(we,Re))return[we];for(ye=0;ye<Re.length;++ye)if(U(we,Re[ye])&&N(H(Re[ye],we),Re))return[Re[ye],we];for(ye=0;ye<Re.length-1;++ye)for(Se=ye+1;Se<Re.length;++Se)if(U(H(Re[ye],Re[Se]),we)&&U(H(Re[ye],we),Re[Se])&&U(H(Re[Se],we),Re[ye])&&N(Y(Re[ye],Re[Se],we),Re))return[Re[ye],Re[Se],we];throw new Error}function U(Re,we){var ye=Re.r-we.r,Se=we.x-Re.x,Me=we.y-Re.y;return ye<0||ye*ye<Se*Se+Me*Me}function z(Re,we){var ye=Re.r-we.r+1e-6,Se=we.x-Re.x,Me=we.y-Re.y;return ye>0&&ye*ye>Se*Se+Me*Me}function N(Re,we){for(var ye=0;ye<we.length;++ye)if(!z(Re,we[ye]))return!1;return!0}function B(Re){switch(Re.length){case 1:return O(Re[0]);case 2:return H(Re[0],Re[1]);case 3:return Y(Re[0],Re[1],Re[2])}}function O(Re){return{x:Re.x,y:Re.y,r:Re.r}}function H(Re,we){var ye=Re.x,Se=Re.y,Me=Re.r,He=we.x,qe=we.y,rt=we.r,pt=He-ye,At=qe-Se,jt=rt-Me,tr=Math.sqrt(pt*pt+At*At);return{x:(ye+He+pt/tr*jt)/2,y:(Se+qe+At/tr*jt)/2,r:(tr+Me+rt)/2}}function Y(Re,we,ye){var Se=Re.x,Me=Re.y,He=Re.r,qe=we.x,rt=we.y,pt=we.r,At=ye.x,jt=ye.y,tr=ye.r,Ct=Se-qe,Nt=Se-At,Kt=Me-rt,wr=Me-jt,yt=pt-He,$t=tr-He,er=Se*Se+Me*Me-He*He,mr=er-qe*qe-rt*rt+pt*pt,vr=er-At*At-jt*jt+tr*tr,bt=Nt*Kt-Ct*wr,ht=(Kt*vr-wr*mr)/(bt*2)-Se,Tt=(wr*yt-Kt*$t)/bt,Pt=(Nt*mr-Ct*vr)/(bt*2)-Me,zt=(Ct*$t-Nt*yt)/bt,Dt=Tt*Tt+zt*zt-1,Vt=2*(He+ht*Tt+Pt*zt),Ut=ht*ht+Pt*Pt-He*He,Qt=-(Dt?(Vt+Math.sqrt(Vt*Vt-4*Dt*Ut))/(2*Dt):Ut/Vt);return{x:Se+ht+Tt*Qt,y:Me+Pt+zt*Qt,r:Qt}}function J(Re,we,ye){var Se=Re.x-we.x,Me,He,qe=Re.y-we.y,rt,pt,At=Se*Se+qe*qe;At?(He=we.r+ye.r,He*=He,pt=Re.r+ye.r,pt*=pt,He>pt?(Me=(At+pt-He)/(2*At),rt=Math.sqrt(Math.max(0,pt/At-Me*Me)),ye.x=Re.x-Me*Se-rt*qe,ye.y=Re.y-Me*qe+rt*Se):(Me=(At+He-pt)/(2*At),rt=Math.sqrt(Math.max(0,He/At-Me*Me)),ye.x=we.x+Me*Se-rt*qe,ye.y=we.y+Me*qe+rt*Se)):(ye.x=we.x+ye.r,ye.y=we.y)}function re(Re,we){var ye=Re.r+we.r-1e-6,Se=we.x-Re.x,Me=we.y-Re.y;return ye>0&&ye*ye>Se*Se+Me*Me}function ie(Re){var we=Re._,ye=Re.next._,Se=we.r+ye.r,Me=(we.x*ye.r+ye.x*we.r)/Se,He=(we.y*ye.r+ye.y*we.r)/Se;return Me*Me+He*He}function ce(Re){this._=Re,this.next=null,this.previous=null}function Q(Re){if(!(Me=Re.length))return 0;var we,ye,Se,Me,He,qe,rt,pt,At,jt,tr;if(we=Re[0],we.x=0,we.y=0,!(Me>1))return we.r;if(ye=Re[1],we.x=-ye.r,ye.x=we.r,ye.y=0,!(Me>2))return we.r+ye.r;J(ye,we,Se=Re[2]),we=new ce(we),ye=new ce(ye),Se=new ce(Se),we.next=Se.previous=ye,ye.next=we.previous=Se,Se.next=ye.previous=we;e:for(rt=3;rt<Me;++rt){J(we._,ye._,Se=Re[rt]),Se=new ce(Se),pt=ye.next,At=we.previous,jt=ye._.r,tr=we._.r;do if(jt<=tr){if(re(pt._,Se._)){ye=pt,we.next=ye,ye.previous=we,--rt;continue e}jt+=pt._.r,pt=pt.next}else{if(re(At._,Se._)){we=At,we.next=ye,ye.previous=we,--rt;continue e}tr+=At._.r,At=At.previous}while(pt!==At.next);for(Se.previous=we,Se.next=ye,we.next=ye.previous=ye=Se,He=ie(we);(Se=Se.next)!==ye;)(qe=ie(Se))<He&&(we=Se,He=qe);ye=we.next}for(we=[ye._],Se=ye;(Se=Se.next)!==ye;)we.push(Se._);for(Se=F(we),rt=0;rt<Me;++rt)we=Re[rt],we.x-=Se.x,we.y-=Se.y;return Se.r}function j(Re){return Q(Re),Re}function Z(Re){return Re==null?null:$(Re)}function $(Re){if(typeof Re!="function")throw new Error;return Re}function te(){return 0}function se(Re){return function(){return Re}}function ee(Re){return Math.sqrt(Re.value)}function q(){var Re=null,we=1,ye=1,Se=te;function Me(He){return He.x=we/2,He.y=ye/2,Re?He.eachBefore(le(Re)).eachAfter(oe(Se,.5)).eachBefore(he(1)):He.eachBefore(le(ee)).eachAfter(oe(te,1)).eachAfter(oe(Se,He.r/Math.min(we,ye))).eachBefore(he(Math.min(we,ye)/(2*He.r))),He}return Me.radius=function(He){return arguments.length?(Re=Z(He),Me):Re},Me.size=function(He){return arguments.length?(we=+He[0],ye=+He[1],Me):[we,ye]},Me.padding=function(He){return arguments.length?(Se=typeof He=="function"?He:se(+He),Me):Se},Me}function le(Re){return function(we){we.children||(we.r=Math.max(0,+Re(we)||0))}}function oe(Re,we){return function(ye){if(Se=ye.children){var Se,Me,He=Se.length,qe=Re(ye)*we||0,rt;if(qe)for(Me=0;Me<He;++Me)Se[Me].r+=qe;if(rt=Q(Se),qe)for(Me=0;Me<He;++Me)Se[Me].r-=qe;ye.r=rt+qe}}}function he(Re){return function(we){var ye=we.parent;we.r*=Re,ye&&(we.x=ye.x+Re*we.x,we.y=ye.y+Re*we.y)}}function me(Re){Re.x0=Math.round(Re.x0),Re.y0=Math.round(Re.y0),Re.x1=Math.round(Re.x1),Re.y1=Math.round(Re.y1)}function Ce(Re,we,ye,Se,Me){for(var He=Re.children,qe,rt=-1,pt=He.length,At=Re.value&&(Se-we)/Re.value;++rt<pt;)qe=He[rt],qe.y0=ye,qe.y1=Me,qe.x0=we,qe.x1=we+=qe.value*At}function Ae(){var Re=1,we=1,ye=0,Se=!1;function Me(qe){var rt=qe.height+1;return qe.x0=qe.y0=ye,qe.x1=Re,qe.y1=we/rt,qe.eachBefore(He(we,rt)),Se&&qe.eachBefore(me),qe}function He(qe,rt){return function(pt){pt.children&&Ce(pt,pt.x0,qe*(pt.depth+1)/rt,pt.x1,qe*(pt.depth+2)/rt);var At=pt.x0,jt=pt.y0,tr=pt.x1-ye,Ct=pt.y1-ye;tr<At&&(At=tr=(At+tr)/2),Ct<jt&&(jt=Ct=(jt+Ct)/2),pt.x0=At,pt.y0=jt,pt.x1=tr,pt.y1=Ct}}return Me.round=function(qe){return arguments.length?(Se=!!qe,Me):Se},Me.size=function(qe){return arguments.length?(Re=+qe[0],we=+qe[1],Me):[Re,we]},Me.padding=function(qe){return arguments.length?(ye=+qe,Me):ye},Me}var Ue="$",Ve={depth:-1},Pe={};function be(Re){return Re.id}function Le(Re){return Re.parentId}function We(){var Re=be,we=Le;function ye(Se){var Me,He,qe=Se.length,rt,pt,At,jt=new Array(qe),tr,Ct,Nt={};for(He=0;He<qe;++He)Me=Se[He],At=jt[He]=new o(Me),(tr=Re(Me,He,Se))!=null&&(tr+="")&&(Ct=Ue+(At.id=tr),Nt[Ct]=Ct in Nt?Pe:At);for(He=0;He<qe;++He)if(At=jt[He],tr=we(Se[He],He,Se),tr==null||!(tr+="")){if(rt)throw new Error("multiple roots");rt=At}else{if(pt=Nt[Ue+tr],!pt)throw new Error("missing: "+tr);if(pt===Pe)throw new Error("ambiguous: "+tr);pt.children?pt.children.push(At):pt.children=[At],At.parent=pt}if(!rt)throw new Error("no root");if(rt.parent=Ve,rt.eachBefore(function(Kt){Kt.depth=Kt.parent.depth+1,--qe}).eachBefore(w),rt.parent=null,qe>0)throw new Error("cycle");return rt}return ye.id=function(Se){return arguments.length?(Re=$(Se),ye):Re},ye.parentId=function(Se){return arguments.length?(we=$(Se),ye):we},ye}function je(Re,we){return Re.parent===we.parent?1:2}function Fe(Re){var we=Re.children;return we?we[0]:Re.t}function Ze(Re){var we=Re.children;return we?we[we.length-1]:Re.t}function ut(Re,we,ye){var Se=ye/(we.i-Re.i);we.c-=Se,we.s+=ye,Re.c+=Se,we.z+=ye,we.m+=ye}function at(Re){for(var we=0,ye=0,Se=Re.children,Me=Se.length,He;--Me>=0;)He=Se[Me],He.z+=we,He.m+=we,we+=He.s+(ye+=He.c)}function it(Re,we,ye){return Re.a.parent===we.parent?Re.a:ye}function $e(Re,we){this._=Re,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=we}$e.prototype=Object.create(o.prototype);function st(Re){for(var we=new $e(Re,0),ye,Se=[we],Me,He,qe,rt;ye=Se.pop();)if(He=ye._.children)for(ye.children=new Array(rt=He.length),qe=rt-1;qe>=0;--qe)Se.push(Me=ye.children[qe]=new $e(He[qe],qe)),Me.parent=ye;return(we.parent=new $e(null,0)).children=[we],we}function ct(){var Re=je,we=1,ye=1,Se=null;function Me(At){var jt=st(At);if(jt.eachAfter(He),jt.parent.m=-jt.z,jt.eachBefore(qe),Se)At.eachBefore(pt);else{var tr=At,Ct=At,Nt=At;At.eachBefore(function(er){er.x<tr.x&&(tr=er),er.x>Ct.x&&(Ct=er),er.depth>Nt.depth&&(Nt=er)});var Kt=tr===Ct?1:Re(tr,Ct)/2,wr=Kt-tr.x,yt=we/(Ct.x+Kt+wr),$t=ye/(Nt.depth||1);At.eachBefore(function(er){er.x=(er.x+wr)*yt,er.y=er.depth*$t})}return At}function He(At){var jt=At.children,tr=At.parent.children,Ct=At.i?tr[At.i-1]:null;if(jt){at(At);var Nt=(jt[0].z+jt[jt.length-1].z)/2;Ct?(At.z=Ct.z+Re(At._,Ct._),At.m=At.z-Nt):At.z=Nt}else Ct&&(At.z=Ct.z+Re(At._,Ct._));At.parent.A=rt(At,Ct,At.parent.A||tr[0])}function qe(At){At._.x=At.z+At.parent.m,At.m+=At.parent.m}function rt(At,jt,tr){if(jt){for(var Ct=At,Nt=At,Kt=jt,wr=Ct.parent.children[0],yt=Ct.m,$t=Nt.m,er=Kt.m,mr=wr.m,vr;Kt=Ze(Kt),Ct=Fe(Ct),Kt&&Ct;)wr=Fe(wr),Nt=Ze(Nt),Nt.a=At,vr=Kt.z+er-Ct.z-yt+Re(Kt._,Ct._),vr>0&&(ut(it(Kt,At,tr),At,vr),yt+=vr,$t+=vr),er+=Kt.m,yt+=Ct.m,mr+=wr.m,$t+=Nt.m;Kt&&!Ze(Nt)&&(Nt.t=Kt,Nt.m+=er-$t),Ct&&!Fe(wr)&&(wr.t=Ct,wr.m+=yt-mr,tr=At)}return tr}function pt(At){At.x*=we,At.y=At.depth*ye}return Me.separation=function(At){return arguments.length?(Re=At,Me):Re},Me.size=function(At){return arguments.length?(Se=!1,we=+At[0],ye=+At[1],Me):Se?null:[we,ye]},Me.nodeSize=function(At){return arguments.length?(Se=!0,we=+At[0],ye=+At[1],Me):Se?[we,ye]:null},Me}function vt(Re,we,ye,Se,Me){for(var He=Re.children,qe,rt=-1,pt=He.length,At=Re.value&&(Me-ye)/Re.value;++rt<pt;)qe=He[rt],qe.x0=we,qe.x1=Se,qe.y0=ye,qe.y1=ye+=qe.value*At}var St=(1+Math.sqrt(5))/2;function Mt(Re,we,ye,Se,Me,He){for(var qe=[],rt=we.children,pt,At,jt=0,tr=0,Ct=rt.length,Nt,Kt,wr=we.value,yt,$t,er,mr,vr,bt,ht;jt<Ct;){Nt=Me-ye,Kt=He-Se;do yt=rt[tr++].value;while(!yt&&tr<Ct);for($t=er=yt,bt=Math.max(Kt/Nt,Nt/Kt)/(wr*Re),ht=yt*yt*bt,vr=Math.max(er/ht,ht/$t);tr<Ct;++tr){if(yt+=At=rt[tr].value,At<$t&&($t=At),At>er&&(er=At),ht=yt*yt*bt,mr=Math.max(er/ht,ht/$t),mr>vr){yt-=At;break}vr=mr}qe.push(pt={value:yt,dice:Nt<Kt,children:rt.slice(jt,tr)}),pt.dice?Ce(pt,ye,Se,Me,wr?Se+=Kt*yt/wr:He):vt(pt,ye,Se,wr?ye+=Nt*yt/wr:Me,He),wr-=yt,jt=tr}return qe}var Bt=function Re(we){function ye(Se,Me,He,qe,rt){Mt(we,Se,Me,He,qe,rt)}return ye.ratio=function(Se){return Re((Se=+Se)>1?Se:1)},ye}(St);function Qe(){var Re=Bt,we=!1,ye=1,Se=1,Me=[0],He=te,qe=te,rt=te,pt=te,At=te;function jt(Ct){return Ct.x0=Ct.y0=0,Ct.x1=ye,Ct.y1=Se,Ct.eachBefore(tr),Me=[0],we&&Ct.eachBefore(me),Ct}function tr(Ct){var Nt=Me[Ct.depth],Kt=Ct.x0+Nt,wr=Ct.y0+Nt,yt=Ct.x1-Nt,$t=Ct.y1-Nt;yt<Kt&&(Kt=yt=(Kt+yt)/2),$t<wr&&(wr=$t=(wr+$t)/2),Ct.x0=Kt,Ct.y0=wr,Ct.x1=yt,Ct.y1=$t,Ct.children&&(Nt=Me[Ct.depth+1]=He(Ct)/2,Kt+=At(Ct)-Nt,wr+=qe(Ct)-Nt,yt-=rt(Ct)-Nt,$t-=pt(Ct)-Nt,yt<Kt&&(Kt=yt=(Kt+yt)/2),$t<wr&&(wr=$t=(wr+$t)/2),Re(Ct,Kt,wr,yt,$t))}return jt.round=function(Ct){return arguments.length?(we=!!Ct,jt):we},jt.size=function(Ct){return arguments.length?(ye=+Ct[0],Se=+Ct[1],jt):[ye,Se]},jt.tile=function(Ct){return arguments.length?(Re=$(Ct),jt):Re},jt.padding=function(Ct){return arguments.length?jt.paddingInner(Ct).paddingOuter(Ct):jt.paddingInner()},jt.paddingInner=function(Ct){return arguments.length?(He=typeof Ct=="function"?Ct:se(+Ct),jt):He},jt.paddingOuter=function(Ct){return arguments.length?jt.paddingTop(Ct).paddingRight(Ct).paddingBottom(Ct).paddingLeft(Ct):jt.paddingTop()},jt.paddingTop=function(Ct){return arguments.length?(qe=typeof Ct=="function"?Ct:se(+Ct),jt):qe},jt.paddingRight=function(Ct){return arguments.length?(rt=typeof Ct=="function"?Ct:se(+Ct),jt):rt},jt.paddingBottom=function(Ct){return arguments.length?(pt=typeof Ct=="function"?Ct:se(+Ct),jt):pt},jt.paddingLeft=function(Ct){return arguments.length?(At=typeof Ct=="function"?Ct:se(+Ct),jt):At},jt}function ke(Re,we,ye,Se,Me){var He=Re.children,qe,rt=He.length,pt,At=new Array(rt+1);for(At[0]=pt=qe=0;qe<rt;++qe)At[qe+1]=pt+=He[qe].value;jt(0,rt,Re.value,we,ye,Se,Me);function jt(tr,Ct,Nt,Kt,wr,yt,$t){if(tr>=Ct-1){var er=He[tr];er.x0=Kt,er.y0=wr,er.x1=yt,er.y1=$t;return}for(var mr=At[tr],vr=Nt/2+mr,bt=tr+1,ht=Ct-1;bt<ht;){var Tt=bt+ht>>>1;At[Tt]<vr?bt=Tt+1:ht=Tt}vr-At[bt-1]<At[bt]-vr&&tr+1<bt&&--bt;var Pt=At[bt]-mr,zt=Nt-Pt;if(yt-Kt>$t-wr){var Dt=(Kt*zt+yt*Pt)/Nt;jt(tr,bt,Pt,Kt,wr,Dt,$t),jt(bt,Ct,zt,Dt,wr,yt,$t)}else{var Vt=(wr*zt+$t*Pt)/Nt;jt(tr,bt,Pt,Kt,wr,yt,Vt),jt(bt,Ct,zt,Kt,Vt,yt,$t)}}}function ze(Re,we,ye,Se,Me){(Re.depth&1?vt:Ce)(Re,we,ye,Se,Me)}var Be=function Re(we){function ye(Se,Me,He,qe,rt){if((pt=Se._squarify)&&pt.ratio===we)for(var pt,At,jt,tr,Ct=-1,Nt,Kt=pt.length,wr=Se.value;++Ct<Kt;){for(At=pt[Ct],jt=At.children,tr=At.value=0,Nt=jt.length;tr<Nt;++tr)At.value+=jt[tr].value;At.dice?Ce(At,Me,He,qe,He+=(rt-He)*At.value/wr):vt(At,Me,He,Me+=(qe-Me)*At.value/wr,rt),wr-=At.value}else Se._squarify=pt=Mt(we,Se,Me,He,qe,rt),pt.ratio=we}return ye.ratio=function(Se){return Re((Se=+Se)>1?Se:1)},ye}(St)},45879:function(G,V,e){e.d(V,{h5:function(){return c}});var g=Math.PI,_=2*g,a=1e-6,C=_-a;function A(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new A}A.prototype=v.prototype={constructor:A,moveTo:function(T,h){this._+="M"+(this._x0=this._x1=+T)+","+(this._y0=this._y1=+h)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(T,h){this._+="L"+(this._x1=+T)+","+(this._y1=+h)},quadraticCurveTo:function(T,h,l,d){this._+="Q"+ +T+","+ +h+","+(this._x1=+l)+","+(this._y1=+d)},bezierCurveTo:function(T,h,l,d,E,S){this._+="C"+ +T+","+ +h+","+ +l+","+ +d+","+(this._x1=+E)+","+(this._y1=+S)},arcTo:function(T,h,l,d,E){T=+T,h=+h,l=+l,d=+d,E=+E;var S=this._x1,P=this._y1,x=l-T,M=d-h,w=S-T,o=P-h,L=w*w+o*o;if(E<0)throw new Error("negative radius: "+E);if(this._x1===null)this._+="M"+(this._x1=T)+","+(this._y1=h);else if(L>a)if(!(Math.abs(o*x-M*w)>a)||!E)this._+="L"+(this._x1=T)+","+(this._y1=h);else{var m=l-S,F=d-P,I=x*x+M*M,U=m*m+F*F,z=Math.sqrt(I),N=Math.sqrt(L),B=E*Math.tan((g-Math.acos((I+L-U)/(2*z*N)))/2),O=B/N,H=B/z;Math.abs(O-1)>a&&(this._+="L"+(T+O*w)+","+(h+O*o)),this._+="A"+E+","+E+",0,0,"+ +(o*m>w*F)+","+(this._x1=T+H*x)+","+(this._y1=h+H*M)}},arc:function(T,h,l,d,E,S){T=+T,h=+h,l=+l,S=!!S;var P=l*Math.cos(d),x=l*Math.sin(d),M=T+P,w=h+x,o=1^S,L=S?d-E:E-d;if(l<0)throw new Error("negative radius: "+l);this._x1===null?this._+="M"+M+","+w:(Math.abs(this._x1-M)>a||Math.abs(this._y1-w)>a)&&(this._+="L"+M+","+w),l&&(L<0&&(L=L%_+_),L>C?this._+="A"+l+","+l+",0,1,"+o+","+(T-P)+","+(h-x)+"A"+l+","+l+",0,1,"+o+","+(this._x1=M)+","+(this._y1=w):L>a&&(this._+="A"+l+","+l+",0,"+ +(L>=g)+","+o+","+(this._x1=T+l*Math.cos(E))+","+(this._y1=h+l*Math.sin(E))))},rect:function(T,h,l,d){this._+="M"+(this._x0=this._x1=+T)+","+(this._y0=this._y1=+h)+"h"+ +l+"v"+ +d+"h"+-l+"Z"},toString:function(){return this._}};var p=v,t=Array.prototype.slice;function r(T){return function(){return T}}function s(T){return T[0]}function n(T){return T[1]}function i(T){return T.source}function f(T){return T.target}function u(T){var h=i,l=f,d=s,E=n,S=null;function P(){var x,M=t.call(arguments),w=h.apply(this,M),o=l.apply(this,M);if(S||(S=x=p()),T(S,+d.apply(this,(M[0]=w,M)),+E.apply(this,M),+d.apply(this,(M[0]=o,M)),+E.apply(this,M)),x)return S=null,x+""||null}return P.source=function(x){return arguments.length?(h=x,P):h},P.target=function(x){return arguments.length?(l=x,P):l},P.x=function(x){return arguments.length?(d=typeof x=="function"?x:r(+x),P):d},P.y=function(x){return arguments.length?(E=typeof x=="function"?x:r(+x),P):E},P.context=function(x){return arguments.length?(S=x??null,P):S},P}function y(T,h,l,d,E){T.moveTo(h,l),T.bezierCurveTo(h=(h+d)/2,l,h,E,d,E)}function c(){return u(y)}},84096:function(G,V,e){e.d(V,{i$:function(){return ke},Dq:function(){return s},g0:function(){return ze}});var g=e(58176),_=e(48480),a=e(59879),C=e(82301),A=e(34823),v=e(79791);function p(Re){if(0<=Re.y&&Re.y<100){var we=new Date(-1,Re.m,Re.d,Re.H,Re.M,Re.S,Re.L);return we.setFullYear(Re.y),we}return new Date(Re.y,Re.m,Re.d,Re.H,Re.M,Re.S,Re.L)}function t(Re){if(0<=Re.y&&Re.y<100){var we=new Date(Date.UTC(-1,Re.m,Re.d,Re.H,Re.M,Re.S,Re.L));return we.setUTCFullYear(Re.y),we}return new Date(Date.UTC(Re.y,Re.m,Re.d,Re.H,Re.M,Re.S,Re.L))}function r(Re,we,ye){return{y:Re,m:we,d:ye,H:0,M:0,S:0,L:0}}function s(Re){var we=Re.dateTime,ye=Re.date,Se=Re.time,Me=Re.periods,He=Re.days,qe=Re.shortDays,rt=Re.months,pt=Re.shortMonths,At=T(Me),jt=h(Me),tr=T(He),Ct=h(He),Nt=T(qe),Kt=h(qe),wr=T(rt),yt=h(rt),$t=T(pt),er=h(pt),mr={a:Xe,A:Ke,b:Ot,B:Lt,c:null,d:J,e:J,f:j,H:re,I:ie,j:ce,L:Q,m:Z,M:$,p:Xt,q:rr,Q:Mt,s:Bt,S:te,u:se,U:ee,V:q,w:le,W:oe,x:null,X:null,y:he,Y:me,Z:Ce,"%":St},vr={a:ur,A:or,b:Ht,B:gr,c:null,d:Ae,e:Ae,f:Le,H:Ue,I:Ve,j:Pe,L:be,m:We,M:je,p:br,q:xr,Q:Mt,s:Bt,S:Fe,u:Ze,U:ut,V:at,w:it,W:$e,x:null,X:null,y:st,Y:ct,Z:vt,"%":St},bt={a:Dt,A:Vt,b:Ut,B:Qt,c:hr,d:m,e:m,f:B,H:I,I,j:F,L:N,m:L,M:U,p:zt,q:o,Q:H,s:Y,S:z,u:d,U:E,V:S,w:l,W:P,x:cr,X:lr,y:M,Y:x,Z:w,"%":O};mr.x=ht(ye,mr),mr.X=ht(Se,mr),mr.c=ht(we,mr),vr.x=ht(ye,vr),vr.X=ht(Se,vr),vr.c=ht(we,vr);function ht(dr,Wr){return function(Br){var Ur=[],yn=-1,rn=0,Un=dr.length,bn,Lr,Pr;for(Br instanceof Date||(Br=new Date(+Br));++yn<Un;)dr.charCodeAt(yn)===37&&(Ur.push(dr.slice(rn,yn)),(Lr=n[bn=dr.charAt(++yn)])!=null?bn=dr.charAt(++yn):Lr=bn==="e"?" ":"0",(Pr=Wr[bn])&&(bn=Pr(Br,Lr)),Ur.push(bn),rn=yn+1);return Ur.push(dr.slice(rn,yn)),Ur.join("")}}function Tt(dr,Wr){return function(Br){var Ur=r(1900,void 0,1),yn=Pt(Ur,dr,Br+="",0),rn,Un;if(yn!=Br.length)return null;if("Q"in Ur)return new Date(Ur.Q);if("s"in Ur)return new Date(Ur.s*1e3+("L"in Ur?Ur.L:0));if(Wr&&!("Z"in Ur)&&(Ur.Z=0),"p"in Ur&&(Ur.H=Ur.H%12+Ur.p*12),Ur.m===void 0&&(Ur.m="q"in Ur?Ur.q:0),"V"in Ur){if(Ur.V<1||Ur.V>53)return null;"w"in Ur||(Ur.w=1),"Z"in Ur?(rn=t(r(Ur.y,0,1)),Un=rn.getUTCDay(),rn=Un>4||Un===0?g.l6.ceil(rn):(0,g.l6)(rn),rn=_.Z.offset(rn,(Ur.V-1)*7),Ur.y=rn.getUTCFullYear(),Ur.m=rn.getUTCMonth(),Ur.d=rn.getUTCDate()+(Ur.w+6)%7):(rn=p(r(Ur.y,0,1)),Un=rn.getDay(),rn=Un>4||Un===0?a.wA.ceil(rn):(0,a.wA)(rn),rn=C.Z.offset(rn,(Ur.V-1)*7),Ur.y=rn.getFullYear(),Ur.m=rn.getMonth(),Ur.d=rn.getDate()+(Ur.w+6)%7)}else("W"in Ur||"U"in Ur)&&("w"in Ur||(Ur.w="u"in Ur?Ur.u%7:"W"in Ur?1:0),Un="Z"in Ur?t(r(Ur.y,0,1)).getUTCDay():p(r(Ur.y,0,1)).getDay(),Ur.m=0,Ur.d="W"in Ur?(Ur.w+6)%7+Ur.W*7-(Un+5)%7:Ur.w+Ur.U*7-(Un+6)%7);return"Z"in Ur?(Ur.H+=Ur.Z/100|0,Ur.M+=Ur.Z%100,t(Ur)):p(Ur)}}function Pt(dr,Wr,Br,Ur){for(var yn=0,rn=Wr.length,Un=Br.length,bn,Lr;yn<rn;){if(Ur>=Un)return-1;if(bn=Wr.charCodeAt(yn++),bn===37){if(bn=Wr.charAt(yn++),Lr=bt[bn in n?Wr.charAt(yn++):bn],!Lr||(Ur=Lr(dr,Br,Ur))<0)return-1}else if(bn!=Br.charCodeAt(Ur++))return-1}return Ur}function zt(dr,Wr,Br){var Ur=At.exec(Wr.slice(Br));return Ur?(dr.p=jt[Ur[0].toLowerCase()],Br+Ur[0].length):-1}function Dt(dr,Wr,Br){var Ur=Nt.exec(Wr.slice(Br));return Ur?(dr.w=Kt[Ur[0].toLowerCase()],Br+Ur[0].length):-1}function Vt(dr,Wr,Br){var Ur=tr.exec(Wr.slice(Br));return Ur?(dr.w=Ct[Ur[0].toLowerCase()],Br+Ur[0].length):-1}function Ut(dr,Wr,Br){var Ur=$t.exec(Wr.slice(Br));return Ur?(dr.m=er[Ur[0].toLowerCase()],Br+Ur[0].length):-1}function Qt(dr,Wr,Br){var Ur=wr.exec(Wr.slice(Br));return Ur?(dr.m=yt[Ur[0].toLowerCase()],Br+Ur[0].length):-1}function hr(dr,Wr,Br){return Pt(dr,we,Wr,Br)}function cr(dr,Wr,Br){return Pt(dr,ye,Wr,Br)}function lr(dr,Wr,Br){return Pt(dr,Se,Wr,Br)}function Xe(dr){return qe[dr.getDay()]}function Ke(dr){return He[dr.getDay()]}function Ot(dr){return pt[dr.getMonth()]}function Lt(dr){return rt[dr.getMonth()]}function Xt(dr){return Me[+(dr.getHours()>=12)]}function rr(dr){return 1+~~(dr.getMonth()/3)}function ur(dr){return qe[dr.getUTCDay()]}function or(dr){return He[dr.getUTCDay()]}function Ht(dr){return pt[dr.getUTCMonth()]}function gr(dr){return rt[dr.getUTCMonth()]}function br(dr){return Me[+(dr.getUTCHours()>=12)]}function xr(dr){return 1+~~(dr.getUTCMonth()/3)}return{format:function(dr){var Wr=ht(dr+="",mr);return Wr.toString=function(){return dr},Wr},parse:function(dr){var Wr=Tt(dr+="",!1);return Wr.toString=function(){return dr},Wr},utcFormat:function(dr){var Wr=ht(dr+="",vr);return Wr.toString=function(){return dr},Wr},utcParse:function(dr){var Wr=Tt(dr+="",!0);return Wr.toString=function(){return dr},Wr}}}var n={"-":"",_:" ",0:"0"},i=/^\s*\d+/,f=/^%/,u=/[\\^$*+?|[\]().{}]/g;function y(Re,we,ye){var Se=Re<0?"-":"",Me=(Se?-Re:Re)+"",He=Me.length;return Se+(He<ye?new Array(ye-He+1).join(we)+Me:Me)}function c(Re){return Re.replace(u,"\\$&")}function T(Re){return new RegExp("^(?:"+Re.map(c).join("|")+")","i")}function h(Re){for(var we={},ye=-1,Se=Re.length;++ye<Se;)we[Re[ye].toLowerCase()]=ye;return we}function l(Re,we,ye){var Se=i.exec(we.slice(ye,ye+1));return Se?(Re.w=+Se[0],ye+Se[0].length):-1}function d(Re,we,ye){var Se=i.exec(we.slice(ye,ye+1));return Se?(Re.u=+Se[0],ye+Se[0].length):-1}function E(Re,we,ye){var Se=i.exec(we.slice(ye,ye+2));return Se?(Re.U=+Se[0],ye+Se[0].length):-1}function S(Re,we,ye){var Se=i.exec(we.slice(ye,ye+2));return Se?(Re.V=+Se[0],ye+Se[0].length):-1}function P(Re,we,ye){var Se=i.exec(we.slice(ye,ye+2));return Se?(Re.W=+Se[0],ye+Se[0].length):-1}function x(Re,we,ye){var Se=i.exec(we.slice(ye,ye+4));return Se?(Re.y=+Se[0],ye+Se[0].length):-1}function M(Re,we,ye){var Se=i.exec(we.slice(ye,ye+2));return Se?(Re.y=+Se[0]+(+Se[0]>68?1900:2e3),ye+Se[0].length):-1}function w(Re,we,ye){var Se=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(we.slice(ye,ye+6));return Se?(Re.Z=Se[1]?0:-(Se[2]+(Se[3]||"00")),ye+Se[0].length):-1}function o(Re,we,ye){var Se=i.exec(we.slice(ye,ye+1));return Se?(Re.q=Se[0]*3-3,ye+Se[0].length):-1}function L(Re,we,ye){var Se=i.exec(we.slice(ye,ye+2));return Se?(Re.m=Se[0]-1,ye+Se[0].length):-1}function m(Re,we,ye){var Se=i.exec(we.slice(ye,ye+2));return Se?(Re.d=+Se[0],ye+Se[0].length):-1}function F(Re,we,ye){var Se=i.exec(we.slice(ye,ye+3));return Se?(Re.m=0,Re.d=+Se[0],ye+Se[0].length):-1}function I(Re,we,ye){var Se=i.exec(we.slice(ye,ye+2));return Se?(Re.H=+Se[0],ye+Se[0].length):-1}function U(Re,we,ye){var Se=i.exec(we.slice(ye,ye+2));return Se?(Re.M=+Se[0],ye+Se[0].length):-1}function z(Re,we,ye){var Se=i.exec(we.slice(ye,ye+2));return Se?(Re.S=+Se[0],ye+Se[0].length):-1}function N(Re,we,ye){var Se=i.exec(we.slice(ye,ye+3));return Se?(Re.L=+Se[0],ye+Se[0].length):-1}function B(Re,we,ye){var Se=i.exec(we.slice(ye,ye+6));return Se?(Re.L=Math.floor(Se[0]/1e3),ye+Se[0].length):-1}function O(Re,we,ye){var Se=f.exec(we.slice(ye,ye+1));return Se?ye+Se[0].length:-1}function H(Re,we,ye){var Se=i.exec(we.slice(ye));return Se?(Re.Q=+Se[0],ye+Se[0].length):-1}function Y(Re,we,ye){var Se=i.exec(we.slice(ye));return Se?(Re.s=+Se[0],ye+Se[0].length):-1}function J(Re,we){return y(Re.getDate(),we,2)}function re(Re,we){return y(Re.getHours(),we,2)}function ie(Re,we){return y(Re.getHours()%12||12,we,2)}function ce(Re,we){return y(1+C.Z.count((0,A.Z)(Re),Re),we,3)}function Q(Re,we){return y(Re.getMilliseconds(),we,3)}function j(Re,we){return Q(Re,we)+"000"}function Z(Re,we){return y(Re.getMonth()+1,we,2)}function $(Re,we){return y(Re.getMinutes(),we,2)}function te(Re,we){return y(Re.getSeconds(),we,2)}function se(Re){var we=Re.getDay();return we===0?7:we}function ee(Re,we){return y(a.OM.count((0,A.Z)(Re)-1,Re),we,2)}function q(Re,we){var ye=Re.getDay();return Re=ye>=4||ye===0?(0,a.bL)(Re):a.bL.ceil(Re),y(a.bL.count((0,A.Z)(Re),Re)+((0,A.Z)(Re).getDay()===4),we,2)}function le(Re){return Re.getDay()}function oe(Re,we){return y(a.wA.count((0,A.Z)(Re)-1,Re),we,2)}function he(Re,we){return y(Re.getFullYear()%100,we,2)}function me(Re,we){return y(Re.getFullYear()%1e4,we,4)}function Ce(Re){var we=Re.getTimezoneOffset();return(we>0?"-":(we*=-1,"+"))+y(we/60|0,"0",2)+y(we%60,"0",2)}function Ae(Re,we){return y(Re.getUTCDate(),we,2)}function Ue(Re,we){return y(Re.getUTCHours(),we,2)}function Ve(Re,we){return y(Re.getUTCHours()%12||12,we,2)}function Pe(Re,we){return y(1+_.Z.count((0,v.Z)(Re),Re),we,3)}function be(Re,we){return y(Re.getUTCMilliseconds(),we,3)}function Le(Re,we){return be(Re,we)+"000"}function We(Re,we){return y(Re.getUTCMonth()+1,we,2)}function je(Re,we){return y(Re.getUTCMinutes(),we,2)}function Fe(Re,we){return y(Re.getUTCSeconds(),we,2)}function Ze(Re){var we=Re.getUTCDay();return we===0?7:we}function ut(Re,we){return y(g.Ox.count((0,v.Z)(Re)-1,Re),we,2)}function at(Re,we){var ye=Re.getUTCDay();return Re=ye>=4||ye===0?(0,g.hB)(Re):g.hB.ceil(Re),y(g.hB.count((0,v.Z)(Re),Re)+((0,v.Z)(Re).getUTCDay()===4),we,2)}function it(Re){return Re.getUTCDay()}function $e(Re,we){return y(g.l6.count((0,v.Z)(Re)-1,Re),we,2)}function st(Re,we){return y(Re.getUTCFullYear()%100,we,2)}function ct(Re,we){return y(Re.getUTCFullYear()%1e4,we,4)}function vt(){return"+0000"}function St(){return"%"}function Mt(Re){return+Re}function Bt(Re){return Math.floor(+Re/1e3)}var Qe,ke,ze;Be({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Be(Re){return Qe=s(Re),ke=Qe.format,Qe.parse,ze=Qe.utcFormat,Qe.utcParse,Qe}},82301:function(G,V,e){e.d(V,{a:function(){return C}});var g=e(30052),_=e(54263),a=(0,g.Z)(function(A){A.setHours(0,0,0,0)},function(A,v){A.setDate(A.getDate()+v)},function(A,v){return(v-A-(v.getTimezoneOffset()-A.getTimezoneOffset())*_.yB)/_.UD},function(A){return A.getDate()-1});V.Z=a;var C=a.range},54263:function(G,V,e){e.d(V,{UD:function(){return C},Y2:function(){return a},Ym:function(){return g},iM:function(){return A},yB:function(){return _}});var g=1e3,_=6e4,a=36e5,C=864e5,A=6048e5},81041:function(G,V,e){e.r(V),e.d(V,{timeDay:function(){return y.Z},timeDays:function(){return y.a},timeFriday:function(){return c.mC},timeFridays:function(){return c.b$},timeHour:function(){return f},timeHours:function(){return u},timeInterval:function(){return g.Z},timeMillisecond:function(){return a},timeMilliseconds:function(){return C},timeMinute:function(){return s},timeMinutes:function(){return n},timeMonday:function(){return c.wA},timeMondays:function(){return c.bJ},timeMonth:function(){return h},timeMonths:function(){return l},timeSaturday:function(){return c.EY},timeSaturdays:function(){return c.Ff},timeSecond:function(){return p},timeSeconds:function(){return t},timeSunday:function(){return c.OM},timeSundays:function(){return c.vm},timeThursday:function(){return c.bL},timeThursdays:function(){return c.$t},timeTuesday:function(){return c.sy},timeTuesdays:function(){return c.aU},timeWednesday:function(){return c.zg},timeWednesdays:function(){return c.Ld},timeWeek:function(){return c.OM},timeWeeks:function(){return c.vm},timeYear:function(){return d.Z},timeYears:function(){return d.g},utcDay:function(){return o.Z},utcDays:function(){return o.y},utcFriday:function(){return L.QQ},utcFridays:function(){return L.fz},utcHour:function(){return M},utcHours:function(){return w},utcMillisecond:function(){return a},utcMilliseconds:function(){return C},utcMinute:function(){return S},utcMinutes:function(){return P},utcMonday:function(){return L.l6},utcMondays:function(){return L.$3},utcMonth:function(){return F},utcMonths:function(){return I},utcSaturday:function(){return L.g4},utcSaturdays:function(){return L.Q_},utcSecond:function(){return p},utcSeconds:function(){return t},utcSunday:function(){return L.Ox},utcSundays:function(){return L.SU},utcThursday:function(){return L.hB},utcThursdays:function(){return L.xj},utcTuesday:function(){return L.J1},utcTuesdays:function(){return L.DK},utcWednesday:function(){return L.b3},utcWednesdays:function(){return L.uy},utcWeek:function(){return L.Ox},utcWeeks:function(){return L.SU},utcYear:function(){return U.Z},utcYears:function(){return U.D}});var g=e(30052),_=(0,g.Z)(function(){},function(z,N){z.setTime(+z+N)},function(z,N){return N-z});_.every=function(z){return z=Math.floor(z),!isFinite(z)||!(z>0)?null:z>1?(0,g.Z)(function(N){N.setTime(Math.floor(N/z)*z)},function(N,B){N.setTime(+N+B*z)},function(N,B){return(B-N)/z}):_};var a=_,C=_.range,A=e(54263),v=(0,g.Z)(function(z){z.setTime(z-z.getMilliseconds())},function(z,N){z.setTime(+z+N*A.Ym)},function(z,N){return(N-z)/A.Ym},function(z){return z.getUTCSeconds()}),p=v,t=v.range,r=(0,g.Z)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*A.Ym)},function(z,N){z.setTime(+z+N*A.yB)},function(z,N){return(N-z)/A.yB},function(z){return z.getMinutes()}),s=r,n=r.range,i=(0,g.Z)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*A.Ym-z.getMinutes()*A.yB)},function(z,N){z.setTime(+z+N*A.Y2)},function(z,N){return(N-z)/A.Y2},function(z){return z.getHours()}),f=i,u=i.range,y=e(82301),c=e(59879),T=(0,g.Z)(function(z){z.setDate(1),z.setHours(0,0,0,0)},function(z,N){z.setMonth(z.getMonth()+N)},function(z,N){return N.getMonth()-z.getMonth()+(N.getFullYear()-z.getFullYear())*12},function(z){return z.getMonth()}),h=T,l=T.range,d=e(34823),E=(0,g.Z)(function(z){z.setUTCSeconds(0,0)},function(z,N){z.setTime(+z+N*A.yB)},function(z,N){return(N-z)/A.yB},function(z){return z.getUTCMinutes()}),S=E,P=E.range,x=(0,g.Z)(function(z){z.setUTCMinutes(0,0,0)},function(z,N){z.setTime(+z+N*A.Y2)},function(z,N){return(N-z)/A.Y2},function(z){return z.getUTCHours()}),M=x,w=x.range,o=e(48480),L=e(58176),m=(0,g.Z)(function(z){z.setUTCDate(1),z.setUTCHours(0,0,0,0)},function(z,N){z.setUTCMonth(z.getUTCMonth()+N)},function(z,N){return N.getUTCMonth()-z.getUTCMonth()+(N.getUTCFullYear()-z.getUTCFullYear())*12},function(z){return z.getUTCMonth()}),F=m,I=m.range,U=e(79791)},30052:function(G,V,e){e.d(V,{Z:function(){return a}});var g=new Date,_=new Date;function a(C,A,v,p){function t(r){return C(r=arguments.length===0?new Date:new Date(+r)),r}return t.floor=function(r){return C(r=new Date(+r)),r},t.ceil=function(r){return C(r=new Date(r-1)),A(r,1),C(r),r},t.round=function(r){var s=t(r),n=t.ceil(r);return r-s<n-r?s:n},t.offset=function(r,s){return A(r=new Date(+r),s==null?1:Math.floor(s)),r},t.range=function(r,s,n){var i=[],f;if(r=t.ceil(r),n=n==null?1:Math.floor(n),!(r<s)||!(n>0))return i;do i.push(f=new Date(+r)),A(r,n),C(r);while(f<r&&r<s);return i},t.filter=function(r){return a(function(s){if(s>=s)for(;C(s),!r(s);)s.setTime(s-1)},function(s,n){if(s>=s)if(n<0)for(;++n<=0;)for(;A(s,-1),!r(s););else for(;--n>=0;)for(;A(s,1),!r(s););})},v&&(t.count=function(r,s){return g.setTime(+r),_.setTime(+s),C(g),C(_),Math.floor(v(g,_))},t.every=function(r){return r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?t.filter(p?function(s){return p(s)%r===0}:function(s){return t.count(0,s)%r===0}):t}),t}},48480:function(G,V,e){e.d(V,{y:function(){return C}});var g=e(30052),_=e(54263),a=(0,g.Z)(function(A){A.setUTCHours(0,0,0,0)},function(A,v){A.setUTCDate(A.getUTCDate()+v)},function(A,v){return(v-A)/_.UD},function(A){return A.getUTCDate()-1});V.Z=a;var C=a.range},58176:function(G,V,e){e.d(V,{$3:function(){return i},DK:function(){return f},J1:function(){return v},Ox:function(){return C},QQ:function(){return r},Q_:function(){return T},SU:function(){return n},b3:function(){return p},fz:function(){return c},g4:function(){return s},hB:function(){return t},l6:function(){return A},uy:function(){return u},xj:function(){return y}});var g=e(30052),_=e(54263);function a(h){return(0,g.Z)(function(l){l.setUTCDate(l.getUTCDate()-(l.getUTCDay()+7-h)%7),l.setUTCHours(0,0,0,0)},function(l,d){l.setUTCDate(l.getUTCDate()+d*7)},function(l,d){return(d-l)/_.iM})}var C=a(0),A=a(1),v=a(2),p=a(3),t=a(4),r=a(5),s=a(6),n=C.range,i=A.range,f=v.range,u=p.range,y=t.range,c=r.range,T=s.range},79791:function(G,V,e){e.d(V,{D:function(){return a}});var g=e(30052),_=(0,g.Z)(function(C){C.setUTCMonth(0,1),C.setUTCHours(0,0,0,0)},function(C,A){C.setUTCFullYear(C.getUTCFullYear()+A)},function(C,A){return A.getUTCFullYear()-C.getUTCFullYear()},function(C){return C.getUTCFullYear()});_.every=function(C){return!isFinite(C=Math.floor(C))||!(C>0)?null:(0,g.Z)(function(A){A.setUTCFullYear(Math.floor(A.getUTCFullYear()/C)*C),A.setUTCMonth(0,1),A.setUTCHours(0,0,0,0)},function(A,v){A.setUTCFullYear(A.getUTCFullYear()+v*C)})},V.Z=_;var a=_.range},59879:function(G,V,e){e.d(V,{$t:function(){return y},EY:function(){return s},Ff:function(){return T},Ld:function(){return u},OM:function(){return C},aU:function(){return f},b$:function(){return c},bJ:function(){return i},bL:function(){return t},mC:function(){return r},sy:function(){return v},vm:function(){return n},wA:function(){return A},zg:function(){return p}});var g=e(30052),_=e(54263);function a(h){return(0,g.Z)(function(l){l.setDate(l.getDate()-(l.getDay()+7-h)%7),l.setHours(0,0,0,0)},function(l,d){l.setDate(l.getDate()+d*7)},function(l,d){return(d-l-(d.getTimezoneOffset()-l.getTimezoneOffset())*_.yB)/_.iM})}var C=a(0),A=a(1),v=a(2),p=a(3),t=a(4),r=a(5),s=a(6),n=C.range,i=A.range,f=v.range,u=p.range,y=t.range,c=r.range,T=s.range},34823:function(G,V,e){e.d(V,{g:function(){return a}});var g=e(30052),_=(0,g.Z)(function(C){C.setMonth(0,1),C.setHours(0,0,0,0)},function(C,A){C.setFullYear(C.getFullYear()+A)},function(C,A){return A.getFullYear()-C.getFullYear()},function(C){return C.getFullYear()});_.every=function(C){return!isFinite(C=Math.floor(C))||!(C>0)?null:(0,g.Z)(function(A){A.setFullYear(Math.floor(A.getFullYear()/C)*C),A.setMonth(0,1),A.setHours(0,0,0,0)},function(A,v){A.setFullYear(A.getFullYear()+v*C)})},V.Z=_;var a=_.range},17045:function(G,V,e){var g=e(8709),_=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",a=Object.prototype.toString,C=Array.prototype.concat,A=Object.defineProperty,v=function(n){return typeof n=="function"&&a.call(n)==="[object Function]"},p=e(55622)(),t=A&&p,r=function(n,i,f,u){if(i in n){if(u===!0){if(n[i]===f)return}else if(!v(u)||!u())return}t?A(n,i,{configurable:!0,enumerable:!1,value:f,writable:!0}):n[i]=f},s=function(n,i){var f=arguments.length>2?arguments[2]:{},u=g(i);_&&(u=C.call(u,Object.getOwnPropertySymbols(i)));for(var y=0;y<u.length;y+=1)r(n,u[y],i[u[y]],f[u[y]])};s.supportsDescriptors=!!t,G.exports=s},46775:function(G){G.exports=function(){for(var V=0;V<arguments.length;V++)if(arguments[V]!==void 0)return arguments[V]}},53545:function(G){G.exports=_;var V=_.canvas=document.createElement("canvas"),e=V.getContext("2d"),g=a([32,126]);_.createPairs=a,_.ascii=g;function _(C,A){Array.isArray(C)&&(C=C.join(", "));var v={},p,t=16,r=.05;A&&(A.length===2&&typeof A[0]=="number"?p=a(A):Array.isArray(A)?p=A:(A.o?p=a(A.o):A.pairs&&(p=A.pairs),A.fontSize&&(t=A.fontSize),A.threshold!=null&&(r=A.threshold))),p||(p=g),e.font=t+"px "+C;for(var s=0;s<p.length;s++){var n=p[s],i=e.measureText(n[0]).width+e.measureText(n[1]).width,f=e.measureText(n).width;if(Math.abs(i-f)>t*r){var u=(f-i)/t;v[n]=u*1e3}}return v}function a(C){for(var A=[],v=C[0];v<=C[1];v++)for(var p=String.fromCharCode(v),t=C[0];t<C[1];t++){var r=String.fromCharCode(t),s=p+r;A.push(s)}return A}},31457:function(G,V,e){var g=e(65185),_=e(18625),a={M:"moveTo",C:"bezierCurveTo"};G.exports=function(C,A){C.beginPath(),_(g(A)).forEach(function(v){var p=v[0],t=v.slice(1);C[a[p]].apply(C,t)}),C.closePath()}},90660:function(G){G.exports=function(V){switch(V){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},12129:function(G){function V(_,a,C){var A=_[C]|0;if(A<=0)return[];var v=new Array(A),p;if(C===_.length-1)for(p=0;p<A;++p)v[p]=a;else for(p=0;p<A;++p)v[p]=V(_,a,C+1);return v}function e(_,a){var C,A;for(C=new Array(_),A=0;A<_;++A)C[A]=a;return C}function g(_,a){switch(typeof a>"u"&&(a=0),typeof _){case"number":if(_>0)return e(_|0,a);break;case"object":if(typeof _.length=="number")return V(_,a,0);break}return[]}G.exports=g},11474:function(G){G.exports=V,G.exports.default=V;function V(I,U,z){z=z||2;var N=U&&U.length,B=N?U[0]*z:I.length,O=e(I,0,B,z,!0),H=[];if(!O||O.next===O.prev)return H;var Y,J,re,ie,ce,Q,j;if(N&&(O=p(I,U,O,z)),I.length>80*z){Y=re=I[0],J=ie=I[1];for(var Z=z;Z<B;Z+=z)ce=I[Z],Q=I[Z+1],ce<Y&&(Y=ce),Q<J&&(J=Q),ce>re&&(re=ce),Q>ie&&(ie=Q);j=Math.max(re-Y,ie-J),j=j!==0?1/j:0}return _(O,H,z,Y,J,j),H}function e(I,U,z,N,B){var O,H;if(B===F(I,U,z,N)>0)for(O=U;O<z;O+=N)H=o(O,I[O],I[O+1],H);else for(O=z-N;O>=U;O-=N)H=o(O,I[O],I[O+1],H);return H&&l(H,H.next)&&(L(H),H=H.next),H}function g(I,U){if(!I)return I;U||(U=I);var z=I,N;do if(N=!1,!z.steiner&&(l(z,z.next)||h(z.prev,z,z.next)===0)){if(L(z),z=U=z.prev,z===z.next)break;N=!0}else z=z.next;while(N||z!==U);return U}function _(I,U,z,N,B,O,H){if(I){!H&&O&&i(I,N,B,O);for(var Y=I,J,re;I.prev!==I.next;){if(J=I.prev,re=I.next,O?C(I,N,B,O):a(I)){U.push(J.i/z),U.push(I.i/z),U.push(re.i/z),L(I),I=re.next,Y=re.next;continue}if(I=re,I===Y){H?H===1?(I=A(g(I),U,z),_(I,U,z,N,B,O,2)):H===2&&v(I,U,z,N,B,O):_(g(I),U,z,N,B,O,1);break}}}}function a(I){var U=I.prev,z=I,N=I.next;if(h(U,z,N)>=0)return!1;for(var B=I.next.next;B!==I.prev;){if(c(U.x,U.y,z.x,z.y,N.x,N.y,B.x,B.y)&&h(B.prev,B,B.next)>=0)return!1;B=B.next}return!0}function C(I,U,z,N){var B=I.prev,O=I,H=I.next;if(h(B,O,H)>=0)return!1;for(var Y=B.x<O.x?B.x<H.x?B.x:H.x:O.x<H.x?O.x:H.x,J=B.y<O.y?B.y<H.y?B.y:H.y:O.y<H.y?O.y:H.y,re=B.x>O.x?B.x>H.x?B.x:H.x:O.x>H.x?O.x:H.x,ie=B.y>O.y?B.y>H.y?B.y:H.y:O.y>H.y?O.y:H.y,ce=u(Y,J,U,z,N),Q=u(re,ie,U,z,N),j=I.prevZ,Z=I.nextZ;j&&j.z>=ce&&Z&&Z.z<=Q;){if(j!==I.prev&&j!==I.next&&c(B.x,B.y,O.x,O.y,H.x,H.y,j.x,j.y)&&h(j.prev,j,j.next)>=0||(j=j.prevZ,Z!==I.prev&&Z!==I.next&&c(B.x,B.y,O.x,O.y,H.x,H.y,Z.x,Z.y)&&h(Z.prev,Z,Z.next)>=0))return!1;Z=Z.nextZ}for(;j&&j.z>=ce;){if(j!==I.prev&&j!==I.next&&c(B.x,B.y,O.x,O.y,H.x,H.y,j.x,j.y)&&h(j.prev,j,j.next)>=0)return!1;j=j.prevZ}for(;Z&&Z.z<=Q;){if(Z!==I.prev&&Z!==I.next&&c(B.x,B.y,O.x,O.y,H.x,H.y,Z.x,Z.y)&&h(Z.prev,Z,Z.next)>=0)return!1;Z=Z.nextZ}return!0}function A(I,U,z){var N=I;do{var B=N.prev,O=N.next.next;!l(B,O)&&d(B,N,N.next,O)&&x(B,O)&&x(O,B)&&(U.push(B.i/z),U.push(N.i/z),U.push(O.i/z),L(N),L(N.next),N=I=O),N=N.next}while(N!==I);return g(N)}function v(I,U,z,N,B,O){var H=I;do{for(var Y=H.next.next;Y!==H.prev;){if(H.i!==Y.i&&T(H,Y)){var J=w(H,Y);H=g(H,H.next),J=g(J,J.next),_(H,U,z,N,B,O),_(J,U,z,N,B,O);return}Y=Y.next}H=H.next}while(H!==I)}function p(I,U,z,N){var B=[],O,H,Y,J,re;for(O=0,H=U.length;O<H;O++)Y=U[O]*N,J=O<H-1?U[O+1]*N:I.length,re=e(I,Y,J,N,!1),re===re.next&&(re.steiner=!0),B.push(y(re));for(B.sort(t),O=0;O<B.length;O++)r(B[O],z),z=g(z,z.next);return z}function t(I,U){return I.x-U.x}function r(I,U){if(U=s(I,U),U){var z=w(U,I);g(U,U.next),g(z,z.next)}}function s(I,U){var z=U,N=I.x,B=I.y,O=-1/0,H;do{if(B<=z.y&&B>=z.next.y&&z.next.y!==z.y){var Y=z.x+(B-z.y)*(z.next.x-z.x)/(z.next.y-z.y);if(Y<=N&&Y>O){if(O=Y,Y===N){if(B===z.y)return z;if(B===z.next.y)return z.next}H=z.x<z.next.x?z:z.next}}z=z.next}while(z!==U);if(!H)return null;if(N===O)return H;var J=H,re=H.x,ie=H.y,ce=1/0,Q;z=H;do N>=z.x&&z.x>=re&&N!==z.x&&c(B<ie?N:O,B,re,ie,B<ie?O:N,B,z.x,z.y)&&(Q=Math.abs(B-z.y)/(N-z.x),x(z,I)&&(Q<ce||Q===ce&&(z.x>H.x||z.x===H.x&&n(H,z)))&&(H=z,ce=Q)),z=z.next;while(z!==J);return H}function n(I,U){return h(I.prev,I,U.prev)<0&&h(U.next,I,I.next)<0}function i(I,U,z,N){var B=I;do B.z===null&&(B.z=u(B.x,B.y,U,z,N)),B.prevZ=B.prev,B.nextZ=B.next,B=B.next;while(B!==I);B.prevZ.nextZ=null,B.prevZ=null,f(B)}function f(I){var U,z,N,B,O,H,Y,J,re=1;do{for(z=I,I=null,O=null,H=0;z;){for(H++,N=z,Y=0,U=0;U<re&&(Y++,N=N.nextZ,!!N);U++);for(J=re;Y>0||J>0&&N;)Y!==0&&(J===0||!N||z.z<=N.z)?(B=z,z=z.nextZ,Y--):(B=N,N=N.nextZ,J--),O?O.nextZ=B:I=B,B.prevZ=O,O=B;z=N}O.nextZ=null,re*=2}while(H>1);return I}function u(I,U,z,N,B){return I=32767*(I-z)*B,U=32767*(U-N)*B,I=(I|I<<8)&16711935,I=(I|I<<4)&252645135,I=(I|I<<2)&858993459,I=(I|I<<1)&1431655765,U=(U|U<<8)&16711935,U=(U|U<<4)&252645135,U=(U|U<<2)&858993459,U=(U|U<<1)&1431655765,I|U<<1}function y(I){var U=I,z=I;do(U.x<z.x||U.x===z.x&&U.y<z.y)&&(z=U),U=U.next;while(U!==I);return z}function c(I,U,z,N,B,O,H,Y){return(B-H)*(U-Y)-(I-H)*(O-Y)>=0&&(I-H)*(N-Y)-(z-H)*(U-Y)>=0&&(z-H)*(O-Y)-(B-H)*(N-Y)>=0}function T(I,U){return I.next.i!==U.i&&I.prev.i!==U.i&&!P(I,U)&&(x(I,U)&&x(U,I)&&M(I,U)&&(h(I.prev,I,U.prev)||h(I,U.prev,U))||l(I,U)&&h(I.prev,I,I.next)>0&&h(U.prev,U,U.next)>0)}function h(I,U,z){return(U.y-I.y)*(z.x-U.x)-(U.x-I.x)*(z.y-U.y)}function l(I,U){return I.x===U.x&&I.y===U.y}function d(I,U,z,N){var B=S(h(I,U,z)),O=S(h(I,U,N)),H=S(h(z,N,I)),Y=S(h(z,N,U));return!!(B!==O&&H!==Y||B===0&&E(I,z,U)||O===0&&E(I,N,U)||H===0&&E(z,I,N)||Y===0&&E(z,U,N))}function E(I,U,z){return U.x<=Math.max(I.x,z.x)&&U.x>=Math.min(I.x,z.x)&&U.y<=Math.max(I.y,z.y)&&U.y>=Math.min(I.y,z.y)}function S(I){return I>0?1:I<0?-1:0}function P(I,U){var z=I;do{if(z.i!==I.i&&z.next.i!==I.i&&z.i!==U.i&&z.next.i!==U.i&&d(z,z.next,I,U))return!0;z=z.next}while(z!==I);return!1}function x(I,U){return h(I.prev,I,I.next)<0?h(I,U,I.next)>=0&&h(I,I.prev,U)>=0:h(I,U,I.prev)<0||h(I,I.next,U)<0}function M(I,U){var z=I,N=!1,B=(I.x+U.x)/2,O=(I.y+U.y)/2;do z.y>O!=z.next.y>O&&z.next.y!==z.y&&B<(z.next.x-z.x)*(O-z.y)/(z.next.y-z.y)+z.x&&(N=!N),z=z.next;while(z!==I);return N}function w(I,U){var z=new m(I.i,I.x,I.y),N=new m(U.i,U.x,U.y),B=I.next,O=U.prev;return I.next=U,U.prev=I,z.next=B,B.prev=z,N.next=z,z.prev=N,O.next=N,N.prev=O,N}function o(I,U,z,N){var B=new m(I,U,z);return N?(B.next=N.next,B.prev=N,N.next.prev=B,N.next=B):(B.prev=B,B.next=B),B}function L(I){I.next.prev=I.prev,I.prev.next=I.next,I.prevZ&&(I.prevZ.nextZ=I.nextZ),I.nextZ&&(I.nextZ.prevZ=I.prevZ)}function m(I,U,z){this.i=I,this.x=U,this.y=z,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}V.deviation=function(I,U,z,N){var B=U&&U.length,O=B?U[0]*z:I.length,H=Math.abs(F(I,0,O,z));if(B)for(var Y=0,J=U.length;Y<J;Y++){var re=U[Y]*z,ie=Y<J-1?U[Y+1]*z:I.length;H-=Math.abs(F(I,re,ie,z))}var ce=0;for(Y=0;Y<N.length;Y+=3){var Q=N[Y]*z,j=N[Y+1]*z,Z=N[Y+2]*z;ce+=Math.abs((I[Q]-I[Z])*(I[j+1]-I[Q+1])-(I[Q]-I[j])*(I[Z+1]-I[Q+1]))}return H===0&&ce===0?0:Math.abs((ce-H)/H)};function F(I,U,z,N){for(var B=0,O=U,H=z-N;O<z;O+=N)B+=(I[H]-I[O])*(I[O+1]+I[H+1]),H=O;return B}V.flatten=function(I){for(var U=I[0][0].length,z={vertices:[],holes:[],dimensions:U},N=0,B=0;B<I.length;B++){for(var O=0;O<I[B].length;O++)for(var H=0;H<U;H++)z.vertices.push(I[B][O][H]);B>0&&(N+=I[B-1].length,z.holes.push(N))}return z}},2502:function(G,V,e){var g=e(68664);G.exports=function(a,C){var A=[],v=[],p=[],t={},r=[],s;function n(E){p[E]=!1,t.hasOwnProperty(E)&&Object.keys(t[E]).forEach(function(S){delete t[E][S],p[S]&&n(S)})}function i(E){var S=!1;v.push(E),p[E]=!0;var P,x;for(P=0;P<r[E].length;P++)x=r[E][P],x===s?(f(s,v),S=!0):p[x]||(S=i(x));if(S)n(E);else for(P=0;P<r[E].length;P++){x=r[E][P];var M=t[x];M||(M={},t[x]=M),M[x]=!0}return v.pop(),S}function f(E,S){var P=[].concat(S).concat(E);C?C(i):A.push(P)}function u(E){for(var S=0;S<a.length;S++)S<E&&(a[S]=[]),a[S]=a[S].filter(function(P){return P>=E})}function y(E){u(E);for(var S=a,P=g(S),x=P.components.filter(function(I){return I.length>1}),M=1/0,w,o=0;o<x.length;o++)for(var L=0;L<x[o].length;L++)x[o][L]<M&&(M=x[o][L],w=o);var m=x[w];if(!m)return!1;var F=a.map(function(I,U){return m.indexOf(U)===-1?[]:I.filter(function(z){return m.indexOf(z)!==-1})});return{leastVertex:M,adjList:F}}s=0;for(var c=a.length;s<c;){var T=y(s);if(s=T.leastVertex,r=T.adjList,r){for(var h=0;h<r.length;h++)for(var l=0;l<r[h].length;l++){var d=r[h][l];p[+d]=!1,t[d]={}}i(s),s=s+1}else s=c}if(!C)return A}},16134:function(G,V,e){var g=e(36672);G.exports=function(){return g(this).length=0,this}},4892:function(G,V,e){G.exports=e(64404)()?Array.from:e(49441)},64404:function(G){G.exports=function(){var V=Array.from,e,g;return typeof V!="function"?!1:(e=["raz","dwa"],g=V(e),!!(g&&g!==e&&g[1]==="dwa"))}},49441:function(G,V,e){var g=e(8260).iterator,_=e(73051),a=e(33717),C=e(35976),A=e(78513),v=e(36672),p=e(95296),t=e(87963),r=Array.isArray,s=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},i=Object.defineProperty;G.exports=function(f){var u=arguments[1],y=arguments[2],c,T,h,l,d,E,S,P,x,M;if(f=Object(v(f)),p(u)&&A(u),!this||this===Array||!a(this)){if(!u){if(_(f))return d=f.length,d!==1?Array.apply(null,f):(l=new Array(1),l[0]=f[0],l);if(r(f)){for(l=new Array(d=f.length),T=0;T<d;++T)l[T]=f[T];return l}}l=[]}else c=this;if(!r(f)){if((x=f[g])!==void 0){for(S=A(x).call(f),c&&(l=new c),P=S.next(),T=0;!P.done;)M=u?s.call(u,y,P.value,T):P.value,c?(n.value=M,i(l,T,n)):l[T]=M,P=S.next(),++T;d=T}else if(t(f)){for(d=f.length,c&&(l=new c),T=0,h=0;T<d;++T)M=f[T],T+1<d&&(E=M.charCodeAt(0),E>=55296&&E<=56319&&(M+=f[++T])),M=u?s.call(u,y,M,h):M,c?(n.value=M,i(l,h,n)):l[h]=M,++h;d=h}}if(d===void 0)for(d=C(f.length),c&&(l=new c(d)),T=0;T<d;++T)M=u?s.call(u,y,f[T],T):f[T],c?(n.value=M,i(l,T,n)):l[T]=M;return c&&(n.value=null,l.length=d),l}},73051:function(G){var V=Object.prototype.toString,e=V.call(function(){return arguments}());G.exports=function(g){return V.call(g)===e}},33717:function(G){var V=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);G.exports=function(g){return typeof g=="function"&&e(V.call(g))}},52345:function(G){G.exports=function(){}},9953:function(G,V,e){G.exports=e(90436)()?Math.sign:e(6069)},90436:function(G){G.exports=function(){var V=Math.sign;return typeof V!="function"?!1:V(10)===1&&V(-20)===-1}},6069:function(G){G.exports=function(V){return V=Number(V),isNaN(V)||V===0?V:V>0?1:-1}},56247:function(G,V,e){var g=e(9953),_=Math.abs,a=Math.floor;G.exports=function(C){return isNaN(C)?0:(C=Number(C),C===0||!isFinite(C)?C:g(C)*a(_(C)))}},35976:function(G,V,e){var g=e(56247),_=Math.max;G.exports=function(a){return _(0,g(a))}},67260:function(G,V,e){var g=e(78513),_=e(36672),a=Function.prototype.bind,C=Function.prototype.call,A=Object.keys,v=Object.prototype.propertyIsEnumerable;G.exports=function(p,t){return function(r,s){var n,i=arguments[2],f=arguments[3];return r=Object(_(r)),g(s),n=A(r),f&&n.sort(typeof f=="function"?a.call(f,r):void 0),typeof p!="function"&&(p=n[p]),C.call(p,n,function(u,y){return v.call(r,u)?C.call(s,i,r[u],u,r,y):t})}}},95879:function(G,V,e){G.exports=e(73583)()?Object.assign:e(34205)},73583:function(G){G.exports=function(){var V=Object.assign,e;return typeof V!="function"?!1:(e={foo:"raz"},V(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},34205:function(G,V,e){var g=e(68700),_=e(36672),a=Math.max;G.exports=function(C,A){var v,p,t=a(arguments.length,2),r;for(C=Object(_(C)),r=function(s){try{C[s]=A[s]}catch(n){v||(v=n)}},p=1;p<t;++p)A=arguments[p],g(A).forEach(r);if(v!==void 0)throw v;return C}},19012:function(G,V,e){var g=e(4892),_=e(95879),a=e(36672);G.exports=function(C){var A=Object(a(C)),v=arguments[1],p=Object(arguments[2]);if(A!==C&&!v)return A;var t={};return v?g(v,function(r){(p.ensure||r in C)&&(t[r]=C[r])}):_(t,C),t}},52818:function(G,V,e){var g=Object.create,_;e(33247)()||(_=e(51882)),G.exports=function(){var a,C,A;return!_||_.level!==1?g:(a={},C={},A={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){if(v==="__proto__"){C[v]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}C[v]=A}),Object.defineProperties(a,C),Object.defineProperty(_,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:a}),function(v,p){return g(v===null?a:v,p)})}()},96437:function(G,V,e){G.exports=e(67260)("forEach")},99611:function(G,V,e){var g=e(95296),_={function:!0,object:!0};G.exports=function(a){return g(a)&&_[typeof a]||!1}},95296:function(G,V,e){var g=e(52345)();G.exports=function(_){return _!==g&&_!==null}},68700:function(G,V,e){G.exports=e(13895)()?Object.keys:e(25217)},13895:function(G){G.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},25217:function(G,V,e){var g=e(95296),_=Object.keys;G.exports=function(a){return _(g(a)?Object(a):a)}},16906:function(G,V,e){var g=e(78513),_=e(96437),a=Function.prototype.call;G.exports=function(C,A){var v={},p=arguments[2];return g(A),_(C,function(t,r,s,n){v[r]=a.call(A,p,t,r,s,n)}),v}},21780:function(G,V,e){var g=e(95296),_=Array.prototype.forEach,a=Object.create,C=function(A,v){var p;for(p in A)v[p]=A[p]};G.exports=function(A){var v=a(null);return _.call(arguments,function(p){g(p)&&C(Object(p),v)}),v}},1496:function(G,V,e){G.exports=e(33247)()?Object.setPrototypeOf:e(51882)},33247:function(G){var V=Object.create,e=Object.getPrototypeOf,g={};G.exports=function(){var _=Object.setPrototypeOf,a=arguments[0]||V;return typeof _!="function"?!1:e(_(a(null),g))===g}},51882:function(G,V,e){var g=e(99611),_=e(36672),a=Object.prototype.isPrototypeOf,C=Object.defineProperty,A={configurable:!0,enumerable:!1,writable:!0,value:void 0},v;v=function(p,t){if(_(p),t===null||g(t))return p;throw new TypeError("Prototype must be null or an object")},G.exports=function(p){var t,r;return p?(p.level===2?p.set?(r=p.set,t=function(s,n){return r.call(v(s,n),n),s}):t=function(s,n){return v(s,n).__proto__=n,s}:t=function s(n,i){var f;return v(n,i),f=a.call(s.nullPolyfill,n),f&&delete s.nullPolyfill.__proto__,i===null&&(i=s.nullPolyfill),n.__proto__=i,f&&C(s.nullPolyfill,"__proto__",A),n},Object.defineProperty(t,"level",{configurable:!1,enumerable:!1,writable:!1,value:p.level})):null}(function(){var p=Object.create(null),t={},r,s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(s){try{r=s.set,r.call(p,t)}catch{}if(Object.getPrototypeOf(p)===t)return{set:r,level:2}}return p.__proto__=t,Object.getPrototypeOf(p)===t?{level:2}:(p={},p.__proto__=t,Object.getPrototypeOf(p)===t?{level:1}:!1)}()),e(52818)},78513:function(G){G.exports=function(V){if(typeof V!="function")throw new TypeError(V+" is not a function");return V}},98976:function(G,V,e){var g=e(99611);G.exports=function(_){if(!g(_))throw new TypeError(_+" is not an Object");return _}},36672:function(G,V,e){var g=e(95296);G.exports=function(_){if(!g(_))throw new TypeError("Cannot use null or undefined");return _}},66741:function(G,V,e){G.exports=e(17557)()?String.prototype.contains:e(60381)},17557:function(G){var V="razdwatrzy";G.exports=function(){return typeof V.contains!="function"?!1:V.contains("dwa")===!0&&V.contains("foo")===!1}},60381:function(G){var V=String.prototype.indexOf;G.exports=function(e){return V.call(this,e,arguments[1])>-1}},87963:function(G){var V=Object.prototype.toString,e=V.call("");G.exports=function(g){return typeof g=="string"||g&&typeof g=="object"&&(g instanceof String||V.call(g)===e)||!1}},43043:function(G){var V=Object.create(null),e=Math.random;G.exports=function(){var g;do g=e().toString(36).slice(2);while(V[g]);return g}},32411:function(G,V,e){var g=e(1496),_=e(66741),a=e(62072),C=e(8260),A=e(95426),v=Object.defineProperty,p;p=G.exports=function(t,r){if(!(this instanceof p))throw new TypeError("Constructor requires 'new'");A.call(this,t),r?_.call(r,"key+value")?r="key+value":_.call(r,"key")?r="key":r="value":r="value",v(this,"__kind__",a("",r))},g&&g(p,A),delete p.prototype.constructor,p.prototype=Object.create(A.prototype,{_resolve:a(function(t){return this.__kind__==="value"?this.__list__[t]:this.__kind__==="key+value"?[t,this.__list__[t]]:t})}),v(p.prototype,C.toStringTag,a("c","Array Iterator"))},27515:function(G,V,e){var g=e(73051),_=e(78513),a=e(87963),C=e(66661),A=Array.isArray,v=Function.prototype.call,p=Array.prototype.some;G.exports=function(t,r){var s,n=arguments[2],i,f,u,y,c,T,h;if(A(t)||g(t)?s="array":a(t)?s="string":t=C(t),_(r),f=function(){u=!0},s==="array"){p.call(t,function(l){return v.call(r,n,l,f),u});return}if(s==="string"){for(c=t.length,y=0;y<c&&(T=t[y],y+1<c&&(h=T.charCodeAt(0),h>=55296&&h<=56319&&(T+=t[++y])),v.call(r,n,T,f),!u);++y);return}for(i=t.next();!i.done;){if(v.call(r,n,i.value,f),u)return;i=t.next()}}},66661:function(G,V,e){var g=e(73051),_=e(87963),a=e(32411),C=e(259),A=e(58095),v=e(8260).iterator;G.exports=function(p){return typeof A(p)[v]=="function"?p[v]():g(p)?new a(p):_(p)?new C(p):new a(p)}},95426:function(G,V,e){var g=e(16134),_=e(95879),a=e(78513),C=e(36672),A=e(62072),v=e(55174),p=e(8260),t=Object.defineProperty,r=Object.defineProperties,s;G.exports=s=function(n,i){if(!(this instanceof s))throw new TypeError("Constructor requires 'new'");r(this,{__list__:A("w",C(n)),__context__:A("w",i),__nextIndex__:A("w",0)}),i&&(a(i.on),i.on("_add",this._onAdd),i.on("_delete",this._onDelete),i.on("_clear",this._onClear))},delete s.prototype.constructor,r(s.prototype,_({_next:A(function(){var n;if(this.__list__){if(this.__redo__&&(n=this.__redo__.shift(),n!==void 0))return n;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:A(function(){return this._createResult(this._next())}),_createResult:A(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:A(function(n){return this.__list__[n]}),_unBind:A(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:A(function(){return"[object "+(this[p.toStringTag]||"Object")+"]"})},v({_onAdd:A(function(n){if(!(n>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){t(this,"__redo__",A("c",[n]));return}this.__redo__.forEach(function(i,f){i>=n&&(this.__redo__[f]=++i)},this),this.__redo__.push(n)}}),_onDelete:A(function(n){var i;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(i=this.__redo__.indexOf(n),i!==-1&&this.__redo__.splice(i,1),this.__redo__.forEach(function(f,u){f>n&&(this.__redo__[u]=--f)},this)))}),_onClear:A(function(){this.__redo__&&g.call(this.__redo__),this.__nextIndex__=0})}))),t(s.prototype,p.iterator,A(function(){return this}))},35940:function(G,V,e){var g=e(73051),_=e(95296),a=e(87963),C=e(8260).iterator,A=Array.isArray;G.exports=function(v){return _(v)?A(v)||a(v)||g(v)?!0:typeof v[C]=="function":!1}},259:function(G,V,e){var g=e(1496),_=e(62072),a=e(8260),C=e(95426),A=Object.defineProperty,v;v=G.exports=function(p){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");p=String(p),C.call(this,p),A(this,"__length__",_("",p.length))},g&&g(v,C),delete v.prototype.constructor,v.prototype=Object.create(C.prototype,{_next:_(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:_(function(p){var t=this.__list__[p],r;return this.__nextIndex__===this.__length__?t:(r=t.charCodeAt(0),r>=55296&&r<=56319?t+this.__list__[this.__nextIndex__++]:t)})}),A(v.prototype,a.toStringTag,_("c","String Iterator"))},58095:function(G,V,e){var g=e(35940);G.exports=function(_){if(!g(_))throw new TypeError(_+" is not iterable");return _}},73523:function(G){function V(g,_){if(g==null)throw new TypeError("Cannot convert first argument to object");for(var a=Object(g),C=1;C<arguments.length;C++){var A=arguments[C];if(A!=null)for(var v=Object.keys(Object(A)),p=0,t=v.length;p<t;p++){var r=v[p],s=Object.getOwnPropertyDescriptor(A,r);s!==void 0&&s.enumerable&&(a[r]=A[r])}}return a}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:V})}G.exports={assign:V,polyfill:e}},8260:function(G,V,e){G.exports=e(69711)()?e(94908).Symbol:e(18415)},69711:function(G,V,e){var g=e(94908),_={object:!0,symbol:!0};G.exports=function(){var a=g.Symbol,C;if(typeof a!="function")return!1;C=a("test symbol");try{String(C)}catch{return!1}return!(!_[typeof a.iterator]||!_[typeof a.toPrimitive]||!_[typeof a.toStringTag])}},82276:function(G){G.exports=function(V){return V?typeof V=="symbol"?!0:!V.constructor||V.constructor.name!=="Symbol"?!1:V[V.constructor.toStringTag]==="Symbol":!1}},29366:function(G,V,e){var g=e(62072),_=Object.create,a=Object.defineProperty,C=Object.prototype,A=_(null);G.exports=function(v){for(var p=0,t,r;A[v+(p||"")];)++p;return v+=p||"",A[v]=!0,t="@@"+v,a(C,t,g.gs(null,function(s){r||(r=!0,a(this,t,g(s)),r=!1)})),t}},92842:function(G,V,e){var g=e(62072),_=e(94908).Symbol;G.exports=function(a){return Object.defineProperties(a,{hasInstance:g("",_&&_.hasInstance||a("hasInstance")),isConcatSpreadable:g("",_&&_.isConcatSpreadable||a("isConcatSpreadable")),iterator:g("",_&&_.iterator||a("iterator")),match:g("",_&&_.match||a("match")),replace:g("",_&&_.replace||a("replace")),search:g("",_&&_.search||a("search")),species:g("",_&&_.species||a("species")),split:g("",_&&_.split||a("split")),toPrimitive:g("",_&&_.toPrimitive||a("toPrimitive")),toStringTag:g("",_&&_.toStringTag||a("toStringTag")),unscopables:g("",_&&_.unscopables||a("unscopables"))})}},13304:function(G,V,e){var g=e(62072),_=e(53308),a=Object.create(null);G.exports=function(C){return Object.defineProperties(C,{for:g(function(A){return a[A]?a[A]:a[A]=C(String(A))}),keyFor:g(function(A){var v;_(A);for(v in a)if(a[v]===A)return v})})}},18415:function(G,V,e){var g=e(62072),_=e(53308),a=e(94908).Symbol,C=e(29366),A=e(92842),v=e(13304),p=Object.create,t=Object.defineProperties,r=Object.defineProperty,s,n,i;if(typeof a=="function")try{String(a()),i=!0}catch{}else a=null;n=function(u){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return s(u)},G.exports=s=function f(u){var y;if(this instanceof f)throw new TypeError("Symbol is not a constructor");return i?a(u):(y=p(n.prototype),u=u===void 0?"":String(u),t(y,{__description__:g("",u),__name__:g("",C(u))}))},A(s),v(s),t(n.prototype,{constructor:g(s),toString:g("",function(){return this.__name__})}),t(s.prototype,{toString:g(function(){return"Symbol ("+_(this).__description__+")"}),valueOf:g(function(){return _(this)})}),r(s.prototype,s.toPrimitive,g("",function(){var f=_(this);return typeof f=="symbol"?f:f.toString()})),r(s.prototype,s.toStringTag,g("c","Symbol")),r(n.prototype,s.toStringTag,g("c",s.prototype[s.toStringTag])),r(n.prototype,s.toPrimitive,g("c",s.prototype[s.toPrimitive]))},53308:function(G,V,e){var g=e(82276);G.exports=function(_){if(!g(_))throw new TypeError(_+" is not a symbol");return _}},83522:function(G,V,e){G.exports=e(96402)()?WeakMap:e(329)},96402:function(G){G.exports=function(){var V,e;if(typeof WeakMap!="function")return!1;try{V=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(V)!=="[object WeakMap]"||typeof V.set!="function"||V.set({},1)!==V||typeof V.delete!="function"||typeof V.has!="function"||V.get(e)!=="one")}},96416:function(G){G.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},329:function(G,V,e){var g=e(95296),_=e(1496),a=e(98976),C=e(36672),A=e(43043),v=e(62072),p=e(66661),t=e(27515),r=e(8260).toStringTag,s=e(96416),n=Array.isArray,i=Object.defineProperty,f=Object.prototype.hasOwnProperty,u=Object.getPrototypeOf,y;G.exports=y=function(){var c=arguments[0],T;if(!(this instanceof y))throw new TypeError("Constructor requires 'new'");return T=s&&_&&WeakMap!==y?_(new WeakMap,u(this)):this,g(c)&&(n(c)||(c=p(c))),i(T,"__weakMapData__",v("c","$weakMap$"+A())),c&&t(c,function(h){C(h),T.set(h[0],h[1])}),T},s&&(_&&_(y,WeakMap),y.prototype=Object.create(WeakMap.prototype,{constructor:v(y)})),Object.defineProperties(y.prototype,{delete:v(function(c){return f.call(a(c),this.__weakMapData__)?(delete c[this.__weakMapData__],!0):!1}),get:v(function(c){if(f.call(a(c),this.__weakMapData__))return c[this.__weakMapData__]}),has:v(function(c){return f.call(a(c),this.__weakMapData__)}),set:v(function(c,T){return i(a(c),this.__weakMapData__,v("c",T)),this}),toString:v(function(){return"[object WeakMap]"})}),i(y.prototype,r,v("c","WeakMap"))},15398:function(G){var V=typeof Reflect=="object"?Reflect:null,e=V&&typeof V.apply=="function"?V.apply:function(d,E,S){return Function.prototype.apply.call(d,E,S)},g;V&&typeof V.ownKeys=="function"?g=V.ownKeys:Object.getOwnPropertySymbols?g=function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:g=function(d){return Object.getOwnPropertyNames(d)};function _(l){console&&console.warn&&console.warn(l)}var a=Number.isNaN||function(d){return d!==d};function C(){C.init.call(this)}G.exports=C,G.exports.once=c,C.EventEmitter=C,C.prototype._events=void 0,C.prototype._eventsCount=0,C.prototype._maxListeners=void 0;var A=10;function v(l){if(typeof l!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof l)}Object.defineProperty(C,"defaultMaxListeners",{enumerable:!0,get:function(){return A},set:function(l){if(typeof l!="number"||l<0||a(l))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+l+".");A=l}}),C.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},C.prototype.setMaxListeners=function(d){if(typeof d!="number"||d<0||a(d))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+d+".");return this._maxListeners=d,this};function p(l){return l._maxListeners===void 0?C.defaultMaxListeners:l._maxListeners}C.prototype.getMaxListeners=function(){return p(this)},C.prototype.emit=function(d){for(var E=[],S=1;S<arguments.length;S++)E.push(arguments[S]);var P=d==="error",x=this._events;if(x!==void 0)P=P&&x.error===void 0;else if(!P)return!1;if(P){var M;if(E.length>0&&(M=E[0]),M instanceof Error)throw M;var w=new Error("Unhandled error."+(M?" ("+M.message+")":""));throw w.context=M,w}var o=x[d];if(o===void 0)return!1;if(typeof o=="function")e(o,this,E);else for(var L=o.length,m=f(o,L),S=0;S<L;++S)e(m[S],this,E);return!0};function t(l,d,E,S){var P,x,M;if(v(E),x=l._events,x===void 0?(x=l._events=Object.create(null),l._eventsCount=0):(x.newListener!==void 0&&(l.emit("newListener",d,E.listener?E.listener:E),x=l._events),M=x[d]),M===void 0)M=x[d]=E,++l._eventsCount;else if(typeof M=="function"?M=x[d]=S?[E,M]:[M,E]:S?M.unshift(E):M.push(E),P=p(l),P>0&&M.length>P&&!M.warned){M.warned=!0;var w=new Error("Possible EventEmitter memory leak detected. "+M.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit");w.name="MaxListenersExceededWarning",w.emitter=l,w.type=d,w.count=M.length,_(w)}return l}C.prototype.addListener=function(d,E){return t(this,d,E,!1)},C.prototype.on=C.prototype.addListener,C.prototype.prependListener=function(d,E){return t(this,d,E,!0)};function r(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function s(l,d,E){var S={fired:!1,wrapFn:void 0,target:l,type:d,listener:E},P=r.bind(S);return P.listener=E,S.wrapFn=P,P}C.prototype.once=function(d,E){return v(E),this.on(d,s(this,d,E)),this},C.prototype.prependOnceListener=function(d,E){return v(E),this.prependListener(d,s(this,d,E)),this},C.prototype.removeListener=function(d,E){var S,P,x,M,w;if(v(E),P=this._events,P===void 0)return this;if(S=P[d],S===void 0)return this;if(S===E||S.listener===E)--this._eventsCount===0?this._events=Object.create(null):(delete P[d],P.removeListener&&this.emit("removeListener",d,S.listener||E));else if(typeof S!="function"){for(x=-1,M=S.length-1;M>=0;M--)if(S[M]===E||S[M].listener===E){w=S[M].listener,x=M;break}if(x<0)return this;x===0?S.shift():u(S,x),S.length===1&&(P[d]=S[0]),P.removeListener!==void 0&&this.emit("removeListener",d,w||E)}return this},C.prototype.off=C.prototype.removeListener,C.prototype.removeAllListeners=function(d){var E,S,P;if(S=this._events,S===void 0)return this;if(S.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):S[d]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete S[d]),this;if(arguments.length===0){var x=Object.keys(S),M;for(P=0;P<x.length;++P)M=x[P],M!=="removeListener"&&this.removeAllListeners(M);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(E=S[d],typeof E=="function")this.removeListener(d,E);else if(E!==void 0)for(P=E.length-1;P>=0;P--)this.removeListener(d,E[P]);return this};function n(l,d,E){var S=l._events;if(S===void 0)return[];var P=S[d];return P===void 0?[]:typeof P=="function"?E?[P.listener||P]:[P]:E?y(P):f(P,P.length)}C.prototype.listeners=function(d){return n(this,d,!0)},C.prototype.rawListeners=function(d){return n(this,d,!1)},C.listenerCount=function(l,d){return typeof l.listenerCount=="function"?l.listenerCount(d):i.call(l,d)},C.prototype.listenerCount=i;function i(l){var d=this._events;if(d!==void 0){var E=d[l];if(typeof E=="function")return 1;if(E!==void 0)return E.length}return 0}C.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]};function f(l,d){for(var E=new Array(d),S=0;S<d;++S)E[S]=l[S];return E}function u(l,d){for(;d+1<l.length;d++)l[d]=l[d+1];l.pop()}function y(l){for(var d=new Array(l.length),E=0;E<d.length;++E)d[E]=l[E].listener||l[E];return d}function c(l,d){return new Promise(function(E,S){function P(M){l.removeListener(d,x),S(M)}function x(){typeof l.removeListener=="function"&&l.removeListener("error",P),E([].slice.call(arguments))}h(l,d,x,{once:!0}),d!=="error"&&T(l,P,{once:!0})})}function T(l,d,E){typeof l.on=="function"&&h(l,"error",d,E)}function h(l,d,E,S){if(typeof l.on=="function")S.once?l.once(d,E):l.on(d,E);else if(typeof l.addEventListener=="function")l.addEventListener(d,function P(x){S.once&&l.removeEventListener(d,P),E(x)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof l)}},60774:function(G){var V=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};G.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return V()}try{return __global__||V()}finally{delete Object.prototype.__global__}}()},94908:function(G,V,e){G.exports=e(51152)()?globalThis:e(60774)},51152:function(G){G.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},92770:function(G,V,e){var g=e(18546);G.exports=function(_){var a=typeof _;if(a==="string"){var C=_;if(_=+_,_===0&&g(C))return!1}else if(a!=="number")return!1;return _-_<1}},30120:function(G,V,e){var g=e(90660);G.exports=_;function _(a,C,A){if(!a)throw new TypeError("must specify data as first parameter");if(A=+(A||0)|0,Array.isArray(a)&&a[0]&&typeof a[0][0]=="number"){var v=a[0].length,p=a.length*v,t,r,s,n;(!C||typeof C=="string")&&(C=new(g(C||"float32"))(p+A));var i=C.length-A;if(p!==i)throw new Error("source length "+p+" ("+v+"x"+a.length+") does not match destination length "+i);for(t=0,s=A;t<a.length;t++)for(r=0;r<v;r++)C[s++]=a[t][r]===null?NaN:a[t][r]}else if(!C||typeof C=="string"){var f=g(C||"float32");if(Array.isArray(a)||C==="array")for(C=new f(a.length+A),t=0,s=A,n=C.length;s<n;s++,t++)C[s]=a[t]===null?NaN:a[t];else A===0?C=new f(a):(C=new f(a.length+A),C.set(a,A))}else C.set(a,A);return C}},68016:function(G,V,e){var g=e(53313),_=[32,126];G.exports=a;function a(C){C=C||{};var A=C.shape?C.shape:C.canvas?[C.canvas.width,C.canvas.height]:[512,512],v=C.canvas||document.createElement("canvas"),p=C.font,t=typeof C.step=="number"?[C.step,C.step]:C.step||[32,32],r=C.chars||_;if(p&&typeof p!="string"&&(p=g(p)),!Array.isArray(r))r=String(r).split("");else if(r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"){for(var s=[],n=r[0],i=0;n<=r[1];n++)s[i++]=String.fromCharCode(n);r=s}A=A.slice(),v.width=A[0],v.height=A[1];var f=v.getContext("2d");f.fillStyle="#000",f.fillRect(0,0,v.width,v.height),f.font=p,f.textAlign="center",f.textBaseline="middle",f.fillStyle="#fff";for(var u=t[0]/2,y=t[1]/2,n=0;n<r.length;n++)f.fillText(r[n],u,y),(u+=t[0])>A[0]-t[0]/2&&(u=t[0]/2,y+=t[1]);return v}},32879:function(G){G.exports=V,V.canvas=document.createElement("canvas"),V.cache={};function V(r,C){C||(C={}),(typeof r=="string"||Array.isArray(r))&&(C.family=r);var A=Array.isArray(C.family)?C.family.join(", "):C.family;if(!A)throw Error("`family` must be defined");var v=C.size||C.fontSize||C.em||48,p=C.weight||C.fontWeight||"",t=C.style||C.fontStyle||"",r=[t,p,v].join(" ")+"px "+A,s=C.origin||"top";if(V.cache[A]&&v<=V.cache[A].em)return e(V.cache[A],s);var n=C.canvas||V.canvas,i=n.getContext("2d"),f={upper:C.upper!==void 0?C.upper:"H",lower:C.lower!==void 0?C.lower:"x",descent:C.descent!==void 0?C.descent:"p",ascent:C.ascent!==void 0?C.ascent:"h",tittle:C.tittle!==void 0?C.tittle:"i",overshoot:C.overshoot!==void 0?C.overshoot:"O"},u=Math.ceil(v*1.5);n.height=u,n.width=u*.5,i.font=r;var y="H",c={top:0};i.clearRect(0,0,u,u),i.textBaseline="top",i.fillStyle="black",i.fillText(y,0,0);var T=g(i.getImageData(0,0,u,u));i.clearRect(0,0,u,u),i.textBaseline="bottom",i.fillText(y,0,u);var h=g(i.getImageData(0,0,u,u));c.lineHeight=c.bottom=u-h+T,i.clearRect(0,0,u,u),i.textBaseline="alphabetic",i.fillText(y,0,u);var l=g(i.getImageData(0,0,u,u)),d=u-l-1+T;c.baseline=c.alphabetic=d,i.clearRect(0,0,u,u),i.textBaseline="middle",i.fillText(y,0,u*.5);var E=g(i.getImageData(0,0,u,u));c.median=c.middle=u-E-1+T-u*.5,i.clearRect(0,0,u,u),i.textBaseline="hanging",i.fillText(y,0,u*.5);var S=g(i.getImageData(0,0,u,u));c.hanging=u-S-1+T-u*.5,i.clearRect(0,0,u,u),i.textBaseline="ideographic",i.fillText(y,0,u);var P=g(i.getImageData(0,0,u,u));if(c.ideographic=u-P-1+T,f.upper&&(i.clearRect(0,0,u,u),i.textBaseline="top",i.fillText(f.upper,0,0),c.upper=g(i.getImageData(0,0,u,u)),c.capHeight=c.baseline-c.upper),f.lower&&(i.clearRect(0,0,u,u),i.textBaseline="top",i.fillText(f.lower,0,0),c.lower=g(i.getImageData(0,0,u,u)),c.xHeight=c.baseline-c.lower),f.tittle&&(i.clearRect(0,0,u,u),i.textBaseline="top",i.fillText(f.tittle,0,0),c.tittle=g(i.getImageData(0,0,u,u))),f.ascent&&(i.clearRect(0,0,u,u),i.textBaseline="top",i.fillText(f.ascent,0,0),c.ascent=g(i.getImageData(0,0,u,u))),f.descent&&(i.clearRect(0,0,u,u),i.textBaseline="top",i.fillText(f.descent,0,0),c.descent=_(i.getImageData(0,0,u,u))),f.overshoot){i.clearRect(0,0,u,u),i.textBaseline="top",i.fillText(f.overshoot,0,0);var x=_(i.getImageData(0,0,u,u));c.overshoot=x-d}for(var M in c)c[M]/=v;return c.em=v,V.cache[A]=c,e(c,s)}function e(a,C){var A={};typeof C=="string"&&(C=a[C]);for(var v in a)v!=="em"&&(A[v]=a[v]-C);return A}function g(a){for(var C=a.height,A=a.data,v=3;v<A.length;v+=4)if(A[v]!==0)return Math.floor((v-3)*.25/C)}function _(a){for(var C=a.height,A=a.data,v=A.length-1;v>0;v-=4)if(A[v]!==0)return Math.floor((v-3)*.25/C)}},31353:function(G,V,e){var g=e(85395),_=Object.prototype.toString,a=Object.prototype.hasOwnProperty,C=function(r,s,n){for(var i=0,f=r.length;i<f;i++)a.call(r,i)&&(n==null?s(r[i],i,r):s.call(n,r[i],i,r))},A=function(r,s,n){for(var i=0,f=r.length;i<f;i++)n==null?s(r.charAt(i),i,r):s.call(n,r.charAt(i),i,r)},v=function(r,s,n){for(var i in r)a.call(r,i)&&(n==null?s(r[i],i,r):s.call(n,r[i],i,r))},p=function(r,s,n){if(!g(s))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),_.call(r)==="[object Array]"?C(r,s,i):typeof r=="string"?A(r,s,i):v(r,s,i)};G.exports=p},73047:function(G){var V="Function.prototype.bind called on incompatible ",e=Array.prototype.slice,g=Object.prototype.toString,_="[object Function]";G.exports=function(C){var A=this;if(typeof A!="function"||g.call(A)!==_)throw new TypeError(V+A);for(var v=e.call(arguments,1),p,t=function(){if(this instanceof p){var f=A.apply(this,v.concat(e.call(arguments)));return Object(f)===f?f:this}else return A.apply(C,v.concat(e.call(arguments)))},r=Math.max(0,A.length-v.length),s=[],n=0;n<r;n++)s.push("$"+n);if(p=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(t),A.prototype){var i=function(){};i.prototype=A.prototype,p.prototype=new i,i.prototype=null}return p}},77575:function(G,V,e){var g=e(73047);G.exports=Function.prototype.bind||g},86249:function(G){G.exports=V;function V(e,g){if(typeof e!="string")throw new TypeError("must specify type string");if(g=g||{},typeof document>"u"&&!g.canvas)return null;var _=g.canvas||document.createElement("canvas");typeof g.width=="number"&&(_.width=g.width),typeof g.height=="number"&&(_.height=g.height);var a=g,C;try{var A=[e];e.indexOf("webgl")===0&&A.push("experimental-"+e);for(var v=0;v<A.length;v++)if(C=_.getContext(A[v],a),C)return C}catch{C=null}return C||null}},68318:function(G,V,e){var g,_=SyntaxError,a=Function,C=TypeError,A=function(L){try{return a('"use strict"; return ('+L+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var p=function(){throw new C},t=v?function(){try{return arguments.callee,p}catch{try{return v(arguments,"callee").get}catch{return p}}}():p,r=e(57877)(),s=Object.getPrototypeOf||function(L){return L.__proto__},n={},i=typeof Uint8Array>"u"?g:s(Uint8Array),f={"%AggregateError%":typeof AggregateError>"u"?g:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?g:ArrayBuffer,"%ArrayIteratorPrototype%":r?s([][Symbol.iterator]()):g,"%AsyncFromSyncIteratorPrototype%":g,"%AsyncFunction%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":n,"%AsyncIteratorPrototype%":n,"%Atomics%":typeof Atomics>"u"?g:Atomics,"%BigInt%":typeof BigInt>"u"?g:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?g:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?g:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?g:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?g:Float32Array,"%Float64Array%":typeof Float64Array>"u"?g:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?g:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":n,"%Int8Array%":typeof Int8Array>"u"?g:Int8Array,"%Int16Array%":typeof Int16Array>"u"?g:Int16Array,"%Int32Array%":typeof Int32Array>"u"?g:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":r?s(s([][Symbol.iterator]())):g,"%JSON%":typeof JSON=="object"?JSON:g,"%Map%":typeof Map>"u"?g:Map,"%MapIteratorPrototype%":typeof Map>"u"||!r?g:s(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?g:Promise,"%Proxy%":typeof Proxy>"u"?g:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?g:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?g:Set,"%SetIteratorPrototype%":typeof Set>"u"||!r?g:s(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?g:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":r?s(""[Symbol.iterator]()):g,"%Symbol%":r?Symbol:g,"%SyntaxError%":_,"%ThrowTypeError%":t,"%TypedArray%":i,"%TypeError%":C,"%Uint8Array%":typeof Uint8Array>"u"?g:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?g:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?g:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?g:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?g:WeakMap,"%WeakRef%":typeof WeakRef>"u"?g:WeakRef,"%WeakSet%":typeof WeakSet>"u"?g:WeakSet};try{null.error}catch(L){var u=s(s(L));f["%Error.prototype%"]=u}var y=function L(m){var F;if(m==="%AsyncFunction%")F=A("async function () {}");else if(m==="%GeneratorFunction%")F=A("function* () {}");else if(m==="%AsyncGeneratorFunction%")F=A("async function* () {}");else if(m==="%AsyncGenerator%"){var I=L("%AsyncGeneratorFunction%");I&&(F=I.prototype)}else if(m==="%AsyncIteratorPrototype%"){var U=L("%AsyncGenerator%");U&&(F=s(U.prototype))}return f[m]=F,F},c={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=e(77575),h=e(35065),l=T.call(Function.call,Array.prototype.concat),d=T.call(Function.apply,Array.prototype.splice),E=T.call(Function.call,String.prototype.replace),S=T.call(Function.call,String.prototype.slice),P=T.call(Function.call,RegExp.prototype.exec),x=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,M=/\\(\\)?/g,w=function(m){var F=S(m,0,1),I=S(m,-1);if(F==="%"&&I!=="%")throw new _("invalid intrinsic syntax, expected closing `%`");if(I==="%"&&F!=="%")throw new _("invalid intrinsic syntax, expected opening `%`");var U=[];return E(m,x,function(z,N,B,O){U[U.length]=B?E(O,M,"$1"):N||z}),U},o=function(m,F){var I=m,U;if(h(c,I)&&(U=c[I],I="%"+U[0]+"%"),h(f,I)){var z=f[I];if(z===n&&(z=y(I)),typeof z>"u"&&!F)throw new C("intrinsic "+m+" exists, but is not available. Please file an issue!");return{alias:U,name:I,value:z}}throw new _("intrinsic "+m+" does not exist!")};G.exports=function(m,F){if(typeof m!="string"||m.length===0)throw new C("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof F!="boolean")throw new C('"allowMissing" argument must be a boolean');if(P(/^%?[^%]*%?$/,m)===null)throw new _("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var I=w(m),U=I.length>0?I[0]:"",z=o("%"+U+"%",F),N=z.name,B=z.value,O=!1,H=z.alias;H&&(U=H[0],d(I,l([0,1],H)));for(var Y=1,J=!0;Y<I.length;Y+=1){var re=I[Y],ie=S(re,0,1),ce=S(re,-1);if((ie==='"'||ie==="'"||ie==="`"||ce==='"'||ce==="'"||ce==="`")&&ie!==ce)throw new _("property names with quotes must have matching quotes");if((re==="constructor"||!J)&&(O=!0),U+="."+re,N="%"+U+"%",h(f,N))B=f[N];else if(B!=null){if(!(re in B)){if(!F)throw new C("base intrinsic for "+m+" exists, but the property is not available.");return}if(v&&Y+1>=I.length){var Q=v(B,re);J=!!Q,J&&"get"in Q&&!("originalValue"in Q.get)?B=Q.get:B=B[re]}else J=h(B,re),B=B[re];J&&!O&&(f[N]=B)}}return B}},85400:function(G){G.exports=V;function V(e,g){var _=g[0],a=g[1],C=g[2],A=g[3],v=g[4],p=g[5],t=g[6],r=g[7],s=g[8],n=g[9],i=g[10],f=g[11],u=g[12],y=g[13],c=g[14],T=g[15];return e[0]=p*(i*T-f*c)-n*(t*T-r*c)+y*(t*f-r*i),e[1]=-(a*(i*T-f*c)-n*(C*T-A*c)+y*(C*f-A*i)),e[2]=a*(t*T-r*c)-p*(C*T-A*c)+y*(C*r-A*t),e[3]=-(a*(t*f-r*i)-p*(C*f-A*i)+n*(C*r-A*t)),e[4]=-(v*(i*T-f*c)-s*(t*T-r*c)+u*(t*f-r*i)),e[5]=_*(i*T-f*c)-s*(C*T-A*c)+u*(C*f-A*i),e[6]=-(_*(t*T-r*c)-v*(C*T-A*c)+u*(C*r-A*t)),e[7]=_*(t*f-r*i)-v*(C*f-A*i)+s*(C*r-A*t),e[8]=v*(n*T-f*y)-s*(p*T-r*y)+u*(p*f-r*n),e[9]=-(_*(n*T-f*y)-s*(a*T-A*y)+u*(a*f-A*n)),e[10]=_*(p*T-r*y)-v*(a*T-A*y)+u*(a*r-A*p),e[11]=-(_*(p*f-r*n)-v*(a*f-A*n)+s*(a*r-A*p)),e[12]=-(v*(n*c-i*y)-s*(p*c-t*y)+u*(p*i-t*n)),e[13]=_*(n*c-i*y)-s*(a*c-C*y)+u*(a*i-C*n),e[14]=-(_*(p*c-t*y)-v*(a*c-C*y)+u*(a*t-C*p)),e[15]=_*(p*i-t*n)-v*(a*i-C*n)+s*(a*t-C*p),e}},42331:function(G){G.exports=V;function V(e){var g=new Float32Array(16);return g[0]=e[0],g[1]=e[1],g[2]=e[2],g[3]=e[3],g[4]=e[4],g[5]=e[5],g[6]=e[6],g[7]=e[7],g[8]=e[8],g[9]=e[9],g[10]=e[10],g[11]=e[11],g[12]=e[12],g[13]=e[13],g[14]=e[14],g[15]=e[15],g}},31042:function(G){G.exports=V;function V(e,g){return e[0]=g[0],e[1]=g[1],e[2]=g[2],e[3]=g[3],e[4]=g[4],e[5]=g[5],e[6]=g[6],e[7]=g[7],e[8]=g[8],e[9]=g[9],e[10]=g[10],e[11]=g[11],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15],e}},11902:function(G){G.exports=V;function V(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},89887:function(G){G.exports=V;function V(e){var g=e[0],_=e[1],a=e[2],C=e[3],A=e[4],v=e[5],p=e[6],t=e[7],r=e[8],s=e[9],n=e[10],i=e[11],f=e[12],u=e[13],y=e[14],c=e[15],T=g*v-_*A,h=g*p-a*A,l=g*t-C*A,d=_*p-a*v,E=_*t-C*v,S=a*t-C*p,P=r*u-s*f,x=r*y-n*f,M=r*c-i*f,w=s*y-n*u,o=s*c-i*u,L=n*c-i*y;return T*L-h*o+l*w+d*M-E*x+S*P}},27812:function(G){G.exports=V;function V(e,g){var _=g[0],a=g[1],C=g[2],A=g[3],v=_+_,p=a+a,t=C+C,r=_*v,s=a*v,n=a*p,i=C*v,f=C*p,u=C*t,y=A*v,c=A*p,T=A*t;return e[0]=1-n-u,e[1]=s+T,e[2]=i-c,e[3]=0,e[4]=s-T,e[5]=1-r-u,e[6]=f+y,e[7]=0,e[8]=i+c,e[9]=f-y,e[10]=1-r-n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},34045:function(G){G.exports=V;function V(e,g,_){var a,C,A,v=_[0],p=_[1],t=_[2],r=Math.sqrt(v*v+p*p+t*t);return Math.abs(r)<1e-6?null:(r=1/r,v*=r,p*=r,t*=r,a=Math.sin(g),C=Math.cos(g),A=1-C,e[0]=v*v*A+C,e[1]=p*v*A+t*a,e[2]=t*v*A-p*a,e[3]=0,e[4]=v*p*A-t*a,e[5]=p*p*A+C,e[6]=t*p*A+v*a,e[7]=0,e[8]=v*t*A+p*a,e[9]=p*t*A-v*a,e[10]=t*t*A+C,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},45973:function(G){G.exports=V;function V(e,g,_){var a=g[0],C=g[1],A=g[2],v=g[3],p=a+a,t=C+C,r=A+A,s=a*p,n=a*t,i=a*r,f=C*t,u=C*r,y=A*r,c=v*p,T=v*t,h=v*r;return e[0]=1-(f+y),e[1]=n+h,e[2]=i-T,e[3]=0,e[4]=n-h,e[5]=1-(s+y),e[6]=u+c,e[7]=0,e[8]=i+T,e[9]=u-c,e[10]=1-(s+f),e[11]=0,e[12]=_[0],e[13]=_[1],e[14]=_[2],e[15]=1,e}},81472:function(G){G.exports=V;function V(e,g){return e[0]=g[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=g[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=g[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},14669:function(G){G.exports=V;function V(e,g){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=g[0],e[13]=g[1],e[14]=g[2],e[15]=1,e}},75262:function(G){G.exports=V;function V(e,g){var _=Math.sin(g),a=Math.cos(g);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=_,e[7]=0,e[8]=0,e[9]=-_,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},331:function(G){G.exports=V;function V(e,g){var _=Math.sin(g),a=Math.cos(g);return e[0]=a,e[1]=0,e[2]=-_,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=_,e[9]=0,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},11049:function(G){G.exports=V;function V(e,g){var _=Math.sin(g),a=Math.cos(g);return e[0]=a,e[1]=_,e[2]=0,e[3]=0,e[4]=-_,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},75195:function(G){G.exports=V;function V(e,g,_,a,C,A,v){var p=1/(_-g),t=1/(C-a),r=1/(A-v);return e[0]=A*2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=A*2*t,e[6]=0,e[7]=0,e[8]=(_+g)*p,e[9]=(C+a)*t,e[10]=(v+A)*r,e[11]=-1,e[12]=0,e[13]=0,e[14]=v*A*2*r,e[15]=0,e}},71551:function(G){G.exports=V;function V(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79576:function(G,V,e){G.exports={create:e(11902),clone:e(42331),copy:e(31042),identity:e(71551),transpose:e(88654),invert:e(95874),adjoint:e(85400),determinant:e(89887),multiply:e(91362),translate:e(31283),scale:e(10789),rotate:e(65074),rotateX:e(35545),rotateY:e(94918),rotateZ:e(15692),fromRotation:e(34045),fromRotationTranslation:e(45973),fromScaling:e(81472),fromTranslation:e(14669),fromXRotation:e(75262),fromYRotation:e(331),fromZRotation:e(11049),fromQuat:e(27812),frustum:e(75195),perspective:e(7864),perspectiveFromFieldOfView:e(35279),ortho:e(60378),lookAt:e(65551),str:e(6726)}},95874:function(G){G.exports=V;function V(e,g){var _=g[0],a=g[1],C=g[2],A=g[3],v=g[4],p=g[5],t=g[6],r=g[7],s=g[8],n=g[9],i=g[10],f=g[11],u=g[12],y=g[13],c=g[14],T=g[15],h=_*p-a*v,l=_*t-C*v,d=_*r-A*v,E=a*t-C*p,S=a*r-A*p,P=C*r-A*t,x=s*y-n*u,M=s*c-i*u,w=s*T-f*u,o=n*c-i*y,L=n*T-f*y,m=i*T-f*c,F=h*m-l*L+d*o+E*w-S*M+P*x;return F?(F=1/F,e[0]=(p*m-t*L+r*o)*F,e[1]=(C*L-a*m-A*o)*F,e[2]=(y*P-c*S+T*E)*F,e[3]=(i*S-n*P-f*E)*F,e[4]=(t*w-v*m-r*M)*F,e[5]=(_*m-C*w+A*M)*F,e[6]=(c*d-u*P-T*l)*F,e[7]=(s*P-i*d+f*l)*F,e[8]=(v*L-p*w+r*x)*F,e[9]=(a*w-_*L-A*x)*F,e[10]=(u*S-y*d+T*h)*F,e[11]=(n*d-s*S-f*h)*F,e[12]=(p*M-v*o-t*x)*F,e[13]=(_*o-a*M+C*x)*F,e[14]=(y*l-u*E-c*h)*F,e[15]=(s*E-n*l+i*h)*F,e):null}},65551:function(G,V,e){var g=e(71551);G.exports=_;function _(a,C,A,v){var p,t,r,s,n,i,f,u,y,c,T=C[0],h=C[1],l=C[2],d=v[0],E=v[1],S=v[2],P=A[0],x=A[1],M=A[2];return Math.abs(T-P)<1e-6&&Math.abs(h-x)<1e-6&&Math.abs(l-M)<1e-6?g(a):(f=T-P,u=h-x,y=l-M,c=1/Math.sqrt(f*f+u*u+y*y),f*=c,u*=c,y*=c,p=E*y-S*u,t=S*f-d*y,r=d*u-E*f,c=Math.sqrt(p*p+t*t+r*r),c?(c=1/c,p*=c,t*=c,r*=c):(p=0,t=0,r=0),s=u*r-y*t,n=y*p-f*r,i=f*t-u*p,c=Math.sqrt(s*s+n*n+i*i),c?(c=1/c,s*=c,n*=c,i*=c):(s=0,n=0,i=0),a[0]=p,a[1]=s,a[2]=f,a[3]=0,a[4]=t,a[5]=n,a[6]=u,a[7]=0,a[8]=r,a[9]=i,a[10]=y,a[11]=0,a[12]=-(p*T+t*h+r*l),a[13]=-(s*T+n*h+i*l),a[14]=-(f*T+u*h+y*l),a[15]=1,a)}},91362:function(G){G.exports=V;function V(e,g,_){var a=g[0],C=g[1],A=g[2],v=g[3],p=g[4],t=g[5],r=g[6],s=g[7],n=g[8],i=g[9],f=g[10],u=g[11],y=g[12],c=g[13],T=g[14],h=g[15],l=_[0],d=_[1],E=_[2],S=_[3];return e[0]=l*a+d*p+E*n+S*y,e[1]=l*C+d*t+E*i+S*c,e[2]=l*A+d*r+E*f+S*T,e[3]=l*v+d*s+E*u+S*h,l=_[4],d=_[5],E=_[6],S=_[7],e[4]=l*a+d*p+E*n+S*y,e[5]=l*C+d*t+E*i+S*c,e[6]=l*A+d*r+E*f+S*T,e[7]=l*v+d*s+E*u+S*h,l=_[8],d=_[9],E=_[10],S=_[11],e[8]=l*a+d*p+E*n+S*y,e[9]=l*C+d*t+E*i+S*c,e[10]=l*A+d*r+E*f+S*T,e[11]=l*v+d*s+E*u+S*h,l=_[12],d=_[13],E=_[14],S=_[15],e[12]=l*a+d*p+E*n+S*y,e[13]=l*C+d*t+E*i+S*c,e[14]=l*A+d*r+E*f+S*T,e[15]=l*v+d*s+E*u+S*h,e}},60378:function(G){G.exports=V;function V(e,g,_,a,C,A,v){var p=1/(g-_),t=1/(a-C),r=1/(A-v);return e[0]=-2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*r,e[11]=0,e[12]=(g+_)*p,e[13]=(C+a)*t,e[14]=(v+A)*r,e[15]=1,e}},7864:function(G){G.exports=V;function V(e,g,_,a,C){var A=1/Math.tan(g/2),v=1/(a-C);return e[0]=A/_,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=A,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(C+a)*v,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*C*a*v,e[15]=0,e}},35279:function(G){G.exports=V;function V(e,g,_,a){var C=Math.tan(g.upDegrees*Math.PI/180),A=Math.tan(g.downDegrees*Math.PI/180),v=Math.tan(g.leftDegrees*Math.PI/180),p=Math.tan(g.rightDegrees*Math.PI/180),t=2/(v+p),r=2/(C+A);return e[0]=t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=0,e[7]=0,e[8]=-((v-p)*t*.5),e[9]=(C-A)*r*.5,e[10]=a/(_-a),e[11]=-1,e[12]=0,e[13]=0,e[14]=a*_/(_-a),e[15]=0,e}},65074:function(G){G.exports=V;function V(e,g,_,a){var C=a[0],A=a[1],v=a[2],p=Math.sqrt(C*C+A*A+v*v),t,r,s,n,i,f,u,y,c,T,h,l,d,E,S,P,x,M,w,o,L,m,F,I;return Math.abs(p)<1e-6?null:(p=1/p,C*=p,A*=p,v*=p,t=Math.sin(_),r=Math.cos(_),s=1-r,n=g[0],i=g[1],f=g[2],u=g[3],y=g[4],c=g[5],T=g[6],h=g[7],l=g[8],d=g[9],E=g[10],S=g[11],P=C*C*s+r,x=A*C*s+v*t,M=v*C*s-A*t,w=C*A*s-v*t,o=A*A*s+r,L=v*A*s+C*t,m=C*v*s+A*t,F=A*v*s-C*t,I=v*v*s+r,e[0]=n*P+y*x+l*M,e[1]=i*P+c*x+d*M,e[2]=f*P+T*x+E*M,e[3]=u*P+h*x+S*M,e[4]=n*w+y*o+l*L,e[5]=i*w+c*o+d*L,e[6]=f*w+T*o+E*L,e[7]=u*w+h*o+S*L,e[8]=n*m+y*F+l*I,e[9]=i*m+c*F+d*I,e[10]=f*m+T*F+E*I,e[11]=u*m+h*F+S*I,g!==e&&(e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e)}},35545:function(G){G.exports=V;function V(e,g,_){var a=Math.sin(_),C=Math.cos(_),A=g[4],v=g[5],p=g[6],t=g[7],r=g[8],s=g[9],n=g[10],i=g[11];return g!==e&&(e[0]=g[0],e[1]=g[1],e[2]=g[2],e[3]=g[3],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[4]=A*C+r*a,e[5]=v*C+s*a,e[6]=p*C+n*a,e[7]=t*C+i*a,e[8]=r*C-A*a,e[9]=s*C-v*a,e[10]=n*C-p*a,e[11]=i*C-t*a,e}},94918:function(G){G.exports=V;function V(e,g,_){var a=Math.sin(_),C=Math.cos(_),A=g[0],v=g[1],p=g[2],t=g[3],r=g[8],s=g[9],n=g[10],i=g[11];return g!==e&&(e[4]=g[4],e[5]=g[5],e[6]=g[6],e[7]=g[7],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[0]=A*C-r*a,e[1]=v*C-s*a,e[2]=p*C-n*a,e[3]=t*C-i*a,e[8]=A*a+r*C,e[9]=v*a+s*C,e[10]=p*a+n*C,e[11]=t*a+i*C,e}},15692:function(G){G.exports=V;function V(e,g,_){var a=Math.sin(_),C=Math.cos(_),A=g[0],v=g[1],p=g[2],t=g[3],r=g[4],s=g[5],n=g[6],i=g[7];return g!==e&&(e[8]=g[8],e[9]=g[9],e[10]=g[10],e[11]=g[11],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[0]=A*C+r*a,e[1]=v*C+s*a,e[2]=p*C+n*a,e[3]=t*C+i*a,e[4]=r*C-A*a,e[5]=s*C-v*a,e[6]=n*C-p*a,e[7]=i*C-t*a,e}},10789:function(G){G.exports=V;function V(e,g,_){var a=_[0],C=_[1],A=_[2];return e[0]=g[0]*a,e[1]=g[1]*a,e[2]=g[2]*a,e[3]=g[3]*a,e[4]=g[4]*C,e[5]=g[5]*C,e[6]=g[6]*C,e[7]=g[7]*C,e[8]=g[8]*A,e[9]=g[9]*A,e[10]=g[10]*A,e[11]=g[11]*A,e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15],e}},6726:function(G){G.exports=V;function V(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},31283:function(G){G.exports=V;function V(e,g,_){var a=_[0],C=_[1],A=_[2],v,p,t,r,s,n,i,f,u,y,c,T;return g===e?(e[12]=g[0]*a+g[4]*C+g[8]*A+g[12],e[13]=g[1]*a+g[5]*C+g[9]*A+g[13],e[14]=g[2]*a+g[6]*C+g[10]*A+g[14],e[15]=g[3]*a+g[7]*C+g[11]*A+g[15]):(v=g[0],p=g[1],t=g[2],r=g[3],s=g[4],n=g[5],i=g[6],f=g[7],u=g[8],y=g[9],c=g[10],T=g[11],e[0]=v,e[1]=p,e[2]=t,e[3]=r,e[4]=s,e[5]=n,e[6]=i,e[7]=f,e[8]=u,e[9]=y,e[10]=c,e[11]=T,e[12]=v*a+s*C+u*A+g[12],e[13]=p*a+n*C+y*A+g[13],e[14]=t*a+i*C+c*A+g[14],e[15]=r*a+f*C+T*A+g[15]),e}},88654:function(G){G.exports=V;function V(e,g){if(e===g){var _=g[1],a=g[2],C=g[3],A=g[6],v=g[7],p=g[11];e[1]=g[4],e[2]=g[8],e[3]=g[12],e[4]=_,e[6]=g[9],e[7]=g[13],e[8]=a,e[9]=A,e[11]=g[14],e[12]=C,e[13]=v,e[14]=p}else e[0]=g[0],e[1]=g[4],e[2]=g[8],e[3]=g[12],e[4]=g[1],e[5]=g[5],e[6]=g[9],e[7]=g[13],e[8]=g[2],e[9]=g[6],e[10]=g[10],e[11]=g[14],e[12]=g[3],e[13]=g[7],e[14]=g[11],e[15]=g[15];return e}},42505:function(G,V,e){var g=e(72791),_=e(71299),a=e(98580),C=e(12018),A=e(83522),v=e(25075),p=e(68016),t=e(58404),r=e(18863),s=e(10973),n=e(25677),i=e(75686),f=e(53545),u=e(56131),y=e(32879),c=e(30120),T=e(13547),h=T.nextPow2,l=new A,d=!1;if(document.body){var E=document.body.appendChild(document.createElement("div"));E.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(E).fontStretch&&(d=!0),document.body.removeChild(E)}var S=function(M){P(M)?(M={regl:M},this.gl=M.regl._gl):this.gl=C(M),this.shader=l.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=M.regl||a({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),l.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(s(M)?M:{})};S.prototype.createShader=function(){var M=this.regl,w=M({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:M.prop("count"),offset:M.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:M.this("sizeBuffer")},width:{offset:0,stride:8,buffer:M.this("sizeBuffer")},char:M.this("charBuffer"),position:M.this("position")},uniforms:{atlasSize:function(L,m){return[m.atlas.width,m.atlas.height]},atlasDim:function(L,m){return[m.atlas.cols,m.atlas.rows]},atlas:function(L,m){return m.atlas.texture},charStep:function(L,m){return m.atlas.step},em:function(L,m){return m.atlas.em},color:M.prop("color"),opacity:M.prop("opacity"),viewport:M.this("viewportArray"),scale:M.this("scale"),align:M.prop("align"),baseline:M.prop("baseline"),translate:M.this("translate"),positionOffset:M.prop("positionOffset")},primitive:"points",viewport:M.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),o={};return{regl:M,draw:w,atlas:o}},S.prototype.update=function(M){var w=this;if(typeof M=="string")M={text:M};else if(!M)return;M=_(M,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),M.opacity!=null&&(Array.isArray(M.opacity)?this.opacity=M.opacity.map(function(Fe){return parseFloat(Fe)}):this.opacity=parseFloat(M.opacity)),M.viewport!=null&&(this.viewport=r(M.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),M.kerning!=null&&(this.kerning=M.kerning),M.offset!=null&&(typeof M.offset=="number"&&(M.offset=[M.offset,0]),this.positionOffset=c(M.offset)),M.direction&&(this.direction=M.direction),M.range&&(this.range=M.range,this.scale=[1/(M.range[2]-M.range[0]),1/(M.range[3]-M.range[1])],this.translate=[-M.range[0],-M.range[1]]),M.scale&&(this.scale=M.scale),M.translate&&(this.translate=M.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!M.font&&(M.font=S.baseFontSize+"px sans-serif");var o=!1,L=!1;if(M.font&&(Array.isArray(M.font)?M.font:[M.font]).forEach(function(Fe,Ze){if(typeof Fe=="string")try{Fe=g.parse(Fe)}catch{Fe=g.parse(S.baseFontSize+"px "+Fe)}else Fe=g.parse(g.stringify(Fe));var ut=g.stringify({size:S.baseFontSize,family:Fe.family,stretch:d?Fe.stretch:void 0,variant:Fe.variant,weight:Fe.weight,style:Fe.style}),at=n(Fe.size),it=Math.round(at[0]*i(at[1]));if(it!==w.fontSize[Ze]&&(L=!0,w.fontSize[Ze]=it),(!w.font[Ze]||ut!=w.font[Ze].baseString)&&(o=!0,w.font[Ze]=S.fonts[ut],!w.font[Ze])){var $e=Fe.family.join(", "),st=[Fe.style];Fe.style!=Fe.variant&&st.push(Fe.variant),Fe.variant!=Fe.weight&&st.push(Fe.weight),d&&Fe.weight!=Fe.stretch&&st.push(Fe.stretch),w.font[Ze]={baseString:ut,family:$e,weight:Fe.weight,stretch:Fe.stretch,style:Fe.style,variant:Fe.variant,width:{},kerning:{},metrics:y($e,{origin:"top",fontSize:S.baseFontSize,fontStyle:st.join(" ")})},S.fonts[ut]=w.font[Ze]}}),(o||L)&&this.font.forEach(function(Fe,Ze){var ut=g.stringify({size:w.fontSize[Ze],family:Fe.family,stretch:d?Fe.stretch:void 0,variant:Fe.variant,weight:Fe.weight,style:Fe.style});if(w.fontAtlas[Ze]=w.shader.atlas[ut],!w.fontAtlas[Ze]){var at=Fe.metrics;w.shader.atlas[ut]=w.fontAtlas[Ze]={fontString:ut,step:Math.ceil(w.fontSize[Ze]*at.bottom*.5)*2,em:w.fontSize[Ze],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:w.regl.texture()}}M.text==null&&(M.text=w.text)}),typeof M.text=="string"&&M.position&&M.position.length>2){for(var m=Array(M.position.length*.5),F=0;F<m.length;F++)m[F]=M.text;M.text=m}var I;if(M.text!=null||o){if(this.textOffsets=[0],Array.isArray(M.text)){this.count=M.text[0].length,this.counts=[this.count];for(var U=1;U<M.text.length;U++)this.textOffsets[U]=this.textOffsets[U-1]+M.text[U-1].length,this.count+=M.text[U].length,this.counts.push(M.text[U].length);this.text=M.text.join("")}else this.text=M.text,this.count=this.text.length,this.counts=[this.count];I=[],this.font.forEach(function(Fe,Ze){S.atlasContext.font=Fe.baseString;for(var ut=w.fontAtlas[Ze],at=0;at<w.text.length;at++){var it=w.text.charAt(at);if(ut.ids[it]==null&&(ut.ids[it]=ut.chars.length,ut.chars.push(it),I.push(it)),Fe.width[it]==null&&(Fe.width[it]=S.atlasContext.measureText(it).width/S.baseFontSize,w.kerning)){var $e=[];for(var st in Fe.width)$e.push(st+it,it+st);u(Fe.kerning,f(Fe.family,{pairs:$e}))}}})}if(M.position)if(M.position.length>2){for(var z=!M.position[0].length,N=t.mallocFloat(this.count*2),B=0,O=0;B<this.counts.length;B++){var H=this.counts[B];if(z)for(var Y=0;Y<H;Y++)N[O++]=M.position[B*2],N[O++]=M.position[B*2+1];else for(var J=0;J<H;J++)N[O++]=M.position[B][0],N[O++]=M.position[B][1]}this.position.call?this.position({type:"float",data:N}):this.position=this.regl.buffer({type:"float",data:N}),t.freeFloat(N)}else this.position.destroy&&this.position.destroy(),this.position={constant:M.position};if(M.text||o){var re=t.mallocUint8(this.count),ie=t.mallocFloat(this.count*2);this.textWidth=[];for(var ce=0,Q=0;ce<this.counts.length;ce++){for(var j=this.counts[ce],Z=this.font[ce]||this.font[0],$=this.fontAtlas[ce]||this.fontAtlas[0],te=0;te<j;te++){var se=this.text.charAt(Q),ee=this.text.charAt(Q-1);if(re[Q]=$.ids[se],ie[Q*2]=Z.width[se],te){var q=ie[Q*2-2],le=ie[Q*2],oe=ie[Q*2-1],he=oe+q*.5+le*.5;if(this.kerning){var me=Z.kerning[ee+se];me&&(he+=me*.001)}ie[Q*2+1]=he}else ie[Q*2+1]=ie[Q*2]*.5;Q++}this.textWidth.push(ie.length?ie[Q*2-2]*.5+ie[Q*2-1]:0)}M.align||(M.align=this.align),this.charBuffer({data:re,type:"uint8",usage:"stream"}),this.sizeBuffer({data:ie,type:"float",usage:"stream"}),t.freeUint8(re),t.freeFloat(ie),I.length&&this.font.forEach(function(Fe,Ze){var ut=w.fontAtlas[Ze],at=ut.step,it=Math.floor(S.maxAtlasSize/at),$e=Math.min(it,ut.chars.length),st=Math.ceil(ut.chars.length/$e),ct=h($e*at),vt=h(st*at);ut.width=ct,ut.height=vt,ut.rows=st,ut.cols=$e,ut.em&&ut.texture({data:p({canvas:S.atlasCanvas,font:ut.fontString,chars:ut.chars,shape:[ct,vt],step:[at,at]})})})}if(M.align&&(this.align=M.align,this.alignOffset=this.textWidth.map(function(Fe,Ze){var ut=Array.isArray(w.align)?w.align.length>1?w.align[Ze]:w.align[0]:w.align;if(typeof ut=="number")return ut;switch(ut){case"right":case"end":return-Fe;case"center":case"centre":case"middle":return-Fe*.5}return 0})),this.baseline==null&&M.baseline==null&&(M.baseline=0),M.baseline!=null&&(this.baseline=M.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(Fe,Ze){var ut=(w.font[Ze]||w.font[0]).metrics,at=0;return at+=ut.bottom*.5,typeof Fe=="number"?at+=Fe-ut.baseline:at+=-ut[Fe],at*=-1,at})),M.color!=null)if(M.color||(M.color="transparent"),typeof M.color=="string"||!isNaN(M.color))this.color=v(M.color,"uint8");else{var Ce;if(typeof M.color[0]=="number"&&M.color.length>this.counts.length){var Ae=M.color.length;Ce=t.mallocUint8(Ae);for(var Ue=(M.color.subarray||M.color.slice).bind(M.color),Ve=0;Ve<Ae;Ve+=4)Ce.set(v(Ue(Ve,Ve+4),"uint8"),Ve)}else{var Pe=M.color.length;Ce=t.mallocUint8(Pe*4);for(var be=0;be<Pe;be++)Ce.set(v(M.color[be]||0,"uint8"),be*4)}this.color=Ce}if(M.position||M.text||M.color||M.baseline||M.align||M.font||M.offset||M.opacity){var Le=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(Le){var We=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(We);for(var je=0;je<this.batch.length;je++)this.batch[je]={count:this.counts.length>1?this.counts[je]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[je]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(je*4,je*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[je]:this.opacity,baseline:this.baselineOffset[je]!=null?this.baselineOffset[je]:this.baselineOffset[0],align:this.align?this.alignOffset[je]!=null?this.alignOffset[je]:this.alignOffset[0]:0,atlas:this.fontAtlas[je]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(je*2,je*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},S.prototype.destroy=function(){},S.prototype.kerning=!0,S.prototype.position={constant:new Float32Array(2)},S.prototype.translate=null,S.prototype.scale=null,S.prototype.font=null,S.prototype.text="",S.prototype.positionOffset=[0,0],S.prototype.opacity=1,S.prototype.color=new Uint8Array([0,0,0,255]),S.prototype.alignOffset=[0,0],S.maxAtlasSize=1024,S.atlasCanvas=document.createElement("canvas"),S.atlasContext=S.atlasCanvas.getContext("2d",{alpha:!1}),S.baseFontSize=64,S.fonts={};function P(x){return typeof x=="function"&&x._gl&&x.prop&&x.texture&&x.buffer}G.exports=S},12018:function(G,V,e){var g=e(71299);G.exports=function(t){if(t?typeof t=="string"&&(t={container:t}):t={},a(t)?t={container:t}:C(t)?t={container:t}:A(t)?t={gl:t}:t=g(t,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),t.pixelRatio||(t.pixelRatio=e.g.pixelRatio||1),t.gl)return t.gl;if(t.canvas&&(t.container=t.canvas.parentNode),t.container){if(typeof t.container=="string"){var r=document.querySelector(t.container);if(!r)throw Error("Element "+t.container+" is not found");t.container=r}a(t.container)?(t.canvas=t.container,t.container=t.canvas.parentNode):t.canvas||(t.canvas=v(),t.container.appendChild(t.canvas),_(t))}else if(!t.canvas)if(typeof document<"u")t.container=document.body||document.documentElement,t.canvas=v(),t.container.appendChild(t.canvas),_(t);else throw Error("Not DOM environment. Use headless-gl.");return t.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(s){try{t.gl=t.canvas.getContext(s,t.attrs)}catch{}return t.gl}),t.gl};function _(p){if(p.container)if(p.container==document.body)document.body.style.width||(p.canvas.width=p.width||p.pixelRatio*e.g.innerWidth),document.body.style.height||(p.canvas.height=p.height||p.pixelRatio*e.g.innerHeight);else{var t=p.container.getBoundingClientRect();p.canvas.width=p.width||t.right-t.left,p.canvas.height=p.height||t.bottom-t.top}}function a(p){return typeof p.getContext=="function"&&"width"in p&&"height"in p}function C(p){return typeof p.nodeName=="string"&&typeof p.appendChild=="function"&&typeof p.getBoundingClientRect=="function"}function A(p){return typeof p.drawArrays=="function"||typeof p.drawElements=="function"}function v(){var p=document.createElement("canvas");return p.style.position="absolute",p.style.top=0,p.style.left=0,p}},56068:function(G){G.exports=function(V){typeof V=="string"&&(V=[V]);for(var e=[].slice.call(arguments,1),g=[],_=0;_<V.length-1;_++)g.push(V[_],e[_]||"");return g.push(V[_]),g.join("")}},40383:function(G,V,e){var g=e(68318),_=g("%Object.getOwnPropertyDescriptor%",!0);if(_)try{_([],"length")}catch{_=null}G.exports=_},57035:function(G,V,e){var g=e(54404),_;typeof e.g.matchMedia=="function"?_=!e.g.matchMedia("(hover: none)").matches:_=g,G.exports=_},38520:function(G,V,e){var g=e(54404);function _(){var a=!1;try{var C=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,C),window.removeEventListener("test",null,C)}catch{a=!1}return a}G.exports=g&&_()},55622:function(G,V,e){var g=e(68318),_=g("%Object.defineProperty%",!0),a=function(){if(_)try{return _({},"a",{value:1}),!0}catch{return!1}return!1};a.hasArrayLengthDefineBug=function(){if(!a())return null;try{return _([],"length",{value:1}).length!==1}catch{return!0}},G.exports=a},57877:function(G,V,e){var g=typeof Symbol<"u"&&Symbol,_=e(35638);G.exports=function(){return typeof g!="function"||typeof Symbol!="function"||typeof g("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:_()}},35638:function(G){G.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},g=Symbol("test"),_=Object(g);if(typeof g=="string"||Object.prototype.toString.call(g)!=="[object Symbol]"||Object.prototype.toString.call(_)!=="[object Symbol]")return!1;var a=42;e[g]=a;for(g in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var C=Object.getOwnPropertySymbols(e);if(C.length!==1||C[0]!==g||!Object.prototype.propertyIsEnumerable.call(e,g))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var A=Object.getOwnPropertyDescriptor(e,g);if(A.value!==a||A.enumerable!==!0)return!1}return!0}},84543:function(G,V,e){var g=e(35638);G.exports=function(){return g()&&!!Symbol.toStringTag}},35065:function(G,V,e){var g=e(77575);G.exports=g.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(G,V){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */V.read=function(e,g,_,a,C){var A,v,p=C*8-a-1,t=(1<<p)-1,r=t>>1,s=-7,n=_?C-1:0,i=_?-1:1,f=e[g+n];for(n+=i,A=f&(1<<-s)-1,f>>=-s,s+=p;s>0;A=A*256+e[g+n],n+=i,s-=8);for(v=A&(1<<-s)-1,A>>=-s,s+=a;s>0;v=v*256+e[g+n],n+=i,s-=8);if(A===0)A=1-r;else{if(A===t)return v?NaN:(f?-1:1)*(1/0);v=v+Math.pow(2,a),A=A-r}return(f?-1:1)*v*Math.pow(2,A-a)},V.write=function(e,g,_,a,C,A){var v,p,t,r=A*8-C-1,s=(1<<r)-1,n=s>>1,i=C===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=a?0:A-1,u=a?1:-1,y=g<0||g===0&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(p=isNaN(g)?1:0,v=s):(v=Math.floor(Math.log(g)/Math.LN2),g*(t=Math.pow(2,-v))<1&&(v--,t*=2),v+n>=1?g+=i/t:g+=i*Math.pow(2,1-n),g*t>=2&&(v++,t/=2),v+n>=s?(p=0,v=s):v+n>=1?(p=(g*t-1)*Math.pow(2,C),v=v+n):(p=g*Math.pow(2,n-1)*Math.pow(2,C),v=0));C>=8;e[_+f]=p&255,f+=u,p/=256,C-=8);for(v=v<<C|p,r+=C;r>0;e[_+f]=v&255,f+=u,v/=256,r-=8);e[_+f-u]|=y*128}},42018:function(G){typeof Object.create=="function"?G.exports=function(e,g){g&&(e.super_=g,e.prototype=Object.create(g.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:G.exports=function(e,g){if(g){e.super_=g;var _=function(){};_.prototype=g.prototype,e.prototype=new _,e.prototype.constructor=e}}},47216:function(G,V,e){var g=e(84543)(),_=e(6614),a=_("Object.prototype.toString"),C=function(t){return g&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:a(t)==="[object Arguments]"},A=function(t){return C(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&a(t)!=="[object Array]"&&a(t.callee)==="[object Function]"},v=function(){return C(arguments)}();C.isLegacyArguments=A,G.exports=v?C:A},54404:function(G){G.exports=!0},85395:function(G){var V=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,g,_;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{g=Object.defineProperty({},"length",{get:function(){throw _}}),_={},e(function(){throw 42},null,g)}catch(T){T!==_&&(e=null)}else e=null;var a=/^\s*class\b/,C=function(h){try{var l=V.call(h);return a.test(l)}catch{return!1}},A=function(h){try{return C(h)?!1:(V.call(h),!0)}catch{return!1}},v=Object.prototype.toString,p="[object Object]",t="[object Function]",r="[object GeneratorFunction]",s="[object HTMLAllCollection]",n="[object HTML document.all class]",i="[object HTMLCollection]",f=typeof Symbol=="function"&&!!Symbol.toStringTag,u=!(0 in[,]),y=function(){return!1};if(typeof document=="object"){var c=document.all;v.call(c)===v.call(document.all)&&(y=function(h){if((u||!h)&&(typeof h>"u"||typeof h=="object"))try{var l=v.call(h);return(l===s||l===n||l===i||l===p)&&h("")==null}catch{}return!1})}G.exports=e?function(h){if(y(h))return!0;if(!h||typeof h!="function"&&typeof h!="object")return!1;try{e(h,null,g)}catch(l){if(l!==_)return!1}return!C(h)&&A(h)}:function(h){if(y(h))return!0;if(!h||typeof h!="function"&&typeof h!="object")return!1;if(f)return A(h);if(C(h))return!1;var l=v.call(h);return l!==t&&l!==r&&!/^\[object HTML/.test(l)?!1:A(h)}},65481:function(G,V,e){var g=Object.prototype.toString,_=Function.prototype.toString,a=/^\s*(?:function)?\*/,C=e(84543)(),A=Object.getPrototypeOf,v=function(){if(!C)return!1;try{return Function("return function*() {}")()}catch{}},p;G.exports=function(r){if(typeof r!="function")return!1;if(a.test(_.call(r)))return!0;if(!C){var s=g.call(r);return s==="[object GeneratorFunction]"}if(!A)return!1;if(typeof p>"u"){var n=v();p=n?A(n):!1}return A(r)===p}},62683:function(G){G.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},64274:function(G){G.exports=function(e){return e!==e}},15567:function(G,V,e){var g=e(68222),_=e(17045),a=e(64274),C=e(14922),A=e(22442),v=g(C(),Number);_(v,{getPolyfill:C,implementation:a,shim:A}),G.exports=v},14922:function(G,V,e){var g=e(64274);G.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:g}},22442:function(G,V,e){var g=e(17045),_=e(14922);G.exports=function(){var C=_();return g(Number,{isNaN:C},{isNaN:function(){return Number.isNaN!==C}}),C}},64941:function(G){G.exports=function(V){var e=typeof V;return V!==null&&(e==="object"||e==="function")}},10973:function(G){var V=Object.prototype.toString;G.exports=function(e){var g;return V.call(e)==="[object Object]"&&(g=Object.getPrototypeOf(e),g===null||g===Object.getPrototypeOf({}))}},18546:function(G){G.exports=function(V){for(var e=V.length,g,_=0;_<e;_++)if(g=V.charCodeAt(_),(g<9||g>13)&&g!==32&&g!==133&&g!==160&&g!==5760&&g!==6158&&(g<8192||g>8205)&&g!==8232&&g!==8233&&g!==8239&&g!==8287&&g!==8288&&g!==12288&&g!==65279)return!1;return!0}},89546:function(G){G.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},9187:function(G,V,e){var g=e(31353),_=e(72077),a=e(6614),C=a("Object.prototype.toString"),A=e(84543)(),v=e(40383),p=typeof globalThis>"u"?e.g:globalThis,t=_(),r=a("Array.prototype.indexOf",!0)||function(y,c){for(var T=0;T<y.length;T+=1)if(y[T]===c)return T;return-1},s=a("String.prototype.slice"),n={},i=Object.getPrototypeOf;A&&v&&i&&g(t,function(u){var y=new p[u];if(Symbol.toStringTag in y){var c=i(y),T=v(c,Symbol.toStringTag);if(!T){var h=i(c);T=v(h,Symbol.toStringTag)}n[u]=T.get}});var f=function(y){var c=!1;return g(n,function(T,h){if(!c)try{c=T.call(y)===h}catch{}}),c};G.exports=function(y){if(!y||typeof y!="object")return!1;if(!A||!(Symbol.toStringTag in y)){var c=s(C(y),8,-1);return r(t,c)>-1}return v?f(y):!1}},44517:function(G){(function(V,e){G.exports=e()})(this,function(){var V,e,g;function _(a,C){if(!V)V=C;else if(!e)e=C;else{var A="var sharedChunk = {}; ("+V+")(sharedChunk); ("+e+")(sharedChunk);",v={};V(v),g=C(v),g.workerUrl=window.URL.createObjectURL(new Blob([A],{type:"text/javascript"}))}}return _(["exports"],function(a){function C(R,D){return D={exports:{}},R(D,D.exports),D.exports}var A="1.10.1",v=p;function p(R,D,W,ae){this.cx=3*R,this.bx=3*(W-R)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*D,this.by=3*(ae-D)-this.cy,this.ay=1-this.cy-this.by,this.p1x=R,this.p1y=ae,this.p2x=W,this.p2y=ae}p.prototype.sampleCurveX=function(R){return((this.ax*R+this.bx)*R+this.cx)*R},p.prototype.sampleCurveY=function(R){return((this.ay*R+this.by)*R+this.cy)*R},p.prototype.sampleCurveDerivativeX=function(R){return(3*this.ax*R+2*this.bx)*R+this.cx},p.prototype.solveCurveX=function(R,D){typeof D>"u"&&(D=1e-6);var W,ae,de,Ee,Ie;for(de=R,Ie=0;Ie<8;Ie++){if(Ee=this.sampleCurveX(de)-R,Math.abs(Ee)<D)return de;var tt=this.sampleCurveDerivativeX(de);if(Math.abs(tt)<1e-6)break;de=de-Ee/tt}if(W=0,ae=1,de=R,de<W)return W;if(de>ae)return ae;for(;W<ae;){if(Ee=this.sampleCurveX(de),Math.abs(Ee-R)<D)return de;R>Ee?W=de:ae=de,de=(ae-W)*.5+W}return de},p.prototype.solve=function(R,D){return this.sampleCurveY(this.solveCurveX(R,D))};var t=r;function r(R,D){this.x=R,this.y=D}r.prototype={clone:function(){return new r(this.x,this.y)},add:function(R){return this.clone()._add(R)},sub:function(R){return this.clone()._sub(R)},multByPoint:function(R){return this.clone()._multByPoint(R)},divByPoint:function(R){return this.clone()._divByPoint(R)},mult:function(R){return this.clone()._mult(R)},div:function(R){return this.clone()._div(R)},rotate:function(R){return this.clone()._rotate(R)},rotateAround:function(R,D){return this.clone()._rotateAround(R,D)},matMult:function(R){return this.clone()._matMult(R)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(R){return this.x===R.x&&this.y===R.y},dist:function(R){return Math.sqrt(this.distSqr(R))},distSqr:function(R){var D=R.x-this.x,W=R.y-this.y;return D*D+W*W},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(R){return Math.atan2(this.y-R.y,this.x-R.x)},angleWith:function(R){return this.angleWithSep(R.x,R.y)},angleWithSep:function(R,D){return Math.atan2(this.x*D-this.y*R,this.x*R+this.y*D)},_matMult:function(R){var D=R[0]*this.x+R[1]*this.y,W=R[2]*this.x+R[3]*this.y;return this.x=D,this.y=W,this},_add:function(R){return this.x+=R.x,this.y+=R.y,this},_sub:function(R){return this.x-=R.x,this.y-=R.y,this},_mult:function(R){return this.x*=R,this.y*=R,this},_div:function(R){return this.x/=R,this.y/=R,this},_multByPoint:function(R){return this.x*=R.x,this.y*=R.y,this},_divByPoint:function(R){return this.x/=R.x,this.y/=R.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var R=this.y;return this.y=this.x,this.x=-R,this},_rotate:function(R){var D=Math.cos(R),W=Math.sin(R),ae=D*this.x-W*this.y,de=W*this.x+D*this.y;return this.x=ae,this.y=de,this},_rotateAround:function(R,D){var W=Math.cos(R),ae=Math.sin(R),de=D.x+W*(this.x-D.x)-ae*(this.y-D.y),Ee=D.y+ae*(this.x-D.x)+W*(this.y-D.y);return this.x=de,this.y=Ee,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(R){return R instanceof r?R:Array.isArray(R)?new r(R[0],R[1]):R};function s(R,D){if(Array.isArray(R)){if(!Array.isArray(D)||R.length!==D.length)return!1;for(var W=0;W<R.length;W++)if(!s(R[W],D[W]))return!1;return!0}if(typeof R=="object"&&R!==null&&D!==null){if(typeof D!="object")return!1;var ae=Object.keys(R);if(ae.length!==Object.keys(D).length)return!1;for(var de in R)if(!s(R[de],D[de]))return!1;return!0}return R===D}function n(R){if(R<=0)return 0;if(R>=1)return 1;var D=R*R,W=D*R;return 4*(R<.5?W:3*(R-D)+W-.75)}function i(R,D,W,ae){var de=new v(R,D,W,ae);return function(Ee){return de.solve(Ee)}}var f=i(.25,.1,.25,1);function u(R,D,W){return Math.min(W,Math.max(D,R))}function y(R,D,W){var ae=W-D,de=((R-D)%ae+ae)%ae+D;return de===D?W:de}function c(R,D,W){if(!R.length)return W(null,[]);var ae=R.length,de=new Array(R.length),Ee=null;R.forEach(function(Ie,tt){D(Ie,function(gt,Et){gt&&(Ee=gt),de[tt]=Et,--ae===0&&W(Ee,de)})})}function T(R){var D=[];for(var W in R)D.push(R[W]);return D}function h(R,D){var W=[];for(var ae in R)ae in D||W.push(ae);return W}function l(R){for(var D=[],W=arguments.length-1;W-- >0;)D[W]=arguments[W+1];for(var ae=0,de=D;ae<de.length;ae+=1){var Ee=de[ae];for(var Ie in Ee)R[Ie]=Ee[Ie]}return R}function d(R,D){for(var W={},ae=0;ae<D.length;ae++){var de=D[ae];de in R&&(W[de]=R[de])}return W}var E=1;function S(){return E++}function P(){function R(D){return D?(D^Math.random()*16>>D/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,R)}return R()}function x(R){return R?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(R):!1}function M(R,D){R.forEach(function(W){D[W]&&(D[W]=D[W].bind(D))})}function w(R,D){return R.indexOf(D,R.length-D.length)!==-1}function o(R,D,W){var ae={};for(var de in R)ae[de]=D.call(W||this,R[de],de,R);return ae}function L(R,D,W){var ae={};for(var de in R)D.call(W||this,R[de],de,R)&&(ae[de]=R[de]);return ae}function m(R){return Array.isArray(R)?R.map(m):typeof R=="object"&&R?o(R,m):R}function F(R,D){for(var W=0;W<R.length;W++)if(D.indexOf(R[W])>=0)return!0;return!1}var I={};function U(R){I[R]||(typeof console<"u"&&console.warn(R),I[R]=!0)}function z(R,D,W){return(W.y-R.y)*(D.x-R.x)>(D.y-R.y)*(W.x-R.x)}function N(R){for(var D=0,W=0,ae=R.length,de=ae-1,Ee=void 0,Ie=void 0;W<ae;de=W++)Ee=R[W],Ie=R[de],D+=(Ie.x-Ee.x)*(Ee.y+Ie.y);return D}function B(R){var D=R[0],W=R[1],ae=R[2];return W+=90,W*=Math.PI/180,ae*=Math.PI/180,{x:D*Math.cos(W)*Math.sin(ae),y:D*Math.sin(W)*Math.sin(ae),z:D*Math.cos(ae)}}function O(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function H(R){var D=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,W={};if(R.replace(D,function(de,Ee,Ie,tt){var gt=Ie||tt;return W[Ee]=gt?gt.toLowerCase():!0,""}),W["max-age"]){var ae=parseInt(W["max-age"],10);isNaN(ae)?delete W["max-age"]:W["max-age"]=ae}return W}var Y=null;function J(R){if(Y==null){var D=R.navigator?R.navigator.userAgent:null;Y=!!R.safari||!!(D&&(/\b(iPad|iPhone|iPod)\b/.test(D)||D.match("Safari")&&!D.match("Chrome")))}return Y}function re(R){try{var D=self[R];return D.setItem("_mapbox_test_",1),D.removeItem("_mapbox_test_"),!0}catch{return!1}}function ie(R){return self.btoa(encodeURIComponent(R).replace(/%([0-9A-F]{2})/g,function(D,W){return String.fromCharCode(+("0x"+W))}))}function ce(R){return decodeURIComponent(self.atob(R).split("").map(function(D){return"%"+("00"+D.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var Q=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),j=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,Z=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,$,te,se={now:Q,frame:function(D){var W=j(D);return{cancel:function(){return Z(W)}}},getImageData:function(D,W){W===void 0&&(W=0);var ae=self.document.createElement("canvas"),de=ae.getContext("2d");if(!de)throw new Error("failed to create canvas 2d context");return ae.width=D.width,ae.height=D.height,de.drawImage(D,0,0,D.width,D.height),de.getImageData(-W,-W,D.width+2*W,D.height+2*W)},resolveURL:function(D){return $||($=self.document.createElement("a")),$.href=D,$.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return self.matchMedia?(te==null&&(te=self.matchMedia("(prefers-reduced-motion: reduce)")),te.matches):!1}},ee={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},q={supported:!1,testSupport:Ce},le,oe=!1,he,me=!1;self.document&&(he=self.document.createElement("img"),he.onload=function(){le&&Ae(le),le=null,me=!0},he.onerror=function(){oe=!0,le=null},he.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function Ce(R){oe||!he||(me?Ae(R):le=R)}function Ae(R){var D=R.createTexture();R.bindTexture(R.TEXTURE_2D,D);try{if(R.texImage2D(R.TEXTURE_2D,0,R.RGBA,R.RGBA,R.UNSIGNED_BYTE,he),R.isContextLost())return;q.supported=!0}catch{}R.deleteTexture(D),oe=!0}var Ue="01";function Ve(){for(var R="1",D="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",W="",ae=0;ae<10;ae++)W+=D[Math.floor(Math.random()*62)];var de=12*60*60*1e3,Ee=[R,Ue,W].join(""),Ie=Date.now()+de;return{token:Ee,tokenExpiresAt:Ie}}var Pe=function(D,W){this._transformRequestFn=D,this._customAccessToken=W,this._createSkuToken()};Pe.prototype._createSkuToken=function(){var D=Ve();this._skuToken=D.token,this._skuTokenExpiresAt=D.tokenExpiresAt},Pe.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Pe.prototype.transformRequest=function(D,W){return this._transformRequestFn?this._transformRequestFn(D,W)||{url:D}:{url:D}},Pe.prototype.normalizeStyleURL=function(D,W){if(!be(D))return D;var ae=ut(D);return ae.path="/styles/v1"+ae.path,this._makeAPIURL(ae,this._customAccessToken||W)},Pe.prototype.normalizeGlyphsURL=function(D,W){if(!be(D))return D;var ae=ut(D);return ae.path="/fonts/v1"+ae.path,this._makeAPIURL(ae,this._customAccessToken||W)},Pe.prototype.normalizeSourceURL=function(D,W){if(!be(D))return D;var ae=ut(D);return ae.path="/v4/"+ae.authority+".json",ae.params.push("secure"),this._makeAPIURL(ae,this._customAccessToken||W)},Pe.prototype.normalizeSpriteURL=function(D,W,ae,de){var Ee=ut(D);return be(D)?(Ee.path="/styles/v1"+Ee.path+"/sprite"+W+ae,this._makeAPIURL(Ee,this._customAccessToken||de)):(Ee.path+=""+W+ae,at(Ee))},Pe.prototype.normalizeTileURL=function(D,W){if(this._isSkuTokenExpired()&&this._createSkuToken(),D&&!be(D))return D;var ae=ut(D),de=/(\.(png|jpg)\d*)(?=$)/,Ee=/^.+\/v4\//,Ie=se.devicePixelRatio>=2||W===512?"@2x":"",tt=q.supported?".webp":"$1";ae.path=ae.path.replace(de,""+Ie+tt),ae.path=ae.path.replace(Ee,"/"),ae.path="/v4"+ae.path;var gt=this._customAccessToken||Fe(ae.params)||ee.ACCESS_TOKEN;return ee.REQUIRE_ACCESS_TOKEN&&gt&&this._skuToken&&ae.params.push("sku="+this._skuToken),this._makeAPIURL(ae,gt)},Pe.prototype.canonicalizeTileURL=function(D,W){var ae="/v4/",de=/\.[\w]+$/,Ee=ut(D);if(!Ee.path.match(/(^\/v4\/)/)||!Ee.path.match(de))return D;var Ie="mapbox://tiles/";Ie+=Ee.path.replace(ae,"");var tt=Ee.params;return W&&(tt=tt.filter(function(gt){return!gt.match(/^access_token=/)})),tt.length&&(Ie+="?"+tt.join("&")),Ie},Pe.prototype.canonicalizeTileset=function(D,W){for(var ae=W?be(W):!1,de=[],Ee=0,Ie=D.tiles||[];Ee<Ie.length;Ee+=1){var tt=Ie[Ee];We(tt)?de.push(this.canonicalizeTileURL(tt,ae)):de.push(tt)}return de},Pe.prototype._makeAPIURL=function(D,W){var ae="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",de=ut(ee.API_URL);if(D.protocol=de.protocol,D.authority=de.authority,de.path!=="/"&&(D.path=""+de.path+D.path),!ee.REQUIRE_ACCESS_TOKEN)return at(D);if(W=W||ee.ACCESS_TOKEN,!W)throw new Error("An API access token is required to use Mapbox GL. "+ae);if(W[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+ae);return D.params=D.params.filter(function(Ee){return Ee.indexOf("access_token")===-1}),D.params.push("access_token="+W),at(D)};function be(R){return R.indexOf("mapbox:")===0}var Le=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function We(R){return Le.test(R)}function je(R){return R.indexOf("sku=")>0&&We(R)}function Fe(R){for(var D=0,W=R;D<W.length;D+=1){var ae=W[D],de=ae.match(/^access_token=(.*)$/);if(de)return de[1]}return null}var Ze=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ut(R){var D=R.match(Ze);if(!D)throw new Error("Unable to parse URL object");return{protocol:D[1],authority:D[2],path:D[3]||"/",params:D[4]?D[4].split("&"):[]}}function at(R){var D=R.params.length?"?"+R.params.join("&"):"";return R.protocol+"://"+R.authority+R.path+D}var it="mapbox.eventData";function $e(R){if(!R)return null;var D=R.split(".");if(!D||D.length!==3)return null;try{var W=JSON.parse(ce(D[1]));return W}catch{return null}}var st=function(D){this.type=D,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};st.prototype.getStorageKey=function(D){var W=$e(ee.ACCESS_TOKEN),ae="";return W&&W.u?ae=ie(W.u):ae=ee.ACCESS_TOKEN||"",D?it+"."+D+":"+ae:it+":"+ae},st.prototype.fetchEventData=function(){var D=re("localStorage"),W=this.getStorageKey(),ae=this.getStorageKey("uuid");if(D)try{var de=self.localStorage.getItem(W);de&&(this.eventData=JSON.parse(de));var Ee=self.localStorage.getItem(ae);Ee&&(this.anonId=Ee)}catch{U("Unable to read from LocalStorage")}},st.prototype.saveEventData=function(){var D=re("localStorage"),W=this.getStorageKey(),ae=this.getStorageKey("uuid");if(D)try{self.localStorage.setItem(ae,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(W,JSON.stringify(this.eventData))}catch{U("Unable to write to LocalStorage")}},st.prototype.processRequests=function(D){},st.prototype.postEvent=function(D,W,ae,de){var Ee=this;if(ee.EVENTS_URL){var Ie=ut(ee.EVENTS_URL);Ie.params.push("access_token="+(de||ee.ACCESS_TOKEN||""));var tt={event:this.type,created:new Date(D).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:A,skuId:Ue,userId:this.anonId},gt=W?l(tt,W):tt,Et={url:at(Ie),headers:{"Content-Type":"text/plain"},body:JSON.stringify([gt])};this.pendingRequest=zt(Et,function(Rt){Ee.pendingRequest=null,ae(Rt),Ee.saveEventData(),Ee.processRequests(de)})}},st.prototype.queueRequest=function(D,W){this.queue.push(D),this.processRequests(W)};var ct=function(R){function D(){R.call(this,"map.load"),this.success={},this.skuToken=""}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.postMapLoadEvent=function(ae,de,Ee,Ie){this.skuToken=Ee,(ee.EVENTS_URL&&Ie||ee.ACCESS_TOKEN&&Array.isArray(ae)&&ae.some(function(tt){return be(tt)||We(tt)}))&&this.queueRequest({id:de,timestamp:Date.now()},Ie)},D.prototype.processRequests=function(ae){var de=this;if(!(this.pendingRequest||this.queue.length===0)){var Ee=this.queue.shift(),Ie=Ee.id,tt=Ee.timestamp;Ie&&this.success[Ie]||(this.anonId||this.fetchEventData(),x(this.anonId)||(this.anonId=P()),this.postEvent(tt,{skuToken:this.skuToken},function(gt){gt||Ie&&(de.success[Ie]=!0)},ae))}},D}(st),vt=function(R){function D(W){R.call(this,"appUserTurnstile"),this._customAccessToken=W}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.postTurnstileEvent=function(ae,de){ee.EVENTS_URL&&ee.ACCESS_TOKEN&&Array.isArray(ae)&&ae.some(function(Ee){return be(Ee)||We(Ee)})&&this.queueRequest(Date.now(),de)},D.prototype.processRequests=function(ae){var de=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var Ee=$e(ee.ACCESS_TOKEN),Ie=Ee?Ee.u:ee.ACCESS_TOKEN,tt=Ie!==this.eventData.tokenU;x(this.anonId)||(this.anonId=P(),tt=!0);var gt=this.queue.shift();if(this.eventData.lastSuccess){var Et=new Date(this.eventData.lastSuccess),Rt=new Date(gt),Zt=(gt-this.eventData.lastSuccess)/(24*60*60*1e3);tt=tt||Zt>=1||Zt<-1||Et.getDate()!==Rt.getDate()}else tt=!0;if(!tt)return this.processRequests();this.postEvent(gt,{"enabled.telemetry":!1},function(fr){fr||(de.eventData.lastSuccess=gt,de.eventData.tokenU=Ie)},ae)}},D}(st),St=new vt,Mt=St.postTurnstileEvent.bind(St),Bt=new ct,Qe=Bt.postMapLoadEvent.bind(Bt),ke="mapbox-tiles",ze=500,Be=50,Re=1e3*60*7,we;function ye(){self.caches&&!we&&(we=self.caches.open(ke))}var Se;function Me(R,D){if(Se===void 0)try{new Response(new ReadableStream),Se=!0}catch{Se=!1}Se?D(R.body):R.blob().then(D)}function He(R,D,W){if(ye(),!!we){var ae={status:D.status,statusText:D.statusText,headers:new self.Headers};D.headers.forEach(function(Ie,tt){return ae.headers.set(tt,Ie)});var de=H(D.headers.get("Cache-Control")||"");if(!de["no-store"]){de["max-age"]&&ae.headers.set("Expires",new Date(W+de["max-age"]*1e3).toUTCString());var Ee=new Date(ae.headers.get("Expires")).getTime()-W;Ee<Re||Me(D,function(Ie){var tt=new self.Response(Ie,ae);ye(),we&&we.then(function(gt){return gt.put(qe(R.url),tt)}).catch(function(gt){return U(gt.message)})})}}}function qe(R){var D=R.indexOf("?");return D<0?R:R.slice(0,D)}function rt(R,D){if(ye(),!we)return D(null);var W=qe(R.url);we.then(function(ae){ae.match(W).then(function(de){var Ee=pt(de);ae.delete(W),Ee&&ae.put(W,de.clone()),D(null,de,Ee)}).catch(D)}).catch(D)}function pt(R){if(!R)return!1;var D=new Date(R.headers.get("Expires")||0),W=H(R.headers.get("Cache-Control")||"");return D>Date.now()&&!W["no-cache"]}var At=1/0;function jt(R){At++,At>Be&&(R.getActor().send("enforceCacheSizeLimit",ze),At=0)}function tr(R){ye(),we&&we.then(function(D){D.keys().then(function(W){for(var ae=0;ae<W.length-R;ae++)D.delete(W[ae])})})}function Ct(R){var D=self.caches.delete(ke);R&&D.catch(R).then(function(){return R()})}function Nt(R,D){ze=R,Be=D}var Kt;function wr(){return Kt==null&&(Kt=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),Kt}var yt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(yt);var $t=function(R){function D(W,ae,de){ae===401&&We(de)&&(W+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),R.call(this,W),this.status=ae,this.url=de,this.name=this.constructor.name,this.message=W}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},D}(Error),er=O()?function(){return self.worker&&self.worker.referrer}:function(){return(self.location.protocol==="blob:"?self.parent:self).location.href},mr=function(R){return/^file:/.test(R)||/^file:/.test(er())&&!/^\w+:/.test(R)};function vr(R,D){var W=new self.AbortController,ae=new self.Request(R.url,{method:R.method||"GET",body:R.body,credentials:R.credentials,headers:R.headers,referrer:er(),signal:W.signal}),de=!1,Ee=!1,Ie=je(ae.url);R.type==="json"&&ae.headers.set("Accept","application/json");var tt=function(Et,Rt,Zt){if(!Ee){if(Et&&Et.message!=="SecurityError"&&U(Et),Rt&&Zt)return gt(Rt);var fr=Date.now();self.fetch(ae).then(function(nr){if(nr.ok){var Sr=Ie?nr.clone():null;return gt(nr,Sr,fr)}else return D(new $t(nr.statusText,nr.status,R.url))}).catch(function(nr){nr.code!==20&&D(new Error(nr.message))})}},gt=function(Et,Rt,Zt){(R.type==="arrayBuffer"?Et.arrayBuffer():R.type==="json"?Et.json():Et.text()).then(function(fr){Ee||(Rt&&Zt&&He(ae,Rt,Zt),de=!0,D(null,fr,Et.headers.get("Cache-Control"),Et.headers.get("Expires")))}).catch(function(fr){Ee||D(new Error(fr.message))})};return Ie?rt(ae,tt):tt(null,null),{cancel:function(){Ee=!0,de||W.abort()}}}function bt(R,D){var W=new self.XMLHttpRequest;W.open(R.method||"GET",R.url,!0),R.type==="arrayBuffer"&&(W.responseType="arraybuffer");for(var ae in R.headers)W.setRequestHeader(ae,R.headers[ae]);return R.type==="json"&&(W.responseType="text",W.setRequestHeader("Accept","application/json")),W.withCredentials=R.credentials==="include",W.onerror=function(){D(new Error(W.statusText))},W.onload=function(){if((W.status>=200&&W.status<300||W.status===0)&&W.response!==null){var de=W.response;if(R.type==="json")try{de=JSON.parse(W.response)}catch(Ee){return D(Ee)}D(null,de,W.getResponseHeader("Cache-Control"),W.getResponseHeader("Expires"))}else D(new $t(W.statusText,W.status,R.url))},W.send(R.body),{cancel:function(){return W.abort()}}}var ht=function(R,D){if(!mr(R.url)){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return vr(R,D);if(O()&&self.worker&&self.worker.actor){var W=!0;return self.worker.actor.send("getResource",R,D,void 0,W)}}return bt(R,D)},Tt=function(R,D){return ht(l(R,{type:"json"}),D)},Pt=function(R,D){return ht(l(R,{type:"arrayBuffer"}),D)},zt=function(R,D){return ht(l(R,{method:"POST"}),D)};function Dt(R){var D=self.document.createElement("a");return D.href=R,D.protocol===self.document.location.protocol&&D.host===self.document.location.host}var Vt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Ut(R,D,W,ae){var de=new self.Image,Ee=self.URL;de.onload=function(){D(null,de),Ee.revokeObjectURL(de.src)},de.onerror=function(){return D(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Ie=new self.Blob([new Uint8Array(R)],{type:"image/png"});de.cacheControl=W,de.expires=ae,de.src=R.byteLength?Ee.createObjectURL(Ie):Vt}function Qt(R,D){var W=new self.Blob([new Uint8Array(R)],{type:"image/png"});self.createImageBitmap(W).then(function(ae){D(null,ae)}).catch(function(ae){D(new Error("Could not load image because of "+ae.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var hr,cr,lr=function(){hr=[],cr=0};lr();var Xe=function(R,D){if(q.supported&&(R.headers||(R.headers={}),R.headers.accept="image/webp,*/*"),cr>=ee.MAX_PARALLEL_IMAGE_REQUESTS){var W={requestParameters:R,callback:D,cancelled:!1,cancel:function(){this.cancelled=!0}};return hr.push(W),W}cr++;var ae=!1,de=function(){if(!ae)for(ae=!0,cr--;hr.length&&cr<ee.MAX_PARALLEL_IMAGE_REQUESTS;){var Ie=hr.shift(),tt=Ie.requestParameters,gt=Ie.callback,Et=Ie.cancelled;Et||(Ie.cancel=Xe(tt,gt).cancel)}},Ee=Pt(R,function(Ie,tt,gt,Et){de(),Ie?D(Ie):tt&&(wr()?Qt(tt,D):Ut(tt,D,gt,Et))});return{cancel:function(){Ee.cancel(),de()}}},Ke=function(R,D){var W=self.document.createElement("video");W.muted=!0,W.onloadstart=function(){D(null,W)};for(var ae=0;ae<R.length;ae++){var de=self.document.createElement("source");Dt(R[ae])||(W.crossOrigin="Anonymous"),de.src=R[ae],W.appendChild(de)}return{cancel:function(){}}};function Ot(R,D,W){var ae=W[R]&&W[R].indexOf(D)!==-1;ae||(W[R]=W[R]||[],W[R].push(D))}function Lt(R,D,W){if(W&&W[R]){var ae=W[R].indexOf(D);ae!==-1&&W[R].splice(ae,1)}}var Xt=function(D,W){W===void 0&&(W={}),l(this,W),this.type=D},rr=function(R){function D(W,ae){ae===void 0&&(ae={}),R.call(this,"error",l({error:W},ae))}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Xt),ur=function(){};ur.prototype.on=function(D,W){return this._listeners=this._listeners||{},Ot(D,W,this._listeners),this},ur.prototype.off=function(D,W){return Lt(D,W,this._listeners),Lt(D,W,this._oneTimeListeners),this},ur.prototype.once=function(D,W){return this._oneTimeListeners=this._oneTimeListeners||{},Ot(D,W,this._oneTimeListeners),this},ur.prototype.fire=function(D,W){typeof D=="string"&&(D=new Xt(D,W||{}));var ae=D.type;if(this.listens(ae)){D.target=this;for(var de=this._listeners&&this._listeners[ae]?this._listeners[ae].slice():[],Ee=0,Ie=de;Ee<Ie.length;Ee+=1){var tt=Ie[Ee];tt.call(this,D)}for(var gt=this._oneTimeListeners&&this._oneTimeListeners[ae]?this._oneTimeListeners[ae].slice():[],Et=0,Rt=gt;Et<Rt.length;Et+=1){var Zt=Rt[Et];Lt(ae,Zt,this._oneTimeListeners),Zt.call(this,D)}var fr=this._eventedParent;fr&&(l(D,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),fr.fire(D))}else D instanceof rr&&console.error(D.error);return this},ur.prototype.listens=function(D){return this._listeners&&this._listeners[D]&&this._listeners[D].length>0||this._oneTimeListeners&&this._oneTimeListeners[D]&&this._oneTimeListeners[D].length>0||this._eventedParent&&this._eventedParent.listens(D)},ur.prototype.setEventedParent=function(D,W){return this._eventedParent=D,this._eventedParentData=W,this};var or=8,Ht={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},gr={"*":{type:"source"}},br=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],xr={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},dr={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},Wr={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},Br={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},Ur={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},yn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},rn={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},Un=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],bn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Lr={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Pr={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Yr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Hr={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},en={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},cn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},hn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Pn={type:"array",value:"*"},kn={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},sa={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},Xn={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},ea={type:"array",value:"*",minimum:1},Zn={type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},Qn={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},Mr=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],on={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},nn={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},mn={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Gn={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Mn={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},Ln={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Hn={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ra={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ba={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},Za={"*":{type:"string"}},Jt={$version:or,$root:Ht,sources:gr,source:br,source_vector:xr,source_raster:dr,source_raster_dem:Wr,source_geojson:Br,source_video:Ur,source_image:yn,layer:rn,layout:Un,layout_background:bn,layout_fill:Lr,layout_circle:Pr,layout_heatmap:Yr,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:Hr,layout_symbol:en,layout_raster:cn,layout_hillshade:hn,filter:Pn,filter_operator:kn,geometry_type:sa,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:Xn,expression:ea,expression_name:Zn,light:Qn,paint:Mr,paint_fill:on,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:nn,paint_circle:mn,paint_heatmap:Gn,paint_symbol:Mn,paint_raster:Ln,paint_hillshade:Hn,paint_background:ra,transition:ba,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:Za},Er=function(D,W,ae,de){this.message=(D?D+": ":"")+ae,de&&(this.identifier=de),W!=null&&W.__line__&&(this.line=W.__line__)};function qr(R){var D=R.key,W=R.value;return W?[new Er(D,W,"constants have been deprecated as of v8")]:[]}function sn(R){for(var D=[],W=arguments.length-1;W-- >0;)D[W]=arguments[W+1];for(var ae=0,de=D;ae<de.length;ae+=1){var Ee=de[ae];for(var Ie in Ee)R[Ie]=Ee[Ie]}return R}function fn(R){return R instanceof Number||R instanceof String||R instanceof Boolean?R.valueOf():R}function Cn(R){if(Array.isArray(R))return R.map(Cn);if(R instanceof Object&&!(R instanceof Number||R instanceof String||R instanceof Boolean)){var D={};for(var W in R)D[W]=Cn(R[W]);return D}return fn(R)}var En=function(R){function D(W,ae){R.call(this,ae),this.message=ae,this.key=W}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Error),pn=function(D,W){W===void 0&&(W=[]),this.parent=D,this.bindings={};for(var ae=0,de=W;ae<de.length;ae+=1){var Ee=de[ae],Ie=Ee[0],tt=Ee[1];this.bindings[Ie]=tt}};pn.prototype.concat=function(D){return new pn(this,D)},pn.prototype.get=function(D){if(this.bindings[D])return this.bindings[D];if(this.parent)return this.parent.get(D);throw new Error(D+" not found in scope.")},pn.prototype.has=function(D){return this.bindings[D]?!0:this.parent?this.parent.has(D):!1};var zr={kind:"null"},_r={kind:"number"},Nr={kind:"string"},vn={kind:"boolean"},Fn={kind:"color"},Kn={kind:"object"},xn={kind:"value"},Vn={kind:"error"},aa={kind:"collator"},va={kind:"formatted"},ha={kind:"resolvedImage"};function la(R,D){return{kind:"array",itemType:R,N:D}}function ma(R){if(R.kind==="array"){var D=ma(R.itemType);return typeof R.N=="number"?"array<"+D+", "+R.N+">":R.itemType.kind==="value"?"array":"array<"+D+">"}else return R.kind}var _i=[zr,_r,Nr,vn,Fn,va,Kn,la(xn),ha];function Ji(R,D){if(D.kind==="error")return null;if(R.kind==="array"){if(D.kind==="array"&&(D.N===0&&D.itemType.kind==="value"||!Ji(R.itemType,D.itemType))&&(typeof R.N!="number"||R.N===D.N))return null}else{if(R.kind===D.kind)return null;if(R.kind==="value")for(var W=0,ae=_i;W<ae.length;W+=1){var de=ae[W];if(!Ji(de,D))return null}}return"Expected "+ma(R)+" but found "+ma(D)+" instead."}function po(R,D){return D.some(function(W){return W.kind===R.kind})}function Ro(R,D){return D.some(function(W){return W==="null"?R===null:W==="array"?Array.isArray(R):W==="object"?R&&!Array.isArray(R)&&typeof R=="object":W===typeof R})}var Qi=C(function(R,D){var W={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ae(Et){return Et=Math.round(Et),Et<0?0:Et>255?255:Et}function de(Et){return Et<0?0:Et>1?1:Et}function Ee(Et){return Et[Et.length-1]==="%"?ae(parseFloat(Et)/100*255):ae(parseInt(Et))}function Ie(Et){return Et[Et.length-1]==="%"?de(parseFloat(Et)/100):de(parseFloat(Et))}function tt(Et,Rt,Zt){return Zt<0?Zt+=1:Zt>1&&(Zt-=1),Zt*6<1?Et+(Rt-Et)*Zt*6:Zt*2<1?Rt:Zt*3<2?Et+(Rt-Et)*(2/3-Zt)*6:Et}function gt(Et){var Rt=Et.replace(/ /g,"").toLowerCase();if(Rt in W)return W[Rt].slice();if(Rt[0]==="#"){if(Rt.length===4){var Zt=parseInt(Rt.substr(1),16);return Zt>=0&&Zt<=4095?[(Zt&3840)>>4|(Zt&3840)>>8,Zt&240|(Zt&240)>>4,Zt&15|(Zt&15)<<4,1]:null}else if(Rt.length===7){var Zt=parseInt(Rt.substr(1),16);return Zt>=0&&Zt<=16777215?[(Zt&16711680)>>16,(Zt&65280)>>8,Zt&255,1]:null}return null}var fr=Rt.indexOf("("),nr=Rt.indexOf(")");if(fr!==-1&&nr+1===Rt.length){var Sr=Rt.substr(0,fr),Vr=Rt.substr(fr+1,nr-(fr+1)).split(","),un=1;switch(Sr){case"rgba":if(Vr.length!==4)return null;un=Ie(Vr.pop());case"rgb":return Vr.length!==3?null:[Ee(Vr[0]),Ee(Vr[1]),Ee(Vr[2]),un];case"hsla":if(Vr.length!==4)return null;un=Ie(Vr.pop());case"hsl":if(Vr.length!==3)return null;var tn=(parseFloat(Vr[0])%360+360)%360/360,Rn=Ie(Vr[1]),Tn=Ie(Vr[2]),_n=Tn<=.5?Tn*(Rn+1):Tn+Rn-Tn*Rn,zn=Tn*2-_n;return[ae(tt(zn,_n,tn+1/3)*255),ae(tt(zn,_n,tn)*255),ae(tt(zn,_n,tn-1/3)*255),un];default:return null}}return null}try{D.parseCSSColor=gt}catch{}}),gu=Qi.parseCSSColor,qa=function(D,W,ae,de){de===void 0&&(de=1),this.r=D,this.g=W,this.b=ae,this.a=de};qa.parse=function(D){if(D){if(D instanceof qa)return D;if(typeof D=="string"){var W=gu(D);if(W)return new qa(W[0]/255*W[3],W[1]/255*W[3],W[2]/255*W[3],W[3])}}},qa.prototype.toString=function(){var D=this.toArray(),W=D[0],ae=D[1],de=D[2],Ee=D[3];return"rgba("+Math.round(W)+","+Math.round(ae)+","+Math.round(de)+","+Ee+")"},qa.prototype.toArray=function(){var D=this,W=D.r,ae=D.g,de=D.b,Ee=D.a;return Ee===0?[0,0,0,0]:[W*255/Ee,ae*255/Ee,de*255/Ee,Ee]},qa.black=new qa(0,0,0,1),qa.white=new qa(1,1,1,1),qa.transparent=new qa(0,0,0,0),qa.red=new qa(1,0,0,1);var yu=function(D,W,ae){D?this.sensitivity=W?"variant":"case":this.sensitivity=W?"accent":"base",this.locale=ae,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};yu.prototype.compare=function(D,W){return this.collator.compare(D,W)},yu.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Ml=function(D,W,ae,de,Ee){this.text=D,this.image=W,this.scale=ae,this.fontStack=de,this.textColor=Ee},qi=function(D){this.sections=D};qi.fromString=function(D){return new qi([new Ml(D,null,null,null,null)])},qi.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(D){return D.text.length!==0||D.image&&D.image.name.length!==0})},qi.factory=function(D){return D instanceof qi?D:qi.fromString(D)},qi.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(D){return D.text}).join("")},qi.prototype.serialize=function(){for(var D=["format"],W=0,ae=this.sections;W<ae.length;W+=1){var de=ae[W];if(de.image){D.push(["image",de.image.name]);continue}D.push(de.text);var Ee={};de.fontStack&&(Ee["text-font"]=["literal",de.fontStack.split(",")]),de.scale&&(Ee["font-scale"]=de.scale),de.textColor&&(Ee["text-color"]=["rgba"].concat(de.textColor.toArray())),D.push(Ee)}return D};var bo=function(D){this.name=D.name,this.available=D.available};bo.prototype.toString=function(){return this.name},bo.fromString=function(D){return D?new bo({name:D,available:!1}):null},bo.prototype.serialize=function(){return["image",this.name]};function lc(R,D,W,ae){if(!(typeof R=="number"&&R>=0&&R<=255&&typeof D=="number"&&D>=0&&D<=255&&typeof W=="number"&&W>=0&&W<=255)){var de=typeof ae=="number"?[R,D,W,ae]:[R,D,W];return"Invalid rgba value ["+de.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof ae>"u"||typeof ae=="number"&&ae>=0&&ae<=1?null:"Invalid rgba value ["+[R,D,W,ae].join(", ")+"]: 'a' must be between 0 and 1."}function mu(R){if(R===null)return!0;if(typeof R=="string")return!0;if(typeof R=="boolean")return!0;if(typeof R=="number")return!0;if(R instanceof qa)return!0;if(R instanceof yu)return!0;if(R instanceof qi)return!0;if(R instanceof bo)return!0;if(Array.isArray(R)){for(var D=0,W=R;D<W.length;D+=1){var ae=W[D];if(!mu(ae))return!1}return!0}else if(typeof R=="object"){for(var de in R)if(!mu(R[de]))return!1;return!0}else return!1}function ki(R){if(R===null)return zr;if(typeof R=="string")return Nr;if(typeof R=="boolean")return vn;if(typeof R=="number")return _r;if(R instanceof qa)return Fn;if(R instanceof yu)return aa;if(R instanceof qi)return va;if(R instanceof bo)return ha;if(Array.isArray(R)){for(var D=R.length,W,ae=0,de=R;ae<de.length;ae+=1){var Ee=de[ae],Ie=ki(Ee);if(!W)W=Ie;else{if(W===Ie)continue;W=xn;break}}return la(W||xn,D)}else return Kn}function $l(R){var D=typeof R;return R===null?"":D==="string"||D==="number"||D==="boolean"?String(R):R instanceof qa||R instanceof qi||R instanceof bo?R.toString():JSON.stringify(R)}var ro=function(D,W){this.type=D,this.value=W};ro.parse=function(D,W){if(D.length!==2)return W.error("'literal' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(!mu(D[1]))return W.error("invalid value");var ae=D[1],de=ki(ae),Ee=W.expectedType;return de.kind==="array"&&de.N===0&&Ee&&Ee.kind==="array"&&(typeof Ee.N!="number"||Ee.N===0)&&(de=Ee),new ro(de,ae)},ro.prototype.evaluate=function(){return this.value},ro.prototype.eachChild=function(){},ro.prototype.outputDefined=function(){return!0},ro.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof qa?["rgba"].concat(this.value.toArray()):this.value instanceof qi?this.value.serialize():this.value};var eo=function(D){this.name="ExpressionEvaluationError",this.message=D};eo.prototype.toJSON=function(){return this.message};var Ho={string:Nr,number:_r,boolean:vn,object:Kn},so=function(D,W){this.type=D,this.args=W};so.parse=function(D,W){if(D.length<2)return W.error("Expected at least one argument.");var ae=1,de,Ee=D[0];if(Ee==="array"){var Ie;if(D.length>2){var tt=D[1];if(typeof tt!="string"||!(tt in Ho)||tt==="object")return W.error('The item type argument of "array" must be one of string, number, boolean',1);Ie=Ho[tt],ae++}else Ie=xn;var gt;if(D.length>3){if(D[2]!==null&&(typeof D[2]!="number"||D[2]<0||D[2]!==Math.floor(D[2])))return W.error('The length argument to "array" must be a positive integer literal',2);gt=D[2],ae++}de=la(Ie,gt)}else de=Ho[Ee];for(var Et=[];ae<D.length;ae++){var Rt=W.parse(D[ae],ae,xn);if(!Rt)return null;Et.push(Rt)}return new so(de,Et)},so.prototype.evaluate=function(D){for(var W=0;W<this.args.length;W++){var ae=this.args[W].evaluate(D),de=Ji(this.type,ki(ae));if(de){if(W===this.args.length-1)throw new eo("Expected value to be of type "+ma(this.type)+", but found "+ma(ki(ae))+" instead.")}else return ae}return null},so.prototype.eachChild=function(D){this.args.forEach(D)},so.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},so.prototype.serialize=function(){var D=this.type,W=[D.kind];if(D.kind==="array"){var ae=D.itemType;if(ae.kind==="string"||ae.kind==="number"||ae.kind==="boolean"){W.push(ae.kind);var de=D.N;(typeof de=="number"||this.args.length>1)&&W.push(de)}}return W.concat(this.args.map(function(Ee){return Ee.serialize()}))};var Jo=function(D){this.type=va,this.sections=D};Jo.parse=function(D,W){if(D.length<2)return W.error("Expected at least one argument.");var ae=D[1];if(!Array.isArray(ae)&&typeof ae=="object")return W.error("First argument must be an image or text section.");for(var de=[],Ee=!1,Ie=1;Ie<=D.length-1;++Ie){var tt=D[Ie];if(Ee&&typeof tt=="object"&&!Array.isArray(tt)){Ee=!1;var gt=null;if(tt["font-scale"]&&(gt=W.parse(tt["font-scale"],1,_r),!gt))return null;var Et=null;if(tt["text-font"]&&(Et=W.parse(tt["text-font"],1,la(Nr)),!Et))return null;var Rt=null;if(tt["text-color"]&&(Rt=W.parse(tt["text-color"],1,Fn),!Rt))return null;var Zt=de[de.length-1];Zt.scale=gt,Zt.font=Et,Zt.textColor=Rt}else{var fr=W.parse(D[Ie],1,xn);if(!fr)return null;var nr=fr.type.kind;if(nr!=="string"&&nr!=="value"&&nr!=="null"&&nr!=="resolvedImage")return W.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Ee=!0,de.push({content:fr,scale:null,font:null,textColor:null})}}return new Jo(de)},Jo.prototype.evaluate=function(D){var W=function(ae){var de=ae.content.evaluate(D);return ki(de)===ha?new Ml("",de,null,null,null):new Ml($l(de),null,ae.scale?ae.scale.evaluate(D):null,ae.font?ae.font.evaluate(D).join(","):null,ae.textColor?ae.textColor.evaluate(D):null)};return new qi(this.sections.map(W))},Jo.prototype.eachChild=function(D){for(var W=0,ae=this.sections;W<ae.length;W+=1){var de=ae[W];D(de.content),de.scale&&D(de.scale),de.font&&D(de.font),de.textColor&&D(de.textColor)}},Jo.prototype.outputDefined=function(){return!1},Jo.prototype.serialize=function(){for(var D=["format"],W=0,ae=this.sections;W<ae.length;W+=1){var de=ae[W];D.push(de.content.serialize());var Ee={};de.scale&&(Ee["font-scale"]=de.scale.serialize()),de.font&&(Ee["text-font"]=de.font.serialize()),de.textColor&&(Ee["text-color"]=de.textColor.serialize()),D.push(Ee)}return D};var Qo=function(D){this.type=ha,this.input=D};Qo.parse=function(D,W){if(D.length!==2)return W.error("Expected two arguments.");var ae=W.parse(D[1],1,Nr);return ae?new Qo(ae):W.error("No image name provided.")},Qo.prototype.evaluate=function(D){var W=this.input.evaluate(D),ae=bo.fromString(W);return ae&&D.availableImages&&(ae.available=D.availableImages.indexOf(W)>-1),ae},Qo.prototype.eachChild=function(D){D(this.input)},Qo.prototype.outputDefined=function(){return!1},Qo.prototype.serialize=function(){return["image",this.input.serialize()]};var qo={"to-boolean":vn,"to-color":Fn,"to-number":_r,"to-string":Nr},lo=function(D,W){this.type=D,this.args=W};lo.parse=function(D,W){if(D.length<2)return W.error("Expected at least one argument.");var ae=D[0];if((ae==="to-boolean"||ae==="to-string")&&D.length!==2)return W.error("Expected one argument.");for(var de=qo[ae],Ee=[],Ie=1;Ie<D.length;Ie++){var tt=W.parse(D[Ie],Ie,xn);if(!tt)return null;Ee.push(tt)}return new lo(de,Ee)},lo.prototype.evaluate=function(D){if(this.type.kind==="boolean")return!!this.args[0].evaluate(D);if(this.type.kind==="color"){for(var W,ae,de=0,Ee=this.args;de<Ee.length;de+=1){var Ie=Ee[de];if(W=Ie.evaluate(D),ae=null,W instanceof qa)return W;if(typeof W=="string"){var tt=D.parseColor(W);if(tt)return tt}else if(Array.isArray(W)&&(W.length<3||W.length>4?ae="Invalid rbga value "+JSON.stringify(W)+": expected an array containing either three or four numeric values.":ae=lc(W[0],W[1],W[2],W[3]),!ae))return new qa(W[0]/255,W[1]/255,W[2]/255,W[3])}throw new eo(ae||"Could not parse color from value '"+(typeof W=="string"?W:String(JSON.stringify(W)))+"'")}else if(this.type.kind==="number"){for(var gt=null,Et=0,Rt=this.args;Et<Rt.length;Et+=1){var Zt=Rt[Et];if(gt=Zt.evaluate(D),gt===null)return 0;var fr=Number(gt);if(!isNaN(fr))return fr}throw new eo("Could not convert "+JSON.stringify(gt)+" to number.")}else return this.type.kind==="formatted"?qi.fromString($l(this.args[0].evaluate(D))):this.type.kind==="resolvedImage"?bo.fromString($l(this.args[0].evaluate(D))):$l(this.args[0].evaluate(D))},lo.prototype.eachChild=function(D){this.args.forEach(D)},lo.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},lo.prototype.serialize=function(){if(this.type.kind==="formatted")return new Jo([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Qo(this.args[0]).serialize();var D=["to-"+this.type.kind];return this.eachChild(function(W){D.push(W.serialize())}),D};var Xu=["Unknown","Point","LineString","Polygon"],Es=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Es.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Es.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?Xu[this.feature.type]:this.feature.type:null},Es.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Es.prototype.canonicalID=function(){return this.canonical},Es.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Es.prototype.parseColor=function(D){var W=this._parseColorCache[D];return W||(W=this._parseColorCache[D]=qa.parse(D)),W};var Zi=function(D,W,ae,de){this.name=D,this.type=W,this._evaluate=ae,this.args=de};Zi.prototype.evaluate=function(D){return this._evaluate(D,this.args)},Zi.prototype.eachChild=function(D){this.args.forEach(D)},Zi.prototype.outputDefined=function(){return!1},Zi.prototype.serialize=function(){return[this.name].concat(this.args.map(function(D){return D.serialize()}))},Zi.parse=function(D,W){var ae,de=D[0],Ee=Zi.definitions[de];if(!Ee)return W.error('Unknown expression "'+de+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Ie=Array.isArray(Ee)?Ee[0]:Ee.type,tt=Array.isArray(Ee)?[[Ee[1],Ee[2]]]:Ee.overloads,gt=tt.filter(function(Ma){var _a=Ma[0];return!Array.isArray(_a)||_a.length===D.length-1}),Et=null,Rt=0,Zt=gt;Rt<Zt.length;Rt+=1){var fr=Zt[Rt],nr=fr[0],Sr=fr[1];Et=new Ls(W.registry,W.path,null,W.scope);for(var Vr=[],un=!1,tn=1;tn<D.length;tn++){var Rn=D[tn],Tn=Array.isArray(nr)?nr[tn-1]:nr.type,_n=Et.parse(Rn,1+Vr.length,Tn);if(!_n){un=!0;break}Vr.push(_n)}if(!un){if(Array.isArray(nr)&&nr.length!==Vr.length){Et.error("Expected "+nr.length+" arguments, but found "+Vr.length+" instead.");continue}for(var zn=0;zn<Vr.length;zn++){var jn=Array.isArray(nr)?nr[zn]:nr.type,fa=Vr[zn];Et.concat(zn+1).checkSubtype(jn,fa.type)}if(Et.errors.length===0)return new Zi(de,Ie,Sr,Vr)}}if(gt.length===1)(ae=W.errors).push.apply(ae,Et.errors);else{for(var oa=gt.length?gt:tt,Da=oa.map(function(Ma){var _a=Ma[0];return mf(_a)}).join(" | "),ya=[],Sa=1;Sa<D.length;Sa++){var Ya=W.parse(D[Sa],1+ya.length);if(!Ya)return null;ya.push(ma(Ya.type))}W.error("Expected arguments of type "+Da+", but found ("+ya.join(", ")+") instead.")}return null},Zi.register=function(D,W){Zi.definitions=W;for(var ae in W)D[ae]=Zi};function mf(R){return Array.isArray(R)?"("+R.map(ma).join(", ")+")":"("+ma(R.type)+"...)"}var Ms=function(D,W,ae){this.type=aa,this.locale=ae,this.caseSensitive=D,this.diacriticSensitive=W};Ms.parse=function(D,W){if(D.length!==2)return W.error("Expected one argument.");var ae=D[1];if(typeof ae!="object"||Array.isArray(ae))return W.error("Collator options argument must be an object.");var de=W.parse(ae["case-sensitive"]===void 0?!1:ae["case-sensitive"],1,vn);if(!de)return null;var Ee=W.parse(ae["diacritic-sensitive"]===void 0?!1:ae["diacritic-sensitive"],1,vn);if(!Ee)return null;var Ie=null;return ae.locale&&(Ie=W.parse(ae.locale,1,Nr),!Ie)?null:new Ms(de,Ee,Ie)},Ms.prototype.evaluate=function(D){return new yu(this.caseSensitive.evaluate(D),this.diacriticSensitive.evaluate(D),this.locale?this.locale.evaluate(D):null)},Ms.prototype.eachChild=function(D){D(this.caseSensitive),D(this.diacriticSensitive),this.locale&&D(this.locale)},Ms.prototype.outputDefined=function(){return!1},Ms.prototype.serialize=function(){var D={};return D["case-sensitive"]=this.caseSensitive.serialize(),D["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(D.locale=this.locale.serialize()),["collator",D]};var es=8192;function xu(R,D){R[0]=Math.min(R[0],D[0]),R[1]=Math.min(R[1],D[1]),R[2]=Math.max(R[2],D[0]),R[3]=Math.max(R[3],D[1])}function xf(R){return(180+R)/360}function Uc(R){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+R*Math.PI/360)))/360}function Cl(R,D){return!(R[0]<=D[0]||R[2]>=D[2]||R[1]<=D[1]||R[3]>=D[3])}function uc(R,D){var W=xf(R[0]),ae=Uc(R[1]),de=Math.pow(2,D.z);return[Math.round(W*de*es),Math.round(ae*de*es)]}function bu(R,D,W){var ae=R[0]-D[0],de=R[1]-D[1],Ee=R[0]-W[0],Ie=R[1]-W[1];return ae*Ie-Ee*de===0&&ae*Ee<=0&&de*Ie<=0}function bf(R,D,W){return D[1]>R[1]!=W[1]>R[1]&&R[0]<(W[0]-D[0])*(R[1]-D[1])/(W[1]-D[1])+D[0]}function wf(R,D){for(var W=!1,ae=0,de=D.length;ae<de;ae++)for(var Ee=D[ae],Ie=0,tt=Ee.length;Ie<tt-1;Ie++){if(bu(R,Ee[Ie],Ee[Ie+1]))return!1;bf(R,Ee[Ie],Ee[Ie+1])&&(W=!W)}return W}function fc(R,D){for(var W=0;W<D.length;W++)if(wf(R,D[W]))return!0;return!1}function Hc(R,D){return R[0]*D[1]-R[1]*D[0]}function cc(R,D,W,ae){var de=R[0]-W[0],Ee=R[1]-W[1],Ie=D[0]-W[0],tt=D[1]-W[1],gt=ae[0]-W[0],Et=ae[1]-W[1],Rt=de*Et-gt*Ee,Zt=Ie*Et-gt*tt;return Rt>0&&Zt<0||Rt<0&&Zt>0}function hc(R,D,W,ae){var de=[D[0]-R[0],D[1]-R[1]],Ee=[ae[0]-W[0],ae[1]-W[1]];return Hc(Ee,de)===0?!1:!!(cc(R,D,W,ae)&&cc(W,ae,R,D))}function Jl(R,D,W){for(var ae=0,de=W;ae<de.length;ae+=1)for(var Ee=de[ae],Ie=0;Ie<Ee.length-1;++Ie)if(hc(R,D,Ee[Ie],Ee[Ie+1]))return!0;return!1}function Tf(R,D){for(var W=0;W<R.length;++W)if(!wf(R[W],D))return!1;for(var ae=0;ae<R.length-1;++ae)if(Jl(R[ae],R[ae+1],D))return!1;return!0}function Ll(R,D){for(var W=0;W<D.length;W++)if(Tf(R,D[W]))return!0;return!1}function Pl(R,D,W){for(var ae=[],de=0;de<R.length;de++){for(var Ee=[],Ie=0;Ie<R[de].length;Ie++){var tt=uc(R[de][Ie],W);xu(D,tt),Ee.push(tt)}ae.push(Ee)}return ae}function _l(R,D,W){for(var ae=[],de=0;de<R.length;de++){var Ee=Pl(R[de],D,W);ae.push(Ee)}return ae}function wu(R,D,W,ae){if(R[0]<W[0]||R[0]>W[2]){var de=ae*.5,Ee=R[0]-W[0]>de?-ae:W[0]-R[0]>de?ae:0;Ee===0&&(Ee=R[0]-W[2]>de?-ae:W[2]-R[0]>de?ae:0),R[0]+=Ee}xu(D,R)}function vc(R){R[0]=R[1]=1/0,R[2]=R[3]=-1/0}function Ws(R,D,W,ae){for(var de=Math.pow(2,ae.z)*es,Ee=[ae.x*es,ae.y*es],Ie=[],tt=0,gt=R;tt<gt.length;tt+=1)for(var Et=gt[tt],Rt=0,Zt=Et;Rt<Zt.length;Rt+=1){var fr=Zt[Rt],nr=[fr.x+Ee[0],fr.y+Ee[1]];wu(nr,D,W,de),Ie.push(nr)}return Ie}function Af(R,D,W,ae){for(var de=Math.pow(2,ae.z)*es,Ee=[ae.x*es,ae.y*es],Ie=[],tt=0,gt=R;tt<gt.length;tt+=1){for(var Et=gt[tt],Rt=[],Zt=0,fr=Et;Zt<fr.length;Zt+=1){var nr=fr[Zt],Sr=[nr.x+Ee[0],nr.y+Ee[1]];xu(D,Sr),Rt.push(Sr)}Ie.push(Rt)}if(D[2]-D[0]<=de/2){vc(D);for(var Vr=0,un=Ie;Vr<un.length;Vr+=1)for(var tn=un[Vr],Rn=0,Tn=tn;Rn<Tn.length;Rn+=1){var _n=Tn[Rn];wu(_n,D,W,de)}}return Ie}function Sf(R,D){var W=[1/0,1/0,-1/0,-1/0],ae=[1/0,1/0,-1/0,-1/0],de=R.canonicalID();if(D.type==="Polygon"){var Ee=Pl(D.coordinates,ae,de),Ie=Ws(R.geometry(),W,ae,de);if(!Cl(W,ae))return!1;for(var tt=0,gt=Ie;tt<gt.length;tt+=1){var Et=gt[tt];if(!wf(Et,Ee))return!1}}if(D.type==="MultiPolygon"){var Rt=_l(D.coordinates,ae,de),Zt=Ws(R.geometry(),W,ae,de);if(!Cl(W,ae))return!1;for(var fr=0,nr=Zt;fr<nr.length;fr+=1){var Sr=nr[fr];if(!fc(Sr,Rt))return!1}}return!0}function Vc(R,D){var W=[1/0,1/0,-1/0,-1/0],ae=[1/0,1/0,-1/0,-1/0],de=R.canonicalID();if(D.type==="Polygon"){var Ee=Pl(D.coordinates,ae,de),Ie=Af(R.geometry(),W,ae,de);if(!Cl(W,ae))return!1;for(var tt=0,gt=Ie;tt<gt.length;tt+=1){var Et=gt[tt];if(!Tf(Et,Ee))return!1}}if(D.type==="MultiPolygon"){var Rt=_l(D.coordinates,ae,de),Zt=Af(R.geometry(),W,ae,de);if(!Cl(W,ae))return!1;for(var fr=0,nr=Zt;fr<nr.length;fr+=1){var Sr=nr[fr];if(!Ll(Sr,Rt))return!1}}return!0}var Vo=function(D,W){this.type=vn,this.geojson=D,this.geometries=W};Vo.parse=function(D,W){if(D.length!==2)return W.error("'within' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(mu(D[1])){var ae=D[1];if(ae.type==="FeatureCollection")for(var de=0;de<ae.features.length;++de){var Ee=ae.features[de].geometry.type;if(Ee==="Polygon"||Ee==="MultiPolygon")return new Vo(ae,ae.features[de].geometry)}else if(ae.type==="Feature"){var Ie=ae.geometry.type;if(Ie==="Polygon"||Ie==="MultiPolygon")return new Vo(ae,ae.geometry)}else if(ae.type==="Polygon"||ae.type==="MultiPolygon")return new Vo(ae,ae)}return W.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Vo.prototype.evaluate=function(D){if(D.geometry()!=null&&D.canonicalID()!=null){if(D.geometryType()==="Point")return Sf(D,this.geometries);if(D.geometryType()==="LineString")return Vc(D,this.geometries)}return!1},Vo.prototype.eachChild=function(){},Vo.prototype.outputDefined=function(){return!0},Vo.prototype.serialize=function(){return["within",this.geojson]};function Rl(R){if(R instanceof Zi){if(R.name==="get"&&R.args.length===1)return!1;if(R.name==="feature-state")return!1;if(R.name==="has"&&R.args.length===1)return!1;if(R.name==="properties"||R.name==="geometry-type"||R.name==="id")return!1;if(/^filter-/.test(R.name))return!1}if(R instanceof Vo)return!1;var D=!0;return R.eachChild(function(W){D&&!Rl(W)&&(D=!1)}),D}function Dl(R){if(R instanceof Zi&&R.name==="feature-state")return!1;var D=!0;return R.eachChild(function(W){D&&!Dl(W)&&(D=!1)}),D}function Ql(R,D){if(R instanceof Zi&&D.indexOf(R.name)>=0)return!1;var W=!0;return R.eachChild(function(ae){W&&!Ql(ae,D)&&(W=!1)}),W}var Cs=function(D,W){this.type=W.type,this.name=D,this.boundExpression=W};Cs.parse=function(D,W){if(D.length!==2||typeof D[1]!="string")return W.error("'var' expression requires exactly one string literal argument.");var ae=D[1];return W.scope.has(ae)?new Cs(ae,W.scope.get(ae)):W.error('Unknown variable "'+ae+'". Make sure "'+ae+'" has been bound in an enclosing "let" expression before using it.',1)},Cs.prototype.evaluate=function(D){return this.boundExpression.evaluate(D)},Cs.prototype.eachChild=function(){},Cs.prototype.outputDefined=function(){return!1},Cs.prototype.serialize=function(){return["var",this.name]};var Ls=function(D,W,ae,de,Ee){W===void 0&&(W=[]),de===void 0&&(de=new pn),Ee===void 0&&(Ee=[]),this.registry=D,this.path=W,this.key=W.map(function(Ie){return"["+Ie+"]"}).join(""),this.scope=de,this.errors=Ee,this.expectedType=ae};Ls.prototype.parse=function(D,W,ae,de,Ee){return Ee===void 0&&(Ee={}),W?this.concat(W,ae,de)._parse(D,Ee):this._parse(D,Ee)},Ls.prototype._parse=function(D,W){(D===null||typeof D=="string"||typeof D=="boolean"||typeof D=="number")&&(D=["literal",D]);function ae(Rt,Zt,fr){return fr==="assert"?new so(Zt,[Rt]):fr==="coerce"?new lo(Zt,[Rt]):Rt}if(Array.isArray(D)){if(D.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var de=D[0];if(typeof de!="string")return this.error("Expression name must be a string, but found "+typeof de+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Ee=this.registry[de];if(Ee){var Ie=Ee.parse(D,this);if(!Ie)return null;if(this.expectedType){var tt=this.expectedType,gt=Ie.type;if((tt.kind==="string"||tt.kind==="number"||tt.kind==="boolean"||tt.kind==="object"||tt.kind==="array")&&gt.kind==="value")Ie=ae(Ie,tt,W.typeAnnotation||"assert");else if((tt.kind==="color"||tt.kind==="formatted"||tt.kind==="resolvedImage")&&(gt.kind==="value"||gt.kind==="string"))Ie=ae(Ie,tt,W.typeAnnotation||"coerce");else if(this.checkSubtype(tt,gt))return null}if(!(Ie instanceof ro)&&Ie.type.kind!=="resolvedImage"&&Ef(Ie)){var Et=new Es;try{Ie=new ro(Ie.type,Ie.evaluate(Et))}catch(Rt){return this.error(Rt.message),null}}return Ie}return this.error('Unknown expression "'+de+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof D>"u"?this.error("'undefined' value invalid. Use null instead."):typeof D=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof D+" instead.")},Ls.prototype.concat=function(D,W,ae){var de=typeof D=="number"?this.path.concat(D):this.path,Ee=ae?this.scope.concat(ae):this.scope;return new Ls(this.registry,de,W||null,Ee,this.errors)},Ls.prototype.error=function(D){for(var W=[],ae=arguments.length-1;ae-- >0;)W[ae]=arguments[ae+1];var de=""+this.key+W.map(function(Ee){return"["+Ee+"]"}).join("");this.errors.push(new En(de,D))},Ls.prototype.checkSubtype=function(D,W){var ae=Ji(D,W);return ae&&this.error(ae),ae};function Ef(R){if(R instanceof Cs)return Ef(R.boundExpression);if(R instanceof Zi&&R.name==="error")return!1;if(R instanceof Ms)return!1;if(R instanceof Vo)return!1;var D=R instanceof lo||R instanceof so,W=!0;return R.eachChild(function(ae){D?W=W&&Ef(ae):W=W&&ae instanceof ro}),W?Rl(R)&&Ql(R,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function ql(R,D){for(var W=R.length-1,ae=0,de=W,Ee=0,Ie,tt;ae<=de;)if(Ee=Math.floor((ae+de)/2),Ie=R[Ee],tt=R[Ee+1],Ie<=D){if(Ee===W||D<tt)return Ee;ae=Ee+1}else if(Ie>D)de=Ee-1;else throw new eo("Input is not a number.");return 0}var sl=function(D,W,ae){this.type=D,this.input=W,this.labels=[],this.outputs=[];for(var de=0,Ee=ae;de<Ee.length;de+=1){var Ie=Ee[de],tt=Ie[0],gt=Ie[1];this.labels.push(tt),this.outputs.push(gt)}};sl.parse=function(D,W){if(D.length-1<4)return W.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!==0)return W.error("Expected an even number of arguments.");var ae=W.parse(D[1],1,_r);if(!ae)return null;var de=[],Ee=null;W.expectedType&&W.expectedType.kind!=="value"&&(Ee=W.expectedType);for(var Ie=1;Ie<D.length;Ie+=2){var tt=Ie===1?-1/0:D[Ie],gt=D[Ie+1],Et=Ie,Rt=Ie+1;if(typeof tt!="number")return W.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Et);if(de.length&&de[de.length-1][0]>=tt)return W.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Et);var Zt=W.parse(gt,Rt,Ee);if(!Zt)return null;Ee=Ee||Zt.type,de.push([tt,Zt])}return new sl(Ee,ae,de)},sl.prototype.evaluate=function(D){var W=this.labels,ae=this.outputs;if(W.length===1)return ae[0].evaluate(D);var de=this.input.evaluate(D);if(de<=W[0])return ae[0].evaluate(D);var Ee=W.length;if(de>=W[Ee-1])return ae[Ee-1].evaluate(D);var Ie=ql(W,de);return ae[Ie].evaluate(D)},sl.prototype.eachChild=function(D){D(this.input);for(var W=0,ae=this.outputs;W<ae.length;W+=1){var de=ae[W];D(de)}},sl.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},sl.prototype.serialize=function(){for(var D=["step",this.input.serialize()],W=0;W<this.labels.length;W++)W>0&&D.push(this.labels[W]),D.push(this.outputs[W].serialize());return D};function Bi(R,D,W){return R*(1-W)+D*W}function Mf(R,D,W){return new qa(Bi(R.r,D.r,W),Bi(R.g,D.g,W),Bi(R.b,D.b,W),Bi(R.a,D.a,W))}function Ku(R,D,W){return R.map(function(ae,de){return Bi(ae,D[de],W)})}var eu=Object.freeze({__proto__:null,number:Bi,color:Mf,array:Ku}),dc=.95047,Cf=1,Il=1.08883,Ys=4/29,no=6/29,$u=3*no*no,Gc=no*no*no,Lf=Math.PI/180,Pf=180/Math.PI;function Tu(R){return R>Gc?Math.pow(R,.3333333333333333):R/$u+Ys}function tu(R){return R>no?R*R*R:$u*(R-Ys)}function pc(R){return 255*(R<=.0031308?12.92*R:1.055*Math.pow(R,.4166666666666667)-.055)}function js(R){return R/=255,R<=.04045?R/12.92:Math.pow((R+.055)/1.055,2.4)}function kl(R){var D=js(R.r),W=js(R.g),ae=js(R.b),de=Tu((.4124564*D+.3575761*W+.1804375*ae)/dc),Ee=Tu((.2126729*D+.7151522*W+.072175*ae)/Cf),Ie=Tu((.0193339*D+.119192*W+.9503041*ae)/Il);return{l:116*Ee-16,a:500*(de-Ee),b:200*(Ee-Ie),alpha:R.a}}function _f(R){var D=(R.l+16)/116,W=isNaN(R.a)?D:D+R.a/500,ae=isNaN(R.b)?D:D-R.b/200;return D=Cf*tu(D),W=dc*tu(W),ae=Il*tu(ae),new qa(pc(3.2404542*W-1.5371385*D-.4985314*ae),pc(-.969266*W+1.8760108*D+.041556*ae),pc(.0556434*W-.2040259*D+1.0572252*ae),R.alpha)}function Au(R,D,W){return{l:Bi(R.l,D.l,W),a:Bi(R.a,D.a,W),b:Bi(R.b,D.b,W),alpha:Bi(R.alpha,D.alpha,W)}}function Rf(R){var D=kl(R),W=D.l,ae=D.a,de=D.b,Ee=Math.atan2(de,ae)*Pf;return{h:Ee<0?Ee+360:Ee,c:Math.sqrt(ae*ae+de*de),l:W,alpha:R.a}}function yi(R){var D=R.h*Lf,W=R.c,ae=R.l;return _f({l:ae,a:Math.cos(D)*W,b:Math.sin(D)*W,alpha:R.alpha})}function gc(R,D,W){var ae=D-R;return R+W*(ae>180||ae<-180?ae-360*Math.round(ae/360):ae)}function fs(R,D,W){return{h:gc(R.h,D.h,W),c:Bi(R.c,D.c,W),l:Bi(R.l,D.l,W),alpha:Bi(R.alpha,D.alpha,W)}}var ru={forward:kl,reverse:_f,interpolate:Au},Ol={forward:Rf,reverse:yi,interpolate:fs},Df=Object.freeze({__proto__:null,lab:ru,hcl:Ol}),Ui=function(D,W,ae,de,Ee){this.type=D,this.operator=W,this.interpolation=ae,this.input=de,this.labels=[],this.outputs=[];for(var Ie=0,tt=Ee;Ie<tt.length;Ie+=1){var gt=tt[Ie],Et=gt[0],Rt=gt[1];this.labels.push(Et),this.outputs.push(Rt)}};Ui.interpolationFactor=function(D,W,ae,de){var Ee=0;if(D.name==="exponential")Ee=nu(W,D.base,ae,de);else if(D.name==="linear")Ee=nu(W,1,ae,de);else if(D.name==="cubic-bezier"){var Ie=D.controlPoints,tt=new v(Ie[0],Ie[1],Ie[2],Ie[3]);Ee=tt.solve(nu(W,1,ae,de))}return Ee},Ui.parse=function(D,W){var ae=D[0],de=D[1],Ee=D[2],Ie=D.slice(3);if(!Array.isArray(de)||de.length===0)return W.error("Expected an interpolation type expression.",1);if(de[0]==="linear")de={name:"linear"};else if(de[0]==="exponential"){var tt=de[1];if(typeof tt!="number")return W.error("Exponential interpolation requires a numeric base.",1,1);de={name:"exponential",base:tt}}else if(de[0]==="cubic-bezier"){var gt=de.slice(1);if(gt.length!==4||gt.some(function(tn){return typeof tn!="number"||tn<0||tn>1}))return W.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);de={name:"cubic-bezier",controlPoints:gt}}else return W.error("Unknown interpolation type "+String(de[0]),1,0);if(D.length-1<4)return W.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!==0)return W.error("Expected an even number of arguments.");if(Ee=W.parse(Ee,2,_r),!Ee)return null;var Et=[],Rt=null;ae==="interpolate-hcl"||ae==="interpolate-lab"?Rt=Fn:W.expectedType&&W.expectedType.kind!=="value"&&(Rt=W.expectedType);for(var Zt=0;Zt<Ie.length;Zt+=2){var fr=Ie[Zt],nr=Ie[Zt+1],Sr=Zt+3,Vr=Zt+4;if(typeof fr!="number")return W.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Sr);if(Et.length&&Et[Et.length-1][0]>=fr)return W.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Sr);var un=W.parse(nr,Vr,Rt);if(!un)return null;Rt=Rt||un.type,Et.push([fr,un])}return Rt.kind!=="number"&&Rt.kind!=="color"&&!(Rt.kind==="array"&&Rt.itemType.kind==="number"&&typeof Rt.N=="number")?W.error("Type "+ma(Rt)+" is not interpolatable."):new Ui(Rt,ae,de,Ee,Et)},Ui.prototype.evaluate=function(D){var W=this.labels,ae=this.outputs;if(W.length===1)return ae[0].evaluate(D);var de=this.input.evaluate(D);if(de<=W[0])return ae[0].evaluate(D);var Ee=W.length;if(de>=W[Ee-1])return ae[Ee-1].evaluate(D);var Ie=ql(W,de),tt=W[Ie],gt=W[Ie+1],Et=Ui.interpolationFactor(this.interpolation,de,tt,gt),Rt=ae[Ie].evaluate(D),Zt=ae[Ie+1].evaluate(D);return this.operator==="interpolate"?eu[this.type.kind.toLowerCase()](Rt,Zt,Et):this.operator==="interpolate-hcl"?Ol.reverse(Ol.interpolate(Ol.forward(Rt),Ol.forward(Zt),Et)):ru.reverse(ru.interpolate(ru.forward(Rt),ru.forward(Zt),Et))},Ui.prototype.eachChild=function(D){D(this.input);for(var W=0,ae=this.outputs;W<ae.length;W+=1){var de=ae[W];D(de)}},Ui.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},Ui.prototype.serialize=function(){var D;this.interpolation.name==="linear"?D=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?D=["linear"]:D=["exponential",this.interpolation.base]:D=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var W=[this.operator,D,this.input.serialize()],ae=0;ae<this.labels.length;ae++)W.push(this.labels[ae],this.outputs[ae].serialize());return W};function nu(R,D,W,ae){var de=ae-W,Ee=R-W;return de===0?0:D===1?Ee/de:(Math.pow(D,Ee)-1)/(Math.pow(D,de)-1)}var Do=function(D,W){this.type=D,this.args=W};Do.parse=function(D,W){if(D.length<2)return W.error("Expectected at least one argument.");var ae=null,de=W.expectedType;de&&de.kind!=="value"&&(ae=de);for(var Ee=[],Ie=0,tt=D.slice(1);Ie<tt.length;Ie+=1){var gt=tt[Ie],Et=W.parse(gt,1+Ee.length,ae,void 0,{typeAnnotation:"omit"});if(!Et)return null;ae=ae||Et.type,Ee.push(Et)}var Rt=de&&Ee.some(function(Zt){return Ji(de,Zt.type)});return Rt?new Do(xn,Ee):new Do(ae,Ee)},Do.prototype.evaluate=function(D){for(var W=null,ae=0,de,Ee=0,Ie=this.args;Ee<Ie.length;Ee+=1){var tt=Ie[Ee];if(ae++,W=tt.evaluate(D),W&&W instanceof bo&&!W.available&&(de||(de=W.name),W=null,ae===this.args.length&&(W=de)),W!==null)break}return W},Do.prototype.eachChild=function(D){this.args.forEach(D)},Do.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},Do.prototype.serialize=function(){var D=["coalesce"];return this.eachChild(function(W){D.push(W.serialize())}),D};var Io=function(D,W){this.type=W.type,this.bindings=[].concat(D),this.result=W};Io.prototype.evaluate=function(D){return this.result.evaluate(D)},Io.prototype.eachChild=function(D){for(var W=0,ae=this.bindings;W<ae.length;W+=1){var de=ae[W];D(de[1])}D(this.result)},Io.parse=function(D,W){if(D.length<4)return W.error("Expected at least 3 arguments, but found "+(D.length-1)+" instead.");for(var ae=[],de=1;de<D.length-1;de+=2){var Ee=D[de];if(typeof Ee!="string")return W.error("Expected string, but found "+typeof Ee+" instead.",de);if(/[^a-zA-Z0-9_]/.test(Ee))return W.error("Variable names must contain only alphanumeric characters or '_'.",de);var Ie=W.parse(D[de+1],de+1);if(!Ie)return null;ae.push([Ee,Ie])}var tt=W.parse(D[D.length-1],D.length-1,W.expectedType,ae);return tt?new Io(ae,tt):null},Io.prototype.outputDefined=function(){return this.result.outputDefined()},Io.prototype.serialize=function(){for(var D=["let"],W=0,ae=this.bindings;W<ae.length;W+=1){var de=ae[W],Ee=de[0],Ie=de[1];D.push(Ee,Ie.serialize())}return D.push(this.result.serialize()),D};var Zs=function(D,W,ae){this.type=D,this.index=W,this.input=ae};Zs.parse=function(D,W){if(D.length!==3)return W.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var ae=W.parse(D[1],1,_r),de=W.parse(D[2],2,la(W.expectedType||xn));if(!ae||!de)return null;var Ee=de.type;return new Zs(Ee.itemType,ae,de)},Zs.prototype.evaluate=function(D){var W=this.index.evaluate(D),ae=this.input.evaluate(D);if(W<0)throw new eo("Array index out of bounds: "+W+" < 0.");if(W>=ae.length)throw new eo("Array index out of bounds: "+W+" > "+(ae.length-1)+".");if(W!==Math.floor(W))throw new eo("Array index must be an integer, but found "+W+" instead.");return ae[W]},Zs.prototype.eachChild=function(D){D(this.index),D(this.input)},Zs.prototype.outputDefined=function(){return!1},Zs.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var ll=function(D,W){this.type=vn,this.needle=D,this.haystack=W};ll.parse=function(D,W){if(D.length!==3)return W.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var ae=W.parse(D[1],1,xn),de=W.parse(D[2],2,xn);return!ae||!de?null:po(ae.type,[vn,Nr,_r,zr,xn])?new ll(ae,de):W.error("Expected first argument to be of type boolean, string, number or null, but found "+ma(ae.type)+" instead")},ll.prototype.evaluate=function(D){var W=this.needle.evaluate(D),ae=this.haystack.evaluate(D);if(!ae)return!1;if(!Ro(W,["boolean","string","number","null"]))throw new eo("Expected first argument to be of type boolean, string, number or null, but found "+ma(ki(W))+" instead.");if(!Ro(ae,["string","array"]))throw new eo("Expected second argument to be of type array or string, but found "+ma(ki(ae))+" instead.");return ae.indexOf(W)>=0},ll.prototype.eachChild=function(D){D(this.needle),D(this.haystack)},ll.prototype.outputDefined=function(){return!0},ll.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var ul=function(D,W,ae){this.type=_r,this.needle=D,this.haystack=W,this.fromIndex=ae};ul.parse=function(D,W){if(D.length<=2||D.length>=5)return W.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var ae=W.parse(D[1],1,xn),de=W.parse(D[2],2,xn);if(!ae||!de)return null;if(!po(ae.type,[vn,Nr,_r,zr,xn]))return W.error("Expected first argument to be of type boolean, string, number or null, but found "+ma(ae.type)+" instead");if(D.length===4){var Ee=W.parse(D[3],3,_r);return Ee?new ul(ae,de,Ee):null}else return new ul(ae,de)},ul.prototype.evaluate=function(D){var W=this.needle.evaluate(D),ae=this.haystack.evaluate(D);if(!Ro(W,["boolean","string","number","null"]))throw new eo("Expected first argument to be of type boolean, string, number or null, but found "+ma(ki(W))+" instead.");if(!Ro(ae,["string","array"]))throw new eo("Expected second argument to be of type array or string, but found "+ma(ki(ae))+" instead.");if(this.fromIndex){var de=this.fromIndex.evaluate(D);return ae.indexOf(W,de)}return ae.indexOf(W)},ul.prototype.eachChild=function(D){D(this.needle),D(this.haystack),this.fromIndex&&D(this.fromIndex)},ul.prototype.outputDefined=function(){return!1},ul.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var D=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),D]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var fl=function(D,W,ae,de,Ee,Ie){this.inputType=D,this.type=W,this.input=ae,this.cases=de,this.outputs=Ee,this.otherwise=Ie};fl.parse=function(D,W){if(D.length<5)return W.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if(D.length%2!==1)return W.error("Expected an even number of arguments.");var ae,de;W.expectedType&&W.expectedType.kind!=="value"&&(de=W.expectedType);for(var Ee={},Ie=[],tt=2;tt<D.length-1;tt+=2){var gt=D[tt],Et=D[tt+1];Array.isArray(gt)||(gt=[gt]);var Rt=W.concat(tt);if(gt.length===0)return Rt.error("Expected at least one branch label.");for(var Zt=0,fr=gt;Zt<fr.length;Zt+=1){var nr=fr[Zt];if(typeof nr!="number"&&typeof nr!="string")return Rt.error("Branch labels must be numbers or strings.");if(typeof nr=="number"&&Math.abs(nr)>Number.MAX_SAFE_INTEGER)return Rt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof nr=="number"&&Math.floor(nr)!==nr)return Rt.error("Numeric branch labels must be integer values.");if(!ae)ae=ki(nr);else if(Rt.checkSubtype(ae,ki(nr)))return null;if(typeof Ee[String(nr)]<"u")return Rt.error("Branch labels must be unique.");Ee[String(nr)]=Ie.length}var Sr=W.parse(Et,tt,de);if(!Sr)return null;de=de||Sr.type,Ie.push(Sr)}var Vr=W.parse(D[1],1,xn);if(!Vr)return null;var un=W.parse(D[D.length-1],D.length-1,de);return!un||Vr.type.kind!=="value"&&W.concat(1).checkSubtype(ae,Vr.type)?null:new fl(ae,de,Vr,Ee,Ie,un)},fl.prototype.evaluate=function(D){var W=this.input.evaluate(D),ae=ki(W)===this.inputType&&this.outputs[this.cases[W]]||this.otherwise;return ae.evaluate(D)},fl.prototype.eachChild=function(D){D(this.input),this.outputs.forEach(D),D(this.otherwise)},fl.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})&&this.otherwise.outputDefined()},fl.prototype.serialize=function(){for(var D=this,W=["match",this.input.serialize()],ae=Object.keys(this.cases).sort(),de=[],Ee={},Ie=0,tt=ae;Ie<tt.length;Ie+=1){var gt=tt[Ie],Et=Ee[this.cases[gt]];Et===void 0?(Ee[this.cases[gt]]=de.length,de.push([this.cases[gt],[gt]])):de[Et][1].push(gt)}for(var Rt=function(Vr){return D.inputType.kind==="number"?Number(Vr):Vr},Zt=0,fr=de;Zt<fr.length;Zt+=1){var nr=fr[Zt],Et=nr[0],Sr=nr[1];Sr.length===1?W.push(Rt(Sr[0])):W.push(Sr.map(Rt)),W.push(this.outputs[outputIndex$1].serialize())}return W.push(this.otherwise.serialize()),W};var cs=function(D,W,ae){this.type=D,this.branches=W,this.otherwise=ae};cs.parse=function(D,W){if(D.length<4)return W.error("Expected at least 3 arguments, but found only "+(D.length-1)+".");if(D.length%2!==0)return W.error("Expected an odd number of arguments.");var ae;W.expectedType&&W.expectedType.kind!=="value"&&(ae=W.expectedType);for(var de=[],Ee=1;Ee<D.length-1;Ee+=2){var Ie=W.parse(D[Ee],Ee,vn);if(!Ie)return null;var tt=W.parse(D[Ee+1],Ee+1,ae);if(!tt)return null;de.push([Ie,tt]),ae=ae||tt.type}var gt=W.parse(D[D.length-1],D.length-1,ae);return gt?new cs(ae,de,gt):null},cs.prototype.evaluate=function(D){for(var W=0,ae=this.branches;W<ae.length;W+=1){var de=ae[W],Ee=de[0],Ie=de[1];if(Ee.evaluate(D))return Ie.evaluate(D)}return this.otherwise.evaluate(D)},cs.prototype.eachChild=function(D){for(var W=0,ae=this.branches;W<ae.length;W+=1){var de=ae[W],Ee=de[0],Ie=de[1];D(Ee),D(Ie)}D(this.otherwise)},cs.prototype.outputDefined=function(){return this.branches.every(function(D){D[0];var W=D[1];return W.outputDefined()})&&this.otherwise.outputDefined()},cs.prototype.serialize=function(){var D=["case"];return this.eachChild(function(W){D.push(W.serialize())}),D};var go=function(D,W,ae,de){this.type=D,this.input=W,this.beginIndex=ae,this.endIndex=de};go.parse=function(D,W){if(D.length<=2||D.length>=5)return W.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var ae=W.parse(D[1],1,xn),de=W.parse(D[2],2,_r);if(!ae||!de)return null;if(!po(ae.type,[la(xn),Nr,xn]))return W.error("Expected first argument to be of type array or string, but found "+ma(ae.type)+" instead");if(D.length===4){var Ee=W.parse(D[3],3,_r);return Ee?new go(ae.type,ae,de,Ee):null}else return new go(ae.type,ae,de)},go.prototype.evaluate=function(D){var W=this.input.evaluate(D),ae=this.beginIndex.evaluate(D);if(!Ro(W,["string","array"]))throw new eo("Expected first argument to be of type array or string, but found "+ma(ki(W))+" instead.");if(this.endIndex){var de=this.endIndex.evaluate(D);return W.slice(ae,de)}return W.slice(ae)},go.prototype.eachChild=function(D){D(this.input),D(this.beginIndex),this.endIndex&&D(this.endIndex)},go.prototype.outputDefined=function(){return!1},go.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var D=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),D]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function Su(R,D){return R==="=="||R==="!="?D.kind==="boolean"||D.kind==="string"||D.kind==="number"||D.kind==="null"||D.kind==="value":D.kind==="string"||D.kind==="number"||D.kind==="value"}function cl(R,D,W){return D===W}function Ju(R,D,W){return D!==W}function Wc(R,D,W){return D<W}function Yc(R,D,W){return D>W}function jc(R,D,W){return D<=W}function Zc(R,D,W){return D>=W}function Qu(R,D,W,ae){return ae.compare(D,W)===0}function yc(R,D,W,ae){return!Qu(R,D,W,ae)}function au(R,D,W,ae){return ae.compare(D,W)<0}function uo(R,D,W,ae){return ae.compare(D,W)>0}function ko(R,D,W,ae){return ae.compare(D,W)<=0}function Eu(R,D,W,ae){return ae.compare(D,W)>=0}function zl(R,D,W){var ae=R!=="=="&&R!=="!=";return function(){function de(Ee,Ie,tt){this.type=vn,this.lhs=Ee,this.rhs=Ie,this.collator=tt,this.hasUntypedArgument=Ee.type.kind==="value"||Ie.type.kind==="value"}return de.parse=function(Ie,tt){if(Ie.length!==3&&Ie.length!==4)return tt.error("Expected two or three arguments.");var gt=Ie[0],Et=tt.parse(Ie[1],1,xn);if(!Et)return null;if(!Su(gt,Et.type))return tt.concat(1).error('"'+gt+`" comparisons are not supported for type '`+ma(Et.type)+"'.");var Rt=tt.parse(Ie[2],2,xn);if(!Rt)return null;if(!Su(gt,Rt.type))return tt.concat(2).error('"'+gt+`" comparisons are not supported for type '`+ma(Rt.type)+"'.");if(Et.type.kind!==Rt.type.kind&&Et.type.kind!=="value"&&Rt.type.kind!=="value")return tt.error("Cannot compare types '"+ma(Et.type)+"' and '"+ma(Rt.type)+"'.");ae&&(Et.type.kind==="value"&&Rt.type.kind!=="value"?Et=new so(Rt.type,[Et]):Et.type.kind!=="value"&&Rt.type.kind==="value"&&(Rt=new so(Et.type,[Rt])));var Zt=null;if(Ie.length===4){if(Et.type.kind!=="string"&&Rt.type.kind!=="string"&&Et.type.kind!=="value"&&Rt.type.kind!=="value")return tt.error("Cannot use collator to compare non-string types.");if(Zt=tt.parse(Ie[3],3,aa),!Zt)return null}return new de(Et,Rt,Zt)},de.prototype.evaluate=function(Ie){var tt=this.lhs.evaluate(Ie),gt=this.rhs.evaluate(Ie);if(ae&&this.hasUntypedArgument){var Et=ki(tt),Rt=ki(gt);if(Et.kind!==Rt.kind||!(Et.kind==="string"||Et.kind==="number"))throw new eo('Expected arguments for "'+R+'" to be (string, string) or (number, number), but found ('+Et.kind+", "+Rt.kind+") instead.")}if(this.collator&&!ae&&this.hasUntypedArgument){var Zt=ki(tt),fr=ki(gt);if(Zt.kind!=="string"||fr.kind!=="string")return D(Ie,tt,gt)}return this.collator?W(Ie,tt,gt,this.collator.evaluate(Ie)):D(Ie,tt,gt)},de.prototype.eachChild=function(Ie){Ie(this.lhs),Ie(this.rhs),this.collator&&Ie(this.collator)},de.prototype.outputDefined=function(){return!0},de.prototype.serialize=function(){var Ie=[R];return this.eachChild(function(tt){Ie.push(tt.serialize())}),Ie},de}()}var Mu=zl("==",cl,Qu),Oo=zl("!=",Ju,yc),mc=zl("<",Wc,au),xc=zl(">",Yc,uo),If=zl("<=",jc,ko),qu=zl(">=",Zc,Eu),hl=function(D,W,ae,de,Ee){this.type=Nr,this.number=D,this.locale=W,this.currency=ae,this.minFractionDigits=de,this.maxFractionDigits=Ee};hl.parse=function(D,W){if(D.length!==3)return W.error("Expected two arguments.");var ae=W.parse(D[1],1,_r);if(!ae)return null;var de=D[2];if(typeof de!="object"||Array.isArray(de))return W.error("NumberFormat options argument must be an object.");var Ee=null;if(de.locale&&(Ee=W.parse(de.locale,1,Nr),!Ee))return null;var Ie=null;if(de.currency&&(Ie=W.parse(de.currency,1,Nr),!Ie))return null;var tt=null;if(de["min-fraction-digits"]&&(tt=W.parse(de["min-fraction-digits"],1,_r),!tt))return null;var gt=null;return de["max-fraction-digits"]&&(gt=W.parse(de["max-fraction-digits"],1,_r),!gt)?null:new hl(ae,Ee,Ie,tt,gt)},hl.prototype.evaluate=function(D){return new Intl.NumberFormat(this.locale?this.locale.evaluate(D):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(D):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(D):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(D):void 0}).format(this.number.evaluate(D))},hl.prototype.eachChild=function(D){D(this.number),this.locale&&D(this.locale),this.currency&&D(this.currency),this.minFractionDigits&&D(this.minFractionDigits),this.maxFractionDigits&&D(this.maxFractionDigits)},hl.prototype.outputDefined=function(){return!1},hl.prototype.serialize=function(){var D={};return this.locale&&(D.locale=this.locale.serialize()),this.currency&&(D.currency=this.currency.serialize()),this.minFractionDigits&&(D["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(D["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),D]};var Vi=function(D){this.type=_r,this.input=D};Vi.parse=function(D,W){if(D.length!==2)return W.error("Expected 1 argument, but found "+(D.length-1)+" instead.");var ae=W.parse(D[1],1);return ae?ae.type.kind!=="array"&&ae.type.kind!=="string"&&ae.type.kind!=="value"?W.error("Expected argument of type string or array, but found "+ma(ae.type)+" instead."):new Vi(ae):null},Vi.prototype.evaluate=function(D){var W=this.input.evaluate(D);if(typeof W=="string")return W.length;if(Array.isArray(W))return W.length;throw new eo("Expected value to be of type string or array, but found "+ma(ki(W))+" instead.")},Vi.prototype.eachChild=function(D){D(this.input)},Vi.prototype.outputDefined=function(){return!1},Vi.prototype.serialize=function(){var D=["length"];return this.eachChild(function(W){D.push(W.serialize())}),D};var hs={"==":Mu,"!=":Oo,">":xc,"<":mc,">=":qu,"<=":If,array:so,at:Zs,boolean:so,case:cs,coalesce:Do,collator:Ms,format:Jo,image:Qo,in:ll,"index-of":ul,interpolate:Ui,"interpolate-hcl":Ui,"interpolate-lab":Ui,length:Vi,let:Io,literal:ro,match:fl,number:so,"number-format":hl,object:so,slice:go,step:sl,string:so,"to-boolean":lo,"to-color":lo,"to-number":lo,"to-string":lo,var:Cs,within:Vo};function kf(R,D){var W=D[0],ae=D[1],de=D[2],Ee=D[3];W=W.evaluate(R),ae=ae.evaluate(R),de=de.evaluate(R);var Ie=Ee?Ee.evaluate(R):1,tt=lc(W,ae,de,Ie);if(tt)throw new eo(tt);return new qa(W/255*Ie,ae/255*Ie,de/255*Ie,Ie)}function Xc(R,D){return R in D}function Ps(R,D){var W=D[R];return typeof W>"u"?null:W}function ef(R,D,W,ae){for(;W<=ae;){var de=W+ae>>1;if(D[de]===R)return!0;D[de]>R?ae=de-1:W=de+1}return!1}function vs(R){return{type:R}}Zi.register(hs,{error:[Vn,[Nr],function(R,D){var W=D[0];throw new eo(W.evaluate(R))}],typeof:[Nr,[xn],function(R,D){var W=D[0];return ma(ki(W.evaluate(R)))}],"to-rgba":[la(_r,4),[Fn],function(R,D){var W=D[0];return W.evaluate(R).toArray()}],rgb:[Fn,[_r,_r,_r],kf],rgba:[Fn,[_r,_r,_r,_r],kf],has:{type:vn,overloads:[[[Nr],function(R,D){var W=D[0];return Xc(W.evaluate(R),R.properties())}],[[Nr,Kn],function(R,D){var W=D[0],ae=D[1];return Xc(W.evaluate(R),ae.evaluate(R))}]]},get:{type:xn,overloads:[[[Nr],function(R,D){var W=D[0];return Ps(W.evaluate(R),R.properties())}],[[Nr,Kn],function(R,D){var W=D[0],ae=D[1];return Ps(W.evaluate(R),ae.evaluate(R))}]]},"feature-state":[xn,[Nr],function(R,D){var W=D[0];return Ps(W.evaluate(R),R.featureState||{})}],properties:[Kn,[],function(R){return R.properties()}],"geometry-type":[Nr,[],function(R){return R.geometryType()}],id:[xn,[],function(R){return R.id()}],zoom:[_r,[],function(R){return R.globals.zoom}],"heatmap-density":[_r,[],function(R){return R.globals.heatmapDensity||0}],"line-progress":[_r,[],function(R){return R.globals.lineProgress||0}],accumulated:[xn,[],function(R){return R.globals.accumulated===void 0?null:R.globals.accumulated}],"+":[_r,vs(_r),function(R,D){for(var W=0,ae=0,de=D;ae<de.length;ae+=1){var Ee=de[ae];W+=Ee.evaluate(R)}return W}],"*":[_r,vs(_r),function(R,D){for(var W=1,ae=0,de=D;ae<de.length;ae+=1){var Ee=de[ae];W*=Ee.evaluate(R)}return W}],"-":{type:_r,overloads:[[[_r,_r],function(R,D){var W=D[0],ae=D[1];return W.evaluate(R)-ae.evaluate(R)}],[[_r],function(R,D){var W=D[0];return-W.evaluate(R)}]]},"/":[_r,[_r,_r],function(R,D){var W=D[0],ae=D[1];return W.evaluate(R)/ae.evaluate(R)}],"%":[_r,[_r,_r],function(R,D){var W=D[0],ae=D[1];return W.evaluate(R)%ae.evaluate(R)}],ln2:[_r,[],function(){return Math.LN2}],pi:[_r,[],function(){return Math.PI}],e:[_r,[],function(){return Math.E}],"^":[_r,[_r,_r],function(R,D){var W=D[0],ae=D[1];return Math.pow(W.evaluate(R),ae.evaluate(R))}],sqrt:[_r,[_r],function(R,D){var W=D[0];return Math.sqrt(W.evaluate(R))}],log10:[_r,[_r],function(R,D){var W=D[0];return Math.log(W.evaluate(R))/Math.LN10}],ln:[_r,[_r],function(R,D){var W=D[0];return Math.log(W.evaluate(R))}],log2:[_r,[_r],function(R,D){var W=D[0];return Math.log(W.evaluate(R))/Math.LN2}],sin:[_r,[_r],function(R,D){var W=D[0];return Math.sin(W.evaluate(R))}],cos:[_r,[_r],function(R,D){var W=D[0];return Math.cos(W.evaluate(R))}],tan:[_r,[_r],function(R,D){var W=D[0];return Math.tan(W.evaluate(R))}],asin:[_r,[_r],function(R,D){var W=D[0];return Math.asin(W.evaluate(R))}],acos:[_r,[_r],function(R,D){var W=D[0];return Math.acos(W.evaluate(R))}],atan:[_r,[_r],function(R,D){var W=D[0];return Math.atan(W.evaluate(R))}],min:[_r,vs(_r),function(R,D){return Math.min.apply(Math,D.map(function(W){return W.evaluate(R)}))}],max:[_r,vs(_r),function(R,D){return Math.max.apply(Math,D.map(function(W){return W.evaluate(R)}))}],abs:[_r,[_r],function(R,D){var W=D[0];return Math.abs(W.evaluate(R))}],round:[_r,[_r],function(R,D){var W=D[0],ae=W.evaluate(R);return ae<0?-Math.round(-ae):Math.round(ae)}],floor:[_r,[_r],function(R,D){var W=D[0];return Math.floor(W.evaluate(R))}],ceil:[_r,[_r],function(R,D){var W=D[0];return Math.ceil(W.evaluate(R))}],"filter-==":[vn,[Nr,xn],function(R,D){var W=D[0],ae=D[1];return R.properties()[W.value]===ae.value}],"filter-id-==":[vn,[xn],function(R,D){var W=D[0];return R.id()===W.value}],"filter-type-==":[vn,[Nr],function(R,D){var W=D[0];return R.geometryType()===W.value}],"filter-<":[vn,[Nr,xn],function(R,D){var W=D[0],ae=D[1],de=R.properties()[W.value],Ee=ae.value;return typeof de==typeof Ee&&de<Ee}],"filter-id-<":[vn,[xn],function(R,D){var W=D[0],ae=R.id(),de=W.value;return typeof ae==typeof de&&ae<de}],"filter->":[vn,[Nr,xn],function(R,D){var W=D[0],ae=D[1],de=R.properties()[W.value],Ee=ae.value;return typeof de==typeof Ee&&de>Ee}],"filter-id->":[vn,[xn],function(R,D){var W=D[0],ae=R.id(),de=W.value;return typeof ae==typeof de&&ae>de}],"filter-<=":[vn,[Nr,xn],function(R,D){var W=D[0],ae=D[1],de=R.properties()[W.value],Ee=ae.value;return typeof de==typeof Ee&&de<=Ee}],"filter-id-<=":[vn,[xn],function(R,D){var W=D[0],ae=R.id(),de=W.value;return typeof ae==typeof de&&ae<=de}],"filter->=":[vn,[Nr,xn],function(R,D){var W=D[0],ae=D[1],de=R.properties()[W.value],Ee=ae.value;return typeof de==typeof Ee&&de>=Ee}],"filter-id->=":[vn,[xn],function(R,D){var W=D[0],ae=R.id(),de=W.value;return typeof ae==typeof de&&ae>=de}],"filter-has":[vn,[xn],function(R,D){var W=D[0];return W.value in R.properties()}],"filter-has-id":[vn,[],function(R){return R.id()!==null&&R.id()!==void 0}],"filter-type-in":[vn,[la(Nr)],function(R,D){var W=D[0];return W.value.indexOf(R.geometryType())>=0}],"filter-id-in":[vn,[la(xn)],function(R,D){var W=D[0];return W.value.indexOf(R.id())>=0}],"filter-in-small":[vn,[Nr,la(xn)],function(R,D){var W=D[0],ae=D[1];return ae.value.indexOf(R.properties()[W.value])>=0}],"filter-in-large":[vn,[Nr,la(xn)],function(R,D){var W=D[0],ae=D[1];return ef(R.properties()[W.value],ae.value,0,ae.value.length-1)}],all:{type:vn,overloads:[[[vn,vn],function(R,D){var W=D[0],ae=D[1];return W.evaluate(R)&&ae.evaluate(R)}],[vs(vn),function(R,D){for(var W=0,ae=D;W<ae.length;W+=1){var de=ae[W];if(!de.evaluate(R))return!1}return!0}]]},any:{type:vn,overloads:[[[vn,vn],function(R,D){var W=D[0],ae=D[1];return W.evaluate(R)||ae.evaluate(R)}],[vs(vn),function(R,D){for(var W=0,ae=D;W<ae.length;W+=1){var de=ae[W];if(de.evaluate(R))return!0}return!1}]]},"!":[vn,[vn],function(R,D){var W=D[0];return!W.evaluate(R)}],"is-supported-script":[vn,[Nr],function(R,D){var W=D[0],ae=R.globals&&R.globals.isSupportedScript;return ae?ae(W.evaluate(R)):!0}],upcase:[Nr,[Nr],function(R,D){var W=D[0];return W.evaluate(R).toUpperCase()}],downcase:[Nr,[Nr],function(R,D){var W=D[0];return W.evaluate(R).toLowerCase()}],concat:[Nr,vs(xn),function(R,D){return D.map(function(W){return $l(W.evaluate(R))}).join("")}],"resolved-locale":[Nr,[aa],function(R,D){var W=D[0];return W.evaluate(R).resolvedLocale()}]});function tf(R){return{result:"success",value:R}}function Xs(R){return{result:"error",value:R}}function _s(R){return R["property-type"]==="data-driven"||R["property-type"]==="cross-faded-data-driven"}function Of(R){return!!R.expression&&R.expression.parameters.indexOf("zoom")>-1}function iu(R){return!!R.expression&&R.expression.interpolated}function fi(R){return R instanceof Number?"number":R instanceof String?"string":R instanceof Boolean?"boolean":Array.isArray(R)?"array":R===null?"null":typeof R}function vl(R){return typeof R=="object"&&R!==null&&!Array.isArray(R)}function Cu(R){return R}function Fl(R,D){var W=D.type==="color",ae=R.stops&&typeof R.stops[0][0]=="object",de=ae||R.property!==void 0,Ee=ae||!de,Ie=R.type||(iu(D)?"exponential":"interval");if(W&&(R=sn({},R),R.stops&&(R.stops=R.stops.map(function(oa){return[oa[0],qa.parse(oa[1])]})),R.default?R.default=qa.parse(R.default):R.default=qa.parse(D.default)),R.colorSpace&&R.colorSpace!=="rgb"&&!Df[R.colorSpace])throw new Error("Unknown color space: "+R.colorSpace);var tt,gt,Et;if(Ie==="exponential")tt=Lu;else if(Ie==="interval")tt=Ff;else if(Ie==="categorical"){tt=zf,gt=Object.create(null);for(var Rt=0,Zt=R.stops;Rt<Zt.length;Rt+=1){var fr=Zt[Rt];gt[fr[0]]=fr[1]}Et=typeof R.stops[0][0]}else if(Ie==="identity")tt=zo;else throw new Error('Unknown function type "'+Ie+'"');if(ae){for(var nr={},Sr=[],Vr=0;Vr<R.stops.length;Vr++){var un=R.stops[Vr],tn=un[0].zoom;nr[tn]===void 0&&(nr[tn]={zoom:tn,type:R.type,property:R.property,default:R.default,stops:[]},Sr.push(tn)),nr[tn].stops.push([un[0].value,un[1]])}for(var Rn=[],Tn=0,_n=Sr;Tn<_n.length;Tn+=1){var zn=_n[Tn];Rn.push([nr[zn].zoom,Fl(nr[zn],D)])}var jn={name:"linear"};return{kind:"composite",interpolationType:jn,interpolationFactor:Ui.interpolationFactor.bind(void 0,jn),zoomStops:Rn.map(function(oa){return oa[0]}),evaluate:function(Da,ya){var Sa=Da.zoom;return Lu({stops:Rn,base:R.base},D,Sa).evaluate(Sa,ya)}}}else if(Ee){var fa=Ie==="exponential"?{name:"exponential",base:R.base!==void 0?R.base:1}:null;return{kind:"camera",interpolationType:fa,interpolationFactor:Ui.interpolationFactor.bind(void 0,fa),zoomStops:R.stops.map(function(oa){return oa[0]}),evaluate:function(oa){var Da=oa.zoom;return tt(R,D,Da,gt,Et)}}}else return{kind:"source",evaluate:function(Da,ya){var Sa=ya&&ya.properties?ya.properties[R.property]:void 0;return Sa===void 0?Ks(R.default,D.default):tt(R,D,Sa,gt,Et)}}}function Ks(R,D,W){if(R!==void 0)return R;if(D!==void 0)return D;if(W!==void 0)return W}function zf(R,D,W,ae,de){var Ee=typeof W===de?ae[W]:void 0;return Ks(Ee,R.default,D.default)}function Ff(R,D,W){if(fi(W)!=="number")return Ks(R.default,D.default);var ae=R.stops.length;if(ae===1||W<=R.stops[0][0])return R.stops[0][1];if(W>=R.stops[ae-1][0])return R.stops[ae-1][1];var de=ql(R.stops.map(function(Ee){return Ee[0]}),W);return R.stops[de][1]}function Lu(R,D,W){var ae=R.base!==void 0?R.base:1;if(fi(W)!=="number")return Ks(R.default,D.default);var de=R.stops.length;if(de===1||W<=R.stops[0][0])return R.stops[0][1];if(W>=R.stops[de-1][0])return R.stops[de-1][1];var Ee=ql(R.stops.map(function(Zt){return Zt[0]}),W),Ie=bc(W,ae,R.stops[Ee][0],R.stops[Ee+1][0]),tt=R.stops[Ee][1],gt=R.stops[Ee+1][1],Et=eu[D.type]||Cu;if(R.colorSpace&&R.colorSpace!=="rgb"){var Rt=Df[R.colorSpace];Et=function(Zt,fr){return Rt.reverse(Rt.interpolate(Rt.forward(Zt),Rt.forward(fr),Ie))}}return typeof tt.evaluate=="function"?{evaluate:function(){for(var fr=[],nr=arguments.length;nr--;)fr[nr]=arguments[nr];var Sr=tt.evaluate.apply(void 0,fr),Vr=gt.evaluate.apply(void 0,fr);if(!(Sr===void 0||Vr===void 0))return Et(Sr,Vr,Ie)}}:Et(tt,gt,Ie)}function zo(R,D,W){return D.type==="color"?W=qa.parse(W):D.type==="formatted"?W=qi.fromString(W.toString()):D.type==="resolvedImage"?W=bo.fromString(W.toString()):fi(W)!==D.type&&(D.type!=="enum"||!D.values[W])&&(W=void 0),Ks(W,R.default,D.default)}function bc(R,D,W,ae){var de=ae-W,Ee=R-W;return de===0?0:D===1?Ee/de:(Math.pow(D,Ee)-1)/(Math.pow(D,de)-1)}var $s=function(D,W){this.expression=D,this._warningHistory={},this._evaluator=new Es,this._defaultValue=W?Tc(W):null,this._enumValues=W&&W.type==="enum"?W.values:null};$s.prototype.evaluateWithoutErrorHandling=function(D,W,ae,de,Ee,Ie){return this._evaluator.globals=D,this._evaluator.feature=W,this._evaluator.featureState=ae,this._evaluator.canonical=de,this._evaluator.availableImages=Ee||null,this._evaluator.formattedSection=Ie,this.expression.evaluate(this._evaluator)},$s.prototype.evaluate=function(D,W,ae,de,Ee,Ie){this._evaluator.globals=D,this._evaluator.feature=W||null,this._evaluator.featureState=ae||null,this._evaluator.canonical=de,this._evaluator.availableImages=Ee||null,this._evaluator.formattedSection=Ie||null;try{var tt=this.expression.evaluate(this._evaluator);if(tt==null||typeof tt=="number"&&tt!==tt)return this._defaultValue;if(this._enumValues&&!(tt in this._enumValues))throw new eo("Expected value to be one of "+Object.keys(this._enumValues).map(function(gt){return JSON.stringify(gt)}).join(", ")+", but found "+JSON.stringify(tt)+" instead.");return tt}catch(gt){return this._warningHistory[gt.message]||(this._warningHistory[gt.message]=!0,typeof console<"u"&&console.warn(gt.message)),this._defaultValue}};function dl(R){return Array.isArray(R)&&R.length>0&&typeof R[0]=="string"&&R[0]in hs}function Nl(R,D){var W=new Ls(hs,[],D?rf(D):void 0),ae=W.parse(R,void 0,void 0,void 0,D&&D.type==="string"?{typeAnnotation:"coerce"}:void 0);return ae?tf(new $s(ae,D)):Xs(W.errors)}var pl=function(D,W){this.kind=D,this._styleExpression=W,this.isStateDependent=D!=="constant"&&!Dl(W.expression)};pl.prototype.evaluateWithoutErrorHandling=function(D,W,ae,de,Ee,Ie){return this._styleExpression.evaluateWithoutErrorHandling(D,W,ae,de,Ee,Ie)},pl.prototype.evaluate=function(D,W,ae,de,Ee,Ie){return this._styleExpression.evaluate(D,W,ae,de,Ee,Ie)};var wo=function(D,W,ae,de){this.kind=D,this.zoomStops=ae,this._styleExpression=W,this.isStateDependent=D!=="camera"&&!Dl(W.expression),this.interpolationType=de};wo.prototype.evaluateWithoutErrorHandling=function(D,W,ae,de,Ee,Ie){return this._styleExpression.evaluateWithoutErrorHandling(D,W,ae,de,Ee,Ie)},wo.prototype.evaluate=function(D,W,ae,de,Ee,Ie){return this._styleExpression.evaluate(D,W,ae,de,Ee,Ie)},wo.prototype.interpolationFactor=function(D,W,ae){return this.interpolationType?Ui.interpolationFactor(this.interpolationType,D,W,ae):0};function Go(R,D){if(R=Nl(R,D),R.result==="error")return R;var W=R.value.expression,ae=Rl(W);if(!ae&&!_s(D))return Xs([new En("","data expressions not supported")]);var de=Ql(W,["zoom"]);if(!de&&!Of(D))return Xs([new En("","zoom expressions not supported")]);var Ee=ou(W);if(!Ee&&!de)return Xs([new En("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Ee instanceof En)return Xs([Ee]);if(Ee instanceof Ui&&!iu(D))return Xs([new En("",'"interpolate" expressions cannot be used with this property')]);if(!Ee)return tf(ae?new pl("constant",R.value):new pl("source",R.value));var Ie=Ee instanceof Ui?Ee.interpolation:void 0;return tf(ae?new wo("camera",R.value,Ee.labels,Ie):new wo("composite",R.value,Ee.labels,Ie))}var Bl=function(D,W){this._parameters=D,this._specification=W,sn(this,Fl(this._parameters,this._specification))};Bl.deserialize=function(D){return new Bl(D._parameters,D._specification)},Bl.serialize=function(D){return{_parameters:D._parameters,_specification:D._specification}};function wc(R,D){if(vl(R))return new Bl(R,D);if(dl(R)){var W=Go(R,D);if(W.result==="error")throw new Error(W.value.map(function(de){return de.key+": "+de.message}).join(", "));return W.value}else{var ae=R;return typeof R=="string"&&D.type==="color"&&(ae=qa.parse(R)),{kind:"constant",evaluate:function(){return ae}}}}function ou(R){var D=null;if(R instanceof Io)D=ou(R.result);else if(R instanceof Do)for(var W=0,ae=R.args;W<ae.length;W+=1){var de=ae[W];if(D=ou(de),D)break}else(R instanceof sl||R instanceof Ui)&&R.input instanceof Zi&&R.input.name==="zoom"&&(D=R);return D instanceof En||R.eachChild(function(Ee){var Ie=ou(Ee);Ie instanceof En?D=Ie:!D&&Ie?D=new En("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):D&&Ie&&D!==Ie&&(D=new En("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),D}function rf(R){var D={color:Fn,string:Nr,number:_r,enum:Nr,boolean:vn,formatted:va,resolvedImage:ha};return R.type==="array"?la(D[R.value]||xn,R.length):D[R.type]}function Tc(R){return R.type==="color"&&vl(R.default)?new qa(0,0,0,0):R.type==="color"?qa.parse(R.default)||null:R.default===void 0?null:R.default}function ts(R){var D=R.key,W=R.value,ae=R.valueSpec||{},de=R.objectElementValidators||{},Ee=R.style,Ie=R.styleSpec,tt=[],gt=fi(W);if(gt!=="object")return[new Er(D,W,"object expected, "+gt+" found")];for(var Et in W){var Rt=Et.split(".")[0],Zt=ae[Rt]||ae["*"],fr=void 0;if(de[Rt])fr=de[Rt];else if(ae[Rt])fr=ir;else if(de["*"])fr=de["*"];else if(ae["*"])fr=ir;else{tt.push(new Er(D,W[Et],'unknown property "'+Et+'"'));continue}tt=tt.concat(fr({key:(D&&D+".")+Et,value:W[Et],valueSpec:Zt,style:Ee,styleSpec:Ie,object:W,objectKey:Et},W))}for(var nr in ae)de[nr]||ae[nr].required&&ae[nr].default===void 0&&W[nr]===void 0&&tt.push(new Er(D,W,'missing required property "'+nr+'"'));return tt}function Nf(R){var D=R.value,W=R.valueSpec,ae=R.style,de=R.styleSpec,Ee=R.key,Ie=R.arrayElementValidator||ir;if(fi(D)!=="array")return[new Er(Ee,D,"array expected, "+fi(D)+" found")];if(W.length&&D.length!==W.length)return[new Er(Ee,D,"array length "+W.length+" expected, length "+D.length+" found")];if(W["min-length"]&&D.length<W["min-length"])return[new Er(Ee,D,"array length at least "+W["min-length"]+" expected, length "+D.length+" found")];var tt={type:W.value,values:W.values};de.$version<7&&(tt.function=W.function),fi(W.value)==="object"&&(tt=W.value);for(var gt=[],Et=0;Et<D.length;Et++)gt=gt.concat(Ie({array:D,arrayIndex:Et,value:D[Et],valueSpec:tt,style:ae,styleSpec:de,key:Ee+"["+Et+"]"}));return gt}function Js(R){var D=R.key,W=R.value,ae=R.valueSpec,de=fi(W);return de==="number"&&W!==W&&(de="NaN"),de!=="number"?[new Er(D,W,"number expected, "+de+" found")]:"minimum"in ae&&W<ae.minimum?[new Er(D,W,W+" is less than the minimum value "+ae.minimum)]:"maximum"in ae&&W>ae.maximum?[new Er(D,W,W+" is greater than the maximum value "+ae.maximum)]:[]}function Ul(R){var D=R.valueSpec,W=fn(R.value.type),ae,de={},Ee,Ie,tt=W!=="categorical"&&R.value.property===void 0,gt=!tt,Et=fi(R.value.stops)==="array"&&fi(R.value.stops[0])==="array"&&fi(R.value.stops[0][0])==="object",Rt=ts({key:R.key,value:R.value,valueSpec:R.styleSpec.function,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{stops:Zt,default:Sr}});return W==="identity"&&tt&&Rt.push(new Er(R.key,R.value,'missing required property "property"')),W!=="identity"&&!R.value.stops&&Rt.push(new Er(R.key,R.value,'missing required property "stops"')),W==="exponential"&&R.valueSpec.expression&&!iu(R.valueSpec)&&Rt.push(new Er(R.key,R.value,"exponential functions not supported")),R.styleSpec.$version>=8&&(gt&&!_s(R.valueSpec)?Rt.push(new Er(R.key,R.value,"property functions not supported")):tt&&!Of(R.valueSpec)&&Rt.push(new Er(R.key,R.value,"zoom functions not supported"))),(W==="categorical"||Et)&&R.value.property===void 0&&Rt.push(new Er(R.key,R.value,'"property" property is required')),Rt;function Zt(Vr){if(W==="identity")return[new Er(Vr.key,Vr.value,'identity function may not have a "stops" property')];var un=[],tn=Vr.value;return un=un.concat(Nf({key:Vr.key,value:tn,valueSpec:Vr.valueSpec,style:Vr.style,styleSpec:Vr.styleSpec,arrayElementValidator:fr})),fi(tn)==="array"&&tn.length===0&&un.push(new Er(Vr.key,tn,"array must have at least one stop")),un}function fr(Vr){var un=[],tn=Vr.value,Rn=Vr.key;if(fi(tn)!=="array")return[new Er(Rn,tn,"array expected, "+fi(tn)+" found")];if(tn.length!==2)return[new Er(Rn,tn,"array length 2 expected, length "+tn.length+" found")];if(Et){if(fi(tn[0])!=="object")return[new Er(Rn,tn,"object expected, "+fi(tn[0])+" found")];if(tn[0].zoom===void 0)return[new Er(Rn,tn,"object stop key must have zoom")];if(tn[0].value===void 0)return[new Er(Rn,tn,"object stop key must have value")];if(Ie&&Ie>fn(tn[0].zoom))return[new Er(Rn,tn[0].zoom,"stop zoom values must appear in ascending order")];fn(tn[0].zoom)!==Ie&&(Ie=fn(tn[0].zoom),Ee=void 0,de={}),un=un.concat(ts({key:Rn+"[0]",value:tn[0],valueSpec:{zoom:{}},style:Vr.style,styleSpec:Vr.styleSpec,objectElementValidators:{zoom:Js,value:nr}}))}else un=un.concat(nr({key:Rn+"[0]",value:tn[0],valueSpec:{},style:Vr.style,styleSpec:Vr.styleSpec},tn));return dl(Cn(tn[1]))?un.concat([new Er(Rn+"[1]",tn[1],"expressions are not allowed in function stops.")]):un.concat(ir({key:Rn+"[1]",value:tn[1],valueSpec:D,style:Vr.style,styleSpec:Vr.styleSpec}))}function nr(Vr,un){var tn=fi(Vr.value),Rn=fn(Vr.value),Tn=Vr.value!==null?Vr.value:un;if(!ae)ae=tn;else if(tn!==ae)return[new Er(Vr.key,Tn,tn+" stop domain type must match previous stop domain type "+ae)];if(tn!=="number"&&tn!=="string"&&tn!=="boolean")return[new Er(Vr.key,Tn,"stop domain value must be a number, string, or boolean")];if(tn!=="number"&&W!=="categorical"){var _n="number expected, "+tn+" found";return _s(D)&&W===void 0&&(_n+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Er(Vr.key,Tn,_n)]}return W==="categorical"&&tn==="number"&&(!isFinite(Rn)||Math.floor(Rn)!==Rn)?[new Er(Vr.key,Tn,"integer expected, found "+Rn)]:W!=="categorical"&&tn==="number"&&Ee!==void 0&&Rn<Ee?[new Er(Vr.key,Tn,"stop domain values must appear in ascending order")]:(Ee=Rn,W==="categorical"&&Rn in de?[new Er(Vr.key,Tn,"stop domain values must be unique")]:(de[Rn]=!0,[]))}function Sr(Vr){return ir({key:Vr.key,value:Vr.value,valueSpec:D,style:Vr.style,styleSpec:Vr.styleSpec})}}function Qs(R){var D=(R.expressionContext==="property"?Go:Nl)(Cn(R.value),R.valueSpec);if(D.result==="error")return D.value.map(function(ae){return new Er(""+R.key+ae.key,R.value,ae.message)});var W=D.value.expression||D.value._styleExpression.expression;if(R.expressionContext==="property"&&R.propertyKey==="text-font"&&!W.outputDefined())return[new Er(R.key,R.value,'Invalid data expression for "'+R.propertyKey+'". Output values must be contained as literals within the expression.')];if(R.expressionContext==="property"&&R.propertyType==="layout"&&!Dl(W))return[new Er(R.key,R.value,'"feature-state" data expressions are not supported with layout properties.')];if(R.expressionContext==="filter"&&!Dl(W))return[new Er(R.key,R.value,'"feature-state" data expressions are not supported with filters.')];if(R.expressionContext&&R.expressionContext.indexOf("cluster")===0){if(!Ql(W,["zoom","feature-state"]))return[new Er(R.key,R.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(R.expressionContext==="cluster-initial"&&!Rl(W))return[new Er(R.key,R.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Kc(R){var D=R.value,W=R.key,ae=fi(D);return ae!=="boolean"?[new Er(W,D,"boolean expected, "+ae+" found")]:[]}function Bf(R){var D=R.key,W=R.value,ae=fi(W);return ae!=="string"?[new Er(D,W,"color expected, "+ae+" found")]:gu(W)===null?[new Er(D,W,'color expected, "'+W+'" found')]:[]}function nf(R){var D=R.key,W=R.value,ae=R.valueSpec,de=[];return Array.isArray(ae.values)?ae.values.indexOf(fn(W))===-1&&de.push(new Er(D,W,"expected one of ["+ae.values.join(", ")+"], "+JSON.stringify(W)+" found")):Object.keys(ae.values).indexOf(fn(W))===-1&&de.push(new Er(D,W,"expected one of ["+Object.keys(ae.values).join(", ")+"], "+JSON.stringify(W)+" found")),de}function yo(R){if(R===!0||R===!1)return!0;if(!Array.isArray(R)||R.length===0)return!1;switch(R[0]){case"has":return R.length>=2&&R[1]!=="$id"&&R[1]!=="$type";case"in":return R.length>=3&&(typeof R[1]!="string"||Array.isArray(R[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return R.length!==3||Array.isArray(R[1])||Array.isArray(R[2]);case"any":case"all":for(var D=0,W=R.slice(1);D<W.length;D+=1){var ae=W[D];if(!yo(ae)&&typeof ae!="boolean")return!1}return!0;default:return!0}}var Ac={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function ds(R){if(R==null)return{filter:function(){return!0},needGeometry:!1};yo(R)||(R=mo(R));var D=Nl(R,Ac);if(D.result==="error")throw new Error(D.value.map(function(ae){return ae.key+": "+ae.message}).join(", "));var W=af(R);return{filter:function(ae,de,Ee){return D.value.evaluate(ae,de,{},Ee)},needGeometry:W}}function Rs(R,D){return R<D?-1:R>D?1:0}function af(R){if(!Array.isArray(R))return!1;if(R[0]==="within")return!0;for(var D=1;D<R.length;D++)if(af(R[D]))return!0;return!1}function mo(R){if(!R)return!0;var D=R[0];if(R.length<=1)return D!=="any";var W=D==="=="?Pu(R[1],R[2],"=="):D==="!="?yl(Pu(R[1],R[2],"==")):D==="<"||D===">"||D==="<="||D===">="?Pu(R[1],R[2],D):D==="any"?Sc(R.slice(1)):D==="all"?["all"].concat(R.slice(1).map(mo)):D==="none"?["all"].concat(R.slice(1).map(mo).map(yl)):D==="in"?Uf(R[1],R.slice(2)):D==="!in"?yl(Uf(R[1],R.slice(2))):D==="has"?of(R[1]):D==="!has"?yl(of(R[1])):D==="within"?R:!0;return W}function Pu(R,D,W){switch(R){case"$type":return["filter-type-"+W,D];case"$id":return["filter-id-"+W,D];default:return["filter-"+W,R,D]}}function Sc(R){return["any"].concat(R.map(mo))}function Uf(R,D){if(D.length===0)return!1;switch(R){case"$type":return["filter-type-in",["literal",D]];case"$id":return["filter-id-in",["literal",D]];default:return D.length>200&&!D.some(function(W){return typeof W!=typeof D[0]})?["filter-in-large",R,["literal",D.sort(Rs)]]:["filter-in-small",R,["literal",D]]}}function of(R){switch(R){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",R]}}function yl(R){return["!",R]}function _u(R){return yo(Cn(R.value))?Qs(sn({},R,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Ru(R)}function Ru(R){var D=R.value,W=R.key;if(fi(D)!=="array")return[new Er(W,D,"array expected, "+fi(D)+" found")];var ae=R.styleSpec,de,Ee=[];if(D.length<1)return[new Er(W,D,"filter array must have at least 1 element")];switch(Ee=Ee.concat(nf({key:W+"[0]",value:D[0],valueSpec:ae.filter_operator,style:R.style,styleSpec:R.styleSpec})),fn(D[0])){case"<":case"<=":case">":case">=":D.length>=2&&fn(D[1])==="$type"&&Ee.push(new Er(W,D,'"$type" cannot be use with operator "'+D[0]+'"'));case"==":case"!=":D.length!==3&&Ee.push(new Er(W,D,'filter array for operator "'+D[0]+'" must have 3 elements'));case"in":case"!in":D.length>=2&&(de=fi(D[1]),de!=="string"&&Ee.push(new Er(W+"[1]",D[1],"string expected, "+de+" found")));for(var Ie=2;Ie<D.length;Ie++)de=fi(D[Ie]),fn(D[1])==="$type"?Ee=Ee.concat(nf({key:W+"["+Ie+"]",value:D[Ie],valueSpec:ae.geometry_type,style:R.style,styleSpec:R.styleSpec})):de!=="string"&&de!=="number"&&de!=="boolean"&&Ee.push(new Er(W+"["+Ie+"]",D[Ie],"string, number, or boolean expected, "+de+" found"));break;case"any":case"all":case"none":for(var tt=1;tt<D.length;tt++)Ee=Ee.concat(Ru({key:W+"["+tt+"]",value:D[tt],style:R.style,styleSpec:R.styleSpec}));break;case"has":case"!has":de=fi(D[1]),D.length!==2?Ee.push(new Er(W,D,'filter array for "'+D[0]+'" operator must have 2 elements')):de!=="string"&&Ee.push(new Er(W+"[1]",D[1],"string expected, "+de+" found"));break;case"within":de=fi(D[1]),D.length!==2?Ee.push(new Er(W,D,'filter array for "'+D[0]+'" operator must have 2 elements')):de!=="object"&&Ee.push(new Er(W+"[1]",D[1],"object expected, "+de+" found"));break}return Ee}function Hf(R,D){var W=R.key,ae=R.style,de=R.styleSpec,Ee=R.value,Ie=R.objectKey,tt=de[D+"_"+R.layerType];if(!tt)return[];var gt=Ie.match(/^(.*)-transition$/);if(D==="paint"&&gt&&tt[gt[1]]&&tt[gt[1]].transition)return ir({key:W,value:Ee,valueSpec:de.transition,style:ae,styleSpec:de});var Et=R.valueSpec||tt[Ie];if(!Et)return[new Er(W,Ee,'unknown property "'+Ie+'"')];var Rt;if(fi(Ee)==="string"&&_s(Et)&&!Et.tokens&&(Rt=/^{([^}]+)}$/.exec(Ee)))return[new Er(W,Ee,'"'+Ie+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Rt[1])+" }`.")];var Zt=[];return R.layerType==="symbol"&&(Ie==="text-field"&&ae&&!ae.glyphs&&Zt.push(new Er(W,Ee,'use of "text-field" requires a style "glyphs" property')),Ie==="text-font"&&vl(Cn(Ee))&&fn(Ee.type)==="identity"&&Zt.push(new Er(W,Ee,'"text-font" does not support identity functions'))),Zt.concat(ir({key:R.key,value:Ee,valueSpec:Et,style:ae,styleSpec:de,expressionContext:"property",propertyType:D,propertyKey:Ie}))}function Du(R){return Hf(R,"paint")}function Ec(R){return Hf(R,"layout")}function et(R){var D=[],W=R.value,ae=R.key,de=R.style,Ee=R.styleSpec;!W.type&&!W.ref&&D.push(new Er(ae,W,'either "type" or "ref" is required'));var Ie=fn(W.type),tt=fn(W.ref);if(W.id)for(var gt=fn(W.id),Et=0;Et<R.arrayIndex;Et++){var Rt=de.layers[Et];fn(Rt.id)===gt&&D.push(new Er(ae,W.id,'duplicate layer id "'+W.id+'", previously used at line '+Rt.id.__line__))}if("ref"in W){["type","source","source-layer","filter","layout"].forEach(function(Sr){Sr in W&&D.push(new Er(ae,W[Sr],'"'+Sr+'" is prohibited for ref layers'))});var Zt;de.layers.forEach(function(Sr){fn(Sr.id)===tt&&(Zt=Sr)}),Zt?Zt.ref?D.push(new Er(ae,W.ref,"ref cannot reference another ref layer")):Ie=fn(Zt.type):D.push(new Er(ae,W.ref,'ref layer "'+tt+'" not found'))}else if(Ie!=="background")if(!W.source)D.push(new Er(ae,W,'missing required property "source"'));else{var fr=de.sources&&de.sources[W.source],nr=fr&&fn(fr.type);fr?nr==="vector"&&Ie==="raster"?D.push(new Er(ae,W.source,'layer "'+W.id+'" requires a raster source')):nr==="raster"&&Ie!=="raster"?D.push(new Er(ae,W.source,'layer "'+W.id+'" requires a vector source')):nr==="vector"&&!W["source-layer"]?D.push(new Er(ae,W,'layer "'+W.id+'" must specify a "source-layer"')):nr==="raster-dem"&&Ie!=="hillshade"?D.push(new Er(ae,W.source,"raster-dem source can only be used with layer type 'hillshade'.")):Ie==="line"&&W.paint&&W.paint["line-gradient"]&&(nr!=="geojson"||!fr.lineMetrics)&&D.push(new Er(ae,W,'layer "'+W.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):D.push(new Er(ae,W.source,'source "'+W.source+'" not found'))}return D=D.concat(ts({key:ae,value:W,valueSpec:Ee.layer,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return ir({key:ae+".type",value:W.type,valueSpec:Ee.layer.type,style:R.style,styleSpec:R.styleSpec,object:W,objectKey:"type"})},filter:_u,layout:function(Vr){return ts({layer:W,key:Vr.key,value:Vr.value,style:Vr.style,styleSpec:Vr.styleSpec,objectElementValidators:{"*":function(tn){return Ec(sn({layerType:Ie},tn))}}})},paint:function(Vr){return ts({layer:W,key:Vr.key,value:Vr.value,style:Vr.style,styleSpec:Vr.styleSpec,objectElementValidators:{"*":function(tn){return Du(sn({layerType:Ie},tn))}}})}}})),D}function lt(R){var D=R.value,W=R.key,ae=fi(D);return ae!=="string"?[new Er(W,D,"string expected, "+ae+" found")]:[]}var xt={promoteId:Ft};function wt(R){var D=R.value,W=R.key,ae=R.styleSpec,de=R.style;if(!D.type)return[new Er(W,D,'"type" is required')];var Ee=fn(D.type),Ie;switch(Ee){case"vector":case"raster":case"raster-dem":return Ie=ts({key:W,value:D,valueSpec:ae["source_"+Ee.replace("-","_")],style:R.style,styleSpec:ae,objectElementValidators:xt}),Ie;case"geojson":if(Ie=ts({key:W,value:D,valueSpec:ae.source_geojson,style:de,styleSpec:ae,objectElementValidators:xt}),D.cluster)for(var tt in D.clusterProperties){var gt=D.clusterProperties[tt],Et=gt[0],Rt=gt[1],Zt=typeof Et=="string"?[Et,["accumulated"],["get",tt]]:Et;Ie.push.apply(Ie,Qs({key:W+"."+tt+".map",value:Rt,expressionContext:"cluster-map"})),Ie.push.apply(Ie,Qs({key:W+"."+tt+".reduce",value:Zt,expressionContext:"cluster-reduce"}))}return Ie;case"video":return ts({key:W,value:D,valueSpec:ae.source_video,style:de,styleSpec:ae});case"image":return ts({key:W,value:D,valueSpec:ae.source_image,style:de,styleSpec:ae});case"canvas":return[new Er(W,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return nf({key:W+".type",value:D.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:de,styleSpec:ae})}}function Ft(R){var D=R.key,W=R.value;if(fi(W)==="string")return lt({key:D,value:W});var ae=[];for(var de in W)ae.push.apply(ae,lt({key:D+"."+de,value:W[de]}));return ae}function It(R){var D=R.value,W=R.styleSpec,ae=W.light,de=R.style,Ee=[],Ie=fi(D);if(D===void 0)return Ee;if(Ie!=="object")return Ee=Ee.concat([new Er("light",D,"object expected, "+Ie+" found")]),Ee;for(var tt in D){var gt=tt.match(/^(.*)-transition$/);gt&&ae[gt[1]]&&ae[gt[1]].transition?Ee=Ee.concat(ir({key:tt,value:D[tt],valueSpec:W.transition,style:de,styleSpec:W})):ae[tt]?Ee=Ee.concat(ir({key:tt,value:D[tt],valueSpec:ae[tt],style:de,styleSpec:W})):Ee=Ee.concat([new Er(tt,D[tt],'unknown property "'+tt+'"')])}return Ee}function Gt(R){return lt(R).length===0?[]:Qs(R)}function pr(R){return lt(R).length===0?[]:Qs(R)}var Tr={"*":function(){return[]},array:Nf,boolean:Kc,number:Js,color:Bf,constants:qr,enum:nf,filter:_u,function:Ul,layer:et,object:ts,source:wt,light:It,string:lt,formatted:Gt,resolvedImage:pr};function ir(R){var D=R.value,W=R.valueSpec,ae=R.styleSpec;if(W.expression&&vl(fn(D)))return Ul(R);if(W.expression&&dl(Cn(D)))return Qs(R);if(W.type&&Tr[W.type])return Tr[W.type](R);var de=ts(sn({},R,{valueSpec:W.type?ae[W.type]:W}));return de}function Cr(R){var D=R.value,W=R.key,ae=lt(R);return ae.length||(D.indexOf("{fontstack}")===-1&&ae.push(new Er(W,D,'"glyphs" url must include a "{fontstack}" token')),D.indexOf("{range}")===-1&&ae.push(new Er(W,D,'"glyphs" url must include a "{range}" token'))),ae}function Dr(R,D){D===void 0&&(D=Jt);var W=[];return W=W.concat(ir({key:"",value:R,valueSpec:D.$root,styleSpec:D,style:R,objectElementValidators:{glyphs:Cr,"*":function(){return[]}}})),R.constants&&(W=W.concat(qr({key:"constants",value:R.constants,style:R,styleSpec:D}))),jr(W)}Dr.source=Qr(wt),Dr.light=Qr(It),Dr.layer=Qr(et),Dr.filter=Qr(_u),Dr.paintProperty=Qr(Du),Dr.layoutProperty=Qr(Ec);function jr(R){return[].concat(R).sort(function(D,W){return D.line-W.line})}function Qr(R){return function(){for(var D=[],W=arguments.length;W--;)D[W]=arguments[W];return jr(R.apply(this,D))}}var wn=Dr,Sn=wn.light,Dn=wn.paintProperty,pa=wn.layoutProperty;function Ra(R,D){var W=!1;if(D&&D.length)for(var ae=0,de=D;ae<de.length;ae+=1){var Ee=de[ae];R.fire(new rr(new Error(Ee.message))),W=!0}return W}var Ia=Fa,ka=3;function Fa(R,D,W){var ae=this.cells=[];if(R instanceof ArrayBuffer){this.arrayBuffer=R;var de=new Int32Array(this.arrayBuffer);R=de[0],D=de[1],W=de[2],this.d=D+2*W;for(var Ee=0;Ee<this.d*this.d;Ee++){var Ie=de[ka+Ee],tt=de[ka+Ee+1];ae.push(Ie===tt?null:de.subarray(Ie,tt))}var gt=de[ka+ae.length],Et=de[ka+ae.length+1];this.keys=de.subarray(gt,Et),this.bboxes=de.subarray(Et),this.insert=this._insertReadonly}else{this.d=D+2*W;for(var Rt=0;Rt<this.d*this.d;Rt++)ae.push([]);this.keys=[],this.bboxes=[]}this.n=D,this.extent=R,this.padding=W,this.scale=D/R,this.uid=0;var Zt=W/D*R;this.min=-Zt,this.max=R+Zt}Fa.prototype.insert=function(R,D,W,ae,de){this._forEachCell(D,W,ae,de,this._insertCell,this.uid++),this.keys.push(R),this.bboxes.push(D),this.bboxes.push(W),this.bboxes.push(ae),this.bboxes.push(de)},Fa.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Fa.prototype._insertCell=function(R,D,W,ae,de,Ee){this.cells[de].push(Ee)},Fa.prototype.query=function(R,D,W,ae,de){var Ee=this.min,Ie=this.max;if(R<=Ee&&D<=Ee&&Ie<=W&&Ie<=ae&&!de)return Array.prototype.slice.call(this.keys);var tt=[],gt={};return this._forEachCell(R,D,W,ae,this._queryCell,tt,gt,de),tt},Fa.prototype._queryCell=function(R,D,W,ae,de,Ee,Ie,tt){var gt=this.cells[de];if(gt!==null)for(var Et=this.keys,Rt=this.bboxes,Zt=0;Zt<gt.length;Zt++){var fr=gt[Zt];if(Ie[fr]===void 0){var nr=fr*4;(tt?tt(Rt[nr+0],Rt[nr+1],Rt[nr+2],Rt[nr+3]):R<=Rt[nr+2]&&D<=Rt[nr+3]&&W>=Rt[nr+0]&&ae>=Rt[nr+1])?(Ie[fr]=!0,Ee.push(Et[fr])):Ie[fr]=!1}}},Fa.prototype._forEachCell=function(R,D,W,ae,de,Ee,Ie,tt){for(var gt=this._convertToCellCoord(R),Et=this._convertToCellCoord(D),Rt=this._convertToCellCoord(W),Zt=this._convertToCellCoord(ae),fr=gt;fr<=Rt;fr++)for(var nr=Et;nr<=Zt;nr++){var Sr=this.d*nr+fr;if(!(tt&&!tt(this._convertFromCellCoord(fr),this._convertFromCellCoord(nr),this._convertFromCellCoord(fr+1),this._convertFromCellCoord(nr+1)))&&de.call(this,R,D,W,ae,Sr,Ee,Ie,tt))return}},Fa.prototype._convertFromCellCoord=function(R){return(R-this.padding)/this.scale},Fa.prototype._convertToCellCoord=function(R){return Math.max(0,Math.min(this.d-1,Math.floor(R*this.scale)+this.padding))},Fa.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var R=this.cells,D=ka+this.cells.length+1+1,W=0,ae=0;ae<this.cells.length;ae++)W+=this.cells[ae].length;var de=new Int32Array(D+W+this.keys.length+this.bboxes.length);de[0]=this.extent,de[1]=this.n,de[2]=this.padding;for(var Ee=D,Ie=0;Ie<R.length;Ie++){var tt=R[Ie];de[ka+Ie]=Ee,de.set(tt,Ee),Ee+=tt.length}return de[ka+R.length]=Ee,de.set(this.keys,Ee),Ee+=this.keys.length,de[ka+R.length+1]=Ee,de.set(this.bboxes,Ee),Ee+=this.bboxes.length,de.buffer};var si=self.ImageData,Ei=self.ImageBitmap,bi={};function ue(R,D,W){W===void 0&&(W={}),Object.defineProperty(D,"_classRegistryKey",{value:R,writeable:!1}),bi[R]={klass:D,omit:W.omit||[],shallow:W.shallow||[]}}ue("Object",Object),Ia.serialize=function(D,W){var ae=D.toArrayBuffer();return W&&W.push(ae),{buffer:ae}},Ia.deserialize=function(D){return new Ia(D.buffer)},ue("Grid",Ia),ue("Color",qa),ue("Error",Error),ue("ResolvedImage",bo),ue("StylePropertyFunction",Bl),ue("StyleExpression",$s,{omit:["_evaluator"]}),ue("ZoomDependentExpression",wo),ue("ZoomConstantExpression",pl),ue("CompoundExpression",Zi,{omit:["_evaluate"]});for(var _e in hs)hs[_e]._classRegistryKey||ue("Expression_"+_e,hs[_e]);function Ye(R){return R&&typeof ArrayBuffer<"u"&&(R instanceof ArrayBuffer||R.constructor&&R.constructor.name==="ArrayBuffer")}function nt(R){return Ei&&R instanceof Ei}function ot(R,D){if(R==null||typeof R=="boolean"||typeof R=="number"||typeof R=="string"||R instanceof Boolean||R instanceof Number||R instanceof String||R instanceof Date||R instanceof RegExp)return R;if(Ye(R)||nt(R))return D&&D.push(R),R;if(ArrayBuffer.isView(R)){var W=R;return D&&D.push(W.buffer),W}if(R instanceof si)return D&&D.push(R.data.buffer),R;if(Array.isArray(R)){for(var ae=[],de=0,Ee=R;de<Ee.length;de+=1){var Ie=Ee[de];ae.push(ot(Ie,D))}return ae}if(typeof R=="object"){var tt=R.constructor,gt=tt._classRegistryKey;if(!gt)throw new Error("can't serialize object of unregistered class");var Et=tt.serialize?tt.serialize(R,D):{};if(!tt.serialize){for(var Rt in R)if(R.hasOwnProperty(Rt)&&!(bi[gt].omit.indexOf(Rt)>=0)){var Zt=R[Rt];Et[Rt]=bi[gt].shallow.indexOf(Rt)>=0?Zt:ot(Zt,D)}R instanceof Error&&(Et.message=R.message)}if(Et.$name)throw new Error("$name property is reserved for worker serialization logic.");return gt!=="Object"&&(Et.$name=gt),Et}throw new Error("can't serialize object of type "+typeof R)}function ft(R){if(R==null||typeof R=="boolean"||typeof R=="number"||typeof R=="string"||R instanceof Boolean||R instanceof Number||R instanceof String||R instanceof Date||R instanceof RegExp||Ye(R)||nt(R)||ArrayBuffer.isView(R)||R instanceof si)return R;if(Array.isArray(R))return R.map(ft);if(typeof R=="object"){var D=R.$name||"Object",W=bi[D],ae=W.klass;if(!ae)throw new Error("can't deserialize unregistered class "+D);if(ae.deserialize)return ae.deserialize(R);for(var de=Object.create(ae.prototype),Ee=0,Ie=Object.keys(R);Ee<Ie.length;Ee+=1){var tt=Ie[Ee];if(tt!=="$name"){var gt=R[tt];de[tt]=bi[D].shallow.indexOf(tt)>=0?gt:ft(gt)}}return de}throw new Error("can't deserialize object of type "+typeof R)}var kt=function(){this.first=!0};kt.prototype.update=function(D,W){var ae=Math.floor(D);return this.first?(this.first=!1,this.lastIntegerZoom=ae,this.lastIntegerZoomTime=0,this.lastZoom=D,this.lastFloorZoom=ae,!0):(this.lastFloorZoom>ae?(this.lastIntegerZoom=ae+1,this.lastIntegerZoomTime=W):this.lastFloorZoom<ae&&(this.lastIntegerZoom=ae,this.lastIntegerZoomTime=W),D!==this.lastZoom?(this.lastZoom=D,this.lastFloorZoom=ae,!0):!1)};var mt={"Latin-1 Supplement":function(R){return R>=128&&R<=255},Arabic:function(R){return R>=1536&&R<=1791},"Arabic Supplement":function(R){return R>=1872&&R<=1919},"Arabic Extended-A":function(R){return R>=2208&&R<=2303},"Hangul Jamo":function(R){return R>=4352&&R<=4607},"Unified Canadian Aboriginal Syllabics":function(R){return R>=5120&&R<=5759},Khmer:function(R){return R>=6016&&R<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(R){return R>=6320&&R<=6399},"General Punctuation":function(R){return R>=8192&&R<=8303},"Letterlike Symbols":function(R){return R>=8448&&R<=8527},"Number Forms":function(R){return R>=8528&&R<=8591},"Miscellaneous Technical":function(R){return R>=8960&&R<=9215},"Control Pictures":function(R){return R>=9216&&R<=9279},"Optical Character Recognition":function(R){return R>=9280&&R<=9311},"Enclosed Alphanumerics":function(R){return R>=9312&&R<=9471},"Geometric Shapes":function(R){return R>=9632&&R<=9727},"Miscellaneous Symbols":function(R){return R>=9728&&R<=9983},"Miscellaneous Symbols and Arrows":function(R){return R>=11008&&R<=11263},"CJK Radicals Supplement":function(R){return R>=11904&&R<=12031},"Kangxi Radicals":function(R){return R>=12032&&R<=12255},"Ideographic Description Characters":function(R){return R>=12272&&R<=12287},"CJK Symbols and Punctuation":function(R){return R>=12288&&R<=12351},Hiragana:function(R){return R>=12352&&R<=12447},Katakana:function(R){return R>=12448&&R<=12543},Bopomofo:function(R){return R>=12544&&R<=12591},"Hangul Compatibility Jamo":function(R){return R>=12592&&R<=12687},Kanbun:function(R){return R>=12688&&R<=12703},"Bopomofo Extended":function(R){return R>=12704&&R<=12735},"CJK Strokes":function(R){return R>=12736&&R<=12783},"Katakana Phonetic Extensions":function(R){return R>=12784&&R<=12799},"Enclosed CJK Letters and Months":function(R){return R>=12800&&R<=13055},"CJK Compatibility":function(R){return R>=13056&&R<=13311},"CJK Unified Ideographs Extension A":function(R){return R>=13312&&R<=19903},"Yijing Hexagram Symbols":function(R){return R>=19904&&R<=19967},"CJK Unified Ideographs":function(R){return R>=19968&&R<=40959},"Yi Syllables":function(R){return R>=40960&&R<=42127},"Yi Radicals":function(R){return R>=42128&&R<=42191},"Hangul Jamo Extended-A":function(R){return R>=43360&&R<=43391},"Hangul Syllables":function(R){return R>=44032&&R<=55215},"Hangul Jamo Extended-B":function(R){return R>=55216&&R<=55295},"Private Use Area":function(R){return R>=57344&&R<=63743},"CJK Compatibility Ideographs":function(R){return R>=63744&&R<=64255},"Arabic Presentation Forms-A":function(R){return R>=64336&&R<=65023},"Vertical Forms":function(R){return R>=65040&&R<=65055},"CJK Compatibility Forms":function(R){return R>=65072&&R<=65103},"Small Form Variants":function(R){return R>=65104&&R<=65135},"Arabic Presentation Forms-B":function(R){return R>=65136&&R<=65279},"Halfwidth and Fullwidth Forms":function(R){return R>=65280&&R<=65519}};function Wt(R){for(var D=0,W=R;D<W.length;D+=1){var ae=W[D];if(Rr(ae.charCodeAt(0)))return!0}return!1}function ar(R){for(var D=0,W=R;D<W.length;D+=1){var ae=W[D];if(!sr(ae.charCodeAt(0)))return!1}return!0}function sr(R){return!(mt.Arabic(R)||mt["Arabic Supplement"](R)||mt["Arabic Extended-A"](R)||mt["Arabic Presentation Forms-A"](R)||mt["Arabic Presentation Forms-B"](R))}function Ir(R){return R<11904?!1:!!(mt["Bopomofo Extended"](R)||mt.Bopomofo(R)||mt["CJK Compatibility Forms"](R)||mt["CJK Compatibility Ideographs"](R)||mt["CJK Compatibility"](R)||mt["CJK Radicals Supplement"](R)||mt["CJK Strokes"](R)||mt["CJK Symbols and Punctuation"](R)||mt["CJK Unified Ideographs Extension A"](R)||mt["CJK Unified Ideographs"](R)||mt["Enclosed CJK Letters and Months"](R)||mt["Halfwidth and Fullwidth Forms"](R)||mt.Hiragana(R)||mt["Ideographic Description Characters"](R)||mt["Kangxi Radicals"](R)||mt["Katakana Phonetic Extensions"](R)||mt.Katakana(R)||mt["Vertical Forms"](R)||mt["Yi Radicals"](R)||mt["Yi Syllables"](R))}function Rr(R){return R===746||R===747?!0:R<4352?!1:!!(mt["Bopomofo Extended"](R)||mt.Bopomofo(R)||mt["CJK Compatibility Forms"](R)&&!(R>=65097&&R<=65103)||mt["CJK Compatibility Ideographs"](R)||mt["CJK Compatibility"](R)||mt["CJK Radicals Supplement"](R)||mt["CJK Strokes"](R)||mt["CJK Symbols and Punctuation"](R)&&!(R>=12296&&R<=12305)&&!(R>=12308&&R<=12319)&&R!==12336||mt["CJK Unified Ideographs Extension A"](R)||mt["CJK Unified Ideographs"](R)||mt["Enclosed CJK Letters and Months"](R)||mt["Hangul Compatibility Jamo"](R)||mt["Hangul Jamo Extended-A"](R)||mt["Hangul Jamo Extended-B"](R)||mt["Hangul Jamo"](R)||mt["Hangul Syllables"](R)||mt.Hiragana(R)||mt["Ideographic Description Characters"](R)||mt.Kanbun(R)||mt["Kangxi Radicals"](R)||mt["Katakana Phonetic Extensions"](R)||mt.Katakana(R)&&R!==12540||mt["Halfwidth and Fullwidth Forms"](R)&&R!==65288&&R!==65289&&R!==65293&&!(R>=65306&&R<=65310)&&R!==65339&&R!==65341&&R!==65343&&!(R>=65371&&R<=65503)&&R!==65507&&!(R>=65512&&R<=65519)||mt["Small Form Variants"](R)&&!(R>=65112&&R<=65118)&&!(R>=65123&&R<=65126)||mt["Unified Canadian Aboriginal Syllabics"](R)||mt["Unified Canadian Aboriginal Syllabics Extended"](R)||mt["Vertical Forms"](R)||mt["Yijing Hexagram Symbols"](R)||mt["Yi Syllables"](R)||mt["Yi Radicals"](R))}function Kr(R){return!!(mt["Latin-1 Supplement"](R)&&(R===167||R===169||R===174||R===177||R===188||R===189||R===190||R===215||R===247)||mt["General Punctuation"](R)&&(R===8214||R===8224||R===8225||R===8240||R===8241||R===8251||R===8252||R===8258||R===8263||R===8264||R===8265||R===8273)||mt["Letterlike Symbols"](R)||mt["Number Forms"](R)||mt["Miscellaneous Technical"](R)&&(R>=8960&&R<=8967||R>=8972&&R<=8991||R>=8996&&R<=9e3||R===9003||R>=9085&&R<=9114||R>=9150&&R<=9165||R===9167||R>=9169&&R<=9179||R>=9186&&R<=9215)||mt["Control Pictures"](R)&&R!==9251||mt["Optical Character Recognition"](R)||mt["Enclosed Alphanumerics"](R)||mt["Geometric Shapes"](R)||mt["Miscellaneous Symbols"](R)&&!(R>=9754&&R<=9759)||mt["Miscellaneous Symbols and Arrows"](R)&&(R>=11026&&R<=11055||R>=11088&&R<=11097||R>=11192&&R<=11243)||mt["CJK Symbols and Punctuation"](R)||mt.Katakana(R)||mt["Private Use Area"](R)||mt["CJK Compatibility Forms"](R)||mt["Small Form Variants"](R)||mt["Halfwidth and Fullwidth Forms"](R)||R===8734||R===8756||R===8757||R>=9984&&R<=10087||R>=10102&&R<=10131||R===65532||R===65533)}function an(R){return!(Rr(R)||Kr(R))}function Fr(R){return mt.Arabic(R)||mt["Arabic Supplement"](R)||mt["Arabic Extended-A"](R)||mt["Arabic Presentation Forms-A"](R)||mt["Arabic Presentation Forms-B"](R)}function Gr(R){return R>=1424&&R<=2303||mt["Arabic Presentation Forms-A"](R)||mt["Arabic Presentation Forms-B"](R)}function Zr(R,D){return!(!D&&Gr(R)||R>=2304&&R<=3583||R>=3840&&R<=4255||mt.Khmer(R))}function ln(R){for(var D=0,W=R;D<W.length;D+=1){var ae=W[D];if(Gr(ae.charCodeAt(0)))return!0}return!1}function dn(R,D){for(var W=0,ae=R;W<ae.length;W+=1){var de=ae[W];if(!Zr(de.charCodeAt(0),D))return!1}return!0}var Xr={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},Bn=null,Jn=Xr.unavailable,na=null,ca=function(R){R&&typeof R=="string"&&R.indexOf("NetworkError")>-1&&(Jn=Xr.error),Bn&&Bn(R)};function Ea(){Aa.fire(new Xt("pluginStateChange",{pluginStatus:Jn,pluginURL:na}))}var Aa=new ur,Ua=function(){return Jn},Pa=function(R){return R({pluginStatus:Jn,pluginURL:na}),Aa.on("pluginStateChange",R),R},Ga=function(R,D,W){if(W===void 0&&(W=!1),Jn===Xr.deferred||Jn===Xr.loading||Jn===Xr.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");na=se.resolveURL(R),Jn=Xr.deferred,Bn=D,Ea(),W||ni()},ni=function(){if(Jn!==Xr.deferred||!na)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Jn=Xr.loading,Ea(),na&&Pt({url:na},function(R){R?ca(R):(Jn=Xr.loaded,Ea())})},ii={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Jn===Xr.loaded||ii.applyArabicShaping!=null},isLoading:function(){return Jn===Xr.loading},setState:function(D){Jn=D.pluginStatus,na=D.pluginURL},isParsed:function(){return ii.applyArabicShaping!=null&&ii.processBidirectionalText!=null&&ii.processStyledBidirectionalText!=null},getPluginURL:function(){return na}},di=function(){!ii.isLoading()&&!ii.isLoaded()&&Ua()==="deferred"&&ni()},Wn=function(D,W){this.zoom=D,W?(this.now=W.now,this.fadeDuration=W.fadeDuration,this.zoomHistory=W.zoomHistory,this.transition=W.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new kt,this.transition={})};Wn.prototype.isSupportedScript=function(D){return dn(D,ii.isLoaded())},Wn.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Wn.prototype.getCrossfadeParameters=function(){var D=this.zoom,W=D-Math.floor(D),ae=this.crossFadingFactor();return D>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:W+(1-W)*ae}:{fromScale:.5,toScale:1,t:1-(1-ae)*W}};var Ha=function(D,W){this.property=D,this.value=W,this.expression=wc(W===void 0?D.specification.default:W,D.specification)};Ha.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Ha.prototype.possiblyEvaluate=function(D,W,ae){return this.property.possiblyEvaluate(this,D,W,ae)};var Na=function(D){this.property=D,this.value=new Ha(D,void 0)};Na.prototype.transitioned=function(D,W){return new Mi(this.property,this.value,W,l({},D.transition,this.transition),D.now)},Na.prototype.untransitioned=function(){return new Mi(this.property,this.value,null,{},0)};var Xa=function(D){this._properties=D,this._values=Object.create(D.defaultTransitionablePropertyValues)};Xa.prototype.getValue=function(D){return m(this._values[D].value.value)},Xa.prototype.setValue=function(D,W){this._values.hasOwnProperty(D)||(this._values[D]=new Na(this._values[D].property)),this._values[D].value=new Ha(this._values[D].property,W===null?void 0:m(W))},Xa.prototype.getTransition=function(D){return m(this._values[D].transition)},Xa.prototype.setTransition=function(D,W){this._values.hasOwnProperty(D)||(this._values[D]=new Na(this._values[D].property)),this._values[D].transition=m(W)||void 0},Xa.prototype.serialize=function(){for(var D={},W=0,ae=Object.keys(this._values);W<ae.length;W+=1){var de=ae[W],Ee=this.getValue(de);Ee!==void 0&&(D[de]=Ee);var Ie=this.getTransition(de);Ie!==void 0&&(D[de+"-transition"]=Ie)}return D},Xa.prototype.transitioned=function(D,W){for(var ae=new Oi(this._properties),de=0,Ee=Object.keys(this._values);de<Ee.length;de+=1){var Ie=Ee[de];ae._values[Ie]=this._values[Ie].transitioned(D,W._values[Ie])}return ae},Xa.prototype.untransitioned=function(){for(var D=new Oi(this._properties),W=0,ae=Object.keys(this._values);W<ae.length;W+=1){var de=ae[W];D._values[de]=this._values[de].untransitioned()}return D};var Mi=function(D,W,ae,de,Ee){this.property=D,this.value=W,this.begin=Ee+de.delay||0,this.end=this.begin+de.duration||0,D.specification.transition&&(de.delay||de.duration)&&(this.prior=ae)};Mi.prototype.possiblyEvaluate=function(D,W,ae){var de=D.now||0,Ee=this.value.possiblyEvaluate(D,W,ae),Ie=this.prior;if(Ie){if(de>this.end)return this.prior=null,Ee;if(this.value.isDataDriven())return this.prior=null,Ee;if(de<this.begin)return Ie.possiblyEvaluate(D,W,ae);var tt=(de-this.begin)/(this.end-this.begin);return this.property.interpolate(Ie.possiblyEvaluate(D,W,ae),Ee,n(tt))}else return Ee};var Oi=function(D){this._properties=D,this._values=Object.create(D.defaultTransitioningPropertyValues)};Oi.prototype.possiblyEvaluate=function(D,W,ae){for(var de=new mi(this._properties),Ee=0,Ie=Object.keys(this._values);Ee<Ie.length;Ee+=1){var tt=Ie[Ee];de._values[tt]=this._values[tt].possiblyEvaluate(D,W,ae)}return de},Oi.prototype.hasTransition=function(){for(var D=0,W=Object.keys(this._values);D<W.length;D+=1){var ae=W[D];if(this._values[ae].prior)return!0}return!1};var Xi=function(D){this._properties=D,this._values=Object.create(D.defaultPropertyValues)};Xi.prototype.getValue=function(D){return m(this._values[D].value)},Xi.prototype.setValue=function(D,W){this._values[D]=new Ha(this._values[D].property,W===null?void 0:m(W))},Xi.prototype.serialize=function(){for(var D={},W=0,ae=Object.keys(this._values);W<ae.length;W+=1){var de=ae[W],Ee=this.getValue(de);Ee!==void 0&&(D[de]=Ee)}return D},Xi.prototype.possiblyEvaluate=function(D,W,ae){for(var de=new mi(this._properties),Ee=0,Ie=Object.keys(this._values);Ee<Ie.length;Ee+=1){var tt=Ie[Ee];de._values[tt]=this._values[tt].possiblyEvaluate(D,W,ae)}return de};var wi=function(D,W,ae){this.property=D,this.value=W,this.parameters=ae};wi.prototype.isConstant=function(){return this.value.kind==="constant"},wi.prototype.constantOr=function(D){return this.value.kind==="constant"?this.value.value:D},wi.prototype.evaluate=function(D,W,ae,de){return this.property.evaluate(this.value,this.parameters,D,W,ae,de)};var mi=function(D){this._properties=D,this._values=Object.create(D.defaultPossiblyEvaluatedValues)};mi.prototype.get=function(D){return this._values[D]};var wa=function(D){this.specification=D};wa.prototype.possiblyEvaluate=function(D,W){return D.expression.evaluate(W)},wa.prototype.interpolate=function(D,W,ae){var de=eu[this.specification.type];return de?de(D,W,ae):D};var Ca=function(D,W){this.specification=D,this.overrides=W};Ca.prototype.possiblyEvaluate=function(D,W,ae,de){return D.expression.kind==="constant"||D.expression.kind==="camera"?new wi(this,{kind:"constant",value:D.expression.evaluate(W,null,{},ae,de)},W):new wi(this,D.expression,W)},Ca.prototype.interpolate=function(D,W,ae){if(D.value.kind!=="constant"||W.value.kind!=="constant")return D;if(D.value.value===void 0||W.value.value===void 0)return new wi(this,{kind:"constant",value:void 0},D.parameters);var de=eu[this.specification.type];return de?new wi(this,{kind:"constant",value:de(D.value.value,W.value.value,ae)},D.parameters):D},Ca.prototype.evaluate=function(D,W,ae,de,Ee,Ie){return D.kind==="constant"?D.value:D.evaluate(W,ae,de,Ee,Ie)};var Ai=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(ae,de,Ee,Ie){if(ae.value===void 0)return new wi(this,{kind:"constant",value:void 0},de);if(ae.expression.kind==="constant"){var tt=ae.expression.evaluate(de,null,{},Ee,Ie),gt=ae.property.specification.type==="resolvedImage",Et=gt&&typeof tt!="string"?tt.name:tt,Rt=this._calculate(Et,Et,Et,de);return new wi(this,{kind:"constant",value:Rt},de)}else if(ae.expression.kind==="camera"){var Zt=this._calculate(ae.expression.evaluate({zoom:de.zoom-1}),ae.expression.evaluate({zoom:de.zoom}),ae.expression.evaluate({zoom:de.zoom+1}),de);return new wi(this,{kind:"constant",value:Zt},de)}else return new wi(this,ae.expression,de)},D.prototype.evaluate=function(ae,de,Ee,Ie,tt,gt){if(ae.kind==="source"){var Et=ae.evaluate(de,Ee,Ie,tt,gt);return this._calculate(Et,Et,Et,de)}else return ae.kind==="composite"?this._calculate(ae.evaluate({zoom:Math.floor(de.zoom)-1},Ee,Ie),ae.evaluate({zoom:Math.floor(de.zoom)},Ee,Ie),ae.evaluate({zoom:Math.floor(de.zoom)+1},Ee,Ie),de):ae.value},D.prototype._calculate=function(ae,de,Ee,Ie){var tt=Ie.zoom;return tt>Ie.zoomHistory.lastIntegerZoom?{from:ae,to:de}:{from:Ee,to:de}},D.prototype.interpolate=function(ae){return ae},D}(Ca),Gi=function(D){this.specification=D};Gi.prototype.possiblyEvaluate=function(D,W,ae,de){if(D.value!==void 0)if(D.expression.kind==="constant"){var Ee=D.expression.evaluate(W,null,{},ae,de);return this._calculate(Ee,Ee,Ee,W)}else return this._calculate(D.expression.evaluate(new Wn(Math.floor(W.zoom-1),W)),D.expression.evaluate(new Wn(Math.floor(W.zoom),W)),D.expression.evaluate(new Wn(Math.floor(W.zoom+1),W)),W)},Gi.prototype._calculate=function(D,W,ae,de){var Ee=de.zoom;return Ee>de.zoomHistory.lastIntegerZoom?{from:D,to:W}:{from:ae,to:W}},Gi.prototype.interpolate=function(D){return D};var Wo=function(D){this.specification=D};Wo.prototype.possiblyEvaluate=function(D,W,ae,de){return!!D.expression.evaluate(W,null,{},ae,de)},Wo.prototype.interpolate=function(){return!1};var ao=function(D){this.properties=D,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var W in D){var ae=D[W];ae.specification.overridable&&this.overridableProperties.push(W);var de=this.defaultPropertyValues[W]=new Ha(ae,void 0),Ee=this.defaultTransitionablePropertyValues[W]=new Na(ae);this.defaultTransitioningPropertyValues[W]=Ee.untransitioned(),this.defaultPossiblyEvaluatedValues[W]=de.possiblyEvaluate({})}};ue("DataDrivenProperty",Ca),ue("DataConstantProperty",wa),ue("CrossFadedDataDrivenProperty",Ai),ue("CrossFadedProperty",Gi),ue("ColorRampProperty",Wo);var to="-transition",Ri=function(R){function D(W,ae){if(R.call(this),this.id=W.id,this.type=W.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},W.type!=="custom"&&(W=W,this.metadata=W.metadata,this.minzoom=W.minzoom,this.maxzoom=W.maxzoom,W.type!=="background"&&(this.source=W.source,this.sourceLayer=W["source-layer"],this.filter=W.filter),ae.layout&&(this._unevaluatedLayout=new Xi(ae.layout)),ae.paint)){this._transitionablePaint=new Xa(ae.paint);for(var de in W.paint)this.setPaintProperty(de,W.paint[de],{validate:!1});for(var Ee in W.layout)this.setLayoutProperty(Ee,W.layout[Ee],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new mi(ae.paint)}}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},D.prototype.getLayoutProperty=function(ae){return ae==="visibility"?this.visibility:this._unevaluatedLayout.getValue(ae)},D.prototype.setLayoutProperty=function(ae,de,Ee){if(Ee===void 0&&(Ee={}),de!=null){var Ie="layers."+this.id+".layout."+ae;if(this._validate(pa,Ie,ae,de,Ee))return}if(ae==="visibility"){this.visibility=de;return}this._unevaluatedLayout.setValue(ae,de)},D.prototype.getPaintProperty=function(ae){return w(ae,to)?this._transitionablePaint.getTransition(ae.slice(0,-to.length)):this._transitionablePaint.getValue(ae)},D.prototype.setPaintProperty=function(ae,de,Ee){if(Ee===void 0&&(Ee={}),de!=null){var Ie="layers."+this.id+".paint."+ae;if(this._validate(Dn,Ie,ae,de,Ee))return!1}if(w(ae,to))return this._transitionablePaint.setTransition(ae.slice(0,-to.length),de||void 0),!1;var tt=this._transitionablePaint._values[ae],gt=tt.property.specification["property-type"]==="cross-faded-data-driven",Et=tt.value.isDataDriven(),Rt=tt.value;this._transitionablePaint.setValue(ae,de),this._handleSpecialPaintPropertyUpdate(ae);var Zt=this._transitionablePaint._values[ae].value,fr=Zt.isDataDriven();return fr||Et||gt||this._handleOverridablePaintPropertyUpdate(ae,Rt,Zt)},D.prototype._handleSpecialPaintPropertyUpdate=function(ae){},D.prototype._handleOverridablePaintPropertyUpdate=function(ae,de,Ee){return!1},D.prototype.isHidden=function(ae){return this.minzoom&&ae<this.minzoom||this.maxzoom&&ae>=this.maxzoom?!0:this.visibility==="none"},D.prototype.updateTransitions=function(ae){this._transitioningPaint=this._transitionablePaint.transitioned(ae,this._transitioningPaint)},D.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},D.prototype.recalculate=function(ae,de){ae.getCrossfadeParameters&&(this._crossfadeParameters=ae.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(ae,void 0,de)),this.paint=this._transitioningPaint.possiblyEvaluate(ae,void 0,de)},D.prototype.serialize=function(){var ae={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(ae.layout=ae.layout||{},ae.layout.visibility=this.visibility),L(ae,function(de,Ee){return de!==void 0&&!(Ee==="layout"&&!Object.keys(de).length)&&!(Ee==="paint"&&!Object.keys(de).length)})},D.prototype._validate=function(ae,de,Ee,Ie,tt){return tt===void 0&&(tt={}),tt&&tt.validate===!1?!1:Ra(this,ae.call(wn,{key:de,layerType:this.type,objectKey:Ee,value:Ie,styleSpec:Jt,style:{glyphs:!0,sprite:!0}}))},D.prototype.is3D=function(){return!1},D.prototype.isTileClipped=function(){return!1},D.prototype.hasOffscreenPass=function(){return!1},D.prototype.resize=function(){},D.prototype.isStateDependent=function(){for(var ae in this.paint._values){var de=this.paint.get(ae);if(!(!(de instanceof wi)||!_s(de.property.specification))&&(de.value.kind==="source"||de.value.kind==="composite")&&de.value.isStateDependent)return!0}return!1},D}(ur),ps={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},oi=function(D,W){this._structArray=D,this._pos1=W*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Ds=128,rs=5,ei=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};ei.serialize=function(D,W){return D._trim(),W&&(D.isTransferred=!0,W.push(D.arrayBuffer)),{length:D.length,arrayBuffer:D.arrayBuffer}},ei.deserialize=function(D){var W=Object.create(this.prototype);return W.arrayBuffer=D.arrayBuffer,W.length=D.length,W.capacity=D.arrayBuffer.byteLength/W.bytesPerElement,W._refreshViews(),W},ei.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},ei.prototype.clear=function(){this.length=0},ei.prototype.resize=function(D){this.reserve(D),this.length=D},ei.prototype.reserve=function(D){if(D>this.capacity){this.capacity=Math.max(D,Math.floor(this.capacity*rs),Ds),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var W=this.uint8;this._refreshViews(),W&&this.uint8.set(W)}},ei.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function Si(R,D){D===void 0&&(D=1);var W=0,ae=0,de=R.map(function(Ie){var tt=Mc(Ie.type),gt=W=Vf(W,Math.max(D,tt)),Et=Ie.components||1;return ae=Math.max(ae,tt),W+=tt*Et,{name:Ie.name,type:Ie.type,components:Et,offset:gt}}),Ee=Vf(W,Math.max(ae,D));return{members:de,size:Ee,alignment:D}}function Mc(R){return ps[R].BYTES_PER_ELEMENT}function Vf(R,D){return Math.ceil(R/D)*D}var $c=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,ae,de)},D.prototype.emplace=function(ae,de,Ee){var Ie=ae*2;return this.int16[Ie+0]=de,this.int16[Ie+1]=Ee,ae},D}(ei);$c.prototype.bytesPerElement=4,ue("StructArrayLayout2i4",$c);var sf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Ee,Ie){var tt=this.length;return this.resize(tt+1),this.emplace(tt,ae,de,Ee,Ie)},D.prototype.emplace=function(ae,de,Ee,Ie,tt){var gt=ae*4;return this.int16[gt+0]=de,this.int16[gt+1]=Ee,this.int16[gt+2]=Ie,this.int16[gt+3]=tt,ae},D}(ei);sf.prototype.bytesPerElement=8,ue("StructArrayLayout4i8",sf);var Gf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Ee,Ie,tt,gt){var Et=this.length;return this.resize(Et+1),this.emplace(Et,ae,de,Ee,Ie,tt,gt)},D.prototype.emplace=function(ae,de,Ee,Ie,tt,gt,Et){var Rt=ae*6;return this.int16[Rt+0]=de,this.int16[Rt+1]=Ee,this.int16[Rt+2]=Ie,this.int16[Rt+3]=tt,this.int16[Rt+4]=gt,this.int16[Rt+5]=Et,ae},D}(ei);Gf.prototype.bytesPerElement=12,ue("StructArrayLayout2i4i12",Gf);var mh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Ee,Ie,tt,gt){var Et=this.length;return this.resize(Et+1),this.emplace(Et,ae,de,Ee,Ie,tt,gt)},D.prototype.emplace=function(ae,de,Ee,Ie,tt,gt,Et){var Rt=ae*4,Zt=ae*8;return this.int16[Rt+0]=de,this.int16[Rt+1]=Ee,this.uint8[Zt+4]=Ie,this.uint8[Zt+5]=tt,this.uint8[Zt+6]=gt,this.uint8[Zt+7]=Et,ae},D}(ei);mh.prototype.bytesPerElement=8,ue("StructArrayLayout2i4ub8",mh);var ns=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Ee,Ie,tt,gt,Et,Rt,Zt,fr){var nr=this.length;return this.resize(nr+1),this.emplace(nr,ae,de,Ee,Ie,tt,gt,Et,Rt,Zt,fr)},D.prototype.emplace=function(ae,de,Ee,Ie,tt,gt,Et,Rt,Zt,fr,nr){var Sr=ae*9,Vr=ae*18;return this.uint16[Sr+0]=de,this.uint16[Sr+1]=Ee,this.uint16[Sr+2]=Ie,this.uint16[Sr+3]=tt,this.uint16[Sr+4]=gt,this.uint16[Sr+5]=Et,this.uint16[Sr+6]=Rt,this.uint16[Sr+7]=Zt,this.uint8[Vr+16]=fr,this.uint8[Vr+17]=nr,ae},D}(ei);ns.prototype.bytesPerElement=18,ue("StructArrayLayout8ui2ub18",ns);var su=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Ee,Ie,tt,gt,Et,Rt,Zt,fr,nr,Sr){var Vr=this.length;return this.resize(Vr+1),this.emplace(Vr,ae,de,Ee,Ie,tt,gt,Et,Rt,Zt,fr,nr,Sr)},D.prototype.emplace=function(ae,de,Ee,Ie,tt,gt,Et,Rt,Zt,fr,nr,Sr,Vr){var un=ae*12;return this.int16[un+0]=de,this.int16[un+1]=Ee,this.int16[un+2]=Ie,this.int16[un+3]=tt,this.uint16[un+4]=gt,this.uint16[un+5]=Et,this.uint16[un+6]=Rt,this.uint16[un+7]=Zt,this.int16[un+8]=fr,this.int16[un+9]=nr,this.int16[un+10]=Sr,this.int16[un+11]=Vr,ae},D}(ei);su.prototype.bytesPerElement=24,ue("StructArrayLayout4i4ui4i24",su);var xh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Ee){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,ae,de,Ee)},D.prototype.emplace=function(ae,de,Ee,Ie){var tt=ae*3;return this.float32[tt+0]=de,this.float32[tt+1]=Ee,this.float32[tt+2]=Ie,ae},D}(ei);xh.prototype.bytesPerElement=12,ue("StructArrayLayout3f12",xh);var Iu=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae){var de=this.length;return this.resize(de+1),this.emplace(de,ae)},D.prototype.emplace=function(ae,de){var Ee=ae*1;return this.uint32[Ee+0]=de,ae},D}(ei);Iu.prototype.bytesPerElement=4,ue("StructArrayLayout1ul4",Iu);var Cc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Ee,Ie,tt,gt,Et,Rt,Zt){var fr=this.length;return this.resize(fr+1),this.emplace(fr,ae,de,Ee,Ie,tt,gt,Et,Rt,Zt)},D.prototype.emplace=function(ae,de,Ee,Ie,tt,gt,Et,Rt,Zt,fr){var nr=ae*10,Sr=ae*5;return this.int16[nr+0]=de,this.int16[nr+1]=Ee,this.int16[nr+2]=Ie,this.int16[nr+3]=tt,this.int16[nr+4]=gt,this.int16[nr+5]=Et,this.uint32[Sr+3]=Rt,this.uint16[nr+8]=Zt,this.uint16[nr+9]=fr,ae},D}(ei);Cc.prototype.bytesPerElement=20,ue("StructArrayLayout6i1ul2ui20",Cc);var Lc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Ee,Ie,tt,gt){var Et=this.length;return this.resize(Et+1),this.emplace(Et,ae,de,Ee,Ie,tt,gt)},D.prototype.emplace=function(ae,de,Ee,Ie,tt,gt,Et){var Rt=ae*6;return this.int16[Rt+0]=de,this.int16[Rt+1]=Ee,this.int16[Rt+2]=Ie,this.int16[Rt+3]=tt,this.int16[Rt+4]=gt,this.int16[Rt+5]=Et,ae},D}(ei);Lc.prototype.bytesPerElement=12,ue("StructArrayLayout2i2i2i12",Lc);var ku=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Ee,Ie,tt){var gt=this.length;return this.resize(gt+1),this.emplace(gt,ae,de,Ee,Ie,tt)},D.prototype.emplace=function(ae,de,Ee,Ie,tt,gt){var Et=ae*4,Rt=ae*8;return this.float32[Et+0]=de,this.float32[Et+1]=Ee,this.float32[Et+2]=Ie,this.int16[Rt+6]=tt,this.int16[Rt+7]=gt,ae},D}(ei);ku.prototype.bytesPerElement=16,ue("StructArrayLayout2f1f2i16",ku);var gs=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Ee,Ie){var tt=this.length;return this.resize(tt+1),this.emplace(tt,ae,de,Ee,Ie)},D.prototype.emplace=function(ae,de,Ee,Ie,tt){var gt=ae*12,Et=ae*3;return this.uint8[gt+0]=de,this.uint8[gt+1]=Ee,this.float32[Et+1]=Ie,this.float32[Et+2]=tt,ae},D}(ei);gs.prototype.bytesPerElement=12,ue("StructArrayLayout2ub2f12",gs);var Ou=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Ee){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,ae,de,Ee)},D.prototype.emplace=function(ae,de,Ee,Ie){var tt=ae*3;return this.uint16[tt+0]=de,this.uint16[tt+1]=Ee,this.uint16[tt+2]=Ie,ae},D}(ei);Ou.prototype.bytesPerElement=6,ue("StructArrayLayout3ui6",Ou);var Wf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Ee,Ie,tt,gt,Et,Rt,Zt,fr,nr,Sr,Vr,un,tn,Rn,Tn){var _n=this.length;return this.resize(_n+1),this.emplace(_n,ae,de,Ee,Ie,tt,gt,Et,Rt,Zt,fr,nr,Sr,Vr,un,tn,Rn,Tn)},D.prototype.emplace=function(ae,de,Ee,Ie,tt,gt,Et,Rt,Zt,fr,nr,Sr,Vr,un,tn,Rn,Tn,_n){var zn=ae*24,jn=ae*12,fa=ae*48;return this.int16[zn+0]=de,this.int16[zn+1]=Ee,this.uint16[zn+2]=Ie,this.uint16[zn+3]=tt,this.uint32[jn+2]=gt,this.uint32[jn+3]=Et,this.uint32[jn+4]=Rt,this.uint16[zn+10]=Zt,this.uint16[zn+11]=fr,this.uint16[zn+12]=nr,this.float32[jn+7]=Sr,this.float32[jn+8]=Vr,this.uint8[fa+36]=un,this.uint8[fa+37]=tn,this.uint8[fa+38]=Rn,this.uint32[jn+10]=Tn,this.int16[zn+22]=_n,ae},D}(ei);Wf.prototype.bytesPerElement=48,ue("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Wf);var bh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Ee,Ie,tt,gt,Et,Rt,Zt,fr,nr,Sr,Vr,un,tn,Rn,Tn,_n,zn,jn,fa,oa,Da,ya,Sa,Ya,Ma,_a){var $a=this.length;return this.resize($a+1),this.emplace($a,ae,de,Ee,Ie,tt,gt,Et,Rt,Zt,fr,nr,Sr,Vr,un,tn,Rn,Tn,_n,zn,jn,fa,oa,Da,ya,Sa,Ya,Ma,_a)},D.prototype.emplace=function(ae,de,Ee,Ie,tt,gt,Et,Rt,Zt,fr,nr,Sr,Vr,un,tn,Rn,Tn,_n,zn,jn,fa,oa,Da,ya,Sa,Ya,Ma,_a,$a){var Wa=ae*34,ci=ae*17;return this.int16[Wa+0]=de,this.int16[Wa+1]=Ee,this.int16[Wa+2]=Ie,this.int16[Wa+3]=tt,this.int16[Wa+4]=gt,this.int16[Wa+5]=Et,this.int16[Wa+6]=Rt,this.int16[Wa+7]=Zt,this.uint16[Wa+8]=fr,this.uint16[Wa+9]=nr,this.uint16[Wa+10]=Sr,this.uint16[Wa+11]=Vr,this.uint16[Wa+12]=un,this.uint16[Wa+13]=tn,this.uint16[Wa+14]=Rn,this.uint16[Wa+15]=Tn,this.uint16[Wa+16]=_n,this.uint16[Wa+17]=zn,this.uint16[Wa+18]=jn,this.uint16[Wa+19]=fa,this.uint16[Wa+20]=oa,this.uint16[Wa+21]=Da,this.uint16[Wa+22]=ya,this.uint32[ci+12]=Sa,this.float32[ci+13]=Ya,this.float32[ci+14]=Ma,this.float32[ci+15]=_a,this.float32[ci+16]=$a,ae},D}(ei);bh.prototype.bytesPerElement=68,ue("StructArrayLayout8i15ui1ul4f68",bh);var Pc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae){var de=this.length;return this.resize(de+1),this.emplace(de,ae)},D.prototype.emplace=function(ae,de){var Ee=ae*1;return this.float32[Ee+0]=de,ae},D}(ei);Pc.prototype.bytesPerElement=4,ue("StructArrayLayout1f4",Pc);var qh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Ee){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,ae,de,Ee)},D.prototype.emplace=function(ae,de,Ee,Ie){var tt=ae*3;return this.int16[tt+0]=de,this.int16[tt+1]=Ee,this.int16[tt+2]=Ie,ae},D}(ei);qh.prototype.bytesPerElement=6,ue("StructArrayLayout3i6",qh);var zu=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Ee){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,ae,de,Ee)},D.prototype.emplace=function(ae,de,Ee,Ie){var tt=ae*2,gt=ae*4;return this.uint32[tt+0]=de,this.uint16[gt+2]=Ee,this.uint16[gt+3]=Ie,ae},D}(ei);zu.prototype.bytesPerElement=8,ue("StructArrayLayout1ul2ui8",zu);var Yf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,ae,de)},D.prototype.emplace=function(ae,de,Ee){var Ie=ae*2;return this.uint16[Ie+0]=de,this.uint16[Ie+1]=Ee,ae},D}(ei);Yf.prototype.bytesPerElement=4,ue("StructArrayLayout2ui4",Yf);var _c=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae){var de=this.length;return this.resize(de+1),this.emplace(de,ae)},D.prototype.emplace=function(ae,de){var Ee=ae*1;return this.uint16[Ee+0]=de,ae},D}(ei);_c.prototype.bytesPerElement=2,ue("StructArrayLayout1ui2",_c);var Is=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,ae,de)},D.prototype.emplace=function(ae,de,Ee){var Ie=ae*2;return this.float32[Ie+0]=de,this.float32[Ie+1]=Ee,ae},D}(ei);Is.prototype.bytesPerElement=8,ue("StructArrayLayout2f8",Is);var ev=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Ee,Ie){var tt=this.length;return this.resize(tt+1),this.emplace(tt,ae,de,Ee,Ie)},D.prototype.emplace=function(ae,de,Ee,Ie,tt){var gt=ae*4;return this.float32[gt+0]=de,this.float32[gt+1]=Ee,this.float32[gt+2]=Ie,this.float32[gt+3]=tt,ae},D}(ei);ev.prototype.bytesPerElement=16,ue("StructArrayLayout4f16",ev);var qd=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var W={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return W.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},W.x1.get=function(){return this._structArray.int16[this._pos2+2]},W.y1.get=function(){return this._structArray.int16[this._pos2+3]},W.x2.get=function(){return this._structArray.int16[this._pos2+4]},W.y2.get=function(){return this._structArray.int16[this._pos2+5]},W.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},W.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},W.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},W.anchorPoint.get=function(){return new t(this.anchorPointX,this.anchorPointY)},Object.defineProperties(D.prototype,W),D}(oi);qd.prototype.size=20;var ys=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(ae){return new qd(this,ae)},D}(Cc);ue("CollisionBoxArray",ys);var tv=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var W={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return W.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},W.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},W.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},W.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},W.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},W.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},W.segment.get=function(){return this._structArray.uint16[this._pos2+10]},W.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},W.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},W.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},W.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},W.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},W.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},W.placedOrientation.set=function(ae){this._structArray.uint8[this._pos1+37]=ae},W.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},W.hidden.set=function(ae){this._structArray.uint8[this._pos1+38]=ae},W.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},W.crossTileID.set=function(ae){this._structArray.uint32[this._pos4+10]=ae},W.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(D.prototype,W),D}(oi);tv.prototype.size=48;var Rc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(ae){return new tv(this,ae)},D}(Wf);ue("PlacedSymbolArray",Rc);var Ov=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var W={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return W.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},W.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},W.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},W.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},W.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},W.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},W.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},W.key.get=function(){return this._structArray.uint16[this._pos2+8]},W.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},W.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},W.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},W.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},W.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},W.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},W.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},W.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},W.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},W.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},W.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},W.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},W.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},W.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},W.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},W.crossTileID.set=function(ae){this._structArray.uint32[this._pos4+12]=ae},W.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},W.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},W.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},W.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(D.prototype,W),D}(oi);Ov.prototype.size=68;var zv=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(ae){return new Ov(this,ae)},D}(bh);ue("SymbolInstanceArray",zv);var Hl=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getoffsetX=function(ae){return this.float32[ae*1+0]},D}(Pc);ue("GlyphOffsetArray",Hl);var Fv=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getx=function(ae){return this.int16[ae*3+0]},D.prototype.gety=function(ae){return this.int16[ae*3+1]},D.prototype.gettileUnitDistanceFromAnchor=function(ae){return this.int16[ae*3+2]},D}(qh);ue("SymbolLineVertexArray",Fv);var Nv=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var W={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return W.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},W.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},W.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(D.prototype,W),D}(oi);Nv.prototype.size=8;var rv=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(ae){return new Nv(this,ae)},D}(zu);ue("FeatureIndexArray",rv);var Bv=Si([{name:"a_pos",components:2,type:"Int16"}],4),ve=Bv.members,X=function(D){D===void 0&&(D=[]),this.segments=D};X.prototype.prepareSegment=function(D,W,ae,de){var Ee=this.segments[this.segments.length-1];return D>X.MAX_VERTEX_ARRAY_LENGTH&&U("Max vertices per segment is "+X.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+D),(!Ee||Ee.vertexLength+D>X.MAX_VERTEX_ARRAY_LENGTH||Ee.sortKey!==de)&&(Ee={vertexOffset:W.length,primitiveOffset:ae.length,vertexLength:0,primitiveLength:0},de!==void 0&&(Ee.sortKey=de),this.segments.push(Ee)),Ee},X.prototype.get=function(){return this.segments},X.prototype.destroy=function(){for(var D=0,W=this.segments;D<W.length;D+=1){var ae=W[D];for(var de in ae.vaos)ae.vaos[de].destroy()}},X.simpleSegment=function(D,W,ae,de){return new X([{vertexOffset:D,primitiveOffset:W,vertexLength:ae,primitiveLength:de,vaos:{},sortKey:0}])},X.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ue("SegmentVector",X);function pe(R,D){return R=u(Math.floor(R),0,255),D=u(Math.floor(D),0,255),256*R+D}var ne=Si([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint8"},{name:"a_pixel_ratio_to",components:1,type:"Uint8"}]),ge=C(function(R){function D(W,ae){var de,Ee,Ie,tt,gt,Et,Rt,Zt;for(de=W.length&3,Ee=W.length-de,Ie=ae,gt=3432918353,Et=461845907,Zt=0;Zt<Ee;)Rt=W.charCodeAt(Zt)&255|(W.charCodeAt(++Zt)&255)<<8|(W.charCodeAt(++Zt)&255)<<16|(W.charCodeAt(++Zt)&255)<<24,++Zt,Rt=(Rt&65535)*gt+(((Rt>>>16)*gt&65535)<<16)&4294967295,Rt=Rt<<15|Rt>>>17,Rt=(Rt&65535)*Et+(((Rt>>>16)*Et&65535)<<16)&4294967295,Ie^=Rt,Ie=Ie<<13|Ie>>>19,tt=(Ie&65535)*5+(((Ie>>>16)*5&65535)<<16)&4294967295,Ie=(tt&65535)+27492+(((tt>>>16)+58964&65535)<<16);switch(Rt=0,de){case 3:Rt^=(W.charCodeAt(Zt+2)&255)<<16;case 2:Rt^=(W.charCodeAt(Zt+1)&255)<<8;case 1:Rt^=W.charCodeAt(Zt)&255,Rt=(Rt&65535)*gt+(((Rt>>>16)*gt&65535)<<16)&4294967295,Rt=Rt<<15|Rt>>>17,Rt=(Rt&65535)*Et+(((Rt>>>16)*Et&65535)<<16)&4294967295,Ie^=Rt}return Ie^=W.length,Ie^=Ie>>>16,Ie=(Ie&65535)*2246822507+(((Ie>>>16)*2246822507&65535)<<16)&4294967295,Ie^=Ie>>>13,Ie=(Ie&65535)*3266489909+(((Ie>>>16)*3266489909&65535)<<16)&4294967295,Ie^=Ie>>>16,Ie>>>0}R.exports=D}),Ne=C(function(R){function D(W,ae){for(var de=W.length,Ee=ae^de,Ie=0,tt;de>=4;)tt=W.charCodeAt(Ie)&255|(W.charCodeAt(++Ie)&255)<<8|(W.charCodeAt(++Ie)&255)<<16|(W.charCodeAt(++Ie)&255)<<24,tt=(tt&65535)*1540483477+(((tt>>>16)*1540483477&65535)<<16),tt^=tt>>>24,tt=(tt&65535)*1540483477+(((tt>>>16)*1540483477&65535)<<16),Ee=(Ee&65535)*1540483477+(((Ee>>>16)*1540483477&65535)<<16)^tt,de-=4,++Ie;switch(de){case 3:Ee^=(W.charCodeAt(Ie+2)&255)<<16;case 2:Ee^=(W.charCodeAt(Ie+1)&255)<<8;case 1:Ee^=W.charCodeAt(Ie)&255,Ee=(Ee&65535)*1540483477+(((Ee>>>16)*1540483477&65535)<<16)}return Ee^=Ee>>>13,Ee=(Ee&65535)*1540483477+(((Ee>>>16)*1540483477&65535)<<16),Ee^=Ee>>>15,Ee>>>0}R.exports=D}),Je=ge,De=ge,xe=Ne;Je.murmur3=De,Je.murmur2=xe;var Ge=function(){this.ids=[],this.positions=[],this.indexed=!1};Ge.prototype.add=function(D,W,ae,de){this.ids.push(_t(D)),this.positions.push(W,ae,de)},Ge.prototype.getPositions=function(D){for(var W=_t(D),ae=0,de=this.ids.length-1;ae<de;){var Ee=ae+de>>1;this.ids[Ee]>=W?de=Ee:ae=Ee+1}for(var Ie=[];this.ids[ae]===W;){var tt=this.positions[3*ae],gt=this.positions[3*ae+1],Et=this.positions[3*ae+2];Ie.push({index:tt,start:gt,end:Et}),ae++}return Ie},Ge.serialize=function(D,W){var ae=new Float64Array(D.ids),de=new Uint32Array(D.positions);return Yt(ae,de,0,ae.length-1),W&&W.push(ae.buffer,de.buffer),{ids:ae,positions:de}},Ge.deserialize=function(D){var W=new Ge;return W.ids=D.ids,W.positions=D.positions,W.indexed=!0,W};var dt=Math.pow(2,53)-1;function _t(R){var D=+R;return!isNaN(D)&&D<=dt?D:Je(String(R))}function Yt(R,D,W,ae){for(;W<ae;){for(var de=R[W+ae>>1],Ee=W-1,Ie=ae+1;;){do Ee++;while(R[Ee]<de);do Ie--;while(R[Ie]>de);if(Ee>=Ie)break;qt(R,Ee,Ie),qt(D,3*Ee,3*Ie),qt(D,3*Ee+1,3*Ie+1),qt(D,3*Ee+2,3*Ie+2)}Ie-W<ae-Ie?(Yt(R,D,W,Ie),W=Ie+1):(Yt(R,D,Ie+1,ae),ae=Ie)}}function qt(R,D,W){var ae=R[D];R[D]=R[W],R[W]=ae}ue("FeaturePositionMap",Ge);var yr=function(D,W){this.gl=D.gl,this.location=W},Ar=function(R){function D(W,ae){R.call(this,W,ae),this.current=0}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ae){this.current!==ae&&(this.current=ae,this.gl.uniform1i(this.location,ae))},D}(yr),kr=function(R){function D(W,ae){R.call(this,W,ae),this.current=0}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ae){this.current!==ae&&(this.current=ae,this.gl.uniform1f(this.location,ae))},D}(yr),Or=function(R){function D(W,ae){R.call(this,W,ae),this.current=[0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1])&&(this.current=ae,this.gl.uniform2f(this.location,ae[0],ae[1]))},D}(yr),$r=function(R){function D(W,ae){R.call(this,W,ae),this.current=[0,0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1]||ae[2]!==this.current[2])&&(this.current=ae,this.gl.uniform3f(this.location,ae[0],ae[1],ae[2]))},D}(yr),gn=function(R){function D(W,ae){R.call(this,W,ae),this.current=[0,0,0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1]||ae[2]!==this.current[2]||ae[3]!==this.current[3])&&(this.current=ae,this.gl.uniform4f(this.location,ae[0],ae[1],ae[2],ae[3]))},D}(yr),An=function(R){function D(W,ae){R.call(this,W,ae),this.current=qa.transparent}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ae){(ae.r!==this.current.r||ae.g!==this.current.g||ae.b!==this.current.b||ae.a!==this.current.a)&&(this.current=ae,this.gl.uniform4f(this.location,ae.r,ae.g,ae.b,ae.a))},D}(yr),Nn=new Float32Array(16),In=function(R){function D(W,ae){R.call(this,W,ae),this.current=Nn}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ae){if(ae[12]!==this.current[12]||ae[0]!==this.current[0]){this.current=ae,this.gl.uniformMatrix4fv(this.location,!1,ae);return}for(var de=1;de<16;de++)if(ae[de]!==this.current[de]){this.current=ae,this.gl.uniformMatrix4fv(this.location,!1,ae);break}},D}(yr);function On(R){return[pe(255*R.r,255*R.g),pe(255*R.b,255*R.a)]}var Yn=function(D,W,ae){this.value=D,this.uniformNames=W.map(function(de){return"u_"+de}),this.type=ae};Yn.prototype.setUniform=function(D,W,ae){D.set(ae.constantOr(this.value))},Yn.prototype.getBinding=function(D,W,ae){return this.type==="color"?new An(D,W):new kr(D,W)};var ta=function(D,W){this.uniformNames=W.map(function(ae){return"u_"+ae}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};ta.prototype.setConstantPatternPositions=function(D,W){this.pixelRatioFrom=W.pixelRatio,this.pixelRatioTo=D.pixelRatio,this.patternFrom=W.tlbr,this.patternTo=D.tlbr},ta.prototype.setUniform=function(D,W,ae,de){var Ee=de==="u_pattern_to"?this.patternTo:de==="u_pattern_from"?this.patternFrom:de==="u_pixel_ratio_to"?this.pixelRatioTo:de==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Ee&&D.set(Ee)},ta.prototype.getBinding=function(D,W,ae){return ae.substr(0,9)==="u_pattern"?new gn(D,W):new kr(D,W)};var qn=function(D,W,ae,de){this.expression=D,this.type=ae,this.maxValue=0,this.paintVertexAttributes=W.map(function(Ee){return{name:"a_"+Ee,type:"Float32",components:ae==="color"?2:1,offset:0}}),this.paintVertexArray=new de};qn.prototype.populatePaintArray=function(D,W,ae,de,Ee){var Ie=this.paintVertexArray.length,tt=this.expression.evaluate(new Wn(0),W,{},de,[],Ee);this.paintVertexArray.resize(D),this._setPaintValue(Ie,D,tt)},qn.prototype.updatePaintArray=function(D,W,ae,de){var Ee=this.expression.evaluate({zoom:0},ae,de);this._setPaintValue(D,W,Ee)},qn.prototype._setPaintValue=function(D,W,ae){if(this.type==="color")for(var de=On(ae),Ee=D;Ee<W;Ee++)this.paintVertexArray.emplace(Ee,de[0],de[1]);else{for(var Ie=D;Ie<W;Ie++)this.paintVertexArray.emplace(Ie,ae);this.maxValue=Math.max(this.maxValue,Math.abs(ae))}},qn.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},qn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var $n=function(D,W,ae,de,Ee,Ie){this.expression=D,this.uniformNames=W.map(function(tt){return"u_"+tt+"_t"}),this.type=ae,this.useIntegerZoom=de,this.zoom=Ee,this.maxValue=0,this.paintVertexAttributes=W.map(function(tt){return{name:"a_"+tt,type:"Float32",components:ae==="color"?4:2,offset:0}}),this.paintVertexArray=new Ie};$n.prototype.populatePaintArray=function(D,W,ae,de,Ee){var Ie=this.expression.evaluate(new Wn(this.zoom),W,{},de,[],Ee),tt=this.expression.evaluate(new Wn(this.zoom+1),W,{},de,[],Ee),gt=this.paintVertexArray.length;this.paintVertexArray.resize(D),this._setPaintValue(gt,D,Ie,tt)},$n.prototype.updatePaintArray=function(D,W,ae,de){var Ee=this.expression.evaluate({zoom:this.zoom},ae,de),Ie=this.expression.evaluate({zoom:this.zoom+1},ae,de);this._setPaintValue(D,W,Ee,Ie)},$n.prototype._setPaintValue=function(D,W,ae,de){if(this.type==="color")for(var Ee=On(ae),Ie=On(de),tt=D;tt<W;tt++)this.paintVertexArray.emplace(tt,Ee[0],Ee[1],Ie[0],Ie[1]);else{for(var gt=D;gt<W;gt++)this.paintVertexArray.emplace(gt,ae,de);this.maxValue=Math.max(this.maxValue,Math.abs(ae),Math.abs(de))}},$n.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},$n.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},$n.prototype.setUniform=function(D,W){var ae=this.useIntegerZoom?Math.floor(W.zoom):W.zoom,de=u(this.expression.interpolationFactor(ae,this.zoom,this.zoom+1),0,1);D.set(de)},$n.prototype.getBinding=function(D,W,ae){return new kr(D,W)};var ia=function(D,W,ae,de,Ee,Ie){this.expression=D,this.type=W,this.useIntegerZoom=ae,this.zoom=de,this.layerId=Ie,this.zoomInPaintVertexArray=new Ee,this.zoomOutPaintVertexArray=new Ee};ia.prototype.populatePaintArray=function(D,W,ae){var de=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(D),this.zoomOutPaintVertexArray.resize(D),this._setPaintValues(de,D,W.patterns&&W.patterns[this.layerId],ae)},ia.prototype.updatePaintArray=function(D,W,ae,de,Ee){this._setPaintValues(D,W,ae.patterns&&ae.patterns[this.layerId],Ee)},ia.prototype._setPaintValues=function(D,W,ae,de){if(!(!de||!ae)){var Ee=ae.min,Ie=ae.mid,tt=ae.max,gt=de[Ee],Et=de[Ie],Rt=de[tt];if(!(!gt||!Et||!Rt))for(var Zt=D;Zt<W;Zt++)this.zoomInPaintVertexArray.emplace(Zt,Et.tl[0],Et.tl[1],Et.br[0],Et.br[1],gt.tl[0],gt.tl[1],gt.br[0],gt.br[1],Et.pixelRatio,gt.pixelRatio),this.zoomOutPaintVertexArray.emplace(Zt,Et.tl[0],Et.tl[1],Et.br[0],Et.br[1],Rt.tl[0],Rt.tl[1],Rt.br[0],Rt.br[1],Et.pixelRatio,Rt.pixelRatio)}},ia.prototype.upload=function(D){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=D.createVertexBuffer(this.zoomInPaintVertexArray,ne.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=D.createVertexBuffer(this.zoomOutPaintVertexArray,ne.members,this.expression.isStateDependent))},ia.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var da=function(D,W,ae,de){this.binders={},this.layoutAttributes=de,this._buffers=[];var Ee=[];for(var Ie in D.paint._values)if(ae(Ie)){var tt=D.paint.get(Ie);if(!(!(tt instanceof wi)||!_s(tt.property.specification))){var gt=ja(Ie,D.type),Et=tt.value,Rt=tt.property.specification.type,Zt=tt.property.useIntegerZoom,fr=tt.property.specification["property-type"],nr=fr==="cross-faded"||fr==="cross-faded-data-driven";if(Et.kind==="constant")this.binders[Ie]=nr?new ta(Et.value,gt):new Yn(Et.value,gt,Rt),Ee.push("/u_"+Ie);else if(Et.kind==="source"||nr){var Sr=Va(Ie,Rt,"source");this.binders[Ie]=nr?new ia(Et,Rt,Zt,W,Sr,D.id):new qn(Et,gt,Rt,Sr),Ee.push("/a_"+Ie)}else{var Vr=Va(Ie,Rt,"composite");this.binders[Ie]=new $n(Et,gt,Rt,Zt,W,Vr),Ee.push("/z_"+Ie)}}}this.cacheKey=Ee.sort().join("")};da.prototype.getMaxValue=function(D){var W=this.binders[D];return W instanceof qn||W instanceof $n?W.maxValue:0},da.prototype.populatePaintArrays=function(D,W,ae,de,Ee){for(var Ie in this.binders){var tt=this.binders[Ie];(tt instanceof qn||tt instanceof $n||tt instanceof ia)&&tt.populatePaintArray(D,W,ae,de,Ee)}},da.prototype.setConstantPatternPositions=function(D,W){for(var ae in this.binders){var de=this.binders[ae];de instanceof ta&&de.setConstantPatternPositions(D,W)}},da.prototype.updatePaintArrays=function(D,W,ae,de,Ee){var Ie=!1;for(var tt in D)for(var gt=W.getPositions(tt),Et=0,Rt=gt;Et<Rt.length;Et+=1){var Zt=Rt[Et],fr=ae.feature(Zt.index);for(var nr in this.binders){var Sr=this.binders[nr];if((Sr instanceof qn||Sr instanceof $n||Sr instanceof ia)&&Sr.expression.isStateDependent===!0){var Vr=de.paint.get(nr);Sr.expression=Vr.value,Sr.updatePaintArray(Zt.start,Zt.end,fr,D[tt],Ee),Ie=!0}}}return Ie},da.prototype.defines=function(){var D=[];for(var W in this.binders){var ae=this.binders[W];(ae instanceof Yn||ae instanceof ta)&&D.push.apply(D,ae.uniformNames.map(function(de){return"#define HAS_UNIFORM_"+de}))}return D},da.prototype.getPaintVertexBuffers=function(){return this._buffers},da.prototype.getUniforms=function(D,W){var ae=[];for(var de in this.binders){var Ee=this.binders[de];if(Ee instanceof Yn||Ee instanceof ta||Ee instanceof $n)for(var Ie=0,tt=Ee.uniformNames;Ie<tt.length;Ie+=1){var gt=tt[Ie];if(W[gt]){var Et=Ee.getBinding(D,W[gt],gt);ae.push({name:gt,property:de,binding:Et})}}}return ae},da.prototype.setUniforms=function(D,W,ae,de){for(var Ee=0,Ie=W;Ee<Ie.length;Ee+=1){var tt=Ie[Ee],gt=tt.name,Et=tt.property,Rt=tt.binding;this.binders[Et].setUniform(Rt,de,ae.get(Et),gt)}},da.prototype.updatePaintBuffers=function(D){this._buffers=[];for(var W in this.binders){var ae=this.binders[W];if(D&&ae instanceof ia){var de=D.fromScale===2?ae.zoomInPaintVertexBuffer:ae.zoomOutPaintVertexBuffer;de&&this._buffers.push(de)}else(ae instanceof qn||ae instanceof $n)&&ae.paintVertexBuffer&&this._buffers.push(ae.paintVertexBuffer)}},da.prototype.upload=function(D){for(var W in this.binders){var ae=this.binders[W];(ae instanceof qn||ae instanceof $n||ae instanceof ia)&&ae.upload(D)}this.updatePaintBuffers()},da.prototype.destroy=function(){for(var D in this.binders){var W=this.binders[D];(W instanceof qn||W instanceof $n||W instanceof ia)&&W.destroy()}};var La=function(D,W,ae,de){de===void 0&&(de=function(){return!0}),this.programConfigurations={};for(var Ee=0,Ie=W;Ee<Ie.length;Ee+=1){var tt=Ie[Ee];this.programConfigurations[tt.id]=new da(tt,ae,de,D)}this.needsUpload=!1,this._featureMap=new Ge,this._bufferOffset=0};La.prototype.populatePaintArrays=function(D,W,ae,de,Ee,Ie){for(var tt in this.programConfigurations)this.programConfigurations[tt].populatePaintArrays(D,W,de,Ee,Ie);W.id!==void 0&&this._featureMap.add(W.id,ae,this._bufferOffset,D),this._bufferOffset=D,this.needsUpload=!0},La.prototype.updatePaintArrays=function(D,W,ae,de){for(var Ee=0,Ie=ae;Ee<Ie.length;Ee+=1){var tt=Ie[Ee];this.needsUpload=this.programConfigurations[tt.id].updatePaintArrays(D,this._featureMap,W,tt,de)||this.needsUpload}},La.prototype.get=function(D){return this.programConfigurations[D]},La.prototype.upload=function(D){if(this.needsUpload){for(var W in this.programConfigurations)this.programConfigurations[W].upload(D);this.needsUpload=!1}},La.prototype.destroy=function(){for(var D in this.programConfigurations)this.programConfigurations[D].destroy()};function ja(R,D){var W={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return W[R]||[R.replace(D+"-","").replace(/-/g,"_")]}function Oa(R){var D={"line-pattern":{source:ns,composite:ns},"fill-pattern":{source:ns,composite:ns},"fill-extrusion-pattern":{source:ns,composite:ns}};return D[R]}function Va(R,D,W){var ae={color:{source:Is,composite:ev},number:{source:Pc,composite:Is}},de=Oa(R);return de&&de[W]||ae[D][W]}ue("ConstantBinder",Yn),ue("CrossFadedConstantBinder",ta),ue("SourceExpressionBinder",qn),ue("CrossFadedCompositeBinder",ia),ue("CompositeExpressionBinder",$n),ue("ProgramConfiguration",da,{omit:["_buffers"]}),ue("ProgramConfigurationSet",La);var ga=8192;function Ja(R){return{min:-1*Math.pow(2,R-1),max:Math.pow(2,R-1)-1}}var Ka=Ja(15);function ai(R){for(var D=ga/R.extent,W=R.loadGeometry(),ae=0;ae<W.length;ae++)for(var de=W[ae],Ee=0;Ee<de.length;Ee++){var Ie=de[Ee];Ie.x=Math.round(Ie.x*D),Ie.y=Math.round(Ie.y*D),(Ie.x<Ka.min||Ie.x>Ka.max||Ie.y<Ka.min||Ie.y>Ka.max)&&(U("Geometry exceeds allowed extent, reduce your vector tile buffer size"),Ie.x=u(Ie.x,Ka.min,Ka.max),Ie.y=u(Ie.y,Ka.min,Ka.max))}return W}function Qa(R,D,W,ae,de){R.emplaceBack(D*2+(ae+1)/2,W*2+(de+1)/2)}var ti=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new $c,this.indexArray=new Ou,this.segments=new X,this.programConfigurations=new La(ve,D.layers,D.zoom),this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};ti.prototype.populate=function(D,W,ae){var de=this.layers[0],Ee=[],Ie=null;de.type==="circle"&&(Ie=de.layout.get("circle-sort-key"));for(var tt=0,gt=D;tt<gt.length;tt+=1){var Et=gt[tt],Rt=Et.feature,Zt=Et.id,fr=Et.index,nr=Et.sourceLayerIndex,Sr=this.layers[0]._featureFilter.needGeometry,Vr={type:Rt.type,id:Zt,properties:Rt.properties,geometry:Sr?ai(Rt):[]};if(this.layers[0]._featureFilter.filter(new Wn(this.zoom),Vr,ae)){Sr||(Vr.geometry=ai(Rt));var un=Ie?Ie.evaluate(Vr,{},ae):void 0,tn={id:Zt,properties:Rt.properties,type:Rt.type,sourceLayerIndex:nr,index:fr,geometry:Vr.geometry,patterns:{},sortKey:un};Ee.push(tn)}}Ie&&Ee.sort(function(ya,Sa){return ya.sortKey-Sa.sortKey});for(var Rn=0,Tn=Ee;Rn<Tn.length;Rn+=1){var _n=Tn[Rn],zn=_n,jn=zn.geometry,fa=zn.index,oa=zn.sourceLayerIndex,Da=D[fa].feature;this.addFeature(_n,jn,fa,ae),W.featureIndex.insert(Da,jn,fa,oa,this.index)}},ti.prototype.update=function(D,W,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,W,this.stateDependentLayers,ae)},ti.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ti.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ti.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,ve),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},ti.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ti.prototype.addFeature=function(D,W,ae,de){for(var Ee=0,Ie=W;Ee<Ie.length;Ee+=1)for(var tt=Ie[Ee],gt=0,Et=tt;gt<Et.length;gt+=1){var Rt=Et[gt],Zt=Rt.x,fr=Rt.y;if(!(Zt<0||Zt>=ga||fr<0||fr>=ga)){var nr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,D.sortKey),Sr=nr.vertexLength;Qa(this.layoutVertexArray,Zt,fr,-1,-1),Qa(this.layoutVertexArray,Zt,fr,1,-1),Qa(this.layoutVertexArray,Zt,fr,1,1),Qa(this.layoutVertexArray,Zt,fr,-1,1),this.indexArray.emplaceBack(Sr,Sr+1,Sr+2),this.indexArray.emplaceBack(Sr,Sr+3,Sr+2),nr.vertexLength+=4,nr.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ae,{},de)},ue("CircleBucket",ti,{omit:["layers"]});function za(R,D){for(var W=0;W<R.length;W++)if(Fo(D,R[W]))return!0;for(var ae=0;ae<D.length;ae++)if(Fo(R,D[ae]))return!0;return!!as(R,D)}function ri(R,D,W){return!!(Fo(R,D)||ms(D,R,W))}function Ci(R,D){if(R.length===1)return Os(D,R[0]);for(var W=0;W<D.length;W++)for(var ae=D[W],de=0;de<ae.length;de++)if(Fo(R,ae[de]))return!0;for(var Ee=0;Ee<R.length;Ee++)if(Os(D,R[Ee]))return!0;for(var Ie=0;Ie<D.length;Ie++)if(as(R,D[Ie]))return!0;return!1}function Ki(R,D,W){for(var ae=0;ae<D.length;ae++){var de=D[ae];if(R.length>=3){for(var Ee=0;Ee<de.length;Ee++)if(Fo(R,de[Ee]))return!0}if(ks(R,de,W))return!0}return!1}function ks(R,D,W){if(R.length>1){if(as(R,D))return!0;for(var ae=0;ae<D.length;ae++)if(ms(D[ae],R,W))return!0}for(var de=0;de<R.length;de++)if(ms(R[de],D,W))return!0;return!1}function as(R,D){if(R.length===0||D.length===0)return!1;for(var W=0;W<R.length-1;W++)for(var ae=R[W],de=R[W+1],Ee=0;Ee<D.length-1;Ee++){var Ie=D[Ee],tt=D[Ee+1];if(qs(ae,de,Ie,tt))return!0}return!1}function qs(R,D,W,ae){return z(R,W,ae)!==z(D,W,ae)&&z(R,D,W)!==z(R,D,ae)}function ms(R,D,W){var ae=W*W;if(D.length===1)return R.distSqr(D[0])<ae;for(var de=1;de<D.length;de++){var Ee=D[de-1],Ie=D[de];if(is(R,Ee,Ie)<ae)return!0}return!1}function is(R,D,W){var ae=D.distSqr(W);if(ae===0)return R.distSqr(D);var de=((R.x-D.x)*(W.x-D.x)+(R.y-D.y)*(W.y-D.y))/ae;return de<0?R.distSqr(D):de>1?R.distSqr(W):R.distSqr(W.sub(D)._mult(de)._add(D))}function Os(R,D){for(var W=!1,ae,de,Ee,Ie=0;Ie<R.length;Ie++){ae=R[Ie];for(var tt=0,gt=ae.length-1;tt<ae.length;gt=tt++)de=ae[tt],Ee=ae[gt],de.y>D.y!=Ee.y>D.y&&D.x<(Ee.x-de.x)*(D.y-de.y)/(Ee.y-de.y)+de.x&&(W=!W)}return W}function Fo(R,D){for(var W=!1,ae=0,de=R.length-1;ae<R.length;de=ae++){var Ee=R[ae],Ie=R[de];Ee.y>D.y!=Ie.y>D.y&&D.x<(Ie.x-Ee.x)*(D.y-Ee.y)/(Ie.y-Ee.y)+Ee.x&&(W=!W)}return W}function zs(R,D,W,ae,de){for(var Ee=0,Ie=R;Ee<Ie.length;Ee+=1){var tt=Ie[Ee];if(D<=tt.x&&W<=tt.y&&ae>=tt.x&&de>=tt.y)return!0}var gt=[new t(D,W),new t(D,de),new t(ae,de),new t(ae,W)];if(R.length>2)for(var Et=0,Rt=gt;Et<Rt.length;Et+=1){var Zt=Rt[Et];if(Fo(R,Zt))return!0}for(var fr=0;fr<R.length-1;fr++){var nr=R[fr],Sr=R[fr+1];if(To(nr,Sr,gt))return!0}return!1}function To(R,D,W){var ae=W[0],de=W[2];if(R.x<ae.x&&D.x<ae.x||R.x>de.x&&D.x>de.x||R.y<ae.y&&D.y<ae.y||R.y>de.y&&D.y>de.y)return!1;var Ee=z(R,D,W[0]);return Ee!==z(R,D,W[1])||Ee!==z(R,D,W[2])||Ee!==z(R,D,W[3])}function el(R,D,W){var ae=D.paint.get(R).value;return ae.kind==="constant"?ae.value:W.programConfigurations.get(D.id).getMaxValue(R)}function ml(R){return Math.sqrt(R[0]*R[0]+R[1]*R[1])}function Vl(R,D,W,ae,de){if(!D[0]&&!D[1])return R;var Ee=t.convert(D)._mult(de);W==="viewport"&&Ee._rotate(-ae);for(var Ie=[],tt=0;tt<R.length;tt++){var gt=R[tt];Ie.push(gt.sub(Ee))}return Ie}var Gl=new ao({"circle-sort-key":new Ca(Jt.layout_circle["circle-sort-key"])}),wh=new ao({"circle-radius":new Ca(Jt.paint_circle["circle-radius"]),"circle-color":new Ca(Jt.paint_circle["circle-color"]),"circle-blur":new Ca(Jt.paint_circle["circle-blur"]),"circle-opacity":new Ca(Jt.paint_circle["circle-opacity"]),"circle-translate":new wa(Jt.paint_circle["circle-translate"]),"circle-translate-anchor":new wa(Jt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new wa(Jt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new wa(Jt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ca(Jt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ca(Jt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ca(Jt.paint_circle["circle-stroke-opacity"])}),jf={paint:wh,layout:Gl},Ao=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var R=arguments,D=0,W=arguments.length;W--;)D+=R[W]*R[W];return Math.sqrt(D)});function Dc(){var R=new Ao(4);return Ao!=Float32Array&&(R[1]=0,R[2]=0),R[0]=1,R[3]=1,R}function os(R,D,W){var ae=D[0],de=D[1],Ee=D[2],Ie=D[3],tt=Math.sin(W),gt=Math.cos(W);return R[0]=ae*gt+Ee*tt,R[1]=de*gt+Ie*tt,R[2]=ae*-tt+Ee*gt,R[3]=de*-tt+Ie*gt,R}function Jc(){var R=new Ao(9);return Ao!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[5]=0,R[6]=0,R[7]=0),R[0]=1,R[4]=1,R[8]=1,R}function lu(R,D){var W=Math.sin(D),ae=Math.cos(D);return R[0]=ae,R[1]=W,R[2]=0,R[3]=-W,R[4]=ae,R[5]=0,R[6]=0,R[7]=0,R[8]=1,R}function Zf(){var R=new Ao(16);return Ao!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[11]=0,R[12]=0,R[13]=0,R[14]=0),R[0]=1,R[5]=1,R[10]=1,R[15]=1,R}function nv(R){var D=new Ao(16);return D[0]=R[0],D[1]=R[1],D[2]=R[2],D[3]=R[3],D[4]=R[4],D[5]=R[5],D[6]=R[6],D[7]=R[7],D[8]=R[8],D[9]=R[9],D[10]=R[10],D[11]=R[11],D[12]=R[12],D[13]=R[13],D[14]=R[14],D[15]=R[15],D}function Qc(R){return R[0]=1,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=1,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[10]=1,R[11]=0,R[12]=0,R[13]=0,R[14]=0,R[15]=1,R}function lf(R,D){var W=D[0],ae=D[1],de=D[2],Ee=D[3],Ie=D[4],tt=D[5],gt=D[6],Et=D[7],Rt=D[8],Zt=D[9],fr=D[10],nr=D[11],Sr=D[12],Vr=D[13],un=D[14],tn=D[15],Rn=W*tt-ae*Ie,Tn=W*gt-de*Ie,_n=W*Et-Ee*Ie,zn=ae*gt-de*tt,jn=ae*Et-Ee*tt,fa=de*Et-Ee*gt,oa=Rt*Vr-Zt*Sr,Da=Rt*un-fr*Sr,ya=Rt*tn-nr*Sr,Sa=Zt*un-fr*Vr,Ya=Zt*tn-nr*Vr,Ma=fr*tn-nr*un,_a=Rn*Ma-Tn*Ya+_n*Sa+zn*ya-jn*Da+fa*oa;return _a?(_a=1/_a,R[0]=(tt*Ma-gt*Ya+Et*Sa)*_a,R[1]=(de*Ya-ae*Ma-Ee*Sa)*_a,R[2]=(Vr*fa-un*jn+tn*zn)*_a,R[3]=(fr*jn-Zt*fa-nr*zn)*_a,R[4]=(gt*ya-Ie*Ma-Et*Da)*_a,R[5]=(W*Ma-de*ya+Ee*Da)*_a,R[6]=(un*_n-Sr*fa-tn*Tn)*_a,R[7]=(Rt*fa-fr*_n+nr*Tn)*_a,R[8]=(Ie*Ya-tt*ya+Et*oa)*_a,R[9]=(ae*ya-W*Ya-Ee*oa)*_a,R[10]=(Sr*jn-Vr*_n+tn*Rn)*_a,R[11]=(Zt*_n-Rt*jn-nr*Rn)*_a,R[12]=(tt*Da-Ie*Sa-gt*oa)*_a,R[13]=(W*Sa-ae*Da+de*oa)*_a,R[14]=(Vr*Tn-Sr*zn-un*Rn)*_a,R[15]=(Rt*zn-Zt*Tn+fr*Rn)*_a,R):null}function Xf(R,D,W){var ae=D[0],de=D[1],Ee=D[2],Ie=D[3],tt=D[4],gt=D[5],Et=D[6],Rt=D[7],Zt=D[8],fr=D[9],nr=D[10],Sr=D[11],Vr=D[12],un=D[13],tn=D[14],Rn=D[15],Tn=W[0],_n=W[1],zn=W[2],jn=W[3];return R[0]=Tn*ae+_n*tt+zn*Zt+jn*Vr,R[1]=Tn*de+_n*gt+zn*fr+jn*un,R[2]=Tn*Ee+_n*Et+zn*nr+jn*tn,R[3]=Tn*Ie+_n*Rt+zn*Sr+jn*Rn,Tn=W[4],_n=W[5],zn=W[6],jn=W[7],R[4]=Tn*ae+_n*tt+zn*Zt+jn*Vr,R[5]=Tn*de+_n*gt+zn*fr+jn*un,R[6]=Tn*Ee+_n*Et+zn*nr+jn*tn,R[7]=Tn*Ie+_n*Rt+zn*Sr+jn*Rn,Tn=W[8],_n=W[9],zn=W[10],jn=W[11],R[8]=Tn*ae+_n*tt+zn*Zt+jn*Vr,R[9]=Tn*de+_n*gt+zn*fr+jn*un,R[10]=Tn*Ee+_n*Et+zn*nr+jn*tn,R[11]=Tn*Ie+_n*Rt+zn*Sr+jn*Rn,Tn=W[12],_n=W[13],zn=W[14],jn=W[15],R[12]=Tn*ae+_n*tt+zn*Zt+jn*Vr,R[13]=Tn*de+_n*gt+zn*fr+jn*un,R[14]=Tn*Ee+_n*Et+zn*nr+jn*tn,R[15]=Tn*Ie+_n*Rt+zn*Sr+jn*Rn,R}function $i(R,D,W){var ae=W[0],de=W[1],Ee=W[2],Ie,tt,gt,Et,Rt,Zt,fr,nr,Sr,Vr,un,tn;return D===R?(R[12]=D[0]*ae+D[4]*de+D[8]*Ee+D[12],R[13]=D[1]*ae+D[5]*de+D[9]*Ee+D[13],R[14]=D[2]*ae+D[6]*de+D[10]*Ee+D[14],R[15]=D[3]*ae+D[7]*de+D[11]*Ee+D[15]):(Ie=D[0],tt=D[1],gt=D[2],Et=D[3],Rt=D[4],Zt=D[5],fr=D[6],nr=D[7],Sr=D[8],Vr=D[9],un=D[10],tn=D[11],R[0]=Ie,R[1]=tt,R[2]=gt,R[3]=Et,R[4]=Rt,R[5]=Zt,R[6]=fr,R[7]=nr,R[8]=Sr,R[9]=Vr,R[10]=un,R[11]=tn,R[12]=Ie*ae+Rt*de+Sr*Ee+D[12],R[13]=tt*ae+Zt*de+Vr*Ee+D[13],R[14]=gt*ae+fr*de+un*Ee+D[14],R[15]=Et*ae+nr*de+tn*Ee+D[15]),R}function xs(R,D,W){var ae=W[0],de=W[1],Ee=W[2];return R[0]=D[0]*ae,R[1]=D[1]*ae,R[2]=D[2]*ae,R[3]=D[3]*ae,R[4]=D[4]*de,R[5]=D[5]*de,R[6]=D[6]*de,R[7]=D[7]*de,R[8]=D[8]*Ee,R[9]=D[9]*Ee,R[10]=D[10]*Ee,R[11]=D[11]*Ee,R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15],R}function bs(R,D,W){var ae=Math.sin(W),de=Math.cos(W),Ee=D[4],Ie=D[5],tt=D[6],gt=D[7],Et=D[8],Rt=D[9],Zt=D[10],fr=D[11];return D!==R&&(R[0]=D[0],R[1]=D[1],R[2]=D[2],R[3]=D[3],R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15]),R[4]=Ee*de+Et*ae,R[5]=Ie*de+Rt*ae,R[6]=tt*de+Zt*ae,R[7]=gt*de+fr*ae,R[8]=Et*de-Ee*ae,R[9]=Rt*de-Ie*ae,R[10]=Zt*de-tt*ae,R[11]=fr*de-gt*ae,R}function Uv(R,D,W){var ae=Math.sin(W),de=Math.cos(W),Ee=D[0],Ie=D[1],tt=D[2],gt=D[3],Et=D[4],Rt=D[5],Zt=D[6],fr=D[7];return D!==R&&(R[8]=D[8],R[9]=D[9],R[10]=D[10],R[11]=D[11],R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15]),R[0]=Ee*de+Et*ae,R[1]=Ie*de+Rt*ae,R[2]=tt*de+Zt*ae,R[3]=gt*de+fr*ae,R[4]=Et*de-Ee*ae,R[5]=Rt*de-Ie*ae,R[6]=Zt*de-tt*ae,R[7]=fr*de-gt*ae,R}function ep(R,D,W,ae,de){var Ee=1/Math.tan(D/2),Ie;return R[0]=Ee/W,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=Ee,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[11]=-1,R[12]=0,R[13]=0,R[15]=0,de!=null&&de!==1/0?(Ie=1/(ae-de),R[10]=(de+ae)*Ie,R[14]=2*de*ae*Ie):(R[10]=-1,R[14]=-2*ae),R}function um(R,D,W,ae,de,Ee,Ie){var tt=1/(D-W),gt=1/(ae-de),Et=1/(Ee-Ie);return R[0]=-2*tt,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=-2*gt,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[10]=2*Et,R[11]=0,R[12]=(D+W)*tt,R[13]=(de+ae)*gt,R[14]=(Ie+Ee)*Et,R[15]=1,R}var fm=Xf;function av(){var R=new Ao(3);return Ao!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0),R}function cm(R){var D=new Ao(3);return D[0]=R[0],D[1]=R[1],D[2]=R[2],D}function Hv(R,D,W){return R[0]=D[0]+W[0],R[1]=D[1]+W[1],R[2]=D[2]+W[2],R}function hm(R,D,W){return R[0]=D[0]-W[0],R[1]=D[1]-W[1],R[2]=D[2]-W[2],R}function vm(R,D,W){return R[0]=D[0]*W,R[1]=D[1]*W,R[2]=D[2]*W,R}function tp(R,D){var W=D[0],ae=D[1],de=D[2],Ee=W*W+ae*ae+de*de;return Ee>0&&(Ee=1/Math.sqrt(Ee)),R[0]=D[0]*Ee,R[1]=D[1]*Ee,R[2]=D[2]*Ee,R}function iS(R,D){return R[0]*D[0]+R[1]*D[1]+R[2]*D[2]}function oS(R,D,W){var ae=D[0],de=D[1],Ee=D[2],Ie=W[0],tt=W[1],gt=W[2];return R[0]=de*gt-Ee*tt,R[1]=Ee*Ie-ae*gt,R[2]=ae*tt-de*Ie,R}function sS(R,D,W){var ae=D[0],de=D[1],Ee=D[2];return R[0]=ae*W[0]+de*W[3]+Ee*W[6],R[1]=ae*W[1]+de*W[4]+Ee*W[7],R[2]=ae*W[2]+de*W[5]+Ee*W[8],R}var lS=hm;(function(){var R=av();return function(D,W,ae,de,Ee,Ie){var tt,gt;for(W||(W=3),ae||(ae=0),de?gt=Math.min(de*W+ae,D.length):gt=D.length,tt=ae;tt<gt;tt+=W)R[0]=D[tt],R[1]=D[tt+1],R[2]=D[tt+2],Ee(R,R,Ie),D[tt]=R[0],D[tt+1]=R[1],D[tt+2]=R[2];return D}})();function uS(){var R=new Ao(4);return Ao!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0,R[3]=0),R}function fS(R,D,W){return R[0]=D[0]*W,R[1]=D[1]*W,R[2]=D[2]*W,R[3]=D[3]*W,R}function cS(R,D){return R[0]*D[0]+R[1]*D[1]+R[2]*D[2]+R[3]*D[3]}function R0(R,D,W){var ae=D[0],de=D[1],Ee=D[2],Ie=D[3];return R[0]=W[0]*ae+W[4]*de+W[8]*Ee+W[12]*Ie,R[1]=W[1]*ae+W[5]*de+W[9]*Ee+W[13]*Ie,R[2]=W[2]*ae+W[6]*de+W[10]*Ee+W[14]*Ie,R[3]=W[3]*ae+W[7]*de+W[11]*Ee+W[15]*Ie,R}(function(){var R=uS();return function(D,W,ae,de,Ee,Ie){var tt,gt;for(W||(W=4),ae||(ae=0),de?gt=Math.min(de*W+ae,D.length):gt=D.length,tt=ae;tt<gt;tt+=W)R[0]=D[tt],R[1]=D[tt+1],R[2]=D[tt+2],R[3]=D[tt+3],Ee(R,R,Ie),D[tt]=R[0],D[tt+1]=R[1],D[tt+2]=R[2],D[tt+3]=R[3];return D}})();function hS(){var R=new Ao(2);return Ao!=Float32Array&&(R[0]=0,R[1]=0),R}function vS(R){var D=R[0],W=R[1];return D*D+W*W}var dS=vS;(function(){var R=hS();return function(D,W,ae,de,Ee,Ie){var tt,gt;for(W||(W=2),ae||(ae=0),de?gt=Math.min(de*W+ae,D.length):gt=D.length,tt=ae;tt<gt;tt+=W)R[0]=D[tt],R[1]=D[tt+1],Ee(R,R,Ie),D[tt]=R[0],D[tt+1]=R[1];return D}})();var pS=function(R){function D(W){R.call(this,W,jf)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ae){return new ti(ae)},D.prototype.queryRadius=function(ae){var de=ae;return el("circle-radius",this,de)+el("circle-stroke-width",this,de)+ml(this.paint.get("circle-translate"))},D.prototype.queryIntersectsFeature=function(ae,de,Ee,Ie,tt,gt,Et,Rt){for(var Zt=Vl(ae,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),gt.angle,Et),fr=this.paint.get("circle-radius").evaluate(de,Ee),nr=this.paint.get("circle-stroke-width").evaluate(de,Ee),Sr=fr+nr,Vr=this.paint.get("circle-pitch-alignment")==="map",un=Vr?Zt:gS(Zt,Rt),tn=Vr?Sr*Et:Sr,Rn=0,Tn=Ie;Rn<Tn.length;Rn+=1)for(var _n=Tn[Rn],zn=0,jn=_n;zn<jn.length;zn+=1){var fa=jn[zn],oa=Vr?fa:Zb(fa,Rt),Da=tn,ya=R0([],[fa.x,fa.y,0,1],Rt);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Da*=ya[3]/gt.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Da*=gt.cameraToCenterDistance/ya[3]),ri(un,oa,Da))return!0}return!1},D}(Ri);function Zb(R,D){var W=R0([],[R.x,R.y,0,1],D);return new t(W[0]/W[3],W[1]/W[3])}function gS(R,D){return R.map(function(W){return Zb(W,D)})}var Xb=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(ti);ue("HeatmapBucket",Xb,{omit:["layers"]});function dm(R,D,W,ae){var de=D.width,Ee=D.height;if(!ae)ae=new Uint8Array(de*Ee*W);else if(ae instanceof Uint8ClampedArray)ae=new Uint8Array(ae.buffer);else if(ae.length!==de*Ee*W)throw new RangeError("mismatched image size");return R.width=de,R.height=Ee,R.data=ae,R}function Kb(R,D,W){var ae=D.width,de=D.height;if(!(ae===R.width&&de===R.height)){var Ee=dm({},{width:ae,height:de},W);pm(R,Ee,{x:0,y:0},{x:0,y:0},{width:Math.min(R.width,ae),height:Math.min(R.height,de)},W),R.width=ae,R.height=de,R.data=Ee.data}}function pm(R,D,W,ae,de,Ee){if(de.width===0||de.height===0)return D;if(de.width>R.width||de.height>R.height||W.x>R.width-de.width||W.y>R.height-de.height)throw new RangeError("out of range source coordinates for image copy");if(de.width>D.width||de.height>D.height||ae.x>D.width-de.width||ae.y>D.height-de.height)throw new RangeError("out of range destination coordinates for image copy");for(var Ie=R.data,tt=D.data,gt=0;gt<de.height;gt++)for(var Et=((W.y+gt)*R.width+W.x)*Ee,Rt=((ae.y+gt)*D.width+ae.x)*Ee,Zt=0;Zt<de.width*Ee;Zt++)tt[Rt+Zt]=Ie[Et+Zt];return D}var iv=function(D,W){dm(this,D,1,W)};iv.prototype.resize=function(D){Kb(this,D,1)},iv.prototype.clone=function(){return new iv({width:this.width,height:this.height},new Uint8Array(this.data))},iv.copy=function(D,W,ae,de,Ee){pm(D,W,ae,de,Ee,1)};var xl=function(D,W){dm(this,D,4,W)};xl.prototype.resize=function(D){Kb(this,D,4)},xl.prototype.replace=function(D,W){W?this.data.set(D):D instanceof Uint8ClampedArray?this.data=new Uint8Array(D.buffer):this.data=D},xl.prototype.clone=function(){return new xl({width:this.width,height:this.height},new Uint8Array(this.data))},xl.copy=function(D,W,ae,de,Ee){pm(D,W,ae,de,Ee,4)},ue("AlphaImage",iv),ue("RGBAImage",xl);var yS=new ao({"heatmap-radius":new Ca(Jt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ca(Jt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new wa(Jt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Wo(Jt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new wa(Jt.paint_heatmap["heatmap-opacity"])}),mS={paint:yS};function $b(R,D){for(var W=new Uint8Array(1024),ae={},de=0,Ee=0;de<256;de++,Ee+=4){ae[D]=de/255;var Ie=R.evaluate(ae);W[Ee+0]=Math.floor(Ie.r*255/Ie.a),W[Ee+1]=Math.floor(Ie.g*255/Ie.a),W[Ee+2]=Math.floor(Ie.b*255/Ie.a),W[Ee+3]=Math.floor(Ie.a*255)}return new xl({width:256,height:1},W)}var xS=function(R){function D(W){R.call(this,W,mS),this._updateColorRamp()}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ae){return new Xb(ae)},D.prototype._handleSpecialPaintPropertyUpdate=function(ae){ae==="heatmap-color"&&this._updateColorRamp()},D.prototype._updateColorRamp=function(){var ae=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=$b(ae,"heatmapDensity"),this.colorRampTexture=null},D.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},D}(Ri),bS=new ao({"hillshade-illumination-direction":new wa(Jt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new wa(Jt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new wa(Jt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new wa(Jt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new wa(Jt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new wa(Jt.paint_hillshade["hillshade-accent-color"])}),wS={paint:bS},TS=function(R){function D(W){R.call(this,W,wS)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},D}(Ri),AS=Si([{name:"a_pos",components:2,type:"Int16"}],4),Jb=AS.members,gm=D0,SS=D0;function D0(R,D,W){W=W||2;var ae=D&&D.length,de=ae?D[0]*W:R.length,Ee=Qb(R,0,de,W,!0),Ie=[];if(!Ee||Ee.next===Ee.prev)return Ie;var tt,gt,Et,Rt,Zt,fr,nr;if(ae&&(Ee=PS(R,D,Ee,W)),R.length>80*W){tt=Et=R[0],gt=Rt=R[1];for(var Sr=W;Sr<de;Sr+=W)Zt=R[Sr],fr=R[Sr+1],Zt<tt&&(tt=Zt),fr<gt&&(gt=fr),Zt>Et&&(Et=Zt),fr>Rt&&(Rt=fr);nr=Math.max(Et-tt,Rt-gt),nr=nr!==0?1/nr:0}return rp(Ee,Ie,W,tt,gt,nr),Ie}function Qb(R,D,W,ae,de){var Ee,Ie;if(de===xm(R,D,W,ae)>0)for(Ee=D;Ee<W;Ee+=ae)Ie=t3(Ee,R[Ee],R[Ee+1],Ie);else for(Ee=W-ae;Ee>=D;Ee-=ae)Ie=t3(Ee,R[Ee],R[Ee+1],Ie);return Ie&&I0(Ie,Ie.next)&&(ap(Ie),Ie=Ie.next),Ie}function Th(R,D){if(!R)return R;D||(D=R);var W=R,ae;do if(ae=!1,!W.steiner&&(I0(W,W.next)||So(W.prev,W,W.next)===0)){if(ap(W),W=D=W.prev,W===W.next)break;ae=!0}else W=W.next;while(ae||W!==D);return D}function rp(R,D,W,ae,de,Ee,Ie){if(R){!Ie&&Ee&&kS(R,ae,de,Ee);for(var tt=R,gt,Et;R.prev!==R.next;){if(gt=R.prev,Et=R.next,Ee?MS(R,ae,de,Ee):ES(R)){D.push(gt.i/W),D.push(R.i/W),D.push(Et.i/W),ap(R),R=Et.next,tt=Et.next;continue}if(R=Et,R===tt){Ie?Ie===1?(R=CS(Th(R),D,W),rp(R,D,W,ae,de,Ee,2)):Ie===2&&LS(R,D,W,ae,de,Ee):rp(Th(R),D,W,ae,de,Ee,1);break}}}}function ES(R){var D=R.prev,W=R,ae=R.next;if(So(D,W,ae)>=0)return!1;for(var de=R.next.next;de!==R.prev;){if(Vv(D.x,D.y,W.x,W.y,ae.x,ae.y,de.x,de.y)&&So(de.prev,de,de.next)>=0)return!1;de=de.next}return!0}function MS(R,D,W,ae){var de=R.prev,Ee=R,Ie=R.next;if(So(de,Ee,Ie)>=0)return!1;for(var tt=de.x<Ee.x?de.x<Ie.x?de.x:Ie.x:Ee.x<Ie.x?Ee.x:Ie.x,gt=de.y<Ee.y?de.y<Ie.y?de.y:Ie.y:Ee.y<Ie.y?Ee.y:Ie.y,Et=de.x>Ee.x?de.x>Ie.x?de.x:Ie.x:Ee.x>Ie.x?Ee.x:Ie.x,Rt=de.y>Ee.y?de.y>Ie.y?de.y:Ie.y:Ee.y>Ie.y?Ee.y:Ie.y,Zt=ym(tt,gt,D,W,ae),fr=ym(Et,Rt,D,W,ae),nr=R.prevZ,Sr=R.nextZ;nr&&nr.z>=Zt&&Sr&&Sr.z<=fr;){if(nr!==R.prev&&nr!==R.next&&Vv(de.x,de.y,Ee.x,Ee.y,Ie.x,Ie.y,nr.x,nr.y)&&So(nr.prev,nr,nr.next)>=0||(nr=nr.prevZ,Sr!==R.prev&&Sr!==R.next&&Vv(de.x,de.y,Ee.x,Ee.y,Ie.x,Ie.y,Sr.x,Sr.y)&&So(Sr.prev,Sr,Sr.next)>=0))return!1;Sr=Sr.nextZ}for(;nr&&nr.z>=Zt;){if(nr!==R.prev&&nr!==R.next&&Vv(de.x,de.y,Ee.x,Ee.y,Ie.x,Ie.y,nr.x,nr.y)&&So(nr.prev,nr,nr.next)>=0)return!1;nr=nr.prevZ}for(;Sr&&Sr.z<=fr;){if(Sr!==R.prev&&Sr!==R.next&&Vv(de.x,de.y,Ee.x,Ee.y,Ie.x,Ie.y,Sr.x,Sr.y)&&So(Sr.prev,Sr,Sr.next)>=0)return!1;Sr=Sr.nextZ}return!0}function CS(R,D,W){var ae=R;do{var de=ae.prev,Ee=ae.next.next;!I0(de,Ee)&&qb(de,ae,ae.next,Ee)&&np(de,Ee)&&np(Ee,de)&&(D.push(de.i/W),D.push(ae.i/W),D.push(Ee.i/W),ap(ae),ap(ae.next),ae=R=Ee),ae=ae.next}while(ae!==R);return Th(ae)}function LS(R,D,W,ae,de,Ee){var Ie=R;do{for(var tt=Ie.next.next;tt!==Ie.prev;){if(Ie.i!==tt.i&&FS(Ie,tt)){var gt=e3(Ie,tt);Ie=Th(Ie,Ie.next),gt=Th(gt,gt.next),rp(Ie,D,W,ae,de,Ee),rp(gt,D,W,ae,de,Ee);return}tt=tt.next}Ie=Ie.next}while(Ie!==R)}function PS(R,D,W,ae){var de=[],Ee,Ie,tt,gt,Et;for(Ee=0,Ie=D.length;Ee<Ie;Ee++)tt=D[Ee]*ae,gt=Ee<Ie-1?D[Ee+1]*ae:R.length,Et=Qb(R,tt,gt,ae,!1),Et===Et.next&&(Et.steiner=!0),de.push(zS(Et));for(de.sort(_S),Ee=0;Ee<de.length;Ee++)RS(de[Ee],W),W=Th(W,W.next);return W}function _S(R,D){return R.x-D.x}function RS(R,D){if(D=DS(R,D),D){var W=e3(D,R);Th(D,D.next),Th(W,W.next)}}function DS(R,D){var W=D,ae=R.x,de=R.y,Ee=-1/0,Ie;do{if(de<=W.y&&de>=W.next.y&&W.next.y!==W.y){var tt=W.x+(de-W.y)*(W.next.x-W.x)/(W.next.y-W.y);if(tt<=ae&&tt>Ee){if(Ee=tt,tt===ae){if(de===W.y)return W;if(de===W.next.y)return W.next}Ie=W.x<W.next.x?W:W.next}}W=W.next}while(W!==D);if(!Ie)return null;if(ae===Ee)return Ie;var gt=Ie,Et=Ie.x,Rt=Ie.y,Zt=1/0,fr;W=Ie;do ae>=W.x&&W.x>=Et&&ae!==W.x&&Vv(de<Rt?ae:Ee,de,Et,Rt,de<Rt?Ee:ae,de,W.x,W.y)&&(fr=Math.abs(de-W.y)/(ae-W.x),np(W,R)&&(fr<Zt||fr===Zt&&(W.x>Ie.x||W.x===Ie.x&&IS(Ie,W)))&&(Ie=W,Zt=fr)),W=W.next;while(W!==gt);return Ie}function IS(R,D){return So(R.prev,R,D.prev)<0&&So(D.next,R,R.next)<0}function kS(R,D,W,ae){var de=R;do de.z===null&&(de.z=ym(de.x,de.y,D,W,ae)),de.prevZ=de.prev,de.nextZ=de.next,de=de.next;while(de!==R);de.prevZ.nextZ=null,de.prevZ=null,OS(de)}function OS(R){var D,W,ae,de,Ee,Ie,tt,gt,Et=1;do{for(W=R,R=null,Ee=null,Ie=0;W;){for(Ie++,ae=W,tt=0,D=0;D<Et&&(tt++,ae=ae.nextZ,!!ae);D++);for(gt=Et;tt>0||gt>0&&ae;)tt!==0&&(gt===0||!ae||W.z<=ae.z)?(de=W,W=W.nextZ,tt--):(de=ae,ae=ae.nextZ,gt--),Ee?Ee.nextZ=de:R=de,de.prevZ=Ee,Ee=de;W=ae}Ee.nextZ=null,Et*=2}while(Ie>1);return R}function ym(R,D,W,ae,de){return R=32767*(R-W)*de,D=32767*(D-ae)*de,R=(R|R<<8)&16711935,R=(R|R<<4)&252645135,R=(R|R<<2)&858993459,R=(R|R<<1)&1431655765,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,R|D<<1}function zS(R){var D=R,W=R;do(D.x<W.x||D.x===W.x&&D.y<W.y)&&(W=D),D=D.next;while(D!==R);return W}function Vv(R,D,W,ae,de,Ee,Ie,tt){return(de-Ie)*(D-tt)-(R-Ie)*(Ee-tt)>=0&&(R-Ie)*(ae-tt)-(W-Ie)*(D-tt)>=0&&(W-Ie)*(Ee-tt)-(de-Ie)*(ae-tt)>=0}function FS(R,D){return R.next.i!==D.i&&R.prev.i!==D.i&&!NS(R,D)&&(np(R,D)&&np(D,R)&&BS(R,D)&&(So(R.prev,R,D.prev)||So(R,D.prev,D))||I0(R,D)&&So(R.prev,R,R.next)>0&&So(D.prev,D,D.next)>0)}function So(R,D,W){return(D.y-R.y)*(W.x-D.x)-(D.x-R.x)*(W.y-D.y)}function I0(R,D){return R.x===D.x&&R.y===D.y}function qb(R,D,W,ae){var de=O0(So(R,D,W)),Ee=O0(So(R,D,ae)),Ie=O0(So(W,ae,R)),tt=O0(So(W,ae,D));return!!(de!==Ee&&Ie!==tt||de===0&&k0(R,W,D)||Ee===0&&k0(R,ae,D)||Ie===0&&k0(W,R,ae)||tt===0&&k0(W,D,ae))}function k0(R,D,W){return D.x<=Math.max(R.x,W.x)&&D.x>=Math.min(R.x,W.x)&&D.y<=Math.max(R.y,W.y)&&D.y>=Math.min(R.y,W.y)}function O0(R){return R>0?1:R<0?-1:0}function NS(R,D){var W=R;do{if(W.i!==R.i&&W.next.i!==R.i&&W.i!==D.i&&W.next.i!==D.i&&qb(W,W.next,R,D))return!0;W=W.next}while(W!==R);return!1}function np(R,D){return So(R.prev,R,R.next)<0?So(R,D,R.next)>=0&&So(R,R.prev,D)>=0:So(R,D,R.prev)<0||So(R,R.next,D)<0}function BS(R,D){var W=R,ae=!1,de=(R.x+D.x)/2,Ee=(R.y+D.y)/2;do W.y>Ee!=W.next.y>Ee&&W.next.y!==W.y&&de<(W.next.x-W.x)*(Ee-W.y)/(W.next.y-W.y)+W.x&&(ae=!ae),W=W.next;while(W!==R);return ae}function e3(R,D){var W=new mm(R.i,R.x,R.y),ae=new mm(D.i,D.x,D.y),de=R.next,Ee=D.prev;return R.next=D,D.prev=R,W.next=de,de.prev=W,ae.next=W,W.prev=ae,Ee.next=ae,ae.prev=Ee,ae}function t3(R,D,W,ae){var de=new mm(R,D,W);return ae?(de.next=ae.next,de.prev=ae,ae.next.prev=de,ae.next=de):(de.prev=de,de.next=de),de}function ap(R){R.next.prev=R.prev,R.prev.next=R.next,R.prevZ&&(R.prevZ.nextZ=R.nextZ),R.nextZ&&(R.nextZ.prevZ=R.prevZ)}function mm(R,D,W){this.i=R,this.x=D,this.y=W,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}D0.deviation=function(R,D,W,ae){var de=D&&D.length,Ee=de?D[0]*W:R.length,Ie=Math.abs(xm(R,0,Ee,W));if(de)for(var tt=0,gt=D.length;tt<gt;tt++){var Et=D[tt]*W,Rt=tt<gt-1?D[tt+1]*W:R.length;Ie-=Math.abs(xm(R,Et,Rt,W))}var Zt=0;for(tt=0;tt<ae.length;tt+=3){var fr=ae[tt]*W,nr=ae[tt+1]*W,Sr=ae[tt+2]*W;Zt+=Math.abs((R[fr]-R[Sr])*(R[nr+1]-R[fr+1])-(R[fr]-R[nr])*(R[Sr+1]-R[fr+1]))}return Ie===0&&Zt===0?0:Math.abs((Zt-Ie)/Ie)};function xm(R,D,W,ae){for(var de=0,Ee=D,Ie=W-ae;Ee<W;Ee+=ae)de+=(R[Ie]-R[Ee])*(R[Ee+1]+R[Ie+1]),Ie=Ee;return de}D0.flatten=function(R){for(var D=R[0][0].length,W={vertices:[],holes:[],dimensions:D},ae=0,de=0;de<R.length;de++){for(var Ee=0;Ee<R[de].length;Ee++)for(var Ie=0;Ie<D;Ie++)W.vertices.push(R[de][Ee][Ie]);de>0&&(ae+=R[de-1].length,W.holes.push(ae))}return W},gm.default=SS;function US(R,D,W,ae,de){r3(R,D,W||0,ae||R.length-1,de||HS)}function r3(R,D,W,ae,de){for(;ae>W;){if(ae-W>600){var Ee=ae-W+1,Ie=D-W+1,tt=Math.log(Ee),gt=.5*Math.exp(2*tt/3),Et=.5*Math.sqrt(tt*gt*(Ee-gt)/Ee)*(Ie-Ee/2<0?-1:1),Rt=Math.max(W,Math.floor(D-Ie*gt/Ee+Et)),Zt=Math.min(ae,Math.floor(D+(Ee-Ie)*gt/Ee+Et));r3(R,D,Rt,Zt,de)}var fr=R[D],nr=W,Sr=ae;for(ip(R,W,D),de(R[ae],fr)>0&&ip(R,W,ae);nr<Sr;){for(ip(R,nr,Sr),nr++,Sr--;de(R[nr],fr)<0;)nr++;for(;de(R[Sr],fr)>0;)Sr--}de(R[W],fr)===0?ip(R,W,Sr):(Sr++,ip(R,Sr,ae)),Sr<=D&&(W=Sr+1),D<=Sr&&(ae=Sr-1)}}function ip(R,D,W){var ae=R[D];R[D]=R[W],R[W]=ae}function HS(R,D){return R<D?-1:R>D?1:0}function bm(R,D){var W=R.length;if(W<=1)return[R];for(var ae=[],de,Ee,Ie=0;Ie<W;Ie++){var tt=N(R[Ie]);tt!==0&&(R[Ie].area=Math.abs(tt),Ee===void 0&&(Ee=tt<0),Ee===tt<0?(de&&ae.push(de),de=[R[Ie]]):de.push(R[Ie]))}if(de&&ae.push(de),D>1)for(var gt=0;gt<ae.length;gt++)ae[gt].length<=D||(US(ae[gt],D,1,ae[gt].length-1,VS),ae[gt]=ae[gt].slice(0,D));return ae}function VS(R,D){return D.area-R.area}function wm(R,D,W){for(var ae=W.patternDependencies,de=!1,Ee=0,Ie=D;Ee<Ie.length;Ee+=1){var tt=Ie[Ee],gt=tt.paint.get(R+"-pattern");gt.isConstant()||(de=!0);var Et=gt.constantOr(null);Et&&(de=!0,ae[Et.to]=!0,ae[Et.from]=!0)}return de}function Tm(R,D,W,ae,de){for(var Ee=de.patternDependencies,Ie=0,tt=D;Ie<tt.length;Ie+=1){var gt=tt[Ie],Et=gt.paint.get(R+"-pattern"),Rt=Et.value;if(Rt.kind!=="constant"){var Zt=Rt.evaluate({zoom:ae-1},W,{},de.availableImages),fr=Rt.evaluate({zoom:ae},W,{},de.availableImages),nr=Rt.evaluate({zoom:ae+1},W,{},de.availableImages);Zt=Zt&&Zt.name?Zt.name:Zt,fr=fr&&fr.name?fr.name:fr,nr=nr&&nr.name?nr.name:nr,Ee[Zt]=!0,Ee[fr]=!0,Ee[nr]=!0,W.patterns[gt.id]={min:Zt,mid:fr,max:nr}}}return W}var GS=500,Kf=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new $c,this.indexArray=new Ou,this.indexArray2=new Yf,this.programConfigurations=new La(Jb,D.layers,D.zoom),this.segments=new X,this.segments2=new X,this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};Kf.prototype.populate=function(D,W,ae){this.hasPattern=wm("fill",this.layers,W);for(var de=this.layers[0].layout.get("fill-sort-key"),Ee=[],Ie=0,tt=D;Ie<tt.length;Ie+=1){var gt=tt[Ie],Et=gt.feature,Rt=gt.id,Zt=gt.index,fr=gt.sourceLayerIndex,nr=this.layers[0]._featureFilter.needGeometry,Sr={type:Et.type,id:Rt,properties:Et.properties,geometry:nr?ai(Et):[]};if(this.layers[0]._featureFilter.filter(new Wn(this.zoom),Sr,ae)){nr||(Sr.geometry=ai(Et));var Vr=de?de.evaluate(Sr,{},ae,W.availableImages):void 0,un={id:Rt,properties:Et.properties,type:Et.type,sourceLayerIndex:fr,index:Zt,geometry:Sr.geometry,patterns:{},sortKey:Vr};Ee.push(un)}}de&&Ee.sort(function(ya,Sa){return ya.sortKey-Sa.sortKey});for(var tn=0,Rn=Ee;tn<Rn.length;tn+=1){var Tn=Rn[tn],_n=Tn,zn=_n.geometry,jn=_n.index,fa=_n.sourceLayerIndex;if(this.hasPattern){var oa=Tm("fill",this.layers,Tn,this.zoom,W);this.patternFeatures.push(oa)}else this.addFeature(Tn,zn,jn,ae,{});var Da=D[jn].feature;W.featureIndex.insert(Da,zn,jn,fa,this.index)}},Kf.prototype.update=function(D,W,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,W,this.stateDependentLayers,ae)},Kf.prototype.addFeatures=function(D,W,ae){for(var de=0,Ee=this.patternFeatures;de<Ee.length;de+=1){var Ie=Ee[de];this.addFeature(Ie,Ie.geometry,Ie.index,W,ae)}},Kf.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Kf.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Kf.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,Jb),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.indexBuffer2=D.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(D),this.uploaded=!0},Kf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Kf.prototype.addFeature=function(D,W,ae,de,Ee){for(var Ie=0,tt=bm(W,GS);Ie<tt.length;Ie+=1){for(var gt=tt[Ie],Et=0,Rt=0,Zt=gt;Rt<Zt.length;Rt+=1){var fr=Zt[Rt];Et+=fr.length}for(var nr=this.segments.prepareSegment(Et,this.layoutVertexArray,this.indexArray),Sr=nr.vertexLength,Vr=[],un=[],tn=0,Rn=gt;tn<Rn.length;tn+=1){var Tn=Rn[tn];if(Tn.length!==0){Tn!==gt[0]&&un.push(Vr.length/2);var _n=this.segments2.prepareSegment(Tn.length,this.layoutVertexArray,this.indexArray2),zn=_n.vertexLength;this.layoutVertexArray.emplaceBack(Tn[0].x,Tn[0].y),this.indexArray2.emplaceBack(zn+Tn.length-1,zn),Vr.push(Tn[0].x),Vr.push(Tn[0].y);for(var jn=1;jn<Tn.length;jn++)this.layoutVertexArray.emplaceBack(Tn[jn].x,Tn[jn].y),this.indexArray2.emplaceBack(zn+jn-1,zn+jn),Vr.push(Tn[jn].x),Vr.push(Tn[jn].y);_n.vertexLength+=Tn.length,_n.primitiveLength+=Tn.length}}for(var fa=gm(Vr,un),oa=0;oa<fa.length;oa+=3)this.indexArray.emplaceBack(Sr+fa[oa],Sr+fa[oa+1],Sr+fa[oa+2]);nr.vertexLength+=Et,nr.primitiveLength+=fa.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ae,Ee,de)},ue("FillBucket",Kf,{omit:["layers","patternFeatures"]});var WS=new ao({"fill-sort-key":new Ca(Jt.layout_fill["fill-sort-key"])}),YS=new ao({"fill-antialias":new wa(Jt.paint_fill["fill-antialias"]),"fill-opacity":new Ca(Jt.paint_fill["fill-opacity"]),"fill-color":new Ca(Jt.paint_fill["fill-color"]),"fill-outline-color":new Ca(Jt.paint_fill["fill-outline-color"]),"fill-translate":new wa(Jt.paint_fill["fill-translate"]),"fill-translate-anchor":new wa(Jt.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ai(Jt.paint_fill["fill-pattern"])}),jS={paint:YS,layout:WS},ZS=function(R){function D(W){R.call(this,W,jS)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(ae,de){R.prototype.recalculate.call(this,ae,de);var Ee=this.paint._values["fill-outline-color"];Ee.value.kind==="constant"&&Ee.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},D.prototype.createBucket=function(ae){return new Kf(ae)},D.prototype.queryRadius=function(){return ml(this.paint.get("fill-translate"))},D.prototype.queryIntersectsFeature=function(ae,de,Ee,Ie,tt,gt,Et){var Rt=Vl(ae,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),gt.angle,Et);return Ci(Rt,Ie)},D.prototype.isTileClipped=function(){return!0},D}(Ri),XS=Si([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),n3=XS.members,a3=Gv;function Gv(R,D,W,ae,de){this.properties={},this.extent=W,this.type=0,this._pbf=R,this._geometry=-1,this._keys=ae,this._values=de,R.readFields(KS,this,D)}function KS(R,D,W){R==1?D.id=W.readVarint():R==2?$S(W,D):R==3?D.type=W.readVarint():R==4&&(D._geometry=W.pos)}function $S(R,D){for(var W=R.readVarint()+R.pos;R.pos<W;){var ae=D._keys[R.readVarint()],de=D._values[R.readVarint()];D.properties[ae]=de}}Gv.types=["Unknown","Point","LineString","Polygon"],Gv.prototype.loadGeometry=function(){var R=this._pbf;R.pos=this._geometry;for(var D=R.readVarint()+R.pos,W=1,ae=0,de=0,Ee=0,Ie=[],tt;R.pos<D;){if(ae<=0){var gt=R.readVarint();W=gt&7,ae=gt>>3}if(ae--,W===1||W===2)de+=R.readSVarint(),Ee+=R.readSVarint(),W===1&&(tt&&Ie.push(tt),tt=[]),tt.push(new t(de,Ee));else if(W===7)tt&&tt.push(tt[0].clone());else throw new Error("unknown command "+W)}return tt&&Ie.push(tt),Ie},Gv.prototype.bbox=function(){var R=this._pbf;R.pos=this._geometry;for(var D=R.readVarint()+R.pos,W=1,ae=0,de=0,Ee=0,Ie=1/0,tt=-1/0,gt=1/0,Et=-1/0;R.pos<D;){if(ae<=0){var Rt=R.readVarint();W=Rt&7,ae=Rt>>3}if(ae--,W===1||W===2)de+=R.readSVarint(),Ee+=R.readSVarint(),de<Ie&&(Ie=de),de>tt&&(tt=de),Ee<gt&&(gt=Ee),Ee>Et&&(Et=Ee);else if(W!==7)throw new Error("unknown command "+W)}return[Ie,gt,tt,Et]},Gv.prototype.toGeoJSON=function(R,D,W){var ae=this.extent*Math.pow(2,W),de=this.extent*R,Ee=this.extent*D,Ie=this.loadGeometry(),tt=Gv.types[this.type],gt,Et;function Rt(nr){for(var Sr=0;Sr<nr.length;Sr++){var Vr=nr[Sr],un=180-(Vr.y+Ee)*360/ae;nr[Sr]=[(Vr.x+de)*360/ae-180,360/Math.PI*Math.atan(Math.exp(un*Math.PI/180))-90]}}switch(this.type){case 1:var Zt=[];for(gt=0;gt<Ie.length;gt++)Zt[gt]=Ie[gt][0];Ie=Zt,Rt(Ie);break;case 2:for(gt=0;gt<Ie.length;gt++)Rt(Ie[gt]);break;case 3:for(Ie=JS(Ie),gt=0;gt<Ie.length;gt++)for(Et=0;Et<Ie[gt].length;Et++)Rt(Ie[gt][Et]);break}Ie.length===1?Ie=Ie[0]:tt="Multi"+tt;var fr={type:"Feature",geometry:{type:tt,coordinates:Ie},properties:this.properties};return"id"in this&&(fr.id=this.id),fr};function JS(R){var D=R.length;if(D<=1)return[R];for(var W=[],ae,de,Ee=0;Ee<D;Ee++){var Ie=QS(R[Ee]);Ie!==0&&(de===void 0&&(de=Ie<0),de===Ie<0?(ae&&W.push(ae),ae=[R[Ee]]):ae.push(R[Ee]))}return ae&&W.push(ae),W}function QS(R){for(var D=0,W=0,ae=R.length,de=ae-1,Ee,Ie;W<ae;de=W++)Ee=R[W],Ie=R[de],D+=(Ie.x-Ee.x)*(Ee.y+Ie.y);return D}var i3=o3;function o3(R,D){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=R,this._keys=[],this._values=[],this._features=[],R.readFields(qS,this,D),this.length=this._features.length}function qS(R,D,W){R===15?D.version=W.readVarint():R===1?D.name=W.readString():R===5?D.extent=W.readVarint():R===2?D._features.push(W.pos):R===3?D._keys.push(W.readString()):R===4&&D._values.push(eE(W))}function eE(R){for(var D=null,W=R.readVarint()+R.pos;R.pos<W;){var ae=R.readVarint()>>3;D=ae===1?R.readString():ae===2?R.readFloat():ae===3?R.readDouble():ae===4?R.readVarint64():ae===5?R.readVarint():ae===6?R.readSVarint():ae===7?R.readBoolean():null}return D}o3.prototype.feature=function(R){if(R<0||R>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[R];var D=this._pbf.readVarint()+this._pbf.pos;return new a3(this._pbf,D,this.extent,this._keys,this._values)};var tE=rE;function rE(R,D){this.layers=R.readFields(nE,{},D)}function nE(R,D,W){if(R===3){var ae=new i3(W,W.readVarint()+W.pos);ae.length&&(D[ae.name]=ae)}}var aE=tE,iE=a3,oE=i3,Wv={VectorTile:aE,VectorTileFeature:iE,VectorTileLayer:oE},sE=Wv.VectorTileFeature.types,lE=500,Am=Math.pow(2,13);function op(R,D,W,ae,de,Ee,Ie,tt){R.emplaceBack(D,W,Math.floor(ae*Am)*2+Ie,de*Am*2,Ee*Am*2,Math.round(tt))}var $f=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new Gf,this.indexArray=new Ou,this.programConfigurations=new La(n3,D.layers,D.zoom),this.segments=new X,this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};$f.prototype.populate=function(D,W,ae){this.features=[],this.hasPattern=wm("fill-extrusion",this.layers,W);for(var de=0,Ee=D;de<Ee.length;de+=1){var Ie=Ee[de],tt=Ie.feature,gt=Ie.id,Et=Ie.index,Rt=Ie.sourceLayerIndex,Zt=this.layers[0]._featureFilter.needGeometry,fr={type:tt.type,id:gt,properties:tt.properties,geometry:Zt?ai(tt):[]};if(this.layers[0]._featureFilter.filter(new Wn(this.zoom),fr,ae)){var nr={id:gt,sourceLayerIndex:Rt,index:Et,geometry:Zt?fr.geometry:ai(tt),properties:tt.properties,type:tt.type,patterns:{}};typeof tt.id<"u"&&(nr.id=tt.id),this.hasPattern?this.features.push(Tm("fill-extrusion",this.layers,nr,this.zoom,W)):this.addFeature(nr,nr.geometry,Et,ae,{}),W.featureIndex.insert(tt,nr.geometry,Et,Rt,this.index,!0)}}},$f.prototype.addFeatures=function(D,W,ae){for(var de=0,Ee=this.features;de<Ee.length;de+=1){var Ie=Ee[de],tt=Ie.geometry;this.addFeature(Ie,tt,Ie.index,W,ae)}},$f.prototype.update=function(D,W,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,W,this.stateDependentLayers,ae)},$f.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},$f.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},$f.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,n3),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},$f.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},$f.prototype.addFeature=function(D,W,ae,de,Ee){for(var Ie=0,tt=bm(W,lE);Ie<tt.length;Ie+=1){for(var gt=tt[Ie],Et=0,Rt=0,Zt=gt;Rt<Zt.length;Rt+=1){var fr=Zt[Rt];Et+=fr.length}for(var nr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Sr=0,Vr=gt;Sr<Vr.length;Sr+=1){var un=Vr[Sr];if(un.length!==0&&!fE(un))for(var tn=0,Rn=0;Rn<un.length;Rn++){var Tn=un[Rn];if(Rn>=1){var _n=un[Rn-1];if(!uE(Tn,_n)){nr.vertexLength+4>X.MAX_VERTEX_ARRAY_LENGTH&&(nr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var zn=Tn.sub(_n)._perp()._unit(),jn=_n.dist(Tn);tn+jn>32768&&(tn=0),op(this.layoutVertexArray,Tn.x,Tn.y,zn.x,zn.y,0,0,tn),op(this.layoutVertexArray,Tn.x,Tn.y,zn.x,zn.y,0,1,tn),tn+=jn,op(this.layoutVertexArray,_n.x,_n.y,zn.x,zn.y,0,0,tn),op(this.layoutVertexArray,_n.x,_n.y,zn.x,zn.y,0,1,tn);var fa=nr.vertexLength;this.indexArray.emplaceBack(fa,fa+2,fa+1),this.indexArray.emplaceBack(fa+1,fa+2,fa+3),nr.vertexLength+=4,nr.primitiveLength+=2}}}}if(nr.vertexLength+Et>X.MAX_VERTEX_ARRAY_LENGTH&&(nr=this.segments.prepareSegment(Et,this.layoutVertexArray,this.indexArray)),sE[D.type]==="Polygon"){for(var oa=[],Da=[],ya=nr.vertexLength,Sa=0,Ya=gt;Sa<Ya.length;Sa+=1){var Ma=Ya[Sa];if(Ma.length!==0){Ma!==gt[0]&&Da.push(oa.length/2);for(var _a=0;_a<Ma.length;_a++){var $a=Ma[_a];op(this.layoutVertexArray,$a.x,$a.y,0,0,1,1,0),oa.push($a.x),oa.push($a.y)}}}for(var Wa=gm(oa,Da),ci=0;ci<Wa.length;ci+=3)this.indexArray.emplaceBack(ya+Wa[ci],ya+Wa[ci+2],ya+Wa[ci+1]);nr.primitiveLength+=Wa.length/3,nr.vertexLength+=Et}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ae,Ee,de)},ue("FillExtrusionBucket",$f,{omit:["layers","features"]});function uE(R,D){return R.x===D.x&&(R.x<0||R.x>ga)||R.y===D.y&&(R.y<0||R.y>ga)}function fE(R){return R.every(function(D){return D.x<0})||R.every(function(D){return D.x>ga})||R.every(function(D){return D.y<0})||R.every(function(D){return D.y>ga})}var cE=new ao({"fill-extrusion-opacity":new wa(Jt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ca(Jt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new wa(Jt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new wa(Jt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ai(Jt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ca(Jt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ca(Jt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new wa(Jt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),hE={paint:cE},vE=function(R){function D(W){R.call(this,W,hE)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ae){return new $f(ae)},D.prototype.queryRadius=function(){return ml(this.paint.get("fill-extrusion-translate"))},D.prototype.is3D=function(){return!0},D.prototype.queryIntersectsFeature=function(ae,de,Ee,Ie,tt,gt,Et,Rt){var Zt=Vl(ae,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),gt.angle,Et),fr=this.paint.get("fill-extrusion-height").evaluate(de,Ee),nr=this.paint.get("fill-extrusion-base").evaluate(de,Ee),Sr=gE(Zt,Rt,gt,0),Vr=pE(Ie,nr,fr,Rt),un=Vr[0],tn=Vr[1];return dE(un,tn,Sr)},D}(Ri);function sp(R,D){return R.x*D.x+R.y*D.y}function s3(R,D){if(R.length===1){for(var W=0,ae=D[W++],de;!de||ae.equals(de);)if(de=D[W++],!de)return 1/0;for(;W<D.length;W++){var Ee=D[W],Ie=R[0],tt=de.sub(ae),gt=Ee.sub(ae),Et=Ie.sub(ae),Rt=sp(tt,tt),Zt=sp(tt,gt),fr=sp(gt,gt),nr=sp(Et,tt),Sr=sp(Et,gt),Vr=Rt*fr-Zt*Zt,un=(fr*nr-Zt*Sr)/Vr,tn=(Rt*Sr-Zt*nr)/Vr,Rn=1-un-tn,Tn=ae.z*Rn+de.z*un+Ee.z*tn;if(isFinite(Tn))return Tn}return 1/0}else{for(var _n=1/0,zn=0,jn=D;zn<jn.length;zn+=1){var fa=jn[zn];_n=Math.min(_n,fa.z)}return _n}}function dE(R,D,W){var ae=1/0;Ci(W,D)&&(ae=s3(W,D[0]));for(var de=0;de<D.length;de++)for(var Ee=D[de],Ie=R[de],tt=0;tt<Ee.length-1;tt++){var gt=Ee[tt],Et=Ee[tt+1],Rt=Ie[tt],Zt=Ie[tt+1],fr=[gt,Et,Zt,Rt,gt];za(W,fr)&&(ae=Math.min(ae,s3(W,fr)))}return ae===1/0?!1:ae}function pE(R,D,W,ae){for(var de=[],Ee=[],Ie=ae[8]*D,tt=ae[9]*D,gt=ae[10]*D,Et=ae[11]*D,Rt=ae[8]*W,Zt=ae[9]*W,fr=ae[10]*W,nr=ae[11]*W,Sr=0,Vr=R;Sr<Vr.length;Sr+=1){for(var un=Vr[Sr],tn=[],Rn=[],Tn=0,_n=un;Tn<_n.length;Tn+=1){var zn=_n[Tn],jn=zn.x,fa=zn.y,oa=ae[0]*jn+ae[4]*fa+ae[12],Da=ae[1]*jn+ae[5]*fa+ae[13],ya=ae[2]*jn+ae[6]*fa+ae[14],Sa=ae[3]*jn+ae[7]*fa+ae[15],Ya=oa+Ie,Ma=Da+tt,_a=ya+gt,$a=Sa+Et,Wa=oa+Rt,ci=Da+Zt,Pi=ya+fr,hi=Sa+nr,vi=new t(Ya/$a,Ma/$a);vi.z=_a/$a,tn.push(vi);var li=new t(Wa/hi,ci/hi);li.z=Pi/hi,Rn.push(li)}de.push(tn),Ee.push(Rn)}return[de,Ee]}function gE(R,D,W,ae){for(var de=[],Ee=0,Ie=R;Ee<Ie.length;Ee+=1){var tt=Ie[Ee],gt=[tt.x,tt.y,ae,1];R0(gt,gt,D),de.push(new t(gt[0]/gt[3],gt[1]/gt[3]))}return de}var yE=Si([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),l3=yE.members,mE=Wv.VectorTileFeature.types,u3=63,xE=Math.cos(75/2*(Math.PI/180)),bE=15,wE=20,TE=15,f3=1/2,c3=Math.pow(2,TE-1)/f3,bl=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new mh,this.indexArray=new Ou,this.programConfigurations=new La(l3,D.layers,D.zoom),this.segments=new X,this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};bl.prototype.populate=function(D,W,ae){this.hasPattern=wm("line",this.layers,W);for(var de=this.layers[0].layout.get("line-sort-key"),Ee=[],Ie=0,tt=D;Ie<tt.length;Ie+=1){var gt=tt[Ie],Et=gt.feature,Rt=gt.id,Zt=gt.index,fr=gt.sourceLayerIndex,nr=this.layers[0]._featureFilter.needGeometry,Sr={type:Et.type,id:Rt,properties:Et.properties,geometry:nr?ai(Et):[]};if(this.layers[0]._featureFilter.filter(new Wn(this.zoom),Sr,ae)){nr||(Sr.geometry=ai(Et));var Vr=de?de.evaluate(Sr,{},ae):void 0,un={id:Rt,properties:Et.properties,type:Et.type,sourceLayerIndex:fr,index:Zt,geometry:Sr.geometry,patterns:{},sortKey:Vr};Ee.push(un)}}de&&Ee.sort(function(ya,Sa){return ya.sortKey-Sa.sortKey});for(var tn=0,Rn=Ee;tn<Rn.length;tn+=1){var Tn=Rn[tn],_n=Tn,zn=_n.geometry,jn=_n.index,fa=_n.sourceLayerIndex;if(this.hasPattern){var oa=Tm("line",this.layers,Tn,this.zoom,W);this.patternFeatures.push(oa)}else this.addFeature(Tn,zn,jn,ae,{});var Da=D[jn].feature;W.featureIndex.insert(Da,zn,jn,fa,this.index)}},bl.prototype.update=function(D,W,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,W,this.stateDependentLayers,ae)},bl.prototype.addFeatures=function(D,W,ae){for(var de=0,Ee=this.patternFeatures;de<Ee.length;de+=1){var Ie=Ee[de];this.addFeature(Ie,Ie.geometry,Ie.index,W,ae)}},bl.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},bl.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},bl.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,l3),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},bl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},bl.prototype.addFeature=function(D,W,ae,de,Ee){for(var Ie=this.layers[0].layout,tt=Ie.get("line-join").evaluate(D,{}),gt=Ie.get("line-cap"),Et=Ie.get("line-miter-limit"),Rt=Ie.get("line-round-limit"),Zt=0,fr=W;Zt<fr.length;Zt+=1){var nr=fr[Zt];this.addLine(nr,D,tt,gt,Et,Rt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ae,Ee,de)},bl.prototype.addLine=function(D,W,ae,de,Ee,Ie){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,W.properties&&W.properties.hasOwnProperty("mapbox_clip_start")&&W.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+W.properties.mapbox_clip_start,this.clipEnd=+W.properties.mapbox_clip_end;for(var tt=0;tt<D.length-1;tt++)this.totalDistance+=D[tt].dist(D[tt+1]);this.updateScaledDistance()}for(var gt=mE[W.type]==="Polygon",Et=D.length;Et>=2&&D[Et-1].equals(D[Et-2]);)Et--;for(var Rt=0;Rt<Et-1&&D[Rt].equals(D[Rt+1]);)Rt++;if(!(Et<(gt?3:2))){ae==="bevel"&&(Ee=1.05);var Zt=this.overscaling<=16?bE*ga/(512*this.overscaling):0,fr=this.segments.prepareSegment(Et*10,this.layoutVertexArray,this.indexArray),nr,Sr=void 0,Vr=void 0,un=void 0,tn=void 0;this.e1=this.e2=-1,gt&&(nr=D[Et-2],tn=D[Rt].sub(nr)._unit()._perp());for(var Rn=Rt;Rn<Et;Rn++)if(Vr=Rn===Et-1?gt?D[Rt+1]:void 0:D[Rn+1],!(Vr&&D[Rn].equals(Vr))){tn&&(un=tn),nr&&(Sr=nr),nr=D[Rn],tn=Vr?Vr.sub(nr)._unit()._perp():un,un=un||tn;var Tn=un.add(tn);(Tn.x!==0||Tn.y!==0)&&Tn._unit();var _n=un.x*tn.x+un.y*tn.y,zn=Tn.x*tn.x+Tn.y*tn.y,jn=zn!==0?1/zn:1/0,fa=2*Math.sqrt(2-2*zn),oa=zn<xE&&Sr&&Vr,Da=un.x*tn.y-un.y*tn.x>0;if(oa&&Rn>Rt){var ya=nr.dist(Sr);if(ya>2*Zt){var Sa=nr.sub(nr.sub(Sr)._mult(Zt/ya)._round());this.updateDistance(Sr,Sa),this.addCurrentVertex(Sa,un,0,0,fr),Sr=Sa}}var Ya=Sr&&Vr,Ma=Ya?ae:gt?"butt":de;if(Ya&&Ma==="round"&&(jn<Ie?Ma="miter":jn<=2&&(Ma="fakeround")),Ma==="miter"&&jn>Ee&&(Ma="bevel"),Ma==="bevel"&&(jn>2&&(Ma="flipbevel"),jn<Ee&&(Ma="miter")),Sr&&this.updateDistance(Sr,nr),Ma==="miter")Tn._mult(jn),this.addCurrentVertex(nr,Tn,0,0,fr);else if(Ma==="flipbevel"){if(jn>100)Tn=tn.mult(-1);else{var _a=jn*un.add(tn).mag()/un.sub(tn).mag();Tn._perp()._mult(_a*(Da?-1:1))}this.addCurrentVertex(nr,Tn,0,0,fr),this.addCurrentVertex(nr,Tn.mult(-1),0,0,fr)}else if(Ma==="bevel"||Ma==="fakeround"){var $a=-Math.sqrt(jn*jn-1),Wa=Da?$a:0,ci=Da?0:$a;if(Sr&&this.addCurrentVertex(nr,un,Wa,ci,fr),Ma==="fakeround")for(var Pi=Math.round(fa*180/Math.PI/wE),hi=1;hi<Pi;hi++){var vi=hi/Pi;if(vi!==.5){var li=vi-.5,zi=1.0904+_n*(-3.2452+_n*(3.55645-_n*1.43519)),Ni=.848013+_n*(-1.06021+_n*.215638);vi=vi+vi*li*(vi-1)*(zi*li*li+Ni)}var io=tn.sub(un)._mult(vi)._add(un)._unit()._mult(Da?-1:1);this.addHalfVertex(nr,io.x,io.y,!1,Da,0,fr)}Vr&&this.addCurrentVertex(nr,tn,-Wa,-ci,fr)}else if(Ma==="butt")this.addCurrentVertex(nr,Tn,0,0,fr);else if(Ma==="square"){var fo=Sr?1:-1;this.addCurrentVertex(nr,Tn,fo,fo,fr)}else Ma==="round"&&(Sr&&(this.addCurrentVertex(nr,un,0,0,fr),this.addCurrentVertex(nr,un,1,1,fr,!0)),Vr&&(this.addCurrentVertex(nr,tn,-1,-1,fr,!0),this.addCurrentVertex(nr,tn,0,0,fr)));if(oa&&Rn<Et-1){var jo=nr.dist(Vr);if(jo>2*Zt){var Co=nr.add(Vr.sub(nr)._mult(Zt/jo)._round());this.updateDistance(nr,Co),this.addCurrentVertex(Co,tn,0,0,fr),nr=Co}}}}},bl.prototype.addCurrentVertex=function(D,W,ae,de,Ee,Ie){Ie===void 0&&(Ie=!1);var tt=W.x+W.y*ae,gt=W.y-W.x*ae,Et=-W.x+W.y*de,Rt=-W.y-W.x*de;this.addHalfVertex(D,tt,gt,Ie,!1,ae,Ee),this.addHalfVertex(D,Et,Rt,Ie,!0,-de,Ee),this.distance>c3/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(D,W,ae,de,Ee,Ie))},bl.prototype.addHalfVertex=function(D,W,ae,de,Ee,Ie,tt){var gt=D.x,Et=D.y,Rt=this.scaledDistance*f3;this.layoutVertexArray.emplaceBack((gt<<1)+(de?1:0),(Et<<1)+(Ee?1:0),Math.round(u3*W)+128,Math.round(u3*ae)+128,(Ie===0?0:Ie<0?-1:1)+1|(Rt&63)<<2,Rt>>6);var Zt=tt.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Zt),tt.primitiveLength++),Ee?this.e2=Zt:this.e1=Zt},bl.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(c3-1):this.distance},bl.prototype.updateDistance=function(D,W){this.distance+=D.dist(W),this.updateScaledDistance()},ue("LineBucket",bl,{omit:["layers","patternFeatures"]});var AE=new ao({"line-cap":new wa(Jt.layout_line["line-cap"]),"line-join":new Ca(Jt.layout_line["line-join"]),"line-miter-limit":new wa(Jt.layout_line["line-miter-limit"]),"line-round-limit":new wa(Jt.layout_line["line-round-limit"]),"line-sort-key":new Ca(Jt.layout_line["line-sort-key"])}),SE=new ao({"line-opacity":new Ca(Jt.paint_line["line-opacity"]),"line-color":new Ca(Jt.paint_line["line-color"]),"line-translate":new wa(Jt.paint_line["line-translate"]),"line-translate-anchor":new wa(Jt.paint_line["line-translate-anchor"]),"line-width":new Ca(Jt.paint_line["line-width"]),"line-gap-width":new Ca(Jt.paint_line["line-gap-width"]),"line-offset":new Ca(Jt.paint_line["line-offset"]),"line-blur":new Ca(Jt.paint_line["line-blur"]),"line-dasharray":new Gi(Jt.paint_line["line-dasharray"]),"line-pattern":new Ai(Jt.paint_line["line-pattern"]),"line-gradient":new Wo(Jt.paint_line["line-gradient"])}),h3={paint:SE,layout:AE},EE=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(ae,de){return de=new Wn(Math.floor(de.zoom),{now:de.now,fadeDuration:de.fadeDuration,zoomHistory:de.zoomHistory,transition:de.transition}),R.prototype.possiblyEvaluate.call(this,ae,de)},D.prototype.evaluate=function(ae,de,Ee,Ie){return de=l({},de,{zoom:Math.floor(de.zoom)}),R.prototype.evaluate.call(this,ae,de,Ee,Ie)},D}(Ca),v3=new EE(h3.paint.properties["line-width"].specification);v3.useIntegerZoom=!0;var ME=function(R){function D(W){R.call(this,W,h3)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._handleSpecialPaintPropertyUpdate=function(ae){ae==="line-gradient"&&this._updateGradient()},D.prototype._updateGradient=function(){var ae=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=$b(ae,"lineProgress"),this.gradientTexture=null},D.prototype.recalculate=function(ae,de){R.prototype.recalculate.call(this,ae,de),this.paint._values["line-floorwidth"]=v3.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,ae)},D.prototype.createBucket=function(ae){return new bl(ae)},D.prototype.queryRadius=function(ae){var de=ae,Ee=d3(el("line-width",this,de),el("line-gap-width",this,de)),Ie=el("line-offset",this,de);return Ee/2+Math.abs(Ie)+ml(this.paint.get("line-translate"))},D.prototype.queryIntersectsFeature=function(ae,de,Ee,Ie,tt,gt,Et){var Rt=Vl(ae,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),gt.angle,Et),Zt=Et/2*d3(this.paint.get("line-width").evaluate(de,Ee),this.paint.get("line-gap-width").evaluate(de,Ee)),fr=this.paint.get("line-offset").evaluate(de,Ee);return fr&&(Ie=CE(Ie,fr*Et)),Ki(Rt,Ie,Zt)},D.prototype.isTileClipped=function(){return!0},D}(Ri);function d3(R,D){return D>0?D+2*R:R}function CE(R,D){for(var W=[],ae=new t(0,0),de=0;de<R.length;de++){for(var Ee=R[de],Ie=[],tt=0;tt<Ee.length;tt++){var gt=Ee[tt-1],Et=Ee[tt],Rt=Ee[tt+1],Zt=tt===0?ae:Et.sub(gt)._unit()._perp(),fr=tt===Ee.length-1?ae:Rt.sub(Et)._unit()._perp(),nr=Zt._add(fr)._unit(),Sr=nr.x*fr.x+nr.y*fr.y;nr._mult(1/Sr),Ie.push(nr._mult(D)._add(Et))}W.push(Ie)}return W}var Sm=Si([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),LE=Si([{name:"a_projected_pos",components:3,type:"Float32"}],4);Si([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var PE=Si([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Si([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var p3=Si([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),_E=Si([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Si([{name:"triangle",components:3,type:"Uint16"}]),Si([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Si([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Si([{type:"Float32",name:"offsetX"}]),Si([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function RE(R,D,W){var ae=D.layout.get("text-transform").evaluate(W,{});return ae==="uppercase"?R=R.toLocaleUpperCase():ae==="lowercase"&&(R=R.toLocaleLowerCase()),ii.applyArabicShaping&&(R=ii.applyArabicShaping(R)),R}function DE(R,D,W){return R.sections.forEach(function(ae){ae.text=RE(ae.text,D,W)}),R}function IE(R){var D={},W={},ae=[],de=0;function Ee(tn){ae.push(R[tn]),de++}function Ie(tn,Rn,Tn){var _n=W[tn];return delete W[tn],W[Rn]=_n,ae[_n].geometry[0].pop(),ae[_n].geometry[0]=ae[_n].geometry[0].concat(Tn[0]),_n}function tt(tn,Rn,Tn){var _n=D[Rn];return delete D[Rn],D[tn]=_n,ae[_n].geometry[0].shift(),ae[_n].geometry[0]=Tn[0].concat(ae[_n].geometry[0]),_n}function gt(tn,Rn,Tn){var _n=Tn?Rn[0][Rn[0].length-1]:Rn[0][0];return tn+":"+_n.x+":"+_n.y}for(var Et=0;Et<R.length;Et++){var Rt=R[Et],Zt=Rt.geometry,fr=Rt.text?Rt.text.toString():null;if(!fr){Ee(Et);continue}var nr=gt(fr,Zt),Sr=gt(fr,Zt,!0);if(nr in W&&Sr in D&&W[nr]!==D[Sr]){var Vr=tt(nr,Sr,Zt),un=Ie(nr,Sr,ae[Vr].geometry);delete D[nr],delete W[Sr],W[gt(fr,ae[un].geometry,!0)]=un,ae[Vr].geometry=null}else nr in W?Ie(nr,Sr,Zt):Sr in D?tt(nr,Sr,Zt):(Ee(Et),D[nr]=de-1,W[Sr]=de-1)}return ae.filter(function(tn){return tn.geometry})}var lp={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};function kE(R){for(var D="",W=0;W<R.length;W++){var ae=R.charCodeAt(W+1)||null,de=R.charCodeAt(W-1)||null,Ee=(!ae||!an(ae)||lp[R[W+1]])&&(!de||!an(de)||lp[R[W-1]]);Ee&&lp[R[W]]?D+=lp[R[W]]:D+=R[W]}return D}var ss=24,OE=function(R,D,W,ae,de){var Ee,Ie,tt=de*8-ae-1,gt=(1<<tt)-1,Et=gt>>1,Rt=-7,Zt=W?de-1:0,fr=W?-1:1,nr=R[D+Zt];for(Zt+=fr,Ee=nr&(1<<-Rt)-1,nr>>=-Rt,Rt+=tt;Rt>0;Ee=Ee*256+R[D+Zt],Zt+=fr,Rt-=8);for(Ie=Ee&(1<<-Rt)-1,Ee>>=-Rt,Rt+=ae;Rt>0;Ie=Ie*256+R[D+Zt],Zt+=fr,Rt-=8);if(Ee===0)Ee=1-Et;else{if(Ee===gt)return Ie?NaN:(nr?-1:1)*(1/0);Ie=Ie+Math.pow(2,ae),Ee=Ee-Et}return(nr?-1:1)*Ie*Math.pow(2,Ee-ae)},zE=function(R,D,W,ae,de,Ee){var Ie,tt,gt,Et=Ee*8-de-1,Rt=(1<<Et)-1,Zt=Rt>>1,fr=de===23?Math.pow(2,-24)-Math.pow(2,-77):0,nr=ae?0:Ee-1,Sr=ae?1:-1,Vr=D<0||D===0&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(tt=isNaN(D)?1:0,Ie=Rt):(Ie=Math.floor(Math.log(D)/Math.LN2),D*(gt=Math.pow(2,-Ie))<1&&(Ie--,gt*=2),Ie+Zt>=1?D+=fr/gt:D+=fr*Math.pow(2,1-Zt),D*gt>=2&&(Ie++,gt/=2),Ie+Zt>=Rt?(tt=0,Ie=Rt):Ie+Zt>=1?(tt=(D*gt-1)*Math.pow(2,de),Ie=Ie+Zt):(tt=D*Math.pow(2,Zt-1)*Math.pow(2,de),Ie=0));de>=8;R[W+nr]=tt&255,nr+=Sr,tt/=256,de-=8);for(Ie=Ie<<de|tt,Et+=de;Et>0;R[W+nr]=Ie&255,nr+=Sr,Ie/=256,Et-=8);R[W+nr-Sr]|=Vr*128},z0={read:OE,write:zE},F0=Fi;function Fi(R){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(R)?R:new Uint8Array(R||0),this.pos=0,this.type=0,this.length=this.buf.length}Fi.Varint=0,Fi.Fixed64=1,Fi.Bytes=2,Fi.Fixed32=5;var Em=65536*65536,g3=1/Em,FE=12,y3=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Fi.prototype={destroy:function(){this.buf=null},readFields:function(R,D,W){for(W=W||this.length;this.pos<W;){var ae=this.readVarint(),de=ae>>3,Ee=this.pos;this.type=ae&7,R(de,D,this),this.pos===Ee&&this.skip(ae)}return D},readMessage:function(R,D){return this.readFields(R,D,this.readVarint()+this.pos)},readFixed32:function(){var R=N0(this.buf,this.pos);return this.pos+=4,R},readSFixed32:function(){var R=x3(this.buf,this.pos);return this.pos+=4,R},readFixed64:function(){var R=N0(this.buf,this.pos)+N0(this.buf,this.pos+4)*Em;return this.pos+=8,R},readSFixed64:function(){var R=N0(this.buf,this.pos)+x3(this.buf,this.pos+4)*Em;return this.pos+=8,R},readFloat:function(){var R=z0.read(this.buf,this.pos,!0,23,4);return this.pos+=4,R},readDouble:function(){var R=z0.read(this.buf,this.pos,!0,52,8);return this.pos+=8,R},readVarint:function(R){var D=this.buf,W,ae;return ae=D[this.pos++],W=ae&127,ae<128||(ae=D[this.pos++],W|=(ae&127)<<7,ae<128)||(ae=D[this.pos++],W|=(ae&127)<<14,ae<128)||(ae=D[this.pos++],W|=(ae&127)<<21,ae<128)?W:(ae=D[this.pos],W|=(ae&15)<<28,NE(W,R,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var R=this.readVarint();return R%2===1?(R+1)/-2:R/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var R=this.readVarint()+this.pos,D=this.pos;return this.pos=R,R-D>=FE&&y3?QE(this.buf,D,R):JE(this.buf,D,R)},readBytes:function(){var R=this.readVarint()+this.pos,D=this.buf.subarray(this.pos,R);return this.pos=R,D},readPackedVarint:function(R,D){if(this.type!==Fi.Bytes)return R.push(this.readVarint(D));var W=qc(this);for(R=R||[];this.pos<W;)R.push(this.readVarint(D));return R},readPackedSVarint:function(R){if(this.type!==Fi.Bytes)return R.push(this.readSVarint());var D=qc(this);for(R=R||[];this.pos<D;)R.push(this.readSVarint());return R},readPackedBoolean:function(R){if(this.type!==Fi.Bytes)return R.push(this.readBoolean());var D=qc(this);for(R=R||[];this.pos<D;)R.push(this.readBoolean());return R},readPackedFloat:function(R){if(this.type!==Fi.Bytes)return R.push(this.readFloat());var D=qc(this);for(R=R||[];this.pos<D;)R.push(this.readFloat());return R},readPackedDouble:function(R){if(this.type!==Fi.Bytes)return R.push(this.readDouble());var D=qc(this);for(R=R||[];this.pos<D;)R.push(this.readDouble());return R},readPackedFixed32:function(R){if(this.type!==Fi.Bytes)return R.push(this.readFixed32());var D=qc(this);for(R=R||[];this.pos<D;)R.push(this.readFixed32());return R},readPackedSFixed32:function(R){if(this.type!==Fi.Bytes)return R.push(this.readSFixed32());var D=qc(this);for(R=R||[];this.pos<D;)R.push(this.readSFixed32());return R},readPackedFixed64:function(R){if(this.type!==Fi.Bytes)return R.push(this.readFixed64());var D=qc(this);for(R=R||[];this.pos<D;)R.push(this.readFixed64());return R},readPackedSFixed64:function(R){if(this.type!==Fi.Bytes)return R.push(this.readSFixed64());var D=qc(this);for(R=R||[];this.pos<D;)R.push(this.readSFixed64());return R},skip:function(R){var D=R&7;if(D===Fi.Varint)for(;this.buf[this.pos++]>127;);else if(D===Fi.Bytes)this.pos=this.readVarint()+this.pos;else if(D===Fi.Fixed32)this.pos+=4;else if(D===Fi.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+D)},writeTag:function(R,D){this.writeVarint(R<<3|D)},realloc:function(R){for(var D=this.length||16;D<this.pos+R;)D*=2;if(D!==this.length){var W=new Uint8Array(D);W.set(this.buf),this.buf=W,this.length=D}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(R){this.realloc(4),jv(this.buf,R,this.pos),this.pos+=4},writeSFixed32:function(R){this.realloc(4),jv(this.buf,R,this.pos),this.pos+=4},writeFixed64:function(R){this.realloc(8),jv(this.buf,R&-1,this.pos),jv(this.buf,Math.floor(R*g3),this.pos+4),this.pos+=8},writeSFixed64:function(R){this.realloc(8),jv(this.buf,R&-1,this.pos),jv(this.buf,Math.floor(R*g3),this.pos+4),this.pos+=8},writeVarint:function(R){if(R=+R||0,R>268435455||R<0){BE(R,this);return}this.realloc(4),this.buf[this.pos++]=R&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=(R>>>=7)&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=(R>>>=7)&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=R>>>7&127)))},writeSVarint:function(R){this.writeVarint(R<0?-R*2-1:R*2)},writeBoolean:function(R){this.writeVarint(!!R)},writeString:function(R){R=String(R),this.realloc(R.length*4),this.pos++;var D=this.pos;this.pos=qE(this.buf,R,this.pos);var W=this.pos-D;W>=128&&m3(D,W,this),this.pos=D-1,this.writeVarint(W),this.pos+=W},writeFloat:function(R){this.realloc(4),z0.write(this.buf,R,this.pos,!0,23,4),this.pos+=4},writeDouble:function(R){this.realloc(8),z0.write(this.buf,R,this.pos,!0,52,8),this.pos+=8},writeBytes:function(R){var D=R.length;this.writeVarint(D),this.realloc(D);for(var W=0;W<D;W++)this.buf[this.pos++]=R[W]},writeRawMessage:function(R,D){this.pos++;var W=this.pos;R(D,this);var ae=this.pos-W;ae>=128&&m3(W,ae,this),this.pos=W-1,this.writeVarint(ae),this.pos+=ae},writeMessage:function(R,D,W){this.writeTag(R,Fi.Bytes),this.writeRawMessage(D,W)},writePackedVarint:function(R,D){D.length&&this.writeMessage(R,VE,D)},writePackedSVarint:function(R,D){D.length&&this.writeMessage(R,GE,D)},writePackedBoolean:function(R,D){D.length&&this.writeMessage(R,jE,D)},writePackedFloat:function(R,D){D.length&&this.writeMessage(R,WE,D)},writePackedDouble:function(R,D){D.length&&this.writeMessage(R,YE,D)},writePackedFixed32:function(R,D){D.length&&this.writeMessage(R,ZE,D)},writePackedSFixed32:function(R,D){D.length&&this.writeMessage(R,XE,D)},writePackedFixed64:function(R,D){D.length&&this.writeMessage(R,KE,D)},writePackedSFixed64:function(R,D){D.length&&this.writeMessage(R,$E,D)},writeBytesField:function(R,D){this.writeTag(R,Fi.Bytes),this.writeBytes(D)},writeFixed32Field:function(R,D){this.writeTag(R,Fi.Fixed32),this.writeFixed32(D)},writeSFixed32Field:function(R,D){this.writeTag(R,Fi.Fixed32),this.writeSFixed32(D)},writeFixed64Field:function(R,D){this.writeTag(R,Fi.Fixed64),this.writeFixed64(D)},writeSFixed64Field:function(R,D){this.writeTag(R,Fi.Fixed64),this.writeSFixed64(D)},writeVarintField:function(R,D){this.writeTag(R,Fi.Varint),this.writeVarint(D)},writeSVarintField:function(R,D){this.writeTag(R,Fi.Varint),this.writeSVarint(D)},writeStringField:function(R,D){this.writeTag(R,Fi.Bytes),this.writeString(D)},writeFloatField:function(R,D){this.writeTag(R,Fi.Fixed32),this.writeFloat(D)},writeDoubleField:function(R,D){this.writeTag(R,Fi.Fixed64),this.writeDouble(D)},writeBooleanField:function(R,D){this.writeVarintField(R,!!D)}};function NE(R,D,W){var ae=W.buf,de,Ee;if(Ee=ae[W.pos++],de=(Ee&112)>>4,Ee<128||(Ee=ae[W.pos++],de|=(Ee&127)<<3,Ee<128)||(Ee=ae[W.pos++],de|=(Ee&127)<<10,Ee<128)||(Ee=ae[W.pos++],de|=(Ee&127)<<17,Ee<128)||(Ee=ae[W.pos++],de|=(Ee&127)<<24,Ee<128)||(Ee=ae[W.pos++],de|=(Ee&1)<<31,Ee<128))return Yv(R,de,D);throw new Error("Expected varint not more than 10 bytes")}function qc(R){return R.type===Fi.Bytes?R.readVarint()+R.pos:R.pos+1}function Yv(R,D,W){return W?D*4294967296+(R>>>0):(D>>>0)*4294967296+(R>>>0)}function BE(R,D){var W,ae;if(R>=0?(W=R%4294967296|0,ae=R/4294967296|0):(W=~(-R%4294967296),ae=~(-R/4294967296),W^4294967295?W=W+1|0:(W=0,ae=ae+1|0)),R>=18446744073709552e3||R<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");D.realloc(10),UE(W,ae,D),HE(ae,D)}function UE(R,D,W){W.buf[W.pos++]=R&127|128,R>>>=7,W.buf[W.pos++]=R&127|128,R>>>=7,W.buf[W.pos++]=R&127|128,R>>>=7,W.buf[W.pos++]=R&127|128,R>>>=7,W.buf[W.pos]=R&127}function HE(R,D){var W=(R&7)<<4;D.buf[D.pos++]|=W|((R>>>=3)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127)))))}function m3(R,D,W){var ae=D<=16383?1:D<=2097151?2:D<=268435455?3:Math.floor(Math.log(D)/(Math.LN2*7));W.realloc(ae);for(var de=W.pos-1;de>=R;de--)W.buf[de+ae]=W.buf[de]}function VE(R,D){for(var W=0;W<R.length;W++)D.writeVarint(R[W])}function GE(R,D){for(var W=0;W<R.length;W++)D.writeSVarint(R[W])}function WE(R,D){for(var W=0;W<R.length;W++)D.writeFloat(R[W])}function YE(R,D){for(var W=0;W<R.length;W++)D.writeDouble(R[W])}function jE(R,D){for(var W=0;W<R.length;W++)D.writeBoolean(R[W])}function ZE(R,D){for(var W=0;W<R.length;W++)D.writeFixed32(R[W])}function XE(R,D){for(var W=0;W<R.length;W++)D.writeSFixed32(R[W])}function KE(R,D){for(var W=0;W<R.length;W++)D.writeFixed64(R[W])}function $E(R,D){for(var W=0;W<R.length;W++)D.writeSFixed64(R[W])}function N0(R,D){return(R[D]|R[D+1]<<8|R[D+2]<<16)+R[D+3]*16777216}function jv(R,D,W){R[W]=D,R[W+1]=D>>>8,R[W+2]=D>>>16,R[W+3]=D>>>24}function x3(R,D){return(R[D]|R[D+1]<<8|R[D+2]<<16)+(R[D+3]<<24)}function JE(R,D,W){for(var ae="",de=D;de<W;){var Ee=R[de],Ie=null,tt=Ee>239?4:Ee>223?3:Ee>191?2:1;if(de+tt>W)break;var gt,Et,Rt;tt===1?Ee<128&&(Ie=Ee):tt===2?(gt=R[de+1],(gt&192)===128&&(Ie=(Ee&31)<<6|gt&63,Ie<=127&&(Ie=null))):tt===3?(gt=R[de+1],Et=R[de+2],(gt&192)===128&&(Et&192)===128&&(Ie=(Ee&15)<<12|(gt&63)<<6|Et&63,(Ie<=2047||Ie>=55296&&Ie<=57343)&&(Ie=null))):tt===4&&(gt=R[de+1],Et=R[de+2],Rt=R[de+3],(gt&192)===128&&(Et&192)===128&&(Rt&192)===128&&(Ie=(Ee&15)<<18|(gt&63)<<12|(Et&63)<<6|Rt&63,(Ie<=65535||Ie>=1114112)&&(Ie=null))),Ie===null?(Ie=65533,tt=1):Ie>65535&&(Ie-=65536,ae+=String.fromCharCode(Ie>>>10&1023|55296),Ie=56320|Ie&1023),ae+=String.fromCharCode(Ie),de+=tt}return ae}function QE(R,D,W){return y3.decode(R.subarray(D,W))}function qE(R,D,W){for(var ae=0,de,Ee;ae<D.length;ae++){if(de=D.charCodeAt(ae),de>55295&&de<57344)if(Ee)if(de<56320){R[W++]=239,R[W++]=191,R[W++]=189,Ee=de;continue}else de=Ee-55296<<10|de-56320|65536,Ee=null;else{de>56319||ae+1===D.length?(R[W++]=239,R[W++]=191,R[W++]=189):Ee=de;continue}else Ee&&(R[W++]=239,R[W++]=191,R[W++]=189,Ee=null);de<128?R[W++]=de:(de<2048?R[W++]=de>>6|192:(de<65536?R[W++]=de>>12|224:(R[W++]=de>>18|240,R[W++]=de>>12&63|128),R[W++]=de>>6&63|128),R[W++]=de&63|128)}return W}var Mm=3;function e6(R,D,W){R===1&&W.readMessage(t6,D)}function t6(R,D,W){if(R===3){var ae=W.readMessage(r6,{}),de=ae.id,Ee=ae.bitmap,Ie=ae.width,tt=ae.height,gt=ae.left,Et=ae.top,Rt=ae.advance;D.push({id:de,bitmap:new iv({width:Ie+2*Mm,height:tt+2*Mm},Ee),metrics:{width:Ie,height:tt,left:gt,top:Et,advance:Rt}})}}function r6(R,D,W){R===1?D.id=W.readVarint():R===2?D.bitmap=W.readBytes():R===3?D.width=W.readVarint():R===4?D.height=W.readVarint():R===5?D.left=W.readSVarint():R===6?D.top=W.readSVarint():R===7&&(D.advance=W.readVarint())}function n6(R){return new F0(R).readFields(e6,[])}var b3=Mm;function w3(R){for(var D=0,W=0,ae=0,de=R;ae<de.length;ae+=1){var Ee=de[ae];D+=Ee.w*Ee.h,W=Math.max(W,Ee.w)}R.sort(function(un,tn){return tn.h-un.h});for(var Ie=Math.max(Math.ceil(Math.sqrt(D/.95)),W),tt=[{x:0,y:0,w:Ie,h:1/0}],gt=0,Et=0,Rt=0,Zt=R;Rt<Zt.length;Rt+=1)for(var fr=Zt[Rt],nr=tt.length-1;nr>=0;nr--){var Sr=tt[nr];if(!(fr.w>Sr.w||fr.h>Sr.h)){if(fr.x=Sr.x,fr.y=Sr.y,Et=Math.max(Et,fr.y+fr.h),gt=Math.max(gt,fr.x+fr.w),fr.w===Sr.w&&fr.h===Sr.h){var Vr=tt.pop();nr<tt.length&&(tt[nr]=Vr)}else fr.h===Sr.h?(Sr.x+=fr.w,Sr.w-=fr.w):fr.w===Sr.w?(Sr.y+=fr.h,Sr.h-=fr.h):(tt.push({x:Sr.x+fr.w,y:Sr.y,w:Sr.w-fr.w,h:fr.h}),Sr.y+=fr.h,Sr.h-=fr.h);break}}return{w:gt,h:Et,fill:D/(gt*Et)||0}}var Wl=1,B0=function(D,W){var ae=W.pixelRatio,de=W.version,Ee=W.stretchX,Ie=W.stretchY,tt=W.content;this.paddedRect=D,this.pixelRatio=ae,this.stretchX=Ee,this.stretchY=Ie,this.content=tt,this.version=de},up={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};up.tl.get=function(){return[this.paddedRect.x+Wl,this.paddedRect.y+Wl]},up.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-Wl,this.paddedRect.y+this.paddedRect.h-Wl]},up.tlbr.get=function(){return this.tl.concat(this.br)},up.displaySize.get=function(){return[(this.paddedRect.w-Wl*2)/this.pixelRatio,(this.paddedRect.h-Wl*2)/this.pixelRatio]},Object.defineProperties(B0.prototype,up);var fp=function(D,W){var ae={},de={};this.haveRenderCallbacks=[];var Ee=[];this.addImages(D,ae,Ee),this.addImages(W,de,Ee);var Ie=w3(Ee),tt=Ie.w,gt=Ie.h,Et=new xl({width:tt||1,height:gt||1});for(var Rt in D){var Zt=D[Rt],fr=ae[Rt].paddedRect;xl.copy(Zt.data,Et,{x:0,y:0},{x:fr.x+Wl,y:fr.y+Wl},Zt.data)}for(var nr in W){var Sr=W[nr],Vr=de[nr].paddedRect,un=Vr.x+Wl,tn=Vr.y+Wl,Rn=Sr.data.width,Tn=Sr.data.height;xl.copy(Sr.data,Et,{x:0,y:0},{x:un,y:tn},Sr.data),xl.copy(Sr.data,Et,{x:0,y:Tn-1},{x:un,y:tn-1},{width:Rn,height:1}),xl.copy(Sr.data,Et,{x:0,y:0},{x:un,y:tn+Tn},{width:Rn,height:1}),xl.copy(Sr.data,Et,{x:Rn-1,y:0},{x:un-1,y:tn},{width:1,height:Tn}),xl.copy(Sr.data,Et,{x:0,y:0},{x:un+Rn,y:tn},{width:1,height:Tn})}this.image=Et,this.iconPositions=ae,this.patternPositions=de};fp.prototype.addImages=function(D,W,ae){for(var de in D){var Ee=D[de],Ie={x:0,y:0,w:Ee.data.width+2*Wl,h:Ee.data.height+2*Wl};ae.push(Ie),W[de]=new B0(Ie,Ee),Ee.hasRenderCallback&&this.haveRenderCallbacks.push(de)}},fp.prototype.patchUpdatedImages=function(D,W){D.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var ae in D.updatedImages)this.patchUpdatedImage(this.iconPositions[ae],D.getImage(ae),W),this.patchUpdatedImage(this.patternPositions[ae],D.getImage(ae),W)},fp.prototype.patchUpdatedImage=function(D,W,ae){if(!(!D||!W)&&D.version!==W.version){D.version=W.version;var de=D.tl,Ee=de[0],Ie=de[1];ae.update(W.data,void 0,{x:Ee,y:Ie})}},ue("ImagePosition",B0),ue("ImageAtlas",fp);var uu={horizontal:1,vertical:2,horizontalOnly:3},cp=-17;function a6(R){for(var D=0,W=R;D<W.length;D+=1){var ae=W[D];if(ae.positionedGlyphs.length!==0)return!1}return!0}var T3=57344,A3=63743,Zv=function(){this.scale=1,this.fontStack="",this.imageName=null};Zv.forText=function(D,W){var ae=new Zv;return ae.scale=D||1,ae.fontStack=W,ae},Zv.forImage=function(D){var W=new Zv;return W.imageName=D,W};var Fs=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};Fs.fromFeature=function(D,W){for(var ae=new Fs,de=0;de<D.sections.length;de++){var Ee=D.sections[de];Ee.image?ae.addImageSection(Ee):ae.addTextSection(Ee,W)}return ae},Fs.prototype.length=function(){return this.text.length},Fs.prototype.getSection=function(D){return this.sections[this.sectionIndex[D]]},Fs.prototype.getSectionIndex=function(D){return this.sectionIndex[D]},Fs.prototype.getCharCode=function(D){return this.text.charCodeAt(D)},Fs.prototype.verticalizePunctuation=function(){this.text=kE(this.text)},Fs.prototype.trim=function(){for(var D=0,W=0;W<this.text.length&&Ic[this.text.charCodeAt(W)];W++)D++;for(var ae=this.text.length,de=this.text.length-1;de>=0&&de>=D&&Ic[this.text.charCodeAt(de)];de--)ae--;this.text=this.text.substring(D,ae),this.sectionIndex=this.sectionIndex.slice(D,ae)},Fs.prototype.substring=function(D,W){var ae=new Fs;return ae.text=this.text.substring(D,W),ae.sectionIndex=this.sectionIndex.slice(D,W),ae.sections=this.sections,ae},Fs.prototype.toString=function(){return this.text},Fs.prototype.getMaxScale=function(){var D=this;return this.sectionIndex.reduce(function(W,ae){return Math.max(W,D.sections[ae].scale)},0)},Fs.prototype.addTextSection=function(D,W){this.text+=D.text,this.sections.push(Zv.forText(D.scale,D.fontStack||W));for(var ae=this.sections.length-1,de=0;de<D.text.length;++de)this.sectionIndex.push(ae)},Fs.prototype.addImageSection=function(D){var W=D.image?D.image.name:"";if(W.length===0){U("Can't add FormattedSection with an empty image.");return}var ae=this.getNextImageSectionCharCode();if(!ae){U("Reached maximum number of images "+(A3-T3+2));return}this.text+=String.fromCharCode(ae),this.sections.push(Zv.forImage(W)),this.sectionIndex.push(this.sections.length-1)},Fs.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=A3?null:++this.imageSectionID:(this.imageSectionID=T3,this.imageSectionID)};function i6(R,D){for(var W=[],ae=R.text,de=0,Ee=0,Ie=D;Ee<Ie.length;Ee+=1){var tt=Ie[Ee];W.push(R.substring(de,tt)),de=tt}return de<ae.length&&W.push(R.substring(de,ae.length)),W}function U0(R,D,W,ae,de,Ee,Ie,tt,gt,Et,Rt,Zt,fr,nr,Sr,Vr){var un=Fs.fromFeature(R,de);Zt===uu.vertical&&un.verticalizePunctuation();var tn,Rn=ii.processBidirectionalText,Tn=ii.processStyledBidirectionalText;if(Rn&&un.sections.length===1){tn=[];for(var _n=Rn(un.toString(),Cm(un,Et,Ee,D,ae,nr,Sr)),zn=0,jn=_n;zn<jn.length;zn+=1){var fa=jn[zn],oa=new Fs;oa.text=fa,oa.sections=un.sections;for(var Da=0;Da<fa.length;Da++)oa.sectionIndex.push(0);tn.push(oa)}}else if(Tn){tn=[];for(var ya=Tn(un.text,un.sectionIndex,Cm(un,Et,Ee,D,ae,nr,Sr)),Sa=0,Ya=ya;Sa<Ya.length;Sa+=1){var Ma=Ya[Sa],_a=new Fs;_a.text=Ma[0],_a.sectionIndex=Ma[1],_a.sections=un.sections,tn.push(_a)}}else tn=i6(un,Cm(un,Et,Ee,D,ae,nr,Sr));var $a=[],Wa={positionedLines:$a,text:un.toString(),top:Rt[1],bottom:Rt[1],left:Rt[0],right:Rt[0],writingMode:Zt,iconsInText:!1,verticalizable:!1};return l6(Wa,D,W,ae,tn,Ie,tt,gt,Zt,Et,fr,Vr),a6($a)?!1:Wa}var Ic={};Ic[9]=!0,Ic[10]=!0,Ic[11]=!0,Ic[12]=!0,Ic[13]=!0,Ic[32]=!0;var Yl={};Yl[10]=!0,Yl[32]=!0,Yl[38]=!0,Yl[40]=!0,Yl[41]=!0,Yl[43]=!0,Yl[45]=!0,Yl[47]=!0,Yl[173]=!0,Yl[183]=!0,Yl[8203]=!0,Yl[8208]=!0,Yl[8211]=!0,Yl[8231]=!0;function S3(R,D,W,ae,de,Ee){if(D.imageName){var gt=ae[D.imageName];return gt?gt.displaySize[0]*D.scale*ss/Ee+de:0}else{var Ie=W[D.fontStack],tt=Ie&&Ie[R];return tt?tt.metrics.advance*D.scale+de:0}}function o6(R,D,W,ae,de,Ee){for(var Ie=0,tt=0;tt<R.length();tt++){var gt=R.getSection(tt);Ie+=S3(R.getCharCode(tt),gt,ae,de,D,Ee)}var Et=Math.max(1,Math.ceil(Ie/W));return Ie/Et}function E3(R,D,W,ae){var de=Math.pow(R-D,2);return ae?R<D?de/2:de*2:de+Math.abs(W)*W}function s6(R,D,W){var ae=0;return R===10&&(ae-=1e4),W&&(ae+=150),(R===40||R===65288)&&(ae+=50),(D===41||D===65289)&&(ae+=50),ae}function M3(R,D,W,ae,de,Ee){for(var Ie=null,tt=E3(D,W,de,Ee),gt=0,Et=ae;gt<Et.length;gt+=1){var Rt=Et[gt],Zt=D-Rt.x,fr=E3(Zt,W,de,Ee)+Rt.badness;fr<=tt&&(Ie=Rt,tt=fr)}return{index:R,x:D,priorBreak:Ie,badness:tt}}function C3(R){return R?C3(R.priorBreak).concat(R.index):[]}function Cm(R,D,W,ae,de,Ee,Ie){if(Ee!=="point")return[];if(!R)return[];for(var tt=[],gt=o6(R,D,W,ae,de,Ie),Et=R.text.indexOf("")>=0,Rt=0,Zt=0;Zt<R.length();Zt++){var fr=R.getSection(Zt),nr=R.getCharCode(Zt);if(Ic[nr]||(Rt+=S3(nr,fr,ae,de,D,Ie)),Zt<R.length()-1){var Sr=Ir(nr);(Yl[nr]||Sr||fr.imageName)&&tt.push(M3(Zt+1,Rt,gt,tt,s6(nr,R.getCharCode(Zt+1),Sr&&Et),!1))}}return C3(M3(R.length(),Rt,gt,tt,0,!0))}function Lm(R){var D=.5,W=.5;switch(R){case"right":case"top-right":case"bottom-right":D=1;break;case"left":case"top-left":case"bottom-left":D=0;break}switch(R){case"bottom":case"bottom-right":case"bottom-left":W=1;break;case"top":case"top-right":case"top-left":W=0;break}return{horizontalAlign:D,verticalAlign:W}}function l6(R,D,W,ae,de,Ee,Ie,tt,gt,Et,Rt,Zt){for(var fr=0,nr=cp,Sr=0,Vr=0,un=tt==="right"?1:tt==="left"?0:.5,tn=0,Rn=0,Tn=de;Rn<Tn.length;Rn+=1){var _n=Tn[Rn];_n.trim();var zn=_n.getMaxScale(),jn=(zn-1)*ss,fa={positionedGlyphs:[],lineOffset:0};R.positionedLines[tn]=fa;var oa=fa.positionedGlyphs,Da=0;if(!_n.length()){nr+=Ee,++tn;continue}for(var ya=0;ya<_n.length();ya++){var Sa=_n.getSection(ya),Ya=_n.getSectionIndex(ya),Ma=_n.getCharCode(ya),_a=0,$a=null,Wa=null,ci=null,Pi=ss,hi=!(gt===uu.horizontal||!Rt&&!Rr(Ma)||Rt&&(Ic[Ma]||Fr(Ma)));if(Sa.imageName){var io=ae[Sa.imageName];if(!io)continue;ci=Sa.imageName,R.iconsInText=R.iconsInText||!0,Wa=io.paddedRect;var fo=io.displaySize;Sa.scale=Sa.scale*ss/Zt,$a={width:fo[0],height:fo[1],left:Wl,top:-b3,advance:hi?fo[1]:fo[0]};var jo=ss-fo[1]*Sa.scale;_a=jn+jo,Pi=$a.advance;var Co=hi?fo[0]*Sa.scale-ss*zn:fo[1]*Sa.scale-ss*zn;Co>0&&Co>Da&&(Da=Co)}else{var vi=W[Sa.fontStack],li=vi&&vi[Ma];if(li&&li.rect)Wa=li.rect,$a=li.metrics;else{var zi=D[Sa.fontStack],Ni=zi&&zi[Ma];if(!Ni)continue;$a=Ni.metrics}_a=(zn-Sa.scale)*ss}hi?(R.verticalizable=!0,oa.push({glyph:Ma,imageName:ci,x:fr,y:nr+_a,vertical:hi,scale:Sa.scale,fontStack:Sa.fontStack,sectionIndex:Ya,metrics:$a,rect:Wa}),fr+=Pi*Sa.scale+Et):(oa.push({glyph:Ma,imageName:ci,x:fr,y:nr+_a,vertical:hi,scale:Sa.scale,fontStack:Sa.fontStack,sectionIndex:Ya,metrics:$a,rect:Wa}),fr+=$a.advance*Sa.scale+Et)}if(oa.length!==0){var Ns=fr-Et;Sr=Math.max(Ns,Sr),u6(oa,0,oa.length-1,un,Da)}fr=0;var Bs=Ee*zn+Da;fa.lineOffset=Math.max(Da,jn),nr+=Bs,Vr=Math.max(Bs,Vr),++tn}var Zo=nr-cp,tl=Lm(Ie),rl=tl.horizontalAlign,No=tl.verticalAlign;f6(R.positionedLines,un,rl,No,Sr,Vr,Ee,Zo,de.length),R.top+=-No*Zo,R.bottom=R.top+Zo,R.left+=-rl*Sr,R.right=R.left+Sr}function u6(R,D,W,ae,de){if(!(!ae&&!de))for(var Ee=R[W],Ie=Ee.metrics.advance*Ee.scale,tt=(R[W].x+Ie)*ae,gt=D;gt<=W;gt++)R[gt].x-=tt,R[gt].y+=de}function f6(R,D,W,ae,de,Ee,Ie,tt,gt){var Et=(D-W)*de,Rt=0;Ee!==Ie?Rt=-tt*ae-cp:Rt=(-ae*gt+.5)*Ie;for(var Zt=0,fr=R;Zt<fr.length;Zt+=1)for(var nr=fr[Zt],Sr=0,Vr=nr.positionedGlyphs;Sr<Vr.length;Sr+=1){var un=Vr[Sr];un.x+=Et,un.y+=Rt}}function c6(R,D,W){var ae=Lm(W),de=ae.horizontalAlign,Ee=ae.verticalAlign,Ie=D[0],tt=D[1],gt=Ie-R.displaySize[0]*de,Et=gt+R.displaySize[0],Rt=tt-R.displaySize[1]*Ee,Zt=Rt+R.displaySize[1];return{image:R,top:Rt,bottom:Zt,left:gt,right:Et}}function L3(R,D,W,ae,de,Ee){var Ie=R.image,tt;if(Ie.content){var gt=Ie.content,Et=Ie.pixelRatio||1;tt=[gt[0]/Et,gt[1]/Et,Ie.displaySize[0]-gt[2]/Et,Ie.displaySize[1]-gt[3]/Et]}var Rt=D.left*Ee,Zt=D.right*Ee,fr,nr,Sr,Vr;W==="width"||W==="both"?(Vr=de[0]+Rt-ae[3],nr=de[0]+Zt+ae[1]):(Vr=de[0]+(Rt+Zt-Ie.displaySize[0])/2,nr=Vr+Ie.displaySize[0]);var un=D.top*Ee,tn=D.bottom*Ee;return W==="height"||W==="both"?(fr=de[1]+un-ae[0],Sr=de[1]+tn+ae[2]):(fr=de[1]+(un+tn-Ie.displaySize[1])/2,Sr=fr+Ie.displaySize[1]),{image:Ie,top:fr,right:nr,bottom:Sr,left:Vr,collisionPadding:tt}}var Xv=function(R){function D(W,ae,de,Ee){R.call(this,W,ae),this.angle=de,Ee!==void 0&&(this.segment=Ee)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.clone=function(){return new D(this.x,this.y,this.angle,this.segment)},D}(t);ue("Anchor",Xv);var Jf=128;function Pm(R,D){var W=D.expression;if(W.kind==="constant"){var ae=W.evaluate(new Wn(R+1));return{kind:"constant",layoutSize:ae}}else{if(W.kind==="source")return{kind:"source"};for(var de=W.zoomStops,Ee=W.interpolationType,Ie=0;Ie<de.length&&de[Ie]<=R;)Ie++;Ie=Math.max(0,Ie-1);for(var tt=Ie;tt<de.length&&de[tt]<R+1;)tt++;tt=Math.min(de.length-1,tt);var gt=de[Ie],Et=de[tt];if(W.kind==="composite")return{kind:"composite",minZoom:gt,maxZoom:Et,interpolationType:Ee};var Rt=W.evaluate(new Wn(gt)),Zt=W.evaluate(new Wn(Et));return{kind:"camera",minZoom:gt,maxZoom:Et,minSize:Rt,maxSize:Zt,interpolationType:Ee}}}function P3(R,D,W){var ae=D.uSize,de=D.uSizeT,Ee=W.lowerSize,Ie=W.upperSize;return R.kind==="source"?Ee/Jf:R.kind==="composite"?Bi(Ee/Jf,Ie/Jf,de):ae}function _3(R,D){var W=0,ae=0;if(R.kind==="constant")ae=R.layoutSize;else if(R.kind!=="source"){var de=R.interpolationType,Ee=R.minZoom,Ie=R.maxZoom,tt=de?u(Ui.interpolationFactor(de,D,Ee,Ie),0,1):0;R.kind==="camera"?ae=Bi(R.minSize,R.maxSize,tt):W=tt}return{uSizeT:W,uSize:ae}}var h6=Object.freeze({__proto__:null,getSizeData:Pm,evaluateSizeForFeature:P3,evaluateSizeForZoom:_3,SIZE_PACK_FACTOR:Jf});function R3(R,D,W,ae,de){if(D.segment===void 0)return!0;for(var Ee=D,Ie=D.segment+1,tt=0;tt>-W/2;){if(Ie--,Ie<0)return!1;tt-=R[Ie].dist(Ee),Ee=R[Ie]}tt+=R[Ie].dist(R[Ie+1]),Ie++;for(var gt=[],Et=0;tt<W/2;){var Rt=R[Ie-1],Zt=R[Ie],fr=R[Ie+1];if(!fr)return!1;var nr=Rt.angleTo(Zt)-Zt.angleTo(fr);for(nr=Math.abs((nr+3*Math.PI)%(Math.PI*2)-Math.PI),gt.push({distance:tt,angleDelta:nr}),Et+=nr;tt-gt[0].distance>ae;)Et-=gt.shift().angleDelta;if(Et>de)return!1;Ie++,tt+=Zt.dist(fr)}return!0}function D3(R){for(var D=0,W=0;W<R.length-1;W++)D+=R[W].dist(R[W+1]);return D}function I3(R,D,W){return R?.6*D*W:0}function k3(R,D){return Math.max(R?R.right-R.left:0,D?D.right-D.left:0)}function v6(R,D,W,ae,de,Ee){for(var Ie=I3(W,de,Ee),tt=k3(W,ae)*Ee,gt=0,Et=D3(R)/2,Rt=0;Rt<R.length-1;Rt++){var Zt=R[Rt],fr=R[Rt+1],nr=Zt.dist(fr);if(gt+nr>Et){var Sr=(Et-gt)/nr,Vr=Bi(Zt.x,fr.x,Sr),un=Bi(Zt.y,fr.y,Sr),tn=new Xv(Vr,un,fr.angleTo(Zt),Rt);return tn._round(),!Ie||R3(R,tn,tt,Ie,D)?tn:void 0}gt+=nr}}function d6(R,D,W,ae,de,Ee,Ie,tt,gt){var Et=I3(ae,Ee,Ie),Rt=k3(ae,de),Zt=Rt*Ie,fr=R[0].x===0||R[0].x===gt||R[0].y===0||R[0].y===gt;D-Zt<D/4&&(D=Zt+D/4);var nr=Ee*2,Sr=fr?D/2*tt%D:(Rt/2+nr)*Ie*tt%D;return O3(R,Sr,D,Et,W,Zt,fr,!1,gt)}function O3(R,D,W,ae,de,Ee,Ie,tt,gt){for(var Et=Ee/2,Rt=D3(R),Zt=0,fr=D-W,nr=[],Sr=0;Sr<R.length-1;Sr++){for(var Vr=R[Sr],un=R[Sr+1],tn=Vr.dist(un),Rn=un.angleTo(Vr);fr+W<Zt+tn;){fr+=W;var Tn=(fr-Zt)/tn,_n=Bi(Vr.x,un.x,Tn),zn=Bi(Vr.y,un.y,Tn);if(_n>=0&&_n<gt&&zn>=0&&zn<gt&&fr-Et>=0&&fr+Et<=Rt){var jn=new Xv(_n,zn,Rn,Sr);jn._round(),(!ae||R3(R,jn,Ee,ae,de))&&nr.push(jn)}}Zt+=tn}return!tt&&!nr.length&&!Ie&&(nr=O3(R,Zt/2,W,ae,de,Ee,Ie,!0,gt)),nr}function z3(R,D,W,ae,de){for(var Ee=[],Ie=0;Ie<R.length;Ie++)for(var tt=R[Ie],gt=void 0,Et=0;Et<tt.length-1;Et++){var Rt=tt[Et],Zt=tt[Et+1];Rt.x<D&&Zt.x<D||(Rt.x<D?Rt=new t(D,Rt.y+(Zt.y-Rt.y)*((D-Rt.x)/(Zt.x-Rt.x)))._round():Zt.x<D&&(Zt=new t(D,Rt.y+(Zt.y-Rt.y)*((D-Rt.x)/(Zt.x-Rt.x)))._round()),!(Rt.y<W&&Zt.y<W)&&(Rt.y<W?Rt=new t(Rt.x+(Zt.x-Rt.x)*((W-Rt.y)/(Zt.y-Rt.y)),W)._round():Zt.y<W&&(Zt=new t(Rt.x+(Zt.x-Rt.x)*((W-Rt.y)/(Zt.y-Rt.y)),W)._round()),!(Rt.x>=ae&&Zt.x>=ae)&&(Rt.x>=ae?Rt=new t(ae,Rt.y+(Zt.y-Rt.y)*((ae-Rt.x)/(Zt.x-Rt.x)))._round():Zt.x>=ae&&(Zt=new t(ae,Rt.y+(Zt.y-Rt.y)*((ae-Rt.x)/(Zt.x-Rt.x)))._round()),!(Rt.y>=de&&Zt.y>=de)&&(Rt.y>=de?Rt=new t(Rt.x+(Zt.x-Rt.x)*((de-Rt.y)/(Zt.y-Rt.y)),de)._round():Zt.y>=de&&(Zt=new t(Rt.x+(Zt.x-Rt.x)*((de-Rt.y)/(Zt.y-Rt.y)),de)._round()),(!gt||!Rt.equals(gt[gt.length-1]))&&(gt=[Rt],Ee.push(gt)),gt.push(Zt)))))}return Ee}var Kv=Wl;function F3(R,D,W,ae){var de=[],Ee=R.image,Ie=Ee.pixelRatio,tt=Ee.paddedRect.w-2*Kv,gt=Ee.paddedRect.h-2*Kv,Et=R.right-R.left,Rt=R.bottom-R.top,Zt=Ee.stretchX||[[0,tt]],fr=Ee.stretchY||[[0,gt]],nr=function(vi,li){return vi+li[1]-li[0]},Sr=Zt.reduce(nr,0),Vr=fr.reduce(nr,0),un=tt-Sr,tn=gt-Vr,Rn=0,Tn=Sr,_n=0,zn=Vr,jn=0,fa=un,oa=0,Da=tn;if(Ee.content&&ae){var ya=Ee.content;Rn=H0(Zt,0,ya[0]),_n=H0(fr,0,ya[1]),Tn=H0(Zt,ya[0],ya[2]),zn=H0(fr,ya[1],ya[3]),jn=ya[0]-Rn,oa=ya[1]-_n,fa=ya[2]-ya[0]-Tn,Da=ya[3]-ya[1]-zn}var Sa=function(vi,li,zi,Ni){var io=V0(vi.stretch-Rn,Tn,Et,R.left),fo=G0(vi.fixed-jn,fa,vi.stretch,Sr),jo=V0(li.stretch-_n,zn,Rt,R.top),Co=G0(li.fixed-oa,Da,li.stretch,Vr),Ns=V0(zi.stretch-Rn,Tn,Et,R.left),Bs=G0(zi.fixed-jn,fa,zi.stretch,Sr),Zo=V0(Ni.stretch-_n,zn,Rt,R.top),tl=G0(Ni.fixed-oa,Da,Ni.stretch,Vr),rl=new t(io,jo),No=new t(Ns,jo),nl=new t(Ns,Zo),fu=new t(io,Zo),rh=new t(fo/Ie,Co/Ie),Eh=new t(Bs/Ie,tl/Ie),Mh=D*Math.PI/180;if(Mh){var Ch=Math.sin(Mh),nd=Math.cos(Mh),uf=[nd,-Ch,Ch,nd];rl._matMult(uf),No._matMult(uf),fu._matMult(uf),nl._matMult(uf)}var K0=vi.stretch+vi.fixed,Fm=zi.stretch+zi.fixed,$0=li.stretch+li.fixed,Nm=Ni.stretch+Ni.fixed,Fu={x:Ee.paddedRect.x+Kv+K0,y:Ee.paddedRect.y+Kv+$0,w:Fm-K0,h:Nm-$0},ad=fa/Ie/Et,J0=Da/Ie/Rt;return{tl:rl,tr:No,bl:fu,br:nl,tex:Fu,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:rh,pixelOffsetBR:Eh,minFontScaleX:ad,minFontScaleY:J0,isSDF:W}};if(!ae||!Ee.stretchX&&!Ee.stretchY)de.push(Sa({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:tt+1},{fixed:0,stretch:gt+1}));else for(var Ya=N3(Zt,un,Sr),Ma=N3(fr,tn,Vr),_a=0;_a<Ya.length-1;_a++)for(var $a=Ya[_a],Wa=Ya[_a+1],ci=0;ci<Ma.length-1;ci++){var Pi=Ma[ci],hi=Ma[ci+1];de.push(Sa($a,Pi,Wa,hi))}return de}function H0(R,D,W){for(var ae=0,de=0,Ee=R;de<Ee.length;de+=1){var Ie=Ee[de];ae+=Math.max(D,Math.min(W,Ie[1]))-Math.max(D,Math.min(W,Ie[0]))}return ae}function N3(R,D,W){for(var ae=[{fixed:-Kv,stretch:0}],de=0,Ee=R;de<Ee.length;de+=1){var Ie=Ee[de],tt=Ie[0],gt=Ie[1],Et=ae[ae.length-1];ae.push({fixed:tt-Et.stretch,stretch:Et.stretch}),ae.push({fixed:tt-Et.stretch,stretch:Et.stretch+(gt-tt)})}return ae.push({fixed:D+Kv,stretch:W}),ae}function V0(R,D,W,ae){return R/D*W+ae}function G0(R,D,W,ae){return R-D*W/ae}function p6(R,D,W,ae,de,Ee,Ie,tt){for(var gt=ae.layout.get("text-rotate").evaluate(Ee,{})*Math.PI/180,Et=[],Rt=0,Zt=D.positionedLines;Rt<Zt.length;Rt+=1)for(var fr=Zt[Rt],nr=0,Sr=fr.positionedGlyphs;nr<Sr.length;nr+=1){var Vr=Sr[nr];if(Vr.rect){var un=Vr.rect||{},tn=1,Rn=b3+tn,Tn=!0,_n=1,zn=0,jn=(de||tt)&&Vr.vertical,fa=Vr.metrics.advance*Vr.scale/2;if(tt&&D.verticalizable){var oa=(Vr.scale-1)*ss,Da=(ss-Vr.metrics.width*Vr.scale)/2;zn=fr.lineOffset/2-(Vr.imageName?-Da:oa)}if(Vr.imageName){var ya=Ie[Vr.imageName];Tn=ya.sdf,_n=ya.pixelRatio,Rn=Wl/_n}var Sa=de?[Vr.x+fa,Vr.y]:[0,0],Ya=de?[0,0]:[Vr.x+fa+W[0],Vr.y+W[1]-zn],Ma=[0,0];jn&&(Ma=Ya,Ya=[0,0]);var _a=(Vr.metrics.left-Rn)*Vr.scale-fa+Ya[0],$a=(-Vr.metrics.top-Rn)*Vr.scale+Ya[1],Wa=_a+un.w*Vr.scale/_n,ci=$a+un.h*Vr.scale/_n,Pi=new t(_a,$a),hi=new t(Wa,$a),vi=new t(_a,ci),li=new t(Wa,ci);if(jn){var zi=new t(-fa,fa-cp),Ni=-Math.PI/2,io=ss/2-fa,fo=Vr.imageName?io:0,jo=new t(5-cp-io,-fo),Co=new(Function.prototype.bind.apply(t,[null].concat(Ma)));Pi._rotateAround(Ni,zi)._add(jo)._add(Co),hi._rotateAround(Ni,zi)._add(jo)._add(Co),vi._rotateAround(Ni,zi)._add(jo)._add(Co),li._rotateAround(Ni,zi)._add(jo)._add(Co)}if(gt){var Ns=Math.sin(gt),Bs=Math.cos(gt),Zo=[Bs,-Ns,Ns,Bs];Pi._matMult(Zo),hi._matMult(Zo),vi._matMult(Zo),li._matMult(Zo)}var tl=new t(0,0),rl=new t(0,0),No=0,nl=0;Et.push({tl:Pi,tr:hi,bl:vi,br:li,tex:un,writingMode:D.writingMode,glyphOffset:Sa,sectionIndex:Vr.sectionIndex,isSDF:Tn,pixelOffsetTL:tl,pixelOffsetBR:rl,minFontScaleX:No,minFontScaleY:nl})}}return Et}var W0=function(D,W,ae,de,Ee,Ie,tt,gt,Et,Rt){if(this.boxStartIndex=D.length,Et){var Zt=Ie.top,fr=Ie.bottom,nr=Ie.collisionPadding;nr&&(Zt-=nr[1],fr+=nr[3]);var Sr=fr-Zt;Sr>0&&(Sr=Math.max(10,Sr),this.circleDiameter=Sr)}else{var Vr=Ie.top*tt-gt,un=Ie.bottom*tt+gt,tn=Ie.left*tt-gt,Rn=Ie.right*tt+gt,Tn=Ie.collisionPadding;if(Tn&&(tn-=Tn[0]*tt,Vr-=Tn[1]*tt,Rn+=Tn[2]*tt,un+=Tn[3]*tt),Rt){var _n=new t(tn,Vr),zn=new t(Rn,Vr),jn=new t(tn,un),fa=new t(Rn,un),oa=Rt*Math.PI/180;_n._rotate(oa),zn._rotate(oa),jn._rotate(oa),fa._rotate(oa),tn=Math.min(_n.x,zn.x,jn.x,fa.x),Rn=Math.max(_n.x,zn.x,jn.x,fa.x),Vr=Math.min(_n.y,zn.y,jn.y,fa.y),un=Math.max(_n.y,zn.y,jn.y,fa.y)}D.emplaceBack(W.x,W.y,tn,Vr,Rn,un,ae,de,Ee)}this.boxEndIndex=D.length},$v=function(D,W){if(D===void 0&&(D=[]),W===void 0&&(W=g6),this.data=D,this.length=this.data.length,this.compare=W,this.length>0)for(var ae=(this.length>>1)-1;ae>=0;ae--)this._down(ae)};$v.prototype.push=function(D){this.data.push(D),this.length++,this._up(this.length-1)},$v.prototype.pop=function(){if(this.length!==0){var D=this.data[0],W=this.data.pop();return this.length--,this.length>0&&(this.data[0]=W,this._down(0)),D}},$v.prototype.peek=function(){return this.data[0]},$v.prototype._up=function(D){for(var W=this,ae=W.data,de=W.compare,Ee=ae[D];D>0;){var Ie=D-1>>1,tt=ae[Ie];if(de(Ee,tt)>=0)break;ae[D]=tt,D=Ie}ae[D]=Ee},$v.prototype._down=function(D){for(var W=this,ae=W.data,de=W.compare,Ee=this.length>>1,Ie=ae[D];D<Ee;){var tt=(D<<1)+1,gt=ae[tt],Et=tt+1;if(Et<this.length&&de(ae[Et],gt)<0&&(tt=Et,gt=ae[Et]),de(gt,Ie)>=0)break;ae[D]=gt,D=tt}ae[D]=Ie};function g6(R,D){return R<D?-1:R>D?1:0}function y6(R,D,W){D===void 0&&(D=1),W===void 0&&(W=!1);for(var ae=1/0,de=1/0,Ee=-1/0,Ie=-1/0,tt=R[0],gt=0;gt<tt.length;gt++){var Et=tt[gt];(!gt||Et.x<ae)&&(ae=Et.x),(!gt||Et.y<de)&&(de=Et.y),(!gt||Et.x>Ee)&&(Ee=Et.x),(!gt||Et.y>Ie)&&(Ie=Et.y)}var Rt=Ee-ae,Zt=Ie-de,fr=Math.min(Rt,Zt),nr=fr/2,Sr=new $v([],m6);if(fr===0)return new t(ae,de);for(var Vr=ae;Vr<Ee;Vr+=fr)for(var un=de;un<Ie;un+=fr)Sr.push(new Jv(Vr+nr,un+nr,nr,R));for(var tn=b6(R),Rn=Sr.length;Sr.length;){var Tn=Sr.pop();(Tn.d>tn.d||!tn.d)&&(tn=Tn,W&&console.log("found best %d after %d probes",Math.round(1e4*Tn.d)/1e4,Rn)),!(Tn.max-tn.d<=D)&&(nr=Tn.h/2,Sr.push(new Jv(Tn.p.x-nr,Tn.p.y-nr,nr,R)),Sr.push(new Jv(Tn.p.x+nr,Tn.p.y-nr,nr,R)),Sr.push(new Jv(Tn.p.x-nr,Tn.p.y+nr,nr,R)),Sr.push(new Jv(Tn.p.x+nr,Tn.p.y+nr,nr,R)),Rn+=4)}return W&&(console.log("num probes: "+Rn),console.log("best distance: "+tn.d)),tn.p}function m6(R,D){return D.max-R.max}function Jv(R,D,W,ae){this.p=new t(R,D),this.h=W,this.d=x6(this.p,ae),this.max=this.d+this.h*Math.SQRT2}function x6(R,D){for(var W=!1,ae=1/0,de=0;de<D.length;de++)for(var Ee=D[de],Ie=0,tt=Ee.length,gt=tt-1;Ie<tt;gt=Ie++){var Et=Ee[Ie],Rt=Ee[gt];Et.y>R.y!=Rt.y>R.y&&R.x<(Rt.x-Et.x)*(R.y-Et.y)/(Rt.y-Et.y)+Et.x&&(W=!W),ae=Math.min(ae,is(R,Et,Rt))}return(W?1:-1)*Math.sqrt(ae)}function b6(R){for(var D=0,W=0,ae=0,de=R[0],Ee=0,Ie=de.length,tt=Ie-1;Ee<Ie;tt=Ee++){var gt=de[Ee],Et=de[tt],Rt=gt.x*Et.y-Et.x*gt.y;W+=(gt.x+Et.x)*Rt,ae+=(gt.y+Et.y)*Rt,D+=Rt*3}return new Jv(W/D,ae/D,0,R)}var Qv=7,_m=Number.POSITIVE_INFINITY;function B3(R,D){function W(de,Ee){var Ie=0,tt=0;Ee<0&&(Ee=0);var gt=Ee/Math.sqrt(2);switch(de){case"top-right":case"top-left":tt=gt-Qv;break;case"bottom-right":case"bottom-left":tt=-gt+Qv;break;case"bottom":tt=-Ee+Qv;break;case"top":tt=Ee-Qv;break}switch(de){case"top-right":case"bottom-right":Ie=-gt;break;case"top-left":case"bottom-left":Ie=gt;break;case"left":Ie=Ee;break;case"right":Ie=-Ee;break}return[Ie,tt]}function ae(de,Ee,Ie){var tt=0,gt=0;switch(Ee=Math.abs(Ee),Ie=Math.abs(Ie),de){case"top-right":case"top-left":case"top":gt=Ie-Qv;break;case"bottom-right":case"bottom-left":case"bottom":gt=-Ie+Qv;break}switch(de){case"top-right":case"bottom-right":case"right":tt=-Ee;break;case"top-left":case"bottom-left":case"left":tt=Ee;break}return[tt,gt]}return D[1]!==_m?ae(R,D[0],D[1]):W(R,D[0])}function w6(R,D,W,ae,de,Ee,Ie){R.createArrays();var tt=512*R.overscaling;R.tilePixelRatio=ga/tt,R.compareText={},R.iconsNeedLinear=!1;var gt=R.layers[0].layout,Et=R.layers[0]._unevaluatedLayout._values,Rt={};if(R.textSizeData.kind==="composite"){var Zt=R.textSizeData,fr=Zt.minZoom,nr=Zt.maxZoom;Rt.compositeTextSizes=[Et["text-size"].possiblyEvaluate(new Wn(fr),Ie),Et["text-size"].possiblyEvaluate(new Wn(nr),Ie)]}if(R.iconSizeData.kind==="composite"){var Sr=R.iconSizeData,Vr=Sr.minZoom,un=Sr.maxZoom;Rt.compositeIconSizes=[Et["icon-size"].possiblyEvaluate(new Wn(Vr),Ie),Et["icon-size"].possiblyEvaluate(new Wn(un),Ie)]}Rt.layoutTextSize=Et["text-size"].possiblyEvaluate(new Wn(R.zoom+1),Ie),Rt.layoutIconSize=Et["icon-size"].possiblyEvaluate(new Wn(R.zoom+1),Ie),Rt.textMaxSize=Et["text-size"].possiblyEvaluate(new Wn(18));for(var tn=gt.get("text-line-height")*ss,Rn=gt.get("text-rotation-alignment")==="map"&&gt.get("symbol-placement")!=="point",Tn=gt.get("text-keep-upright"),_n=gt.get("text-size"),zn=function(){var oa=fa[jn],Da=gt.get("text-font").evaluate(oa,{},Ie).join(","),ya=_n.evaluate(oa,{},Ie),Sa=Rt.layoutTextSize.evaluate(oa,{},Ie),Ya=Rt.layoutIconSize.evaluate(oa,{},Ie),Ma={horizontal:{},vertical:void 0},_a=oa.text,$a=[0,0];if(_a){var Wa=_a.toString(),ci=gt.get("text-letter-spacing").evaluate(oa,{},Ie)*ss,Pi=ar(Wa)?ci:0,hi=gt.get("text-anchor").evaluate(oa,{},Ie),vi=gt.get("text-variable-anchor");if(!vi){var li=gt.get("text-radial-offset").evaluate(oa,{},Ie);li?$a=B3(hi,[li*ss,_m]):$a=gt.get("text-offset").evaluate(oa,{},Ie).map(function(rh){return rh*ss})}var zi=Rn?"center":gt.get("text-justify").evaluate(oa,{},Ie),Ni=gt.get("symbol-placement"),io=Ni==="point"?gt.get("text-max-width").evaluate(oa,{},Ie)*ss:0,fo=function(){R.allowVerticalPlacement&&Wt(Wa)&&(Ma.vertical=U0(_a,D,W,de,Da,io,tn,hi,"left",Pi,$a,uu.vertical,!0,Ni,Sa,ya))};if(!Rn&&vi){for(var jo=zi==="auto"?vi.map(function(rh){return Rm(rh)}):[zi],Co=!1,Ns=0;Ns<jo.length;Ns++){var Bs=jo[Ns];if(!Ma.horizontal[Bs])if(Co)Ma.horizontal[Bs]=Ma.horizontal[0];else{var Zo=U0(_a,D,W,de,Da,io,tn,"center",Bs,Pi,$a,uu.horizontal,!1,Ni,Sa,ya);Zo&&(Ma.horizontal[Bs]=Zo,Co=Zo.positionedLines.length===1)}}fo()}else{zi==="auto"&&(zi=Rm(hi));var tl=U0(_a,D,W,de,Da,io,tn,hi,zi,Pi,$a,uu.horizontal,!1,Ni,Sa,ya);tl&&(Ma.horizontal[zi]=tl),fo(),Wt(Wa)&&Rn&&Tn&&(Ma.vertical=U0(_a,D,W,de,Da,io,tn,hi,zi,Pi,$a,uu.vertical,!1,Ni,Sa,ya))}}var rl=void 0,No=!1;if(oa.icon&&oa.icon.name){var nl=ae[oa.icon.name];nl&&(rl=c6(de[oa.icon.name],gt.get("icon-offset").evaluate(oa,{},Ie),gt.get("icon-anchor").evaluate(oa,{},Ie)),No=nl.sdf,R.sdfIcons===void 0?R.sdfIcons=nl.sdf:R.sdfIcons!==nl.sdf&&U("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(nl.pixelRatio!==R.pixelRatio||gt.get("icon-rotate").constantOr(1)!==0)&&(R.iconsNeedLinear=!0))}var fu=H3(Ma.horizontal)||Ma.vertical;R.iconsInText=fu?fu.iconsInText:!1,(fu||rl)&&T6(R,oa,Ma,rl,ae,Rt,Sa,Ya,$a,No,Ie)},jn=0,fa=R.features;jn<fa.length;jn+=1)zn();Ee&&R.generateCollisionDebugBuffers()}function Rm(R){switch(R){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function T6(R,D,W,ae,de,Ee,Ie,tt,gt,Et,Rt){var Zt=Ee.textMaxSize.evaluate(D,{});Zt===void 0&&(Zt=Ie);var fr=R.layers[0].layout,nr=fr.get("icon-offset").evaluate(D,{},Rt),Sr=H3(W.horizontal),Vr=24,un=Ie/Vr,tn=R.tilePixelRatio*un,Rn=R.tilePixelRatio*Zt/Vr,Tn=R.tilePixelRatio*tt,_n=R.tilePixelRatio*fr.get("symbol-spacing"),zn=fr.get("text-padding")*R.tilePixelRatio,jn=fr.get("icon-padding")*R.tilePixelRatio,fa=fr.get("text-max-angle")/180*Math.PI,oa=fr.get("text-rotation-alignment")==="map"&&fr.get("symbol-placement")!=="point",Da=fr.get("icon-rotation-alignment")==="map"&&fr.get("symbol-placement")!=="point",ya=fr.get("symbol-placement"),Sa=_n/2,Ya=fr.get("icon-text-fit"),Ma;ae&&Ya!=="none"&&(R.allowVerticalPlacement&&W.vertical&&(Ma=L3(ae,W.vertical,Ya,fr.get("icon-text-fit-padding"),nr,un)),Sr&&(ae=L3(ae,Sr,Ya,fr.get("icon-text-fit-padding"),nr,un)));var _a=function(nd,uf){uf.x<0||uf.x>=ga||uf.y<0||uf.y>=ga||A6(R,uf,nd,W,ae,de,Ma,R.layers[0],R.collisionBoxArray,D.index,D.sourceLayerIndex,R.index,tn,zn,oa,gt,Tn,jn,Da,nr,D,Ee,Et,Rt,Ie)};if(ya==="line")for(var $a=0,Wa=z3(D.geometry,0,0,ga,ga);$a<Wa.length;$a+=1)for(var ci=Wa[$a],Pi=d6(ci,_n,fa,W.vertical||Sr,ae,Vr,Rn,R.overscaling,ga),hi=0,vi=Pi;hi<vi.length;hi+=1){var li=vi[hi],zi=Sr;(!zi||!S6(R,zi.text,Sa,li))&&_a(ci,li)}else if(ya==="line-center")for(var Ni=0,io=D.geometry;Ni<io.length;Ni+=1){var fo=io[Ni];if(fo.length>1){var jo=v6(fo,fa,W.vertical||Sr,ae,Vr,Rn);jo&&_a(fo,jo)}}else if(D.type==="Polygon")for(var Co=0,Ns=bm(D.geometry,0);Co<Ns.length;Co+=1){var Bs=Ns[Co],Zo=y6(Bs,16);_a(Bs[0],new Xv(Zo.x,Zo.y,0))}else if(D.type==="LineString")for(var tl=0,rl=D.geometry;tl<rl.length;tl+=1){var No=rl[tl];_a(No,new Xv(No[0].x,No[0].y,0))}else if(D.type==="Point")for(var nl=0,fu=D.geometry;nl<fu.length;nl+=1)for(var rh=fu[nl],Eh=0,Mh=rh;Eh<Mh.length;Eh+=1){var Ch=Mh[Eh];_a([Ch],new Xv(Ch.x,Ch.y,0))}}var hp=255,Ah=hp*Jf;function U3(R,D,W,ae,de,Ee,Ie,tt,gt,Et,Rt,Zt,fr,nr,Sr){var Vr=p6(D,W,tt,de,Ee,Ie,ae,R.allowVerticalPlacement),un=R.textSizeData,tn=null;un.kind==="source"?(tn=[Jf*de.layout.get("text-size").evaluate(Ie,{})],tn[0]>Ah&&U(R.layerIds[0]+': Value for "text-size" is >= '+hp+'. Reduce your "text-size".')):un.kind==="composite"&&(tn=[Jf*nr.compositeTextSizes[0].evaluate(Ie,{},Sr),Jf*nr.compositeTextSizes[1].evaluate(Ie,{},Sr)],(tn[0]>Ah||tn[1]>Ah)&&U(R.layerIds[0]+': Value for "text-size" is >= '+hp+'. Reduce your "text-size".')),R.addSymbols(R.text,Vr,tn,tt,Ee,Ie,Et,D,gt.lineStartIndex,gt.lineLength,fr,Sr);for(var Rn=0,Tn=Rt;Rn<Tn.length;Rn+=1){var _n=Tn[Rn];Zt[_n]=R.text.placedSymbolArray.length-1}return Vr.length*4}function H3(R){for(var D in R)return R[D];return null}function A6(R,D,W,ae,de,Ee,Ie,tt,gt,Et,Rt,Zt,fr,nr,Sr,Vr,un,tn,Rn,Tn,_n,zn,jn,fa,oa){var Da,ya=R.addToLineVertexArray(D,W),Sa,Ya,Ma,_a,$a=0,Wa=0,ci=0,Pi=0,hi=-1,vi=-1,li={},zi=Je(""),Ni=0,io=0;if(tt._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Da=tt.layout.get("text-offset").evaluate(_n,{},fa).map(function(pp){return pp*ss}),Ni=Da[0],io=Da[1]):(Ni=tt.layout.get("text-radial-offset").evaluate(_n,{},fa)*ss,io=_m),R.allowVerticalPlacement&&ae.vertical){var fo=tt.layout.get("text-rotate").evaluate(_n,{},fa),jo=fo+90,Co=ae.vertical;Ma=new W0(gt,D,Et,Rt,Zt,Co,fr,nr,Sr,jo),Ie&&(_a=new W0(gt,D,Et,Rt,Zt,Ie,un,tn,Sr,jo))}if(de){var Ns=tt.layout.get("icon-rotate").evaluate(_n,{}),Bs=tt.layout.get("icon-text-fit")!=="none",Zo=F3(de,Ns,jn,Bs),tl=Ie?F3(Ie,Ns,jn,Bs):void 0;Ya=new W0(gt,D,Et,Rt,Zt,de,un,tn,!1,Ns),$a=Zo.length*4;var rl=R.iconSizeData,No=null;rl.kind==="source"?(No=[Jf*tt.layout.get("icon-size").evaluate(_n,{})],No[0]>Ah&&U(R.layerIds[0]+': Value for "icon-size" is >= '+hp+'. Reduce your "icon-size".')):rl.kind==="composite"&&(No=[Jf*zn.compositeIconSizes[0].evaluate(_n,{},fa),Jf*zn.compositeIconSizes[1].evaluate(_n,{},fa)],(No[0]>Ah||No[1]>Ah)&&U(R.layerIds[0]+': Value for "icon-size" is >= '+hp+'. Reduce your "icon-size".')),R.addSymbols(R.icon,Zo,No,Tn,Rn,_n,!1,D,ya.lineStartIndex,ya.lineLength,-1,fa),hi=R.icon.placedSymbolArray.length-1,tl&&(Wa=tl.length*4,R.addSymbols(R.icon,tl,No,Tn,Rn,_n,uu.vertical,D,ya.lineStartIndex,ya.lineLength,-1,fa),vi=R.icon.placedSymbolArray.length-1)}for(var nl in ae.horizontal){var fu=ae.horizontal[nl];if(!Sa){zi=Je(fu.text);var rh=tt.layout.get("text-rotate").evaluate(_n,{},fa);Sa=new W0(gt,D,Et,Rt,Zt,fu,fr,nr,Sr,rh)}var Eh=fu.positionedLines.length===1;if(ci+=U3(R,D,fu,Ee,tt,Sr,_n,Vr,ya,ae.vertical?uu.horizontal:uu.horizontalOnly,Eh?Object.keys(ae.horizontal):[nl],li,hi,zn,fa),Eh)break}ae.vertical&&(Pi+=U3(R,D,ae.vertical,Ee,tt,Sr,_n,Vr,ya,uu.vertical,["vertical"],li,vi,zn,fa));var Mh=Sa?Sa.boxStartIndex:R.collisionBoxArray.length,Ch=Sa?Sa.boxEndIndex:R.collisionBoxArray.length,nd=Ma?Ma.boxStartIndex:R.collisionBoxArray.length,uf=Ma?Ma.boxEndIndex:R.collisionBoxArray.length,K0=Ya?Ya.boxStartIndex:R.collisionBoxArray.length,Fm=Ya?Ya.boxEndIndex:R.collisionBoxArray.length,$0=_a?_a.boxStartIndex:R.collisionBoxArray.length,Nm=_a?_a.boxEndIndex:R.collisionBoxArray.length,Fu=-1,ad=function(pp,nw){return pp&&pp.circleDiameter?Math.max(pp.circleDiameter,nw):nw};Fu=ad(Sa,Fu),Fu=ad(Ma,Fu),Fu=ad(Ya,Fu),Fu=ad(_a,Fu);var J0=Fu>-1?1:0;J0&&(Fu*=oa/ss),R.glyphOffsetArray.length>=Li.MAX_GLYPHS&&U("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),_n.sortKey!==void 0&&R.addToSortKeyRanges(R.symbolInstances.length,_n.sortKey),R.symbolInstances.emplaceBack(D.x,D.y,li.right>=0?li.right:-1,li.center>=0?li.center:-1,li.left>=0?li.left:-1,li.vertical||-1,hi,vi,zi,Mh,Ch,nd,uf,K0,Fm,$0,Nm,Et,ci,Pi,$a,Wa,J0,0,fr,Ni,io,Fu)}function S6(R,D,W,ae){var de=R.compareText;if(!(D in de))de[D]=[];else for(var Ee=de[D],Ie=Ee.length-1;Ie>=0;Ie--)if(ae.dist(Ee[Ie])<W)return!0;return de[D].push(ae),!1}var E6=Wv.VectorTileFeature.types,M6=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Y0(R,D,W,ae,de,Ee,Ie,tt,gt,Et,Rt,Zt,fr){var nr=tt?Math.min(Ah,Math.round(tt[0])):0,Sr=tt?Math.min(Ah,Math.round(tt[1])):0;R.emplaceBack(D,W,Math.round(ae*32),Math.round(de*32),Ee,Ie,(nr<<1)+(gt?1:0),Sr,Et*16,Rt*16,Zt*256,fr*256)}function Dm(R,D,W){R.emplaceBack(D.x,D.y,W),R.emplaceBack(D.x,D.y,W),R.emplaceBack(D.x,D.y,W),R.emplaceBack(D.x,D.y,W)}function C6(R){for(var D=0,W=R.sections;D<W.length;D+=1){var ae=W[D];if(ln(ae.text))return!0}return!1}var qv=function(D){this.layoutVertexArray=new su,this.indexArray=new Ou,this.programConfigurations=D,this.segments=new X,this.dynamicLayoutVertexArray=new xh,this.opacityVertexArray=new Iu,this.placedSymbolArray=new Rc};qv.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},qv.prototype.upload=function(D,W,ae,de){this.isEmpty()||(ae&&(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,Sm.members),this.indexBuffer=D.createIndexBuffer(this.indexArray,W),this.dynamicLayoutVertexBuffer=D.createVertexBuffer(this.dynamicLayoutVertexArray,LE.members,!0),this.opacityVertexBuffer=D.createVertexBuffer(this.opacityVertexArray,M6,!0),this.opacityVertexBuffer.itemSize=1),(ae||de)&&this.programConfigurations.upload(D))},qv.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},ue("SymbolBuffers",qv);var vp=function(D,W,ae){this.layoutVertexArray=new D,this.layoutAttributes=W,this.indexArray=new ae,this.segments=new X,this.collisionVertexArray=new gs};vp.prototype.upload=function(D){this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=D.createVertexBuffer(this.collisionVertexArray,PE.members,!0)},vp.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},ue("CollisionBuffers",vp);var Li=function(D){this.collisionBoxArray=D.collisionBoxArray,this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(gt){return gt.id}),this.index=D.index,this.pixelRatio=D.pixelRatio,this.sourceLayerIndex=D.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Qc([]),this.placementViewportMatrix=Qc([]);var W=this.layers[0],ae=W._unevaluatedLayout._values;this.textSizeData=Pm(this.zoom,ae["text-size"]),this.iconSizeData=Pm(this.zoom,ae["icon-size"]);var de=this.layers[0].layout,Ee=de.get("symbol-sort-key"),Ie=de.get("symbol-z-order");this.sortFeaturesByKey=Ie!=="viewport-y"&&Ee.constantOr(1)!==void 0;var tt=Ie==="viewport-y"||Ie==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=tt&&(de.get("text-allow-overlap")||de.get("icon-allow-overlap")||de.get("text-ignore-placement")||de.get("icon-ignore-placement")),de.get("symbol-placement")==="point"&&(this.writingModes=de.get("text-writing-mode").map(function(gt){return uu[gt]})),this.stateDependentLayerIds=this.layers.filter(function(gt){return gt.isStateDependent()}).map(function(gt){return gt.id}),this.sourceID=D.sourceID};Li.prototype.createArrays=function(){this.text=new qv(new La(Sm.members,this.layers,this.zoom,function(D){return/^text/.test(D)})),this.icon=new qv(new La(Sm.members,this.layers,this.zoom,function(D){return/^icon/.test(D)})),this.glyphOffsetArray=new Hl,this.lineVertexArray=new Fv,this.symbolInstances=new zv},Li.prototype.calculateGlyphDependencies=function(D,W,ae,de,Ee){for(var Ie=0;Ie<D.length;Ie++)if(W[D.charCodeAt(Ie)]=!0,(ae||de)&&Ee){var tt=lp[D.charAt(Ie)];tt&&(W[tt.charCodeAt(0)]=!0)}},Li.prototype.populate=function(D,W,ae){var de=this.layers[0],Ee=de.layout,Ie=Ee.get("text-font"),tt=Ee.get("text-field"),gt=Ee.get("icon-image"),Et=(tt.value.kind!=="constant"||tt.value.value instanceof qi&&!tt.value.value.isEmpty()||tt.value.value.toString().length>0)&&(Ie.value.kind!=="constant"||Ie.value.value.length>0),Rt=gt.value.kind!=="constant"||!!gt.value.value||Object.keys(gt.parameters).length>0,Zt=Ee.get("symbol-sort-key");if(this.features=[],!(!Et&&!Rt)){for(var fr=W.iconDependencies,nr=W.glyphDependencies,Sr=W.availableImages,Vr=new Wn(this.zoom),un=0,tn=D;un<tn.length;un+=1){var Rn=tn[un],Tn=Rn.feature,_n=Rn.id,zn=Rn.index,jn=Rn.sourceLayerIndex,fa=de._featureFilter.needGeometry,oa={type:Tn.type,id:_n,properties:Tn.properties,geometry:fa?ai(Tn):[]};if(de._featureFilter.filter(Vr,oa,ae)){fa||(oa.geometry=ai(Tn));var Da=void 0;if(Et){var ya=de.getValueAndResolveTokens("text-field",oa,ae,Sr),Sa=qi.factory(ya);C6(Sa)&&(this.hasRTLText=!0),(!this.hasRTLText||Ua()==="unavailable"||this.hasRTLText&&ii.isParsed())&&(Da=DE(Sa,de,oa))}var Ya=void 0;if(Rt){var Ma=de.getValueAndResolveTokens("icon-image",oa,ae,Sr);Ma instanceof bo?Ya=Ma:Ya=bo.fromString(Ma)}if(!(!Da&&!Ya)){var _a=this.sortFeaturesByKey?Zt.evaluate(oa,{},ae):void 0,$a={id:_n,text:Da,icon:Ya,index:zn,sourceLayerIndex:jn,geometry:ai(Tn),properties:Tn.properties,type:E6[Tn.type],sortKey:_a};if(this.features.push($a),Ya&&(fr[Ya.name]=!0),Da){var Wa=Ie.evaluate(oa,{},ae).join(","),ci=Ee.get("text-rotation-alignment")==="map"&&Ee.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(uu.vertical)>=0;for(var Pi=0,hi=Da.sections;Pi<hi.length;Pi+=1){var vi=hi[Pi];if(vi.image)fr[vi.image.name]=!0;else{var li=Wt(Da.toString()),zi=vi.fontStack||Wa,Ni=nr[zi]=nr[zi]||{};this.calculateGlyphDependencies(vi.text,Ni,ci,this.allowVerticalPlacement,li)}}}}}}Ee.get("symbol-placement")==="line"&&(this.features=IE(this.features)),this.sortFeaturesByKey&&this.features.sort(function(io,fo){return io.sortKey-fo.sortKey})}},Li.prototype.update=function(D,W,ae){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(D,W,this.layers,ae),this.icon.programConfigurations.updatePaintArrays(D,W,this.layers,ae))},Li.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},Li.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Li.prototype.upload=function(D){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(D),this.iconCollisionBox.upload(D)),this.text.upload(D,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(D,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Li.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Li.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Li.prototype.addToLineVertexArray=function(D,W){var ae=this.lineVertexArray.length;if(D.segment!==void 0){for(var de=D.dist(W[D.segment+1]),Ee=D.dist(W[D.segment]),Ie={},tt=D.segment+1;tt<W.length;tt++)Ie[tt]={x:W[tt].x,y:W[tt].y,tileUnitDistanceFromAnchor:de},tt<W.length-1&&(de+=W[tt+1].dist(W[tt]));for(var gt=D.segment||0;gt>=0;gt--)Ie[gt]={x:W[gt].x,y:W[gt].y,tileUnitDistanceFromAnchor:Ee},gt>0&&(Ee+=W[gt-1].dist(W[gt]));for(var Et=0;Et<W.length;Et++){var Rt=Ie[Et];this.lineVertexArray.emplaceBack(Rt.x,Rt.y,Rt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:ae,lineLength:this.lineVertexArray.length-ae}},Li.prototype.addSymbols=function(D,W,ae,de,Ee,Ie,tt,gt,Et,Rt,Zt,fr){for(var nr=D.indexArray,Sr=D.layoutVertexArray,Vr=D.segments.prepareSegment(4*W.length,Sr,nr,Ie.sortKey),un=this.glyphOffsetArray.length,tn=Vr.vertexLength,Rn=this.allowVerticalPlacement&&tt===uu.vertical?Math.PI/2:0,Tn=Ie.text&&Ie.text.sections,_n=0;_n<W.length;_n++){var zn=W[_n],jn=zn.tl,fa=zn.tr,oa=zn.bl,Da=zn.br,ya=zn.tex,Sa=zn.pixelOffsetTL,Ya=zn.pixelOffsetBR,Ma=zn.minFontScaleX,_a=zn.minFontScaleY,$a=zn.glyphOffset,Wa=zn.isSDF,ci=zn.sectionIndex,Pi=Vr.vertexLength,hi=$a[1];Y0(Sr,gt.x,gt.y,jn.x,hi+jn.y,ya.x,ya.y,ae,Wa,Sa.x,Sa.y,Ma,_a),Y0(Sr,gt.x,gt.y,fa.x,hi+fa.y,ya.x+ya.w,ya.y,ae,Wa,Ya.x,Sa.y,Ma,_a),Y0(Sr,gt.x,gt.y,oa.x,hi+oa.y,ya.x,ya.y+ya.h,ae,Wa,Sa.x,Ya.y,Ma,_a),Y0(Sr,gt.x,gt.y,Da.x,hi+Da.y,ya.x+ya.w,ya.y+ya.h,ae,Wa,Ya.x,Ya.y,Ma,_a),Dm(D.dynamicLayoutVertexArray,gt,Rn),nr.emplaceBack(Pi,Pi+1,Pi+2),nr.emplaceBack(Pi+1,Pi+2,Pi+3),Vr.vertexLength+=4,Vr.primitiveLength+=2,this.glyphOffsetArray.emplaceBack($a[0]),(_n===W.length-1||ci!==W[_n+1].sectionIndex)&&D.programConfigurations.populatePaintArrays(Sr.length,Ie,Ie.index,{},fr,Tn&&Tn[ci])}D.placedSymbolArray.emplaceBack(gt.x,gt.y,un,this.glyphOffsetArray.length-un,tn,Et,Rt,gt.segment,ae?ae[0]:0,ae?ae[1]:0,de[0],de[1],tt,0,!1,0,Zt)},Li.prototype._addCollisionDebugVertex=function(D,W,ae,de,Ee,Ie){return W.emplaceBack(0,0),D.emplaceBack(ae.x,ae.y,de,Ee,Math.round(Ie.x),Math.round(Ie.y))},Li.prototype.addCollisionDebugVertices=function(D,W,ae,de,Ee,Ie,tt){var gt=Ee.segments.prepareSegment(4,Ee.layoutVertexArray,Ee.indexArray),Et=gt.vertexLength,Rt=Ee.layoutVertexArray,Zt=Ee.collisionVertexArray,fr=tt.anchorX,nr=tt.anchorY;this._addCollisionDebugVertex(Rt,Zt,Ie,fr,nr,new t(D,W)),this._addCollisionDebugVertex(Rt,Zt,Ie,fr,nr,new t(ae,W)),this._addCollisionDebugVertex(Rt,Zt,Ie,fr,nr,new t(ae,de)),this._addCollisionDebugVertex(Rt,Zt,Ie,fr,nr,new t(D,de)),gt.vertexLength+=4;var Sr=Ee.indexArray;Sr.emplaceBack(Et,Et+1),Sr.emplaceBack(Et+1,Et+2),Sr.emplaceBack(Et+2,Et+3),Sr.emplaceBack(Et+3,Et),gt.primitiveLength+=4},Li.prototype.addDebugCollisionBoxes=function(D,W,ae,de){for(var Ee=D;Ee<W;Ee++){var Ie=this.collisionBoxArray.get(Ee),tt=Ie.x1,gt=Ie.y1,Et=Ie.x2,Rt=Ie.y2;this.addCollisionDebugVertices(tt,gt,Et,Rt,de?this.textCollisionBox:this.iconCollisionBox,Ie.anchorPoint,ae)}},Li.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new vp(Lc,p3.members,Yf),this.iconCollisionBox=new vp(Lc,p3.members,Yf);for(var D=0;D<this.symbolInstances.length;D++){var W=this.symbolInstances.get(D);this.addDebugCollisionBoxes(W.textBoxStartIndex,W.textBoxEndIndex,W,!0),this.addDebugCollisionBoxes(W.verticalTextBoxStartIndex,W.verticalTextBoxEndIndex,W,!0),this.addDebugCollisionBoxes(W.iconBoxStartIndex,W.iconBoxEndIndex,W,!1),this.addDebugCollisionBoxes(W.verticalIconBoxStartIndex,W.verticalIconBoxEndIndex,W,!1)}},Li.prototype._deserializeCollisionBoxesForSymbol=function(D,W,ae,de,Ee,Ie,tt,gt,Et){for(var Rt={},Zt=W;Zt<ae;Zt++){var fr=D.get(Zt);Rt.textBox={x1:fr.x1,y1:fr.y1,x2:fr.x2,y2:fr.y2,anchorPointX:fr.anchorPointX,anchorPointY:fr.anchorPointY},Rt.textFeatureIndex=fr.featureIndex;break}for(var nr=de;nr<Ee;nr++){var Sr=D.get(nr);Rt.verticalTextBox={x1:Sr.x1,y1:Sr.y1,x2:Sr.x2,y2:Sr.y2,anchorPointX:Sr.anchorPointX,anchorPointY:Sr.anchorPointY},Rt.verticalTextFeatureIndex=Sr.featureIndex;break}for(var Vr=Ie;Vr<tt;Vr++){var un=D.get(Vr);Rt.iconBox={x1:un.x1,y1:un.y1,x2:un.x2,y2:un.y2,anchorPointX:un.anchorPointX,anchorPointY:un.anchorPointY},Rt.iconFeatureIndex=un.featureIndex;break}for(var tn=gt;tn<Et;tn++){var Rn=D.get(tn);Rt.verticalIconBox={x1:Rn.x1,y1:Rn.y1,x2:Rn.x2,y2:Rn.y2,anchorPointX:Rn.anchorPointX,anchorPointY:Rn.anchorPointY},Rt.verticalIconFeatureIndex=Rn.featureIndex;break}return Rt},Li.prototype.deserializeCollisionBoxes=function(D){this.collisionArrays=[];for(var W=0;W<this.symbolInstances.length;W++){var ae=this.symbolInstances.get(W);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(D,ae.textBoxStartIndex,ae.textBoxEndIndex,ae.verticalTextBoxStartIndex,ae.verticalTextBoxEndIndex,ae.iconBoxStartIndex,ae.iconBoxEndIndex,ae.verticalIconBoxStartIndex,ae.verticalIconBoxEndIndex))}},Li.prototype.hasTextData=function(){return this.text.segments.get().length>0},Li.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Li.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Li.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Li.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Li.prototype.addIndicesForPlacedSymbol=function(D,W){for(var ae=D.placedSymbolArray.get(W),de=ae.vertexStartIndex+ae.numGlyphs*4,Ee=ae.vertexStartIndex;Ee<de;Ee+=4)D.indexArray.emplaceBack(Ee,Ee+1,Ee+2),D.indexArray.emplaceBack(Ee+1,Ee+2,Ee+3)},Li.prototype.getSortedSymbolIndexes=function(D){if(this.sortedAngle===D&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var W=Math.sin(D),ae=Math.cos(D),de=[],Ee=[],Ie=[],tt=0;tt<this.symbolInstances.length;++tt){Ie.push(tt);var gt=this.symbolInstances.get(tt);de.push(Math.round(W*gt.anchorX+ae*gt.anchorY)|0),Ee.push(gt.featureIndex)}return Ie.sort(function(Et,Rt){return de[Et]-de[Rt]||Ee[Rt]-Ee[Et]}),Ie},Li.prototype.addToSortKeyRanges=function(D,W){var ae=this.sortKeyRanges[this.sortKeyRanges.length-1];ae&&ae.sortKey===W?ae.symbolInstanceEnd=D+1:this.sortKeyRanges.push({sortKey:W,symbolInstanceStart:D,symbolInstanceEnd:D+1})},Li.prototype.sortFeatures=function(D){var W=this;if(this.sortFeaturesByY&&this.sortedAngle!==D&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(D),this.sortedAngle=D,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var ae=0,de=this.symbolInstanceIndexes;ae<de.length;ae+=1){var Ee=de[ae],Ie=this.symbolInstances.get(Ee);this.featureSortOrder.push(Ie.featureIndex),[Ie.rightJustifiedTextSymbolIndex,Ie.centerJustifiedTextSymbolIndex,Ie.leftJustifiedTextSymbolIndex].forEach(function(tt,gt,Et){tt>=0&&Et.indexOf(tt)===gt&&W.addIndicesForPlacedSymbol(W.text,tt)}),Ie.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Ie.verticalPlacedTextSymbolIndex),Ie.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ie.placedIconSymbolIndex),Ie.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ie.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},ue("SymbolBucket",Li,{omit:["layers","collisionBoxArray","features","compareText"]}),Li.MAX_GLYPHS=65535,Li.addDynamicAttributes=Dm;function L6(R,D){return D.replace(/{([^{}]+)}/g,function(W,ae){return ae in R?String(R[ae]):""})}var P6=new ao({"symbol-placement":new wa(Jt.layout_symbol["symbol-placement"]),"symbol-spacing":new wa(Jt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new wa(Jt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ca(Jt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new wa(Jt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new wa(Jt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new wa(Jt.layout_symbol["icon-ignore-placement"]),"icon-optional":new wa(Jt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new wa(Jt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ca(Jt.layout_symbol["icon-size"]),"icon-text-fit":new wa(Jt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new wa(Jt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ca(Jt.layout_symbol["icon-image"]),"icon-rotate":new Ca(Jt.layout_symbol["icon-rotate"]),"icon-padding":new wa(Jt.layout_symbol["icon-padding"]),"icon-keep-upright":new wa(Jt.layout_symbol["icon-keep-upright"]),"icon-offset":new Ca(Jt.layout_symbol["icon-offset"]),"icon-anchor":new Ca(Jt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new wa(Jt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new wa(Jt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new wa(Jt.layout_symbol["text-rotation-alignment"]),"text-field":new Ca(Jt.layout_symbol["text-field"]),"text-font":new Ca(Jt.layout_symbol["text-font"]),"text-size":new Ca(Jt.layout_symbol["text-size"]),"text-max-width":new Ca(Jt.layout_symbol["text-max-width"]),"text-line-height":new wa(Jt.layout_symbol["text-line-height"]),"text-letter-spacing":new Ca(Jt.layout_symbol["text-letter-spacing"]),"text-justify":new Ca(Jt.layout_symbol["text-justify"]),"text-radial-offset":new Ca(Jt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new wa(Jt.layout_symbol["text-variable-anchor"]),"text-anchor":new Ca(Jt.layout_symbol["text-anchor"]),"text-max-angle":new wa(Jt.layout_symbol["text-max-angle"]),"text-writing-mode":new wa(Jt.layout_symbol["text-writing-mode"]),"text-rotate":new Ca(Jt.layout_symbol["text-rotate"]),"text-padding":new wa(Jt.layout_symbol["text-padding"]),"text-keep-upright":new wa(Jt.layout_symbol["text-keep-upright"]),"text-transform":new Ca(Jt.layout_symbol["text-transform"]),"text-offset":new Ca(Jt.layout_symbol["text-offset"]),"text-allow-overlap":new wa(Jt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new wa(Jt.layout_symbol["text-ignore-placement"]),"text-optional":new wa(Jt.layout_symbol["text-optional"])}),_6=new ao({"icon-opacity":new Ca(Jt.paint_symbol["icon-opacity"]),"icon-color":new Ca(Jt.paint_symbol["icon-color"]),"icon-halo-color":new Ca(Jt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ca(Jt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ca(Jt.paint_symbol["icon-halo-blur"]),"icon-translate":new wa(Jt.paint_symbol["icon-translate"]),"icon-translate-anchor":new wa(Jt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Ca(Jt.paint_symbol["text-opacity"]),"text-color":new Ca(Jt.paint_symbol["text-color"],{runtimeType:Fn,getOverride:function(R){return R.textColor},hasOverride:function(R){return!!R.textColor}}),"text-halo-color":new Ca(Jt.paint_symbol["text-halo-color"]),"text-halo-width":new Ca(Jt.paint_symbol["text-halo-width"]),"text-halo-blur":new Ca(Jt.paint_symbol["text-halo-blur"]),"text-translate":new wa(Jt.paint_symbol["text-translate"]),"text-translate-anchor":new wa(Jt.paint_symbol["text-translate-anchor"])}),Im={paint:_6,layout:P6},ed=function(D){this.type=D.property.overrides?D.property.overrides.runtimeType:zr,this.defaultValue=D};ed.prototype.evaluate=function(D){if(D.formattedSection){var W=this.defaultValue.property.overrides;if(W&&W.hasOverride(D.formattedSection))return W.getOverride(D.formattedSection)}return D.feature&&D.featureState?this.defaultValue.evaluate(D.feature,D.featureState):this.defaultValue.property.specification.default},ed.prototype.eachChild=function(D){if(!this.defaultValue.isConstant()){var W=this.defaultValue.value;D(W._styleExpression.expression)}},ed.prototype.outputDefined=function(){return!1},ed.prototype.serialize=function(){return null},ue("FormatSectionOverride",ed,{omit:["defaultValue"]});var R6=function(R){function D(W){R.call(this,W,Im)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(ae,de){if(R.prototype.recalculate.call(this,ae,de),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Ee=this.layout.get("text-writing-mode");if(Ee){for(var Ie=[],tt=0,gt=Ee;tt<gt.length;tt+=1){var Et=gt[tt];Ie.indexOf(Et)<0&&Ie.push(Et)}this.layout._values["text-writing-mode"]=Ie}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},D.prototype.getValueAndResolveTokens=function(ae,de,Ee,Ie){var tt=this.layout.get(ae).evaluate(de,{},Ee,Ie),gt=this._unevaluatedLayout._values[ae];return!gt.isDataDriven()&&!dl(gt.value)&&tt?L6(de.properties,tt):tt},D.prototype.createBucket=function(ae){return new Li(ae)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype._setPaintOverrides=function(){for(var ae=0,de=Im.paint.overridableProperties;ae<de.length;ae+=1){var Ee=de[ae];if(D.hasPaintOverride(this.layout,Ee)){var Ie=this.paint.get(Ee),tt=new ed(Ie),gt=new $s(tt,Ie.property.specification),Et=null;Ie.value.kind==="constant"||Ie.value.kind==="source"?Et=new pl("source",gt):Et=new wo("composite",gt,Ie.value.zoomStops,Ie.value._interpolationType),this.paint._values[Ee]=new wi(Ie.property,Et,Ie.parameters)}}},D.prototype._handleOverridablePaintPropertyUpdate=function(ae,de,Ee){return!this.layout||de.isDataDriven()||Ee.isDataDriven()?!1:D.hasPaintOverride(this.layout,ae)},D.hasPaintOverride=function(ae,de){var Ee=ae.get("text-field"),Ie=Im.paint.properties[de],tt=!1,gt=function(Zt){for(var fr=0,nr=Zt;fr<nr.length;fr+=1){var Sr=nr[fr];if(Ie.overrides&&Ie.overrides.hasOverride(Sr)){tt=!0;return}}};if(Ee.value.kind==="constant"&&Ee.value.value instanceof qi)gt(Ee.value.value.sections);else if(Ee.value.kind==="source"){var Et=function(Zt){if(!tt)if(Zt instanceof ro&&ki(Zt.value)===va){var fr=Zt.value;gt(fr.sections)}else Zt instanceof Jo?gt(Zt.sections):Zt.eachChild(Et)},Rt=Ee.value;Rt._styleExpression&&Et(Rt._styleExpression.expression)}return tt},D}(Ri),D6=new ao({"background-color":new wa(Jt.paint_background["background-color"]),"background-pattern":new Gi(Jt.paint_background["background-pattern"]),"background-opacity":new wa(Jt.paint_background["background-opacity"])}),I6={paint:D6},k6=function(R){function D(W){R.call(this,W,I6)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Ri),O6=new ao({"raster-opacity":new wa(Jt.paint_raster["raster-opacity"]),"raster-hue-rotate":new wa(Jt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new wa(Jt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new wa(Jt.paint_raster["raster-brightness-max"]),"raster-saturation":new wa(Jt.paint_raster["raster-saturation"]),"raster-contrast":new wa(Jt.paint_raster["raster-contrast"]),"raster-resampling":new wa(Jt.paint_raster["raster-resampling"]),"raster-fade-duration":new wa(Jt.paint_raster["raster-fade-duration"])}),z6={paint:O6},F6=function(R){function D(W){R.call(this,W,z6)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Ri);function N6(R){var D=[],W=R.id;return W===void 0&&D.push({message:"layers."+W+': missing required property "id"'}),R.render===void 0&&D.push({message:"layers."+W+': missing required method "render"'}),R.renderingMode&&R.renderingMode!=="2d"&&R.renderingMode!=="3d"&&D.push({message:"layers."+W+': property "renderingMode" must be either "2d" or "3d"'}),D}var B6=function(R){function D(W){R.call(this,W,{}),this.implementation=W}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},D.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},D.prototype.recalculate=function(){},D.prototype.updateTransitions=function(){},D.prototype.hasTransition=function(){},D.prototype.serialize=function(){},D.prototype.onAdd=function(ae){this.implementation.onAdd&&this.implementation.onAdd(ae,ae.painter.context.gl)},D.prototype.onRemove=function(ae){this.implementation.onRemove&&this.implementation.onRemove(ae,ae.painter.context.gl)},D}(Ri),U6={circle:pS,heatmap:xS,hillshade:TS,fill:ZS,"fill-extrusion":vE,line:ME,symbol:R6,background:k6,raster:F6};function H6(R){return R.type==="custom"?new B6(R):new U6[R.type](R)}var V3=self.HTMLImageElement,G3=self.HTMLCanvasElement,W3=self.HTMLVideoElement,Y3=self.ImageData,j0=self.ImageBitmap,ov=function(D,W,ae,de){this.context=D,this.format=ae,this.texture=D.gl.createTexture(),this.update(W,de)};ov.prototype.update=function(D,W,ae){var de=D.width,Ee=D.height,Ie=(!this.size||this.size[0]!==de||this.size[1]!==Ee)&&!ae,tt=this,gt=tt.context,Et=gt.gl;if(this.useMipmap=!!(W&&W.useMipmap),Et.bindTexture(Et.TEXTURE_2D,this.texture),gt.pixelStoreUnpackFlipY.set(!1),gt.pixelStoreUnpack.set(1),gt.pixelStoreUnpackPremultiplyAlpha.set(this.format===Et.RGBA&&(!W||W.premultiply!==!1)),Ie)this.size=[de,Ee],D instanceof V3||D instanceof G3||D instanceof W3||D instanceof Y3||j0&&D instanceof j0?Et.texImage2D(Et.TEXTURE_2D,0,this.format,this.format,Et.UNSIGNED_BYTE,D):Et.texImage2D(Et.TEXTURE_2D,0,this.format,de,Ee,0,this.format,Et.UNSIGNED_BYTE,D.data);else{var Rt=ae||{x:0,y:0},Zt=Rt.x,fr=Rt.y;D instanceof V3||D instanceof G3||D instanceof W3||D instanceof Y3||j0&&D instanceof j0?Et.texSubImage2D(Et.TEXTURE_2D,0,Zt,fr,Et.RGBA,Et.UNSIGNED_BYTE,D):Et.texSubImage2D(Et.TEXTURE_2D,0,Zt,fr,de,Ee,Et.RGBA,Et.UNSIGNED_BYTE,D.data)}this.useMipmap&&this.isSizePowerOfTwo()&&Et.generateMipmap(Et.TEXTURE_2D)},ov.prototype.bind=function(D,W,ae){var de=this,Ee=de.context,Ie=Ee.gl;Ie.bindTexture(Ie.TEXTURE_2D,this.texture),ae===Ie.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(ae=Ie.LINEAR),D!==this.filter&&(Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_MAG_FILTER,D),Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_MIN_FILTER,ae||D),this.filter=D),W!==this.wrap&&(Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_WRAP_S,W),Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_WRAP_T,W),this.wrap=W)},ov.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},ov.prototype.destroy=function(){var D=this.context,W=D.gl;W.deleteTexture(this.texture),this.texture=null};var km=function(D){var W=this;this._callback=D,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){W._triggered=!1,W._callback()})};km.prototype.trigger=function(){var D=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){D._triggered=!1,D._callback()},0))},km.prototype.remove=function(){delete this._channel,this._callback=function(){}};var td=function(D,W,ae){this.target=D,this.parent=W,this.mapId=ae,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},M(["receive","process"],this),this.invoker=new km(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=O()?D:self};td.prototype.send=function(D,W,ae,de,Ee){var Ie=this;Ee===void 0&&(Ee=!1);var tt=Math.round(Math.random()*1e18).toString(36).substring(0,10);ae&&(this.callbacks[tt]=ae);var gt=J(this.globalScope)?void 0:[];return this.target.postMessage({id:tt,type:D,hasCallback:!!ae,targetMapId:de,mustQueue:Ee,sourceMapId:this.mapId,data:ot(W,gt)},gt),{cancel:function(){ae&&delete Ie.callbacks[tt],Ie.target.postMessage({id:tt,type:"<cancel>",targetMapId:de,sourceMapId:Ie.mapId})}}},td.prototype.receive=function(D){var W=D.data,ae=W.id;if(ae&&!(W.targetMapId&&this.mapId!==W.targetMapId))if(W.type==="<cancel>"){delete this.tasks[ae];var de=this.cancelCallbacks[ae];delete this.cancelCallbacks[ae],de&&de()}else O()||W.mustQueue?(this.tasks[ae]=W,this.taskQueue.push(ae),this.invoker.trigger()):this.processTask(ae,W)},td.prototype.process=function(){if(this.taskQueue.length){var D=this.taskQueue.shift(),W=this.tasks[D];delete this.tasks[D],this.taskQueue.length&&this.invoker.trigger(),W&&this.processTask(D,W)}},td.prototype.processTask=function(D,W){var ae=this;if(W.type==="<response>"){var de=this.callbacks[D];delete this.callbacks[D],de&&(W.error?de(ft(W.error)):de(null,ft(W.data)))}else{var Ee=!1,Ie=J(this.globalScope)?void 0:[],tt=W.hasCallback?function(fr,nr){Ee=!0,delete ae.cancelCallbacks[D],ae.target.postMessage({id:D,type:"<response>",sourceMapId:ae.mapId,error:fr?ot(fr):null,data:ot(nr,Ie)},Ie)}:function(fr){Ee=!0},gt=null,Et=ft(W.data);if(this.parent[W.type])gt=this.parent[W.type](W.sourceMapId,Et,tt);else if(this.parent.getWorkerSource){var Rt=W.type.split("."),Zt=this.parent.getWorkerSource(W.sourceMapId,Rt[0],Et.source);gt=Zt[Rt[1]](Et,tt)}else tt(new Error("Could not find function "+W.type));!Ee&&gt&&gt.cancel&&(this.cancelCallbacks[D]=gt.cancel)}},td.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function V6(R,D,W){D=Math.pow(2,W)-D-1;var ae=j3(R*256,D*256,W),de=j3((R+1)*256,(D+1)*256,W);return ae[0]+","+ae[1]+","+de[0]+","+de[1]}function j3(R,D,W){var ae=2*Math.PI*6378137/256/Math.pow(2,W),de=R*ae-2*Math.PI*6378137/2,Ee=D*ae-2*Math.PI*6378137/2;return[de,Ee]}var Eo=function(D,W){D&&(W?this.setSouthWest(D).setNorthEast(W):D.length===4?this.setSouthWest([D[0],D[1]]).setNorthEast([D[2],D[3]]):this.setSouthWest(D[0]).setNorthEast(D[1]))};Eo.prototype.setNorthEast=function(D){return this._ne=D instanceof Wi?new Wi(D.lng,D.lat):Wi.convert(D),this},Eo.prototype.setSouthWest=function(D){return this._sw=D instanceof Wi?new Wi(D.lng,D.lat):Wi.convert(D),this},Eo.prototype.extend=function(D){var W=this._sw,ae=this._ne,de,Ee;if(D instanceof Wi)de=D,Ee=D;else if(D instanceof Eo){if(de=D._sw,Ee=D._ne,!de||!Ee)return this}else{if(Array.isArray(D))if(D.length===4||D.every(Array.isArray)){var Ie=D;return this.extend(Eo.convert(Ie))}else{var tt=D;return this.extend(Wi.convert(tt))}return this}return!W&&!ae?(this._sw=new Wi(de.lng,de.lat),this._ne=new Wi(Ee.lng,Ee.lat)):(W.lng=Math.min(de.lng,W.lng),W.lat=Math.min(de.lat,W.lat),ae.lng=Math.max(Ee.lng,ae.lng),ae.lat=Math.max(Ee.lat,ae.lat)),this},Eo.prototype.getCenter=function(){return new Wi((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Eo.prototype.getSouthWest=function(){return this._sw},Eo.prototype.getNorthEast=function(){return this._ne},Eo.prototype.getNorthWest=function(){return new Wi(this.getWest(),this.getNorth())},Eo.prototype.getSouthEast=function(){return new Wi(this.getEast(),this.getSouth())},Eo.prototype.getWest=function(){return this._sw.lng},Eo.prototype.getSouth=function(){return this._sw.lat},Eo.prototype.getEast=function(){return this._ne.lng},Eo.prototype.getNorth=function(){return this._ne.lat},Eo.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Eo.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Eo.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Eo.prototype.contains=function(D){var W=Wi.convert(D),ae=W.lng,de=W.lat,Ee=this._sw.lat<=de&&de<=this._ne.lat,Ie=this._sw.lng<=ae&&ae<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Ie=this._sw.lng>=ae&&ae>=this._ne.lng),Ee&&Ie},Eo.convert=function(D){return!D||D instanceof Eo?D:new Eo(D)};var Z3=63710088e-1,Wi=function(D,W){if(isNaN(D)||isNaN(W))throw new Error("Invalid LngLat object: ("+D+", "+W+")");if(this.lng=+D,this.lat=+W,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Wi.prototype.wrap=function(){return new Wi(y(this.lng,-180,180),this.lat)},Wi.prototype.toArray=function(){return[this.lng,this.lat]},Wi.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Wi.prototype.distanceTo=function(D){var W=Math.PI/180,ae=this.lat*W,de=D.lat*W,Ee=Math.sin(ae)*Math.sin(de)+Math.cos(ae)*Math.cos(de)*Math.cos((D.lng-this.lng)*W),Ie=Z3*Math.acos(Math.min(Ee,1));return Ie},Wi.prototype.toBounds=function(D){D===void 0&&(D=0);var W=40075017,ae=360*D/W,de=ae/Math.cos(Math.PI/180*this.lat);return new Eo(new Wi(this.lng-de,this.lat-ae),new Wi(this.lng+de,this.lat+ae))},Wi.convert=function(D){if(D instanceof Wi)return D;if(Array.isArray(D)&&(D.length===2||D.length===3))return new Wi(Number(D[0]),Number(D[1]));if(!Array.isArray(D)&&typeof D=="object"&&D!==null)return new Wi(Number("lng"in D?D.lng:D.lon),Number(D.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var X3=2*Math.PI*Z3;function K3(R){return X3*Math.cos(R*Math.PI/180)}function $3(R){return(180+R)/360}function J3(R){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+R*Math.PI/360)))/360}function Q3(R,D){return R/K3(D)}function G6(R){return R*360-180}function Om(R){var D=180-R*360;return 360/Math.PI*Math.atan(Math.exp(D*Math.PI/180))-90}function W6(R,D){return R*K3(Om(D))}function Y6(R){return 1/Math.cos(R*Math.PI/180)}var sv=function(D,W,ae){ae===void 0&&(ae=0),this.x=+D,this.y=+W,this.z=+ae};sv.fromLngLat=function(D,W){W===void 0&&(W=0);var ae=Wi.convert(D);return new sv($3(ae.lng),J3(ae.lat),Q3(W,ae.lat))},sv.prototype.toLngLat=function(){return new Wi(G6(this.x),Om(this.y))},sv.prototype.toAltitude=function(){return W6(this.z,this.y)},sv.prototype.meterInMercatorCoordinateUnits=function(){return 1/X3*Y6(Om(this.y))};var lv=function(D,W,ae){this.z=D,this.x=W,this.y=ae,this.key=dp(0,D,D,W,ae)};lv.prototype.equals=function(D){return this.z===D.z&&this.x===D.x&&this.y===D.y},lv.prototype.url=function(D,W){var ae=V6(this.x,this.y,this.z),de=j6(this.z,this.x,this.y);return D[(this.x+this.y)%D.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(W==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",de).replace("{bbox-epsg-3857}",ae)},lv.prototype.getTilePoint=function(D){var W=Math.pow(2,this.z);return new t((D.x*W-this.x)*ga,(D.y*W-this.y)*ga)},lv.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var q3=function(D,W){this.wrap=D,this.canonical=W,this.key=dp(D,W.z,W.z,W.x,W.y)},Mo=function(D,W,ae,de,Ee){this.overscaledZ=D,this.wrap=W,this.canonical=new lv(ae,+de,+Ee),this.key=dp(W,D,ae,de,Ee)};Mo.prototype.equals=function(D){return this.overscaledZ===D.overscaledZ&&this.wrap===D.wrap&&this.canonical.equals(D.canonical)},Mo.prototype.scaledTo=function(D){var W=this.canonical.z-D;return D>this.canonical.z?new Mo(D,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Mo(D,this.wrap,D,this.canonical.x>>W,this.canonical.y>>W)},Mo.prototype.calculateScaledKey=function(D,W){var ae=this.canonical.z-D;return D>this.canonical.z?dp(this.wrap*+W,D,this.canonical.z,this.canonical.x,this.canonical.y):dp(this.wrap*+W,D,D,this.canonical.x>>ae,this.canonical.y>>ae)},Mo.prototype.isChildOf=function(D){if(D.wrap!==this.wrap)return!1;var W=this.canonical.z-D.canonical.z;return D.overscaledZ===0||D.overscaledZ<this.overscaledZ&&D.canonical.x===this.canonical.x>>W&&D.canonical.y===this.canonical.y>>W},Mo.prototype.children=function(D){if(this.overscaledZ>=D)return[new Mo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var W=this.canonical.z+1,ae=this.canonical.x*2,de=this.canonical.y*2;return[new Mo(W,this.wrap,W,ae,de),new Mo(W,this.wrap,W,ae+1,de),new Mo(W,this.wrap,W,ae,de+1),new Mo(W,this.wrap,W,ae+1,de+1)]},Mo.prototype.isLessThan=function(D){return this.wrap<D.wrap?!0:this.wrap>D.wrap?!1:this.overscaledZ<D.overscaledZ?!0:this.overscaledZ>D.overscaledZ?!1:this.canonical.x<D.canonical.x?!0:this.canonical.x>D.canonical.x?!1:this.canonical.y<D.canonical.y},Mo.prototype.wrapped=function(){return new Mo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Mo.prototype.unwrapTo=function(D){return new Mo(this.overscaledZ,D,this.canonical.z,this.canonical.x,this.canonical.y)},Mo.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Mo.prototype.toUnwrapped=function(){return new q3(this.wrap,this.canonical)},Mo.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Mo.prototype.getTilePoint=function(D){return this.canonical.getTilePoint(new sv(D.x-this.wrap,D.y))};function dp(R,D,W,ae,de){R*=2,R<0&&(R=R*-1-1);var Ee=1<<W;return(Ee*Ee*R+Ee*de+ae).toString(36)+W.toString(36)+D.toString(36)}function j6(R,D,W){for(var ae="",de,Ee=R;Ee>0;Ee--)de=1<<Ee-1,ae+=(D&de?1:0)+(W&de?2:0);return ae}ue("CanonicalTileID",lv),ue("OverscaledTileID",Mo,{omit:["posMatrix"]});var eh=function(D,W,ae){if(this.uid=D,W.height!==W.width)throw new RangeError("DEM tiles must be square");if(ae&&ae!=="mapbox"&&ae!=="terrarium")return U('"'+ae+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=W.height;var de=this.dim=W.height-2;this.data=new Uint32Array(W.data.buffer),this.encoding=ae||"mapbox";for(var Ee=0;Ee<de;Ee++)this.data[this._idx(-1,Ee)]=this.data[this._idx(0,Ee)],this.data[this._idx(de,Ee)]=this.data[this._idx(de-1,Ee)],this.data[this._idx(Ee,-1)]=this.data[this._idx(Ee,0)],this.data[this._idx(Ee,de)]=this.data[this._idx(Ee,de-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(de,-1)]=this.data[this._idx(de-1,0)],this.data[this._idx(-1,de)]=this.data[this._idx(0,de-1)],this.data[this._idx(de,de)]=this.data[this._idx(de-1,de-1)]};eh.prototype.get=function(D,W){var ae=new Uint8Array(this.data.buffer),de=this._idx(D,W)*4,Ee=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return Ee(ae[de],ae[de+1],ae[de+2])},eh.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},eh.prototype._idx=function(D,W){if(D<-1||D>=this.dim+1||W<-1||W>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(W+1)*this.stride+(D+1)},eh.prototype._unpackMapbox=function(D,W,ae){return(D*256*256+W*256+ae)/10-1e4},eh.prototype._unpackTerrarium=function(D,W,ae){return D*256+W+ae/256-32768},eh.prototype.getPixels=function(){return new xl({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},eh.prototype.backfillBorder=function(D,W,ae){if(this.dim!==D.dim)throw new Error("dem dimension mismatch");var de=W*this.dim,Ee=W*this.dim+this.dim,Ie=ae*this.dim,tt=ae*this.dim+this.dim;switch(W){case-1:de=Ee-1;break;case 1:Ee=de+1;break}switch(ae){case-1:Ie=tt-1;break;case 1:tt=Ie+1;break}for(var gt=-W*this.dim,Et=-ae*this.dim,Rt=Ie;Rt<tt;Rt++)for(var Zt=de;Zt<Ee;Zt++)this.data[this._idx(Zt,Rt)]=D.data[this._idx(Zt+gt,Rt+Et)]},ue("DEMData",eh);function Z6(R,D){var W={};if(!D)return W;for(var ae=function(){var Ie=Ee[de],tt=Ie.layerIds.map(function(Zt){return D.getLayer(Zt)}).filter(Boolean);if(tt.length!==0){Ie.layers=tt,Ie.stateDependentLayerIds&&(Ie.stateDependentLayers=Ie.stateDependentLayerIds.map(function(Zt){return tt.filter(function(fr){return fr.id===Zt})[0]}));for(var gt=0,Et=tt;gt<Et.length;gt+=1){var Rt=Et[gt];W[Rt.id]=Ie}}},de=0,Ee=R;de<Ee.length;de+=1)ae();return W}var Z0=function(D){this._stringToNumber={},this._numberToString=[];for(var W=0;W<D.length;W++){var ae=D[W];this._stringToNumber[ae]=W,this._numberToString[W]=ae}};Z0.prototype.encode=function(D){return this._stringToNumber[D]},Z0.prototype.decode=function(D){return this._numberToString[D]};var X0=function(D,W,ae,de,Ee){this.type="Feature",this._vectorTileFeature=D,D._z=W,D._x=ae,D._y=de,this.properties=D.properties,this.id=Ee},zm={geometry:{configurable:!0}};zm.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},zm.geometry.set=function(R){this._geometry=R},X0.prototype.toJSON=function(){var D={geometry:this.geometry};for(var W in this)W==="_geometry"||W==="_vectorTileFeature"||(D[W]=this[W]);return D},Object.defineProperties(X0.prototype,zm);var rd=function(){this.state={},this.stateChanges={},this.deletedStates={}};rd.prototype.updateState=function(D,W,ae){var de=String(W);if(this.stateChanges[D]=this.stateChanges[D]||{},this.stateChanges[D][de]=this.stateChanges[D][de]||{},l(this.stateChanges[D][de],ae),this.deletedStates[D]===null){this.deletedStates[D]={};for(var Ee in this.state[D])Ee!==de&&(this.deletedStates[D][Ee]=null)}else{var Ie=this.deletedStates[D]&&this.deletedStates[D][de]===null;if(Ie){this.deletedStates[D][de]={};for(var tt in this.state[D][de])ae[tt]||(this.deletedStates[D][de][tt]=null)}else for(var gt in ae){var Et=this.deletedStates[D]&&this.deletedStates[D][de]&&this.deletedStates[D][de][gt]===null;Et&&delete this.deletedStates[D][de][gt]}}},rd.prototype.removeFeatureState=function(D,W,ae){var de=this.deletedStates[D]===null;if(!de){var Ee=String(W);if(this.deletedStates[D]=this.deletedStates[D]||{},ae&&W!==void 0)this.deletedStates[D][Ee]!==null&&(this.deletedStates[D][Ee]=this.deletedStates[D][Ee]||{},this.deletedStates[D][Ee][ae]=null);else if(W!==void 0){var Ie=this.stateChanges[D]&&this.stateChanges[D][Ee];if(Ie){this.deletedStates[D][Ee]={};for(ae in this.stateChanges[D][Ee])this.deletedStates[D][Ee][ae]=null}else this.deletedStates[D][Ee]=null}else this.deletedStates[D]=null}},rd.prototype.getState=function(D,W){var ae=String(W),de=this.state[D]||{},Ee=this.stateChanges[D]||{},Ie=l({},de[ae],Ee[ae]);if(this.deletedStates[D]===null)return{};if(this.deletedStates[D]){var tt=this.deletedStates[D][W];if(tt===null)return{};for(var gt in tt)delete Ie[gt]}return Ie},rd.prototype.initializeTileState=function(D,W){D.setFeatureState(this.state,W)},rd.prototype.coalesceChanges=function(D,W){var ae={};for(var de in this.stateChanges){this.state[de]=this.state[de]||{};var Ee={};for(var Ie in this.stateChanges[de])this.state[de][Ie]||(this.state[de][Ie]={}),l(this.state[de][Ie],this.stateChanges[de][Ie]),Ee[Ie]=this.state[de][Ie];ae[de]=Ee}for(var tt in this.deletedStates){this.state[tt]=this.state[tt]||{};var gt={};if(this.deletedStates[tt]===null)for(var Et in this.state[tt])gt[Et]={},this.state[tt][Et]={};else for(var Rt in this.deletedStates[tt]){var Zt=this.deletedStates[tt][Rt]===null;if(Zt)this.state[tt][Rt]={};else for(var fr=0,nr=Object.keys(this.deletedStates[tt][Rt]);fr<nr.length;fr+=1){var Sr=nr[fr];delete this.state[tt][Rt][Sr]}gt[Rt]=this.state[tt][Rt]}ae[tt]=ae[tt]||{},l(ae[tt],gt)}if(this.stateChanges={},this.deletedStates={},Object.keys(ae).length!==0)for(var Vr in D){var un=D[Vr];un.setFeatureState(ae,W)}};var th=function(D,W){this.tileID=D,this.x=D.canonical.x,this.y=D.canonical.y,this.z=D.canonical.z,this.grid=new Ia(ga,16,0),this.grid3D=new Ia(ga,16,0),this.featureIndexArray=new rv,this.promoteId=W};th.prototype.insert=function(D,W,ae,de,Ee,Ie){var tt=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(ae,de,Ee);for(var gt=Ie?this.grid3D:this.grid,Et=0;Et<W.length;Et++){for(var Rt=W[Et],Zt=[1/0,1/0,-1/0,-1/0],fr=0;fr<Rt.length;fr++){var nr=Rt[fr];Zt[0]=Math.min(Zt[0],nr.x),Zt[1]=Math.min(Zt[1],nr.y),Zt[2]=Math.max(Zt[2],nr.x),Zt[3]=Math.max(Zt[3],nr.y)}Zt[0]<ga&&Zt[1]<ga&&Zt[2]>=0&&Zt[3]>=0&&gt.insert(tt,Zt[0],Zt[1],Zt[2],Zt[3])}},th.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Wv.VectorTile(new F0(this.rawTileData)).layers,this.sourceLayerCoder=new Z0(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},th.prototype.query=function(D,W,ae,de){var Ee=this;this.loadVTLayers();for(var Ie=D.params||{},tt=ga/D.tileSize/D.scale,gt=ds(Ie.filter),Et=D.queryGeometry,Rt=D.queryPadding*tt,Zt=tw(Et),fr=this.grid.query(Zt.minX-Rt,Zt.minY-Rt,Zt.maxX+Rt,Zt.maxY+Rt),nr=tw(D.cameraQueryGeometry),Sr=this.grid3D.query(nr.minX-Rt,nr.minY-Rt,nr.maxX+Rt,nr.maxY+Rt,function(jn,fa,oa,Da){return zs(D.cameraQueryGeometry,jn-Rt,fa-Rt,oa+Rt,Da+Rt)}),Vr=0,un=Sr;Vr<un.length;Vr+=1){var tn=un[Vr];fr.push(tn)}fr.sort(X6);for(var Rn={},Tn,_n=function(jn){var fa=fr[jn];if(fa!==Tn){Tn=fa;var oa=Ee.featureIndexArray.get(fa),Da=null;Ee.loadMatchingFeature(Rn,oa.bucketIndex,oa.sourceLayerIndex,oa.featureIndex,gt,Ie.layers,Ie.availableImages,W,ae,de,function(ya,Sa,Ya){return Da||(Da=ai(ya)),Sa.queryIntersectsFeature(Et,ya,Ya,Da,Ee.z,D.transform,tt,D.pixelPosMatrix)})}},zn=0;zn<fr.length;zn++)_n(zn);return Rn},th.prototype.loadMatchingFeature=function(D,W,ae,de,Ee,Ie,tt,gt,Et,Rt,Zt){var fr=this.bucketLayerIDs[W];if(!(Ie&&!F(Ie,fr))){var nr=this.sourceLayerCoder.decode(ae),Sr=this.vtLayers[nr],Vr=Sr.feature(de);if(Ee.filter(new Wn(this.tileID.overscaledZ),Vr))for(var un=this.getId(Vr,nr),tn=0;tn<fr.length;tn++){var Rn=fr[tn];if(!(Ie&&Ie.indexOf(Rn)<0)){var Tn=gt[Rn];if(Tn){var _n={};un!==void 0&&Rt&&(_n=Rt.getState(Tn.sourceLayer||"_geojsonTileLayer",un));var zn=Et[Rn];zn.paint=ew(zn.paint,Tn.paint,Vr,_n,tt),zn.layout=ew(zn.layout,Tn.layout,Vr,_n,tt);var jn=!Zt||Zt(Vr,Tn,_n);if(jn){var fa=new X0(Vr,this.z,this.x,this.y,un);fa.layer=zn;var oa=D[Rn];oa===void 0&&(oa=D[Rn]=[]),oa.push({featureIndex:de,feature:fa,intersectionZ:jn})}}}}}},th.prototype.lookupSymbolFeatures=function(D,W,ae,de,Ee,Ie,tt,gt){var Et={};this.loadVTLayers();for(var Rt=ds(Ee),Zt=0,fr=D;Zt<fr.length;Zt+=1){var nr=fr[Zt];this.loadMatchingFeature(Et,ae,de,nr,Rt,Ie,tt,gt,W)}return Et},th.prototype.hasLayer=function(D){for(var W=0,ae=this.bucketLayerIDs;W<ae.length;W+=1)for(var de=ae[W],Ee=0,Ie=de;Ee<Ie.length;Ee+=1){var tt=Ie[Ee];if(D===tt)return!0}return!1},th.prototype.getId=function(D,W){var ae=D.id;if(this.promoteId){var de=typeof this.promoteId=="string"?this.promoteId:this.promoteId[W];ae=D.properties[de],typeof ae=="boolean"&&(ae=Number(ae))}return ae},ue("FeatureIndex",th,{omit:["rawTileData","sourceLayerCoder"]});function ew(R,D,W,ae,de){return o(R,function(Ee,Ie){var tt=D instanceof mi?D.get(Ie):null;return tt&&tt.evaluate?tt.evaluate(W,ae,de):tt})}function tw(R){for(var D=1/0,W=1/0,ae=-1/0,de=-1/0,Ee=0,Ie=R;Ee<Ie.length;Ee+=1){var tt=Ie[Ee];D=Math.min(D,tt.x),W=Math.min(W,tt.y),ae=Math.max(ae,tt.x),de=Math.max(de,tt.y)}return{minX:D,minY:W,maxX:ae,maxY:de}}function X6(R,D){return D-R}var K6=3e4,Yo=function(D,W){this.tileID=D,this.uid=S(),this.uses=0,this.tileSize=W,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Yo.prototype.registerFadeDuration=function(D){var W=D+this.timeAdded;W<se.now()||this.fadeEndTime&&W<this.fadeEndTime||(this.fadeEndTime=W)},Yo.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Yo.prototype.loadVectorData=function(D,W,ae){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!D){this.collisionBoxArray=new ys;return}D.featureIndex&&(this.latestFeatureIndex=D.featureIndex,D.rawTileData?(this.latestRawTileData=D.rawTileData,this.latestFeatureIndex.rawTileData=D.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=D.collisionBoxArray,this.buckets=Z6(D.buckets,W.style),this.hasSymbolBuckets=!1;for(var de in this.buckets){var Ee=this.buckets[de];if(Ee instanceof Li)if(this.hasSymbolBuckets=!0,ae)Ee.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Ie in this.buckets){var tt=this.buckets[Ie];if(tt instanceof Li&&tt.hasRTLText){this.hasRTLText=!0,di();break}}this.queryPadding=0;for(var gt in this.buckets){var Et=this.buckets[gt];this.queryPadding=Math.max(this.queryPadding,W.style.getLayer(gt).queryRadius(Et))}D.imageAtlas&&(this.imageAtlas=D.imageAtlas),D.glyphAtlasImage&&(this.glyphAtlasImage=D.glyphAtlasImage)},Yo.prototype.unloadVectorData=function(){for(var D in this.buckets)this.buckets[D].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Yo.prototype.getBucket=function(D){return this.buckets[D.id]},Yo.prototype.upload=function(D){for(var W in this.buckets){var ae=this.buckets[W];ae.uploadPending()&&ae.upload(D)}var de=D.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ov(D,this.imageAtlas.image,de.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ov(D,this.glyphAtlasImage,de.ALPHA),this.glyphAtlasImage=null)},Yo.prototype.prepare=function(D){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(D,this.imageAtlasTexture)},Yo.prototype.queryRenderedFeatures=function(D,W,ae,de,Ee,Ie,tt,gt,Et,Rt){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:de,cameraQueryGeometry:Ee,scale:Ie,tileSize:this.tileSize,pixelPosMatrix:Rt,transform:gt,params:tt,queryPadding:this.queryPadding*Et},D,W,ae)},Yo.prototype.querySourceFeatures=function(D,W){var ae=this.latestFeatureIndex;if(!(!ae||!ae.rawTileData)){var de=ae.loadVTLayers(),Ee=W?W.sourceLayer:"",Ie=de._geojsonTileLayer||de[Ee];if(Ie)for(var tt=ds(W&&W.filter),gt=this.tileID.canonical,Et=gt.z,Rt=gt.x,Zt=gt.y,fr={z:Et,x:Rt,y:Zt},nr=0;nr<Ie.length;nr++){var Sr=Ie.feature(nr);if(tt.filter(new Wn(this.tileID.overscaledZ),Sr)){var Vr=ae.getId(Sr,Ee),un=new X0(Sr,Et,Rt,Zt,Vr);un.tile=fr,D.push(un)}}}},Yo.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Yo.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Yo.prototype.setExpiryData=function(D){var W=this.expirationTime;if(D.cacheControl){var ae=H(D.cacheControl);ae["max-age"]&&(this.expirationTime=Date.now()+ae["max-age"]*1e3)}else D.expires&&(this.expirationTime=new Date(D.expires).getTime());if(this.expirationTime){var de=Date.now(),Ee=!1;if(this.expirationTime>de)Ee=!1;else if(!W)Ee=!0;else if(this.expirationTime<W)Ee=!0;else{var Ie=this.expirationTime-W;Ie?this.expirationTime=de+Math.max(Ie,K6):Ee=!0}Ee?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Yo.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Yo.prototype.setFeatureState=function(D,W){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(D).length===0)){var ae=this.latestFeatureIndex.loadVTLayers();for(var de in this.buckets)if(W.style.hasLayer(de)){var Ee=this.buckets[de],Ie=Ee.layers[0].sourceLayer||"_geojsonTileLayer",tt=ae[Ie],gt=D[Ie];if(!(!tt||!gt||Object.keys(gt).length===0)){Ee.update(gt,tt,this.imageAtlas&&this.imageAtlas.patternPositions||{});var Et=W&&W.style&&W.style.getLayer(de);Et&&(this.queryPadding=Math.max(this.queryPadding,Et.queryRadius(Ee)))}}}},Yo.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Yo.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<se.now()},Yo.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Yo.prototype.setHoldDuration=function(D){this.symbolFadeHoldUntil=se.now()+D},Yo.prototype.setDependencies=function(D,W){for(var ae={},de=0,Ee=W;de<Ee.length;de+=1){var Ie=Ee[de];ae[Ie]=!0}this.dependencies[D]=ae},Yo.prototype.hasDependency=function(D,W){for(var ae=0,de=D;ae<de.length;ae+=1){var Ee=de[ae],Ie=this.dependencies[Ee];if(Ie)for(var tt=0,gt=W;tt<gt.length;tt+=1){var Et=gt[tt];if(Ie[Et])return!0}}return!1};var $6=["type","source","source-layer","minzoom","maxzoom","filter","layout"],Sh=self.performance,rw=function(D){this._marks={start:[D.url,"start"].join("#"),end:[D.url,"end"].join("#"),measure:D.url.toString()},Sh.mark(this._marks.start)};rw.prototype.finish=function(){Sh.mark(this._marks.end);var D=Sh.getEntriesByName(this._marks.measure);return D.length===0&&(Sh.measure(this._marks.measure,this._marks.start,this._marks.end),D=Sh.getEntriesByName(this._marks.measure),Sh.clearMarks(this._marks.start),Sh.clearMarks(this._marks.end),Sh.clearMeasures(this._marks.measure)),D},a.Actor=td,a.AlphaImage=iv,a.CanonicalTileID=lv,a.CollisionBoxArray=ys,a.Color=qa,a.DEMData=eh,a.DataConstantProperty=wa,a.DictionaryCoder=Z0,a.EXTENT=ga,a.ErrorEvent=rr,a.EvaluationParameters=Wn,a.Event=Xt,a.Evented=ur,a.FeatureIndex=th,a.FillBucket=Kf,a.FillExtrusionBucket=$f,a.ImageAtlas=fp,a.ImagePosition=B0,a.LineBucket=bl,a.LngLat=Wi,a.LngLatBounds=Eo,a.MercatorCoordinate=sv,a.ONE_EM=ss,a.OverscaledTileID=Mo,a.Point=t,a.Point$1=t,a.Properties=ao,a.Protobuf=F0,a.RGBAImage=xl,a.RequestManager=Pe,a.RequestPerformance=rw,a.ResourceType=yt,a.SegmentVector=X,a.SourceFeatureState=rd,a.StructArrayLayout1ui2=_c,a.StructArrayLayout2f1f2i16=ku,a.StructArrayLayout2i4=$c,a.StructArrayLayout3ui6=Ou,a.StructArrayLayout4i8=sf,a.SymbolBucket=Li,a.Texture=ov,a.Tile=Yo,a.Transitionable=Xa,a.Uniform1f=kr,a.Uniform1i=Ar,a.Uniform2f=Or,a.Uniform3f=$r,a.Uniform4f=gn,a.UniformColor=An,a.UniformMatrix4f=In,a.UnwrappedTileID=q3,a.ValidationError=Er,a.WritingMode=uu,a.ZoomHistory=kt,a.add=Hv,a.addDynamicAttributes=Dm,a.asyncAll=c,a.bezier=i,a.bindAll=M,a.browser=se,a.cacheEntryPossiblyAdded=jt,a.clamp=u,a.clearTileCache=Ct,a.clipLine=z3,a.clone=nv,a.clone$1=m,a.clone$2=cm,a.collisionCircleLayout=_E,a.config=ee,a.create=Zf,a.create$1=Jc,a.create$2=Dc,a.createCommonjsModule=C,a.createExpression=Nl,a.createLayout=Si,a.createStyleLayer=H6,a.cross=oS,a.deepEqual=s,a.dot=iS,a.dot$1=cS,a.ease=f,a.emitValidationErrors=Ra,a.endsWith=w,a.enforceCacheSizeLimit=tr,a.evaluateSizeForFeature=P3,a.evaluateSizeForZoom=_3,a.evaluateVariableOffset=B3,a.evented=Aa,a.extend=l,a.featureFilter=ds,a.filterObject=L,a.fromRotation=lu,a.getAnchorAlignment=Lm,a.getAnchorJustification=Rm,a.getArrayBuffer=Pt,a.getImage=Xe,a.getJSON=Tt,a.getRTLTextPluginStatus=Ua,a.getReferrer=er,a.getVideo=Ke,a.identity=Qc,a.invert=lf,a.isChar=mt,a.isMapboxURL=be,a.keysDifference=h,a.makeRequest=ht,a.mapObject=o,a.mercatorXfromLng=$3,a.mercatorYfromLat=J3,a.mercatorZfromAltitude=Q3,a.mul=fm,a.multiply=Xf,a.mvt=Wv,a.normalize=tp,a.number=Bi,a.offscreenCanvasSupported=wr,a.ortho=um,a.parseGlyphPBF=n6,a.pbf=F0,a.performSymbolLayout=w6,a.perspective=ep,a.pick=d,a.plugin=ii,a.polygonIntersectsPolygon=za,a.postMapLoadEvent=Qe,a.postTurnstileEvent=Mt,a.potpack=w3,a.refProperties=$6,a.register=ue,a.registerForPluginStateChange=Pa,a.rotate=os,a.rotateX=bs,a.rotateZ=Uv,a.scale=xs,a.scale$1=fS,a.scale$2=vm,a.setCacheLimits=Nt,a.setRTLTextPlugin=Ga,a.sphericalToCartesian=B,a.sqrLen=dS,a.styleSpec=Jt,a.sub=lS,a.symbolSize=h6,a.transformMat3=sS,a.transformMat4=R0,a.translate=$i,a.triggerPluginCompletionEvent=ca,a.uniqueId=S,a.validateCustomStyleLayer=N6,a.validateLight=Sn,a.validateStyle=wn,a.values=T,a.vectorTile=Wv,a.version=A,a.warnOnce=U,a.webpSupported=q,a.window=self,a.wrap=y}),_(["./shared"],function(a){function C(bt){var ht=typeof bt;if(ht==="number"||ht==="boolean"||ht==="string"||bt===void 0||bt===null)return JSON.stringify(bt);if(Array.isArray(bt)){for(var Tt="[",Pt=0,zt=bt;Pt<zt.length;Pt+=1){var Dt=zt[Pt];Tt+=C(Dt)+","}return Tt+"]"}for(var Vt=Object.keys(bt).sort(),Ut="{",Qt=0;Qt<Vt.length;Qt++)Ut+=JSON.stringify(Vt[Qt])+":"+C(bt[Vt[Qt]])+",";return Ut+"}"}function A(bt){for(var ht="",Tt=0,Pt=a.refProperties;Tt<Pt.length;Tt+=1){var zt=Pt[Tt];ht+="/"+C(bt[zt])}return ht}function v(bt,ht){for(var Tt={},Pt=0;Pt<bt.length;Pt++){var zt=ht&&ht[bt[Pt].id]||A(bt[Pt]);ht&&(ht[bt[Pt].id]=zt);var Dt=Tt[zt];Dt||(Dt=Tt[zt]=[]),Dt.push(bt[Pt])}var Vt=[];for(var Ut in Tt)Vt.push(Tt[Ut]);return Vt}var p=function(ht){this.keyCache={},ht&&this.replace(ht)};p.prototype.replace=function(ht){this._layerConfigs={},this._layers={},this.update(ht,[])},p.prototype.update=function(ht,Tt){for(var Pt=this,zt=0,Dt=ht;zt<Dt.length;zt+=1){var Vt=Dt[zt];this._layerConfigs[Vt.id]=Vt;var Ut=this._layers[Vt.id]=a.createStyleLayer(Vt);Ut._featureFilter=a.featureFilter(Ut.filter),this.keyCache[Vt.id]&&delete this.keyCache[Vt.id]}for(var Qt=0,hr=Tt;Qt<hr.length;Qt+=1){var cr=hr[Qt];delete this.keyCache[cr],delete this._layerConfigs[cr],delete this._layers[cr]}this.familiesBySource={};for(var lr=v(a.values(this._layerConfigs),this.keyCache),Xe=0,Ke=lr;Xe<Ke.length;Xe+=1){var Ot=Ke[Xe],Lt=Ot.map(function(gr){return Pt._layers[gr.id]}),Xt=Lt[0];if(Xt.visibility!=="none"){var rr=Xt.source||"",ur=this.familiesBySource[rr];ur||(ur=this.familiesBySource[rr]={});var or=Xt.sourceLayer||"_geojsonTileLayer",Ht=ur[or];Ht||(Ht=ur[or]=[]),Ht.push(Lt)}}};var t=1,r=function(ht){var Tt={},Pt=[];for(var zt in ht){var Dt=ht[zt],Vt=Tt[zt]={};for(var Ut in Dt){var Qt=Dt[+Ut];if(!(!Qt||Qt.bitmap.width===0||Qt.bitmap.height===0)){var hr={x:0,y:0,w:Qt.bitmap.width+2*t,h:Qt.bitmap.height+2*t};Pt.push(hr),Vt[Ut]={rect:hr,metrics:Qt.metrics}}}}var cr=a.potpack(Pt),lr=cr.w,Xe=cr.h,Ke=new a.AlphaImage({width:lr||1,height:Xe||1});for(var Ot in ht){var Lt=ht[Ot];for(var Xt in Lt){var rr=Lt[+Xt];if(!(!rr||rr.bitmap.width===0||rr.bitmap.height===0)){var ur=Tt[Ot][Xt].rect;a.AlphaImage.copy(rr.bitmap,Ke,{x:0,y:0},{x:ur.x+t,y:ur.y+t},rr.bitmap)}}}this.image=Ke,this.positions=Tt};a.register("GlyphAtlas",r);var s=function(ht){this.tileID=new a.OverscaledTileID(ht.tileID.overscaledZ,ht.tileID.wrap,ht.tileID.canonical.z,ht.tileID.canonical.x,ht.tileID.canonical.y),this.uid=ht.uid,this.zoom=ht.zoom,this.pixelRatio=ht.pixelRatio,this.tileSize=ht.tileSize,this.source=ht.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ht.showCollisionBoxes,this.collectResourceTiming=!!ht.collectResourceTiming,this.returnDependencies=!!ht.returnDependencies,this.promoteId=ht.promoteId};s.prototype.parse=function(ht,Tt,Pt,zt,Dt){var Vt=this;this.status="parsing",this.data=ht,this.collisionBoxArray=new a.CollisionBoxArray;var Ut=new a.DictionaryCoder(Object.keys(ht.layers).sort()),Qt=new a.FeatureIndex(this.tileID,this.promoteId);Qt.bucketLayerIDs=[];var hr={},cr={featureIndex:Qt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Pt},lr=Tt.familiesBySource[this.source];for(var Xe in lr){var Ke=ht.layers[Xe];if(Ke){Ke.version===1&&a.warnOnce('Vector tile source "'+this.source+'" layer "'+Xe+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Ot=Ut.encode(Xe),Lt=[],Xt=0;Xt<Ke.length;Xt++){var rr=Ke.feature(Xt),ur=Qt.getId(rr,Xe);Lt.push({feature:rr,id:ur,index:Xt,sourceLayerIndex:Ot})}for(var or=0,Ht=lr[Xe];or<Ht.length;or+=1){var gr=Ht[or],br=gr[0];if(!(br.minzoom&&this.zoom<Math.floor(br.minzoom))&&!(br.maxzoom&&this.zoom>=br.maxzoom)&&br.visibility!=="none"){n(gr,this.zoom,Pt);var xr=hr[br.id]=br.createBucket({index:Qt.bucketLayerIDs.length,layers:gr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ot,sourceID:this.source});xr.populate(Lt,cr,this.tileID.canonical),Qt.bucketLayerIDs.push(gr.map(function(Lr){return Lr.id}))}}}}var dr,Wr,Br,Ur,yn=a.mapObject(cr.glyphDependencies,function(Lr){return Object.keys(Lr).map(Number)});Object.keys(yn).length?zt.send("getGlyphs",{uid:this.uid,stacks:yn},function(Lr,Pr){dr||(dr=Lr,Wr=Pr,bn.call(Vt))}):Wr={};var rn=Object.keys(cr.iconDependencies);rn.length?zt.send("getImages",{icons:rn,source:this.source,tileID:this.tileID,type:"icons"},function(Lr,Pr){dr||(dr=Lr,Br=Pr,bn.call(Vt))}):Br={};var Un=Object.keys(cr.patternDependencies);Un.length?zt.send("getImages",{icons:Un,source:this.source,tileID:this.tileID,type:"patterns"},function(Lr,Pr){dr||(dr=Lr,Ur=Pr,bn.call(Vt))}):Ur={},bn.call(this);function bn(){if(dr)return Dt(dr);if(Wr&&Br&&Ur){var Lr=new r(Wr),Pr=new a.ImageAtlas(Br,Ur);for(var Yr in hr){var Hr=hr[Yr];Hr instanceof a.SymbolBucket?(n(Hr.layers,this.zoom,Pt),a.performSymbolLayout(Hr,Wr,Lr.positions,Br,Pr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Hr.hasPattern&&(Hr instanceof a.LineBucket||Hr instanceof a.FillBucket||Hr instanceof a.FillExtrusionBucket)&&(n(Hr.layers,this.zoom,Pt),Hr.addFeatures(cr,this.tileID.canonical,Pr.patternPositions))}this.status="done",Dt(null,{buckets:a.values(hr).filter(function(en){return!en.isEmpty()}),featureIndex:Qt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Lr.image,imageAtlas:Pr,glyphMap:this.returnDependencies?Wr:null,iconMap:this.returnDependencies?Br:null,glyphPositions:this.returnDependencies?Lr.positions:null})}}};function n(bt,ht,Tt){for(var Pt=new a.EvaluationParameters(ht),zt=0,Dt=bt;zt<Dt.length;zt+=1){var Vt=Dt[zt];Vt.recalculate(Pt,Tt)}}function i(bt,ht){var Tt=a.getArrayBuffer(bt.request,function(Pt,zt,Dt,Vt){Pt?ht(Pt):zt&&ht(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(zt)),rawData:zt,cacheControl:Dt,expires:Vt})});return function(){Tt.cancel(),ht()}}var f=function(ht,Tt,Pt,zt){this.actor=ht,this.layerIndex=Tt,this.availableImages=Pt,this.loadVectorData=zt||i,this.loading={},this.loaded={}};f.prototype.loadTile=function(ht,Tt){var Pt=this,zt=ht.uid;this.loading||(this.loading={});var Dt=ht&&ht.request&&ht.request.collectResourceTiming?new a.RequestPerformance(ht.request):!1,Vt=this.loading[zt]=new s(ht);Vt.abort=this.loadVectorData(ht,function(Ut,Qt){if(delete Pt.loading[zt],Ut||!Qt)return Vt.status="done",Pt.loaded[zt]=Vt,Tt(Ut);var hr=Qt.rawData,cr={};Qt.expires&&(cr.expires=Qt.expires),Qt.cacheControl&&(cr.cacheControl=Qt.cacheControl);var lr={};if(Dt){var Xe=Dt.finish();Xe&&(lr.resourceTiming=JSON.parse(JSON.stringify(Xe)))}Vt.vectorTile=Qt.vectorTile,Vt.parse(Qt.vectorTile,Pt.layerIndex,Pt.availableImages,Pt.actor,function(Ke,Ot){if(Ke||!Ot)return Tt(Ke);Tt(null,a.extend({rawTileData:hr.slice(0)},Ot,cr,lr))}),Pt.loaded=Pt.loaded||{},Pt.loaded[zt]=Vt})},f.prototype.reloadTile=function(ht,Tt){var Pt=this,zt=this.loaded,Dt=ht.uid,Vt=this;if(zt&&zt[Dt]){var Ut=zt[Dt];Ut.showCollisionBoxes=ht.showCollisionBoxes;var Qt=function(hr,cr){var lr=Ut.reloadCallback;lr&&(delete Ut.reloadCallback,Ut.parse(Ut.vectorTile,Vt.layerIndex,Pt.availableImages,Vt.actor,lr)),Tt(hr,cr)};Ut.status==="parsing"?Ut.reloadCallback=Qt:Ut.status==="done"&&(Ut.vectorTile?Ut.parse(Ut.vectorTile,this.layerIndex,this.availableImages,this.actor,Qt):Qt())}},f.prototype.abortTile=function(ht,Tt){var Pt=this.loading,zt=ht.uid;Pt&&Pt[zt]&&Pt[zt].abort&&(Pt[zt].abort(),delete Pt[zt]),Tt()},f.prototype.removeTile=function(ht,Tt){var Pt=this.loaded,zt=ht.uid;Pt&&Pt[zt]&&delete Pt[zt],Tt()};var u=a.window.ImageBitmap,y=function(){this.loaded={}};y.prototype.loadTile=function(ht,Tt){var Pt=ht.uid,zt=ht.encoding,Dt=ht.rawImageData,Vt=u&&Dt instanceof u?this.getImageData(Dt):Dt,Ut=new a.DEMData(Pt,Vt,zt);this.loaded=this.loaded||{},this.loaded[Pt]=Ut,Tt(null,Ut)},y.prototype.getImageData=function(ht){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(ht.width,ht.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=ht.width,this.offscreenCanvas.height=ht.height,this.offscreenCanvasContext.drawImage(ht,0,0,ht.width,ht.height);var Tt=this.offscreenCanvasContext.getImageData(-1,-1,ht.width+2,ht.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:Tt.width,height:Tt.height},Tt.data)},y.prototype.removeTile=function(ht){var Tt=this.loaded,Pt=ht.uid;Tt&&Tt[Pt]&&delete Tt[Pt]};var c=T;function T(bt,ht){var Tt=bt&&bt.type,Pt;if(Tt==="FeatureCollection")for(Pt=0;Pt<bt.features.length;Pt++)T(bt.features[Pt],ht);else if(Tt==="GeometryCollection")for(Pt=0;Pt<bt.geometries.length;Pt++)T(bt.geometries[Pt],ht);else if(Tt==="Feature")T(bt.geometry,ht);else if(Tt==="Polygon")h(bt.coordinates,ht);else if(Tt==="MultiPolygon")for(Pt=0;Pt<bt.coordinates.length;Pt++)h(bt.coordinates[Pt],ht);return bt}function h(bt,ht){if(bt.length!==0){l(bt[0],ht);for(var Tt=1;Tt<bt.length;Tt++)l(bt[Tt],!ht)}}function l(bt,ht){for(var Tt=0,Pt=0,zt=bt.length,Dt=zt-1;Pt<zt;Dt=Pt++)Tt+=(bt[Pt][0]-bt[Dt][0])*(bt[Dt][1]+bt[Pt][1]);Tt>=0!=!!ht&&bt.reverse()}var d=a.vectorTile.VectorTileFeature.prototype.toGeoJSON,E=function(ht){this._feature=ht,this.extent=a.EXTENT,this.type=ht.type,this.properties=ht.tags,"id"in ht&&!isNaN(ht.id)&&(this.id=parseInt(ht.id,10))};E.prototype.loadGeometry=function(){if(this._feature.type===1){for(var ht=[],Tt=0,Pt=this._feature.geometry;Tt<Pt.length;Tt+=1){var zt=Pt[Tt];ht.push([new a.Point$1(zt[0],zt[1])])}return ht}else{for(var Dt=[],Vt=0,Ut=this._feature.geometry;Vt<Ut.length;Vt+=1){for(var Qt=Ut[Vt],hr=[],cr=0,lr=Qt;cr<lr.length;cr+=1){var Xe=lr[cr];hr.push(new a.Point$1(Xe[0],Xe[1]))}Dt.push(hr)}return Dt}},E.prototype.toGeoJSON=function(ht,Tt,Pt){return d.call(this,ht,Tt,Pt)};var S=function(ht){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=ht.length,this._features=ht};S.prototype.feature=function(ht){return new E(this._features[ht])};var P=a.vectorTile.VectorTileFeature,x=M;function M(bt,ht){this.options=ht||{},this.features=bt,this.length=bt.length}M.prototype.feature=function(bt){return new w(this.features[bt],this.options.extent)};function w(bt,ht){this.id=typeof bt.id=="number"?bt.id:void 0,this.type=bt.type,this.rawGeometry=bt.type===1?[bt.geometry]:bt.geometry,this.properties=bt.tags,this.extent=ht||4096}w.prototype.loadGeometry=function(){var bt=this.rawGeometry;this.geometry=[];for(var ht=0;ht<bt.length;ht++){for(var Tt=bt[ht],Pt=[],zt=0;zt<Tt.length;zt++)Pt.push(new a.Point$1(Tt[zt][0],Tt[zt][1]));this.geometry.push(Pt)}return this.geometry},w.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var bt=this.geometry,ht=1/0,Tt=-1/0,Pt=1/0,zt=-1/0,Dt=0;Dt<bt.length;Dt++)for(var Vt=bt[Dt],Ut=0;Ut<Vt.length;Ut++){var Qt=Vt[Ut];ht=Math.min(ht,Qt.x),Tt=Math.max(Tt,Qt.x),Pt=Math.min(Pt,Qt.y),zt=Math.max(zt,Qt.y)}return[ht,Pt,Tt,zt]},w.prototype.toGeoJSON=P.prototype.toGeoJSON;var o=I,L=I,m=U,F=x;function I(bt){var ht=new a.pbf;return z(bt,ht),ht.finish()}function U(bt,ht){ht=ht||{};var Tt={};for(var Pt in bt)Tt[Pt]=new x(bt[Pt].features,ht),Tt[Pt].name=Pt,Tt[Pt].version=ht.version,Tt[Pt].extent=ht.extent;return I({layers:Tt})}function z(bt,ht){for(var Tt in bt.layers)ht.writeMessage(3,N,bt.layers[Tt])}function N(bt,ht){ht.writeVarintField(15,bt.version||1),ht.writeStringField(1,bt.name||""),ht.writeVarintField(5,bt.extent||4096);var Tt,Pt={keys:[],values:[],keycache:{},valuecache:{}};for(Tt=0;Tt<bt.length;Tt++)Pt.feature=bt.feature(Tt),ht.writeMessage(2,B,Pt);var zt=Pt.keys;for(Tt=0;Tt<zt.length;Tt++)ht.writeStringField(3,zt[Tt]);var Dt=Pt.values;for(Tt=0;Tt<Dt.length;Tt++)ht.writeMessage(4,re,Dt[Tt])}function B(bt,ht){var Tt=bt.feature;Tt.id!==void 0&&ht.writeVarintField(1,Tt.id),ht.writeMessage(2,O,bt),ht.writeVarintField(3,Tt.type),ht.writeMessage(4,J,Tt)}function O(bt,ht){var Tt=bt.feature,Pt=bt.keys,zt=bt.values,Dt=bt.keycache,Vt=bt.valuecache;for(var Ut in Tt.properties){var Qt=Dt[Ut];typeof Qt>"u"&&(Pt.push(Ut),Qt=Pt.length-1,Dt[Ut]=Qt),ht.writeVarint(Qt);var hr=Tt.properties[Ut],cr=typeof hr;cr!=="string"&&cr!=="boolean"&&cr!=="number"&&(hr=JSON.stringify(hr));var lr=cr+":"+hr,Xe=Vt[lr];typeof Xe>"u"&&(zt.push(hr),Xe=zt.length-1,Vt[lr]=Xe),ht.writeVarint(Xe)}}function H(bt,ht){return(ht<<3)+(bt&7)}function Y(bt){return bt<<1^bt>>31}function J(bt,ht){for(var Tt=bt.loadGeometry(),Pt=bt.type,zt=0,Dt=0,Vt=Tt.length,Ut=0;Ut<Vt;Ut++){var Qt=Tt[Ut],hr=1;Pt===1&&(hr=Qt.length),ht.writeVarint(H(1,hr));for(var cr=Pt===3?Qt.length-1:Qt.length,lr=0;lr<cr;lr++){lr===1&&Pt!==1&&ht.writeVarint(H(2,cr-1));var Xe=Qt[lr].x-zt,Ke=Qt[lr].y-Dt;ht.writeVarint(Y(Xe)),ht.writeVarint(Y(Ke)),zt+=Xe,Dt+=Ke}Pt===3&&ht.writeVarint(H(7,1))}}function re(bt,ht){var Tt=typeof bt;Tt==="string"?ht.writeStringField(1,bt):Tt==="boolean"?ht.writeBooleanField(7,bt):Tt==="number"&&(bt%1!==0?ht.writeDoubleField(3,bt):bt<0?ht.writeSVarintField(6,bt):ht.writeVarintField(5,bt))}o.fromVectorTileJs=L,o.fromGeojsonVt=m,o.GeoJSONWrapper=F;function ie(bt,ht,Tt,Pt,zt,Dt){if(!(zt-Pt<=Tt)){var Vt=Pt+zt>>1;ce(bt,ht,Vt,Pt,zt,Dt%2),ie(bt,ht,Tt,Pt,Vt-1,Dt+1),ie(bt,ht,Tt,Vt+1,zt,Dt+1)}}function ce(bt,ht,Tt,Pt,zt,Dt){for(;zt>Pt;){if(zt-Pt>600){var Vt=zt-Pt+1,Ut=Tt-Pt+1,Qt=Math.log(Vt),hr=.5*Math.exp(2*Qt/3),cr=.5*Math.sqrt(Qt*hr*(Vt-hr)/Vt)*(Ut-Vt/2<0?-1:1),lr=Math.max(Pt,Math.floor(Tt-Ut*hr/Vt+cr)),Xe=Math.min(zt,Math.floor(Tt+(Vt-Ut)*hr/Vt+cr));ce(bt,ht,Tt,lr,Xe,Dt)}var Ke=ht[2*Tt+Dt],Ot=Pt,Lt=zt;for(Q(bt,ht,Pt,Tt),ht[2*zt+Dt]>Ke&&Q(bt,ht,Pt,zt);Ot<Lt;){for(Q(bt,ht,Ot,Lt),Ot++,Lt--;ht[2*Ot+Dt]<Ke;)Ot++;for(;ht[2*Lt+Dt]>Ke;)Lt--}ht[2*Pt+Dt]===Ke?Q(bt,ht,Pt,Lt):(Lt++,Q(bt,ht,Lt,zt)),Lt<=Tt&&(Pt=Lt+1),Tt<=Lt&&(zt=Lt-1)}}function Q(bt,ht,Tt,Pt){j(bt,Tt,Pt),j(ht,2*Tt,2*Pt),j(ht,2*Tt+1,2*Pt+1)}function j(bt,ht,Tt){var Pt=bt[ht];bt[ht]=bt[Tt],bt[Tt]=Pt}function Z(bt,ht,Tt,Pt,zt,Dt,Vt){for(var Ut=[0,bt.length-1,0],Qt=[],hr,cr;Ut.length;){var lr=Ut.pop(),Xe=Ut.pop(),Ke=Ut.pop();if(Xe-Ke<=Vt){for(var Ot=Ke;Ot<=Xe;Ot++)hr=ht[2*Ot],cr=ht[2*Ot+1],hr>=Tt&&hr<=zt&&cr>=Pt&&cr<=Dt&&Qt.push(bt[Ot]);continue}var Lt=Math.floor((Ke+Xe)/2);hr=ht[2*Lt],cr=ht[2*Lt+1],hr>=Tt&&hr<=zt&&cr>=Pt&&cr<=Dt&&Qt.push(bt[Lt]);var Xt=(lr+1)%2;(lr===0?Tt<=hr:Pt<=cr)&&(Ut.push(Ke),Ut.push(Lt-1),Ut.push(Xt)),(lr===0?zt>=hr:Dt>=cr)&&(Ut.push(Lt+1),Ut.push(Xe),Ut.push(Xt))}return Qt}function $(bt,ht,Tt,Pt,zt,Dt){for(var Vt=[0,bt.length-1,0],Ut=[],Qt=zt*zt;Vt.length;){var hr=Vt.pop(),cr=Vt.pop(),lr=Vt.pop();if(cr-lr<=Dt){for(var Xe=lr;Xe<=cr;Xe++)te(ht[2*Xe],ht[2*Xe+1],Tt,Pt)<=Qt&&Ut.push(bt[Xe]);continue}var Ke=Math.floor((lr+cr)/2),Ot=ht[2*Ke],Lt=ht[2*Ke+1];te(Ot,Lt,Tt,Pt)<=Qt&&Ut.push(bt[Ke]);var Xt=(hr+1)%2;(hr===0?Tt-zt<=Ot:Pt-zt<=Lt)&&(Vt.push(lr),Vt.push(Ke-1),Vt.push(Xt)),(hr===0?Tt+zt>=Ot:Pt+zt>=Lt)&&(Vt.push(Ke+1),Vt.push(cr),Vt.push(Xt))}return Ut}function te(bt,ht,Tt,Pt){var zt=bt-Tt,Dt=ht-Pt;return zt*zt+Dt*Dt}var se=function(bt){return bt[0]},ee=function(bt){return bt[1]},q=function(ht,Tt,Pt,zt,Dt){Tt===void 0&&(Tt=se),Pt===void 0&&(Pt=ee),zt===void 0&&(zt=64),Dt===void 0&&(Dt=Float64Array),this.nodeSize=zt,this.points=ht;for(var Vt=ht.length<65536?Uint16Array:Uint32Array,Ut=this.ids=new Vt(ht.length),Qt=this.coords=new Dt(ht.length*2),hr=0;hr<ht.length;hr++)Ut[hr]=hr,Qt[2*hr]=Tt(ht[hr]),Qt[2*hr+1]=Pt(ht[hr]);ie(Ut,Qt,zt,0,Ut.length-1,0)};q.prototype.range=function(ht,Tt,Pt,zt){return Z(this.ids,this.coords,ht,Tt,Pt,zt,this.nodeSize)},q.prototype.within=function(ht,Tt,Pt){return $(this.ids,this.coords,ht,Tt,Pt,this.nodeSize)};var le={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(bt){return bt}},oe=function(ht){this.options=Le(Object.create(le),ht),this.trees=new Array(this.options.maxZoom+1)};oe.prototype.load=function(ht){var Tt=this.options,Pt=Tt.log,zt=Tt.minZoom,Dt=Tt.maxZoom,Vt=Tt.nodeSize;Pt&&console.time("total time");var Ut="prepare "+ht.length+" points";Pt&&console.time(Ut),this.points=ht;for(var Qt=[],hr=0;hr<ht.length;hr++)ht[hr].geometry&&Qt.push(me(ht[hr],hr));this.trees[Dt+1]=new q(Qt,We,je,Vt,Float32Array),Pt&&console.timeEnd(Ut);for(var cr=Dt;cr>=zt;cr--){var lr=+Date.now();Qt=this._cluster(Qt,cr),this.trees[cr]=new q(Qt,We,je,Vt,Float32Array),Pt&&console.log("z%d: %d clusters in %dms",cr,Qt.length,+Date.now()-lr)}return Pt&&console.timeEnd("total time"),this},oe.prototype.getClusters=function(ht,Tt){var Pt=((ht[0]+180)%360+360)%360-180,zt=Math.max(-90,Math.min(90,ht[1])),Dt=ht[2]===180?180:((ht[2]+180)%360+360)%360-180,Vt=Math.max(-90,Math.min(90,ht[3]));if(ht[2]-ht[0]>=360)Pt=-180,Dt=180;else if(Pt>Dt){var Ut=this.getClusters([Pt,zt,180,Vt],Tt),Qt=this.getClusters([-180,zt,Dt,Vt],Tt);return Ut.concat(Qt)}for(var hr=this.trees[this._limitZoom(Tt)],cr=hr.range(Ue(Pt),Ve(Vt),Ue(Dt),Ve(zt)),lr=[],Xe=0,Ke=cr;Xe<Ke.length;Xe+=1){var Ot=Ke[Xe],Lt=hr.points[Ot];lr.push(Lt.numPoints?Ce(Lt):this.points[Lt.index])}return lr},oe.prototype.getChildren=function(ht){var Tt=this._getOriginId(ht),Pt=this._getOriginZoom(ht),zt="No cluster with the specified id.",Dt=this.trees[Pt];if(!Dt)throw new Error(zt);var Vt=Dt.points[Tt];if(!Vt)throw new Error(zt);for(var Ut=this.options.radius/(this.options.extent*Math.pow(2,Pt-1)),Qt=Dt.within(Vt.x,Vt.y,Ut),hr=[],cr=0,lr=Qt;cr<lr.length;cr+=1){var Xe=lr[cr],Ke=Dt.points[Xe];Ke.parentId===ht&&hr.push(Ke.numPoints?Ce(Ke):this.points[Ke.index])}if(hr.length===0)throw new Error(zt);return hr},oe.prototype.getLeaves=function(ht,Tt,Pt){Tt=Tt||10,Pt=Pt||0;var zt=[];return this._appendLeaves(zt,ht,Tt,Pt,0),zt},oe.prototype.getTile=function(ht,Tt,Pt){var zt=this.trees[this._limitZoom(ht)],Dt=Math.pow(2,ht),Vt=this.options,Ut=Vt.extent,Qt=Vt.radius,hr=Qt/Ut,cr=(Pt-hr)/Dt,lr=(Pt+1+hr)/Dt,Xe={features:[]};return this._addTileFeatures(zt.range((Tt-hr)/Dt,cr,(Tt+1+hr)/Dt,lr),zt.points,Tt,Pt,Dt,Xe),Tt===0&&this._addTileFeatures(zt.range(1-hr/Dt,cr,1,lr),zt.points,Dt,Pt,Dt,Xe),Tt===Dt-1&&this._addTileFeatures(zt.range(0,cr,hr/Dt,lr),zt.points,-1,Pt,Dt,Xe),Xe.features.length?Xe:null},oe.prototype.getClusterExpansionZoom=function(ht){for(var Tt=this._getOriginZoom(ht)-1;Tt<=this.options.maxZoom;){var Pt=this.getChildren(ht);if(Tt++,Pt.length!==1)break;ht=Pt[0].properties.cluster_id}return Tt},oe.prototype._appendLeaves=function(ht,Tt,Pt,zt,Dt){for(var Vt=this.getChildren(Tt),Ut=0,Qt=Vt;Ut<Qt.length;Ut+=1){var hr=Qt[Ut],cr=hr.properties;if(cr&&cr.cluster?Dt+cr.point_count<=zt?Dt+=cr.point_count:Dt=this._appendLeaves(ht,cr.cluster_id,Pt,zt,Dt):Dt<zt?Dt++:ht.push(hr),ht.length===Pt)break}return Dt},oe.prototype._addTileFeatures=function(ht,Tt,Pt,zt,Dt,Vt){for(var Ut=0,Qt=ht;Ut<Qt.length;Ut+=1){var hr=Qt[Ut],cr=Tt[hr],lr=cr.numPoints,Xe={type:1,geometry:[[Math.round(this.options.extent*(cr.x*Dt-Pt)),Math.round(this.options.extent*(cr.y*Dt-zt))]],tags:lr?Ae(cr):this.points[cr.index].properties},Ke=void 0;lr?Ke=cr.id:this.options.generateId?Ke=cr.index:this.points[cr.index].id&&(Ke=this.points[cr.index].id),Ke!==void 0&&(Xe.id=Ke),Vt.features.push(Xe)}},oe.prototype._limitZoom=function(ht){return Math.max(this.options.minZoom,Math.min(ht,this.options.maxZoom+1))},oe.prototype._cluster=function(ht,Tt){for(var Pt=[],zt=this.options,Dt=zt.radius,Vt=zt.extent,Ut=zt.reduce,Qt=Dt/(Vt*Math.pow(2,Tt)),hr=0;hr<ht.length;hr++){var cr=ht[hr];if(!(cr.zoom<=Tt)){cr.zoom=Tt;for(var lr=this.trees[Tt+1],Xe=lr.within(cr.x,cr.y,Qt),Ke=cr.numPoints||1,Ot=cr.x*Ke,Lt=cr.y*Ke,Xt=Ut&&Ke>1?this._map(cr,!0):null,rr=(hr<<5)+(Tt+1)+this.points.length,ur=0,or=Xe;ur<or.length;ur+=1){var Ht=or[ur],gr=lr.points[Ht];if(!(gr.zoom<=Tt)){gr.zoom=Tt;var br=gr.numPoints||1;Ot+=gr.x*br,Lt+=gr.y*br,Ke+=br,gr.parentId=rr,Ut&&(Xt||(Xt=this._map(cr,!0)),Ut(Xt,this._map(gr)))}}Ke===1?Pt.push(cr):(cr.parentId=rr,Pt.push(he(Ot/Ke,Lt/Ke,rr,Ke,Xt)))}}return Pt},oe.prototype._getOriginId=function(ht){return ht-this.points.length>>5},oe.prototype._getOriginZoom=function(ht){return(ht-this.points.length)%32},oe.prototype._map=function(ht,Tt){if(ht.numPoints)return Tt?Le({},ht.properties):ht.properties;var Pt=this.points[ht.index].properties,zt=this.options.map(Pt);return Tt&&zt===Pt?Le({},zt):zt};function he(bt,ht,Tt,Pt,zt){return{x:bt,y:ht,zoom:1/0,id:Tt,parentId:-1,numPoints:Pt,properties:zt}}function me(bt,ht){var Tt=bt.geometry.coordinates,Pt=Tt[0],zt=Tt[1];return{x:Ue(Pt),y:Ve(zt),zoom:1/0,index:ht,parentId:-1}}function Ce(bt){return{type:"Feature",id:bt.id,properties:Ae(bt),geometry:{type:"Point",coordinates:[Pe(bt.x),be(bt.y)]}}}function Ae(bt){var ht=bt.numPoints,Tt=ht>=1e4?Math.round(ht/1e3)+"k":ht>=1e3?Math.round(ht/100)/10+"k":ht;return Le(Le({},bt.properties),{cluster:!0,cluster_id:bt.id,point_count:ht,point_count_abbreviated:Tt})}function Ue(bt){return bt/360+.5}function Ve(bt){var ht=Math.sin(bt*Math.PI/180),Tt=.5-.25*Math.log((1+ht)/(1-ht))/Math.PI;return Tt<0?0:Tt>1?1:Tt}function Pe(bt){return(bt-.5)*360}function be(bt){var ht=(180-bt*360)*Math.PI/180;return 360*Math.atan(Math.exp(ht))/Math.PI-90}function Le(bt,ht){for(var Tt in ht)bt[Tt]=ht[Tt];return bt}function We(bt){return bt.x}function je(bt){return bt.y}function Fe(bt,ht,Tt,Pt){for(var zt=Pt,Dt=Tt-ht>>1,Vt=Tt-ht,Ut,Qt=bt[ht],hr=bt[ht+1],cr=bt[Tt],lr=bt[Tt+1],Xe=ht+3;Xe<Tt;Xe+=3){var Ke=Ze(bt[Xe],bt[Xe+1],Qt,hr,cr,lr);if(Ke>zt)Ut=Xe,zt=Ke;else if(Ke===zt){var Ot=Math.abs(Xe-Dt);Ot<Vt&&(Ut=Xe,Vt=Ot)}}zt>Pt&&(Ut-ht>3&&Fe(bt,ht,Ut,Pt),bt[Ut+2]=zt,Tt-Ut>3&&Fe(bt,Ut,Tt,Pt))}function Ze(bt,ht,Tt,Pt,zt,Dt){var Vt=zt-Tt,Ut=Dt-Pt;if(Vt!==0||Ut!==0){var Qt=((bt-Tt)*Vt+(ht-Pt)*Ut)/(Vt*Vt+Ut*Ut);Qt>1?(Tt=zt,Pt=Dt):Qt>0&&(Tt+=Vt*Qt,Pt+=Ut*Qt)}return Vt=bt-Tt,Ut=ht-Pt,Vt*Vt+Ut*Ut}function ut(bt,ht,Tt,Pt){var zt={id:typeof bt>"u"?null:bt,type:ht,geometry:Tt,tags:Pt,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return at(zt),zt}function at(bt){var ht=bt.geometry,Tt=bt.type;if(Tt==="Point"||Tt==="MultiPoint"||Tt==="LineString")it(bt,ht);else if(Tt==="Polygon"||Tt==="MultiLineString")for(var Pt=0;Pt<ht.length;Pt++)it(bt,ht[Pt]);else if(Tt==="MultiPolygon")for(Pt=0;Pt<ht.length;Pt++)for(var zt=0;zt<ht[Pt].length;zt++)it(bt,ht[Pt][zt])}function it(bt,ht){for(var Tt=0;Tt<ht.length;Tt+=3)bt.minX=Math.min(bt.minX,ht[Tt]),bt.minY=Math.min(bt.minY,ht[Tt+1]),bt.maxX=Math.max(bt.maxX,ht[Tt]),bt.maxY=Math.max(bt.maxY,ht[Tt+1])}function $e(bt,ht){var Tt=[];if(bt.type==="FeatureCollection")for(var Pt=0;Pt<bt.features.length;Pt++)st(Tt,bt.features[Pt],ht,Pt);else bt.type==="Feature"?st(Tt,bt,ht):st(Tt,{geometry:bt},ht);return Tt}function st(bt,ht,Tt,Pt){if(ht.geometry){var zt=ht.geometry.coordinates,Dt=ht.geometry.type,Vt=Math.pow(Tt.tolerance/((1<<Tt.maxZoom)*Tt.extent),2),Ut=[],Qt=ht.id;if(Tt.promoteId?Qt=ht.properties[Tt.promoteId]:Tt.generateId&&(Qt=Pt||0),Dt==="Point")ct(zt,Ut);else if(Dt==="MultiPoint")for(var hr=0;hr<zt.length;hr++)ct(zt[hr],Ut);else if(Dt==="LineString")vt(zt,Ut,Vt,!1);else if(Dt==="MultiLineString")if(Tt.lineMetrics){for(hr=0;hr<zt.length;hr++)Ut=[],vt(zt[hr],Ut,Vt,!1),bt.push(ut(Qt,"LineString",Ut,ht.properties));return}else St(zt,Ut,Vt,!1);else if(Dt==="Polygon")St(zt,Ut,Vt,!0);else if(Dt==="MultiPolygon")for(hr=0;hr<zt.length;hr++){var cr=[];St(zt[hr],cr,Vt,!0),Ut.push(cr)}else if(Dt==="GeometryCollection"){for(hr=0;hr<ht.geometry.geometries.length;hr++)st(bt,{id:Qt,geometry:ht.geometry.geometries[hr],properties:ht.properties},Tt,Pt);return}else throw new Error("Input data is not a valid GeoJSON object.");bt.push(ut(Qt,Dt,Ut,ht.properties))}}function ct(bt,ht){ht.push(Mt(bt[0])),ht.push(Bt(bt[1])),ht.push(0)}function vt(bt,ht,Tt,Pt){for(var zt,Dt,Vt=0,Ut=0;Ut<bt.length;Ut++){var Qt=Mt(bt[Ut][0]),hr=Bt(bt[Ut][1]);ht.push(Qt),ht.push(hr),ht.push(0),Ut>0&&(Pt?Vt+=(zt*hr-Qt*Dt)/2:Vt+=Math.sqrt(Math.pow(Qt-zt,2)+Math.pow(hr-Dt,2))),zt=Qt,Dt=hr}var cr=ht.length-3;ht[2]=1,Fe(ht,0,cr,Tt),ht[cr+2]=1,ht.size=Math.abs(Vt),ht.start=0,ht.end=ht.size}function St(bt,ht,Tt,Pt){for(var zt=0;zt<bt.length;zt++){var Dt=[];vt(bt[zt],Dt,Tt,Pt),ht.push(Dt)}}function Mt(bt){return bt/360+.5}function Bt(bt){var ht=Math.sin(bt*Math.PI/180),Tt=.5-.25*Math.log((1+ht)/(1-ht))/Math.PI;return Tt<0?0:Tt>1?1:Tt}function Qe(bt,ht,Tt,Pt,zt,Dt,Vt,Ut){if(Tt/=ht,Pt/=ht,Dt>=Tt&&Vt<Pt)return bt;if(Vt<Tt||Dt>=Pt)return null;for(var Qt=[],hr=0;hr<bt.length;hr++){var cr=bt[hr],lr=cr.geometry,Xe=cr.type,Ke=zt===0?cr.minX:cr.minY,Ot=zt===0?cr.maxX:cr.maxY;if(Ke>=Tt&&Ot<Pt){Qt.push(cr);continue}else if(Ot<Tt||Ke>=Pt)continue;var Lt=[];if(Xe==="Point"||Xe==="MultiPoint")ke(lr,Lt,Tt,Pt,zt);else if(Xe==="LineString")ze(lr,Lt,Tt,Pt,zt,!1,Ut.lineMetrics);else if(Xe==="MultiLineString")Re(lr,Lt,Tt,Pt,zt,!1);else if(Xe==="Polygon")Re(lr,Lt,Tt,Pt,zt,!0);else if(Xe==="MultiPolygon")for(var Xt=0;Xt<lr.length;Xt++){var rr=[];Re(lr[Xt],rr,Tt,Pt,zt,!0),rr.length&&Lt.push(rr)}if(Lt.length){if(Ut.lineMetrics&&Xe==="LineString"){for(Xt=0;Xt<Lt.length;Xt++)Qt.push(ut(cr.id,Xe,Lt[Xt],cr.tags));continue}(Xe==="LineString"||Xe==="MultiLineString")&&(Lt.length===1?(Xe="LineString",Lt=Lt[0]):Xe="MultiLineString"),(Xe==="Point"||Xe==="MultiPoint")&&(Xe=Lt.length===3?"Point":"MultiPoint"),Qt.push(ut(cr.id,Xe,Lt,cr.tags))}}return Qt.length?Qt:null}function ke(bt,ht,Tt,Pt,zt){for(var Dt=0;Dt<bt.length;Dt+=3){var Vt=bt[Dt+zt];Vt>=Tt&&Vt<=Pt&&(ht.push(bt[Dt]),ht.push(bt[Dt+1]),ht.push(bt[Dt+2]))}}function ze(bt,ht,Tt,Pt,zt,Dt,Vt){for(var Ut=Be(bt),Qt=zt===0?ye:Se,hr=bt.start,cr,lr,Xe=0;Xe<bt.length-3;Xe+=3){var Ke=bt[Xe],Ot=bt[Xe+1],Lt=bt[Xe+2],Xt=bt[Xe+3],rr=bt[Xe+4],ur=zt===0?Ke:Ot,or=zt===0?Xt:rr,Ht=!1;Vt&&(cr=Math.sqrt(Math.pow(Ke-Xt,2)+Math.pow(Ot-rr,2))),ur<Tt?or>Tt&&(lr=Qt(Ut,Ke,Ot,Xt,rr,Tt),Vt&&(Ut.start=hr+cr*lr)):ur>Pt?or<Pt&&(lr=Qt(Ut,Ke,Ot,Xt,rr,Pt),Vt&&(Ut.start=hr+cr*lr)):we(Ut,Ke,Ot,Lt),or<Tt&&ur>=Tt&&(lr=Qt(Ut,Ke,Ot,Xt,rr,Tt),Ht=!0),or>Pt&&ur<=Pt&&(lr=Qt(Ut,Ke,Ot,Xt,rr,Pt),Ht=!0),!Dt&&Ht&&(Vt&&(Ut.end=hr+cr*lr),ht.push(Ut),Ut=Be(bt)),Vt&&(hr+=cr)}var gr=bt.length-3;Ke=bt[gr],Ot=bt[gr+1],Lt=bt[gr+2],ur=zt===0?Ke:Ot,ur>=Tt&&ur<=Pt&&we(Ut,Ke,Ot,Lt),gr=Ut.length-3,Dt&&gr>=3&&(Ut[gr]!==Ut[0]||Ut[gr+1]!==Ut[1])&&we(Ut,Ut[0],Ut[1],Ut[2]),Ut.length&&ht.push(Ut)}function Be(bt){var ht=[];return ht.size=bt.size,ht.start=bt.start,ht.end=bt.end,ht}function Re(bt,ht,Tt,Pt,zt,Dt){for(var Vt=0;Vt<bt.length;Vt++)ze(bt[Vt],ht,Tt,Pt,zt,Dt,!1)}function we(bt,ht,Tt,Pt){bt.push(ht),bt.push(Tt),bt.push(Pt)}function ye(bt,ht,Tt,Pt,zt,Dt){var Vt=(Dt-ht)/(Pt-ht);return bt.push(Dt),bt.push(Tt+(zt-Tt)*Vt),bt.push(1),Vt}function Se(bt,ht,Tt,Pt,zt,Dt){var Vt=(Dt-Tt)/(zt-Tt);return bt.push(ht+(Pt-ht)*Vt),bt.push(Dt),bt.push(1),Vt}function Me(bt,ht){var Tt=ht.buffer/ht.extent,Pt=bt,zt=Qe(bt,1,-1-Tt,Tt,0,-1,2,ht),Dt=Qe(bt,1,1-Tt,2+Tt,0,-1,2,ht);return(zt||Dt)&&(Pt=Qe(bt,1,-Tt,1+Tt,0,-1,2,ht)||[],zt&&(Pt=He(zt,1).concat(Pt)),Dt&&(Pt=Pt.concat(He(Dt,-1)))),Pt}function He(bt,ht){for(var Tt=[],Pt=0;Pt<bt.length;Pt++){var zt=bt[Pt],Dt=zt.type,Vt;if(Dt==="Point"||Dt==="MultiPoint"||Dt==="LineString")Vt=qe(zt.geometry,ht);else if(Dt==="MultiLineString"||Dt==="Polygon"){Vt=[];for(var Ut=0;Ut<zt.geometry.length;Ut++)Vt.push(qe(zt.geometry[Ut],ht))}else if(Dt==="MultiPolygon")for(Vt=[],Ut=0;Ut<zt.geometry.length;Ut++){for(var Qt=[],hr=0;hr<zt.geometry[Ut].length;hr++)Qt.push(qe(zt.geometry[Ut][hr],ht));Vt.push(Qt)}Tt.push(ut(zt.id,Dt,Vt,zt.tags))}return Tt}function qe(bt,ht){var Tt=[];Tt.size=bt.size,bt.start!==void 0&&(Tt.start=bt.start,Tt.end=bt.end);for(var Pt=0;Pt<bt.length;Pt+=3)Tt.push(bt[Pt]+ht,bt[Pt+1],bt[Pt+2]);return Tt}function rt(bt,ht){if(bt.transformed)return bt;var Tt=1<<bt.z,Pt=bt.x,zt=bt.y,Dt,Vt,Ut;for(Dt=0;Dt<bt.features.length;Dt++){var Qt=bt.features[Dt],hr=Qt.geometry,cr=Qt.type;if(Qt.geometry=[],cr===1)for(Vt=0;Vt<hr.length;Vt+=2)Qt.geometry.push(pt(hr[Vt],hr[Vt+1],ht,Tt,Pt,zt));else for(Vt=0;Vt<hr.length;Vt++){var lr=[];for(Ut=0;Ut<hr[Vt].length;Ut+=2)lr.push(pt(hr[Vt][Ut],hr[Vt][Ut+1],ht,Tt,Pt,zt));Qt.geometry.push(lr)}}return bt.transformed=!0,bt}function pt(bt,ht,Tt,Pt,zt,Dt){return[Math.round(Tt*(bt*Pt-zt)),Math.round(Tt*(ht*Pt-Dt))]}function At(bt,ht,Tt,Pt,zt){for(var Dt=ht===zt.maxZoom?0:zt.tolerance/((1<<ht)*zt.extent),Vt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Tt,y:Pt,z:ht,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ut=0;Ut<bt.length;Ut++){Vt.numFeatures++,jt(Vt,bt[Ut],Dt,zt);var Qt=bt[Ut].minX,hr=bt[Ut].minY,cr=bt[Ut].maxX,lr=bt[Ut].maxY;Qt<Vt.minX&&(Vt.minX=Qt),hr<Vt.minY&&(Vt.minY=hr),cr>Vt.maxX&&(Vt.maxX=cr),lr>Vt.maxY&&(Vt.maxY=lr)}return Vt}function jt(bt,ht,Tt,Pt){var zt=ht.geometry,Dt=ht.type,Vt=[];if(Dt==="Point"||Dt==="MultiPoint")for(var Ut=0;Ut<zt.length;Ut+=3)Vt.push(zt[Ut]),Vt.push(zt[Ut+1]),bt.numPoints++,bt.numSimplified++;else if(Dt==="LineString")tr(Vt,zt,bt,Tt,!1,!1);else if(Dt==="MultiLineString"||Dt==="Polygon")for(Ut=0;Ut<zt.length;Ut++)tr(Vt,zt[Ut],bt,Tt,Dt==="Polygon",Ut===0);else if(Dt==="MultiPolygon")for(var Qt=0;Qt<zt.length;Qt++){var hr=zt[Qt];for(Ut=0;Ut<hr.length;Ut++)tr(Vt,hr[Ut],bt,Tt,!0,Ut===0)}if(Vt.length){var cr=ht.tags||null;if(Dt==="LineString"&&Pt.lineMetrics){cr={};for(var lr in ht.tags)cr[lr]=ht.tags[lr];cr.mapbox_clip_start=zt.start/zt.size,cr.mapbox_clip_end=zt.end/zt.size}var Xe={geometry:Vt,type:Dt==="Polygon"||Dt==="MultiPolygon"?3:Dt==="LineString"||Dt==="MultiLineString"?2:1,tags:cr};ht.id!==null&&(Xe.id=ht.id),bt.features.push(Xe)}}function tr(bt,ht,Tt,Pt,zt,Dt){var Vt=Pt*Pt;if(Pt>0&&ht.size<(zt?Vt:Pt)){Tt.numPoints+=ht.length/3;return}for(var Ut=[],Qt=0;Qt<ht.length;Qt+=3)(Pt===0||ht[Qt+2]>Vt)&&(Tt.numSimplified++,Ut.push(ht[Qt]),Ut.push(ht[Qt+1])),Tt.numPoints++;zt&&Ct(Ut,Dt),bt.push(Ut)}function Ct(bt,ht){for(var Tt=0,Pt=0,zt=bt.length,Dt=zt-2;Pt<zt;Dt=Pt,Pt+=2)Tt+=(bt[Pt]-bt[Dt])*(bt[Pt+1]+bt[Dt+1]);if(Tt>0===ht)for(Pt=0,zt=bt.length;Pt<zt/2;Pt+=2){var Vt=bt[Pt],Ut=bt[Pt+1];bt[Pt]=bt[zt-2-Pt],bt[Pt+1]=bt[zt-1-Pt],bt[zt-2-Pt]=Vt,bt[zt-1-Pt]=Ut}}function Nt(bt,ht){return new Kt(bt,ht)}function Kt(bt,ht){ht=this.options=yt(Object.create(this.options),ht);var Tt=ht.debug;if(Tt&&console.time("preprocess data"),ht.maxZoom<0||ht.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ht.promoteId&&ht.generateId)throw new Error("promoteId and generateId cannot be used together.");var Pt=$e(bt,ht);this.tiles={},this.tileCoords=[],Tt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ht.indexMaxZoom,ht.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Pt=Me(Pt,ht),Pt.length&&this.splitTile(Pt,0,0,0),Tt&&(Pt.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}Kt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Kt.prototype.splitTile=function(bt,ht,Tt,Pt,zt,Dt,Vt){for(var Ut=[bt,ht,Tt,Pt],Qt=this.options,hr=Qt.debug;Ut.length;){Pt=Ut.pop(),Tt=Ut.pop(),ht=Ut.pop(),bt=Ut.pop();var cr=1<<ht,lr=wr(ht,Tt,Pt),Xe=this.tiles[lr];if(!Xe&&(hr>1&&console.time("creation"),Xe=this.tiles[lr]=At(bt,ht,Tt,Pt,Qt),this.tileCoords.push({z:ht,x:Tt,y:Pt}),hr)){hr>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ht,Tt,Pt,Xe.numFeatures,Xe.numPoints,Xe.numSimplified),console.timeEnd("creation"));var Ke="z"+ht;this.stats[Ke]=(this.stats[Ke]||0)+1,this.total++}if(Xe.source=bt,zt){if(ht===Qt.maxZoom||ht===zt)continue;var Ot=1<<zt-ht;if(Tt!==Math.floor(Dt/Ot)||Pt!==Math.floor(Vt/Ot))continue}else if(ht===Qt.indexMaxZoom||Xe.numPoints<=Qt.indexMaxPoints)continue;if(Xe.source=null,bt.length!==0){hr>1&&console.time("clipping");var Lt=.5*Qt.buffer/Qt.extent,Xt=.5-Lt,rr=.5+Lt,ur=1+Lt,or,Ht,gr,br,xr,dr;or=Ht=gr=br=null,xr=Qe(bt,cr,Tt-Lt,Tt+rr,0,Xe.minX,Xe.maxX,Qt),dr=Qe(bt,cr,Tt+Xt,Tt+ur,0,Xe.minX,Xe.maxX,Qt),bt=null,xr&&(or=Qe(xr,cr,Pt-Lt,Pt+rr,1,Xe.minY,Xe.maxY,Qt),Ht=Qe(xr,cr,Pt+Xt,Pt+ur,1,Xe.minY,Xe.maxY,Qt),xr=null),dr&&(gr=Qe(dr,cr,Pt-Lt,Pt+rr,1,Xe.minY,Xe.maxY,Qt),br=Qe(dr,cr,Pt+Xt,Pt+ur,1,Xe.minY,Xe.maxY,Qt),dr=null),hr>1&&console.timeEnd("clipping"),Ut.push(or||[],ht+1,Tt*2,Pt*2),Ut.push(Ht||[],ht+1,Tt*2,Pt*2+1),Ut.push(gr||[],ht+1,Tt*2+1,Pt*2),Ut.push(br||[],ht+1,Tt*2+1,Pt*2+1)}}},Kt.prototype.getTile=function(bt,ht,Tt){var Pt=this.options,zt=Pt.extent,Dt=Pt.debug;if(bt<0||bt>24)return null;var Vt=1<<bt;ht=(ht%Vt+Vt)%Vt;var Ut=wr(bt,ht,Tt);if(this.tiles[Ut])return rt(this.tiles[Ut],zt);Dt>1&&console.log("drilling down to z%d-%d-%d",bt,ht,Tt);for(var Qt=bt,hr=ht,cr=Tt,lr;!lr&&Qt>0;)Qt--,hr=Math.floor(hr/2),cr=Math.floor(cr/2),lr=this.tiles[wr(Qt,hr,cr)];return!lr||!lr.source?null:(Dt>1&&console.log("found parent tile z%d-%d-%d",Qt,hr,cr),Dt>1&&console.time("drilling down"),this.splitTile(lr.source,Qt,hr,cr,bt,ht,Tt),Dt>1&&console.timeEnd("drilling down"),this.tiles[Ut]?rt(this.tiles[Ut],zt):null)};function wr(bt,ht,Tt){return((1<<bt)*Tt+ht)*32+bt}function yt(bt,ht){for(var Tt in ht)bt[Tt]=ht[Tt];return bt}function $t(bt,ht){var Tt=bt.tileID.canonical;if(!this._geoJSONIndex)return ht(null,null);var Pt=this._geoJSONIndex.getTile(Tt.z,Tt.x,Tt.y);if(!Pt)return ht(null,null);var zt=new S(Pt.features),Dt=o(zt);(Dt.byteOffset!==0||Dt.byteLength!==Dt.buffer.byteLength)&&(Dt=new Uint8Array(Dt)),ht(null,{vectorTile:zt,rawData:Dt.buffer})}var er=function(bt){function ht(Tt,Pt,zt,Dt){bt.call(this,Tt,Pt,zt,$t),Dt&&(this.loadGeoJSON=Dt)}return bt&&(ht.__proto__=bt),ht.prototype=Object.create(bt&&bt.prototype),ht.prototype.constructor=ht,ht.prototype.loadData=function(Pt,zt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=zt,this._pendingLoadDataParams=Pt,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},ht.prototype._loadData=function(){var Pt=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var zt=this._pendingCallback,Dt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Vt=Dt&&Dt.request&&Dt.request.collectResourceTiming?new a.RequestPerformance(Dt.request):!1;this.loadGeoJSON(Dt,function(Ut,Qt){if(Ut||!Qt)return zt(Ut);if(typeof Qt!="object")return zt(new Error("Input data given to '"+Dt.source+"' is not a valid GeoJSON object."));c(Qt,!0);try{Pt._geoJSONIndex=Dt.cluster?new oe(mr(Dt)).load(Qt.features):Nt(Qt,Dt.geojsonVtOptions)}catch(lr){return zt(lr)}Pt.loaded={};var hr={};if(Vt){var cr=Vt.finish();cr&&(hr.resourceTiming={},hr.resourceTiming[Dt.source]=JSON.parse(JSON.stringify(cr)))}zt(null,hr)})}},ht.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},ht.prototype.reloadTile=function(Pt,zt){var Dt=this.loaded,Vt=Pt.uid;return Dt&&Dt[Vt]?bt.prototype.reloadTile.call(this,Pt,zt):this.loadTile(Pt,zt)},ht.prototype.loadGeoJSON=function(Pt,zt){if(Pt.request)a.getJSON(Pt.request,zt);else if(typeof Pt.data=="string")try{return zt(null,JSON.parse(Pt.data))}catch{return zt(new Error("Input data given to '"+Pt.source+"' is not a valid GeoJSON object."))}else return zt(new Error("Input data given to '"+Pt.source+"' is not a valid GeoJSON object."))},ht.prototype.removeSource=function(Pt,zt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),zt()},ht.prototype.getClusterExpansionZoom=function(Pt,zt){try{zt(null,this._geoJSONIndex.getClusterExpansionZoom(Pt.clusterId))}catch(Dt){zt(Dt)}},ht.prototype.getClusterChildren=function(Pt,zt){try{zt(null,this._geoJSONIndex.getChildren(Pt.clusterId))}catch(Dt){zt(Dt)}},ht.prototype.getClusterLeaves=function(Pt,zt){try{zt(null,this._geoJSONIndex.getLeaves(Pt.clusterId,Pt.limit,Pt.offset))}catch(Dt){zt(Dt)}},ht}(f);function mr(bt){var ht=bt.superclusterOptions,Tt=bt.clusterProperties;if(!Tt||!ht)return ht;for(var Pt={},zt={},Dt={accumulated:null,zoom:0},Vt={properties:null},Ut=Object.keys(Tt),Qt=0,hr=Ut;Qt<hr.length;Qt+=1){var cr=hr[Qt],lr=Tt[cr],Xe=lr[0],Ke=lr[1],Ot=a.createExpression(Ke),Lt=a.createExpression(typeof Xe=="string"?[Xe,["accumulated"],["get",cr]]:Xe);Pt[cr]=Ot.value,zt[cr]=Lt.value}return ht.map=function(Xt){Vt.properties=Xt;for(var rr={},ur=0,or=Ut;ur<or.length;ur+=1){var Ht=or[ur];rr[Ht]=Pt[Ht].evaluate(Dt,Vt)}return rr},ht.reduce=function(Xt,rr){Vt.properties=rr;for(var ur=0,or=Ut;ur<or.length;ur+=1){var Ht=or[ur];Dt.accumulated=Xt[Ht],Xt[Ht]=zt[Ht].evaluate(Dt,Vt)}},ht}var vr=function(ht){var Tt=this;this.self=ht,this.actor=new a.Actor(ht,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:f,geojson:er},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Pt,zt){if(Tt.workerSourceTypes[Pt])throw new Error('Worker source with name "'+Pt+'" already registered.');Tt.workerSourceTypes[Pt]=zt},this.self.registerRTLTextPlugin=function(Pt){if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=Pt.applyArabicShaping,a.plugin.processBidirectionalText=Pt.processBidirectionalText,a.plugin.processStyledBidirectionalText=Pt.processStyledBidirectionalText}};return vr.prototype.setReferrer=function(ht,Tt){this.referrer=Tt},vr.prototype.setImages=function(ht,Tt,Pt){this.availableImages[ht]=Tt;for(var zt in this.workerSources[ht]){var Dt=this.workerSources[ht][zt];for(var Vt in Dt)Dt[Vt].availableImages=Tt}Pt()},vr.prototype.setLayers=function(ht,Tt,Pt){this.getLayerIndex(ht).replace(Tt),Pt()},vr.prototype.updateLayers=function(ht,Tt,Pt){this.getLayerIndex(ht).update(Tt.layers,Tt.removedIds),Pt()},vr.prototype.loadTile=function(ht,Tt,Pt){this.getWorkerSource(ht,Tt.type,Tt.source).loadTile(Tt,Pt)},vr.prototype.loadDEMTile=function(ht,Tt,Pt){this.getDEMWorkerSource(ht,Tt.source).loadTile(Tt,Pt)},vr.prototype.reloadTile=function(ht,Tt,Pt){this.getWorkerSource(ht,Tt.type,Tt.source).reloadTile(Tt,Pt)},vr.prototype.abortTile=function(ht,Tt,Pt){this.getWorkerSource(ht,Tt.type,Tt.source).abortTile(Tt,Pt)},vr.prototype.removeTile=function(ht,Tt,Pt){this.getWorkerSource(ht,Tt.type,Tt.source).removeTile(Tt,Pt)},vr.prototype.removeDEMTile=function(ht,Tt){this.getDEMWorkerSource(ht,Tt.source).removeTile(Tt)},vr.prototype.removeSource=function(ht,Tt,Pt){if(!(!this.workerSources[ht]||!this.workerSources[ht][Tt.type]||!this.workerSources[ht][Tt.type][Tt.source])){var zt=this.workerSources[ht][Tt.type][Tt.source];delete this.workerSources[ht][Tt.type][Tt.source],zt.removeSource!==void 0?zt.removeSource(Tt,Pt):Pt()}},vr.prototype.loadWorkerSource=function(ht,Tt,Pt){try{this.self.importScripts(Tt.url),Pt()}catch(zt){Pt(zt.toString())}},vr.prototype.syncRTLPluginState=function(ht,Tt,Pt){try{a.plugin.setState(Tt);var zt=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&zt!=null){this.self.importScripts(zt);var Dt=a.plugin.isParsed(),Vt=Dt?void 0:new Error("RTL Text Plugin failed to import scripts from "+zt);Pt(Vt,Dt)}}catch(Ut){Pt(Ut.toString())}},vr.prototype.getAvailableImages=function(ht){var Tt=this.availableImages[ht];return Tt||(Tt=[]),Tt},vr.prototype.getLayerIndex=function(ht){var Tt=this.layerIndexes[ht];return Tt||(Tt=this.layerIndexes[ht]=new p),Tt},vr.prototype.getWorkerSource=function(ht,Tt,Pt){var zt=this;if(this.workerSources[ht]||(this.workerSources[ht]={}),this.workerSources[ht][Tt]||(this.workerSources[ht][Tt]={}),!this.workerSources[ht][Tt][Pt]){var Dt={send:function(Vt,Ut,Qt){zt.actor.send(Vt,Ut,Qt,ht)}};this.workerSources[ht][Tt][Pt]=new this.workerSourceTypes[Tt](Dt,this.getLayerIndex(ht),this.getAvailableImages(ht))}return this.workerSources[ht][Tt][Pt]},vr.prototype.getDEMWorkerSource=function(ht,Tt){return this.demWorkerSources[ht]||(this.demWorkerSources[ht]={}),this.demWorkerSources[ht][Tt]||(this.demWorkerSources[ht][Tt]=new y),this.demWorkerSources[ht][Tt]},vr.prototype.enforceCacheSizeLimit=function(ht,Tt){a.enforceCacheSizeLimit(Tt)},typeof WorkerGlobalScope<"u"&&typeof a.window<"u"&&a.window instanceof WorkerGlobalScope&&(a.window.worker=new vr(a.window)),vr}),_(["./shared"],function(a){var C=a.createCommonjsModule(function(ve){ve.exports?ve.exports=X:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=X,window.mapboxgl.notSupportedReason=pe);function X(kr){return!pe(kr)}function pe(kr){if(!ne())return"not a browser";if(!ge())return"insufficent Array support";if(!Ne())return"insufficient Function support";if(!Je())return"insufficient Object support";if(!De())return"insufficient JSON support";if(!xe())return"insufficient worker support";if(!Ge())return"insufficient Uint8ClampedArray support";if(!dt())return"insufficient ArrayBuffer support";if(!_t())return"insufficient Canvas/getImageData support";if(!qt(kr&&kr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function ne(){return typeof window<"u"&&typeof document<"u"}function ge(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function Ne(){return Function.prototype&&Function.prototype.bind}function Je(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function De(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function xe(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var kr=new Blob([""],{type:"text/javascript"}),Or=URL.createObjectURL(kr),$r,gn;try{gn=new Worker(Or),$r=!0}catch{$r=!1}return gn&&gn.terminate(),URL.revokeObjectURL(Or),$r}function Ge(){return"Uint8ClampedArray"in window}function dt(){return ArrayBuffer.isView}function _t(){var kr=document.createElement("canvas");kr.width=kr.height=1;var Or=kr.getContext("2d");if(!Or)return!1;var $r=Or.getImageData(0,0,1,1);return $r&&$r.width===kr.width}var Yt={};function qt(kr){return Yt[kr]===void 0&&(Yt[kr]=Ar(kr)),Yt[kr]}X.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function yr(kr){var Or=document.createElement("canvas"),$r=Object.create(X.webGLContextAttributes);return $r.failIfMajorPerformanceCaveat=kr,Or.probablySupportsContext?Or.probablySupportsContext("webgl",$r)||Or.probablySupportsContext("experimental-webgl",$r):Or.supportsContext?Or.supportsContext("webgl",$r)||Or.supportsContext("experimental-webgl",$r):Or.getContext("webgl",$r)||Or.getContext("experimental-webgl",$r)}function Ar(kr){var Or=yr(kr);if(!Or)return!1;var $r=Or.createShader(Or.VERTEX_SHADER);return!$r||Or.isContextLost()?!1:(Or.shaderSource($r,"void main() {}"),Or.compileShader($r),Or.getShaderParameter($r,Or.COMPILE_STATUS)===!0)}}),A={};A.create=function(ve,X,pe){var ne=a.window.document.createElement(ve);return X!==void 0&&(ne.className=X),pe&&pe.appendChild(ne),ne},A.createNS=function(ve,X){var pe=a.window.document.createElementNS(ve,X);return pe};var v=a.window.document.documentElement.style;function p(ve){if(!v)return ve[0];for(var X=0;X<ve.length;X++)if(ve[X]in v)return ve[X];return ve[0]}var t=p(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),r;A.disableDrag=function(){v&&t&&(r=v[t],v[t]="none")},A.enableDrag=function(){v&&t&&(v[t]=r)};var s=p(["transform","WebkitTransform"]);A.setTransform=function(ve,X){ve.style[s]=X};var n=!1;try{var i=Object.defineProperty({},"passive",{get:function(){n=!0}});a.window.addEventListener("test",i,i),a.window.removeEventListener("test",i,i)}catch{n=!1}A.addEventListener=function(ve,X,pe,ne){ne===void 0&&(ne={}),"passive"in ne&&n?ve.addEventListener(X,pe,ne):ve.addEventListener(X,pe,ne.capture)},A.removeEventListener=function(ve,X,pe,ne){ne===void 0&&(ne={}),"passive"in ne&&n?ve.removeEventListener(X,pe,ne):ve.removeEventListener(X,pe,ne.capture)};var f=function(ve){ve.preventDefault(),ve.stopPropagation(),a.window.removeEventListener("click",f,!0)};A.suppressClick=function(){a.window.addEventListener("click",f,!0),a.window.setTimeout(function(){a.window.removeEventListener("click",f,!0)},0)},A.mousePos=function(ve,X){var pe=ve.getBoundingClientRect();return new a.Point(X.clientX-pe.left-ve.clientLeft,X.clientY-pe.top-ve.clientTop)},A.touchPos=function(ve,X){for(var pe=ve.getBoundingClientRect(),ne=[],ge=0;ge<X.length;ge++)ne.push(new a.Point(X[ge].clientX-pe.left-ve.clientLeft,X[ge].clientY-pe.top-ve.clientTop));return ne},A.mouseButton=function(ve){return typeof a.window.InstallTrigger<"u"&&ve.button===2&&ve.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:ve.button},A.remove=function(ve){ve.parentNode&&ve.parentNode.removeChild(ve)};function u(ve,X,pe){var ne,ge,Ne,Je=a.browser.devicePixelRatio>1?"@2x":"",De=a.getJSON(X.transformRequest(X.normalizeSpriteURL(ve,Je,".json"),a.ResourceType.SpriteJSON),function(dt,_t){De=null,Ne||(Ne=dt,ne=_t,Ge())}),xe=a.getImage(X.transformRequest(X.normalizeSpriteURL(ve,Je,".png"),a.ResourceType.SpriteImage),function(dt,_t){xe=null,Ne||(Ne=dt,ge=_t,Ge())});function Ge(){if(Ne)pe(Ne);else if(ne&&ge){var dt=a.browser.getImageData(ge),_t={};for(var Yt in ne){var qt=ne[Yt],yr=qt.width,Ar=qt.height,kr=qt.x,Or=qt.y,$r=qt.sdf,gn=qt.pixelRatio,An=qt.stretchX,Nn=qt.stretchY,In=qt.content,On=new a.RGBAImage({width:yr,height:Ar});a.RGBAImage.copy(dt,On,{x:kr,y:Or},{x:0,y:0},{width:yr,height:Ar}),_t[Yt]={data:On,pixelRatio:gn,sdf:$r,stretchX:An,stretchY:Nn,content:In}}pe(null,_t)}}return{cancel:function(){De&&(De.cancel(),De=null),xe&&(xe.cancel(),xe=null)}}}function y(ve){var X=ve.userImage;if(X&&X.render){var pe=X.render();if(pe)return ve.data.replace(new Uint8Array(X.data.buffer)),!0}return!1}var c=1,T=function(ve){function X(){ve.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.isLoaded=function(){return this.loaded},X.prototype.setLoaded=function(ne){if(this.loaded!==ne&&(this.loaded=ne,ne)){for(var ge=0,Ne=this.requestors;ge<Ne.length;ge+=1){var Je=Ne[ge],De=Je.ids,xe=Je.callback;this._notify(De,xe)}this.requestors=[]}},X.prototype.getImage=function(ne){return this.images[ne]},X.prototype.addImage=function(ne,ge){this._validate(ne,ge)&&(this.images[ne]=ge)},X.prototype._validate=function(ne,ge){var Ne=!0;return this._validateStretch(ge.stretchX,ge.data&&ge.data.width)||(this.fire(new a.ErrorEvent(new Error('Image "'+ne+'" has invalid "stretchX" value'))),Ne=!1),this._validateStretch(ge.stretchY,ge.data&&ge.data.height)||(this.fire(new a.ErrorEvent(new Error('Image "'+ne+'" has invalid "stretchY" value'))),Ne=!1),this._validateContent(ge.content,ge)||(this.fire(new a.ErrorEvent(new Error('Image "'+ne+'" has invalid "content" value'))),Ne=!1),Ne},X.prototype._validateStretch=function(ne,ge){if(!ne)return!0;for(var Ne=0,Je=0,De=ne;Je<De.length;Je+=1){var xe=De[Je];if(xe[0]<Ne||xe[1]<xe[0]||ge<xe[1])return!1;Ne=xe[1]}return!0},X.prototype._validateContent=function(ne,ge){return ne?!(ne.length!==4||ne[0]<0||ge.data.width<ne[0]||ne[1]<0||ge.data.height<ne[1]||ne[2]<0||ge.data.width<ne[2]||ne[3]<0||ge.data.height<ne[3]||ne[2]<ne[0]||ne[3]<ne[1]):!0},X.prototype.updateImage=function(ne,ge){var Ne=this.images[ne];ge.version=Ne.version+1,this.images[ne]=ge,this.updatedImages[ne]=!0},X.prototype.removeImage=function(ne){var ge=this.images[ne];delete this.images[ne],delete this.patterns[ne],ge.userImage&&ge.userImage.onRemove&&ge.userImage.onRemove()},X.prototype.listImages=function(){return Object.keys(this.images)},X.prototype.getImages=function(ne,ge){var Ne=!0;if(!this.isLoaded())for(var Je=0,De=ne;Je<De.length;Je+=1){var xe=De[Je];this.images[xe]||(Ne=!1)}this.isLoaded()||Ne?this._notify(ne,ge):this.requestors.push({ids:ne,callback:ge})},X.prototype._notify=function(ne,ge){for(var Ne={},Je=0,De=ne;Je<De.length;Je+=1){var xe=De[Je];this.images[xe]||this.fire(new a.Event("styleimagemissing",{id:xe}));var Ge=this.images[xe];Ge?Ne[xe]={data:Ge.data.clone(),pixelRatio:Ge.pixelRatio,sdf:Ge.sdf,version:Ge.version,stretchX:Ge.stretchX,stretchY:Ge.stretchY,content:Ge.content,hasRenderCallback:!!(Ge.userImage&&Ge.userImage.render)}:a.warnOnce('Image "'+xe+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}ge(null,Ne)},X.prototype.getPixelSize=function(){var ne=this.atlasImage,ge=ne.width,Ne=ne.height;return{width:ge,height:Ne}},X.prototype.getPattern=function(ne){var ge=this.patterns[ne],Ne=this.getImage(ne);if(!Ne)return null;if(ge&&ge.position.version===Ne.version)return ge.position;if(ge)ge.position.version=Ne.version;else{var Je=Ne.data.width+c*2,De=Ne.data.height+c*2,xe={w:Je,h:De,x:0,y:0},Ge=new a.ImagePosition(xe,Ne);this.patterns[ne]={bin:xe,position:Ge}}return this._updatePatternAtlas(),this.patterns[ne].position},X.prototype.bind=function(ne){var ge=ne.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(ne,this.atlasImage,ge.RGBA),this.atlasTexture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE)},X.prototype._updatePatternAtlas=function(){var ne=[];for(var ge in this.patterns)ne.push(this.patterns[ge].bin);var Ne=a.potpack(ne),Je=Ne.w,De=Ne.h,xe=this.atlasImage;xe.resize({width:Je||1,height:De||1});for(var Ge in this.patterns){var dt=this.patterns[Ge],_t=dt.bin,Yt=_t.x+c,qt=_t.y+c,yr=this.images[Ge].data,Ar=yr.width,kr=yr.height;a.RGBAImage.copy(yr,xe,{x:0,y:0},{x:Yt,y:qt},{width:Ar,height:kr}),a.RGBAImage.copy(yr,xe,{x:0,y:kr-1},{x:Yt,y:qt-1},{width:Ar,height:1}),a.RGBAImage.copy(yr,xe,{x:0,y:0},{x:Yt,y:qt+kr},{width:Ar,height:1}),a.RGBAImage.copy(yr,xe,{x:Ar-1,y:0},{x:Yt-1,y:qt},{width:1,height:kr}),a.RGBAImage.copy(yr,xe,{x:0,y:0},{x:Yt+Ar,y:qt},{width:1,height:kr})}this.dirty=!0},X.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},X.prototype.dispatchRenderCallbacks=function(ne){for(var ge=0,Ne=ne;ge<Ne.length;ge+=1){var Je=Ne[ge];if(!this.callbackDispatchedThisFrame[Je]){this.callbackDispatchedThisFrame[Je]=!0;var De=this.images[Je],xe=y(De);xe&&this.updateImage(Je,De)}}},X}(a.Evented);function h(ve,X,pe,ne,ge){var Ne=X*256,Je=Ne+255,De=ne.transformRequest(ne.normalizeGlyphsURL(pe).replace("{fontstack}",ve).replace("{range}",Ne+"-"+Je),a.ResourceType.Glyphs);a.getArrayBuffer(De,function(xe,Ge){if(xe)ge(xe);else if(Ge){for(var dt={},_t=0,Yt=a.parseGlyphPBF(Ge);_t<Yt.length;_t+=1){var qt=Yt[_t];dt[qt.id]=qt}ge(null,dt)}})}var l=S,d=S,E=1e20;function S(ve,X,pe,ne,ge,Ne){this.fontSize=ve||24,this.buffer=X===void 0?3:X,this.cutoff=ne||.25,this.fontFamily=ge||"sans-serif",this.fontWeight=Ne||"normal",this.radius=pe||8;var Je=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Je,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Je*Je),this.gridInner=new Float64Array(Je*Je),this.f=new Float64Array(Je),this.d=new Float64Array(Je),this.z=new Float64Array(Je+1),this.v=new Int16Array(Je),this.middle=Math.round(Je/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}S.prototype.draw=function(ve){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(ve,this.buffer,this.middle);for(var X=this.ctx.getImageData(0,0,this.size,this.size),pe=new Uint8ClampedArray(this.size*this.size),ne=0;ne<this.size*this.size;ne++){var ge=X.data[ne*4+3]/255;this.gridOuter[ne]=ge===1?0:ge===0?E:Math.pow(Math.max(0,.5-ge),2),this.gridInner[ne]=ge===1?E:ge===0?0:Math.pow(Math.max(0,ge-.5),2)}for(P(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),P(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),ne=0;ne<this.size*this.size;ne++){var Ne=this.gridOuter[ne]-this.gridInner[ne];pe[ne]=Math.max(0,Math.min(255,Math.round(255-255*(Ne/this.radius+this.cutoff))))}return pe};function P(ve,X,pe,ne,ge,Ne,Je){for(var De=0;De<X;De++){for(var xe=0;xe<pe;xe++)ne[xe]=ve[xe*X+De];for(x(ne,ge,Ne,Je,pe),xe=0;xe<pe;xe++)ve[xe*X+De]=ge[xe]}for(xe=0;xe<pe;xe++){for(De=0;De<X;De++)ne[De]=ve[xe*X+De];for(x(ne,ge,Ne,Je,X),De=0;De<X;De++)ve[xe*X+De]=Math.sqrt(ge[De])}}function x(ve,X,pe,ne,ge){pe[0]=0,ne[0]=-E,ne[1]=+E;for(var Ne=1,Je=0;Ne<ge;Ne++){for(var De=(ve[Ne]+Ne*Ne-(ve[pe[Je]]+pe[Je]*pe[Je]))/(2*Ne-2*pe[Je]);De<=ne[Je];)Je--,De=(ve[Ne]+Ne*Ne-(ve[pe[Je]]+pe[Je]*pe[Je]))/(2*Ne-2*pe[Je]);Je++,pe[Je]=Ne,ne[Je]=De,ne[Je+1]=+E}for(Ne=0,Je=0;Ne<ge;Ne++){for(;ne[Je+1]<Ne;)Je++;X[Ne]=(Ne-pe[Je])*(Ne-pe[Je])+ve[pe[Je]]}}l.default=d;var M=function(X,pe){this.requestManager=X,this.localIdeographFontFamily=pe,this.entries={}};M.prototype.setURL=function(X){this.url=X},M.prototype.getGlyphs=function(X,pe){var ne=this,ge=[];for(var Ne in X)for(var Je=0,De=X[Ne];Je<De.length;Je+=1){var xe=De[Je];ge.push({stack:Ne,id:xe})}a.asyncAll(ge,function(Ge,dt){var _t=Ge.stack,Yt=Ge.id,qt=ne.entries[_t];qt||(qt=ne.entries[_t]={glyphs:{},requests:{},ranges:{}});var yr=qt.glyphs[Yt];if(yr!==void 0){dt(null,{stack:_t,id:Yt,glyph:yr});return}if(yr=ne._tinySDF(qt,_t,Yt),yr){qt.glyphs[Yt]=yr,dt(null,{stack:_t,id:Yt,glyph:yr});return}var Ar=Math.floor(Yt/256);if(Ar*256>65535){dt(new Error("glyphs > 65535 not supported"));return}if(qt.ranges[Ar]){dt(null,{stack:_t,id:Yt,glyph:yr});return}var kr=qt.requests[Ar];kr||(kr=qt.requests[Ar]=[],M.loadGlyphRange(_t,Ar,ne.url,ne.requestManager,function(Or,$r){if($r){for(var gn in $r)ne._doesCharSupportLocalGlyph(+gn)||(qt.glyphs[+gn]=$r[+gn]);qt.ranges[Ar]=!0}for(var An=0,Nn=kr;An<Nn.length;An+=1){var In=Nn[An];In(Or,$r)}delete qt.requests[Ar]})),kr.push(function(Or,$r){Or?dt(Or):$r&&dt(null,{stack:_t,id:Yt,glyph:$r[Yt]||null})})},function(Ge,dt){if(Ge)pe(Ge);else if(dt){for(var _t={},Yt=0,qt=dt;Yt<qt.length;Yt+=1){var yr=qt[Yt],Ar=yr.stack,kr=yr.id,Or=yr.glyph;(_t[Ar]||(_t[Ar]={}))[kr]=Or&&{id:Or.id,bitmap:Or.bitmap.clone(),metrics:Or.metrics}}pe(null,_t)}})},M.prototype._doesCharSupportLocalGlyph=function(X){return!!this.localIdeographFontFamily&&(a.isChar["CJK Unified Ideographs"](X)||a.isChar["Hangul Syllables"](X)||a.isChar.Hiragana(X)||a.isChar.Katakana(X))},M.prototype._tinySDF=function(X,pe,ne){var ge=this.localIdeographFontFamily;if(ge&&this._doesCharSupportLocalGlyph(ne)){var Ne=X.tinySDF;if(!Ne){var Je="400";/bold/i.test(pe)?Je="900":/medium/i.test(pe)?Je="500":/light/i.test(pe)&&(Je="200"),Ne=X.tinySDF=new M.TinySDF(24,3,8,.25,ge,Je)}return{id:ne,bitmap:new a.AlphaImage({width:30,height:30},Ne.draw(String.fromCharCode(ne))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},M.loadGlyphRange=h,M.TinySDF=l;var w=function(){this.specification=a.styleSpec.light.position};w.prototype.possiblyEvaluate=function(X,pe){return a.sphericalToCartesian(X.expression.evaluate(pe))},w.prototype.interpolate=function(X,pe,ne){return{x:a.number(X.x,pe.x,ne),y:a.number(X.y,pe.y,ne),z:a.number(X.z,pe.z,ne)}};var o=new a.Properties({anchor:new a.DataConstantProperty(a.styleSpec.light.anchor),position:new w,color:new a.DataConstantProperty(a.styleSpec.light.color),intensity:new a.DataConstantProperty(a.styleSpec.light.intensity)}),L="-transition",m=function(ve){function X(pe){ve.call(this),this._transitionable=new a.Transitionable(o),this.setLight(pe),this._transitioning=this._transitionable.untransitioned()}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getLight=function(){return this._transitionable.serialize()},X.prototype.setLight=function(ne,ge){if(ge===void 0&&(ge={}),!this._validate(a.validateLight,ne,ge))for(var Ne in ne){var Je=ne[Ne];a.endsWith(Ne,L)?this._transitionable.setTransition(Ne.slice(0,-L.length),Je):this._transitionable.setValue(Ne,Je)}},X.prototype.updateTransitions=function(ne){this._transitioning=this._transitionable.transitioned(ne,this._transitioning)},X.prototype.hasTransition=function(){return this._transitioning.hasTransition()},X.prototype.recalculate=function(ne){this.properties=this._transitioning.possiblyEvaluate(ne)},X.prototype._validate=function(ne,ge,Ne){return Ne&&Ne.validate===!1?!1:a.emitValidationErrors(this,ne.call(a.validateStyle,a.extend({value:ge,style:{glyphs:!0,sprite:!0},styleSpec:a.styleSpec})))},X}(a.Evented),F=function(X,pe){this.width=X,this.height=pe,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};F.prototype.getDash=function(X,pe){var ne=X.join(",")+String(pe);return this.dashEntry[ne]||(this.dashEntry[ne]=this.addDash(X,pe)),this.dashEntry[ne]},F.prototype.getDashRanges=function(X,pe,ne){var ge=X.length%2===1,Ne=[],Je=ge?-X[X.length-1]*ne:0,De=X[0]*ne,xe=!0;Ne.push({left:Je,right:De,isDash:xe,zeroLength:X[0]===0});for(var Ge=X[0],dt=1;dt<X.length;dt++){xe=!xe;var _t=X[dt];Je=Ge*ne,Ge+=_t,De=Ge*ne,Ne.push({left:Je,right:De,isDash:xe,zeroLength:_t===0})}return Ne},F.prototype.addRoundDash=function(X,pe,ne){for(var ge=pe/2,Ne=-ne;Ne<=ne;Ne++)for(var Je=this.nextRow+ne+Ne,De=this.width*Je,xe=0,Ge=X[xe],dt=0;dt<this.width;dt++){dt/Ge.right>1&&(Ge=X[++xe]);var _t=Math.abs(dt-Ge.left),Yt=Math.abs(dt-Ge.right),qt=Math.min(_t,Yt),yr=void 0,Ar=Ne/ne*(ge+1);if(Ge.isDash){var kr=ge-Math.abs(Ar);yr=Math.sqrt(qt*qt+kr*kr)}else yr=ge-Math.sqrt(qt*qt+Ar*Ar);this.data[De+dt]=Math.max(0,Math.min(255,yr+128))}},F.prototype.addRegularDash=function(X){for(var pe=X.length-1;pe>=0;--pe){var ne=X[pe],ge=X[pe+1];ne.zeroLength?X.splice(pe,1):ge&&ge.isDash===ne.isDash&&(ge.left=ne.left,X.splice(pe,1))}var Ne=X[0],Je=X[X.length-1];Ne.isDash===Je.isDash&&(Ne.left=Je.left-this.width,Je.right=Ne.right+this.width);for(var De=this.width*this.nextRow,xe=0,Ge=X[xe],dt=0;dt<this.width;dt++){dt/Ge.right>1&&(Ge=X[++xe]);var _t=Math.abs(dt-Ge.left),Yt=Math.abs(dt-Ge.right),qt=Math.min(_t,Yt),yr=Ge.isDash?qt:-qt;this.data[De+dt]=Math.max(0,Math.min(255,yr+128))}},F.prototype.addDash=function(X,pe){var ne=pe?7:0,ge=2*ne+1;if(this.nextRow+ge>this.height)return a.warnOnce("LineAtlas out of space"),null;for(var Ne=0,Je=0;Je<X.length;Je++)Ne+=X[Je];if(Ne!==0){var De=this.width/Ne,xe=this.getDashRanges(X,this.width,De);pe?this.addRoundDash(xe,De,ne):this.addRegularDash(xe)}var Ge={y:(this.nextRow+ne+.5)/this.height,height:2*ne/this.height,width:Ne};return this.nextRow+=ge,this.dirty=!0,Ge},F.prototype.bind=function(X){var pe=X.gl;this.texture?(pe.bindTexture(pe.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,pe.texSubImage2D(pe.TEXTURE_2D,0,0,0,this.width,this.height,pe.ALPHA,pe.UNSIGNED_BYTE,this.data))):(this.texture=pe.createTexture(),pe.bindTexture(pe.TEXTURE_2D,this.texture),pe.texParameteri(pe.TEXTURE_2D,pe.TEXTURE_WRAP_S,pe.REPEAT),pe.texParameteri(pe.TEXTURE_2D,pe.TEXTURE_WRAP_T,pe.REPEAT),pe.texParameteri(pe.TEXTURE_2D,pe.TEXTURE_MIN_FILTER,pe.LINEAR),pe.texParameteri(pe.TEXTURE_2D,pe.TEXTURE_MAG_FILTER,pe.LINEAR),pe.texImage2D(pe.TEXTURE_2D,0,pe.ALPHA,this.width,this.height,0,pe.ALPHA,pe.UNSIGNED_BYTE,this.data))};var I=function ve(X,pe){this.workerPool=X,this.actors=[],this.currentActor=0,this.id=a.uniqueId();for(var ne=this.workerPool.acquire(this.id),ge=0;ge<ne.length;ge++){var Ne=ne[ge],Je=new ve.Actor(Ne,pe,this.id);Je.name="Worker "+ge,this.actors.push(Je)}};I.prototype.broadcast=function(X,pe,ne){ne=ne||function(){},a.asyncAll(this.actors,function(ge,Ne){ge.send(X,pe,Ne)},ne)},I.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},I.prototype.remove=function(){this.actors.forEach(function(X){X.remove()}),this.actors=[],this.workerPool.release(this.id)},I.Actor=a.Actor;function U(ve,X,pe){var ne=function(ge,Ne){if(ge)return pe(ge);if(Ne){var Je=a.pick(a.extend(Ne,ve),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Ne.vector_layers&&(Je.vectorLayers=Ne.vector_layers,Je.vectorLayerIds=Je.vectorLayers.map(function(De){return De.id})),Je.tiles=X.canonicalizeTileset(Je,ve.url),pe(null,Je)}};return ve.url?a.getJSON(X.transformRequest(X.normalizeSourceURL(ve.url),a.ResourceType.Source),ne):a.browser.frame(function(){return ne(null,ve)})}var z=function(X,pe,ne){this.bounds=a.LngLatBounds.convert(this.validateBounds(X)),this.minzoom=pe||0,this.maxzoom=ne||24};z.prototype.validateBounds=function(X){return!Array.isArray(X)||X.length!==4?[-180,-90,180,90]:[Math.max(-180,X[0]),Math.max(-90,X[1]),Math.min(180,X[2]),Math.min(90,X[3])]},z.prototype.contains=function(X){var pe=Math.pow(2,X.z),ne={minX:Math.floor(a.mercatorXfromLng(this.bounds.getWest())*pe),minY:Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*pe),maxX:Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*pe),maxY:Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*pe)},ge=X.x>=ne.minX&&X.x<ne.maxX&&X.y>=ne.minY&&X.y<ne.maxY;return ge};var N=function(ve){function X(pe,ne,ge,Ne){if(ve.call(this),this.id=pe,this.dispatcher=ge,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(ne,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},ne),this._collectResourceTiming=ne.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Ne)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.load=function(){var ne=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=U(this._options,this.map._requestManager,function(ge,Ne){ne._tileJSONRequest=null,ne._loaded=!0,ge?ne.fire(new a.ErrorEvent(ge)):Ne&&(a.extend(ne,Ne),Ne.bounds&&(ne.tileBounds=new z(Ne.bounds,ne.minzoom,ne.maxzoom)),a.postTurnstileEvent(Ne.tiles,ne.map._requestManager._customAccessToken),a.postMapLoadEvent(Ne.tiles,ne.map._getMapId(),ne.map._requestManager._skuToken,ne.map._requestManager._customAccessToken),ne.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),ne.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},X.prototype.loaded=function(){return this._loaded},X.prototype.hasTile=function(ne){return!this.tileBounds||this.tileBounds.contains(ne.canonical)},X.prototype.onAdd=function(ne){this.map=ne,this.load()},X.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},X.prototype.serialize=function(){return a.extend({},this._options)},X.prototype.loadTile=function(ne,ge){var Ne=this.map._requestManager.normalizeTileURL(ne.tileID.canonical.url(this.tiles,this.scheme)),Je={request:this.map._requestManager.transformRequest(Ne,a.ResourceType.Tile),uid:ne.uid,tileID:ne.tileID,zoom:ne.tileID.overscaledZ,tileSize:this.tileSize*ne.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};Je.request.collectResourceTiming=this._collectResourceTiming,!ne.actor||ne.state==="expired"?(ne.actor=this.dispatcher.getActor(),ne.request=ne.actor.send("loadTile",Je,De.bind(this))):ne.state==="loading"?ne.reloadCallback=ge:ne.request=ne.actor.send("reloadTile",Je,De.bind(this));function De(xe,Ge){if(delete ne.request,ne.aborted)return ge(null);if(xe&&xe.status!==404)return ge(xe);Ge&&Ge.resourceTiming&&(ne.resourceTiming=Ge.resourceTiming),this.map._refreshExpiredTiles&&Ge&&ne.setExpiryData(Ge),ne.loadVectorData(Ge,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),ge(null),ne.reloadCallback&&(this.loadTile(ne,ne.reloadCallback),ne.reloadCallback=null)}},X.prototype.abortTile=function(ne){ne.request&&(ne.request.cancel(),delete ne.request),ne.actor&&ne.actor.send("abortTile",{uid:ne.uid,type:this.type,source:this.id},void 0)},X.prototype.unloadTile=function(ne){ne.unloadVectorData(),ne.actor&&ne.actor.send("removeTile",{uid:ne.uid,type:this.type,source:this.id},void 0)},X.prototype.hasTransition=function(){return!1},X}(a.Evented),B=function(ve){function X(pe,ne,ge,Ne){ve.call(this),this.id=pe,this.dispatcher=ge,this.setEventedParent(Ne),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},ne),a.extend(this,a.pick(ne,["url","scheme","tileSize"]))}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.load=function(){var ne=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=U(this._options,this.map._requestManager,function(ge,Ne){ne._tileJSONRequest=null,ne._loaded=!0,ge?ne.fire(new a.ErrorEvent(ge)):Ne&&(a.extend(ne,Ne),Ne.bounds&&(ne.tileBounds=new z(Ne.bounds,ne.minzoom,ne.maxzoom)),a.postTurnstileEvent(Ne.tiles),a.postMapLoadEvent(Ne.tiles,ne.map._getMapId(),ne.map._requestManager._skuToken),ne.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),ne.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},X.prototype.loaded=function(){return this._loaded},X.prototype.onAdd=function(ne){this.map=ne,this.load()},X.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},X.prototype.serialize=function(){return a.extend({},this._options)},X.prototype.hasTile=function(ne){return!this.tileBounds||this.tileBounds.contains(ne.canonical)},X.prototype.loadTile=function(ne,ge){var Ne=this,Je=this.map._requestManager.normalizeTileURL(ne.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);ne.request=a.getImage(this.map._requestManager.transformRequest(Je,a.ResourceType.Tile),function(De,xe){if(delete ne.request,ne.aborted)ne.state="unloaded",ge(null);else if(De)ne.state="errored",ge(De);else if(xe){Ne.map._refreshExpiredTiles&&ne.setExpiryData(xe),delete xe.cacheControl,delete xe.expires;var Ge=Ne.map.painter.context,dt=Ge.gl;ne.texture=Ne.map.painter.getTileTexture(xe.width),ne.texture?ne.texture.update(xe,{useMipmap:!0}):(ne.texture=new a.Texture(Ge,xe,dt.RGBA,{useMipmap:!0}),ne.texture.bind(dt.LINEAR,dt.CLAMP_TO_EDGE,dt.LINEAR_MIPMAP_NEAREST),Ge.extTextureFilterAnisotropic&&dt.texParameterf(dt.TEXTURE_2D,Ge.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Ge.extTextureFilterAnisotropicMax)),ne.state="loaded",a.cacheEntryPossiblyAdded(Ne.dispatcher),ge(null)}})},X.prototype.abortTile=function(ne,ge){ne.request&&(ne.request.cancel(),delete ne.request),ge()},X.prototype.unloadTile=function(ne,ge){ne.texture&&this.map.painter.saveTileTexture(ne.texture),ge()},X.prototype.hasTransition=function(){return!1},X}(a.Evented),O=function(ve){function X(pe,ne,ge,Ne){ve.call(this,pe,ne,ge,Ne),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},ne),this.encoding=ne.encoding||"mapbox"}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},X.prototype.loadTile=function(ne,ge){var Ne=this.map._requestManager.normalizeTileURL(ne.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);ne.request=a.getImage(this.map._requestManager.transformRequest(Ne,a.ResourceType.Tile),Je.bind(this)),ne.neighboringTiles=this._getNeighboringTiles(ne.tileID);function Je(xe,Ge){if(delete ne.request,ne.aborted)ne.state="unloaded",ge(null);else if(xe)ne.state="errored",ge(xe);else if(Ge){this.map._refreshExpiredTiles&&ne.setExpiryData(Ge),delete Ge.cacheControl,delete Ge.expires;var dt=a.window.ImageBitmap&&Ge instanceof a.window.ImageBitmap&&a.offscreenCanvasSupported(),_t=dt?Ge:a.browser.getImageData(Ge,1),Yt={uid:ne.uid,coord:ne.tileID,source:this.id,rawImageData:_t,encoding:this.encoding};(!ne.actor||ne.state==="expired")&&(ne.actor=this.dispatcher.getActor(),ne.actor.send("loadDEMTile",Yt,De.bind(this)))}}function De(xe,Ge){xe&&(ne.state="errored",ge(xe)),Ge&&(ne.dem=Ge,ne.needsHillshadePrepare=!0,ne.state="loaded",ge(null))}},X.prototype._getNeighboringTiles=function(ne){var ge=ne.canonical,Ne=Math.pow(2,ge.z),Je=(ge.x-1+Ne)%Ne,De=ge.x===0?ne.wrap-1:ne.wrap,xe=(ge.x+1+Ne)%Ne,Ge=ge.x+1===Ne?ne.wrap+1:ne.wrap,dt={};return dt[new a.OverscaledTileID(ne.overscaledZ,De,ge.z,Je,ge.y).key]={backfilled:!1},dt[new a.OverscaledTileID(ne.overscaledZ,Ge,ge.z,xe,ge.y).key]={backfilled:!1},ge.y>0&&(dt[new a.OverscaledTileID(ne.overscaledZ,De,ge.z,Je,ge.y-1).key]={backfilled:!1},dt[new a.OverscaledTileID(ne.overscaledZ,ne.wrap,ge.z,ge.x,ge.y-1).key]={backfilled:!1},dt[new a.OverscaledTileID(ne.overscaledZ,Ge,ge.z,xe,ge.y-1).key]={backfilled:!1}),ge.y+1<Ne&&(dt[new a.OverscaledTileID(ne.overscaledZ,De,ge.z,Je,ge.y+1).key]={backfilled:!1},dt[new a.OverscaledTileID(ne.overscaledZ,ne.wrap,ge.z,ge.x,ge.y+1).key]={backfilled:!1},dt[new a.OverscaledTileID(ne.overscaledZ,Ge,ge.z,xe,ge.y+1).key]={backfilled:!1}),dt},X.prototype.unloadTile=function(ne){ne.demTexture&&this.map.painter.saveTileTexture(ne.demTexture),ne.fbo&&(ne.fbo.destroy(),delete ne.fbo),ne.dem&&delete ne.dem,delete ne.neighboringTiles,ne.state="unloaded",ne.actor&&ne.actor.send("removeDEMTile",{uid:ne.uid,source:this.id})},X}(B),H=function(ve){function X(pe,ne,ge,Ne){ve.call(this),this.id=pe,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=ge.getActor(),this.setEventedParent(Ne),this._data=ne.data,this._options=a.extend({},ne),this._collectResourceTiming=ne.collectResourceTiming,this._resourceTiming=[],ne.maxzoom!==void 0&&(this.maxzoom=ne.maxzoom),ne.type&&(this.type=ne.type),ne.attribution&&(this.attribution=ne.attribution),this.promoteId=ne.promoteId;var Je=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:ne.cluster||!1,geojsonVtOptions:{buffer:(ne.buffer!==void 0?ne.buffer:128)*Je,tolerance:(ne.tolerance!==void 0?ne.tolerance:.375)*Je,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:ne.lineMetrics||!1,generateId:ne.generateId||!1},superclusterOptions:{maxZoom:ne.clusterMaxZoom!==void 0?Math.min(ne.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:a.EXTENT,radius:(ne.clusterRadius||50)*Je,log:!1,generateId:ne.generateId||!1},clusterProperties:ne.clusterProperties},ne.workerOptions)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.load=function(){var ne=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ge){if(ge){ne.fire(new a.ErrorEvent(ge));return}var Ne={dataType:"source",sourceDataType:"metadata"};ne._collectResourceTiming&&ne._resourceTiming&&ne._resourceTiming.length>0&&(Ne.resourceTiming=ne._resourceTiming,ne._resourceTiming=[]),ne.fire(new a.Event("data",Ne))})},X.prototype.onAdd=function(ne){this.map=ne,this.load()},X.prototype.setData=function(ne){var ge=this;return this._data=ne,this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(Ne){if(Ne){ge.fire(new a.ErrorEvent(Ne));return}var Je={dataType:"source",sourceDataType:"content"};ge._collectResourceTiming&&ge._resourceTiming&&ge._resourceTiming.length>0&&(Je.resourceTiming=ge._resourceTiming,ge._resourceTiming=[]),ge.fire(new a.Event("data",Je))}),this},X.prototype.getClusterExpansionZoom=function(ne,ge){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:ne,source:this.id},ge),this},X.prototype.getClusterChildren=function(ne,ge){return this.actor.send("geojson.getClusterChildren",{clusterId:ne,source:this.id},ge),this},X.prototype.getClusterLeaves=function(ne,ge,Ne,Je){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:ne,limit:ge,offset:Ne},Je),this},X.prototype._updateWorkerData=function(ne){var ge=this;this._loaded=!1;var Ne=a.extend({},this.workerOptions),Je=this._data;typeof Je=="string"?(Ne.request=this.map._requestManager.transformRequest(a.browser.resolveURL(Je),a.ResourceType.Source),Ne.request.collectResourceTiming=this._collectResourceTiming):Ne.data=JSON.stringify(Je),this.actor.send(this.type+".loadData",Ne,function(De,xe){ge._removed||xe&&xe.abandoned||(ge._loaded=!0,xe&&xe.resourceTiming&&xe.resourceTiming[ge.id]&&(ge._resourceTiming=xe.resourceTiming[ge.id].slice(0)),ge.actor.send(ge.type+".coalesce",{source:Ne.source},null),ne(De))})},X.prototype.loaded=function(){return this._loaded},X.prototype.loadTile=function(ne,ge){var Ne=this,Je=ne.actor?"reloadTile":"loadTile";ne.actor=this.actor;var De={type:this.type,uid:ne.uid,tileID:ne.tileID,zoom:ne.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};ne.request=this.actor.send(Je,De,function(xe,Ge){return delete ne.request,ne.unloadVectorData(),ne.aborted?ge(null):xe?ge(xe):(ne.loadVectorData(Ge,Ne.map.painter,Je==="reloadTile"),ge(null))})},X.prototype.abortTile=function(ne){ne.request&&(ne.request.cancel(),delete ne.request),ne.aborted=!0},X.prototype.unloadTile=function(ne){ne.unloadVectorData(),this.actor.send("removeTile",{uid:ne.uid,type:this.type,source:this.id})},X.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},X.prototype.serialize=function(){return a.extend({},this._options,{type:this.type,data:this._data})},X.prototype.hasTransition=function(){return!1},X}(a.Evented),Y=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),J=function(ve){function X(pe,ne,ge,Ne){ve.call(this),this.id=pe,this.dispatcher=ge,this.coordinates=ne.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Ne),this.options=ne}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.load=function(ne,ge){var Ne=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),function(Je,De){Ne._loaded=!0,Je?Ne.fire(new a.ErrorEvent(Je)):De&&(Ne.image=De,ne&&(Ne.coordinates=ne),ge&&ge(),Ne._finishLoading())})},X.prototype.loaded=function(){return this._loaded},X.prototype.updateImage=function(ne){var ge=this;return!this.image||!ne.url?this:(this.options.url=ne.url,this.load(ne.coordinates,function(){ge.texture=null}),this)},X.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))},X.prototype.onAdd=function(ne){this.map=ne,this.load()},X.prototype.setCoordinates=function(ne){var ge=this;this.coordinates=ne;var Ne=ne.map(a.MercatorCoordinate.fromLngLat);this.tileID=re(Ne),this.minzoom=this.maxzoom=this.tileID.z;var Je=Ne.map(function(De){return ge.tileID.getTilePoint(De)._round()});return this._boundsArray=new a.StructArrayLayout4i8,this._boundsArray.emplaceBack(Je[0].x,Je[0].y,0,0),this._boundsArray.emplaceBack(Je[1].x,Je[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(Je[3].x,Je[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(Je[2].x,Je[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this},X.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var ne=this.map.painter.context,ge=ne.gl;this.boundsBuffer||(this.boundsBuffer=ne.createVertexBuffer(this._boundsArray,Y.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new a.Texture(ne,this.image,ge.RGBA),this.texture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE));for(var Ne in this.tiles){var Je=this.tiles[Ne];Je.state!=="loaded"&&(Je.state="loaded",Je.texture=this.texture)}}},X.prototype.loadTile=function(ne,ge){this.tileID&&this.tileID.equals(ne.tileID.canonical)?(this.tiles[String(ne.tileID.wrap)]=ne,ne.buckets={},ge(null)):(ne.state="errored",ge(null))},X.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},X.prototype.hasTransition=function(){return!1},X}(a.Evented);function re(ve){for(var X=1/0,pe=1/0,ne=-1/0,ge=-1/0,Ne=0,Je=ve;Ne<Je.length;Ne+=1){var De=Je[Ne];X=Math.min(X,De.x),pe=Math.min(pe,De.y),ne=Math.max(ne,De.x),ge=Math.max(ge,De.y)}var xe=ne-X,Ge=ge-pe,dt=Math.max(xe,Ge),_t=Math.max(0,Math.floor(-Math.log(dt)/Math.LN2)),Yt=Math.pow(2,_t);return new a.CanonicalTileID(_t,Math.floor((X+ne)/2*Yt),Math.floor((pe+ge)/2*Yt))}var ie=function(ve){function X(pe,ne,ge,Ne){ve.call(this,pe,ne,ge,Ne),this.roundZoom=!0,this.type="video",this.options=ne}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.load=function(){var ne=this;this._loaded=!1;var ge=this.options;this.urls=[];for(var Ne=0,Je=ge.urls;Ne<Je.length;Ne+=1){var De=Je[Ne];this.urls.push(this.map._requestManager.transformRequest(De,a.ResourceType.Source).url)}a.getVideo(this.urls,function(xe,Ge){ne._loaded=!0,xe?ne.fire(new a.ErrorEvent(xe)):Ge&&(ne.video=Ge,ne.video.loop=!0,ne.video.addEventListener("playing",function(){ne.map.triggerRepaint()}),ne.map&&ne.video.play(),ne._finishLoading())})},X.prototype.pause=function(){this.video&&this.video.pause()},X.prototype.play=function(){this.video&&this.video.play()},X.prototype.seek=function(ne){if(this.video){var ge=this.video.seekable;ne<ge.start(0)||ne>ge.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+ge.start(0)+" and "+ge.end(0)+"-second mark."))):this.video.currentTime=ne}},X.prototype.getVideo=function(){return this.video},X.prototype.onAdd=function(ne){this.map||(this.map=ne,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},X.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var ne=this.map.painter.context,ge=ne.gl;this.boundsBuffer||(this.boundsBuffer=ne.createVertexBuffer(this._boundsArray,Y.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE),ge.texSubImage2D(ge.TEXTURE_2D,0,0,0,ge.RGBA,ge.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(ne,this.video,ge.RGBA),this.texture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE));for(var Ne in this.tiles){var Je=this.tiles[Ne];Je.state!=="loaded"&&(Je.state="loaded",Je.texture=this.texture)}}},X.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},X.prototype.hasTransition=function(){return this.video&&!this.video.paused},X}(J),ce=function(ve){function X(pe,ne,ge,Ne){ve.call(this,pe,ne,ge,Ne),ne.coordinates?(!Array.isArray(ne.coordinates)||ne.coordinates.length!==4||ne.coordinates.some(function(Je){return!Array.isArray(Je)||Je.length!==2||Je.some(function(De){return typeof De!="number"})}))&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+pe,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+pe,null,'missing required property "coordinates"'))),ne.animate&&typeof ne.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+pe,null,'optional "animate" property must be a boolean value'))),ne.canvas?typeof ne.canvas!="string"&&!(ne.canvas instanceof a.window.HTMLCanvasElement)&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+pe,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+pe,null,'missing required property "canvas"'))),this.options=ne,this.animate=ne.animate!==void 0?ne.animate:!0}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},X.prototype.getCanvas=function(){return this.canvas},X.prototype.onAdd=function(ne){this.map=ne,this.load(),this.canvas&&this.animate&&this.play()},X.prototype.onRemove=function(){this.pause()},X.prototype.prepare=function(){var ne=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,ne=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,ne=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var ge=this.map.painter.context,Ne=ge.gl;this.boundsBuffer||(this.boundsBuffer=ge.createVertexBuffer(this._boundsArray,Y.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(ne||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(ge,this.canvas,Ne.RGBA,{premultiply:!0});for(var Je in this.tiles){var De=this.tiles[Je];De.state!=="loaded"&&(De.state="loaded",De.texture=this.texture)}}},X.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},X.prototype.hasTransition=function(){return this._playing},X.prototype._hasInvalidDimensions=function(){for(var ne=0,ge=[this.canvas.width,this.canvas.height];ne<ge.length;ne+=1){var Ne=ge[ne];if(isNaN(Ne)||Ne<=0)return!0}return!1},X}(J),Q={vector:N,raster:B,"raster-dem":O,geojson:H,video:ie,image:J,canvas:ce},j=function(ve,X,pe,ne){var ge=new Q[X.type](ve,X,pe,ne);if(ge.id!==ve)throw new Error("Expected Source id to be "+ve+" instead of "+ge.id);return a.bindAll(["load","abort","unload","serialize","prepare"],ge),ge},Z=function(ve){return Q[ve]},$=function(ve,X){Q[ve]=X};function te(ve,X){var pe=a.identity([]);return a.translate(pe,pe,[1,1,0]),a.scale(pe,pe,[ve.width*.5,ve.height*.5,1]),a.multiply(pe,pe,ve.calculatePosMatrix(X.toUnwrapped()))}function se(ve,X,pe){if(ve)for(var ne=0,ge=ve;ne<ge.length;ne+=1){var Ne=ge[ne],Je=X[Ne];if(Je&&Je.source===pe&&Je.type==="fill-extrusion")return!0}else for(var De in X){var xe=X[De];if(xe.source===pe&&xe.type==="fill-extrusion")return!0}return!1}function ee(ve,X,pe,ne,ge,Ne){var Je=se(ge&&ge.layers,X,ve.id),De=Ne.maxPitchScaleFactor(),xe=ve.tilesIn(ne,De,Je);xe.sort(oe);for(var Ge=[],dt=0,_t=xe;dt<_t.length;dt+=1){var Yt=_t[dt];Ge.push({wrappedTileID:Yt.tileID.wrapped().key,queryResults:Yt.tile.queryRenderedFeatures(X,pe,ve._state,Yt.queryGeometry,Yt.cameraQueryGeometry,Yt.scale,ge,Ne,De,te(ve.transform,Yt.tileID))})}var qt=he(Ge);for(var yr in qt)qt[yr].forEach(function(Ar){var kr=Ar.feature,Or=ve.getFeatureState(kr.layer["source-layer"],kr.id);kr.source=kr.layer.source,kr.layer["source-layer"]&&(kr.sourceLayer=kr.layer["source-layer"]),kr.state=Or});return qt}function q(ve,X,pe,ne,ge,Ne,Je){for(var De={},xe=Ne.queryRenderedSymbols(ne),Ge=[],dt=0,_t=Object.keys(xe).map(Number);dt<_t.length;dt+=1){var Yt=_t[dt];Ge.push(Je[Yt])}Ge.sort(oe);for(var qt=function(){var $r=Ar[yr],gn=$r.featureIndex.lookupSymbolFeatures(xe[$r.bucketInstanceId],X,$r.bucketIndex,$r.sourceLayerIndex,ge.filter,ge.layers,ge.availableImages,ve);for(var An in gn){var Nn=De[An]=De[An]||[],In=gn[An];In.sort(function(qn,$n){var ia=$r.featureSortOrder;if(ia){var da=ia.indexOf(qn.featureIndex),La=ia.indexOf($n.featureIndex);return La-da}else return $n.featureIndex-qn.featureIndex});for(var On=0,Yn=In;On<Yn.length;On+=1){var ta=Yn[On];Nn.push(ta)}}},yr=0,Ar=Ge;yr<Ar.length;yr+=1)qt();var kr=function($r){De[$r].forEach(function(gn){var An=gn.feature,Nn=ve[$r],In=pe[Nn.source],On=In.getFeatureState(An.layer["source-layer"],An.id);An.source=An.layer.source,An.layer["source-layer"]&&(An.sourceLayer=An.layer["source-layer"]),An.state=On})};for(var Or in De)kr(Or);return De}function le(ve,X){for(var pe=ve.getRenderableIds().map(function(xe){return ve.getTileByID(xe)}),ne=[],ge={},Ne=0;Ne<pe.length;Ne++){var Je=pe[Ne],De=Je.tileID.canonical.key;ge[De]||(ge[De]=!0,Je.querySourceFeatures(ne,X))}return ne}function oe(ve,X){var pe=ve.tileID,ne=X.tileID;return pe.overscaledZ-ne.overscaledZ||pe.canonical.y-ne.canonical.y||pe.wrap-ne.wrap||pe.canonical.x-ne.canonical.x}function he(ve){for(var X={},pe={},ne=0,ge=ve;ne<ge.length;ne+=1){var Ne=ge[ne],Je=Ne.queryResults,De=Ne.wrappedTileID,xe=pe[De]=pe[De]||{};for(var Ge in Je)for(var dt=Je[Ge],_t=xe[Ge]=xe[Ge]||{},Yt=X[Ge]=X[Ge]||[],qt=0,yr=dt;qt<yr.length;qt+=1){var Ar=yr[qt];_t[Ar.featureIndex]||(_t[Ar.featureIndex]=!0,Yt.push(Ar))}}return X}var me=function(X,pe){this.max=X,this.onRemove=pe,this.reset()};me.prototype.reset=function(){for(var X in this.data)for(var pe=0,ne=this.data[X];pe<ne.length;pe+=1){var ge=ne[pe];ge.timeout&&clearTimeout(ge.timeout),this.onRemove(ge.value)}return this.data={},this.order=[],this},me.prototype.add=function(X,pe,ne){var ge=this,Ne=X.wrapped().key;this.data[Ne]===void 0&&(this.data[Ne]=[]);var Je={value:pe,timeout:void 0};if(ne!==void 0&&(Je.timeout=setTimeout(function(){ge.remove(X,Je)},ne)),this.data[Ne].push(Je),this.order.push(Ne),this.order.length>this.max){var De=this._getAndRemoveByKey(this.order[0]);De&&this.onRemove(De)}return this},me.prototype.has=function(X){return X.wrapped().key in this.data},me.prototype.getAndRemove=function(X){return this.has(X)?this._getAndRemoveByKey(X.wrapped().key):null},me.prototype._getAndRemoveByKey=function(X){var pe=this.data[X].shift();return pe.timeout&&clearTimeout(pe.timeout),this.data[X].length===0&&delete this.data[X],this.order.splice(this.order.indexOf(X),1),pe.value},me.prototype.getByKey=function(X){var pe=this.data[X];return pe?pe[0].value:null},me.prototype.get=function(X){if(!this.has(X))return null;var pe=this.data[X.wrapped().key][0];return pe.value},me.prototype.remove=function(X,pe){if(!this.has(X))return this;var ne=X.wrapped().key,ge=pe===void 0?0:this.data[ne].indexOf(pe),Ne=this.data[ne][ge];return this.data[ne].splice(ge,1),Ne.timeout&&clearTimeout(Ne.timeout),this.data[ne].length===0&&delete this.data[ne],this.onRemove(Ne.value),this.order.splice(this.order.indexOf(ne),1),this},me.prototype.setMaxSize=function(X){for(this.max=X;this.order.length>this.max;){var pe=this._getAndRemoveByKey(this.order[0]);pe&&this.onRemove(pe)}return this},me.prototype.filter=function(X){var pe=[];for(var ne in this.data)for(var ge=0,Ne=this.data[ne];ge<Ne.length;ge+=1){var Je=Ne[ge];X(Je.value)||pe.push(Je)}for(var De=0,xe=pe;De<xe.length;De+=1){var Ge=xe[De];this.remove(Ge.value.tileID,Ge)}};var Ce=function(X,pe,ne){this.context=X;var ge=X.gl;this.buffer=ge.createBuffer(),this.dynamicDraw=!!ne,this.context.unbindVAO(),X.bindElementBuffer.set(this.buffer),ge.bufferData(ge.ELEMENT_ARRAY_BUFFER,pe.arrayBuffer,this.dynamicDraw?ge.DYNAMIC_DRAW:ge.STATIC_DRAW),this.dynamicDraw||delete pe.arrayBuffer};Ce.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Ce.prototype.updateData=function(X){var pe=this.context.gl;this.context.unbindVAO(),this.bind(),pe.bufferSubData(pe.ELEMENT_ARRAY_BUFFER,0,X.arrayBuffer)},Ce.prototype.destroy=function(){var X=this.context.gl;this.buffer&&(X.deleteBuffer(this.buffer),delete this.buffer)};var Ae={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Ue=function(X,pe,ne,ge){this.length=pe.length,this.attributes=ne,this.itemSize=pe.bytesPerElement,this.dynamicDraw=ge,this.context=X;var Ne=X.gl;this.buffer=Ne.createBuffer(),X.bindVertexBuffer.set(this.buffer),Ne.bufferData(Ne.ARRAY_BUFFER,pe.arrayBuffer,this.dynamicDraw?Ne.DYNAMIC_DRAW:Ne.STATIC_DRAW),this.dynamicDraw||delete pe.arrayBuffer};Ue.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Ue.prototype.updateData=function(X){var pe=this.context.gl;this.bind(),pe.bufferSubData(pe.ARRAY_BUFFER,0,X.arrayBuffer)},Ue.prototype.enableAttributes=function(X,pe){for(var ne=0;ne<this.attributes.length;ne++){var ge=this.attributes[ne],Ne=pe.attributes[ge.name];Ne!==void 0&&X.enableVertexAttribArray(Ne)}},Ue.prototype.setVertexAttribPointers=function(X,pe,ne){for(var ge=0;ge<this.attributes.length;ge++){var Ne=this.attributes[ge],Je=pe.attributes[Ne.name];Je!==void 0&&X.vertexAttribPointer(Je,Ne.components,X[Ae[Ne.type]],!1,this.itemSize,Ne.offset+this.itemSize*(ne||0))}},Ue.prototype.destroy=function(){var X=this.context.gl;this.buffer&&(X.deleteBuffer(this.buffer),delete this.buffer)};var Ve=function(X){this.gl=X.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};Ve.prototype.get=function(){return this.current},Ve.prototype.set=function(X){},Ve.prototype.getDefault=function(){return this.default},Ve.prototype.setDefault=function(){this.set(this.default)};var Pe=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return a.Color.transparent},X.prototype.set=function(ne){var ge=this.current;ne.r===ge.r&&ne.g===ge.g&&ne.b===ge.b&&ne.a===ge.a&&!this.dirty||(this.gl.clearColor(ne.r,ne.g,ne.b,ne.a),this.current=ne,this.dirty=!1)},X}(Ve),be=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return 1},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.clearDepth(ne),this.current=ne,this.dirty=!1)},X}(Ve),Le=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return 0},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.clearStencil(ne),this.current=ne,this.dirty=!1)},X}(Ve),We=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return[!0,!0,!0,!0]},X.prototype.set=function(ne){var ge=this.current;ne[0]===ge[0]&&ne[1]===ge[1]&&ne[2]===ge[2]&&ne[3]===ge[3]&&!this.dirty||(this.gl.colorMask(ne[0],ne[1],ne[2],ne[3]),this.current=ne,this.dirty=!1)},X}(Ve),je=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!0},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.depthMask(ne),this.current=ne,this.dirty=!1)},X}(Ve),Fe=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return 255},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.stencilMask(ne),this.current=ne,this.dirty=!1)},X}(Ve),Ze=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},X.prototype.set=function(ne){var ge=this.current;ne.func===ge.func&&ne.ref===ge.ref&&ne.mask===ge.mask&&!this.dirty||(this.gl.stencilFunc(ne.func,ne.ref,ne.mask),this.current=ne,this.dirty=!1)},X}(Ve),ut=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){var ne=this.gl;return[ne.KEEP,ne.KEEP,ne.KEEP]},X.prototype.set=function(ne){var ge=this.current;ne[0]===ge[0]&&ne[1]===ge[1]&&ne[2]===ge[2]&&!this.dirty||(this.gl.stencilOp(ne[0],ne[1],ne[2]),this.current=ne,this.dirty=!1)},X}(Ve),at=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ge=this.gl;ne?ge.enable(ge.STENCIL_TEST):ge.disable(ge.STENCIL_TEST),this.current=ne,this.dirty=!1}},X}(Ve),it=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return[0,1]},X.prototype.set=function(ne){var ge=this.current;ne[0]===ge[0]&&ne[1]===ge[1]&&!this.dirty||(this.gl.depthRange(ne[0],ne[1]),this.current=ne,this.dirty=!1)},X}(Ve),$e=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ge=this.gl;ne?ge.enable(ge.DEPTH_TEST):ge.disable(ge.DEPTH_TEST),this.current=ne,this.dirty=!1}},X}(Ve),st=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.LESS},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.depthFunc(ne),this.current=ne,this.dirty=!1)},X}(Ve),ct=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ge=this.gl;ne?ge.enable(ge.BLEND):ge.disable(ge.BLEND),this.current=ne,this.dirty=!1}},X}(Ve),vt=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){var ne=this.gl;return[ne.ONE,ne.ZERO]},X.prototype.set=function(ne){var ge=this.current;ne[0]===ge[0]&&ne[1]===ge[1]&&!this.dirty||(this.gl.blendFunc(ne[0],ne[1]),this.current=ne,this.dirty=!1)},X}(Ve),St=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return a.Color.transparent},X.prototype.set=function(ne){var ge=this.current;ne.r===ge.r&&ne.g===ge.g&&ne.b===ge.b&&ne.a===ge.a&&!this.dirty||(this.gl.blendColor(ne.r,ne.g,ne.b,ne.a),this.current=ne,this.dirty=!1)},X}(Ve),Mt=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.FUNC_ADD},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.blendEquation(ne),this.current=ne,this.dirty=!1)},X}(Ve),Bt=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ge=this.gl;ne?ge.enable(ge.CULL_FACE):ge.disable(ge.CULL_FACE),this.current=ne,this.dirty=!1}},X}(Ve),Qe=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.BACK},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.cullFace(ne),this.current=ne,this.dirty=!1)},X}(Ve),ke=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.CCW},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.frontFace(ne),this.current=ne,this.dirty=!1)},X}(Ve),ze=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.useProgram(ne),this.current=ne,this.dirty=!1)},X}(Ve),Be=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.TEXTURE0},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.activeTexture(ne),this.current=ne,this.dirty=!1)},X}(Ve),Re=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){var ne=this.gl;return[0,0,ne.drawingBufferWidth,ne.drawingBufferHeight]},X.prototype.set=function(ne){var ge=this.current;ne[0]===ge[0]&&ne[1]===ge[1]&&ne[2]===ge[2]&&ne[3]===ge[3]&&!this.dirty||(this.gl.viewport(ne[0],ne[1],ne[2],ne[3]),this.current=ne,this.dirty=!1)},X}(Ve),we=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ge=this.gl;ge.bindFramebuffer(ge.FRAMEBUFFER,ne),this.current=ne,this.dirty=!1}},X}(Ve),ye=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ge=this.gl;ge.bindRenderbuffer(ge.RENDERBUFFER,ne),this.current=ne,this.dirty=!1}},X}(Ve),Se=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ge=this.gl;ge.bindTexture(ge.TEXTURE_2D,ne),this.current=ne,this.dirty=!1}},X}(Ve),Me=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ge=this.gl;ge.bindBuffer(ge.ARRAY_BUFFER,ne),this.current=ne,this.dirty=!1}},X}(Ve),He=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ne){var ge=this.gl;ge.bindBuffer(ge.ELEMENT_ARRAY_BUFFER,ne),this.current=ne,this.dirty=!1},X}(Ve),qe=function(ve){function X(pe){ve.call(this,pe),this.vao=pe.extVertexArrayObject}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ne){!this.vao||ne===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(ne),this.current=ne,this.dirty=!1)},X}(Ve),rt=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return 4},X.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ge=this.gl;ge.pixelStorei(ge.UNPACK_ALIGNMENT,ne),this.current=ne,this.dirty=!1}},X}(Ve),pt=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ge=this.gl;ge.pixelStorei(ge.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ne),this.current=ne,this.dirty=!1}},X}(Ve),At=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ge=this.gl;ge.pixelStorei(ge.UNPACK_FLIP_Y_WEBGL,ne),this.current=ne,this.dirty=!1}},X}(Ve),jt=function(ve){function X(pe,ne){ve.call(this,pe),this.context=pe,this.parent=ne}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X}(Ve),tr=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.setDirty=function(){this.dirty=!0},X.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ge=this.gl;ge.framebufferTexture2D(ge.FRAMEBUFFER,ge.COLOR_ATTACHMENT0,ge.TEXTURE_2D,ne,0),this.current=ne,this.dirty=!1}},X}(jt),Ct=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ge=this.gl;ge.framebufferRenderbuffer(ge.FRAMEBUFFER,ge.DEPTH_ATTACHMENT,ge.RENDERBUFFER,ne),this.current=ne,this.dirty=!1}},X}(jt),Nt=function(X,pe,ne,ge){this.context=X,this.width=pe,this.height=ne;var Ne=X.gl,Je=this.framebuffer=Ne.createFramebuffer();this.colorAttachment=new tr(X,Je),ge&&(this.depthAttachment=new Ct(X,Je))};Nt.prototype.destroy=function(){var X=this.context.gl,pe=this.colorAttachment.get();if(pe&&X.deleteTexture(pe),this.depthAttachment){var ne=this.depthAttachment.get();ne&&X.deleteRenderbuffer(ne)}X.deleteFramebuffer(this.framebuffer)};var Kt=519,wr=function(X,pe,ne){this.func=X,this.mask=pe,this.range=ne};wr.ReadOnly=!1,wr.ReadWrite=!0,wr.disabled=new wr(Kt,wr.ReadOnly,[0,1]);var yt=519,$t=7680,er=function(X,pe,ne,ge,Ne,Je){this.test=X,this.ref=pe,this.mask=ne,this.fail=ge,this.depthFail=Ne,this.pass=Je};er.disabled=new er({func:yt,mask:0},0,0,$t,$t,$t);var mr=0,vr=1,bt=771,ht=function(X,pe,ne){this.blendFunction=X,this.blendColor=pe,this.mask=ne};ht.Replace=[vr,mr],ht.disabled=new ht(ht.Replace,a.Color.transparent,[!1,!1,!1,!1]),ht.unblended=new ht(ht.Replace,a.Color.transparent,[!0,!0,!0,!0]),ht.alphaBlended=new ht([vr,bt],a.Color.transparent,[!0,!0,!0,!0]);var Tt=1029,Pt=2305,zt=function(X,pe,ne){this.enable=X,this.mode=pe,this.frontFace=ne};zt.disabled=new zt(!1,Tt,Pt),zt.backCCW=new zt(!0,Tt,Pt);var Dt=function(X){this.gl=X,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Pe(this),this.clearDepth=new be(this),this.clearStencil=new Le(this),this.colorMask=new We(this),this.depthMask=new je(this),this.stencilMask=new Fe(this),this.stencilFunc=new Ze(this),this.stencilOp=new ut(this),this.stencilTest=new at(this),this.depthRange=new it(this),this.depthTest=new $e(this),this.depthFunc=new st(this),this.blend=new ct(this),this.blendFunc=new vt(this),this.blendColor=new St(this),this.blendEquation=new Mt(this),this.cullFace=new Bt(this),this.cullFaceSide=new Qe(this),this.frontFace=new ke(this),this.program=new ze(this),this.activeTexture=new Be(this),this.viewport=new Re(this),this.bindFramebuffer=new we(this),this.bindRenderbuffer=new ye(this),this.bindTexture=new Se(this),this.bindVertexBuffer=new Me(this),this.bindElementBuffer=new He(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new qe(this),this.pixelStoreUnpack=new rt(this),this.pixelStoreUnpackPremultiplyAlpha=new pt(this),this.pixelStoreUnpackFlipY=new At(this),this.extTextureFilterAnisotropic=X.getExtension("EXT_texture_filter_anisotropic")||X.getExtension("MOZ_EXT_texture_filter_anisotropic")||X.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=X.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=X.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(X.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=X.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=X.getExtension("EXT_disjoint_timer_query")};Dt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Dt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Dt.prototype.createIndexBuffer=function(X,pe){return new Ce(this,X,pe)},Dt.prototype.createVertexBuffer=function(X,pe,ne){return new Ue(this,X,pe,ne)},Dt.prototype.createRenderbuffer=function(X,pe,ne){var ge=this.gl,Ne=ge.createRenderbuffer();return this.bindRenderbuffer.set(Ne),ge.renderbufferStorage(ge.RENDERBUFFER,X,pe,ne),this.bindRenderbuffer.set(null),Ne},Dt.prototype.createFramebuffer=function(X,pe,ne){return new Nt(this,X,pe,ne)},Dt.prototype.clear=function(X){var pe=X.color,ne=X.depth,ge=this.gl,Ne=0;pe&&(Ne|=ge.COLOR_BUFFER_BIT,this.clearColor.set(pe),this.colorMask.set([!0,!0,!0,!0])),typeof ne<"u"&&(Ne|=ge.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(ne),this.depthMask.set(!0)),ge.clear(Ne)},Dt.prototype.setCullFace=function(X){X.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(X.mode),this.frontFace.set(X.frontFace))},Dt.prototype.setDepthMode=function(X){X.func===this.gl.ALWAYS&&!X.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(X.func),this.depthMask.set(X.mask),this.depthRange.set(X.range))},Dt.prototype.setStencilMode=function(X){X.test.func===this.gl.ALWAYS&&!X.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(X.mask),this.stencilOp.set([X.fail,X.depthFail,X.pass]),this.stencilFunc.set({func:X.test.func,ref:X.ref,mask:X.test.mask}))},Dt.prototype.setColorMode=function(X){a.deepEqual(X.blendFunction,ht.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(X.blendFunction),this.blendColor.set(X.blendColor)),this.colorMask.set(X.mask)},Dt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Vt=function(ve){function X(pe,ne,ge){var Ne=this;ve.call(this),this.id=pe,this.dispatcher=ge,this.on("data",function(Je){Je.dataType==="source"&&Je.sourceDataType==="metadata"&&(Ne._sourceLoaded=!0),Ne._sourceLoaded&&!Ne._paused&&Je.dataType==="source"&&Je.sourceDataType==="content"&&(Ne.reload(),Ne.transform&&Ne.update(Ne.transform))}),this.on("error",function(){Ne._sourceErrored=!0}),this._source=j(pe,ne,ge,this),this._tiles={},this._cache=new me(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new a.SourceFeatureState}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.onAdd=function(ne){this.map=ne,this._maxTileCacheSize=ne?ne._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(ne)},X.prototype.onRemove=function(ne){this._source&&this._source.onRemove&&this._source.onRemove(ne)},X.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var ne in this._tiles){var ge=this._tiles[ne];if(ge.state!=="loaded"&&ge.state!=="errored")return!1}return!0},X.prototype.getSource=function(){return this._source},X.prototype.pause=function(){this._paused=!0},X.prototype.resume=function(){if(this._paused){var ne=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,ne&&this.reload(),this.transform&&this.update(this.transform)}},X.prototype._loadTile=function(ne,ge){return this._source.loadTile(ne,ge)},X.prototype._unloadTile=function(ne){if(this._source.unloadTile)return this._source.unloadTile(ne,function(){})},X.prototype._abortTile=function(ne){if(this._source.abortTile)return this._source.abortTile(ne,function(){})},X.prototype.serialize=function(){return this._source.serialize()},X.prototype.prepare=function(ne){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var ge in this._tiles){var Ne=this._tiles[ge];Ne.upload(ne),Ne.prepare(this.map.style.imageManager)}},X.prototype.getIds=function(){return a.values(this._tiles).map(function(ne){return ne.tileID}).sort(Ut).map(function(ne){return ne.key})},X.prototype.getRenderableIds=function(ne){var ge=this,Ne=[];for(var Je in this._tiles)this._isIdRenderable(Je,ne)&&Ne.push(this._tiles[Je]);return ne?Ne.sort(function(De,xe){var Ge=De.tileID,dt=xe.tileID,_t=new a.Point(Ge.canonical.x,Ge.canonical.y)._rotate(ge.transform.angle),Yt=new a.Point(dt.canonical.x,dt.canonical.y)._rotate(ge.transform.angle);return Ge.overscaledZ-dt.overscaledZ||Yt.y-_t.y||Yt.x-_t.x}).map(function(De){return De.tileID.key}):Ne.map(function(De){return De.tileID}).sort(Ut).map(function(De){return De.key})},X.prototype.hasRenderableParent=function(ne){var ge=this.findLoadedParent(ne,0);return ge?this._isIdRenderable(ge.tileID.key):!1},X.prototype._isIdRenderable=function(ne,ge){return this._tiles[ne]&&this._tiles[ne].hasData()&&!this._coveredTiles[ne]&&(ge||!this._tiles[ne].holdingForFade())},X.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var ne in this._tiles)this._tiles[ne].state!=="errored"&&this._reloadTile(ne,"reloading")},X.prototype._reloadTile=function(ne,ge){var Ne=this._tiles[ne];Ne&&(Ne.state!=="loading"&&(Ne.state=ge),this._loadTile(Ne,this._tileLoaded.bind(this,Ne,ne,ge)))},X.prototype._tileLoaded=function(ne,ge,Ne,Je){if(Je){ne.state="errored",Je.status!==404?this._source.fire(new a.ErrorEvent(Je,{tile:ne})):this.update(this.transform);return}ne.timeAdded=a.browser.now(),Ne==="expired"&&(ne.refreshedUponExpiration=!0),this._setTileReloadTimer(ge,ne),this.getSource().type==="raster-dem"&&ne.dem&&this._backfillDEM(ne),this._state.initializeTileState(ne,this.map?this.map.painter:null),this._source.fire(new a.Event("data",{dataType:"source",tile:ne,coord:ne.tileID}))},X.prototype._backfillDEM=function(ne){for(var ge=this.getRenderableIds(),Ne=0;Ne<ge.length;Ne++){var Je=ge[Ne];if(ne.neighboringTiles&&ne.neighboringTiles[Je]){var De=this.getTileByID(Je);xe(ne,De),xe(De,ne)}}function xe(Ge,dt){Ge.needsHillshadePrepare=!0;var _t=dt.tileID.canonical.x-Ge.tileID.canonical.x,Yt=dt.tileID.canonical.y-Ge.tileID.canonical.y,qt=Math.pow(2,Ge.tileID.canonical.z),yr=dt.tileID.key;_t===0&&Yt===0||Math.abs(Yt)>1||(Math.abs(_t)>1&&(Math.abs(_t+qt)===1?_t+=qt:Math.abs(_t-qt)===1&&(_t-=qt)),!(!dt.dem||!Ge.dem)&&(Ge.dem.backfillBorder(dt.dem,_t,Yt),Ge.neighboringTiles&&Ge.neighboringTiles[yr]&&(Ge.neighboringTiles[yr].backfilled=!0)))}},X.prototype.getTile=function(ne){return this.getTileByID(ne.key)},X.prototype.getTileByID=function(ne){return this._tiles[ne]},X.prototype._retainLoadedChildren=function(ne,ge,Ne,Je){for(var De in this._tiles){var xe=this._tiles[De];if(!(Je[De]||!xe.hasData()||xe.tileID.overscaledZ<=ge||xe.tileID.overscaledZ>Ne)){for(var Ge=xe.tileID;xe&&xe.tileID.overscaledZ>ge+1;){var dt=xe.tileID.scaledTo(xe.tileID.overscaledZ-1);xe=this._tiles[dt.key],xe&&xe.hasData()&&(Ge=dt)}for(var _t=Ge;_t.overscaledZ>ge;)if(_t=_t.scaledTo(_t.overscaledZ-1),ne[_t.key]){Je[Ge.key]=Ge;break}}}},X.prototype.findLoadedParent=function(ne,ge){if(ne.key in this._loadedParentTiles){var Ne=this._loadedParentTiles[ne.key];return Ne&&Ne.tileID.overscaledZ>=ge?Ne:null}for(var Je=ne.overscaledZ-1;Je>=ge;Je--){var De=ne.scaledTo(Je),xe=this._getLoadedTile(De);if(xe)return xe}},X.prototype._getLoadedTile=function(ne){var ge=this._tiles[ne.key];if(ge&&ge.hasData())return ge;var Ne=this._cache.getByKey(ne.wrapped().key);return Ne},X.prototype.updateCacheSize=function(ne){var ge=Math.ceil(ne.width/this._source.tileSize)+1,Ne=Math.ceil(ne.height/this._source.tileSize)+1,Je=ge*Ne,De=5,xe=Math.floor(Je*De),Ge=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,xe):xe;this._cache.setMaxSize(Ge)},X.prototype.handleWrapJump=function(ne){var ge=this._prevLng===void 0?ne:this._prevLng,Ne=ne-ge,Je=Ne/360,De=Math.round(Je);if(this._prevLng=ne,De){var xe={};for(var Ge in this._tiles){var dt=this._tiles[Ge];dt.tileID=dt.tileID.unwrapTo(dt.tileID.wrap+De),xe[dt.tileID.key]=dt}this._tiles=xe;for(var _t in this._timers)clearTimeout(this._timers[_t]),delete this._timers[_t];for(var Yt in this._tiles){var qt=this._tiles[Yt];this._setTileReloadTimer(Yt,qt)}}},X.prototype.update=function(ne){var ge=this;if(this.transform=ne,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(ne),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var Ne;this.used?this._source.tileID?Ne=ne.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(qn){return new a.OverscaledTileID(qn.canonical.z,qn.wrap,qn.canonical.z,qn.canonical.x,qn.canonical.y)}):(Ne=ne.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(Ne=Ne.filter(function(qn){return ge._source.hasTile(qn)}))):Ne=[];var Je=ne.coveringZoomLevel(this._source),De=Math.max(Je-X.maxOverzooming,this._source.minzoom),xe=Math.max(Je+X.maxUnderzooming,this._source.minzoom),Ge=this._updateRetainedTiles(Ne,Je);if(Qt(this._source.type)){for(var dt={},_t={},Yt=Object.keys(Ge),qt=0,yr=Yt;qt<yr.length;qt+=1){var Ar=yr[qt],kr=Ge[Ar],Or=this._tiles[Ar];if(!(!Or||Or.fadeEndTime&&Or.fadeEndTime<=a.browser.now())){var $r=this.findLoadedParent(kr,De);$r&&(this._addTile($r.tileID),dt[$r.tileID.key]=$r.tileID),_t[Ar]=kr}}this._retainLoadedChildren(_t,Je,xe,Ge);for(var gn in dt)Ge[gn]||(this._coveredTiles[gn]=!0,Ge[gn]=dt[gn])}for(var An in Ge)this._tiles[An].clearFadeHold();for(var Nn=a.keysDifference(this._tiles,Ge),In=0,On=Nn;In<On.length;In+=1){var Yn=On[In],ta=this._tiles[Yn];ta.hasSymbolBuckets&&!ta.holdingForFade()?ta.setHoldDuration(this.map._fadeDuration):(!ta.hasSymbolBuckets||ta.symbolFadeFinished())&&this._removeTile(Yn)}this._updateLoadedParentTileCache()}},X.prototype.releaseSymbolFadeTiles=function(){for(var ne in this._tiles)this._tiles[ne].holdingForFade()&&this._removeTile(ne)},X.prototype._updateRetainedTiles=function(ne,ge){for(var Ne={},Je={},De=Math.max(ge-X.maxOverzooming,this._source.minzoom),xe=Math.max(ge+X.maxUnderzooming,this._source.minzoom),Ge={},dt=0,_t=ne;dt<_t.length;dt+=1){var Yt=_t[dt],qt=this._addTile(Yt);Ne[Yt.key]=Yt,!qt.hasData()&&ge<this._source.maxzoom&&(Ge[Yt.key]=Yt)}this._retainLoadedChildren(Ge,ge,xe,Ne);for(var yr=0,Ar=ne;yr<Ar.length;yr+=1){var kr=Ar[yr],Or=this._tiles[kr.key];if(!Or.hasData()){if(ge+1>this._source.maxzoom){var $r=kr.children(this._source.maxzoom)[0],gn=this.getTile($r);if(gn&&gn.hasData()){Ne[$r.key]=$r;continue}}else{var An=kr.children(this._source.maxzoom);if(Ne[An[0].key]&&Ne[An[1].key]&&Ne[An[2].key]&&Ne[An[3].key])continue}for(var Nn=Or.wasRequested(),In=kr.overscaledZ-1;In>=De;--In){var On=kr.scaledTo(In);if(Je[On.key]||(Je[On.key]=!0,Or=this.getTile(On),!Or&&Nn&&(Or=this._addTile(On)),Or&&(Ne[On.key]=On,Nn=Or.wasRequested(),Or.hasData())))break}}}return Ne},X.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var ne in this._tiles){for(var ge=[],Ne=void 0,Je=this._tiles[ne].tileID;Je.overscaledZ>0;){if(Je.key in this._loadedParentTiles){Ne=this._loadedParentTiles[Je.key];break}ge.push(Je.key);var De=Je.scaledTo(Je.overscaledZ-1);if(Ne=this._getLoadedTile(De),Ne)break;Je=De}for(var xe=0,Ge=ge;xe<Ge.length;xe+=1){var dt=Ge[xe];this._loadedParentTiles[dt]=Ne}}},X.prototype._addTile=function(ne){var ge=this._tiles[ne.key];if(ge)return ge;ge=this._cache.getAndRemove(ne),ge&&(this._setTileReloadTimer(ne.key,ge),ge.tileID=ne,this._state.initializeTileState(ge,this.map?this.map.painter:null),this._cacheTimers[ne.key]&&(clearTimeout(this._cacheTimers[ne.key]),delete this._cacheTimers[ne.key],this._setTileReloadTimer(ne.key,ge)));var Ne=!!ge;return Ne||(ge=new a.Tile(ne,this._source.tileSize*ne.overscaleFactor()),this._loadTile(ge,this._tileLoaded.bind(this,ge,ne.key,ge.state))),ge?(ge.uses++,this._tiles[ne.key]=ge,Ne||this._source.fire(new a.Event("dataloading",{tile:ge,coord:ge.tileID,dataType:"source"})),ge):null},X.prototype._setTileReloadTimer=function(ne,ge){var Ne=this;ne in this._timers&&(clearTimeout(this._timers[ne]),delete this._timers[ne]);var Je=ge.getExpiryTimeout();Je&&(this._timers[ne]=setTimeout(function(){Ne._reloadTile(ne,"expired"),delete Ne._timers[ne]},Je))},X.prototype._removeTile=function(ne){var ge=this._tiles[ne];ge&&(ge.uses--,delete this._tiles[ne],this._timers[ne]&&(clearTimeout(this._timers[ne]),delete this._timers[ne]),!(ge.uses>0)&&(ge.hasData()&&ge.state!=="reloading"?this._cache.add(ge.tileID,ge,ge.getExpiryTimeout()):(ge.aborted=!0,this._abortTile(ge),this._unloadTile(ge))))},X.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var ne in this._tiles)this._removeTile(ne);this._cache.reset()},X.prototype.tilesIn=function(ne,ge,Ne){var Je=this,De=[],xe=this.transform;if(!xe)return De;for(var Ge=Ne?xe.getCameraQueryGeometry(ne):ne,dt=ne.map(function(In){return xe.pointCoordinate(In)}),_t=Ge.map(function(In){return xe.pointCoordinate(In)}),Yt=this.getIds(),qt=1/0,yr=1/0,Ar=-1/0,kr=-1/0,Or=0,$r=_t;Or<$r.length;Or+=1){var gn=$r[Or];qt=Math.min(qt,gn.x),yr=Math.min(yr,gn.y),Ar=Math.max(Ar,gn.x),kr=Math.max(kr,gn.y)}for(var An=function(In){var On=Je._tiles[Yt[In]];if(!On.holdingForFade()){var Yn=On.tileID,ta=Math.pow(2,xe.zoom-On.tileID.overscaledZ),qn=ge*On.queryPadding*a.EXTENT/On.tileSize/ta,$n=[Yn.getTilePoint(new a.MercatorCoordinate(qt,yr)),Yn.getTilePoint(new a.MercatorCoordinate(Ar,kr))];if($n[0].x-qn<a.EXTENT&&$n[0].y-qn<a.EXTENT&&$n[1].x+qn>=0&&$n[1].y+qn>=0){var ia=dt.map(function(La){return Yn.getTilePoint(La)}),da=_t.map(function(La){return Yn.getTilePoint(La)});De.push({tile:On,tileID:Yn,queryGeometry:ia,cameraQueryGeometry:da,scale:ta})}}},Nn=0;Nn<Yt.length;Nn++)An(Nn);return De},X.prototype.getVisibleCoordinates=function(ne){for(var ge=this,Ne=this.getRenderableIds(ne).map(function(Ge){return ge._tiles[Ge].tileID}),Je=0,De=Ne;Je<De.length;Je+=1){var xe=De[Je];xe.posMatrix=this.transform.calculatePosMatrix(xe.toUnwrapped())}return Ne},X.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Qt(this._source.type))for(var ne in this._tiles){var ge=this._tiles[ne];if(ge.fadeEndTime!==void 0&&ge.fadeEndTime>=a.browser.now())return!0}return!1},X.prototype.setFeatureState=function(ne,ge,Ne){ne=ne||"_geojsonTileLayer",this._state.updateState(ne,ge,Ne)},X.prototype.removeFeatureState=function(ne,ge,Ne){ne=ne||"_geojsonTileLayer",this._state.removeFeatureState(ne,ge,Ne)},X.prototype.getFeatureState=function(ne,ge){return ne=ne||"_geojsonTileLayer",this._state.getState(ne,ge)},X.prototype.setDependencies=function(ne,ge,Ne){var Je=this._tiles[ne];Je&&Je.setDependencies(ge,Ne)},X.prototype.reloadTilesForDependencies=function(ne,ge){for(var Ne in this._tiles){var Je=this._tiles[Ne];Je.hasDependency(ne,ge)&&this._reloadTile(Ne,"reloading")}this._cache.filter(function(De){return!De.hasDependency(ne,ge)})},X}(a.Evented);Vt.maxOverzooming=10,Vt.maxUnderzooming=3;function Ut(ve,X){var pe=Math.abs(ve.wrap*2)-+(ve.wrap<0),ne=Math.abs(X.wrap*2)-+(X.wrap<0);return ve.overscaledZ-X.overscaledZ||ne-pe||X.canonical.y-ve.canonical.y||X.canonical.x-ve.canonical.x}function Qt(ve){return ve==="raster"||ve==="image"||ve==="video"}function hr(){return new a.window.Worker(Bv.workerUrl)}var cr="mapboxgl_preloaded_worker_pool",lr=function(){this.active={}};lr.prototype.acquire=function(X){if(!this.workers)for(this.workers=[];this.workers.length<lr.workerCount;)this.workers.push(new hr);return this.active[X]=!0,this.workers.slice()},lr.prototype.release=function(X){delete this.active[X],this.numActive()===0&&(this.workers.forEach(function(pe){pe.terminate()}),this.workers=null)},lr.prototype.isPreloaded=function(){return!!this.active[cr]},lr.prototype.numActive=function(){return Object.keys(this.active).length};var Xe=Math.floor(a.browser.hardwareConcurrency/2);lr.workerCount=Math.max(Math.min(Xe,6),1);var Ke;function Ot(){return Ke||(Ke=new lr),Ke}function Lt(){var ve=Ot();ve.acquire(cr)}function Xt(){var ve=Ke;ve&&(ve.isPreloaded()&&ve.numActive()===1?(ve.release(cr),Ke=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function rr(ve,X){var pe={};for(var ne in ve)ne!=="ref"&&(pe[ne]=ve[ne]);return a.refProperties.forEach(function(ge){ge in X&&(pe[ge]=X[ge])}),pe}function ur(ve){ve=ve.slice();for(var X=Object.create(null),pe=0;pe<ve.length;pe++)X[ve[pe].id]=ve[pe];for(var ne=0;ne<ve.length;ne++)"ref"in ve[ne]&&(ve[ne]=rr(ve[ne],X[ve[ne].ref]));return ve}function or(){var ve={},X=a.styleSpec.$version;for(var pe in a.styleSpec.$root){var ne=a.styleSpec.$root[pe];if(ne.required){var ge=null;pe==="version"?ge=X:ne.type==="array"?ge=[]:ge={},ge!=null&&(ve[pe]=ge)}}return ve}var Ht={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function gr(ve,X,pe){pe.push({command:Ht.addSource,args:[ve,X[ve]]})}function br(ve,X,pe){X.push({command:Ht.removeSource,args:[ve]}),pe[ve]=!0}function xr(ve,X,pe,ne){br(ve,pe,ne),gr(ve,X,pe)}function dr(ve,X,pe){var ne;for(ne in ve[pe])if(ve[pe].hasOwnProperty(ne)&&ne!=="data"&&!a.deepEqual(ve[pe][ne],X[pe][ne]))return!1;for(ne in X[pe])if(X[pe].hasOwnProperty(ne)&&ne!=="data"&&!a.deepEqual(ve[pe][ne],X[pe][ne]))return!1;return!0}function Wr(ve,X,pe,ne){ve=ve||{},X=X||{};var ge;for(ge in ve)ve.hasOwnProperty(ge)&&(X.hasOwnProperty(ge)||br(ge,pe,ne));for(ge in X)X.hasOwnProperty(ge)&&(ve.hasOwnProperty(ge)?a.deepEqual(ve[ge],X[ge])||(ve[ge].type==="geojson"&&X[ge].type==="geojson"&&dr(ve,X,ge)?pe.push({command:Ht.setGeoJSONSourceData,args:[ge,X[ge].data]}):xr(ge,X,pe,ne)):gr(ge,X,pe))}function Br(ve,X,pe,ne,ge,Ne){ve=ve||{},X=X||{};var Je;for(Je in ve)ve.hasOwnProperty(Je)&&(a.deepEqual(ve[Je],X[Je])||pe.push({command:Ne,args:[ne,Je,X[Je],ge]}));for(Je in X)!X.hasOwnProperty(Je)||ve.hasOwnProperty(Je)||a.deepEqual(ve[Je],X[Je])||pe.push({command:Ne,args:[ne,Je,X[Je],ge]})}function Ur(ve){return ve.id}function yn(ve,X){return ve[X.id]=X,ve}function rn(ve,X,pe){ve=ve||[],X=X||[];var ne=ve.map(Ur),ge=X.map(Ur),Ne=ve.reduce(yn,{}),Je=X.reduce(yn,{}),De=ne.slice(),xe=Object.create(null),Ge,dt,_t,Yt,qt,yr,Ar;for(Ge=0,dt=0;Ge<ne.length;Ge++)_t=ne[Ge],Je.hasOwnProperty(_t)?dt++:(pe.push({command:Ht.removeLayer,args:[_t]}),De.splice(De.indexOf(_t,dt),1));for(Ge=0,dt=0;Ge<ge.length;Ge++)_t=ge[ge.length-1-Ge],De[De.length-1-Ge]!==_t&&(Ne.hasOwnProperty(_t)?(pe.push({command:Ht.removeLayer,args:[_t]}),De.splice(De.lastIndexOf(_t,De.length-dt),1)):dt++,yr=De[De.length-Ge],pe.push({command:Ht.addLayer,args:[Je[_t],yr]}),De.splice(De.length-Ge,0,_t),xe[_t]=!0);for(Ge=0;Ge<ge.length;Ge++)if(_t=ge[Ge],Yt=Ne[_t],qt=Je[_t],!(xe[_t]||a.deepEqual(Yt,qt))){if(!a.deepEqual(Yt.source,qt.source)||!a.deepEqual(Yt["source-layer"],qt["source-layer"])||!a.deepEqual(Yt.type,qt.type)){pe.push({command:Ht.removeLayer,args:[_t]}),yr=De[De.lastIndexOf(_t)+1],pe.push({command:Ht.addLayer,args:[qt,yr]});continue}Br(Yt.layout,qt.layout,pe,_t,null,Ht.setLayoutProperty),Br(Yt.paint,qt.paint,pe,_t,null,Ht.setPaintProperty),a.deepEqual(Yt.filter,qt.filter)||pe.push({command:Ht.setFilter,args:[_t,qt.filter]}),(!a.deepEqual(Yt.minzoom,qt.minzoom)||!a.deepEqual(Yt.maxzoom,qt.maxzoom))&&pe.push({command:Ht.setLayerZoomRange,args:[_t,qt.minzoom,qt.maxzoom]});for(Ar in Yt)Yt.hasOwnProperty(Ar)&&(Ar==="layout"||Ar==="paint"||Ar==="filter"||Ar==="metadata"||Ar==="minzoom"||Ar==="maxzoom"||(Ar.indexOf("paint.")===0?Br(Yt[Ar],qt[Ar],pe,_t,Ar.slice(6),Ht.setPaintProperty):a.deepEqual(Yt[Ar],qt[Ar])||pe.push({command:Ht.setLayerProperty,args:[_t,Ar,qt[Ar]]})));for(Ar in qt)!qt.hasOwnProperty(Ar)||Yt.hasOwnProperty(Ar)||Ar==="layout"||Ar==="paint"||Ar==="filter"||Ar==="metadata"||Ar==="minzoom"||Ar==="maxzoom"||(Ar.indexOf("paint.")===0?Br(Yt[Ar],qt[Ar],pe,_t,Ar.slice(6),Ht.setPaintProperty):a.deepEqual(Yt[Ar],qt[Ar])||pe.push({command:Ht.setLayerProperty,args:[_t,Ar,qt[Ar]]}))}}function Un(ve,X){if(!ve)return[{command:Ht.setStyle,args:[X]}];var pe=[];try{if(!a.deepEqual(ve.version,X.version))return[{command:Ht.setStyle,args:[X]}];a.deepEqual(ve.center,X.center)||pe.push({command:Ht.setCenter,args:[X.center]}),a.deepEqual(ve.zoom,X.zoom)||pe.push({command:Ht.setZoom,args:[X.zoom]}),a.deepEqual(ve.bearing,X.bearing)||pe.push({command:Ht.setBearing,args:[X.bearing]}),a.deepEqual(ve.pitch,X.pitch)||pe.push({command:Ht.setPitch,args:[X.pitch]}),a.deepEqual(ve.sprite,X.sprite)||pe.push({command:Ht.setSprite,args:[X.sprite]}),a.deepEqual(ve.glyphs,X.glyphs)||pe.push({command:Ht.setGlyphs,args:[X.glyphs]}),a.deepEqual(ve.transition,X.transition)||pe.push({command:Ht.setTransition,args:[X.transition]}),a.deepEqual(ve.light,X.light)||pe.push({command:Ht.setLight,args:[X.light]});var ne={},ge=[];Wr(ve.sources,X.sources,ge,ne);var Ne=[];ve.layers&&ve.layers.forEach(function(Je){ne[Je.source]?pe.push({command:Ht.removeLayer,args:[Je.id]}):Ne.push(Je)}),pe=pe.concat(ge),rn(Ne,X.layers,pe)}catch(Je){console.warn("Unable to compute style diff:",Je),pe=[{command:Ht.setStyle,args:[X]}]}return pe}var bn=function(X,pe){this.reset(X,pe)};bn.prototype.reset=function(X,pe){this.points=X||[],this._distances=[0];for(var ne=1;ne<this.points.length;ne++)this._distances[ne]=this._distances[ne-1]+this.points[ne].dist(this.points[ne-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(pe||0,this.length*.5),this.paddedLength=this.length-this.padding*2},bn.prototype.lerp=function(X){if(this.points.length===1)return this.points[0];X=a.clamp(X,0,1);for(var pe=1,ne=this._distances[pe],ge=X*this.paddedLength+this.padding;ne<ge&&pe<this._distances.length;)ne=this._distances[++pe];var Ne=pe-1,Je=this._distances[Ne],De=ne-Je,xe=De>0?(ge-Je)/De:0;return this.points[Ne].mult(1-xe).add(this.points[pe].mult(xe))};var Lr=function(X,pe,ne){var ge=this.boxCells=[],Ne=this.circleCells=[];this.xCellCount=Math.ceil(X/ne),this.yCellCount=Math.ceil(pe/ne);for(var Je=0;Je<this.xCellCount*this.yCellCount;Je++)ge.push([]),Ne.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=X,this.height=pe,this.xScale=this.xCellCount/X,this.yScale=this.yCellCount/pe,this.boxUid=0,this.circleUid=0};Lr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Lr.prototype.insert=function(X,pe,ne,ge,Ne){this._forEachCell(pe,ne,ge,Ne,this._insertBoxCell,this.boxUid++),this.boxKeys.push(X),this.bboxes.push(pe),this.bboxes.push(ne),this.bboxes.push(ge),this.bboxes.push(Ne)},Lr.prototype.insertCircle=function(X,pe,ne,ge){this._forEachCell(pe-ge,ne-ge,pe+ge,ne+ge,this._insertCircleCell,this.circleUid++),this.circleKeys.push(X),this.circles.push(pe),this.circles.push(ne),this.circles.push(ge)},Lr.prototype._insertBoxCell=function(X,pe,ne,ge,Ne,Je){this.boxCells[Ne].push(Je)},Lr.prototype._insertCircleCell=function(X,pe,ne,ge,Ne,Je){this.circleCells[Ne].push(Je)},Lr.prototype._query=function(X,pe,ne,ge,Ne,Je){if(ne<0||X>this.width||ge<0||pe>this.height)return Ne?!1:[];var De=[];if(X<=0&&pe<=0&&this.width<=ne&&this.height<=ge){if(Ne)return!0;for(var xe=0;xe<this.boxKeys.length;xe++)De.push({key:this.boxKeys[xe],x1:this.bboxes[xe*4],y1:this.bboxes[xe*4+1],x2:this.bboxes[xe*4+2],y2:this.bboxes[xe*4+3]});for(var Ge=0;Ge<this.circleKeys.length;Ge++){var dt=this.circles[Ge*3],_t=this.circles[Ge*3+1],Yt=this.circles[Ge*3+2];De.push({key:this.circleKeys[Ge],x1:dt-Yt,y1:_t-Yt,x2:dt+Yt,y2:_t+Yt})}return Je?De.filter(Je):De}else{var qt={hitTest:Ne,seenUids:{box:{},circle:{}}};return this._forEachCell(X,pe,ne,ge,this._queryCell,De,qt,Je),Ne?De.length>0:De}},Lr.prototype._queryCircle=function(X,pe,ne,ge,Ne){var Je=X-ne,De=X+ne,xe=pe-ne,Ge=pe+ne;if(De<0||Je>this.width||Ge<0||xe>this.height)return ge?!1:[];var dt=[],_t={hitTest:ge,circle:{x:X,y:pe,radius:ne},seenUids:{box:{},circle:{}}};return this._forEachCell(Je,xe,De,Ge,this._queryCellCircle,dt,_t,Ne),ge?dt.length>0:dt},Lr.prototype.query=function(X,pe,ne,ge,Ne){return this._query(X,pe,ne,ge,!1,Ne)},Lr.prototype.hitTest=function(X,pe,ne,ge,Ne){return this._query(X,pe,ne,ge,!0,Ne)},Lr.prototype.hitTestCircle=function(X,pe,ne,ge){return this._queryCircle(X,pe,ne,!0,ge)},Lr.prototype._queryCell=function(X,pe,ne,ge,Ne,Je,De,xe){var Ge=De.seenUids,dt=this.boxCells[Ne];if(dt!==null)for(var _t=this.bboxes,Yt=0,qt=dt;Yt<qt.length;Yt+=1){var yr=qt[Yt];if(!Ge.box[yr]){Ge.box[yr]=!0;var Ar=yr*4;if(X<=_t[Ar+2]&&pe<=_t[Ar+3]&&ne>=_t[Ar+0]&&ge>=_t[Ar+1]&&(!xe||xe(this.boxKeys[yr]))){if(De.hitTest)return Je.push(!0),!0;Je.push({key:this.boxKeys[yr],x1:_t[Ar],y1:_t[Ar+1],x2:_t[Ar+2],y2:_t[Ar+3]})}}}var kr=this.circleCells[Ne];if(kr!==null)for(var Or=this.circles,$r=0,gn=kr;$r<gn.length;$r+=1){var An=gn[$r];if(!Ge.circle[An]){Ge.circle[An]=!0;var Nn=An*3;if(this._circleAndRectCollide(Or[Nn],Or[Nn+1],Or[Nn+2],X,pe,ne,ge)&&(!xe||xe(this.circleKeys[An]))){if(De.hitTest)return Je.push(!0),!0;var In=Or[Nn],On=Or[Nn+1],Yn=Or[Nn+2];Je.push({key:this.circleKeys[An],x1:In-Yn,y1:On-Yn,x2:In+Yn,y2:On+Yn})}}}},Lr.prototype._queryCellCircle=function(X,pe,ne,ge,Ne,Je,De,xe){var Ge=De.circle,dt=De.seenUids,_t=this.boxCells[Ne];if(_t!==null)for(var Yt=this.bboxes,qt=0,yr=_t;qt<yr.length;qt+=1){var Ar=yr[qt];if(!dt.box[Ar]){dt.box[Ar]=!0;var kr=Ar*4;if(this._circleAndRectCollide(Ge.x,Ge.y,Ge.radius,Yt[kr+0],Yt[kr+1],Yt[kr+2],Yt[kr+3])&&(!xe||xe(this.boxKeys[Ar])))return Je.push(!0),!0}}var Or=this.circleCells[Ne];if(Or!==null)for(var $r=this.circles,gn=0,An=Or;gn<An.length;gn+=1){var Nn=An[gn];if(!dt.circle[Nn]){dt.circle[Nn]=!0;var In=Nn*3;if(this._circlesCollide($r[In],$r[In+1],$r[In+2],Ge.x,Ge.y,Ge.radius)&&(!xe||xe(this.circleKeys[Nn])))return Je.push(!0),!0}}},Lr.prototype._forEachCell=function(X,pe,ne,ge,Ne,Je,De,xe){for(var Ge=this._convertToXCellCoord(X),dt=this._convertToYCellCoord(pe),_t=this._convertToXCellCoord(ne),Yt=this._convertToYCellCoord(ge),qt=Ge;qt<=_t;qt++)for(var yr=dt;yr<=Yt;yr++){var Ar=this.xCellCount*yr+qt;if(Ne.call(this,X,pe,ne,ge,Ar,Je,De,xe))return}},Lr.prototype._convertToXCellCoord=function(X){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(X*this.xScale)))},Lr.prototype._convertToYCellCoord=function(X){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(X*this.yScale)))},Lr.prototype._circlesCollide=function(X,pe,ne,ge,Ne,Je){var De=ge-X,xe=Ne-pe,Ge=ne+Je;return Ge*Ge>De*De+xe*xe},Lr.prototype._circleAndRectCollide=function(X,pe,ne,ge,Ne,Je,De){var xe=(Je-ge)/2,Ge=Math.abs(X-(ge+xe));if(Ge>xe+ne)return!1;var dt=(De-Ne)/2,_t=Math.abs(pe-(Ne+dt));if(_t>dt+ne)return!1;if(Ge<=xe||_t<=dt)return!0;var Yt=Ge-xe,qt=_t-dt;return Yt*Yt+qt*qt<=ne*ne};function Pr(ve,X,pe,ne,ge){var Ne=a.create();return X?(a.scale(Ne,Ne,[1/ge,1/ge,1]),pe||a.rotateZ(Ne,Ne,ne.angle)):a.multiply(Ne,ne.labelPlaneMatrix,ve),Ne}function Yr(ve,X,pe,ne,ge){if(X){var Ne=a.clone(ve);return a.scale(Ne,Ne,[ge,ge,1]),pe||a.rotateZ(Ne,Ne,-ne.angle),Ne}else return ne.glCoordMatrix}function Hr(ve,X){var pe=[ve.x,ve.y,0,1];Mr(pe,pe,X);var ne=pe[3];return{point:new a.Point(pe[0]/ne,pe[1]/ne),signedDistanceFromCamera:ne}}function en(ve,X){return .5+.5*(ve/X)}function cn(ve,X){var pe=ve[0]/ve[3],ne=ve[1]/ve[3],ge=pe>=-X[0]&&pe<=X[0]&&ne>=-X[1]&&ne<=X[1];return ge}function hn(ve,X,pe,ne,ge,Ne,Je,De){var xe=ne?ve.textSizeData:ve.iconSizeData,Ge=a.evaluateSizeForZoom(xe,pe.transform.zoom),dt=[256/pe.width*2+1,256/pe.height*2+1],_t=ne?ve.text.dynamicLayoutVertexArray:ve.icon.dynamicLayoutVertexArray;_t.clear();for(var Yt=ve.lineVertexArray,qt=ne?ve.text.placedSymbolArray:ve.icon.placedSymbolArray,yr=pe.transform.width/pe.transform.height,Ar=!1,kr=0;kr<qt.length;kr++){var Or=qt.get(kr);if(Or.hidden||Or.writingMode===a.WritingMode.vertical&&!Ar){Qn(Or.numGlyphs,_t);continue}Ar=!1;var $r=[Or.anchorX,Or.anchorY,0,1];if(a.transformMat4($r,$r,X),!cn($r,dt)){Qn(Or.numGlyphs,_t);continue}var gn=$r[3],An=en(pe.transform.cameraToCenterDistance,gn),Nn=a.evaluateSizeForFeature(xe,Ge,Or),In=Je?Nn/An:Nn*An,On=new a.Point(Or.anchorX,Or.anchorY),Yn=Hr(On,ge).point,ta={},qn=sa(Or,In,!1,De,X,ge,Ne,ve.glyphOffsetArray,Yt,_t,Yn,On,ta,yr);Ar=qn.useVertical,(qn.notEnoughRoom||Ar||qn.needsFlipping&&sa(Or,In,!0,De,X,ge,Ne,ve.glyphOffsetArray,Yt,_t,Yn,On,ta,yr).notEnoughRoom)&&Qn(Or.numGlyphs,_t)}ne?ve.text.dynamicLayoutVertexBuffer.updateData(_t):ve.icon.dynamicLayoutVertexBuffer.updateData(_t)}function Pn(ve,X,pe,ne,ge,Ne,Je,De,xe,Ge,dt){var _t=De.glyphStartIndex+De.numGlyphs,Yt=De.lineStartIndex,qt=De.lineStartIndex+De.lineLength,yr=X.getoffsetX(De.glyphStartIndex),Ar=X.getoffsetX(_t-1),kr=ea(ve*yr,pe,ne,ge,Ne,Je,De.segment,Yt,qt,xe,Ge,dt);if(!kr)return null;var Or=ea(ve*Ar,pe,ne,ge,Ne,Je,De.segment,Yt,qt,xe,Ge,dt);return Or?{first:kr,last:Or}:null}function kn(ve,X,pe,ne){if(ve===a.WritingMode.horizontal){var ge=Math.abs(pe.y-X.y),Ne=Math.abs(pe.x-X.x)*ne;if(ge>Ne)return{useVertical:!0}}return(ve===a.WritingMode.vertical?X.y<pe.y:X.x>pe.x)?{needsFlipping:!0}:null}function sa(ve,X,pe,ne,ge,Ne,Je,De,xe,Ge,dt,_t,Yt,qt){var yr=X/24,Ar=ve.lineOffsetX*yr,kr=ve.lineOffsetY*yr,Or;if(ve.numGlyphs>1){var $r=ve.glyphStartIndex+ve.numGlyphs,gn=ve.lineStartIndex,An=ve.lineStartIndex+ve.lineLength,Nn=Pn(yr,De,Ar,kr,pe,dt,_t,ve,xe,Ne,Yt);if(!Nn)return{notEnoughRoom:!0};var In=Hr(Nn.first.point,Je).point,On=Hr(Nn.last.point,Je).point;if(ne&&!pe){var Yn=kn(ve.writingMode,In,On,qt);if(Yn)return Yn}Or=[Nn.first];for(var ta=ve.glyphStartIndex+1;ta<$r-1;ta++)Or.push(ea(yr*De.getoffsetX(ta),Ar,kr,pe,dt,_t,ve.segment,gn,An,xe,Ne,Yt));Or.push(Nn.last)}else{if(ne&&!pe){var qn=Hr(_t,ge).point,$n=ve.lineStartIndex+ve.segment+1,ia=new a.Point(xe.getx($n),xe.gety($n)),da=Hr(ia,ge),La=da.signedDistanceFromCamera>0?da.point:Xn(_t,ia,qn,1,ge),ja=kn(ve.writingMode,qn,La,qt);if(ja)return ja}var Oa=ea(yr*De.getoffsetX(ve.glyphStartIndex),Ar,kr,pe,dt,_t,ve.segment,ve.lineStartIndex,ve.lineStartIndex+ve.lineLength,xe,Ne,Yt);if(!Oa)return{notEnoughRoom:!0};Or=[Oa]}for(var Va=0,ga=Or;Va<ga.length;Va+=1){var Ja=ga[Va];a.addDynamicAttributes(Ge,Ja.point,Ja.angle)}return{}}function Xn(ve,X,pe,ne,ge){var Ne=Hr(ve.add(ve.sub(X)._unit()),ge).point,Je=pe.sub(Ne);return pe.add(Je._mult(ne/Je.mag()))}function ea(ve,X,pe,ne,ge,Ne,Je,De,xe,Ge,dt,_t){var Yt=ne?ve-X:ve+X,qt=Yt>0?1:-1,yr=0;ne&&(qt*=-1,yr=Math.PI),qt<0&&(yr+=Math.PI);for(var Ar=qt>0?De+Je:De+Je+1,kr=ge,Or=ge,$r=0,gn=0,An=Math.abs(Yt),Nn=[];$r+gn<=An;){if(Ar+=qt,Ar<De||Ar>=xe)return null;if(Or=kr,Nn.push(kr),kr=_t[Ar],kr===void 0){var In=new a.Point(Ge.getx(Ar),Ge.gety(Ar)),On=Hr(In,dt);if(On.signedDistanceFromCamera>0)kr=_t[Ar]=On.point;else{var Yn=Ar-qt,ta=$r===0?Ne:new a.Point(Ge.getx(Yn),Ge.gety(Yn));kr=Xn(ta,In,Or,An-$r+1,dt)}}$r+=gn,gn=Or.dist(kr)}var qn=(An-$r)/gn,$n=kr.sub(Or),ia=$n.mult(qn)._add(Or);ia._add($n._unit()._perp()._mult(pe*qt));var da=yr+Math.atan2(kr.y-Or.y,kr.x-Or.x);return Nn.push(ia),{point:ia,angle:da,path:Nn}}var Zn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Qn(ve,X){for(var pe=0;pe<ve;pe++){var ne=X.length;X.resize(ne+4),X.float32.set(Zn,ne*3)}}function Mr(ve,X,pe){var ne=X[0],ge=X[1];return ve[0]=pe[0]*ne+pe[4]*ge+pe[12],ve[1]=pe[1]*ne+pe[5]*ge+pe[13],ve[3]=pe[3]*ne+pe[7]*ge+pe[15],ve}var on=100,nn=function(X,pe,ne){pe===void 0&&(pe=new Lr(X.width+2*on,X.height+2*on,25)),ne===void 0&&(ne=new Lr(X.width+2*on,X.height+2*on,25)),this.transform=X,this.grid=pe,this.ignoredGrid=ne,this.pitchfactor=Math.cos(X._pitch)*X.cameraToCenterDistance,this.screenRightBoundary=X.width+on,this.screenBottomBoundary=X.height+on,this.gridRightBoundary=X.width+2*on,this.gridBottomBoundary=X.height+2*on};nn.prototype.placeCollisionBox=function(X,pe,ne,ge,Ne){var Je=this.projectAndGetPerspectiveRatio(ge,X.anchorPointX,X.anchorPointY),De=ne*Je.perspectiveRatio,xe=X.x1*De+Je.point.x,Ge=X.y1*De+Je.point.y,dt=X.x2*De+Je.point.x,_t=X.y2*De+Je.point.y;return!this.isInsideGrid(xe,Ge,dt,_t)||!pe&&this.grid.hitTest(xe,Ge,dt,_t,Ne)?{box:[],offscreen:!1}:{box:[xe,Ge,dt,_t],offscreen:this.isOffscreen(xe,Ge,dt,_t)}},nn.prototype.placeCollisionCircles=function(X,pe,ne,ge,Ne,Je,De,xe,Ge,dt,_t,Yt,qt){var yr=[],Ar=new a.Point(pe.anchorX,pe.anchorY),kr=Hr(Ar,Je),Or=en(this.transform.cameraToCenterDistance,kr.signedDistanceFromCamera),$r=dt?Ne/Or:Ne*Or,gn=$r/a.ONE_EM,An=Hr(Ar,De).point,Nn={},In=pe.lineOffsetX*gn,On=pe.lineOffsetY*gn,Yn=Pn(gn,ge,In,On,!1,An,Ar,pe,ne,De,Nn),ta=!1,qn=!1,$n=!0;if(Yn){for(var ia=Yt*.5*Or+qt,da=new a.Point(-on,-on),La=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),ja=new bn,Oa=Yn.first,Va=Yn.last,ga=[],Ja=Oa.path.length-1;Ja>=1;Ja--)ga.push(Oa.path[Ja]);for(var Ka=1;Ka<Va.path.length;Ka++)ga.push(Va.path[Ka]);var ai=ia*2.5;if(xe){var Qa=ga.map(function(Gl){return Hr(Gl,xe)});Qa.some(function(Gl){return Gl.signedDistanceFromCamera<=0})?ga=[]:ga=Qa.map(function(Gl){return Gl.point})}var ti=[];if(ga.length>0){for(var za=ga[0].clone(),ri=ga[0].clone(),Ci=1;Ci<ga.length;Ci++)za.x=Math.min(za.x,ga[Ci].x),za.y=Math.min(za.y,ga[Ci].y),ri.x=Math.max(ri.x,ga[Ci].x),ri.y=Math.max(ri.y,ga[Ci].y);za.x>=da.x&&ri.x<=La.x&&za.y>=da.y&&ri.y<=La.y?ti=[ga]:ri.x<da.x||za.x>La.x||ri.y<da.y||za.y>La.y?ti=[]:ti=a.clipLine([ga],da.x,da.y,La.x,La.y)}for(var Ki=0,ks=ti;Ki<ks.length;Ki+=1){var as=ks[Ki];ja.reset(as,ia*.25);var qs=0;ja.length<=.5*ia?qs=1:qs=Math.ceil(ja.paddedLength/ai)+1;for(var ms=0;ms<qs;ms++){var is=ms/Math.max(qs-1,1),Os=ja.lerp(is),Fo=Os.x+on,zs=Os.y+on;yr.push(Fo,zs,ia,0);var To=Fo-ia,el=zs-ia,ml=Fo+ia,Vl=zs+ia;if($n=$n&&this.isOffscreen(To,el,ml,Vl),qn=qn||this.isInsideGrid(To,el,ml,Vl),!X&&this.grid.hitTestCircle(Fo,zs,ia,_t)&&(ta=!0,!Ge))return{circles:[],offscreen:!1,collisionDetected:ta}}}}return{circles:!Ge&&ta||!qn?[]:yr,offscreen:$n,collisionDetected:ta}},nn.prototype.queryRenderedSymbols=function(X){if(X.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var pe=[],ne=1/0,ge=1/0,Ne=-1/0,Je=-1/0,De=0,xe=X;De<xe.length;De+=1){var Ge=xe[De],dt=new a.Point(Ge.x+on,Ge.y+on);ne=Math.min(ne,dt.x),ge=Math.min(ge,dt.y),Ne=Math.max(Ne,dt.x),Je=Math.max(Je,dt.y),pe.push(dt)}for(var _t=this.grid.query(ne,ge,Ne,Je).concat(this.ignoredGrid.query(ne,ge,Ne,Je)),Yt={},qt={},yr=0,Ar=_t;yr<Ar.length;yr+=1){var kr=Ar[yr],Or=kr.key;if(Yt[Or.bucketInstanceId]===void 0&&(Yt[Or.bucketInstanceId]={}),!Yt[Or.bucketInstanceId][Or.featureIndex]){var $r=[new a.Point(kr.x1,kr.y1),new a.Point(kr.x2,kr.y1),new a.Point(kr.x2,kr.y2),new a.Point(kr.x1,kr.y2)];a.polygonIntersectsPolygon(pe,$r)&&(Yt[Or.bucketInstanceId][Or.featureIndex]=!0,qt[Or.bucketInstanceId]===void 0&&(qt[Or.bucketInstanceId]=[]),qt[Or.bucketInstanceId].push(Or.featureIndex))}}return qt},nn.prototype.insertCollisionBox=function(X,pe,ne,ge,Ne){var Je=pe?this.ignoredGrid:this.grid,De={bucketInstanceId:ne,featureIndex:ge,collisionGroupID:Ne};Je.insert(De,X[0],X[1],X[2],X[3])},nn.prototype.insertCollisionCircles=function(X,pe,ne,ge,Ne){for(var Je=pe?this.ignoredGrid:this.grid,De={bucketInstanceId:ne,featureIndex:ge,collisionGroupID:Ne},xe=0;xe<X.length;xe+=4)Je.insertCircle(De,X[xe],X[xe+1],X[xe+2])},nn.prototype.projectAndGetPerspectiveRatio=function(X,pe,ne){var ge=[pe,ne,0,1];Mr(ge,ge,X);var Ne=new a.Point((ge[0]/ge[3]+1)/2*this.transform.width+on,(-ge[1]/ge[3]+1)/2*this.transform.height+on);return{point:Ne,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/ge[3])}},nn.prototype.isOffscreen=function(X,pe,ne,ge){return ne<on||X>=this.screenRightBoundary||ge<on||pe>this.screenBottomBoundary},nn.prototype.isInsideGrid=function(X,pe,ne,ge){return ne>=0&&X<this.gridRightBoundary&&ge>=0&&pe<this.gridBottomBoundary},nn.prototype.getViewportMatrix=function(){var X=a.identity([]);return a.translate(X,X,[-on,-on,0]),X};function mn(ve,X,pe){return X*(a.EXTENT/(ve.tileSize*Math.pow(2,pe-ve.tileID.overscaledZ)))}var Gn=function(X,pe,ne,ge){X?this.opacity=Math.max(0,Math.min(1,X.opacity+(X.placed?pe:-pe))):this.opacity=ge&&ne?1:0,this.placed=ne};Gn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Mn=function(X,pe,ne,ge,Ne){this.text=new Gn(X?X.text:null,pe,ne,Ne),this.icon=new Gn(X?X.icon:null,pe,ge,Ne)};Mn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Ln=function(X,pe,ne){this.text=X,this.icon=pe,this.skipFade=ne},Hn=function(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]},ra=function(X,pe,ne,ge,Ne){this.bucketInstanceId=X,this.featureIndex=pe,this.sourceLayerIndex=ne,this.bucketIndex=ge,this.tileID=Ne},ba=function(X){this.crossSourceCollisions=X,this.maxGroupID=0,this.collisionGroups={}};ba.prototype.get=function(X){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[X]){var pe=++this.maxGroupID;this.collisionGroups[X]={ID:pe,predicate:function(ne){return ne.collisionGroupID===pe}}}return this.collisionGroups[X]};function Za(ve,X,pe,ne,ge){var Ne=a.getAnchorAlignment(ve),Je=Ne.horizontalAlign,De=Ne.verticalAlign,xe=-(Je-.5)*X,Ge=-(De-.5)*pe,dt=a.evaluateVariableOffset(ve,ne);return new a.Point(xe+dt[0]*ge,Ge+dt[1]*ge)}function Jt(ve,X,pe,ne,ge,Ne){var Je=ve.x1,De=ve.x2,xe=ve.y1,Ge=ve.y2,dt=ve.anchorPointX,_t=ve.anchorPointY,Yt=new a.Point(X,pe);return ne&&Yt._rotate(ge?Ne:-Ne),{x1:Je+Yt.x,y1:xe+Yt.y,x2:De+Yt.x,y2:Ge+Yt.y,anchorPointX:dt,anchorPointY:_t}}var Er=function(X,pe,ne,ge){this.transform=X.clone(),this.collisionIndex=new nn(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=pe,this.retainedQueryData={},this.collisionGroups=new ba(ne),this.collisionCircleArrays={},this.prevPlacement=ge,ge&&(ge.prevPlacement=void 0),this.placedOrientations={}};Er.prototype.getBucketParts=function(X,pe,ne,ge){var Ne=ne.getBucket(pe),Je=ne.latestFeatureIndex;if(!(!Ne||!Je||pe.id!==Ne.layerIds[0])){var De=ne.collisionBoxArray,xe=Ne.layers[0].layout,Ge=Math.pow(2,this.transform.zoom-ne.tileID.overscaledZ),dt=ne.tileSize/a.EXTENT,_t=this.transform.calculatePosMatrix(ne.tileID.toUnwrapped()),Yt=xe.get("text-pitch-alignment")==="map",qt=xe.get("text-rotation-alignment")==="map",yr=mn(ne,1,this.transform.zoom),Ar=Pr(_t,Yt,qt,this.transform,yr),kr=null;if(Yt){var Or=Yr(_t,Yt,qt,this.transform,yr);kr=a.multiply([],this.transform.labelPlaneMatrix,Or)}this.retainedQueryData[Ne.bucketInstanceId]=new ra(Ne.bucketInstanceId,Je,Ne.sourceLayerIndex,Ne.index,ne.tileID);var $r={bucket:Ne,layout:xe,posMatrix:_t,textLabelPlaneMatrix:Ar,labelToScreenMatrix:kr,scale:Ge,textPixelRatio:dt,holdingForFade:ne.holdingForFade(),collisionBoxArray:De,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(Ne.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(Ne.sourceID)};if(ge)for(var gn=0,An=Ne.sortKeyRanges;gn<An.length;gn+=1){var Nn=An[gn],In=Nn.sortKey,On=Nn.symbolInstanceStart,Yn=Nn.symbolInstanceEnd;X.push({sortKey:In,symbolInstanceStart:On,symbolInstanceEnd:Yn,parameters:$r})}else X.push({symbolInstanceStart:0,symbolInstanceEnd:Ne.symbolInstances.length,parameters:$r})}},Er.prototype.attemptAnchorPlacement=function(X,pe,ne,ge,Ne,Je,De,xe,Ge,dt,_t,Yt,qt,yr,Ar){var kr=[Yt.textOffset0,Yt.textOffset1],Or=Za(X,ne,ge,kr,Ne),$r=this.collisionIndex.placeCollisionBox(Jt(pe,Or.x,Or.y,Je,De,this.transform.angle),_t,xe,Ge,dt.predicate);if(Ar){var gn=this.collisionIndex.placeCollisionBox(Jt(Ar,Or.x,Or.y,Je,De,this.transform.angle),_t,xe,Ge,dt.predicate);if(gn.box.length===0)return}if($r.box.length>0){var An;return this.prevPlacement&&this.prevPlacement.variableOffsets[Yt.crossTileID]&&this.prevPlacement.placements[Yt.crossTileID]&&this.prevPlacement.placements[Yt.crossTileID].text&&(An=this.prevPlacement.variableOffsets[Yt.crossTileID].anchor),this.variableOffsets[Yt.crossTileID]={textOffset:kr,width:ne,height:ge,anchor:X,textBoxScale:Ne,prevAnchor:An},this.markUsedJustification(qt,X,Yt,yr),qt.allowVerticalPlacement&&(this.markUsedOrientation(qt,yr,Yt),this.placedOrientations[Yt.crossTileID]=yr),{shift:Or,placedGlyphBoxes:$r}}},Er.prototype.placeLayerBucketPart=function(X,pe,ne){var ge=this,Ne=X.parameters,Je=Ne.bucket,De=Ne.layout,xe=Ne.posMatrix,Ge=Ne.textLabelPlaneMatrix,dt=Ne.labelToScreenMatrix,_t=Ne.textPixelRatio,Yt=Ne.holdingForFade,qt=Ne.collisionBoxArray,yr=Ne.partiallyEvaluatedTextSize,Ar=Ne.collisionGroup,kr=De.get("text-optional"),Or=De.get("icon-optional"),$r=De.get("text-allow-overlap"),gn=De.get("icon-allow-overlap"),An=De.get("text-rotation-alignment")==="map",Nn=De.get("text-pitch-alignment")==="map",In=De.get("icon-text-fit")!=="none",On=De.get("symbol-z-order")==="viewport-y",Yn=$r&&(gn||!Je.hasIconData()||Or),ta=gn&&($r||!Je.hasTextData()||kr);!Je.collisionArrays&&qt&&Je.deserializeCollisionBoxes(qt);var qn=function(Oa,Va){if(!pe[Oa.crossTileID]){if(Yt){ge.placements[Oa.crossTileID]=new Ln(!1,!1,!1);return}var ga=!1,Ja=!1,Ka=!0,ai=null,Qa={box:null,offscreen:null},ti={box:null,offscreen:null},za=null,ri=null,Ci=null,Ki=0,ks=0,as=0;Va.textFeatureIndex?Ki=Va.textFeatureIndex:Oa.useRuntimeCollisionCircles&&(Ki=Oa.featureIndex),Va.verticalTextFeatureIndex&&(ks=Va.verticalTextFeatureIndex);var qs=Va.textBox;if(qs){var ms=function($i){var xs=a.WritingMode.horizontal;if(Je.allowVerticalPlacement&&!$i&&ge.prevPlacement){var bs=ge.prevPlacement.placedOrientations[Oa.crossTileID];bs&&(ge.placedOrientations[Oa.crossTileID]=bs,xs=bs,ge.markUsedOrientation(Je,xs,Oa))}return xs},is=function($i,xs){if(Je.allowVerticalPlacement&&Oa.numVerticalGlyphVertices>0&&Va.verticalTextBox)for(var bs=0,Uv=Je.writingModes;bs<Uv.length;bs+=1){var ep=Uv[bs];if(ep===a.WritingMode.vertical?(Qa=xs(),ti=Qa):Qa=$i(),Qa&&Qa.box&&Qa.box.length)break}else Qa=$i()};if(De.get("text-variable-anchor")){var To=De.get("text-variable-anchor");if(ge.prevPlacement&&ge.prevPlacement.variableOffsets[Oa.crossTileID]){var el=ge.prevPlacement.variableOffsets[Oa.crossTileID];To.indexOf(el.anchor)>0&&(To=To.filter(function($i){return $i!==el.anchor}),To.unshift(el.anchor))}var ml=function($i,xs,bs){for(var Uv=$i.x2-$i.x1,ep=$i.y2-$i.y1,um=Oa.textBoxScale,fm=In&&!gn?xs:null,av={box:[],offscreen:!1},cm=$r?To.length*2:To.length,Hv=0;Hv<cm;++Hv){var hm=To[Hv%To.length],vm=Hv>=To.length,tp=ge.attemptAnchorPlacement(hm,$i,Uv,ep,um,An,Nn,_t,xe,Ar,vm,Oa,Je,bs,fm);if(tp&&(av=tp.placedGlyphBoxes,av&&av.box&&av.box.length)){ga=!0,ai=tp.shift;break}}return av},Vl=function(){return ml(qs,Va.iconBox,a.WritingMode.horizontal)},Gl=function(){var $i=Va.verticalTextBox,xs=Qa&&Qa.box&&Qa.box.length;return Je.allowVerticalPlacement&&!xs&&Oa.numVerticalGlyphVertices>0&&$i?ml($i,Va.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}};is(Vl,Gl),Qa&&(ga=Qa.box,Ka=Qa.offscreen);var wh=ms(Qa&&Qa.box);if(!ga&&ge.prevPlacement){var jf=ge.prevPlacement.variableOffsets[Oa.crossTileID];jf&&(ge.variableOffsets[Oa.crossTileID]=jf,ge.markUsedJustification(Je,jf.anchor,Oa,wh))}}else{var Os=function($i,xs){var bs=ge.collisionIndex.placeCollisionBox($i,$r,_t,xe,Ar.predicate);return bs&&bs.box&&bs.box.length&&(ge.markUsedOrientation(Je,xs,Oa),ge.placedOrientations[Oa.crossTileID]=xs),bs},Fo=function(){return Os(qs,a.WritingMode.horizontal)},zs=function(){var $i=Va.verticalTextBox;return Je.allowVerticalPlacement&&Oa.numVerticalGlyphVertices>0&&$i?Os($i,a.WritingMode.vertical):{box:null,offscreen:null}};is(Fo,zs),ms(Qa&&Qa.box&&Qa.box.length)}}if(za=Qa,ga=za&&za.box&&za.box.length>0,Ka=za&&za.offscreen,Oa.useRuntimeCollisionCircles){var Ao=Je.text.placedSymbolArray.get(Oa.centerJustifiedTextSymbolIndex),Dc=a.evaluateSizeForFeature(Je.textSizeData,yr,Ao),os=De.get("text-padding"),Jc=Oa.collisionCircleDiameter;ri=ge.collisionIndex.placeCollisionCircles($r,Ao,Je.lineVertexArray,Je.glyphOffsetArray,Dc,xe,Ge,dt,ne,Nn,Ar.predicate,Jc,os),ga=$r||ri.circles.length>0&&!ri.collisionDetected,Ka=Ka&&ri.offscreen}if(Va.iconFeatureIndex&&(as=Va.iconFeatureIndex),Va.iconBox){var lu=function($i){var xs=In&&ai?Jt($i,ai.x,ai.y,An,Nn,ge.transform.angle):$i;return ge.collisionIndex.placeCollisionBox(xs,gn,_t,xe,Ar.predicate)};ti&&ti.box&&ti.box.length&&Va.verticalIconBox?(Ci=lu(Va.verticalIconBox),Ja=Ci.box.length>0):(Ci=lu(Va.iconBox),Ja=Ci.box.length>0),Ka=Ka&&Ci.offscreen}var Zf=kr||Oa.numHorizontalGlyphVertices===0&&Oa.numVerticalGlyphVertices===0,nv=Or||Oa.numIconVertices===0;if(!Zf&&!nv?Ja=ga=Ja&&ga:nv?Zf||(Ja=Ja&&ga):ga=Ja&&ga,ga&&za&&za.box&&(ti&&ti.box&&ks?ge.collisionIndex.insertCollisionBox(za.box,De.get("text-ignore-placement"),Je.bucketInstanceId,ks,Ar.ID):ge.collisionIndex.insertCollisionBox(za.box,De.get("text-ignore-placement"),Je.bucketInstanceId,Ki,Ar.ID)),Ja&&Ci&&ge.collisionIndex.insertCollisionBox(Ci.box,De.get("icon-ignore-placement"),Je.bucketInstanceId,as,Ar.ID),ri&&(ga&&ge.collisionIndex.insertCollisionCircles(ri.circles,De.get("text-ignore-placement"),Je.bucketInstanceId,Ki,Ar.ID),ne)){var Qc=Je.bucketInstanceId,lf=ge.collisionCircleArrays[Qc];lf===void 0&&(lf=ge.collisionCircleArrays[Qc]=new Hn);for(var Xf=0;Xf<ri.circles.length;Xf+=4)lf.circles.push(ri.circles[Xf+0]),lf.circles.push(ri.circles[Xf+1]),lf.circles.push(ri.circles[Xf+2]),lf.circles.push(ri.collisionDetected?1:0)}ge.placements[Oa.crossTileID]=new Ln(ga||Yn,Ja||ta,Ka||Je.justReloaded),pe[Oa.crossTileID]=!0}};if(On)for(var $n=Je.getSortedSymbolIndexes(this.transform.angle),ia=$n.length-1;ia>=0;--ia){var da=$n[ia];qn(Je.symbolInstances.get(da),Je.collisionArrays[da])}else for(var La=X.symbolInstanceStart;La<X.symbolInstanceEnd;La++)qn(Je.symbolInstances.get(La),Je.collisionArrays[La]);if(ne&&Je.bucketInstanceId in this.collisionCircleArrays){var ja=this.collisionCircleArrays[Je.bucketInstanceId];a.invert(ja.invProjMatrix,xe),ja.viewportMatrix=this.collisionIndex.getViewportMatrix()}Je.justReloaded=!1},Er.prototype.markUsedJustification=function(X,pe,ne,ge){var Ne={left:ne.leftJustifiedTextSymbolIndex,center:ne.centerJustifiedTextSymbolIndex,right:ne.rightJustifiedTextSymbolIndex},Je;ge===a.WritingMode.vertical?Je=ne.verticalPlacedTextSymbolIndex:Je=Ne[a.getAnchorJustification(pe)];for(var De=[ne.leftJustifiedTextSymbolIndex,ne.centerJustifiedTextSymbolIndex,ne.rightJustifiedTextSymbolIndex,ne.verticalPlacedTextSymbolIndex],xe=0,Ge=De;xe<Ge.length;xe+=1){var dt=Ge[xe];dt>=0&&(Je>=0&&dt!==Je?X.text.placedSymbolArray.get(dt).crossTileID=0:X.text.placedSymbolArray.get(dt).crossTileID=ne.crossTileID)}},Er.prototype.markUsedOrientation=function(X,pe,ne){for(var ge=pe===a.WritingMode.horizontal||pe===a.WritingMode.horizontalOnly?pe:0,Ne=pe===a.WritingMode.vertical?pe:0,Je=[ne.leftJustifiedTextSymbolIndex,ne.centerJustifiedTextSymbolIndex,ne.rightJustifiedTextSymbolIndex],De=0,xe=Je;De<xe.length;De+=1){var Ge=xe[De];X.text.placedSymbolArray.get(Ge).placedOrientation=ge}ne.verticalPlacedTextSymbolIndex&&(X.text.placedSymbolArray.get(ne.verticalPlacedTextSymbolIndex).placedOrientation=Ne)},Er.prototype.commit=function(X){this.commitTime=X,this.zoomAtLastRecencyCheck=this.transform.zoom;var pe=this.prevPlacement,ne=!1;this.prevZoomAdjustment=pe?pe.zoomAdjustment(this.transform.zoom):0;var ge=pe?pe.symbolFadeChange(X):1,Ne=pe?pe.opacities:{},Je=pe?pe.variableOffsets:{},De=pe?pe.placedOrientations:{};for(var xe in this.placements){var Ge=this.placements[xe],dt=Ne[xe];dt?(this.opacities[xe]=new Mn(dt,ge,Ge.text,Ge.icon),ne=ne||Ge.text!==dt.text.placed||Ge.icon!==dt.icon.placed):(this.opacities[xe]=new Mn(null,ge,Ge.text,Ge.icon,Ge.skipFade),ne=ne||Ge.text||Ge.icon)}for(var _t in Ne){var Yt=Ne[_t];if(!this.opacities[_t]){var qt=new Mn(Yt,ge,!1,!1);qt.isHidden()||(this.opacities[_t]=qt,ne=ne||Yt.text.placed||Yt.icon.placed)}}for(var yr in Je)!this.variableOffsets[yr]&&this.opacities[yr]&&!this.opacities[yr].isHidden()&&(this.variableOffsets[yr]=Je[yr]);for(var Ar in De)!this.placedOrientations[Ar]&&this.opacities[Ar]&&!this.opacities[Ar].isHidden()&&(this.placedOrientations[Ar]=De[Ar]);ne?this.lastPlacementChangeTime=X:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=pe?pe.lastPlacementChangeTime:X)},Er.prototype.updateLayerOpacities=function(X,pe){for(var ne={},ge=0,Ne=pe;ge<Ne.length;ge+=1){var Je=Ne[ge],De=Je.getBucket(X);De&&Je.latestFeatureIndex&&X.id===De.layerIds[0]&&this.updateBucketOpacities(De,ne,Je.collisionBoxArray)}},Er.prototype.updateBucketOpacities=function(X,pe,ne){var ge=this;X.hasTextData()&&X.text.opacityVertexArray.clear(),X.hasIconData()&&X.icon.opacityVertexArray.clear(),X.hasIconCollisionBoxData()&&X.iconCollisionBox.collisionVertexArray.clear(),X.hasTextCollisionBoxData()&&X.textCollisionBox.collisionVertexArray.clear();var Ne=X.layers[0].layout,Je=new Mn(null,0,!1,!1,!0),De=Ne.get("text-allow-overlap"),xe=Ne.get("icon-allow-overlap"),Ge=Ne.get("text-variable-anchor"),dt=Ne.get("text-rotation-alignment")==="map",_t=Ne.get("text-pitch-alignment")==="map",Yt=Ne.get("icon-text-fit")!=="none",qt=new Mn(null,0,De&&(xe||!X.hasIconData()||Ne.get("icon-optional")),xe&&(De||!X.hasTextData()||Ne.get("text-optional")),!0);!X.collisionArrays&&ne&&(X.hasIconCollisionBoxData()||X.hasTextCollisionBoxData())&&X.deserializeCollisionBoxes(ne);for(var yr=function($r,gn,An){for(var Nn=0;Nn<gn/4;Nn++)$r.opacityVertexArray.emplaceBack(An)},Ar=function($r){var gn=X.symbolInstances.get($r),An=gn.numHorizontalGlyphVertices,Nn=gn.numVerticalGlyphVertices,In=gn.crossTileID,On=pe[In],Yn=ge.opacities[In];On?Yn=Je:Yn||(Yn=qt,ge.opacities[In]=Yn),pe[In]=!0;var ta=An>0||Nn>0,qn=gn.numIconVertices>0,$n=ge.placedOrientations[gn.crossTileID],ia=$n===a.WritingMode.vertical,da=$n===a.WritingMode.horizontal||$n===a.WritingMode.horizontalOnly;if(ta){var La=Nr(Yn.text),ja=ia?vn:La;yr(X.text,An,ja);var Oa=da?vn:La;yr(X.text,Nn,Oa);var Va=Yn.text.isHidden();[gn.rightJustifiedTextSymbolIndex,gn.centerJustifiedTextSymbolIndex,gn.leftJustifiedTextSymbolIndex].forEach(function(as){as>=0&&(X.text.placedSymbolArray.get(as).hidden=Va||ia?1:0)}),gn.verticalPlacedTextSymbolIndex>=0&&(X.text.placedSymbolArray.get(gn.verticalPlacedTextSymbolIndex).hidden=Va||da?1:0);var ga=ge.variableOffsets[gn.crossTileID];ga&&ge.markUsedJustification(X,ga.anchor,gn,$n);var Ja=ge.placedOrientations[gn.crossTileID];Ja&&(ge.markUsedJustification(X,"left",gn,Ja),ge.markUsedOrientation(X,Ja,gn))}if(qn){var Ka=Nr(Yn.icon),ai=!(Yt&&gn.verticalPlacedIconSymbolIndex&&ia);if(gn.placedIconSymbolIndex>=0){var Qa=ai?Ka:vn;yr(X.icon,gn.numIconVertices,Qa),X.icon.placedSymbolArray.get(gn.placedIconSymbolIndex).hidden=Yn.icon.isHidden()}if(gn.verticalPlacedIconSymbolIndex>=0){var ti=ai?vn:Ka;yr(X.icon,gn.numVerticalIconVertices,ti),X.icon.placedSymbolArray.get(gn.verticalPlacedIconSymbolIndex).hidden=Yn.icon.isHidden()}}if(X.hasIconCollisionBoxData()||X.hasTextCollisionBoxData()){var za=X.collisionArrays[$r];if(za){var ri=new a.Point(0,0);if(za.textBox||za.verticalTextBox){var Ci=!0;if(Ge){var Ki=ge.variableOffsets[In];Ki?(ri=Za(Ki.anchor,Ki.width,Ki.height,Ki.textOffset,Ki.textBoxScale),dt&&ri._rotate(_t?ge.transform.angle:-ge.transform.angle)):Ci=!1}za.textBox&&qr(X.textCollisionBox.collisionVertexArray,Yn.text.placed,!Ci||ia,ri.x,ri.y),za.verticalTextBox&&qr(X.textCollisionBox.collisionVertexArray,Yn.text.placed,!Ci||da,ri.x,ri.y)}var ks=!!(!da&&za.verticalIconBox);za.iconBox&&qr(X.iconCollisionBox.collisionVertexArray,Yn.icon.placed,ks,Yt?ri.x:0,Yt?ri.y:0),za.verticalIconBox&&qr(X.iconCollisionBox.collisionVertexArray,Yn.icon.placed,!ks,Yt?ri.x:0,Yt?ri.y:0)}}},kr=0;kr<X.symbolInstances.length;kr++)Ar(kr);if(X.sortFeatures(this.transform.angle),this.retainedQueryData[X.bucketInstanceId]&&(this.retainedQueryData[X.bucketInstanceId].featureSortOrder=X.featureSortOrder),X.hasTextData()&&X.text.opacityVertexBuffer&&X.text.opacityVertexBuffer.updateData(X.text.opacityVertexArray),X.hasIconData()&&X.icon.opacityVertexBuffer&&X.icon.opacityVertexBuffer.updateData(X.icon.opacityVertexArray),X.hasIconCollisionBoxData()&&X.iconCollisionBox.collisionVertexBuffer&&X.iconCollisionBox.collisionVertexBuffer.updateData(X.iconCollisionBox.collisionVertexArray),X.hasTextCollisionBoxData()&&X.textCollisionBox.collisionVertexBuffer&&X.textCollisionBox.collisionVertexBuffer.updateData(X.textCollisionBox.collisionVertexArray),X.bucketInstanceId in this.collisionCircleArrays){var Or=this.collisionCircleArrays[X.bucketInstanceId];X.placementInvProjMatrix=Or.invProjMatrix,X.placementViewportMatrix=Or.viewportMatrix,X.collisionCircleArray=Or.circles,delete this.collisionCircleArrays[X.bucketInstanceId]}},Er.prototype.symbolFadeChange=function(X){return this.fadeDuration===0?1:(X-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Er.prototype.zoomAdjustment=function(X){return Math.max(0,(this.transform.zoom-X)/1.5)},Er.prototype.hasTransitions=function(X){return this.stale||X-this.lastPlacementChangeTime<this.fadeDuration},Er.prototype.stillRecent=function(X,pe){var ne=this.zoomAtLastRecencyCheck===pe?1-this.zoomAdjustment(pe):1;return this.zoomAtLastRecencyCheck=pe,this.commitTime+this.fadeDuration*ne>X},Er.prototype.setStale=function(){this.stale=!0};function qr(ve,X,pe,ne,ge){ve.emplaceBack(X?1:0,pe?1:0,ne||0,ge||0),ve.emplaceBack(X?1:0,pe?1:0,ne||0,ge||0),ve.emplaceBack(X?1:0,pe?1:0,ne||0,ge||0),ve.emplaceBack(X?1:0,pe?1:0,ne||0,ge||0)}var sn=Math.pow(2,25),fn=Math.pow(2,24),Cn=Math.pow(2,17),En=Math.pow(2,16),pn=Math.pow(2,9),zr=Math.pow(2,8),_r=Math.pow(2,1);function Nr(ve){if(ve.opacity===0&&!ve.placed)return 0;if(ve.opacity===1&&ve.placed)return 4294967295;var X=ve.placed?1:0,pe=Math.floor(ve.opacity*127);return pe*sn+X*fn+pe*Cn+X*En+pe*pn+X*zr+pe*_r+X}var vn=0,Fn=function(X){this._sortAcrossTiles=X.layout.get("symbol-z-order")!=="viewport-y"&&X.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Fn.prototype.continuePlacement=function(X,pe,ne,ge,Ne){for(var Je=this._bucketParts;this._currentTileIndex<X.length;){var De=X[this._currentTileIndex];if(pe.getBucketParts(Je,ge,De,this._sortAcrossTiles),this._currentTileIndex++,Ne())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Je.sort(function(Ge,dt){return Ge.sortKey-dt.sortKey}));this._currentPartIndex<Je.length;){var xe=Je[this._currentPartIndex];if(pe.placeLayerBucketPart(xe,this._seenCrossTileIDs,ne),this._currentPartIndex++,Ne())return!0}return!1};var Kn=function(X,pe,ne,ge,Ne,Je,De){this.placement=new Er(X,Ne,Je,De),this._currentPlacementIndex=pe.length-1,this._forceFullPlacement=ne,this._showCollisionBoxes=ge,this._done=!1};Kn.prototype.isDone=function(){return this._done},Kn.prototype.continuePlacement=function(X,pe,ne){for(var ge=this,Ne=a.browser.now(),Je=function(){var _t=a.browser.now()-Ne;return ge._forceFullPlacement?!1:_t>2};this._currentPlacementIndex>=0;){var De=X[this._currentPlacementIndex],xe=pe[De],Ge=this.placement.collisionIndex.transform.zoom;if(xe.type==="symbol"&&(!xe.minzoom||xe.minzoom<=Ge)&&(!xe.maxzoom||xe.maxzoom>Ge)){this._inProgressLayer||(this._inProgressLayer=new Fn(xe));var dt=this._inProgressLayer.continuePlacement(ne[xe.source],this.placement,this._showCollisionBoxes,xe,Je);if(dt)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Kn.prototype.commit=function(X){return this.placement.commit(X),this.placement};var xn=512/a.EXTENT/2,Vn=function(X,pe,ne){this.tileID=X,this.indexedSymbolInstances={},this.bucketInstanceId=ne;for(var ge=0;ge<pe.length;ge++){var Ne=pe.get(ge),Je=Ne.key;this.indexedSymbolInstances[Je]||(this.indexedSymbolInstances[Je]=[]),this.indexedSymbolInstances[Je].push({crossTileID:Ne.crossTileID,coord:this.getScaledCoordinates(Ne,X)})}};Vn.prototype.getScaledCoordinates=function(X,pe){var ne=pe.canonical.z-this.tileID.canonical.z,ge=xn/Math.pow(2,ne);return{x:Math.floor((pe.canonical.x*a.EXTENT+X.anchorX)*ge),y:Math.floor((pe.canonical.y*a.EXTENT+X.anchorY)*ge)}},Vn.prototype.findMatches=function(X,pe,ne){for(var ge=this.tileID.canonical.z<pe.canonical.z?1:Math.pow(2,this.tileID.canonical.z-pe.canonical.z),Ne=0;Ne<X.length;Ne++){var Je=X.get(Ne);if(!Je.crossTileID){var De=this.indexedSymbolInstances[Je.key];if(De)for(var xe=this.getScaledCoordinates(Je,pe),Ge=0,dt=De;Ge<dt.length;Ge+=1){var _t=dt[Ge];if(Math.abs(_t.coord.x-xe.x)<=ge&&Math.abs(_t.coord.y-xe.y)<=ge&&!ne[_t.crossTileID]){ne[_t.crossTileID]=!0,Je.crossTileID=_t.crossTileID;break}}}}};var aa=function(){this.maxCrossTileID=0};aa.prototype.generate=function(){return++this.maxCrossTileID};var va=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};va.prototype.handleWrapJump=function(X){var pe=Math.round((X-this.lng)/360);if(pe!==0)for(var ne in this.indexes){var ge=this.indexes[ne],Ne={};for(var Je in ge){var De=ge[Je];De.tileID=De.tileID.unwrapTo(De.tileID.wrap+pe),Ne[De.tileID.key]=De}this.indexes[ne]=Ne}this.lng=X},va.prototype.addBucket=function(X,pe,ne){if(this.indexes[X.overscaledZ]&&this.indexes[X.overscaledZ][X.key]){if(this.indexes[X.overscaledZ][X.key].bucketInstanceId===pe.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(X.overscaledZ,this.indexes[X.overscaledZ][X.key])}for(var ge=0;ge<pe.symbolInstances.length;ge++){var Ne=pe.symbolInstances.get(ge);Ne.crossTileID=0}this.usedCrossTileIDs[X.overscaledZ]||(this.usedCrossTileIDs[X.overscaledZ]={});var Je=this.usedCrossTileIDs[X.overscaledZ];for(var De in this.indexes){var xe=this.indexes[De];if(Number(De)>X.overscaledZ)for(var Ge in xe){var dt=xe[Ge];dt.tileID.isChildOf(X)&&dt.findMatches(pe.symbolInstances,X,Je)}else{var _t=X.scaledTo(Number(De)),Yt=xe[_t.key];Yt&&Yt.findMatches(pe.symbolInstances,X,Je)}}for(var qt=0;qt<pe.symbolInstances.length;qt++){var yr=pe.symbolInstances.get(qt);yr.crossTileID||(yr.crossTileID=ne.generate(),Je[yr.crossTileID]=!0)}return this.indexes[X.overscaledZ]===void 0&&(this.indexes[X.overscaledZ]={}),this.indexes[X.overscaledZ][X.key]=new Vn(X,pe.symbolInstances,pe.bucketInstanceId),!0},va.prototype.removeBucketCrossTileIDs=function(X,pe){for(var ne in pe.indexedSymbolInstances)for(var ge=0,Ne=pe.indexedSymbolInstances[ne];ge<Ne.length;ge+=1){var Je=Ne[ge];delete this.usedCrossTileIDs[X][Je.crossTileID]}},va.prototype.removeStaleBuckets=function(X){var pe=!1;for(var ne in this.indexes){var ge=this.indexes[ne];for(var Ne in ge)X[ge[Ne].bucketInstanceId]||(this.removeBucketCrossTileIDs(ne,ge[Ne]),delete ge[Ne],pe=!0)}return pe};var ha=function(){this.layerIndexes={},this.crossTileIDs=new aa,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};ha.prototype.addLayer=function(X,pe,ne){var ge=this.layerIndexes[X.id];ge===void 0&&(ge=this.layerIndexes[X.id]=new va);var Ne=!1,Je={};ge.handleWrapJump(ne);for(var De=0,xe=pe;De<xe.length;De+=1){var Ge=xe[De],dt=Ge.getBucket(X);!dt||X.id!==dt.layerIds[0]||(dt.bucketInstanceId||(dt.bucketInstanceId=++this.maxBucketInstanceId),ge.addBucket(Ge.tileID,dt,this.crossTileIDs)&&(Ne=!0),Je[dt.bucketInstanceId]=!0)}return ge.removeStaleBuckets(Je)&&(Ne=!0),Ne},ha.prototype.pruneUnusedLayers=function(X){var pe={};X.forEach(function(ge){pe[ge]=!0});for(var ne in this.layerIndexes)pe[ne]||delete this.layerIndexes[ne]};var la=function(ve,X){return a.emitValidationErrors(ve,X&&X.filter(function(pe){return pe.identifier!=="source.canvas"}))},ma=a.pick(Ht,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),_i=a.pick(Ht,["setCenter","setZoom","setBearing","setPitch"]),Ji=or(),po=function(ve){function X(pe,ne){var ge=this;ne===void 0&&(ne={}),ve.call(this),this.map=pe,this.dispatcher=new I(Ot(),this),this.imageManager=new T,this.imageManager.setEventedParent(this),this.glyphManager=new M(pe._requestManager,ne.localIdeographFontFamily),this.lineAtlas=new F(256,512),this.crossTileSymbolIndex=new ha,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());var Ne=this;this._rtlTextPluginCallback=X.registerForPluginStateChange(function(Je){var De={pluginStatus:Je.pluginStatus,pluginURL:Je.pluginURL};Ne.dispatcher.broadcast("syncRTLPluginState",De,function(xe,Ge){if(a.triggerPluginCompletionEvent(xe),Ge){var dt=Ge.every(function(Yt){return Yt});if(dt)for(var _t in Ne.sourceCaches)Ne.sourceCaches[_t].reload()}})}),this.on("data",function(Je){if(!(Je.dataType!=="source"||Je.sourceDataType!=="metadata")){var De=ge.sourceCaches[Je.sourceId];if(De){var xe=De.getSource();if(!(!xe||!xe.vectorLayerIds))for(var Ge in ge._layers){var dt=ge._layers[Ge];dt.source===xe.id&&ge._validateLayer(dt)}}}})}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.loadURL=function(ne,ge){var Ne=this;ge===void 0&&(ge={}),this.fire(new a.Event("dataloading",{dataType:"style"}));var Je=typeof ge.validate=="boolean"?ge.validate:!a.isMapboxURL(ne);ne=this.map._requestManager.normalizeStyleURL(ne,ge.accessToken);var De=this.map._requestManager.transformRequest(ne,a.ResourceType.Style);this._request=a.getJSON(De,function(xe,Ge){Ne._request=null,xe?Ne.fire(new a.ErrorEvent(xe)):Ge&&Ne._load(Ge,Je)})},X.prototype.loadJSON=function(ne,ge){var Ne=this;ge===void 0&&(ge={}),this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(function(){Ne._request=null,Ne._load(ne,ge.validate!==!1)})},X.prototype.loadEmpty=function(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(Ji,!1)},X.prototype._load=function(ne,ge){if(!(ge&&la(this,a.validateStyle(ne)))){this._loaded=!0,this.stylesheet=ne;for(var Ne in ne.sources)this.addSource(Ne,ne.sources[Ne],{validate:!1});ne.sprite?this._loadSprite(ne.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(ne.glyphs);var Je=ur(this.stylesheet.layers);this._order=Je.map(function(dt){return dt.id}),this._layers={},this._serializedLayers={};for(var De=0,xe=Je;De<xe.length;De+=1){var Ge=xe[De];Ge=a.createStyleLayer(Ge),Ge.setEventedParent(this,{layer:{id:Ge.id}}),this._layers[Ge.id]=Ge,this._serializedLayers[Ge.id]=Ge.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new m(this.stylesheet.light),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}},X.prototype._loadSprite=function(ne){var ge=this;this._spriteRequest=u(ne,this.map._requestManager,function(Ne,Je){if(ge._spriteRequest=null,Ne)ge.fire(new a.ErrorEvent(Ne));else if(Je)for(var De in Je)ge.imageManager.addImage(De,Je[De]);ge.imageManager.setLoaded(!0),ge._availableImages=ge.imageManager.listImages(),ge.dispatcher.broadcast("setImages",ge._availableImages),ge.fire(new a.Event("data",{dataType:"style"}))})},X.prototype._validateLayer=function(ne){var ge=this.sourceCaches[ne.source];if(ge){var Ne=ne.sourceLayer;if(Ne){var Je=ge.getSource();(Je.type==="geojson"||Je.vectorLayerIds&&Je.vectorLayerIds.indexOf(Ne)===-1)&&this.fire(new a.ErrorEvent(new Error('Source layer "'+Ne+'" does not exist on source "'+Je.id+'" as specified by style layer "'+ne.id+'"')))}}},X.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var ne in this.sourceCaches)if(!this.sourceCaches[ne].loaded())return!1;return!!this.imageManager.isLoaded()},X.prototype._serializeLayers=function(ne){for(var ge=[],Ne=0,Je=ne;Ne<Je.length;Ne+=1){var De=Je[Ne],xe=this._layers[De];xe.type!=="custom"&&ge.push(xe.serialize())}return ge},X.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var ne in this.sourceCaches)if(this.sourceCaches[ne].hasTransition())return!0;for(var ge in this._layers)if(this._layers[ge].hasTransition())return!0;return!1},X.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},X.prototype.update=function(ne){if(this._loaded){var ge=this._changed;if(this._changed){var Ne=Object.keys(this._updatedLayers),Je=Object.keys(this._removedLayers);(Ne.length||Je.length)&&this._updateWorkerLayers(Ne,Je);for(var De in this._updatedSources){var xe=this._updatedSources[De];xe==="reload"?this._reloadSource(De):xe==="clear"&&this._clearSource(De)}this._updateTilesForChangedImages();for(var Ge in this._updatedPaintProps)this._layers[Ge].updateTransitions(ne);this.light.updateTransitions(ne),this._resetUpdates()}for(var dt in this.sourceCaches)this.sourceCaches[dt].used=!1;for(var _t=0,Yt=this._order;_t<Yt.length;_t+=1){var qt=Yt[_t],yr=this._layers[qt];yr.recalculate(ne,this._availableImages),!yr.isHidden(ne.zoom)&&yr.source&&(this.sourceCaches[yr.source].used=!0)}this.light.recalculate(ne),this.z=ne.zoom,ge&&this.fire(new a.Event("data",{dataType:"style"}))}},X.prototype._updateTilesForChangedImages=function(){var ne=Object.keys(this._changedImages);if(ne.length){for(var ge in this.sourceCaches)this.sourceCaches[ge].reloadTilesForDependencies(["icons","patterns"],ne);this._changedImages={}}},X.prototype._updateWorkerLayers=function(ne,ge){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(ne),removedIds:ge})},X.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},X.prototype.setState=function(ne){var ge=this;if(this._checkLoaded(),la(this,a.validateStyle(ne)))return!1;ne=a.clone$1(ne),ne.layers=ur(ne.layers);var Ne=Un(this.serialize(),ne).filter(function(De){return!(De.command in _i)});if(Ne.length===0)return!1;var Je=Ne.filter(function(De){return!(De.command in ma)});if(Je.length>0)throw new Error("Unimplemented: "+Je.map(function(De){return De.command}).join(", ")+".");return Ne.forEach(function(De){De.command!=="setTransition"&&ge[De.command].apply(ge,De.args)}),this.stylesheet=ne,!0},X.prototype.addImage=function(ne,ge){if(this.getImage(ne))return this.fire(new a.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(ne,ge),this._availableImages=this.imageManager.listImages(),this._changedImages[ne]=!0,this._changed=!0,this.fire(new a.Event("data",{dataType:"style"}))},X.prototype.updateImage=function(ne,ge){this.imageManager.updateImage(ne,ge)},X.prototype.getImage=function(ne){return this.imageManager.getImage(ne)},X.prototype.removeImage=function(ne){if(!this.getImage(ne))return this.fire(new a.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(ne),this._availableImages=this.imageManager.listImages(),this._changedImages[ne]=!0,this._changed=!0,this.fire(new a.Event("data",{dataType:"style"}))},X.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},X.prototype.addSource=function(ne,ge,Ne){var Je=this;if(Ne===void 0&&(Ne={}),this._checkLoaded(),this.sourceCaches[ne]!==void 0)throw new Error("There is already a source with this ID");if(!ge.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(ge).join(", ")+".");var De=["vector","raster","geojson","video","image"],xe=De.indexOf(ge.type)>=0;if(!(xe&&this._validate(a.validateStyle.source,"sources."+ne,ge,null,Ne))){this.map&&this.map._collectResourceTiming&&(ge.collectResourceTiming=!0);var Ge=this.sourceCaches[ne]=new Vt(ne,ge,this.dispatcher);Ge.style=this,Ge.setEventedParent(this,function(){return{isSourceLoaded:Je.loaded(),source:Ge.serialize(),sourceId:ne}}),Ge.onAdd(this.map),this._changed=!0}},X.prototype.removeSource=function(ne){if(this._checkLoaded(),this.sourceCaches[ne]===void 0)throw new Error("There is no source with this ID");for(var ge in this._layers)if(this._layers[ge].source===ne)return this.fire(new a.ErrorEvent(new Error('Source "'+ne+'" cannot be removed while layer "'+ge+'" is using it.')));var Ne=this.sourceCaches[ne];delete this.sourceCaches[ne],delete this._updatedSources[ne],Ne.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:ne})),Ne.setEventedParent(null),Ne.clearTiles(),Ne.onRemove&&Ne.onRemove(this.map),this._changed=!0},X.prototype.setGeoJSONSourceData=function(ne,ge){this._checkLoaded();var Ne=this.sourceCaches[ne].getSource();Ne.setData(ge),this._changed=!0},X.prototype.getSource=function(ne){return this.sourceCaches[ne]&&this.sourceCaches[ne].getSource()},X.prototype.addLayer=function(ne,ge,Ne){Ne===void 0&&(Ne={}),this._checkLoaded();var Je=ne.id;if(this.getLayer(Je)){this.fire(new a.ErrorEvent(new Error('Layer with id "'+Je+'" already exists on this map')));return}var De;if(ne.type==="custom"){if(la(this,a.validateCustomStyleLayer(ne)))return;De=a.createStyleLayer(ne)}else{if(typeof ne.source=="object"&&(this.addSource(Je,ne.source),ne=a.clone$1(ne),ne=a.extend(ne,{source:Je})),this._validate(a.validateStyle.layer,"layers."+Je,ne,{arrayIndex:-1},Ne))return;De=a.createStyleLayer(ne),this._validateLayer(De),De.setEventedParent(this,{layer:{id:Je}}),this._serializedLayers[De.id]=De.serialize()}var xe=ge?this._order.indexOf(ge):this._order.length;if(ge&&xe===-1){this.fire(new a.ErrorEvent(new Error('Layer with id "'+ge+'" does not exist on this map.')));return}if(this._order.splice(xe,0,Je),this._layerOrderChanged=!0,this._layers[Je]=De,this._removedLayers[Je]&&De.source&&De.type!=="custom"){var Ge=this._removedLayers[Je];delete this._removedLayers[Je],Ge.type!==De.type?this._updatedSources[De.source]="clear":(this._updatedSources[De.source]="reload",this.sourceCaches[De.source].pause())}this._updateLayer(De),De.onAdd&&De.onAdd(this.map)},X.prototype.moveLayer=function(ne,ge){this._checkLoaded(),this._changed=!0;var Ne=this._layers[ne];if(!Ne){this.fire(new a.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot be moved.")));return}if(ne!==ge){var Je=this._order.indexOf(ne);this._order.splice(Je,1);var De=ge?this._order.indexOf(ge):this._order.length;if(ge&&De===-1){this.fire(new a.ErrorEvent(new Error('Layer with id "'+ge+'" does not exist on this map.')));return}this._order.splice(De,0,ne),this._layerOrderChanged=!0}},X.prototype.removeLayer=function(ne){this._checkLoaded();var ge=this._layers[ne];if(!ge){this.fire(new a.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot be removed.")));return}ge.setEventedParent(null);var Ne=this._order.indexOf(ne);this._order.splice(Ne,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[ne]=ge,delete this._layers[ne],delete this._serializedLayers[ne],delete this._updatedLayers[ne],delete this._updatedPaintProps[ne],ge.onRemove&&ge.onRemove(this.map)},X.prototype.getLayer=function(ne){return this._layers[ne]},X.prototype.hasLayer=function(ne){return ne in this._layers},X.prototype.setLayerZoomRange=function(ne,ge,Ne){this._checkLoaded();var Je=this.getLayer(ne);if(!Je){this.fire(new a.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot have zoom extent.")));return}Je.minzoom===ge&&Je.maxzoom===Ne||(ge!=null&&(Je.minzoom=ge),Ne!=null&&(Je.maxzoom=Ne),this._updateLayer(Je))},X.prototype.setFilter=function(ne,ge,Ne){Ne===void 0&&(Ne={}),this._checkLoaded();var Je=this.getLayer(ne);if(!Je){this.fire(new a.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot be filtered.")));return}if(!a.deepEqual(Je.filter,ge)){if(ge==null){Je.filter=void 0,this._updateLayer(Je);return}this._validate(a.validateStyle.filter,"layers."+Je.id+".filter",ge,null,Ne)||(Je.filter=a.clone$1(ge),this._updateLayer(Je))}},X.prototype.getFilter=function(ne){return a.clone$1(this.getLayer(ne).filter)},X.prototype.setLayoutProperty=function(ne,ge,Ne,Je){Je===void 0&&(Je={}),this._checkLoaded();var De=this.getLayer(ne);if(!De){this.fire(new a.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot be styled.")));return}a.deepEqual(De.getLayoutProperty(ge),Ne)||(De.setLayoutProperty(ge,Ne,Je),this._updateLayer(De))},X.prototype.getLayoutProperty=function(ne,ge){var Ne=this.getLayer(ne);if(!Ne){this.fire(new a.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style.")));return}return Ne.getLayoutProperty(ge)},X.prototype.setPaintProperty=function(ne,ge,Ne,Je){Je===void 0&&(Je={}),this._checkLoaded();var De=this.getLayer(ne);if(!De){this.fire(new a.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot be styled.")));return}if(!a.deepEqual(De.getPaintProperty(ge),Ne)){var xe=De.setPaintProperty(ge,Ne,Je);xe&&this._updateLayer(De),this._changed=!0,this._updatedPaintProps[ne]=!0}},X.prototype.getPaintProperty=function(ne,ge){return this.getLayer(ne).getPaintProperty(ge)},X.prototype.setFeatureState=function(ne,ge){this._checkLoaded();var Ne=ne.source,Je=ne.sourceLayer,De=this.sourceCaches[Ne];if(De===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+Ne+"' does not exist in the map's style.")));return}var xe=De.getSource().type;if(xe==="geojson"&&Je){this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(xe==="vector"&&!Je){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}ne.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),De.setFeatureState(Je,ne.id,ge)},X.prototype.removeFeatureState=function(ne,ge){this._checkLoaded();var Ne=ne.source,Je=this.sourceCaches[Ne];if(Je===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+Ne+"' does not exist in the map's style.")));return}var De=Je.getSource().type,xe=De==="vector"?ne.sourceLayer:void 0;if(De==="vector"&&!xe){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(ge&&typeof ne.id!="string"&&typeof ne.id!="number"){this.fire(new a.ErrorEvent(new Error("A feature id is requred to remove its specific state property.")));return}Je.removeFeatureState(xe,ne.id,ge)},X.prototype.getFeatureState=function(ne){this._checkLoaded();var ge=ne.source,Ne=ne.sourceLayer,Je=this.sourceCaches[ge];if(Je===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+ge+"' does not exist in the map's style.")));return}var De=Je.getSource().type;if(De==="vector"&&!Ne){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return ne.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),Je.getFeatureState(Ne,ne.id)},X.prototype.getTransition=function(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},X.prototype.serialize=function(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,function(ne){return ne.serialize()}),layers:this._serializeLayers(this._order)},function(ne){return ne!==void 0})},X.prototype._updateLayer=function(ne){this._updatedLayers[ne.id]=!0,ne.source&&!this._updatedSources[ne.source]&&this.sourceCaches[ne.source].getSource().type!=="raster"&&(this._updatedSources[ne.source]="reload",this.sourceCaches[ne.source].pause()),this._changed=!0},X.prototype._flattenAndSortRenderedFeatures=function(ne){for(var ge=this,Ne=function(da){return ge._layers[da].type==="fill-extrusion"},Je={},De=[],xe=this._order.length-1;xe>=0;xe--){var Ge=this._order[xe];if(Ne(Ge)){Je[Ge]=xe;for(var dt=0,_t=ne;dt<_t.length;dt+=1){var Yt=_t[dt],qt=Yt[Ge];if(qt)for(var yr=0,Ar=qt;yr<Ar.length;yr+=1){var kr=Ar[yr];De.push(kr)}}}}De.sort(function(da,La){return La.intersectionZ-da.intersectionZ});for(var Or=[],$r=this._order.length-1;$r>=0;$r--){var gn=this._order[$r];if(Ne(gn))for(var An=De.length-1;An>=0;An--){var Nn=De[An].feature;if(Je[Nn.layer.id]<$r)break;Or.push(Nn),De.pop()}else for(var In=0,On=ne;In<On.length;In+=1){var Yn=On[In],ta=Yn[gn];if(ta)for(var qn=0,$n=ta;qn<$n.length;qn+=1){var ia=$n[qn];Or.push(ia.feature)}}}return Or},X.prototype.queryRenderedFeatures=function(ne,ge,Ne){ge&&ge.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",ge.filter,null,ge);var Je={};if(ge&&ge.layers){if(!Array.isArray(ge.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var De=0,xe=ge.layers;De<xe.length;De+=1){var Ge=xe[De],dt=this._layers[Ge];if(!dt)return this.fire(new a.ErrorEvent(new Error("The layer '"+Ge+"' does not exist in the map's style and cannot be queried for features."))),[];Je[dt.source]=!0}}var _t=[];ge.availableImages=this._availableImages;for(var Yt in this.sourceCaches)ge.layers&&!Je[Yt]||_t.push(ee(this.sourceCaches[Yt],this._layers,this._serializedLayers,ne,ge,Ne));return this.placement&&_t.push(q(this._layers,this._serializedLayers,this.sourceCaches,ne,ge,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(_t)},X.prototype.querySourceFeatures=function(ne,ge){ge&&ge.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",ge.filter,null,ge);var Ne=this.sourceCaches[ne];return Ne?le(Ne,ge):[]},X.prototype.addSourceType=function(ne,ge,Ne){if(X.getSourceType(ne))return Ne(new Error('A source type called "'+ne+'" already exists.'));if(X.setSourceType(ne,ge),!ge.workerSourceURL)return Ne(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:ne,url:ge.workerSourceURL},Ne)},X.prototype.getLight=function(){return this.light.getLight()},X.prototype.setLight=function(ne,ge){ge===void 0&&(ge={}),this._checkLoaded();var Ne=this.light.getLight(),Je=!1;for(var De in ne)if(!a.deepEqual(ne[De],Ne[De])){Je=!0;break}if(Je){var xe={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(ne,ge),this.light.updateTransitions(xe)}},X.prototype._validate=function(ne,ge,Ne,Je,De){return De===void 0&&(De={}),De&&De.validate===!1?!1:la(this,ne.call(a.validateStyle,a.extend({key:ge,style:this.serialize(),value:Ne,styleSpec:a.styleSpec},Je)))},X.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var ne in this._layers){var ge=this._layers[ne];ge.setEventedParent(null)}for(var Ne in this.sourceCaches)this.sourceCaches[Ne].clearTiles(),this.sourceCaches[Ne].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},X.prototype._clearSource=function(ne){this.sourceCaches[ne].clearTiles()},X.prototype._reloadSource=function(ne){this.sourceCaches[ne].resume(),this.sourceCaches[ne].reload()},X.prototype._updateSources=function(ne){for(var ge in this.sourceCaches)this.sourceCaches[ge].update(ne)},X.prototype._generateCollisionBoxes=function(){for(var ne in this.sourceCaches)this._reloadSource(ne)},X.prototype._updatePlacement=function(ne,ge,Ne,Je,De){De===void 0&&(De=!1);for(var xe=!1,Ge=!1,dt={},_t=0,Yt=this._order;_t<Yt.length;_t+=1){var qt=Yt[_t],yr=this._layers[qt];if(yr.type==="symbol"){if(!dt[yr.source]){var Ar=this.sourceCaches[yr.source];dt[yr.source]=Ar.getRenderableIds(!0).map(function(In){return Ar.getTileByID(In)}).sort(function(In,On){return On.tileID.overscaledZ-In.tileID.overscaledZ||(In.tileID.isLessThan(On.tileID)?-1:1)})}var kr=this.crossTileSymbolIndex.addLayer(yr,dt[yr.source],ne.center.lng);xe=xe||kr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),De=De||this._layerOrderChanged||Ne===0,(De||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),ne.zoom))&&(this.pauseablePlacement=new Kn(ne,this._order,De,ge,Ne,Je,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,dt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),Ge=!0),xe&&this.pauseablePlacement.placement.setStale()),Ge||xe)for(var Or=0,$r=this._order;Or<$r.length;Or+=1){var gn=$r[Or],An=this._layers[gn];An.type==="symbol"&&this.placement.updateLayerOpacities(An,dt[An.source])}var Nn=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now());return Nn},X.prototype._releaseSymbolFadeTiles=function(){for(var ne in this.sourceCaches)this.sourceCaches[ne].releaseSymbolFadeTiles()},X.prototype.getImages=function(ne,ge,Ne){this.imageManager.getImages(ge.icons,Ne),this._updateTilesForChangedImages();var Je=this.sourceCaches[ge.source];Je&&Je.setDependencies(ge.tileID.key,ge.type,ge.icons)},X.prototype.getGlyphs=function(ne,ge,Ne){this.glyphManager.getGlyphs(ge.stacks,Ne)},X.prototype.getResource=function(ne,ge,Ne){return a.makeRequest(ge,Ne)},X}(a.Evented);po.getSourceType=Z,po.setSourceType=$,po.registerForPluginStateChange=a.registerForPluginStateChange;var Ro=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),Qi=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,gu=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,qa=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,yu="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",Ml=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,qi="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",bo=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,lc=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,mu="void main() {gl_FragColor=vec4(1.0);}",ki="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",$l=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ro=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,eo=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,Ho="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",so="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",Jo="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",Qo="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",qo="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",lo="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",Xu="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",Es=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Zi=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,mf=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ms=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,es=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,xu=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,xf=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Uc=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,Cl=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,uc=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,bu=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,bf=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,wf=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,fc="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",Hc=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,cc="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",hc=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Jl=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Tf=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ll=`
#define MAX_LINE_DISTANCE 32767.0
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Pl=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,_l=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,wu=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,vc=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,Ws=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Af="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",Sf=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Vc=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,Vo=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Rl=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,Dl=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ql=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,Cs=yi(Qi,gu),Ls=yi(qa,yu),Ef=yi(Ml,qi),ql=yi(bo,lc),sl=yi(mu,ki),Bi=yi($l,ro),Mf=yi(eo,Ho),Ku=yi(so,Jo),eu=yi(Qo,qo),dc=yi(lo,Xu),Cf=yi(Es,Zi),Il=yi(mf,Ms),Ys=yi(es,xu),no=yi(xf,Uc),$u=yi(Cl,uc),Gc=yi(bu,bf),Lf=yi(wf,fc),Pf=yi(Hc,cc),Tu=yi(hc,Jl),tu=yi(Tf,Ll),pc=yi(Pl,_l),js=yi(wu,vc),kl=yi(Ws,Af),_f=yi(Sf,Vc),Au=yi(Vo,Rl),Rf=yi(Dl,Ql);function yi(ve,X){var pe=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,ne={};return ve=ve.replace(pe,function(ge,Ne,Je,De,xe){return ne[xe]=!0,Ne==="define"?`
#ifndef HAS_UNIFORM_u_`+xe+`
varying `+Je+" "+De+" "+xe+`;
#else
uniform `+Je+" "+De+" u_"+xe+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+xe+`
    `+Je+" "+De+" "+xe+" = u_"+xe+`;
#endif
`}),X=X.replace(pe,function(ge,Ne,Je,De,xe){var Ge=De==="float"?"vec2":"vec4",dt=xe.match(/color/)?"color":Ge;return ne[xe]?Ne==="define"?`
#ifndef HAS_UNIFORM_u_`+xe+`
uniform lowp float u_`+xe+`_t;
attribute `+Je+" "+Ge+" a_"+xe+`;
varying `+Je+" "+De+" "+xe+`;
#else
uniform `+Je+" "+De+" u_"+xe+`;
#endif
`:dt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+xe+`
    `+xe+" = a_"+xe+`;
#else
    `+Je+" "+De+" "+xe+" = u_"+xe+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+xe+`
    `+xe+" = unpack_mix_"+dt+"(a_"+xe+", u_"+xe+`_t);
#else
    `+Je+" "+De+" "+xe+" = u_"+xe+`;
#endif
`:Ne==="define"?`
#ifndef HAS_UNIFORM_u_`+xe+`
uniform lowp float u_`+xe+`_t;
attribute `+Je+" "+Ge+" a_"+xe+`;
#else
uniform `+Je+" "+De+" u_"+xe+`;
#endif
`:dt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+xe+`
    `+Je+" "+De+" "+xe+" = a_"+xe+`;
#else
    `+Je+" "+De+" "+xe+" = u_"+xe+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+xe+`
    `+Je+" "+De+" "+xe+" = unpack_mix_"+dt+"(a_"+xe+", u_"+xe+`_t);
#else
    `+Je+" "+De+" "+xe+" = u_"+xe+`;
#endif
`}),{fragmentSource:ve,vertexSource:X}}var gc=Object.freeze({__proto__:null,prelude:Cs,background:Ls,backgroundPattern:Ef,circle:ql,clippingMask:sl,heatmap:Bi,heatmapTexture:Mf,collisionBox:Ku,collisionCircle:eu,debug:dc,fill:Cf,fillOutline:Il,fillOutlinePattern:Ys,fillPattern:no,fillExtrusion:$u,fillExtrusionPattern:Gc,hillshadePrepare:Lf,hillshade:Pf,line:Tu,lineGradient:tu,linePattern:pc,lineSDF:js,raster:kl,symbolIcon:_f,symbolSDF:Au,symbolTextAndIcon:Rf}),fs=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};fs.prototype.bind=function(X,pe,ne,ge,Ne,Je,De,xe){this.context=X;for(var Ge=this.boundPaintVertexBuffers.length!==ge.length,dt=0;!Ge&&dt<ge.length;dt++)this.boundPaintVertexBuffers[dt]!==ge[dt]&&(Ge=!0);var _t=!this.vao||this.boundProgram!==pe||this.boundLayoutVertexBuffer!==ne||Ge||this.boundIndexBuffer!==Ne||this.boundVertexOffset!==Je||this.boundDynamicVertexBuffer!==De||this.boundDynamicVertexBuffer2!==xe;!X.extVertexArrayObject||_t?this.freshBind(pe,ne,ge,Ne,Je,De,xe):(X.bindVertexArrayOES.set(this.vao),De&&De.bind(),Ne&&Ne.dynamicDraw&&Ne.bind(),xe&&xe.bind())},fs.prototype.freshBind=function(X,pe,ne,ge,Ne,Je,De){var xe,Ge=X.numAttributes,dt=this.context,_t=dt.gl;if(dt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=dt.extVertexArrayObject.createVertexArrayOES(),dt.bindVertexArrayOES.set(this.vao),xe=0,this.boundProgram=X,this.boundLayoutVertexBuffer=pe,this.boundPaintVertexBuffers=ne,this.boundIndexBuffer=ge,this.boundVertexOffset=Ne,this.boundDynamicVertexBuffer=Je,this.boundDynamicVertexBuffer2=De;else{xe=dt.currentNumAttributes||0;for(var Yt=Ge;Yt<xe;Yt++)_t.disableVertexAttribArray(Yt)}pe.enableAttributes(_t,X);for(var qt=0,yr=ne;qt<yr.length;qt+=1){var Ar=yr[qt];Ar.enableAttributes(_t,X)}Je&&Je.enableAttributes(_t,X),De&&De.enableAttributes(_t,X),pe.bind(),pe.setVertexAttribPointers(_t,X,Ne);for(var kr=0,Or=ne;kr<Or.length;kr+=1){var $r=Or[kr];$r.bind(),$r.setVertexAttribPointers(_t,X,Ne)}Je&&(Je.bind(),Je.setVertexAttribPointers(_t,X,Ne)),ge&&ge.bind(),De&&(De.bind(),De.setVertexAttribPointers(_t,X,Ne)),dt.currentNumAttributes=Ge},fs.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var ru=function(X,pe,ne,ge,Ne){var Je=X.gl;this.program=Je.createProgram();var De=ne?ne.defines():[];Ne&&De.push("#define OVERDRAW_INSPECTOR;");var xe=De.concat(Cs.fragmentSource,pe.fragmentSource).join(`
`),Ge=De.concat(Cs.vertexSource,pe.vertexSource).join(`
`),dt=Je.createShader(Je.FRAGMENT_SHADER);if(Je.isContextLost()){this.failedToCreate=!0;return}Je.shaderSource(dt,xe),Je.compileShader(dt),Je.attachShader(this.program,dt);var _t=Je.createShader(Je.VERTEX_SHADER);if(Je.isContextLost()){this.failedToCreate=!0;return}Je.shaderSource(_t,Ge),Je.compileShader(_t),Je.attachShader(this.program,_t);for(var Yt=ne?ne.layoutAttributes:[],qt=0;qt<Yt.length;qt++)Je.bindAttribLocation(this.program,qt,Yt[qt].name);Je.linkProgram(this.program),Je.deleteShader(_t),Je.deleteShader(dt),this.numAttributes=Je.getProgramParameter(this.program,Je.ACTIVE_ATTRIBUTES),this.attributes={};for(var yr={},Ar=0;Ar<this.numAttributes;Ar++){var kr=Je.getActiveAttrib(this.program,Ar);kr&&(this.attributes[kr.name]=Je.getAttribLocation(this.program,kr.name))}for(var Or=Je.getProgramParameter(this.program,Je.ACTIVE_UNIFORMS),$r=0;$r<Or;$r++){var gn=Je.getActiveUniform(this.program,$r);gn&&(yr[gn.name]=Je.getUniformLocation(this.program,gn.name))}this.fixedUniforms=ge(X,yr),this.binderUniforms=ne?ne.getUniforms(X,yr):[]};ru.prototype.draw=function(X,pe,ne,ge,Ne,Je,De,xe,Ge,dt,_t,Yt,qt,yr,Ar,kr){var Or,$r=X.gl;if(!this.failedToCreate){X.program.set(this.program),X.setDepthMode(ne),X.setStencilMode(ge),X.setColorMode(Ne),X.setCullFace(Je);for(var gn in this.fixedUniforms)this.fixedUniforms[gn].set(De[gn]);yr&&yr.setUniforms(X,this.binderUniforms,Yt,{zoom:qt});for(var An=(Or={},Or[$r.LINES]=2,Or[$r.TRIANGLES]=3,Or[$r.LINE_STRIP]=1,Or)[pe],Nn=0,In=_t.get();Nn<In.length;Nn+=1){var On=In[Nn],Yn=On.vaos||(On.vaos={}),ta=Yn[xe]||(Yn[xe]=new fs);ta.bind(X,this,Ge,yr?yr.getPaintVertexBuffers():[],dt,On.vertexOffset,Ar,kr),$r.drawElements(pe,On.primitiveLength*An,$r.UNSIGNED_SHORT,On.primitiveOffset*An*2)}}};function Ol(ve,X,pe){var ne=1/mn(pe,1,X.transform.tileZoom),ge=Math.pow(2,pe.tileID.overscaledZ),Ne=pe.tileSize*Math.pow(2,X.transform.tileZoom)/ge,Je=Ne*(pe.tileID.canonical.x+pe.tileID.wrap*ge),De=Ne*pe.tileID.canonical.y;return{u_image:0,u_texsize:pe.imageAtlasTexture.size,u_scale:[ne,ve.fromScale,ve.toScale],u_fade:ve.t,u_pixel_coord_upper:[Je>>16,De>>16],u_pixel_coord_lower:[Je&65535,De&65535]}}function Df(ve,X,pe,ne){var ge=pe.imageManager.getPattern(ve.from.toString()),Ne=pe.imageManager.getPattern(ve.to.toString()),Je=pe.imageManager.getPixelSize(),De=Je.width,xe=Je.height,Ge=Math.pow(2,ne.tileID.overscaledZ),dt=ne.tileSize*Math.pow(2,pe.transform.tileZoom)/Ge,_t=dt*(ne.tileID.canonical.x+ne.tileID.wrap*Ge),Yt=dt*ne.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:ge.tl,u_pattern_br_a:ge.br,u_pattern_tl_b:Ne.tl,u_pattern_br_b:Ne.br,u_texsize:[De,xe],u_mix:X.t,u_pattern_size_a:ge.displaySize,u_pattern_size_b:Ne.displaySize,u_scale_a:X.fromScale,u_scale_b:X.toScale,u_tile_units_to_pixels:1/mn(ne,1,pe.transform.tileZoom),u_pixel_coord_upper:[_t>>16,Yt>>16],u_pixel_coord_lower:[_t&65535,Yt&65535]}}var Ui=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_lightpos:new a.Uniform3f(ve,X.u_lightpos),u_lightintensity:new a.Uniform1f(ve,X.u_lightintensity),u_lightcolor:new a.Uniform3f(ve,X.u_lightcolor),u_vertical_gradient:new a.Uniform1f(ve,X.u_vertical_gradient),u_opacity:new a.Uniform1f(ve,X.u_opacity)}},nu=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_lightpos:new a.Uniform3f(ve,X.u_lightpos),u_lightintensity:new a.Uniform1f(ve,X.u_lightintensity),u_lightcolor:new a.Uniform3f(ve,X.u_lightcolor),u_vertical_gradient:new a.Uniform1f(ve,X.u_vertical_gradient),u_height_factor:new a.Uniform1f(ve,X.u_height_factor),u_image:new a.Uniform1i(ve,X.u_image),u_texsize:new a.Uniform2f(ve,X.u_texsize),u_pixel_coord_upper:new a.Uniform2f(ve,X.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(ve,X.u_pixel_coord_lower),u_scale:new a.Uniform3f(ve,X.u_scale),u_fade:new a.Uniform1f(ve,X.u_fade),u_opacity:new a.Uniform1f(ve,X.u_opacity)}},Do=function(ve,X,pe,ne){var ge=X.style.light,Ne=ge.properties.get("position"),Je=[Ne.x,Ne.y,Ne.z],De=a.create$1();ge.properties.get("anchor")==="viewport"&&a.fromRotation(De,-X.transform.angle),a.transformMat3(Je,Je,De);var xe=ge.properties.get("color");return{u_matrix:ve,u_lightpos:Je,u_lightintensity:ge.properties.get("intensity"),u_lightcolor:[xe.r,xe.g,xe.b],u_vertical_gradient:+pe,u_opacity:ne}},Io=function(ve,X,pe,ne,ge,Ne,Je){return a.extend(Do(ve,X,pe,ne),Ol(Ne,X,Je),{u_height_factor:-Math.pow(2,ge.overscaledZ)/Je.tileSize/8})},Zs=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix)}},ll=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_image:new a.Uniform1i(ve,X.u_image),u_texsize:new a.Uniform2f(ve,X.u_texsize),u_pixel_coord_upper:new a.Uniform2f(ve,X.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(ve,X.u_pixel_coord_lower),u_scale:new a.Uniform3f(ve,X.u_scale),u_fade:new a.Uniform1f(ve,X.u_fade)}},ul=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_world:new a.Uniform2f(ve,X.u_world)}},fl=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_world:new a.Uniform2f(ve,X.u_world),u_image:new a.Uniform1i(ve,X.u_image),u_texsize:new a.Uniform2f(ve,X.u_texsize),u_pixel_coord_upper:new a.Uniform2f(ve,X.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(ve,X.u_pixel_coord_lower),u_scale:new a.Uniform3f(ve,X.u_scale),u_fade:new a.Uniform1f(ve,X.u_fade)}},cs=function(ve){return{u_matrix:ve}},go=function(ve,X,pe,ne){return a.extend(cs(ve),Ol(pe,X,ne))},Su=function(ve,X){return{u_matrix:ve,u_world:X}},cl=function(ve,X,pe,ne,ge){return a.extend(go(ve,X,pe,ne),{u_world:ge})},Ju=function(ve,X){return{u_camera_to_center_distance:new a.Uniform1f(ve,X.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(ve,X.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(ve,X.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(ve,X.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(ve,X.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(ve,X.u_matrix)}},Wc=function(ve,X,pe,ne){var ge=ve.transform,Ne,Je;if(ne.paint.get("circle-pitch-alignment")==="map"){var De=mn(pe,1,ge.zoom);Ne=!0,Je=[De,De]}else Ne=!1,Je=ge.pixelsToGLUnits;return{u_camera_to_center_distance:ge.cameraToCenterDistance,u_scale_with_map:+(ne.paint.get("circle-pitch-scale")==="map"),u_matrix:ve.translatePosMatrix(X.posMatrix,pe,ne.paint.get("circle-translate"),ne.paint.get("circle-translate-anchor")),u_pitch_with_map:+Ne,u_device_pixel_ratio:a.browser.devicePixelRatio,u_extrude_scale:Je}},Yc=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_camera_to_center_distance:new a.Uniform1f(ve,X.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(ve,X.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(ve,X.u_extrude_scale),u_overscale_factor:new a.Uniform1f(ve,X.u_overscale_factor)}},jc=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_inv_matrix:new a.UniformMatrix4f(ve,X.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(ve,X.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(ve,X.u_viewport_size)}},Zc=function(ve,X,pe){var ne=mn(pe,1,X.zoom),ge=Math.pow(2,X.zoom-pe.tileID.overscaledZ),Ne=pe.tileID.overscaleFactor();return{u_matrix:ve,u_camera_to_center_distance:X.cameraToCenterDistance,u_pixels_to_tile_units:ne,u_extrude_scale:[X.pixelsToGLUnits[0]/(ne*ge),X.pixelsToGLUnits[1]/(ne*ge)],u_overscale_factor:Ne}},Qu=function(ve,X,pe){return{u_matrix:ve,u_inv_matrix:X,u_camera_to_center_distance:pe.cameraToCenterDistance,u_viewport_size:[pe.width,pe.height]}},yc=function(ve,X){return{u_color:new a.UniformColor(ve,X.u_color),u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_overlay:new a.Uniform1i(ve,X.u_overlay),u_overlay_scale:new a.Uniform1f(ve,X.u_overlay_scale)}},au=function(ve,X,pe){return pe===void 0&&(pe=1),{u_matrix:ve,u_color:X,u_overlay:0,u_overlay_scale:pe}},uo=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix)}},ko=function(ve){return{u_matrix:ve}},Eu=function(ve,X){return{u_extrude_scale:new a.Uniform1f(ve,X.u_extrude_scale),u_intensity:new a.Uniform1f(ve,X.u_intensity),u_matrix:new a.UniformMatrix4f(ve,X.u_matrix)}},zl=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_world:new a.Uniform2f(ve,X.u_world),u_image:new a.Uniform1i(ve,X.u_image),u_color_ramp:new a.Uniform1i(ve,X.u_color_ramp),u_opacity:new a.Uniform1f(ve,X.u_opacity)}},Mu=function(ve,X,pe,ne){return{u_matrix:ve,u_extrude_scale:mn(X,1,pe),u_intensity:ne}},Oo=function(ve,X,pe,ne){var ge=a.create();a.ortho(ge,0,ve.width,ve.height,0,0,1);var Ne=ve.context.gl;return{u_matrix:ge,u_world:[Ne.drawingBufferWidth,Ne.drawingBufferHeight],u_image:pe,u_color_ramp:ne,u_opacity:X.paint.get("heatmap-opacity")}},mc=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_image:new a.Uniform1i(ve,X.u_image),u_latrange:new a.Uniform2f(ve,X.u_latrange),u_light:new a.Uniform2f(ve,X.u_light),u_shadow:new a.UniformColor(ve,X.u_shadow),u_highlight:new a.UniformColor(ve,X.u_highlight),u_accent:new a.UniformColor(ve,X.u_accent)}},xc=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_image:new a.Uniform1i(ve,X.u_image),u_dimension:new a.Uniform2f(ve,X.u_dimension),u_zoom:new a.Uniform1f(ve,X.u_zoom),u_maxzoom:new a.Uniform1f(ve,X.u_maxzoom),u_unpack:new a.Uniform4f(ve,X.u_unpack)}},If=function(ve,X,pe){var ne=pe.paint.get("hillshade-shadow-color"),ge=pe.paint.get("hillshade-highlight-color"),Ne=pe.paint.get("hillshade-accent-color"),Je=pe.paint.get("hillshade-illumination-direction")*(Math.PI/180);pe.paint.get("hillshade-illumination-anchor")==="viewport"&&(Je-=ve.transform.angle);var De=!ve.options.moving;return{u_matrix:ve.transform.calculatePosMatrix(X.tileID.toUnwrapped(),De),u_image:0,u_latrange:hl(ve,X.tileID),u_light:[pe.paint.get("hillshade-exaggeration"),Je],u_shadow:ne,u_highlight:ge,u_accent:Ne}},qu=function(ve,X,pe){var ne=X.stride,ge=a.create();return a.ortho(ge,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(ge,ge,[0,-a.EXTENT,0]),{u_matrix:ge,u_image:1,u_dimension:[ne,ne],u_zoom:ve.overscaledZ,u_maxzoom:pe,u_unpack:X.getUnpackVector()}};function hl(ve,X){var pe=Math.pow(2,X.canonical.z),ne=X.canonical.y;return[new a.MercatorCoordinate(0,ne/pe).toLngLat().lat,new a.MercatorCoordinate(0,(ne+1)/pe).toLngLat().lat]}var Vi=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_ratio:new a.Uniform1f(ve,X.u_ratio),u_device_pixel_ratio:new a.Uniform1f(ve,X.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(ve,X.u_units_to_pixels)}},hs=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_ratio:new a.Uniform1f(ve,X.u_ratio),u_device_pixel_ratio:new a.Uniform1f(ve,X.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(ve,X.u_units_to_pixels),u_image:new a.Uniform1i(ve,X.u_image)}},kf=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_texsize:new a.Uniform2f(ve,X.u_texsize),u_ratio:new a.Uniform1f(ve,X.u_ratio),u_device_pixel_ratio:new a.Uniform1f(ve,X.u_device_pixel_ratio),u_image:new a.Uniform1i(ve,X.u_image),u_units_to_pixels:new a.Uniform2f(ve,X.u_units_to_pixels),u_scale:new a.Uniform3f(ve,X.u_scale),u_fade:new a.Uniform1f(ve,X.u_fade)}},Xc=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_ratio:new a.Uniform1f(ve,X.u_ratio),u_device_pixel_ratio:new a.Uniform1f(ve,X.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(ve,X.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(ve,X.u_patternscale_a),u_patternscale_b:new a.Uniform2f(ve,X.u_patternscale_b),u_sdfgamma:new a.Uniform1f(ve,X.u_sdfgamma),u_image:new a.Uniform1i(ve,X.u_image),u_tex_y_a:new a.Uniform1f(ve,X.u_tex_y_a),u_tex_y_b:new a.Uniform1f(ve,X.u_tex_y_b),u_mix:new a.Uniform1f(ve,X.u_mix)}},Ps=function(ve,X,pe){var ne=ve.transform;return{u_matrix:_s(ve,X,pe),u_ratio:1/mn(X,1,ne.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_units_to_pixels:[1/ne.pixelsToGLUnits[0],1/ne.pixelsToGLUnits[1]]}},ef=function(ve,X,pe){return a.extend(Ps(ve,X,pe),{u_image:0})},vs=function(ve,X,pe,ne){var ge=ve.transform,Ne=Xs(X,ge);return{u_matrix:_s(ve,X,pe),u_texsize:X.imageAtlasTexture.size,u_ratio:1/mn(X,1,ge.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_image:0,u_scale:[Ne,ne.fromScale,ne.toScale],u_fade:ne.t,u_units_to_pixels:[1/ge.pixelsToGLUnits[0],1/ge.pixelsToGLUnits[1]]}},tf=function(ve,X,pe,ne,ge){var Ne=ve.transform,Je=ve.lineAtlas,De=Xs(X,Ne),xe=pe.layout.get("line-cap")==="round",Ge=Je.getDash(ne.from,xe),dt=Je.getDash(ne.to,xe),_t=Ge.width*ge.fromScale,Yt=dt.width*ge.toScale;return a.extend(Ps(ve,X,pe),{u_patternscale_a:[De/_t,-Ge.height/2],u_patternscale_b:[De/Yt,-dt.height/2],u_sdfgamma:Je.width/(Math.min(_t,Yt)*256*a.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Ge.y,u_tex_y_b:dt.y,u_mix:ge.t})};function Xs(ve,X){return 1/mn(ve,1,X.tileZoom)}function _s(ve,X,pe){return ve.translatePosMatrix(X.tileID.posMatrix,X,pe.paint.get("line-translate"),pe.paint.get("line-translate-anchor"))}var Of=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_tl_parent:new a.Uniform2f(ve,X.u_tl_parent),u_scale_parent:new a.Uniform1f(ve,X.u_scale_parent),u_buffer_scale:new a.Uniform1f(ve,X.u_buffer_scale),u_fade_t:new a.Uniform1f(ve,X.u_fade_t),u_opacity:new a.Uniform1f(ve,X.u_opacity),u_image0:new a.Uniform1i(ve,X.u_image0),u_image1:new a.Uniform1i(ve,X.u_image1),u_brightness_low:new a.Uniform1f(ve,X.u_brightness_low),u_brightness_high:new a.Uniform1f(ve,X.u_brightness_high),u_saturation_factor:new a.Uniform1f(ve,X.u_saturation_factor),u_contrast_factor:new a.Uniform1f(ve,X.u_contrast_factor),u_spin_weights:new a.Uniform3f(ve,X.u_spin_weights)}},iu=function(ve,X,pe,ne,ge){return{u_matrix:ve,u_tl_parent:X,u_scale_parent:pe,u_buffer_scale:1,u_fade_t:ne.mix,u_opacity:ne.opacity*ge.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:ge.paint.get("raster-brightness-min"),u_brightness_high:ge.paint.get("raster-brightness-max"),u_saturation_factor:Cu(ge.paint.get("raster-saturation")),u_contrast_factor:vl(ge.paint.get("raster-contrast")),u_spin_weights:fi(ge.paint.get("raster-hue-rotate"))}};function fi(ve){ve*=Math.PI/180;var X=Math.sin(ve),pe=Math.cos(ve);return[(2*pe+1)/3,(-Math.sqrt(3)*X-pe+1)/3,(Math.sqrt(3)*X-pe+1)/3]}function vl(ve){return ve>0?1/(1-ve):1+ve}function Cu(ve){return ve>0?1-1/(1.001-ve):-ve}var Fl=function(ve,X){return{u_is_size_zoom_constant:new a.Uniform1i(ve,X.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(ve,X.u_is_size_feature_constant),u_size_t:new a.Uniform1f(ve,X.u_size_t),u_size:new a.Uniform1f(ve,X.u_size),u_camera_to_center_distance:new a.Uniform1f(ve,X.u_camera_to_center_distance),u_pitch:new a.Uniform1f(ve,X.u_pitch),u_rotate_symbol:new a.Uniform1i(ve,X.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(ve,X.u_aspect_ratio),u_fade_change:new a.Uniform1f(ve,X.u_fade_change),u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(ve,X.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(ve,X.u_coord_matrix),u_is_text:new a.Uniform1i(ve,X.u_is_text),u_pitch_with_map:new a.Uniform1i(ve,X.u_pitch_with_map),u_texsize:new a.Uniform2f(ve,X.u_texsize),u_texture:new a.Uniform1i(ve,X.u_texture)}},Ks=function(ve,X){return{u_is_size_zoom_constant:new a.Uniform1i(ve,X.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(ve,X.u_is_size_feature_constant),u_size_t:new a.Uniform1f(ve,X.u_size_t),u_size:new a.Uniform1f(ve,X.u_size),u_camera_to_center_distance:new a.Uniform1f(ve,X.u_camera_to_center_distance),u_pitch:new a.Uniform1f(ve,X.u_pitch),u_rotate_symbol:new a.Uniform1i(ve,X.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(ve,X.u_aspect_ratio),u_fade_change:new a.Uniform1f(ve,X.u_fade_change),u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(ve,X.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(ve,X.u_coord_matrix),u_is_text:new a.Uniform1i(ve,X.u_is_text),u_pitch_with_map:new a.Uniform1i(ve,X.u_pitch_with_map),u_texsize:new a.Uniform2f(ve,X.u_texsize),u_texture:new a.Uniform1i(ve,X.u_texture),u_gamma_scale:new a.Uniform1f(ve,X.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(ve,X.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(ve,X.u_is_halo)}},zf=function(ve,X){return{u_is_size_zoom_constant:new a.Uniform1i(ve,X.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(ve,X.u_is_size_feature_constant),u_size_t:new a.Uniform1f(ve,X.u_size_t),u_size:new a.Uniform1f(ve,X.u_size),u_camera_to_center_distance:new a.Uniform1f(ve,X.u_camera_to_center_distance),u_pitch:new a.Uniform1f(ve,X.u_pitch),u_rotate_symbol:new a.Uniform1i(ve,X.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(ve,X.u_aspect_ratio),u_fade_change:new a.Uniform1f(ve,X.u_fade_change),u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(ve,X.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(ve,X.u_coord_matrix),u_is_text:new a.Uniform1i(ve,X.u_is_text),u_pitch_with_map:new a.Uniform1i(ve,X.u_pitch_with_map),u_texsize:new a.Uniform2f(ve,X.u_texsize),u_texsize_icon:new a.Uniform2f(ve,X.u_texsize_icon),u_texture:new a.Uniform1i(ve,X.u_texture),u_texture_icon:new a.Uniform1i(ve,X.u_texture_icon),u_gamma_scale:new a.Uniform1f(ve,X.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(ve,X.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(ve,X.u_is_halo)}},Ff=function(ve,X,pe,ne,ge,Ne,Je,De,xe,Ge){var dt=ge.transform;return{u_is_size_zoom_constant:+(ve==="constant"||ve==="source"),u_is_size_feature_constant:+(ve==="constant"||ve==="camera"),u_size_t:X?X.uSizeT:0,u_size:X?X.uSize:0,u_camera_to_center_distance:dt.cameraToCenterDistance,u_pitch:dt.pitch/360*2*Math.PI,u_rotate_symbol:+pe,u_aspect_ratio:dt.width/dt.height,u_fade_change:ge.options.fadeDuration?ge.symbolFadeChange:1,u_matrix:Ne,u_label_plane_matrix:Je,u_coord_matrix:De,u_is_text:+xe,u_pitch_with_map:+ne,u_texsize:Ge,u_texture:0}},Lu=function(ve,X,pe,ne,ge,Ne,Je,De,xe,Ge,dt){var _t=ge.transform;return a.extend(Ff(ve,X,pe,ne,ge,Ne,Je,De,xe,Ge),{u_gamma_scale:ne?Math.cos(_t._pitch)*_t.cameraToCenterDistance:1,u_device_pixel_ratio:a.browser.devicePixelRatio,u_is_halo:+dt})},zo=function(ve,X,pe,ne,ge,Ne,Je,De,xe,Ge){return a.extend(Lu(ve,X,pe,ne,ge,Ne,Je,De,!0,xe,!0),{u_texsize_icon:Ge,u_texture_icon:1})},bc=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_opacity:new a.Uniform1f(ve,X.u_opacity),u_color:new a.UniformColor(ve,X.u_color)}},$s=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_opacity:new a.Uniform1f(ve,X.u_opacity),u_image:new a.Uniform1i(ve,X.u_image),u_pattern_tl_a:new a.Uniform2f(ve,X.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(ve,X.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(ve,X.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(ve,X.u_pattern_br_b),u_texsize:new a.Uniform2f(ve,X.u_texsize),u_mix:new a.Uniform1f(ve,X.u_mix),u_pattern_size_a:new a.Uniform2f(ve,X.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(ve,X.u_pattern_size_b),u_scale_a:new a.Uniform1f(ve,X.u_scale_a),u_scale_b:new a.Uniform1f(ve,X.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(ve,X.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(ve,X.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(ve,X.u_tile_units_to_pixels)}},dl=function(ve,X,pe){return{u_matrix:ve,u_opacity:X,u_color:pe}},Nl=function(ve,X,pe,ne,ge,Ne){return a.extend(Df(ne,Ne,pe,ge),{u_matrix:ve,u_opacity:X})},pl={fillExtrusion:Ui,fillExtrusionPattern:nu,fill:Zs,fillPattern:ll,fillOutline:ul,fillOutlinePattern:fl,circle:Ju,collisionBox:Yc,collisionCircle:jc,debug:yc,clippingMask:uo,heatmap:Eu,heatmapTexture:zl,hillshade:mc,hillshadePrepare:xc,line:Vi,lineGradient:hs,linePattern:kf,lineSDF:Xc,raster:Of,symbolIcon:Fl,symbolSDF:Ks,symbolTextAndIcon:zf,background:bc,backgroundPattern:$s},wo;function Go(ve,X,pe,ne,ge,Ne,Je){for(var De=ve.context,xe=De.gl,Ge=ve.useProgram("collisionBox"),dt=[],_t=0,Yt=0,qt=0;qt<ne.length;qt++){var yr=ne[qt],Ar=X.getTile(yr),kr=Ar.getBucket(pe);if(kr){var Or=yr.posMatrix;(ge[0]!==0||ge[1]!==0)&&(Or=ve.translatePosMatrix(yr.posMatrix,Ar,ge,Ne));var $r=Je?kr.textCollisionBox:kr.iconCollisionBox,gn=kr.collisionCircleArray;if(gn.length>0){var An=a.create(),Nn=Or;a.mul(An,kr.placementInvProjMatrix,ve.transform.glCoordMatrix),a.mul(An,An,kr.placementViewportMatrix),dt.push({circleArray:gn,circleOffset:Yt,transform:Nn,invTransform:An}),_t+=gn.length/4,Yt=_t}$r&&Ge.draw(De,xe.LINES,wr.disabled,er.disabled,ve.colorModeForRenderPass(),zt.disabled,Zc(Or,ve.transform,Ar),pe.id,$r.layoutVertexBuffer,$r.indexBuffer,$r.segments,null,ve.transform.zoom,null,null,$r.collisionVertexBuffer)}}if(!(!Je||!dt.length)){var In=ve.useProgram("collisionCircle"),On=new a.StructArrayLayout2f1f2i16;On.resize(_t*4),On._trim();for(var Yn=0,ta=0,qn=dt;ta<qn.length;ta+=1)for(var $n=qn[ta],ia=0;ia<$n.circleArray.length/4;ia++){var da=ia*4,La=$n.circleArray[da+0],ja=$n.circleArray[da+1],Oa=$n.circleArray[da+2],Va=$n.circleArray[da+3];On.emplace(Yn++,La,ja,Oa,Va,0),On.emplace(Yn++,La,ja,Oa,Va,1),On.emplace(Yn++,La,ja,Oa,Va,2),On.emplace(Yn++,La,ja,Oa,Va,3)}(!wo||wo.length<_t*2)&&(wo=Bl(_t));for(var ga=De.createIndexBuffer(wo,!0),Ja=De.createVertexBuffer(On,a.collisionCircleLayout.members,!0),Ka=0,ai=dt;Ka<ai.length;Ka+=1){var Qa=ai[Ka],ti=Qu(Qa.transform,Qa.invTransform,ve.transform);In.draw(De,xe.TRIANGLES,wr.disabled,er.disabled,ve.colorModeForRenderPass(),zt.disabled,ti,pe.id,Ja,ga,a.SegmentVector.simpleSegment(0,Qa.circleOffset*2,Qa.circleArray.length,Qa.circleArray.length/2),null,ve.transform.zoom,null,null,null)}Ja.destroy(),ga.destroy()}}function Bl(ve){var X=ve*2,pe=new a.StructArrayLayout3ui6;pe.resize(X),pe._trim();for(var ne=0;ne<X;ne++){var ge=ne*6;pe.uint16[ge+0]=ne*4+0,pe.uint16[ge+1]=ne*4+1,pe.uint16[ge+2]=ne*4+2,pe.uint16[ge+3]=ne*4+2,pe.uint16[ge+4]=ne*4+3,pe.uint16[ge+5]=ne*4+0}return pe}var wc=a.identity(new Float32Array(16));function ou(ve,X,pe,ne,ge){if(ve.renderPass==="translucent"){var Ne=er.disabled,Je=ve.colorModeForRenderPass(),De=pe.layout.get("text-variable-anchor");De&&Tc(ne,ve,pe,X,pe.layout.get("text-rotation-alignment"),pe.layout.get("text-pitch-alignment"),ge),pe.paint.get("icon-opacity").constantOr(1)!==0&&Js(ve,X,pe,ne,!1,pe.paint.get("icon-translate"),pe.paint.get("icon-translate-anchor"),pe.layout.get("icon-rotation-alignment"),pe.layout.get("icon-pitch-alignment"),pe.layout.get("icon-keep-upright"),Ne,Je),pe.paint.get("text-opacity").constantOr(1)!==0&&Js(ve,X,pe,ne,!0,pe.paint.get("text-translate"),pe.paint.get("text-translate-anchor"),pe.layout.get("text-rotation-alignment"),pe.layout.get("text-pitch-alignment"),pe.layout.get("text-keep-upright"),Ne,Je),X.map.showCollisionBoxes&&(Go(ve,X,pe,ne,pe.paint.get("text-translate"),pe.paint.get("text-translate-anchor"),!0),Go(ve,X,pe,ne,pe.paint.get("icon-translate"),pe.paint.get("icon-translate-anchor"),!1))}}function rf(ve,X,pe,ne,ge,Ne){var Je=a.getAnchorAlignment(ve),De=Je.horizontalAlign,xe=Je.verticalAlign,Ge=-(De-.5)*X,dt=-(xe-.5)*pe,_t=a.evaluateVariableOffset(ve,ne);return new a.Point((Ge/ge+_t[0])*Ne,(dt/ge+_t[1])*Ne)}function Tc(ve,X,pe,ne,ge,Ne,Je){for(var De=X.transform,xe=ge==="map",Ge=Ne==="map",dt=0,_t=ve;dt<_t.length;dt+=1){var Yt=_t[dt],qt=ne.getTile(Yt),yr=qt.getBucket(pe);if(!(!yr||!yr.text||!yr.text.segments.get().length)){var Ar=yr.textSizeData,kr=a.evaluateSizeForZoom(Ar,De.zoom),Or=mn(qt,1,X.transform.zoom),$r=Pr(Yt.posMatrix,Ge,xe,X.transform,Or),gn=pe.layout.get("icon-text-fit")!=="none"&&yr.hasIconData();if(kr){var An=Math.pow(2,De.zoom-qt.tileID.overscaledZ);ts(yr,xe,Ge,Je,a.symbolSize,De,$r,Yt.posMatrix,An,kr,gn)}}}}function ts(ve,X,pe,ne,ge,Ne,Je,De,xe,Ge,dt){var _t=ve.text.placedSymbolArray,Yt=ve.text.dynamicLayoutVertexArray,qt=ve.icon.dynamicLayoutVertexArray,yr={};Yt.clear();for(var Ar=0;Ar<_t.length;Ar++){var kr=_t.get(Ar),Or=ve.allowVerticalPlacement&&!kr.placedOrientation,$r=!kr.hidden&&kr.crossTileID&&!Or?ne[kr.crossTileID]:null;if(!$r)Qn(kr.numGlyphs,Yt);else{var gn=new a.Point(kr.anchorX,kr.anchorY),An=Hr(gn,pe?De:Je),Nn=en(Ne.cameraToCenterDistance,An.signedDistanceFromCamera),In=ge.evaluateSizeForFeature(ve.textSizeData,Ge,kr)*Nn/a.ONE_EM;pe&&(In*=ve.tilePixelRatio/xe);for(var On=$r.width,Yn=$r.height,ta=$r.anchor,qn=$r.textOffset,$n=$r.textBoxScale,ia=rf(ta,On,Yn,qn,$n,In),da=pe?Hr(gn.add(ia),Je).point:An.point.add(X?ia.rotate(-Ne.angle):ia),La=ve.allowVerticalPlacement&&kr.placedOrientation===a.WritingMode.vertical?Math.PI/2:0,ja=0;ja<kr.numGlyphs;ja++)a.addDynamicAttributes(Yt,da,La);dt&&kr.associatedIconIndex>=0&&(yr[kr.associatedIconIndex]={shiftedAnchor:da,angle:La})}}if(dt){qt.clear();for(var Oa=ve.icon.placedSymbolArray,Va=0;Va<Oa.length;Va++){var ga=Oa.get(Va);if(ga.hidden)Qn(ga.numGlyphs,qt);else{var Ja=yr[Va];if(!Ja)Qn(ga.numGlyphs,qt);else for(var Ka=0;Ka<ga.numGlyphs;Ka++)a.addDynamicAttributes(qt,Ja.shiftedAnchor,Ja.angle)}}ve.icon.dynamicLayoutVertexBuffer.updateData(qt)}ve.text.dynamicLayoutVertexBuffer.updateData(Yt)}function Nf(ve,X,pe){return pe.iconsInText&&X?"symbolTextAndIcon":ve?"symbolSDF":"symbolIcon"}function Js(ve,X,pe,ne,ge,Ne,Je,De,xe,Ge,dt,_t){for(var Yt=ve.context,qt=Yt.gl,yr=ve.transform,Ar=De==="map",kr=xe==="map",Or=Ar&&pe.layout.get("symbol-placement")!=="point",$r=Ar&&!kr&&!Or,gn=pe.layout.get("symbol-sort-key").constantOr(1)!==void 0,An=ve.depthModeForSublayer(0,wr.ReadOnly),Nn=pe.layout.get("text-variable-anchor"),In=[],On=0,Yn=ne;On<Yn.length;On+=1){var ta=Yn[On],qn=X.getTile(ta),$n=qn.getBucket(pe);if($n){var ia=ge?$n.text:$n.icon;if(!(!ia||!ia.segments.get().length)){var da=ia.programConfigurations.get(pe.id),La=ge||$n.sdfIcons,ja=ge?$n.textSizeData:$n.iconSizeData,Oa=kr||yr.pitch!==0,Va=ve.useProgram(Nf(La,ge,$n),da),ga=a.evaluateSizeForZoom(ja,yr.zoom),Ja=void 0,Ka=[0,0],ai=void 0,Qa=void 0,ti=null,za=void 0;if(ge){if(ai=qn.glyphAtlasTexture,Qa=qt.LINEAR,Ja=qn.glyphAtlasTexture.size,$n.iconsInText){Ka=qn.imageAtlasTexture.size,ti=qn.imageAtlasTexture;var ri=ja.kind==="composite"||ja.kind==="camera";za=Oa||ve.options.rotating||ve.options.zooming||ri?qt.LINEAR:qt.NEAREST}}else{var Ci=pe.layout.get("icon-size").constantOr(0)!==1||$n.iconsNeedLinear;ai=qn.imageAtlasTexture,Qa=La||ve.options.rotating||ve.options.zooming||Ci||Oa?qt.LINEAR:qt.NEAREST,Ja=qn.imageAtlasTexture.size}var Ki=mn(qn,1,ve.transform.zoom),ks=Pr(ta.posMatrix,kr,Ar,ve.transform,Ki),as=Yr(ta.posMatrix,kr,Ar,ve.transform,Ki),qs=Nn&&$n.hasTextData(),ms=pe.layout.get("icon-text-fit")!=="none"&&qs&&$n.hasIconData();Or&&hn($n,ta.posMatrix,ve,ge,ks,as,kr,Ge);var is=ve.translatePosMatrix(ta.posMatrix,qn,Ne,Je),Os=Or||ge&&Nn||ms?wc:ks,Fo=ve.translatePosMatrix(as,qn,Ne,Je,!0),zs=La&&pe.paint.get(ge?"text-halo-width":"icon-halo-width").constantOr(1)!==0,To=void 0;La?$n.iconsInText?To=zo(ja.kind,ga,$r,kr,ve,is,Os,Fo,Ja,Ka):To=Lu(ja.kind,ga,$r,kr,ve,is,Os,Fo,ge,Ja,!0):To=Ff(ja.kind,ga,$r,kr,ve,is,Os,Fo,ge,Ja);var el={program:Va,buffers:ia,uniformValues:To,atlasTexture:ai,atlasTextureIcon:ti,atlasInterpolation:Qa,atlasInterpolationIcon:za,isSDF:La,hasHalo:zs};if(gn)for(var ml=ia.segments.get(),Vl=0,Gl=ml;Vl<Gl.length;Vl+=1){var wh=Gl[Vl];In.push({segments:new a.SegmentVector([wh]),sortKey:wh.sortKey,state:el})}else In.push({segments:ia.segments,sortKey:0,state:el})}}}gn&&In.sort(function(lu,Zf){return lu.sortKey-Zf.sortKey});for(var jf=0,Ao=In;jf<Ao.length;jf+=1){var Dc=Ao[jf],os=Dc.state;if(Yt.activeTexture.set(qt.TEXTURE0),os.atlasTexture.bind(os.atlasInterpolation,qt.CLAMP_TO_EDGE),os.atlasTextureIcon&&(Yt.activeTexture.set(qt.TEXTURE1),os.atlasTextureIcon&&os.atlasTextureIcon.bind(os.atlasInterpolationIcon,qt.CLAMP_TO_EDGE)),os.isSDF){var Jc=os.uniformValues;os.hasHalo&&(Jc.u_is_halo=1,Ul(os.buffers,Dc.segments,pe,ve,os.program,An,dt,_t,Jc)),Jc.u_is_halo=0}Ul(os.buffers,Dc.segments,pe,ve,os.program,An,dt,_t,os.uniformValues)}}function Ul(ve,X,pe,ne,ge,Ne,Je,De,xe){var Ge=ne.context,dt=Ge.gl;ge.draw(Ge,dt.TRIANGLES,Ne,Je,De,zt.disabled,xe,pe.id,ve.layoutVertexBuffer,ve.indexBuffer,X,pe.paint,ne.transform.zoom,ve.programConfigurations.get(pe.id),ve.dynamicLayoutVertexBuffer,ve.opacityVertexBuffer)}function Qs(ve,X,pe,ne){if(ve.renderPass==="translucent"){var ge=pe.paint.get("circle-opacity"),Ne=pe.paint.get("circle-stroke-width"),Je=pe.paint.get("circle-stroke-opacity"),De=pe.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(ge.constantOr(1)===0&&(Ne.constantOr(1)===0||Je.constantOr(1)===0))){for(var xe=ve.context,Ge=xe.gl,dt=ve.depthModeForSublayer(0,wr.ReadOnly),_t=er.disabled,Yt=ve.colorModeForRenderPass(),qt=[],yr=0;yr<ne.length;yr++){var Ar=ne[yr],kr=X.getTile(Ar),Or=kr.getBucket(pe);if(Or){var $r=Or.programConfigurations.get(pe.id),gn=ve.useProgram("circle",$r),An=Or.layoutVertexBuffer,Nn=Or.indexBuffer,In=Wc(ve,Ar,kr,pe),On={programConfiguration:$r,program:gn,layoutVertexBuffer:An,indexBuffer:Nn,uniformValues:In};if(De)for(var Yn=Or.segments.get(),ta=0,qn=Yn;ta<qn.length;ta+=1){var $n=qn[ta];qt.push({segments:new a.SegmentVector([$n]),sortKey:$n.sortKey,state:On})}else qt.push({segments:Or.segments,sortKey:0,state:On})}}De&&qt.sort(function(Qa,ti){return Qa.sortKey-ti.sortKey});for(var ia=0,da=qt;ia<da.length;ia+=1){var La=da[ia],ja=La.state,Oa=ja.programConfiguration,Va=ja.program,ga=ja.layoutVertexBuffer,Ja=ja.indexBuffer,Ka=ja.uniformValues,ai=La.segments;Va.draw(xe,Ge.TRIANGLES,dt,_t,Yt,zt.disabled,Ka,pe.id,ga,Ja,ai,pe.paint,ve.transform.zoom,Oa)}}}}function Kc(ve,X,pe,ne){if(pe.paint.get("heatmap-opacity")!==0)if(ve.renderPass==="offscreen"){var ge=ve.context,Ne=ge.gl,Je=er.disabled,De=new ht([Ne.ONE,Ne.ONE],a.Color.transparent,[!0,!0,!0,!0]);Bf(ge,ve,pe),ge.clear({color:a.Color.transparent});for(var xe=0;xe<ne.length;xe++){var Ge=ne[xe];if(!X.hasRenderableParent(Ge)){var dt=X.getTile(Ge),_t=dt.getBucket(pe);if(_t){var Yt=_t.programConfigurations.get(pe.id),qt=ve.useProgram("heatmap",Yt),yr=ve.transform,Ar=yr.zoom;qt.draw(ge,Ne.TRIANGLES,wr.disabled,Je,De,zt.disabled,Mu(Ge.posMatrix,dt,Ar,pe.paint.get("heatmap-intensity")),pe.id,_t.layoutVertexBuffer,_t.indexBuffer,_t.segments,pe.paint,ve.transform.zoom,Yt)}}}ge.viewport.set([0,0,ve.width,ve.height])}else ve.renderPass==="translucent"&&(ve.context.setColorMode(ve.colorModeForRenderPass()),yo(ve,pe))}function Bf(ve,X,pe){var ne=ve.gl;ve.activeTexture.set(ne.TEXTURE1),ve.viewport.set([0,0,X.width/4,X.height/4]);var ge=pe.heatmapFbo;if(ge)ne.bindTexture(ne.TEXTURE_2D,ge.colorAttachment.get()),ve.bindFramebuffer.set(ge.framebuffer);else{var Ne=ne.createTexture();ne.bindTexture(ne.TEXTURE_2D,Ne),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_WRAP_S,ne.CLAMP_TO_EDGE),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_WRAP_T,ne.CLAMP_TO_EDGE),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_MIN_FILTER,ne.LINEAR),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_MAG_FILTER,ne.LINEAR),ge=pe.heatmapFbo=ve.createFramebuffer(X.width/4,X.height/4,!1),nf(ve,X,Ne,ge)}}function nf(ve,X,pe,ne){var ge=ve.gl,Ne=ve.extRenderToTextureHalfFloat?ve.extTextureHalfFloat.HALF_FLOAT_OES:ge.UNSIGNED_BYTE;ge.texImage2D(ge.TEXTURE_2D,0,ge.RGBA,X.width/4,X.height/4,0,ge.RGBA,Ne,null),ne.colorAttachment.set(pe)}function yo(ve,X){var pe=ve.context,ne=pe.gl,ge=X.heatmapFbo;if(ge){pe.activeTexture.set(ne.TEXTURE0),ne.bindTexture(ne.TEXTURE_2D,ge.colorAttachment.get()),pe.activeTexture.set(ne.TEXTURE1);var Ne=X.colorRampTexture;Ne||(Ne=X.colorRampTexture=new a.Texture(pe,X.colorRamp,ne.RGBA)),Ne.bind(ne.LINEAR,ne.CLAMP_TO_EDGE),ve.useProgram("heatmapTexture").draw(pe,ne.TRIANGLES,wr.disabled,er.disabled,ve.colorModeForRenderPass(),zt.disabled,Oo(ve,X,0,1),X.id,ve.viewportBuffer,ve.quadTriangleIndexBuffer,ve.viewportSegments,X.paint,ve.transform.zoom)}}function Ac(ve,X,pe,ne){if(ve.renderPass==="translucent"){var ge=pe.paint.get("line-opacity"),Ne=pe.paint.get("line-width");if(!(ge.constantOr(1)===0||Ne.constantOr(1)===0)){var Je=ve.depthModeForSublayer(0,wr.ReadOnly),De=ve.colorModeForRenderPass(),xe=pe.paint.get("line-dasharray"),Ge=pe.paint.get("line-pattern"),dt=Ge.constantOr(1),_t=pe.paint.get("line-gradient"),Yt=pe.getCrossfadeParameters(),qt=dt?"linePattern":xe?"lineSDF":_t?"lineGradient":"line",yr=ve.context,Ar=yr.gl,kr=!0;if(_t){yr.activeTexture.set(Ar.TEXTURE0);var Or=pe.gradientTexture;if(!pe.gradient)return;Or||(Or=pe.gradientTexture=new a.Texture(yr,pe.gradient,Ar.RGBA)),Or.bind(Ar.LINEAR,Ar.CLAMP_TO_EDGE)}for(var $r=0,gn=ne;$r<gn.length;$r+=1){var An=gn[$r],Nn=X.getTile(An);if(!(dt&&!Nn.patternsLoaded())){var In=Nn.getBucket(pe);if(In){var On=In.programConfigurations.get(pe.id),Yn=ve.context.program.get(),ta=ve.useProgram(qt,On),qn=kr||ta.program!==Yn,$n=Ge.constantOr(null);if($n&&Nn.imageAtlas){var ia=Nn.imageAtlas,da=ia.patternPositions[$n.to.toString()],La=ia.patternPositions[$n.from.toString()];da&&La&&On.setConstantPatternPositions(da,La)}var ja=dt?vs(ve,Nn,pe,Yt):xe?tf(ve,Nn,pe,xe,Yt):_t?ef(ve,Nn,pe):Ps(ve,Nn,pe);dt?(yr.activeTexture.set(Ar.TEXTURE0),Nn.imageAtlasTexture.bind(Ar.LINEAR,Ar.CLAMP_TO_EDGE),On.updatePaintBuffers(Yt)):xe&&(qn||ve.lineAtlas.dirty)&&(yr.activeTexture.set(Ar.TEXTURE0),ve.lineAtlas.bind(yr)),ta.draw(yr,Ar.TRIANGLES,Je,ve.stencilModeForClipping(An),De,zt.disabled,ja,pe.id,In.layoutVertexBuffer,In.indexBuffer,In.segments,pe.paint,ve.transform.zoom,On),kr=!1}}}}}}function ds(ve,X,pe,ne){var ge=pe.paint.get("fill-color"),Ne=pe.paint.get("fill-opacity");if(Ne.constantOr(1)!==0){var Je=ve.colorModeForRenderPass(),De=pe.paint.get("fill-pattern"),xe=ve.opaquePassEnabledForLayer()&&!De.constantOr(1)&&ge.constantOr(a.Color.transparent).a===1&&Ne.constantOr(0)===1?"opaque":"translucent";if(ve.renderPass===xe){var Ge=ve.depthModeForSublayer(1,ve.renderPass==="opaque"?wr.ReadWrite:wr.ReadOnly);Rs(ve,X,pe,ne,Ge,Je,!1)}if(ve.renderPass==="translucent"&&pe.paint.get("fill-antialias")){var dt=ve.depthModeForSublayer(pe.getPaintProperty("fill-outline-color")?2:0,wr.ReadOnly);Rs(ve,X,pe,ne,dt,Je,!0)}}}function Rs(ve,X,pe,ne,ge,Ne,Je){var De=ve.context.gl,xe=pe.paint.get("fill-pattern"),Ge=xe&&xe.constantOr(1),dt=pe.getCrossfadeParameters(),_t,Yt,qt,yr,Ar;Je?(Yt=Ge&&!pe.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",_t=De.LINES):(Yt=Ge?"fillPattern":"fill",_t=De.TRIANGLES);for(var kr=0,Or=ne;kr<Or.length;kr+=1){var $r=Or[kr],gn=X.getTile($r);if(!(Ge&&!gn.patternsLoaded())){var An=gn.getBucket(pe);if(An){var Nn=An.programConfigurations.get(pe.id),In=ve.useProgram(Yt,Nn);Ge&&(ve.context.activeTexture.set(De.TEXTURE0),gn.imageAtlasTexture.bind(De.LINEAR,De.CLAMP_TO_EDGE),Nn.updatePaintBuffers(dt));var On=xe.constantOr(null);if(On&&gn.imageAtlas){var Yn=gn.imageAtlas,ta=Yn.patternPositions[On.to.toString()],qn=Yn.patternPositions[On.from.toString()];ta&&qn&&Nn.setConstantPatternPositions(ta,qn)}var $n=ve.translatePosMatrix($r.posMatrix,gn,pe.paint.get("fill-translate"),pe.paint.get("fill-translate-anchor"));if(!Je)yr=An.indexBuffer,Ar=An.segments,qt=Ge?go($n,ve,dt,gn):cs($n);else{yr=An.indexBuffer2,Ar=An.segments2;var ia=[De.drawingBufferWidth,De.drawingBufferHeight];qt=Yt==="fillOutlinePattern"&&Ge?cl($n,ve,dt,gn,ia):Su($n,ia)}In.draw(ve.context,_t,ge,ve.stencilModeForClipping($r),Ne,zt.disabled,qt,pe.id,An.layoutVertexBuffer,yr,Ar,pe.paint,ve.transform.zoom,Nn)}}}}function af(ve,X,pe,ne){var ge=pe.paint.get("fill-extrusion-opacity");if(ge!==0&&ve.renderPass==="translucent"){var Ne=new wr(ve.context.gl.LEQUAL,wr.ReadWrite,ve.depthRangeFor3D);if(ge===1&&!pe.paint.get("fill-extrusion-pattern").constantOr(1)){var Je=ve.colorModeForRenderPass();mo(ve,X,pe,ne,Ne,er.disabled,Je)}else mo(ve,X,pe,ne,Ne,er.disabled,ht.disabled),mo(ve,X,pe,ne,Ne,ve.stencilModeFor3D(),ve.colorModeForRenderPass())}}function mo(ve,X,pe,ne,ge,Ne,Je){for(var De=ve.context,xe=De.gl,Ge=pe.paint.get("fill-extrusion-pattern"),dt=Ge.constantOr(1),_t=pe.getCrossfadeParameters(),Yt=pe.paint.get("fill-extrusion-opacity"),qt=0,yr=ne;qt<yr.length;qt+=1){var Ar=yr[qt],kr=X.getTile(Ar),Or=kr.getBucket(pe);if(Or){var $r=Or.programConfigurations.get(pe.id),gn=ve.useProgram(dt?"fillExtrusionPattern":"fillExtrusion",$r);dt&&(ve.context.activeTexture.set(xe.TEXTURE0),kr.imageAtlasTexture.bind(xe.LINEAR,xe.CLAMP_TO_EDGE),$r.updatePaintBuffers(_t));var An=Ge.constantOr(null);if(An&&kr.imageAtlas){var Nn=kr.imageAtlas,In=Nn.patternPositions[An.to.toString()],On=Nn.patternPositions[An.from.toString()];In&&On&&$r.setConstantPatternPositions(In,On)}var Yn=ve.translatePosMatrix(Ar.posMatrix,kr,pe.paint.get("fill-extrusion-translate"),pe.paint.get("fill-extrusion-translate-anchor")),ta=pe.paint.get("fill-extrusion-vertical-gradient"),qn=dt?Io(Yn,ve,ta,Yt,Ar,_t,kr):Do(Yn,ve,ta,Yt);gn.draw(De,De.gl.TRIANGLES,ge,Ne,Je,zt.backCCW,qn,pe.id,Or.layoutVertexBuffer,Or.indexBuffer,Or.segments,pe.paint,ve.transform.zoom,$r)}}}function Pu(ve,X,pe,ne){if(!(ve.renderPass!=="offscreen"&&ve.renderPass!=="translucent")){for(var ge=ve.context,Ne=X.getSource().maxzoom,Je=ve.depthModeForSublayer(0,wr.ReadOnly),De=ve.colorModeForRenderPass(),xe=ve.renderPass==="translucent"?ve.stencilConfigForOverlap(ne):[{},ne],Ge=xe[0],dt=xe[1],_t=0,Yt=dt;_t<Yt.length;_t+=1){var qt=Yt[_t],yr=X.getTile(qt);yr.needsHillshadePrepare&&ve.renderPass==="offscreen"?Uf(ve,yr,pe,Ne,Je,er.disabled,De):ve.renderPass==="translucent"&&Sc(ve,yr,pe,Je,Ge[qt.overscaledZ],De)}ge.viewport.set([0,0,ve.width,ve.height])}}function Sc(ve,X,pe,ne,ge,Ne){var Je=ve.context,De=Je.gl,xe=X.fbo;if(xe){var Ge=ve.useProgram("hillshade");Je.activeTexture.set(De.TEXTURE0),De.bindTexture(De.TEXTURE_2D,xe.colorAttachment.get());var dt=If(ve,X,pe);Ge.draw(Je,De.TRIANGLES,ne,ge,Ne,zt.disabled,dt,pe.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments)}}function Uf(ve,X,pe,ne,ge,Ne,Je){var De=ve.context,xe=De.gl,Ge=X.dem;if(Ge&&Ge.data){var dt=Ge.dim,_t=Ge.stride,Yt=Ge.getPixels();if(De.activeTexture.set(xe.TEXTURE1),De.pixelStoreUnpackPremultiplyAlpha.set(!1),X.demTexture=X.demTexture||ve.getTileTexture(_t),X.demTexture){var qt=X.demTexture;qt.update(Yt,{premultiply:!1}),qt.bind(xe.NEAREST,xe.CLAMP_TO_EDGE)}else X.demTexture=new a.Texture(De,Yt,xe.RGBA,{premultiply:!1}),X.demTexture.bind(xe.NEAREST,xe.CLAMP_TO_EDGE);De.activeTexture.set(xe.TEXTURE0);var yr=X.fbo;if(!yr){var Ar=new a.Texture(De,{width:dt,height:dt,data:null},xe.RGBA);Ar.bind(xe.LINEAR,xe.CLAMP_TO_EDGE),yr=X.fbo=De.createFramebuffer(dt,dt,!0),yr.colorAttachment.set(Ar.texture)}De.bindFramebuffer.set(yr.framebuffer),De.viewport.set([0,0,dt,dt]),ve.useProgram("hillshadePrepare").draw(De,xe.TRIANGLES,ge,Ne,Je,zt.disabled,qu(X.tileID,Ge,ne),pe.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments),X.needsHillshadePrepare=!1}}function of(ve,X,pe,ne){if(ve.renderPass==="translucent"&&pe.paint.get("raster-opacity")!==0&&ne.length)for(var ge=ve.context,Ne=ge.gl,Je=X.getSource(),De=ve.useProgram("raster"),xe=ve.colorModeForRenderPass(),Ge=Je instanceof J?[{},ne]:ve.stencilConfigForOverlap(ne),dt=Ge[0],_t=Ge[1],Yt=_t[_t.length-1].overscaledZ,qt=!ve.options.moving,yr=0,Ar=_t;yr<Ar.length;yr+=1){var kr=Ar[yr],Or=ve.depthModeForSublayer(kr.overscaledZ-Yt,pe.paint.get("raster-opacity")===1?wr.ReadWrite:wr.ReadOnly,Ne.LESS),$r=X.getTile(kr),gn=ve.transform.calculatePosMatrix(kr.toUnwrapped(),qt);$r.registerFadeDuration(pe.paint.get("raster-fade-duration"));var An=X.findLoadedParent(kr,0),Nn=yl($r,An,X,pe,ve.transform),In=void 0,On=void 0,Yn=pe.paint.get("raster-resampling")==="nearest"?Ne.NEAREST:Ne.LINEAR;ge.activeTexture.set(Ne.TEXTURE0),$r.texture.bind(Yn,Ne.CLAMP_TO_EDGE,Ne.LINEAR_MIPMAP_NEAREST),ge.activeTexture.set(Ne.TEXTURE1),An?(An.texture.bind(Yn,Ne.CLAMP_TO_EDGE,Ne.LINEAR_MIPMAP_NEAREST),In=Math.pow(2,An.tileID.overscaledZ-$r.tileID.overscaledZ),On=[$r.tileID.canonical.x*In%1,$r.tileID.canonical.y*In%1]):$r.texture.bind(Yn,Ne.CLAMP_TO_EDGE,Ne.LINEAR_MIPMAP_NEAREST);var ta=iu(gn,On||[0,0],In||1,Nn,pe);Je instanceof J?De.draw(ge,Ne.TRIANGLES,Or,er.disabled,xe,zt.disabled,ta,pe.id,Je.boundsBuffer,ve.quadTriangleIndexBuffer,Je.boundsSegments):De.draw(ge,Ne.TRIANGLES,Or,dt[kr.overscaledZ],xe,zt.disabled,ta,pe.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments)}}function yl(ve,X,pe,ne,ge){var Ne=ne.paint.get("raster-fade-duration");if(Ne>0){var Je=a.browser.now(),De=(Je-ve.timeAdded)/Ne,xe=X?(Je-X.timeAdded)/Ne:-1,Ge=pe.getSource(),dt=ge.coveringZoomLevel({tileSize:Ge.tileSize,roundZoom:Ge.roundZoom}),_t=!X||Math.abs(X.tileID.overscaledZ-dt)>Math.abs(ve.tileID.overscaledZ-dt),Yt=_t&&ve.refreshedUponExpiration?1:a.clamp(_t?De:1-xe,0,1);return ve.refreshedUponExpiration&&De>=1&&(ve.refreshedUponExpiration=!1),X?{opacity:1,mix:1-Yt}:{opacity:Yt,mix:0}}else return{opacity:1,mix:0}}function _u(ve,X,pe){var ne=pe.paint.get("background-color"),ge=pe.paint.get("background-opacity");if(ge!==0){var Ne=ve.context,Je=Ne.gl,De=ve.transform,xe=De.tileSize,Ge=pe.paint.get("background-pattern");if(!ve.isPatternMissing(Ge)){var dt=!Ge&&ne.a===1&&ge===1&&ve.opaquePassEnabledForLayer()?"opaque":"translucent";if(ve.renderPass===dt){var _t=er.disabled,Yt=ve.depthModeForSublayer(0,dt==="opaque"?wr.ReadWrite:wr.ReadOnly),qt=ve.colorModeForRenderPass(),yr=ve.useProgram(Ge?"backgroundPattern":"background"),Ar=De.coveringTiles({tileSize:xe});Ge&&(Ne.activeTexture.set(Je.TEXTURE0),ve.imageManager.bind(ve.context));for(var kr=pe.getCrossfadeParameters(),Or=0,$r=Ar;Or<$r.length;Or+=1){var gn=$r[Or],An=ve.transform.calculatePosMatrix(gn.toUnwrapped()),Nn=Ge?Nl(An,ge,ve,Ge,{tileID:gn,tileSize:xe},kr):dl(An,ge,ne);yr.draw(Ne,Je.TRIANGLES,Yt,_t,qt,zt.disabled,Nn,pe.id,ve.tileExtentBuffer,ve.quadTriangleIndexBuffer,ve.tileExtentSegments)}}}}}var Ru=new a.Color(1,0,0,1),Hf=new a.Color(0,1,0,1),Du=new a.Color(0,0,1,1),Ec=new a.Color(1,0,1,1),et=new a.Color(0,1,1,1);function lt(ve){var X=ve.transform.padding,pe=3;wt(ve,ve.transform.height-(X.top||0),pe,Ru),wt(ve,X.bottom||0,pe,Hf),Ft(ve,X.left||0,pe,Du),Ft(ve,ve.transform.width-(X.right||0),pe,Ec);var ne=ve.transform.centerPoint;xt(ve,ne.x,ve.transform.height-ne.y,et)}function xt(ve,X,pe,ne){var ge=20,Ne=2;It(ve,X-Ne/2,pe-ge/2,Ne,ge,ne),It(ve,X-ge/2,pe-Ne/2,ge,Ne,ne)}function wt(ve,X,pe,ne){It(ve,0,X+pe/2,ve.transform.width,pe,ne)}function Ft(ve,X,pe,ne){It(ve,X-pe/2,0,pe,ve.transform.height,ne)}function It(ve,X,pe,ne,ge,Ne){var Je=ve.context,De=Je.gl;De.enable(De.SCISSOR_TEST),De.scissor(X*a.browser.devicePixelRatio,pe*a.browser.devicePixelRatio,ne*a.browser.devicePixelRatio,ge*a.browser.devicePixelRatio),Je.clear({color:Ne}),De.disable(De.SCISSOR_TEST)}function Gt(ve,X,pe){for(var ne=0;ne<pe.length;ne++)pr(ve,X,pe[ne])}function pr(ve,X,pe){var ne=ve.context,ge=ne.gl,Ne=pe.posMatrix,Je=ve.useProgram("debug"),De=wr.disabled,xe=er.disabled,Ge=ve.colorModeForRenderPass(),dt="$debug";ne.activeTexture.set(ge.TEXTURE0),ve.emptyTexture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE),Je.draw(ne,ge.LINE_STRIP,De,xe,Ge,zt.disabled,au(Ne,a.Color.red),dt,ve.debugBuffer,ve.tileBorderIndexBuffer,ve.debugSegments);var _t=X.getTileByID(pe.key).latestRawTileData,Yt=_t&&_t.byteLength||0,qt=Math.floor(Yt/1024),yr=X.getTile(pe).tileSize,Ar=512/Math.min(yr,512)*(pe.overscaledZ/ve.transform.zoom)*.5,kr=pe.canonical.toString();pe.overscaledZ!==pe.canonical.z&&(kr+=" => "+pe.overscaledZ);var Or=kr+" "+qt+"kb";Tr(ve,Or),Je.draw(ne,ge.TRIANGLES,De,xe,ht.alphaBlended,zt.disabled,au(Ne,a.Color.transparent,Ar),dt,ve.debugBuffer,ve.quadTriangleIndexBuffer,ve.debugSegments)}function Tr(ve,X){ve.initDebugOverlayCanvas();var pe=ve.debugOverlayCanvas,ne=ve.context.gl,ge=ve.debugOverlayCanvas.getContext("2d");ge.clearRect(0,0,pe.width,pe.height),ge.shadowColor="white",ge.shadowBlur=2,ge.lineWidth=1.5,ge.strokeStyle="white",ge.textBaseline="top",ge.font="bold 36px Open Sans, sans-serif",ge.fillText(X,5,5),ge.strokeText(X,5,5),ve.debugOverlayTexture.update(pe),ve.debugOverlayTexture.bind(ne.LINEAR,ne.CLAMP_TO_EDGE)}function ir(ve,X,pe){var ne=ve.context,ge=pe.implementation;if(ve.renderPass==="offscreen"){var Ne=ge.prerender;Ne&&(ve.setCustomLayerDefaults(),ne.setColorMode(ve.colorModeForRenderPass()),Ne.call(ge,ne.gl,ve.transform.customLayerMatrix()),ne.setDirty(),ve.setBaseState())}else if(ve.renderPass==="translucent"){ve.setCustomLayerDefaults(),ne.setColorMode(ve.colorModeForRenderPass()),ne.setStencilMode(er.disabled);var Je=ge.renderingMode==="3d"?new wr(ve.context.gl.LEQUAL,wr.ReadWrite,ve.depthRangeFor3D):ve.depthModeForSublayer(0,wr.ReadOnly);ne.setDepthMode(Je),ge.render(ne.gl,ve.transform.customLayerMatrix()),ne.setDirty(),ve.setBaseState(),ne.bindFramebuffer.set(null)}}var Cr={symbol:ou,circle:Qs,heatmap:Kc,line:Ac,fill:ds,"fill-extrusion":af,hillshade:Pu,raster:of,background:_u,debug:Gt,custom:ir},Dr=function(X,pe){this.context=new Dt(X),this.transform=pe,this._tileTextures={},this.setup(),this.numSublayers=Vt.maxUnderzooming+Vt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ha,this.gpuTimers={}};Dr.prototype.resize=function(X,pe){if(this.width=X*a.browser.devicePixelRatio,this.height=pe*a.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var ne=0,ge=this.style._order;ne<ge.length;ne+=1){var Ne=ge[ne];this.style._layers[Ne].resize()}},Dr.prototype.setup=function(){var X=this.context,pe=new a.StructArrayLayout2i4;pe.emplaceBack(0,0),pe.emplaceBack(a.EXTENT,0),pe.emplaceBack(0,a.EXTENT),pe.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=X.createVertexBuffer(pe,Ro.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);var ne=new a.StructArrayLayout2i4;ne.emplaceBack(0,0),ne.emplaceBack(a.EXTENT,0),ne.emplaceBack(0,a.EXTENT),ne.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=X.createVertexBuffer(ne,Ro.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);var ge=new a.StructArrayLayout4i8;ge.emplaceBack(0,0,0,0),ge.emplaceBack(a.EXTENT,0,a.EXTENT,0),ge.emplaceBack(0,a.EXTENT,0,a.EXTENT),ge.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=X.createVertexBuffer(ge,Y.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);var Ne=new a.StructArrayLayout2i4;Ne.emplaceBack(0,0),Ne.emplaceBack(1,0),Ne.emplaceBack(0,1),Ne.emplaceBack(1,1),this.viewportBuffer=X.createVertexBuffer(Ne,Ro.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);var Je=new a.StructArrayLayout1ui2;Je.emplaceBack(0),Je.emplaceBack(1),Je.emplaceBack(3),Je.emplaceBack(2),Je.emplaceBack(0),this.tileBorderIndexBuffer=X.createIndexBuffer(Je);var De=new a.StructArrayLayout3ui6;De.emplaceBack(0,1,2),De.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=X.createIndexBuffer(De),this.emptyTexture=new a.Texture(X,{width:1,height:1,data:new Uint8Array([0,0,0,0])},X.gl.RGBA);var xe=this.context.gl;this.stencilClearMode=new er({func:xe.ALWAYS,mask:0},0,255,xe.ZERO,xe.ZERO,xe.ZERO)},Dr.prototype.clearStencil=function(){var X=this.context,pe=X.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var ne=a.create();a.ortho(ne,0,this.width,this.height,0,0,1),a.scale(ne,ne,[pe.drawingBufferWidth,pe.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(X,pe.TRIANGLES,wr.disabled,this.stencilClearMode,ht.disabled,zt.disabled,ko(ne),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Dr.prototype._renderTileClippingMasks=function(X,pe){if(!(this.currentStencilSource===X.source||!X.isTileClipped()||!pe||!pe.length)){this.currentStencilSource=X.source;var ne=this.context,ge=ne.gl;this.nextStencilID+pe.length>256&&this.clearStencil(),ne.setColorMode(ht.disabled),ne.setDepthMode(wr.disabled);var Ne=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Je=0,De=pe;Je<De.length;Je+=1){var xe=De[Je],Ge=this._tileClippingMaskIDs[xe.key]=this.nextStencilID++;Ne.draw(ne,ge.TRIANGLES,wr.disabled,new er({func:ge.ALWAYS,mask:0},Ge,255,ge.KEEP,ge.KEEP,ge.REPLACE),ht.disabled,zt.disabled,ko(xe.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Dr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var X=this.nextStencilID++,pe=this.context.gl;return new er({func:pe.NOTEQUAL,mask:255},X,255,pe.KEEP,pe.KEEP,pe.REPLACE)},Dr.prototype.stencilModeForClipping=function(X){var pe=this.context.gl;return new er({func:pe.EQUAL,mask:255},this._tileClippingMaskIDs[X.key],0,pe.KEEP,pe.KEEP,pe.REPLACE)},Dr.prototype.stencilConfigForOverlap=function(X){var pe,ne=this.context.gl,ge=X.sort(function(Ge,dt){return dt.overscaledZ-Ge.overscaledZ}),Ne=ge[ge.length-1].overscaledZ,Je=ge[0].overscaledZ-Ne+1;if(Je>1){this.currentStencilSource=void 0,this.nextStencilID+Je>256&&this.clearStencil();for(var De={},xe=0;xe<Je;xe++)De[xe+Ne]=new er({func:ne.GEQUAL,mask:255},xe+this.nextStencilID,255,ne.KEEP,ne.KEEP,ne.REPLACE);return this.nextStencilID+=Je,[De,ge]}return[(pe={},pe[Ne]=er.disabled,pe),ge]},Dr.prototype.colorModeForRenderPass=function(){var X=this.context.gl;if(this._showOverdrawInspector){var pe=8,ne=1/pe;return new ht([X.CONSTANT_COLOR,X.ONE],new a.Color(ne,ne,ne,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?ht.unblended:ht.alphaBlended},Dr.prototype.depthModeForSublayer=function(X,pe,ne){if(!this.opaquePassEnabledForLayer())return wr.disabled;var ge=1-((1+this.currentLayer)*this.numSublayers+X)*this.depthEpsilon;return new wr(ne||this.context.gl.LEQUAL,pe,[ge,ge])},Dr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Dr.prototype.render=function(X,pe){var ne=this;this.style=X,this.options=pe,this.lineAtlas=X.lineAtlas,this.imageManager=X.imageManager,this.glyphManager=X.glyphManager,this.symbolFadeChange=X.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();var ge=this.style._order,Ne=this.style.sourceCaches;for(var Je in Ne){var De=Ne[Je];De.used&&De.prepare(this.context)}var xe={},Ge={},dt={};for(var _t in Ne){var Yt=Ne[_t];xe[_t]=Yt.getVisibleCoordinates(),Ge[_t]=xe[_t].slice().reverse(),dt[_t]=Yt.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var qt=0;qt<ge.length;qt++){var yr=ge[qt];if(this.style._layers[yr].is3D()){this.opaquePassCutoff=qt;break}}this.renderPass="offscreen";for(var Ar=0,kr=ge;Ar<kr.length;Ar+=1){var Or=kr[Ar],$r=this.style._layers[Or];if(!(!$r.hasOffscreenPass()||$r.isHidden(this.transform.zoom))){var gn=Ge[$r.source];$r.type!=="custom"&&!gn.length||this.renderLayer(this,Ne[$r.source],$r,gn)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:pe.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=pe.showOverdrawInspector,this.depthRangeFor3D=[0,1-(X._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=ge.length-1;this.currentLayer>=0;this.currentLayer--){var An=this.style._layers[ge[this.currentLayer]],Nn=Ne[An.source],In=xe[An.source];this._renderTileClippingMasks(An,In),this.renderLayer(this,Nn,An,In)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<ge.length;this.currentLayer++){var On=this.style._layers[ge[this.currentLayer]],Yn=Ne[On.source],ta=(On.type==="symbol"?dt:Ge)[On.source];this._renderTileClippingMasks(On,xe[On.source]),this.renderLayer(this,Yn,On,ta)}if(this.options.showTileBoundaries){var qn,$n,ia=a.values(this.style._layers);ia.forEach(function(da){da.source&&!da.isHidden(ne.transform.zoom)&&(da.source!==($n&&$n.id)&&($n=ne.style.sourceCaches[da.source]),(!qn||qn.getSource().maxzoom<$n.getSource().maxzoom)&&(qn=$n))}),qn&&Cr.debug(this,qn,qn.getVisibleCoordinates())}this.options.showPadding&&lt(this),this.context.setDefault()},Dr.prototype.renderLayer=function(X,pe,ne,ge){ne.isHidden(this.transform.zoom)||ne.type!=="background"&&ne.type!=="custom"&&!ge.length||(this.id=ne.id,this.gpuTimingStart(ne),Cr[ne.type](X,pe,ne,ge,this.style.placement.variableOffsets),this.gpuTimingEnd())},Dr.prototype.gpuTimingStart=function(X){if(this.options.gpuTiming){var pe=this.context.extTimerQuery,ne=this.gpuTimers[X.id];ne||(ne=this.gpuTimers[X.id]={calls:0,cpuTime:0,query:pe.createQueryEXT()}),ne.calls++,pe.beginQueryEXT(pe.TIME_ELAPSED_EXT,ne.query)}},Dr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var X=this.context.extTimerQuery;X.endQueryEXT(X.TIME_ELAPSED_EXT)}},Dr.prototype.collectGpuTimers=function(){var X=this.gpuTimers;return this.gpuTimers={},X},Dr.prototype.queryGpuTimers=function(X){var pe={};for(var ne in X){var ge=X[ne],Ne=this.context.extTimerQuery,Je=Ne.getQueryObjectEXT(ge.query,Ne.QUERY_RESULT_EXT)/(1e3*1e3);Ne.deleteQueryEXT(ge.query),pe[ne]=Je}return pe},Dr.prototype.translatePosMatrix=function(X,pe,ne,ge,Ne){if(!ne[0]&&!ne[1])return X;var Je=Ne?ge==="map"?this.transform.angle:0:ge==="viewport"?-this.transform.angle:0;if(Je){var De=Math.sin(Je),xe=Math.cos(Je);ne=[ne[0]*xe-ne[1]*De,ne[0]*De+ne[1]*xe]}var Ge=[Ne?ne[0]:mn(pe,ne[0],this.transform.zoom),Ne?ne[1]:mn(pe,ne[1],this.transform.zoom),0],dt=new Float32Array(16);return a.translate(dt,X,Ge),dt},Dr.prototype.saveTileTexture=function(X){var pe=this._tileTextures[X.size[0]];pe?pe.push(X):this._tileTextures[X.size[0]]=[X]},Dr.prototype.getTileTexture=function(X){var pe=this._tileTextures[X];return pe&&pe.length>0?pe.pop():null},Dr.prototype.isPatternMissing=function(X){if(!X)return!1;if(!X.from||!X.to)return!0;var pe=this.imageManager.getPattern(X.from.toString()),ne=this.imageManager.getPattern(X.to.toString());return!pe||!ne},Dr.prototype.useProgram=function(X,pe){this.cache=this.cache||{};var ne=""+X+(pe?pe.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[ne]||(this.cache[ne]=new ru(this.context,gc[X],pe,pl[X],this._showOverdrawInspector)),this.cache[ne]},Dr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Dr.prototype.setBaseState=function(){var X=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(X.FUNC_ADD)},Dr.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var X=this.context.gl;this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,X.RGBA)}},Dr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var jr=function(X,pe){this.points=X,this.planes=pe};jr.fromInvProjectionMatrix=function(X,pe,ne){var ge=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],Ne=Math.pow(2,ne),Je=ge.map(function(Ge){return a.transformMat4([],Ge,X)}).map(function(Ge){return a.scale$1([],Ge,1/Ge[3]/pe*Ne)}),De=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],xe=De.map(function(Ge){var dt=a.sub([],Je[Ge[0]],Je[Ge[1]]),_t=a.sub([],Je[Ge[2]],Je[Ge[1]]),Yt=a.normalize([],a.cross([],dt,_t)),qt=-a.dot(Yt,Je[Ge[1]]);return Yt.concat(qt)});return new jr(Je,xe)};var Qr=function(X,pe){this.min=X,this.max=pe,this.center=a.scale$2([],a.add([],this.min,this.max),.5)};Qr.prototype.quadrant=function(X){for(var pe=[X%2===0,X<2],ne=a.clone$2(this.min),ge=a.clone$2(this.max),Ne=0;Ne<pe.length;Ne++)ne[Ne]=pe[Ne]?this.min[Ne]:this.center[Ne],ge[Ne]=pe[Ne]?this.center[Ne]:this.max[Ne];return ge[2]=this.max[2],new Qr(ne,ge)},Qr.prototype.distanceX=function(X){var pe=Math.max(Math.min(this.max[0],X[0]),this.min[0]);return pe-X[0]},Qr.prototype.distanceY=function(X){var pe=Math.max(Math.min(this.max[1],X[1]),this.min[1]);return pe-X[1]},Qr.prototype.intersects=function(X){for(var pe=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],ne=!0,ge=0;ge<X.planes.length;ge++){for(var Ne=X.planes[ge],Je=0,De=0;De<pe.length;De++)Je+=a.dot$1(Ne,pe[De])>=0;if(Je===0)return 0;Je!==pe.length&&(ne=!1)}if(ne)return 2;for(var xe=0;xe<3;xe++){for(var Ge=Number.MAX_VALUE,dt=-Number.MAX_VALUE,_t=0;_t<X.points.length;_t++){var Yt=X.points[_t][xe]-this.min[xe];Ge=Math.min(Ge,Yt),dt=Math.max(dt,Yt)}if(dt<0||Ge>this.max[xe]-this.min[xe])return 0}return 1};var wn=function(X,pe,ne,ge){if(X===void 0&&(X=0),pe===void 0&&(pe=0),ne===void 0&&(ne=0),ge===void 0&&(ge=0),isNaN(X)||X<0||isNaN(pe)||pe<0||isNaN(ne)||ne<0||isNaN(ge)||ge<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=X,this.bottom=pe,this.left=ne,this.right=ge};wn.prototype.interpolate=function(X,pe,ne){return pe.top!=null&&X.top!=null&&(this.top=a.number(X.top,pe.top,ne)),pe.bottom!=null&&X.bottom!=null&&(this.bottom=a.number(X.bottom,pe.bottom,ne)),pe.left!=null&&X.left!=null&&(this.left=a.number(X.left,pe.left,ne)),pe.right!=null&&X.right!=null&&(this.right=a.number(X.right,pe.right,ne)),this},wn.prototype.getCenter=function(X,pe){var ne=a.clamp((this.left+X-this.right)/2,0,X),ge=a.clamp((this.top+pe-this.bottom)/2,0,pe);return new a.Point(ne,ge)},wn.prototype.equals=function(X){return this.top===X.top&&this.bottom===X.bottom&&this.left===X.left&&this.right===X.right},wn.prototype.clone=function(){return new wn(this.top,this.bottom,this.left,this.right)},wn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Sn=function(X,pe,ne,ge,Ne){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=Ne===void 0?!0:Ne,this._minZoom=X||0,this._maxZoom=pe||22,this._minPitch=ne??0,this._maxPitch=ge??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new wn,this._posMatrixCache={},this._alignedPosMatrixCache={}},Dn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Sn.prototype.clone=function(){var X=new Sn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return X.tileSize=this.tileSize,X.latRange=this.latRange,X.width=this.width,X.height=this.height,X._center=this._center,X.zoom=this.zoom,X.angle=this.angle,X._fov=this._fov,X._pitch=this._pitch,X._unmodified=this._unmodified,X._edgeInsets=this._edgeInsets.clone(),X._calcMatrices(),X},Dn.minZoom.get=function(){return this._minZoom},Dn.minZoom.set=function(ve){this._minZoom!==ve&&(this._minZoom=ve,this.zoom=Math.max(this.zoom,ve))},Dn.maxZoom.get=function(){return this._maxZoom},Dn.maxZoom.set=function(ve){this._maxZoom!==ve&&(this._maxZoom=ve,this.zoom=Math.min(this.zoom,ve))},Dn.minPitch.get=function(){return this._minPitch},Dn.minPitch.set=function(ve){this._minPitch!==ve&&(this._minPitch=ve,this.pitch=Math.max(this.pitch,ve))},Dn.maxPitch.get=function(){return this._maxPitch},Dn.maxPitch.set=function(ve){this._maxPitch!==ve&&(this._maxPitch=ve,this.pitch=Math.min(this.pitch,ve))},Dn.renderWorldCopies.get=function(){return this._renderWorldCopies},Dn.renderWorldCopies.set=function(ve){ve===void 0?ve=!0:ve===null&&(ve=!1),this._renderWorldCopies=ve},Dn.worldSize.get=function(){return this.tileSize*this.scale},Dn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Dn.size.get=function(){return new a.Point(this.width,this.height)},Dn.bearing.get=function(){return-this.angle/Math.PI*180},Dn.bearing.set=function(ve){var X=-a.wrap(ve,-180,180)*Math.PI/180;this.angle!==X&&(this._unmodified=!1,this.angle=X,this._calcMatrices(),this.rotationMatrix=a.create$2(),a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Dn.pitch.get=function(){return this._pitch/Math.PI*180},Dn.pitch.set=function(ve){var X=a.clamp(ve,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==X&&(this._unmodified=!1,this._pitch=X,this._calcMatrices())},Dn.fov.get=function(){return this._fov/Math.PI*180},Dn.fov.set=function(ve){ve=Math.max(.01,Math.min(60,ve)),this._fov!==ve&&(this._unmodified=!1,this._fov=ve/180*Math.PI,this._calcMatrices())},Dn.zoom.get=function(){return this._zoom},Dn.zoom.set=function(ve){var X=Math.min(Math.max(ve,this.minZoom),this.maxZoom);this._zoom!==X&&(this._unmodified=!1,this._zoom=X,this.scale=this.zoomScale(X),this.tileZoom=Math.floor(X),this.zoomFraction=X-this.tileZoom,this._constrain(),this._calcMatrices())},Dn.center.get=function(){return this._center},Dn.center.set=function(ve){ve.lat===this._center.lat&&ve.lng===this._center.lng||(this._unmodified=!1,this._center=ve,this._constrain(),this._calcMatrices())},Dn.padding.get=function(){return this._edgeInsets.toJSON()},Dn.padding.set=function(ve){this._edgeInsets.equals(ve)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,ve,1),this._calcMatrices())},Dn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Sn.prototype.isPaddingEqual=function(X){return this._edgeInsets.equals(X)},Sn.prototype.interpolatePadding=function(X,pe,ne){this._unmodified=!1,this._edgeInsets.interpolate(X,pe,ne),this._constrain(),this._calcMatrices()},Sn.prototype.coveringZoomLevel=function(X){var pe=(X.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/X.tileSize));return Math.max(0,pe)},Sn.prototype.getVisibleUnwrappedCoordinates=function(X){var pe=[new a.UnwrappedTileID(0,X)];if(this._renderWorldCopies)for(var ne=this.pointCoordinate(new a.Point(0,0)),ge=this.pointCoordinate(new a.Point(this.width,0)),Ne=this.pointCoordinate(new a.Point(this.width,this.height)),Je=this.pointCoordinate(new a.Point(0,this.height)),De=Math.floor(Math.min(ne.x,ge.x,Ne.x,Je.x)),xe=Math.floor(Math.max(ne.x,ge.x,Ne.x,Je.x)),Ge=1,dt=De-Ge;dt<=xe+Ge;dt++)dt!==0&&pe.push(new a.UnwrappedTileID(dt,X));return pe},Sn.prototype.coveringTiles=function(X){var pe=this.coveringZoomLevel(X),ne=pe;if(X.minzoom!==void 0&&pe<X.minzoom)return[];X.maxzoom!==void 0&&pe>X.maxzoom&&(pe=X.maxzoom);var ge=a.MercatorCoordinate.fromLngLat(this.center),Ne=Math.pow(2,pe),Je=[Ne*ge.x,Ne*ge.y,0],De=jr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,pe),xe=X.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(xe=pe);var Ge=3,dt=function(ia){return{aabb:new Qr([ia*Ne,0,0],[(ia+1)*Ne,Ne,0]),zoom:0,x:0,y:0,wrap:ia,fullyVisible:!1}},_t=[],Yt=[],qt=pe,yr=X.reparseOverscaled?ne:pe;if(this._renderWorldCopies)for(var Ar=1;Ar<=3;Ar++)_t.push(dt(-Ar)),_t.push(dt(Ar));for(_t.push(dt(0));_t.length>0;){var kr=_t.pop(),Or=kr.x,$r=kr.y,gn=kr.fullyVisible;if(!gn){var An=kr.aabb.intersects(De);if(An===0)continue;gn=An===2}var Nn=kr.aabb.distanceX(Je),In=kr.aabb.distanceY(Je),On=Math.max(Math.abs(Nn),Math.abs(In)),Yn=Ge+(1<<qt-kr.zoom)-2;if(kr.zoom===qt||On>Yn&&kr.zoom>=xe){Yt.push({tileID:new a.OverscaledTileID(kr.zoom===qt?yr:kr.zoom,kr.wrap,kr.zoom,Or,$r),distanceSq:a.sqrLen([Je[0]-.5-Or,Je[1]-.5-$r])});continue}for(var ta=0;ta<4;ta++){var qn=(Or<<1)+ta%2,$n=($r<<1)+(ta>>1);_t.push({aabb:kr.aabb.quadrant(ta),zoom:kr.zoom+1,x:qn,y:$n,wrap:kr.wrap,fullyVisible:gn})}}return Yt.sort(function(ia,da){return ia.distanceSq-da.distanceSq}).map(function(ia){return ia.tileID})},Sn.prototype.resize=function(X,pe){this.width=X,this.height=pe,this.pixelsToGLUnits=[2/X,-2/pe],this._constrain(),this._calcMatrices()},Dn.unmodified.get=function(){return this._unmodified},Sn.prototype.zoomScale=function(X){return Math.pow(2,X)},Sn.prototype.scaleZoom=function(X){return Math.log(X)/Math.LN2},Sn.prototype.project=function(X){var pe=a.clamp(X.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(X.lng)*this.worldSize,a.mercatorYfromLat(pe)*this.worldSize)},Sn.prototype.unproject=function(X){return new a.MercatorCoordinate(X.x/this.worldSize,X.y/this.worldSize).toLngLat()},Dn.point.get=function(){return this.project(this.center)},Sn.prototype.setLocationAtPoint=function(X,pe){var ne=this.pointCoordinate(pe),ge=this.pointCoordinate(this.centerPoint),Ne=this.locationCoordinate(X),Je=new a.MercatorCoordinate(Ne.x-(ne.x-ge.x),Ne.y-(ne.y-ge.y));this.center=this.coordinateLocation(Je),this._renderWorldCopies&&(this.center=this.center.wrap())},Sn.prototype.locationPoint=function(X){return this.coordinatePoint(this.locationCoordinate(X))},Sn.prototype.pointLocation=function(X){return this.coordinateLocation(this.pointCoordinate(X))},Sn.prototype.locationCoordinate=function(X){return a.MercatorCoordinate.fromLngLat(X)},Sn.prototype.coordinateLocation=function(X){return X.toLngLat()},Sn.prototype.pointCoordinate=function(X){var pe=0,ne=[X.x,X.y,0,1],ge=[X.x,X.y,1,1];a.transformMat4(ne,ne,this.pixelMatrixInverse),a.transformMat4(ge,ge,this.pixelMatrixInverse);var Ne=ne[3],Je=ge[3],De=ne[0]/Ne,xe=ge[0]/Je,Ge=ne[1]/Ne,dt=ge[1]/Je,_t=ne[2]/Ne,Yt=ge[2]/Je,qt=_t===Yt?0:(pe-_t)/(Yt-_t);return new a.MercatorCoordinate(a.number(De,xe,qt)/this.worldSize,a.number(Ge,dt,qt)/this.worldSize)},Sn.prototype.coordinatePoint=function(X){var pe=[X.x*this.worldSize,X.y*this.worldSize,0,1];return a.transformMat4(pe,pe,this.pixelMatrix),new a.Point(pe[0]/pe[3],pe[1]/pe[3])},Sn.prototype.getBounds=function(){return new a.LngLatBounds().extend(this.pointLocation(new a.Point(0,0))).extend(this.pointLocation(new a.Point(this.width,0))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))},Sn.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},Sn.prototype.setMaxBounds=function(X){X?(this.lngRange=[X.getWest(),X.getEast()],this.latRange=[X.getSouth(),X.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Sn.prototype.calculatePosMatrix=function(X,pe){pe===void 0&&(pe=!1);var ne=X.key,ge=pe?this._alignedPosMatrixCache:this._posMatrixCache;if(ge[ne])return ge[ne];var Ne=X.canonical,Je=this.worldSize/this.zoomScale(Ne.z),De=Ne.x+Math.pow(2,Ne.z)*X.wrap,xe=a.identity(new Float64Array(16));return a.translate(xe,xe,[De*Je,Ne.y*Je,0]),a.scale(xe,xe,[Je/a.EXTENT,Je/a.EXTENT,1]),a.multiply(xe,pe?this.alignedProjMatrix:this.projMatrix,xe),ge[ne]=new Float32Array(xe),ge[ne]},Sn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Sn.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var X=-90,pe=90,ne=-180,ge=180,Ne,Je,De,xe,Ge=this.size,dt=this._unmodified;if(this.latRange){var _t=this.latRange;X=a.mercatorYfromLat(_t[1])*this.worldSize,pe=a.mercatorYfromLat(_t[0])*this.worldSize,Ne=pe-X<Ge.y?Ge.y/(pe-X):0}if(this.lngRange){var Yt=this.lngRange;ne=a.mercatorXfromLng(Yt[0])*this.worldSize,ge=a.mercatorXfromLng(Yt[1])*this.worldSize,Je=ge-ne<Ge.x?Ge.x/(ge-ne):0}var qt=this.point,yr=Math.max(Je||0,Ne||0);if(yr){this.center=this.unproject(new a.Point(Je?(ge+ne)/2:qt.x,Ne?(pe+X)/2:qt.y)),this.zoom+=this.scaleZoom(yr),this._unmodified=dt,this._constraining=!1;return}if(this.latRange){var Ar=qt.y,kr=Ge.y/2;Ar-kr<X&&(xe=X+kr),Ar+kr>pe&&(xe=pe-kr)}if(this.lngRange){var Or=qt.x,$r=Ge.x/2;Or-$r<ne&&(De=ne+$r),Or+$r>ge&&(De=ge-$r)}(De!==void 0||xe!==void 0)&&(this.center=this.unproject(new a.Point(De!==void 0?De:qt.x,xe!==void 0?xe:qt.y))),this._unmodified=dt,this._constraining=!1}},Sn.prototype._calcMatrices=function(){if(this.height){var X=this._fov/2,pe=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(X)*this.height;var ne=Math.PI/2+this._pitch,ge=this._fov*(.5+pe.y/this.height),Ne=Math.sin(ge)*this.cameraToCenterDistance/Math.sin(a.clamp(Math.PI-ne-ge,.01,Math.PI-.01)),Je=this.point,De=Je.x,xe=Je.y,Ge=Math.cos(Math.PI/2-this._pitch)*Ne+this.cameraToCenterDistance,dt=Ge*1.01,_t=this.height/50,Yt=new Float64Array(16);a.perspective(Yt,this._fov,this.width/this.height,_t,dt),Yt[8]=-pe.x*2/this.width,Yt[9]=pe.y*2/this.height,a.scale(Yt,Yt,[1,-1,1]),a.translate(Yt,Yt,[0,0,-this.cameraToCenterDistance]),a.rotateX(Yt,Yt,this._pitch),a.rotateZ(Yt,Yt,this.angle),a.translate(Yt,Yt,[-De,-xe,0]),this.mercatorMatrix=a.scale([],Yt,[this.worldSize,this.worldSize,this.worldSize]),a.scale(Yt,Yt,[1,1,a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=Yt,this.invProjMatrix=a.invert([],this.projMatrix);var qt=this.width%2/2,yr=this.height%2/2,Ar=Math.cos(this.angle),kr=Math.sin(this.angle),Or=De-Math.round(De)+Ar*qt+kr*yr,$r=xe-Math.round(xe)+Ar*yr+kr*qt,gn=new Float64Array(Yt);if(a.translate(gn,gn,[Or>.5?Or-1:Or,$r>.5?$r-1:$r,0]),this.alignedProjMatrix=gn,Yt=a.create(),a.scale(Yt,Yt,[this.width/2,-this.height/2,1]),a.translate(Yt,Yt,[1,-1,0]),this.labelPlaneMatrix=Yt,Yt=a.create(),a.scale(Yt,Yt,[1,-1,1]),a.translate(Yt,Yt,[-1,-1,0]),a.scale(Yt,Yt,[2/this.width,2/this.height,1]),this.glCoordMatrix=Yt,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),Yt=a.invert(new Float64Array(16),this.pixelMatrix),!Yt)throw new Error("failed to invert matrix");this.pixelMatrixInverse=Yt,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Sn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var X=this.pointCoordinate(new a.Point(0,0)),pe=[X.x*this.worldSize,X.y*this.worldSize,0,1],ne=a.transformMat4(pe,pe,this.pixelMatrix);return ne[3]/this.cameraToCenterDistance},Sn.prototype.getCameraPoint=function(){var X=this._pitch,pe=Math.tan(X)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,pe))},Sn.prototype.getCameraQueryGeometry=function(X){var pe=this.getCameraPoint();if(X.length===1)return[X[0],pe];for(var ne=pe.x,ge=pe.y,Ne=pe.x,Je=pe.y,De=0,xe=X;De<xe.length;De+=1){var Ge=xe[De];ne=Math.min(ne,Ge.x),ge=Math.min(ge,Ge.y),Ne=Math.max(Ne,Ge.x),Je=Math.max(Je,Ge.y)}return[new a.Point(ne,ge),new a.Point(Ne,ge),new a.Point(Ne,Je),new a.Point(ne,Je),new a.Point(ne,ge)]},Object.defineProperties(Sn.prototype,Dn);function pa(ve,X){var pe=!1,ne=null,ge=function(){ne=null,pe&&(ve(),ne=setTimeout(ge,X),pe=!1)};return function(){return pe=!0,ne||ge(),ne}}var Ra=function(X){this._hashName=X&&encodeURIComponent(X),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=pa(this._updateHashUnthrottled.bind(this),30*1e3/100)};Ra.prototype.addTo=function(X){return this._map=X,a.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Ra.prototype.remove=function(){return a.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Ra.prototype.getHashString=function(X){var pe=this._map.getCenter(),ne=Math.round(this._map.getZoom()*100)/100,ge=Math.ceil((ne*Math.LN2+Math.log(512/360/.5))/Math.LN10),Ne=Math.pow(10,ge),Je=Math.round(pe.lng*Ne)/Ne,De=Math.round(pe.lat*Ne)/Ne,xe=this._map.getBearing(),Ge=this._map.getPitch(),dt="";if(X?dt+="/"+Je+"/"+De+"/"+ne:dt+=ne+"/"+De+"/"+Je,(xe||Ge)&&(dt+="/"+Math.round(xe*10)/10),Ge&&(dt+="/"+Math.round(Ge)),this._hashName){var _t=this._hashName,Yt=!1,qt=a.window.location.hash.slice(1).split("&").map(function(yr){var Ar=yr.split("=")[0];return Ar===_t?(Yt=!0,Ar+"="+dt):yr}).filter(function(yr){return yr});return Yt||qt.push(_t+"="+dt),"#"+qt.join("&")}return"#"+dt},Ra.prototype._getCurrentHash=function(){var X=this,pe=a.window.location.hash.replace("#","");if(this._hashName){var ne;return pe.split("&").map(function(ge){return ge.split("=")}).forEach(function(ge){ge[0]===X._hashName&&(ne=ge)}),(ne&&ne[1]||"").split("/")}return pe.split("/")},Ra.prototype._onHashChange=function(){var X=this._getCurrentHash();if(X.length>=3&&!X.some(function(ne){return isNaN(ne)})){var pe=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(X[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+X[2],+X[1]],zoom:+X[0],bearing:pe,pitch:+(X[4]||0)}),!0}return!1},Ra.prototype._updateHashUnthrottled=function(){var X=this.getHashString();try{a.window.history.replaceState(a.window.history.state,"",X)}catch{}};var Ia={linearity:.3,easing:a.bezier(0,0,.3,1)},ka=a.extend({deceleration:2500,maxSpeed:1400},Ia),Fa=a.extend({deceleration:20,maxSpeed:1400},Ia),si=a.extend({deceleration:1e3,maxSpeed:360},Ia),Ei=a.extend({deceleration:1e3,maxSpeed:90},Ia),bi=function(X){this._map=X,this.clear()};bi.prototype.clear=function(){this._inertiaBuffer=[]},bi.prototype.record=function(X){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.browser.now(),settings:X})},bi.prototype._drainInertiaBuffer=function(){for(var X=this._inertiaBuffer,pe=a.browser.now(),ne=160;X.length>0&&pe-X[0].time>ne;)X.shift()},bi.prototype._onMoveEnd=function(X){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var pe={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0},ne=0,ge=this._inertiaBuffer;ne<ge.length;ne+=1){var Ne=ge[ne],Je=Ne.settings;pe.zoom+=Je.zoomDelta||0,pe.bearing+=Je.bearingDelta||0,pe.pitch+=Je.pitchDelta||0,Je.panDelta&&pe.pan._add(Je.panDelta),Je.around&&(pe.around=Je.around),Je.pinchAround&&(pe.pinchAround=Je.pinchAround)}var De=this._inertiaBuffer[this._inertiaBuffer.length-1],xe=De.time-this._inertiaBuffer[0].time,Ge={};if(pe.pan.mag()){var dt=_e(pe.pan.mag(),xe,a.extend({},ka,X||{}));Ge.offset=pe.pan.mult(dt.amount/pe.pan.mag()),Ge.center=this._map.transform.center,ue(Ge,dt)}if(pe.zoom){var _t=_e(pe.zoom,xe,Fa);Ge.zoom=this._map.transform.zoom+_t.amount,ue(Ge,_t)}if(pe.bearing){var Yt=_e(pe.bearing,xe,si);Ge.bearing=this._map.transform.bearing+a.clamp(Yt.amount,-179,179),ue(Ge,Yt)}if(pe.pitch){var qt=_e(pe.pitch,xe,Ei);Ge.pitch=this._map.transform.pitch+qt.amount,ue(Ge,qt)}if(Ge.zoom||Ge.bearing){var yr=pe.pinchAround===void 0?pe.around:pe.pinchAround;Ge.around=yr?this._map.unproject(yr):this._map.getCenter()}return this.clear(),a.extend(Ge,{noMoveStart:!0})}};function ue(ve,X){(!ve.duration||ve.duration<X.duration)&&(ve.duration=X.duration,ve.easing=X.easing)}function _e(ve,X,pe){var ne=pe.maxSpeed,ge=pe.linearity,Ne=pe.deceleration,Je=a.clamp(ve*ge/(X/1e3),-ne,ne),De=Math.abs(Je)/(Ne*ge);return{easing:pe.easing,duration:De*1e3,amount:Je*(De/2)}}var Ye=function(ve){function X(ne,ge,Ne,Je){Je===void 0&&(Je={});var De=A.mousePos(ge.getCanvasContainer(),Ne),xe=ge.unproject(De);ve.call(this,ne,a.extend({point:De,lngLat:xe,originalEvent:Ne},Je)),this._defaultPrevented=!1,this.target=ge}ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X;var pe={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},pe.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,pe),X}(a.Event),nt=function(ve){function X(ne,ge,Ne){var Je=ne==="touchend"?Ne.changedTouches:Ne.touches,De=A.touchPos(ge.getCanvasContainer(),Je),xe=De.map(function(_t){return ge.unproject(_t)}),Ge=De.reduce(function(_t,Yt,qt,yr){return _t.add(Yt.div(yr.length))},new a.Point(0,0)),dt=ge.unproject(Ge);ve.call(this,ne,{points:De,point:Ge,lngLats:xe,lngLat:dt,originalEvent:Ne}),this._defaultPrevented=!1}ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X;var pe={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},pe.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,pe),X}(a.Event),ot=function(ve){function X(ne,ge,Ne){ve.call(this,ne,{originalEvent:Ne}),this._defaultPrevented=!1}ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X;var pe={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},pe.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,pe),X}(a.Event),ft=function(X,pe){this._map=X,this._clickTolerance=pe.clickTolerance};ft.prototype.reset=function(){delete this._mousedownPos},ft.prototype.wheel=function(X){return this._firePreventable(new ot(X.type,this._map,X))},ft.prototype.mousedown=function(X,pe){return this._mousedownPos=pe,this._firePreventable(new Ye(X.type,this._map,X))},ft.prototype.mouseup=function(X){this._map.fire(new Ye(X.type,this._map,X))},ft.prototype.click=function(X,pe){this._mousedownPos&&this._mousedownPos.dist(pe)>=this._clickTolerance||this._map.fire(new Ye(X.type,this._map,X))},ft.prototype.dblclick=function(X){return this._firePreventable(new Ye(X.type,this._map,X))},ft.prototype.mouseover=function(X){this._map.fire(new Ye(X.type,this._map,X))},ft.prototype.mouseout=function(X){this._map.fire(new Ye(X.type,this._map,X))},ft.prototype.touchstart=function(X){return this._firePreventable(new nt(X.type,this._map,X))},ft.prototype.touchmove=function(X){this._map.fire(new nt(X.type,this._map,X))},ft.prototype.touchend=function(X){this._map.fire(new nt(X.type,this._map,X))},ft.prototype.touchcancel=function(X){this._map.fire(new nt(X.type,this._map,X))},ft.prototype._firePreventable=function(X){if(this._map.fire(X),X.defaultPrevented)return{}},ft.prototype.isEnabled=function(){return!0},ft.prototype.isActive=function(){return!1},ft.prototype.enable=function(){},ft.prototype.disable=function(){};var kt=function(X){this._map=X};kt.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},kt.prototype.mousemove=function(X){this._map.fire(new Ye(X.type,this._map,X))},kt.prototype.mousedown=function(){this._delayContextMenu=!0},kt.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ye("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},kt.prototype.contextmenu=function(X){this._delayContextMenu?this._contextMenuEvent=X:this._map.fire(new Ye(X.type,this._map,X)),this._map.listens("contextmenu")&&X.preventDefault()},kt.prototype.isEnabled=function(){return!0},kt.prototype.isActive=function(){return!1},kt.prototype.enable=function(){},kt.prototype.disable=function(){};var mt=function(X,pe){this._map=X,this._el=X.getCanvasContainer(),this._container=X.getContainer(),this._clickTolerance=pe.clickTolerance||1};mt.prototype.isEnabled=function(){return!!this._enabled},mt.prototype.isActive=function(){return!!this._active},mt.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},mt.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},mt.prototype.mousedown=function(X,pe){this.isEnabled()&&X.shiftKey&&X.button===0&&(A.disableDrag(),this._startPos=this._lastPos=pe,this._active=!0)},mt.prototype.mousemoveWindow=function(X,pe){if(this._active){var ne=pe;if(!(this._lastPos.equals(ne)||!this._box&&ne.dist(this._startPos)<this._clickTolerance)){var ge=this._startPos;this._lastPos=ne,this._box||(this._box=A.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",X));var Ne=Math.min(ge.x,ne.x),Je=Math.max(ge.x,ne.x),De=Math.min(ge.y,ne.y),xe=Math.max(ge.y,ne.y);A.setTransform(this._box,"translate("+Ne+"px,"+De+"px)"),this._box.style.width=Je-Ne+"px",this._box.style.height=xe-De+"px"}}},mt.prototype.mouseupWindow=function(X,pe){var ne=this;if(this._active&&X.button===0){var ge=this._startPos,Ne=pe;if(this.reset(),A.suppressClick(),ge.x===Ne.x&&ge.y===Ne.y)this._fireEvent("boxzoomcancel",X);else return this._map.fire(new a.Event("boxzoomend",{originalEvent:X})),{cameraAnimation:function(Je){return Je.fitScreenCoordinates(ge,Ne,ne._map.getBearing(),{linear:!0})}}}},mt.prototype.keydown=function(X){this._active&&X.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",X))},mt.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(A.remove(this._box),this._box=null),A.enableDrag(),delete this._startPos,delete this._lastPos},mt.prototype._fireEvent=function(X,pe){return this._map.fire(new a.Event(X,{originalEvent:pe}))};function Wt(ve,X){for(var pe={},ne=0;ne<ve.length;ne++)pe[ve[ne].identifier]=X[ne];return pe}function ar(ve){for(var X=new a.Point(0,0),pe=0,ne=ve;pe<ne.length;pe+=1){var ge=ne[pe];X._add(ge)}return X.div(ve.length)}var sr=500,Ir=500,Rr=30,Kr=function(X){this.reset(),this.numTouches=X.numTouches};Kr.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Kr.prototype.touchstart=function(X,pe,ne){(this.centroid||ne.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=X.timeStamp),ne.length===this.numTouches&&(this.centroid=ar(pe),this.touches=Wt(ne,pe)))},Kr.prototype.touchmove=function(X,pe,ne){if(!(this.aborted||!this.centroid)){var ge=Wt(ne,pe);for(var Ne in this.touches){var Je=this.touches[Ne],De=ge[Ne];(!De||De.dist(Je)>Rr)&&(this.aborted=!0)}}},Kr.prototype.touchend=function(X,pe,ne){if((!this.centroid||X.timeStamp-this.startTime>Ir)&&(this.aborted=!0),ne.length===0){var ge=!this.aborted&&this.centroid;if(this.reset(),ge)return ge}};var an=function(X){this.singleTap=new Kr(X),this.numTaps=X.numTaps,this.reset()};an.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},an.prototype.touchstart=function(X,pe,ne){this.singleTap.touchstart(X,pe,ne)},an.prototype.touchmove=function(X,pe,ne){this.singleTap.touchmove(X,pe,ne)},an.prototype.touchend=function(X,pe,ne){var ge=this.singleTap.touchend(X,pe,ne);if(ge){var Ne=X.timeStamp-this.lastTime<sr,Je=!this.lastTap||this.lastTap.dist(ge)<Rr;if((!Ne||!Je)&&this.reset(),this.count++,this.lastTime=X.timeStamp,this.lastTap=ge,this.count===this.numTaps)return this.reset(),ge}};var Fr=function(){this._zoomIn=new an({numTouches:1,numTaps:2}),this._zoomOut=new an({numTouches:2,numTaps:1}),this.reset()};Fr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Fr.prototype.touchstart=function(X,pe,ne){this._zoomIn.touchstart(X,pe,ne),this._zoomOut.touchstart(X,pe,ne)},Fr.prototype.touchmove=function(X,pe,ne){this._zoomIn.touchmove(X,pe,ne),this._zoomOut.touchmove(X,pe,ne)},Fr.prototype.touchend=function(X,pe,ne){var ge=this,Ne=this._zoomIn.touchend(X,pe,ne),Je=this._zoomOut.touchend(X,pe,ne);if(Ne)return this._active=!0,X.preventDefault(),setTimeout(function(){return ge.reset()},0),{cameraAnimation:function(De){return De.easeTo({duration:300,zoom:De.getZoom()+1,around:De.unproject(Ne)},{originalEvent:X})}};if(Je)return this._active=!0,X.preventDefault(),setTimeout(function(){return ge.reset()},0),{cameraAnimation:function(De){return De.easeTo({duration:300,zoom:De.getZoom()-1,around:De.unproject(Je)},{originalEvent:X})}}},Fr.prototype.touchcancel=function(){this.reset()},Fr.prototype.enable=function(){this._enabled=!0},Fr.prototype.disable=function(){this._enabled=!1,this.reset()},Fr.prototype.isEnabled=function(){return this._enabled},Fr.prototype.isActive=function(){return this._active};var Gr=0,Zr=2,ln=function(X){this.reset(),this._clickTolerance=X.clickTolerance||1};ln.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},ln.prototype._correctButton=function(X,pe){return!1},ln.prototype._move=function(X,pe){return{}},ln.prototype.mousedown=function(X,pe){if(!this._lastPoint){var ne=A.mouseButton(X);this._correctButton(X,ne)&&(this._lastPoint=pe,this._eventButton=ne)}},ln.prototype.mousemoveWindow=function(X,pe){var ne=this._lastPoint;if(ne&&(X.preventDefault(),!(!this._moved&&pe.dist(ne)<this._clickTolerance)))return this._moved=!0,this._lastPoint=pe,this._move(ne,pe)},ln.prototype.mouseupWindow=function(X){var pe=A.mouseButton(X);pe===this._eventButton&&(this._moved&&A.suppressClick(),this.reset())},ln.prototype.enable=function(){this._enabled=!0},ln.prototype.disable=function(){this._enabled=!1,this.reset()},ln.prototype.isEnabled=function(){return this._enabled},ln.prototype.isActive=function(){return this._active};var dn=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.mousedown=function(ne,ge){ve.prototype.mousedown.call(this,ne,ge),this._lastPoint&&(this._active=!0)},X.prototype._correctButton=function(ne,ge){return ge===Gr&&!ne.ctrlKey},X.prototype._move=function(ne,ge){return{around:ge,panDelta:ge.sub(ne)}},X}(ln),Xr=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype._correctButton=function(ne,ge){return ge===Gr&&ne.ctrlKey||ge===Zr},X.prototype._move=function(ne,ge){var Ne=.8,Je=(ge.x-ne.x)*Ne;if(Je)return this._active=!0,{bearingDelta:Je}},X.prototype.contextmenu=function(ne){ne.preventDefault()},X}(ln),Bn=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype._correctButton=function(ne,ge){return ge===Gr&&ne.ctrlKey||ge===Zr},X.prototype._move=function(ne,ge){var Ne=-.5,Je=(ge.y-ne.y)*Ne;if(Je)return this._active=!0,{pitchDelta:Je}},X.prototype.contextmenu=function(ne){ne.preventDefault()},X}(ln),Jn=function(X){this._minTouches=1,this._clickTolerance=X.clickTolerance||1,this.reset()};Jn.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)},Jn.prototype.touchstart=function(X,pe,ne){return this._calculateTransform(X,pe,ne)},Jn.prototype.touchmove=function(X,pe,ne){if(this._active)return X.preventDefault(),this._calculateTransform(X,pe,ne)},Jn.prototype.touchend=function(X,pe,ne){this._calculateTransform(X,pe,ne),this._active&&ne.length<this._minTouches&&this.reset()},Jn.prototype.touchcancel=function(){this.reset()},Jn.prototype._calculateTransform=function(X,pe,ne){ne.length>0&&(this._active=!0);var ge=Wt(ne,pe),Ne=new a.Point(0,0),Je=new a.Point(0,0),De=0;for(var xe in ge){var Ge=ge[xe],dt=this._touches[xe];dt&&(Ne._add(Ge),Je._add(Ge.sub(dt)),De++,ge[xe]=Ge)}if(this._touches=ge,!(De<this._minTouches||!Je.mag())){var _t=Je.div(De);if(this._sum._add(_t),!(this._sum.mag()<this._clickTolerance)){var Yt=Ne.div(De);return{around:Yt,panDelta:_t}}}},Jn.prototype.enable=function(){this._enabled=!0},Jn.prototype.disable=function(){this._enabled=!1,this.reset()},Jn.prototype.isEnabled=function(){return this._enabled},Jn.prototype.isActive=function(){return this._active};var na=function(){this.reset()};na.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},na.prototype._start=function(X){},na.prototype._move=function(X,pe,ne){return{}},na.prototype.touchstart=function(X,pe,ne){this._firstTwoTouches||ne.length<2||(this._firstTwoTouches=[ne[0].identifier,ne[1].identifier],this._start([pe[0],pe[1]]))},na.prototype.touchmove=function(X,pe,ne){if(this._firstTwoTouches){X.preventDefault();var ge=this._firstTwoTouches,Ne=ge[0],Je=ge[1],De=ca(ne,pe,Ne),xe=ca(ne,pe,Je);if(!(!De||!xe)){var Ge=this._aroundCenter?null:De.add(xe).div(2);return this._move([De,xe],Ge,X)}}},na.prototype.touchend=function(X,pe,ne){if(this._firstTwoTouches){var ge=this._firstTwoTouches,Ne=ge[0],Je=ge[1],De=ca(ne,pe,Ne),xe=ca(ne,pe,Je);De&&xe||(this._active&&A.suppressClick(),this.reset())}},na.prototype.touchcancel=function(){this.reset()},na.prototype.enable=function(X){this._enabled=!0,this._aroundCenter=!!X&&X.around==="center"},na.prototype.disable=function(){this._enabled=!1,this.reset()},na.prototype.isEnabled=function(){return this._enabled},na.prototype.isActive=function(){return this._active};function ca(ve,X,pe){for(var ne=0;ne<ve.length;ne++)if(ve[ne].identifier===pe)return X[ne]}var Ea=.1;function Aa(ve,X){return Math.log(ve/X)/Math.LN2}var Ua=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.reset=function(){ve.prototype.reset.call(this),delete this._distance,delete this._startDistance},X.prototype._start=function(ne){this._startDistance=this._distance=ne[0].dist(ne[1])},X.prototype._move=function(ne,ge){var Ne=this._distance;if(this._distance=ne[0].dist(ne[1]),!(!this._active&&Math.abs(Aa(this._distance,this._startDistance))<Ea))return this._active=!0,{zoomDelta:Aa(this._distance,Ne),pinchAround:ge}},X}(na),Pa=25;function Ga(ve,X){return ve.angleWith(X)*180/Math.PI}var ni=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.reset=function(){ve.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},X.prototype._start=function(ne){this._startVector=this._vector=ne[0].sub(ne[1]),this._minDiameter=ne[0].dist(ne[1])},X.prototype._move=function(ne,ge){var Ne=this._vector;if(this._vector=ne[0].sub(ne[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Ga(this._vector,Ne),pinchAround:ge}},X.prototype._isBelowThreshold=function(ne){this._minDiameter=Math.min(this._minDiameter,ne.mag());var ge=Math.PI*this._minDiameter,Ne=Pa/ge*360,Je=Ga(ne,this._startVector);return Math.abs(Je)<Ne},X}(na);function ii(ve){return Math.abs(ve.y)>Math.abs(ve.x)}var di=100,Wn=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.reset=function(){ve.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},X.prototype._start=function(ne){this._lastPoints=ne,ii(ne[0].sub(ne[1]))&&(this._valid=!1)},X.prototype._move=function(ne,ge,Ne){var Je=ne[0].sub(this._lastPoints[0]),De=ne[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Je,De,Ne.timeStamp),!!this._valid){this._lastPoints=ne,this._active=!0;var xe=(Je.y+De.y)/2,Ge=-.5;return{pitchDelta:xe*Ge}}},X.prototype.gestureBeginsVertically=function(ne,ge,Ne){if(this._valid!==void 0)return this._valid;var Je=2,De=ne.mag()>=Je,xe=ge.mag()>=Je;if(!(!De&&!xe)){if(!De||!xe)return this._firstMove===void 0&&(this._firstMove=Ne),Ne-this._firstMove<di?void 0:!1;var Ge=ne.y>0==ge.y>0;return ii(ne)&&ii(ge)&&Ge}},X}(na),Ha={panStep:100,bearingStep:15,pitchStep:10},Na=function(){var X=Ha;this._panStep=X.panStep,this._bearingStep=X.bearingStep,this._pitchStep=X.pitchStep};Na.prototype.reset=function(){this._active=!1},Na.prototype.keydown=function(X){var pe=this;if(!(X.altKey||X.ctrlKey||X.metaKey)){var ne=0,ge=0,Ne=0,Je=0,De=0;switch(X.keyCode){case 61:case 107:case 171:case 187:ne=1;break;case 189:case 109:case 173:ne=-1;break;case 37:X.shiftKey?ge=-1:(X.preventDefault(),Je=-1);break;case 39:X.shiftKey?ge=1:(X.preventDefault(),Je=1);break;case 38:X.shiftKey?Ne=1:(X.preventDefault(),De=-1);break;case 40:X.shiftKey?Ne=-1:(X.preventDefault(),De=1);break;default:return}return{cameraAnimation:function(xe){var Ge=xe.getZoom();xe.easeTo({duration:300,easeId:"keyboardHandler",easing:Xa,zoom:ne?Math.round(Ge)+ne*(X.shiftKey?2:1):Ge,bearing:xe.getBearing()+ge*pe._bearingStep,pitch:xe.getPitch()+Ne*pe._pitchStep,offset:[-Je*pe._panStep,-De*pe._panStep],center:xe.getCenter()},{originalEvent:X})}}}},Na.prototype.enable=function(){this._enabled=!0},Na.prototype.disable=function(){this._enabled=!1,this.reset()},Na.prototype.isEnabled=function(){return this._enabled},Na.prototype.isActive=function(){return this._active};function Xa(ve){return ve*(2-ve)}var Mi=4.000244140625,Oi=1/100,Xi=1/450,wi=2,mi=function(X,pe){this._map=X,this._el=X.getCanvasContainer(),this._handler=pe,this._delta=0,this._defaultZoomRate=Oi,this._wheelZoomRate=Xi,a.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};mi.prototype.setZoomRate=function(X){this._defaultZoomRate=X},mi.prototype.setWheelZoomRate=function(X){this._wheelZoomRate=X},mi.prototype.isEnabled=function(){return!!this._enabled},mi.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},mi.prototype.isZooming=function(){return!!this._zooming},mi.prototype.enable=function(X){this.isEnabled()||(this._enabled=!0,this._aroundCenter=X&&X.around==="center")},mi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},mi.prototype.wheel=function(X){if(this.isEnabled()){var pe=X.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?X.deltaY*40:X.deltaY,ne=a.browser.now(),ge=ne-(this._lastWheelEventTime||0);this._lastWheelEventTime=ne,pe!==0&&pe%Mi===0?this._type="wheel":pe!==0&&Math.abs(pe)<4?this._type="trackpad":ge>400?(this._type=null,this._lastValue=pe,this._timeout=setTimeout(this._onTimeout,40,X)):this._type||(this._type=Math.abs(ge*pe)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,pe+=this._lastValue)),X.shiftKey&&pe&&(pe=pe/4),this._type&&(this._lastWheelEvent=X,this._delta-=pe,this._active||this._start(X)),X.preventDefault()}},mi.prototype._onTimeout=function(X){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(X)},mi.prototype._start=function(X){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var pe=A.mousePos(this._el,X);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(pe)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},mi.prototype.renderFrame=function(){return this._onScrollFrame()},mi.prototype._onScrollFrame=function(){var X=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var pe=this._map.transform;if(this._delta!==0){var ne=this._type==="wheel"&&Math.abs(this._delta)>Mi?this._wheelZoomRate:this._defaultZoomRate,ge=wi/(1+Math.exp(-Math.abs(this._delta*ne)));this._delta<0&&ge!==0&&(ge=1/ge);var Ne=typeof this._targetZoom=="number"?pe.zoomScale(this._targetZoom):pe.scale;this._targetZoom=Math.min(pe.maxZoom,Math.max(pe.minZoom,pe.scaleZoom(Ne*ge))),this._type==="wheel"&&(this._startZoom=pe.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Je=typeof this._targetZoom=="number"?this._targetZoom:pe.zoom,De=this._startZoom,xe=this._easing,Ge=!1,dt;if(this._type==="wheel"&&De&&xe){var _t=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),Yt=xe(_t);dt=a.number(De,Je,Yt),_t<1?this._frameId||(this._frameId=!0):Ge=!0}else dt=Je,Ge=!0;return this._active=!0,Ge&&(this._active=!1,this._finishTimeout=setTimeout(function(){X._zooming=!1,X._handler._triggerRenderFrame(),delete X._targetZoom,delete X._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Ge,zoomDelta:dt-pe.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},mi.prototype._smoothOutEasing=function(X){var pe=a.ease;if(this._prevEase){var ne=this._prevEase,ge=(a.browser.now()-ne.start)/ne.duration,Ne=ne.easing(ge+.01)-ne.easing(ge),Je=.27/Math.sqrt(Ne*Ne+1e-4)*.01,De=Math.sqrt(.27*.27-Je*Je);pe=a.bezier(Je,De,.25,1)}return this._prevEase={start:a.browser.now(),duration:X,easing:pe},pe},mi.prototype.reset=function(){this._active=!1};var wa=function(X,pe){this._clickZoom=X,this._tapZoom=pe};wa.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},wa.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},wa.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},wa.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Ca=function(){this.reset()};Ca.prototype.reset=function(){this._active=!1},Ca.prototype.dblclick=function(X,pe){return X.preventDefault(),{cameraAnimation:function(ne){ne.easeTo({duration:300,zoom:ne.getZoom()+(X.shiftKey?-1:1),around:ne.unproject(pe)},{originalEvent:X})}}},Ca.prototype.enable=function(){this._enabled=!0},Ca.prototype.disable=function(){this._enabled=!1,this.reset()},Ca.prototype.isEnabled=function(){return this._enabled},Ca.prototype.isActive=function(){return this._active};var Ai=function(){this._tap=new an({numTouches:1,numTaps:1}),this.reset()};Ai.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Ai.prototype.touchstart=function(X,pe,ne){this._swipePoint||(this._tapTime&&X.timeStamp-this._tapTime>sr&&this.reset(),this._tapTime?ne.length>0&&(this._swipePoint=pe[0],this._swipeTouch=ne[0].identifier):this._tap.touchstart(X,pe,ne))},Ai.prototype.touchmove=function(X,pe,ne){if(!this._tapTime)this._tap.touchmove(X,pe,ne);else if(this._swipePoint){if(ne[0].identifier!==this._swipeTouch)return;var ge=pe[0],Ne=ge.y-this._swipePoint.y;return this._swipePoint=ge,X.preventDefault(),this._active=!0,{zoomDelta:Ne/128}}},Ai.prototype.touchend=function(X,pe,ne){if(this._tapTime)this._swipePoint&&ne.length===0&&this.reset();else{var ge=this._tap.touchend(X,pe,ne);ge&&(this._tapTime=X.timeStamp)}},Ai.prototype.touchcancel=function(){this.reset()},Ai.prototype.enable=function(){this._enabled=!0},Ai.prototype.disable=function(){this._enabled=!1,this.reset()},Ai.prototype.isEnabled=function(){return this._enabled},Ai.prototype.isActive=function(){return this._active};var Gi=function(X,pe,ne){this._el=X,this._mousePan=pe,this._touchPan=ne};Gi.prototype.enable=function(X){this._inertiaOptions=X||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Gi.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Gi.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Gi.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var Wo=function(X,pe,ne){this._pitchWithRotate=X.pitchWithRotate,this._mouseRotate=pe,this._mousePitch=ne};Wo.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},Wo.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},Wo.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},Wo.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var ao=function(X,pe,ne,ge){this._el=X,this._touchZoom=pe,this._touchRotate=ne,this._tapDragZoom=ge,this._rotationDisabled=!1,this._enabled=!0};ao.prototype.enable=function(X){this._touchZoom.enable(X),this._rotationDisabled||this._touchRotate.enable(X),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},ao.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},ao.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},ao.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},ao.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},ao.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var to=function(ve){return ve.zoom||ve.drag||ve.pitch||ve.rotate},Ri=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X}(a.Event);function ps(ve){return ve.panDelta&&ve.panDelta.mag()||ve.zoomDelta||ve.bearingDelta||ve.pitchDelta}var oi=function(X,pe){this._map=X,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new bi(X),this._bearingSnap=pe.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(pe),a.bindAll(["handleEvent","handleWindowEvent"],this);var ne=this._el;this._listeners=[[ne,"touchstart",{passive:!1}],[ne,"touchmove",{passive:!1}],[ne,"touchend",void 0],[ne,"touchcancel",void 0],[ne,"mousedown",void 0],[ne,"mousemove",void 0],[ne,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[ne,"mouseover",void 0],[ne,"mouseout",void 0],[ne,"dblclick",void 0],[ne,"click",void 0],[ne,"keydown",{capture:!1}],[ne,"keyup",void 0],[ne,"wheel",{passive:!1}],[ne,"contextmenu",void 0],[a.window,"blur",void 0]];for(var ge=0,Ne=this._listeners;ge<Ne.length;ge+=1){var Je=Ne[ge],De=Je[0],xe=Je[1],Ge=Je[2];A.addEventListener(De,xe,De===a.window.document?this.handleWindowEvent:this.handleEvent,Ge)}};oi.prototype.destroy=function(){for(var X=0,pe=this._listeners;X<pe.length;X+=1){var ne=pe[X],ge=ne[0],Ne=ne[1],Je=ne[2];A.removeEventListener(ge,Ne,ge===a.window.document?this.handleWindowEvent:this.handleEvent,Je)}},oi.prototype._addDefaultHandlers=function(X){var pe=this._map,ne=pe.getCanvasContainer();this._add("mapEvent",new ft(pe,X));var ge=pe.boxZoom=new mt(pe,X);this._add("boxZoom",ge);var Ne=new Fr,Je=new Ca;pe.doubleClickZoom=new wa(Je,Ne),this._add("tapZoom",Ne),this._add("clickZoom",Je);var De=new Ai;this._add("tapDragZoom",De);var xe=pe.touchPitch=new Wn;this._add("touchPitch",xe);var Ge=new Xr(X),dt=new Bn(X);pe.dragRotate=new Wo(X,Ge,dt),this._add("mouseRotate",Ge,["mousePitch"]),this._add("mousePitch",dt,["mouseRotate"]);var _t=new dn(X),Yt=new Jn(X);pe.dragPan=new Gi(ne,_t,Yt),this._add("mousePan",_t),this._add("touchPan",Yt,["touchZoom","touchRotate"]);var qt=new ni,yr=new Ua;pe.touchZoomRotate=new ao(ne,yr,qt,De),this._add("touchRotate",qt,["touchPan","touchZoom"]),this._add("touchZoom",yr,["touchPan","touchRotate"]);var Ar=pe.scrollZoom=new mi(pe,this);this._add("scrollZoom",Ar,["mousePan"]);var kr=pe.keyboard=new Na;this._add("keyboard",kr),this._add("blockableMapEvent",new kt(pe));for(var Or=0,$r=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Or<$r.length;Or+=1){var gn=$r[Or];X.interactive&&X[gn]&&pe[gn].enable(X[gn])}},oi.prototype._add=function(X,pe,ne){this._handlers.push({handlerName:X,handler:pe,allowed:ne}),this._handlersById[X]=pe},oi.prototype.stop=function(){if(!this._updatingCamera){for(var X=0,pe=this._handlers;X<pe.length;X+=1){var ne=pe[X],ge=ne.handler;ge.reset()}this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},oi.prototype.isActive=function(){for(var X=0,pe=this._handlers;X<pe.length;X+=1){var ne=pe[X],ge=ne.handler;if(ge.isActive())return!0}return!1},oi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},oi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},oi.prototype.isMoving=function(){return!!to(this._eventsInProgress)||this.isZooming()},oi.prototype._blockedByActive=function(X,pe,ne){for(var ge in X)if(ge!==ne&&(!pe||pe.indexOf(ge)<0))return!0;return!1},oi.prototype.handleWindowEvent=function(X){this.handleEvent(X,X.type+"Window")},oi.prototype._getMapTouches=function(X){for(var pe=[],ne=0,ge=X;ne<ge.length;ne+=1){var Ne=ge[ne],Je=Ne.target;this._el.contains(Je)&&pe.push(Ne)}return pe},oi.prototype.handleEvent=function(X,pe){if(X.type==="blur"){this.stop();return}this._updatingCamera=!0;for(var ne=X.type==="renderFrame"?void 0:X,ge={needsRenderFrame:!1},Ne={},Je={},De=X.touches?this._getMapTouches(X.touches):void 0,xe=De?A.touchPos(this._el,De):A.mousePos(this._el,X),Ge=0,dt=this._handlers;Ge<dt.length;Ge+=1){var _t=dt[Ge],Yt=_t.handlerName,qt=_t.handler,yr=_t.allowed;if(qt.isEnabled()){var Ar=void 0;this._blockedByActive(Je,yr,Yt)?qt.reset():qt[pe||X.type]&&(Ar=qt[pe||X.type](X,xe,De),this.mergeHandlerResult(ge,Ne,Ar,Yt,ne),Ar&&Ar.needsRenderFrame&&this._triggerRenderFrame()),(Ar||qt.isActive())&&(Je[Yt]=qt)}}var kr={};for(var Or in this._previousActiveHandlers)Je[Or]||(kr[Or]=ne);this._previousActiveHandlers=Je,(Object.keys(kr).length||ps(ge))&&(this._changes.push([ge,Ne,kr]),this._triggerRenderFrame()),(Object.keys(Je).length||ps(ge))&&this._map._stop(!0),this._updatingCamera=!1;var $r=ge.cameraAnimation;$r&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],$r(this._map))},oi.prototype.mergeHandlerResult=function(X,pe,ne,ge,Ne){if(ne){a.extend(X,ne);var Je={handlerName:ge,originalEvent:ne.originalEvent||Ne};ne.zoomDelta!==void 0&&(pe.zoom=Je),ne.panDelta!==void 0&&(pe.drag=Je),ne.pitchDelta!==void 0&&(pe.pitch=Je),ne.bearingDelta!==void 0&&(pe.rotate=Je)}},oi.prototype._applyChanges=function(){for(var X={},pe={},ne={},ge=0,Ne=this._changes;ge<Ne.length;ge+=1){var Je=Ne[ge],De=Je[0],xe=Je[1],Ge=Je[2];De.panDelta&&(X.panDelta=(X.panDelta||new a.Point(0,0))._add(De.panDelta)),De.zoomDelta&&(X.zoomDelta=(X.zoomDelta||0)+De.zoomDelta),De.bearingDelta&&(X.bearingDelta=(X.bearingDelta||0)+De.bearingDelta),De.pitchDelta&&(X.pitchDelta=(X.pitchDelta||0)+De.pitchDelta),De.around!==void 0&&(X.around=De.around),De.pinchAround!==void 0&&(X.pinchAround=De.pinchAround),De.noInertia&&(X.noInertia=De.noInertia),a.extend(pe,xe),a.extend(ne,Ge)}this._updateMapTransform(X,pe,ne),this._changes=[]},oi.prototype._updateMapTransform=function(X,pe,ne){var ge=this._map,Ne=ge.transform;if(!ps(X))return this._fireEvents(pe,ne);var Je=X.panDelta,De=X.zoomDelta,xe=X.bearingDelta,Ge=X.pitchDelta,dt=X.around,_t=X.pinchAround;_t!==void 0&&(dt=_t),ge._stop(!0),dt=dt||ge.transform.centerPoint;var Yt=Ne.pointLocation(Je?dt.sub(Je):dt);xe&&(Ne.bearing+=xe),Ge&&(Ne.pitch+=Ge),De&&(Ne.zoom+=De),Ne.setLocationAtPoint(Yt,dt),this._map._update(),X.noInertia||this._inertia.record(X),this._fireEvents(pe,ne)},oi.prototype._fireEvents=function(X,pe){var ne=this,ge=to(this._eventsInProgress),Ne=to(X),Je={};for(var De in X){var xe=X[De],Ge=xe.originalEvent;this._eventsInProgress[De]||(Je[De+"start"]=Ge),this._eventsInProgress[De]=X[De]}!ge&&Ne&&this._fireEvent("movestart",Ne.originalEvent);for(var dt in Je)this._fireEvent(dt,Je[dt]);X.rotate&&(this._bearingChanged=!0),Ne&&this._fireEvent("move",Ne.originalEvent);for(var _t in X){var Yt=X[_t],qt=Yt.originalEvent;this._fireEvent(_t,qt)}var yr={},Ar;for(var kr in this._eventsInProgress){var Or=this._eventsInProgress[kr],$r=Or.handlerName,gn=Or.originalEvent;this._handlersById[$r].isActive()||(delete this._eventsInProgress[kr],Ar=pe[$r]||gn,yr[kr+"end"]=Ar)}for(var An in yr)this._fireEvent(An,yr[An]);var Nn=to(this._eventsInProgress);if((ge||Ne)&&!Nn){this._updatingCamera=!0;var In=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),On=function(Yn){return Yn!==0&&-ne._bearingSnap<Yn&&Yn<ne._bearingSnap};In?(On(In.bearing||this._map.getBearing())&&(In.bearing=0),this._map.easeTo(In,{originalEvent:Ar})):(this._map.fire(new a.Event("moveend",{originalEvent:Ar})),On(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},oi.prototype._fireEvent=function(X,pe){this._map.fire(new a.Event(X,pe?{originalEvent:pe}:{}))},oi.prototype._triggerRenderFrame=function(){var X=this;this._frameId===void 0&&(this._frameId=this._map._requestRenderFrame(function(pe){delete X._frameId,X.handleEvent(new Ri("renderFrame",{timeStamp:pe})),X._applyChanges()}))};var Ds=function(ve){function X(pe,ne){ve.call(this),this._moving=!1,this._zooming=!1,this.transform=pe,this._bearingSnap=ne.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getCenter=function(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)},X.prototype.setCenter=function(ne,ge){return this.jumpTo({center:ne},ge)},X.prototype.panBy=function(ne,ge,Ne){return ne=a.Point.convert(ne).mult(-1),this.panTo(this.transform.center,a.extend({offset:ne},ge),Ne)},X.prototype.panTo=function(ne,ge,Ne){return this.easeTo(a.extend({center:ne},ge),Ne)},X.prototype.getZoom=function(){return this.transform.zoom},X.prototype.setZoom=function(ne,ge){return this.jumpTo({zoom:ne},ge),this},X.prototype.zoomTo=function(ne,ge,Ne){return this.easeTo(a.extend({zoom:ne},ge),Ne)},X.prototype.zoomIn=function(ne,ge){return this.zoomTo(this.getZoom()+1,ne,ge),this},X.prototype.zoomOut=function(ne,ge){return this.zoomTo(this.getZoom()-1,ne,ge),this},X.prototype.getBearing=function(){return this.transform.bearing},X.prototype.setBearing=function(ne,ge){return this.jumpTo({bearing:ne},ge),this},X.prototype.getPadding=function(){return this.transform.padding},X.prototype.setPadding=function(ne,ge){return this.jumpTo({padding:ne},ge),this},X.prototype.rotateTo=function(ne,ge,Ne){return this.easeTo(a.extend({bearing:ne},ge),Ne)},X.prototype.resetNorth=function(ne,ge){return this.rotateTo(0,a.extend({duration:1e3},ne),ge),this},X.prototype.resetNorthPitch=function(ne,ge){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},ne),ge),this},X.prototype.snapToNorth=function(ne,ge){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(ne,ge):this},X.prototype.getPitch=function(){return this.transform.pitch},X.prototype.setPitch=function(ne,ge){return this.jumpTo({pitch:ne},ge),this},X.prototype.cameraForBounds=function(ne,ge){return ne=a.LngLatBounds.convert(ne),this._cameraForBoxAndBearing(ne.getNorthWest(),ne.getSouthEast(),0,ge)},X.prototype._cameraForBoxAndBearing=function(ne,ge,Ne,Je){var De={top:0,bottom:0,right:0,left:0};if(Je=a.extend({padding:De,offset:[0,0],maxZoom:this.transform.maxZoom},Je),typeof Je.padding=="number"){var xe=Je.padding;Je.padding={top:xe,bottom:xe,right:xe,left:xe}}Je.padding=a.extend(De,Je.padding);var Ge=this.transform,dt=Ge.padding,_t=Ge.project(a.LngLat.convert(ne)),Yt=Ge.project(a.LngLat.convert(ge)),qt=_t.rotate(-Ne*Math.PI/180),yr=Yt.rotate(-Ne*Math.PI/180),Ar=new a.Point(Math.max(qt.x,yr.x),Math.max(qt.y,yr.y)),kr=new a.Point(Math.min(qt.x,yr.x),Math.min(qt.y,yr.y)),Or=Ar.sub(kr),$r=(Ge.width-(dt.left+dt.right+Je.padding.left+Je.padding.right))/Or.x,gn=(Ge.height-(dt.top+dt.bottom+Je.padding.top+Je.padding.bottom))/Or.y;if(gn<0||$r<0){a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var An=Math.min(Ge.scaleZoom(Ge.scale*Math.min($r,gn)),Je.maxZoom),Nn=a.Point.convert(Je.offset),In=(Je.padding.left-Je.padding.right)/2,On=(Je.padding.top-Je.padding.bottom)/2,Yn=new a.Point(Nn.x+In,Nn.y+On),ta=Yn.mult(Ge.scale/Ge.zoomScale(An)),qn=Ge.unproject(_t.add(Yt).div(2).sub(ta));return{center:qn,zoom:An,bearing:Ne}},X.prototype.fitBounds=function(ne,ge,Ne){return this._fitInternal(this.cameraForBounds(ne,ge),ge,Ne)},X.prototype.fitScreenCoordinates=function(ne,ge,Ne,Je,De){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(ne)),this.transform.pointLocation(a.Point.convert(ge)),Ne,Je),Je,De)},X.prototype._fitInternal=function(ne,ge,Ne){return ne?(ge=a.extend(ne,ge),delete ge.padding,ge.linear?this.easeTo(ge,Ne):this.flyTo(ge,Ne)):this},X.prototype.jumpTo=function(ne,ge){this.stop();var Ne=this.transform,Je=!1,De=!1,xe=!1;return"zoom"in ne&&Ne.zoom!==+ne.zoom&&(Je=!0,Ne.zoom=+ne.zoom),ne.center!==void 0&&(Ne.center=a.LngLat.convert(ne.center)),"bearing"in ne&&Ne.bearing!==+ne.bearing&&(De=!0,Ne.bearing=+ne.bearing),"pitch"in ne&&Ne.pitch!==+ne.pitch&&(xe=!0,Ne.pitch=+ne.pitch),ne.padding!=null&&!Ne.isPaddingEqual(ne.padding)&&(Ne.padding=ne.padding),this.fire(new a.Event("movestart",ge)).fire(new a.Event("move",ge)),Je&&this.fire(new a.Event("zoomstart",ge)).fire(new a.Event("zoom",ge)).fire(new a.Event("zoomend",ge)),De&&this.fire(new a.Event("rotatestart",ge)).fire(new a.Event("rotate",ge)).fire(new a.Event("rotateend",ge)),xe&&this.fire(new a.Event("pitchstart",ge)).fire(new a.Event("pitch",ge)).fire(new a.Event("pitchend",ge)),this.fire(new a.Event("moveend",ge))},X.prototype.easeTo=function(ne,ge){var Ne=this;this._stop(!1,ne.easeId),ne=a.extend({offset:[0,0],duration:500,easing:a.ease},ne),(ne.animate===!1||!ne.essential&&a.browser.prefersReducedMotion)&&(ne.duration=0);var Je=this.transform,De=this.getZoom(),xe=this.getBearing(),Ge=this.getPitch(),dt=this.getPadding(),_t="zoom"in ne?+ne.zoom:De,Yt="bearing"in ne?this._normalizeBearing(ne.bearing,xe):xe,qt="pitch"in ne?+ne.pitch:Ge,yr="padding"in ne?ne.padding:Je.padding,Ar=a.Point.convert(ne.offset),kr=Je.centerPoint.add(Ar),Or=Je.pointLocation(kr),$r=a.LngLat.convert(ne.center||Or);this._normalizeCenter($r);var gn=Je.project(Or),An=Je.project($r).sub(gn),Nn=Je.zoomScale(_t-De),In,On;ne.around&&(In=a.LngLat.convert(ne.around),On=Je.locationPoint(In));var Yn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||_t!==De,this._rotating=this._rotating||xe!==Yt,this._pitching=this._pitching||qt!==Ge,this._padding=!Je.isPaddingEqual(yr),this._easeId=ne.easeId,this._prepareEase(ge,ne.noMoveStart,Yn),clearTimeout(this._easeEndTimeoutID),this._ease(function(ta){if(Ne._zooming&&(Je.zoom=a.number(De,_t,ta)),Ne._rotating&&(Je.bearing=a.number(xe,Yt,ta)),Ne._pitching&&(Je.pitch=a.number(Ge,qt,ta)),Ne._padding&&(Je.interpolatePadding(dt,yr,ta),kr=Je.centerPoint.add(Ar)),In)Je.setLocationAtPoint(In,On);else{var qn=Je.zoomScale(Je.zoom-De),$n=_t>De?Math.min(2,Nn):Math.max(.5,Nn),ia=Math.pow($n,1-ta),da=Je.unproject(gn.add(An.mult(ta*ia)).mult(qn));Je.setLocationAtPoint(Je.renderWorldCopies?da.wrap():da,kr)}Ne._fireMoveEvents(ge)},function(ta){Ne._afterEase(ge,ta)},ne),this},X.prototype._prepareEase=function(ne,ge,Ne){Ne===void 0&&(Ne={}),this._moving=!0,!ge&&!Ne.moving&&this.fire(new a.Event("movestart",ne)),this._zooming&&!Ne.zooming&&this.fire(new a.Event("zoomstart",ne)),this._rotating&&!Ne.rotating&&this.fire(new a.Event("rotatestart",ne)),this._pitching&&!Ne.pitching&&this.fire(new a.Event("pitchstart",ne))},X.prototype._fireMoveEvents=function(ne){this.fire(new a.Event("move",ne)),this._zooming&&this.fire(new a.Event("zoom",ne)),this._rotating&&this.fire(new a.Event("rotate",ne)),this._pitching&&this.fire(new a.Event("pitch",ne))},X.prototype._afterEase=function(ne,ge){if(!(this._easeId&&ge&&this._easeId===ge)){delete this._easeId;var Ne=this._zooming,Je=this._rotating,De=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,Ne&&this.fire(new a.Event("zoomend",ne)),Je&&this.fire(new a.Event("rotateend",ne)),De&&this.fire(new a.Event("pitchend",ne)),this.fire(new a.Event("moveend",ne))}},X.prototype.flyTo=function(ne,ge){var Ne=this;if(!ne.essential&&a.browser.prefersReducedMotion){var Je=a.pick(ne,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Je,ge)}this.stop(),ne=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},ne);var De=this.transform,xe=this.getZoom(),Ge=this.getBearing(),dt=this.getPitch(),_t=this.getPadding(),Yt="zoom"in ne?a.clamp(+ne.zoom,De.minZoom,De.maxZoom):xe,qt="bearing"in ne?this._normalizeBearing(ne.bearing,Ge):Ge,yr="pitch"in ne?+ne.pitch:dt,Ar="padding"in ne?ne.padding:De.padding,kr=De.zoomScale(Yt-xe),Or=a.Point.convert(ne.offset),$r=De.centerPoint.add(Or),gn=De.pointLocation($r),An=a.LngLat.convert(ne.center||gn);this._normalizeCenter(An);var Nn=De.project(gn),In=De.project(An).sub(Nn),On=ne.curve,Yn=Math.max(De.width,De.height),ta=Yn/kr,qn=In.mag();if("minZoom"in ne){var $n=a.clamp(Math.min(ne.minZoom,xe,Yt),De.minZoom,De.maxZoom),ia=Yn/De.zoomScale($n-xe);On=Math.sqrt(ia/qn*2)}var da=On*On;function La(za){var ri=(ta*ta-Yn*Yn+(za?-1:1)*da*da*qn*qn)/(2*(za?ta:Yn)*da*qn);return Math.log(Math.sqrt(ri*ri+1)-ri)}function ja(za){return(Math.exp(za)-Math.exp(-za))/2}function Oa(za){return(Math.exp(za)+Math.exp(-za))/2}function Va(za){return ja(za)/Oa(za)}var ga=La(0),Ja=function(za){return Oa(ga)/Oa(ga+On*za)},Ka=function(za){return Yn*((Oa(ga)*Va(ga+On*za)-ja(ga))/da)/qn},ai=(La(1)-ga)/On;if(Math.abs(qn)<1e-6||!isFinite(ai)){if(Math.abs(Yn-ta)<1e-6)return this.easeTo(ne,ge);var Qa=ta<Yn?-1:1;ai=Math.abs(Math.log(ta/Yn))/On,Ka=function(){return 0},Ja=function(za){return Math.exp(Qa*On*za)}}if("duration"in ne)ne.duration=+ne.duration;else{var ti="screenSpeed"in ne?+ne.screenSpeed/On:+ne.speed;ne.duration=1e3*ai/ti}return ne.maxDuration&&ne.duration>ne.maxDuration&&(ne.duration=0),this._zooming=!0,this._rotating=Ge!==qt,this._pitching=yr!==dt,this._padding=!De.isPaddingEqual(Ar),this._prepareEase(ge,!1),this._ease(function(za){var ri=za*ai,Ci=1/Ja(ri);De.zoom=za===1?Yt:xe+De.scaleZoom(Ci),Ne._rotating&&(De.bearing=a.number(Ge,qt,za)),Ne._pitching&&(De.pitch=a.number(dt,yr,za)),Ne._padding&&(De.interpolatePadding(_t,Ar,za),$r=De.centerPoint.add(Or));var Ki=za===1?An:De.unproject(Nn.add(In.mult(Ka(ri))).mult(Ci));De.setLocationAtPoint(De.renderWorldCopies?Ki.wrap():Ki,$r),Ne._fireMoveEvents(ge)},function(){return Ne._afterEase(ge)},ne),this},X.prototype.isEasing=function(){return!!this._easeFrameId},X.prototype.stop=function(){return this._stop()},X.prototype._stop=function(ne,ge){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var Ne=this._onEaseEnd;delete this._onEaseEnd,Ne.call(this,ge)}if(!ne){var Je=this.handlers;Je&&Je.stop()}return this},X.prototype._ease=function(ne,ge,Ne){Ne.animate===!1||Ne.duration===0?(ne(1),ge()):(this._easeStart=a.browser.now(),this._easeOptions=Ne,this._onEaseFrame=ne,this._onEaseEnd=ge,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},X.prototype._renderFrameCallback=function(){var ne=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(ne)),ne<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},X.prototype._normalizeBearing=function(ne,ge){ne=a.wrap(ne,-180,180);var Ne=Math.abs(ne-ge);return Math.abs(ne-360-ge)<Ne&&(ne-=360),Math.abs(ne+360-ge)<Ne&&(ne+=360),ne},X.prototype._normalizeCenter=function(ne){var ge=this.transform;if(!(!ge.renderWorldCopies||ge.lngRange)){var Ne=ne.lng-ge.center.lng;ne.lng+=Ne>180?-360:Ne<-180?360:0}},X}(a.Evented),rs=function(X){X===void 0&&(X={}),this.options=X,a.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};rs.prototype.getDefaultPosition=function(){return"bottom-right"},rs.prototype.onAdd=function(X){var pe=this.options&&this.options.compact;return this._map=X,this._container=A.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=A.create("div","mapboxgl-ctrl-attrib-inner",this._container),pe&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),pe===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},rs.prototype.onRemove=function(){A.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},rs.prototype._updateEditLink=function(){var X=this._editLink;X||(X=this._editLink=this._container.querySelector(".mapbox-improve-map"));var pe=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(X){var ne=pe.reduce(function(ge,Ne,Je){return Ne.value&&(ge+=Ne.key+"="+Ne.value+(Je<pe.length-1?"&":"")),ge},"?");X.href=a.config.FEEDBACK_URL+"/"+ne+(this._map._hash?this._map._hash.getHashString(!0):""),X.rel="noopener nofollow"}},rs.prototype._updateData=function(X){X&&(X.sourceDataType==="metadata"||X.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},rs.prototype._updateAttributions=function(){if(this._map.style){var X=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?X=X.concat(this.options.customAttribution.map(function(xe){return typeof xe!="string"?"":xe})):typeof this.options.customAttribution=="string"&&X.push(this.options.customAttribution)),this._map.style.stylesheet){var pe=this._map.style.stylesheet;this.styleOwner=pe.owner,this.styleId=pe.id}var ne=this._map.style.sourceCaches;for(var ge in ne){var Ne=ne[ge];if(Ne.used){var Je=Ne.getSource();Je.attribution&&X.indexOf(Je.attribution)<0&&X.push(Je.attribution)}}X.sort(function(xe,Ge){return xe.length-Ge.length}),X=X.filter(function(xe,Ge){for(var dt=Ge+1;dt<X.length;dt++)if(X[dt].indexOf(xe)>=0)return!1;return!0});var De=X.join(" | ");De!==this._attribHTML&&(this._attribHTML=De,X.length?(this._innerContainer.innerHTML=De,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},rs.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var ei=function(){a.bindAll(["_updateLogo"],this),a.bindAll(["_updateCompact"],this)};ei.prototype.onAdd=function(X){this._map=X,this._container=A.create("div","mapboxgl-ctrl");var pe=A.create("a","mapboxgl-ctrl-logo");return pe.target="_blank",pe.rel="noopener nofollow",pe.href="https://www.mapbox.com/",pe.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),pe.setAttribute("rel","noopener nofollow"),this._container.appendChild(pe),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},ei.prototype.onRemove=function(){A.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},ei.prototype.getDefaultPosition=function(){return"bottom-left"},ei.prototype._updateLogo=function(X){(!X||X.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},ei.prototype._logoRequired=function(){if(this._map.style){var X=this._map.style.sourceCaches;for(var pe in X){var ne=X[pe].getSource();if(ne.mapbox_logo)return!0}return!1}},ei.prototype._updateCompact=function(){var X=this._container.children;if(X.length){var pe=X[0];this._map.getCanvasContainer().offsetWidth<250?pe.classList.add("mapboxgl-compact"):pe.classList.remove("mapboxgl-compact")}};var Si=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Si.prototype.add=function(X){var pe=++this._id,ne=this._queue;return ne.push({callback:X,id:pe,cancelled:!1}),pe},Si.prototype.remove=function(X){for(var pe=this._currentlyRunning,ne=pe?this._queue.concat(pe):this._queue,ge=0,Ne=ne;ge<Ne.length;ge+=1){var Je=Ne[ge];if(Je.id===X){Je.cancelled=!0;return}}},Si.prototype.run=function(X){X===void 0&&(X=0);var pe=this._currentlyRunning=this._queue;this._queue=[];for(var ne=0,ge=pe;ne<ge.length;ne+=1){var Ne=ge[ne];if(!Ne.cancelled&&(Ne.callback(X),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Si.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Mc={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Vf=a.window.HTMLImageElement,$c=a.window.HTMLElement,sf=a.window.ImageBitmap,Gf=-2,mh=22,ns=0,su=60,xh={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:Gf,maxZoom:mh,minPitch:ns,maxPitch:su,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Iu=function(ve){function X(ne){var ge=this;if(ne=a.extend({},xh,ne),ne.minZoom!=null&&ne.maxZoom!=null&&ne.minZoom>ne.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(ne.minPitch!=null&&ne.maxPitch!=null&&ne.minPitch>ne.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(ne.minPitch!=null&&ne.minPitch<ns)throw new Error("minPitch must be greater than or equal to "+ns);if(ne.maxPitch!=null&&ne.maxPitch>su)throw new Error("maxPitch must be less than or equal to "+su);var Ne=new Sn(ne.minZoom,ne.maxZoom,ne.minPitch,ne.maxPitch,ne.renderWorldCopies);if(ve.call(this,Ne,ne),this._interactive=ne.interactive,this._maxTileCacheSize=ne.maxTileCacheSize,this._failIfMajorPerformanceCaveat=ne.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=ne.preserveDrawingBuffer,this._antialias=ne.antialias,this._trackResize=ne.trackResize,this._bearingSnap=ne.bearingSnap,this._refreshExpiredTiles=ne.refreshExpiredTiles,this._fadeDuration=ne.fadeDuration,this._crossSourceCollisions=ne.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=ne.collectResourceTiming,this._renderTaskQueue=new Si,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},Mc,ne.locale),this._requestManager=new a.RequestManager(ne.transformRequest,ne.accessToken),typeof ne.container=="string"){if(this._container=a.window.document.getElementById(ne.container),!this._container)throw new Error("Container '"+ne.container+"' not found.")}else if(ne.container instanceof $c)this._container=ne.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(ne.maxBounds&&this.setMaxBounds(ne.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return ge._update(!1)}),this.on("moveend",function(){return ge._update(!1)}),this.on("zoom",function(){return ge._update(!0)}),typeof a.window<"u"&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1)),this.handlers=new oi(this,ne);var Je=typeof ne.hash=="string"&&ne.hash||void 0;this._hash=ne.hash&&new Ra(Je).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:ne.center,zoom:ne.zoom,bearing:ne.bearing,pitch:ne.pitch}),ne.bounds&&(this.resize(),this.fitBounds(ne.bounds,a.extend({},ne.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=ne.localIdeographFontFamily,ne.style&&this.setStyle(ne.style,{localIdeographFontFamily:ne.localIdeographFontFamily}),ne.attributionControl&&this.addControl(new rs({customAttribution:ne.customAttribution})),this.addControl(new ei,ne.logoPosition),this.on("style.load",function(){ge.transform.unmodified&&ge.jumpTo(ge.style.stylesheet)}),this.on("data",function(De){ge._update(De.dataType==="style"),ge.fire(new a.Event(De.dataType+"data",De))}),this.on("dataloading",function(De){ge.fire(new a.Event(De.dataType+"dataloading",De))})}ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X;var pe={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return X.prototype._getMapId=function(){return this._mapId},X.prototype.addControl=function(ge,Ne){if(Ne===void 0&&ge.getDefaultPosition&&(Ne=ge.getDefaultPosition()),Ne===void 0&&(Ne="top-right"),!ge||!ge.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Je=ge.onAdd(this);this._controls.push(ge);var De=this._controlPositions[Ne];return Ne.indexOf("bottom")!==-1?De.insertBefore(Je,De.firstChild):De.appendChild(Je),this},X.prototype.removeControl=function(ge){if(!ge||!ge.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var Ne=this._controls.indexOf(ge);return Ne>-1&&this._controls.splice(Ne,1),ge.onRemove(this),this},X.prototype.resize=function(ge){var Ne=this._containerDimensions(),Je=Ne[0],De=Ne[1];this._resizeCanvas(Je,De),this.transform.resize(Je,De),this.painter.resize(Je,De);var xe=!this._moving;return xe&&(this.stop(),this.fire(new a.Event("movestart",ge)).fire(new a.Event("move",ge))),this.fire(new a.Event("resize",ge)),xe&&this.fire(new a.Event("moveend",ge)),this},X.prototype.getBounds=function(){return this.transform.getBounds()},X.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},X.prototype.setMaxBounds=function(ge){return this.transform.setMaxBounds(a.LngLatBounds.convert(ge)),this._update()},X.prototype.setMinZoom=function(ge){if(ge=ge??Gf,ge>=Gf&&ge<=this.transform.maxZoom)return this.transform.minZoom=ge,this._update(),this.getZoom()<ge&&this.setZoom(ge),this;throw new Error("minZoom must be between "+Gf+" and the current maxZoom, inclusive")},X.prototype.getMinZoom=function(){return this.transform.minZoom},X.prototype.setMaxZoom=function(ge){if(ge=ge??mh,ge>=this.transform.minZoom)return this.transform.maxZoom=ge,this._update(),this.getZoom()>ge&&this.setZoom(ge),this;throw new Error("maxZoom must be greater than the current minZoom")},X.prototype.getMaxZoom=function(){return this.transform.maxZoom},X.prototype.setMinPitch=function(ge){if(ge=ge??ns,ge<ns)throw new Error("minPitch must be greater than or equal to "+ns);if(ge>=ns&&ge<=this.transform.maxPitch)return this.transform.minPitch=ge,this._update(),this.getPitch()<ge&&this.setPitch(ge),this;throw new Error("minPitch must be between "+ns+" and the current maxPitch, inclusive")},X.prototype.getMinPitch=function(){return this.transform.minPitch},X.prototype.setMaxPitch=function(ge){if(ge=ge??su,ge>su)throw new Error("maxPitch must be less than or equal to "+su);if(ge>=this.transform.minPitch)return this.transform.maxPitch=ge,this._update(),this.getPitch()>ge&&this.setPitch(ge),this;throw new Error("maxPitch must be greater than the current minPitch")},X.prototype.getMaxPitch=function(){return this.transform.maxPitch},X.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},X.prototype.setRenderWorldCopies=function(ge){return this.transform.renderWorldCopies=ge,this._update()},X.prototype.project=function(ge){return this.transform.locationPoint(a.LngLat.convert(ge))},X.prototype.unproject=function(ge){return this.transform.pointLocation(a.Point.convert(ge))},X.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},X.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},X.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},X.prototype._createDelegatedListener=function(ge,Ne,Je){var De=this,xe;if(ge==="mouseenter"||ge==="mouseover"){var Ge=!1,dt=function(kr){var Or=De.getLayer(Ne)?De.queryRenderedFeatures(kr.point,{layers:[Ne]}):[];Or.length?Ge||(Ge=!0,Je.call(De,new Ye(ge,De,kr.originalEvent,{features:Or}))):Ge=!1},_t=function(){Ge=!1};return{layer:Ne,listener:Je,delegates:{mousemove:dt,mouseout:_t}}}else if(ge==="mouseleave"||ge==="mouseout"){var Yt=!1,qt=function(kr){var Or=De.getLayer(Ne)?De.queryRenderedFeatures(kr.point,{layers:[Ne]}):[];Or.length?Yt=!0:Yt&&(Yt=!1,Je.call(De,new Ye(ge,De,kr.originalEvent)))},yr=function(kr){Yt&&(Yt=!1,Je.call(De,new Ye(ge,De,kr.originalEvent)))};return{layer:Ne,listener:Je,delegates:{mousemove:qt,mouseout:yr}}}else{var Ar=function(kr){var Or=De.getLayer(Ne)?De.queryRenderedFeatures(kr.point,{layers:[Ne]}):[];Or.length&&(kr.features=Or,Je.call(De,kr),delete kr.features)};return{layer:Ne,listener:Je,delegates:(xe={},xe[ge]=Ar,xe)}}},X.prototype.on=function(ge,Ne,Je){if(Je===void 0)return ve.prototype.on.call(this,ge,Ne);var De=this._createDelegatedListener(ge,Ne,Je);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[ge]=this._delegatedListeners[ge]||[],this._delegatedListeners[ge].push(De);for(var xe in De.delegates)this.on(xe,De.delegates[xe]);return this},X.prototype.once=function(ge,Ne,Je){if(Je===void 0)return ve.prototype.once.call(this,ge,Ne);var De=this._createDelegatedListener(ge,Ne,Je);for(var xe in De.delegates)this.once(xe,De.delegates[xe]);return this},X.prototype.off=function(ge,Ne,Je){var De=this;if(Je===void 0)return ve.prototype.off.call(this,ge,Ne);var xe=function(Ge){for(var dt=Ge[ge],_t=0;_t<dt.length;_t++){var Yt=dt[_t];if(Yt.layer===Ne&&Yt.listener===Je){for(var qt in Yt.delegates)De.off(qt,Yt.delegates[qt]);return dt.splice(_t,1),De}}};return this._delegatedListeners&&this._delegatedListeners[ge]&&xe(this._delegatedListeners),this},X.prototype.queryRenderedFeatures=function(ge,Ne){if(!this.style)return[];Ne===void 0&&ge!==void 0&&!(ge instanceof a.Point)&&!Array.isArray(ge)&&(Ne=ge,ge=void 0),Ne=Ne||{},ge=ge||[[0,0],[this.transform.width,this.transform.height]];var Je;if(ge instanceof a.Point||typeof ge[0]=="number")Je=[a.Point.convert(ge)];else{var De=a.Point.convert(ge[0]),xe=a.Point.convert(ge[1]);Je=[De,new a.Point(xe.x,De.y),xe,new a.Point(De.x,xe.y),De]}return this.style.queryRenderedFeatures(Je,Ne,this.transform)},X.prototype.querySourceFeatures=function(ge,Ne){return this.style.querySourceFeatures(ge,Ne)},X.prototype.setStyle=function(ge,Ne){return Ne=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},Ne),Ne.diff!==!1&&Ne.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&ge?(this._diffStyle(ge,Ne),this):(this._localIdeographFontFamily=Ne.localIdeographFontFamily,this._updateStyle(ge,Ne))},X.prototype._getUIString=function(ge){var Ne=this._locale[ge];if(Ne==null)throw new Error("Missing UI string '"+ge+"'");return Ne},X.prototype._updateStyle=function(ge,Ne){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),ge)this.style=new po(this,Ne||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof ge=="string"?this.style.loadURL(ge):this.style.loadJSON(ge),this},X.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new po(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},X.prototype._diffStyle=function(ge,Ne){var Je=this;if(typeof ge=="string"){var De=this._requestManager.normalizeStyleURL(ge),xe=this._requestManager.transformRequest(De,a.ResourceType.Style);a.getJSON(xe,function(Ge,dt){Ge?Je.fire(new a.ErrorEvent(Ge)):dt&&Je._updateDiff(dt,Ne)})}else typeof ge=="object"&&this._updateDiff(ge,Ne)},X.prototype._updateDiff=function(ge,Ne){try{this.style.setState(ge)&&this._update(!0)}catch(Je){a.warnOnce("Unable to perform style diff: "+(Je.message||Je.error||Je)+".  Rebuilding the style from scratch."),this._updateStyle(ge,Ne)}},X.prototype.getStyle=function(){if(this.style)return this.style.serialize()},X.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")},X.prototype.addSource=function(ge,Ne){return this._lazyInitEmptyStyle(),this.style.addSource(ge,Ne),this._update(!0)},X.prototype.isSourceLoaded=function(ge){var Ne=this.style&&this.style.sourceCaches[ge];if(Ne===void 0){this.fire(new a.ErrorEvent(new Error("There is no source with ID '"+ge+"'")));return}return Ne.loaded()},X.prototype.areTilesLoaded=function(){var ge=this.style&&this.style.sourceCaches;for(var Ne in ge){var Je=ge[Ne],De=Je._tiles;for(var xe in De){var Ge=De[xe];if(!(Ge.state==="loaded"||Ge.state==="errored"))return!1}}return!0},X.prototype.addSourceType=function(ge,Ne,Je){return this._lazyInitEmptyStyle(),this.style.addSourceType(ge,Ne,Je)},X.prototype.removeSource=function(ge){return this.style.removeSource(ge),this._update(!0)},X.prototype.getSource=function(ge){return this.style.getSource(ge)},X.prototype.addImage=function(ge,Ne,Je){Je===void 0&&(Je={});var De=Je.pixelRatio;De===void 0&&(De=1);var xe=Je.sdf;xe===void 0&&(xe=!1);var Ge=Je.stretchX,dt=Je.stretchY,_t=Je.content;this._lazyInitEmptyStyle();var Yt=0;if(Ne instanceof Vf||sf&&Ne instanceof sf){var qt=a.browser.getImageData(Ne),yr=qt.width,Ar=qt.height,kr=qt.data;this.style.addImage(ge,{data:new a.RGBAImage({width:yr,height:Ar},kr),pixelRatio:De,stretchX:Ge,stretchY:dt,content:_t,sdf:xe,version:Yt})}else{if(Ne.width===void 0||Ne.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Or=Ne.width,$r=Ne.height,gn=Ne.data,An=Ne;this.style.addImage(ge,{data:new a.RGBAImage({width:Or,height:$r},new Uint8Array(gn)),pixelRatio:De,stretchX:Ge,stretchY:dt,content:_t,sdf:xe,version:Yt,userImage:An}),An.onAdd&&An.onAdd(this,ge)}},X.prototype.updateImage=function(ge,Ne){var Je=this.style.getImage(ge);if(!Je)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var De=Ne instanceof Vf||sf&&Ne instanceof sf?a.browser.getImageData(Ne):Ne,xe=De.width,Ge=De.height,dt=De.data;if(xe===void 0||Ge===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(xe!==Je.data.width||Ge!==Je.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var _t=!(Ne instanceof Vf||sf&&Ne instanceof sf);Je.data.replace(dt,_t),this.style.updateImage(ge,Je)},X.prototype.hasImage=function(ge){return ge?!!this.style.getImage(ge):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)},X.prototype.removeImage=function(ge){this.style.removeImage(ge)},X.prototype.loadImage=function(ge,Ne){a.getImage(this._requestManager.transformRequest(ge,a.ResourceType.Image),Ne)},X.prototype.listImages=function(){return this.style.listImages()},X.prototype.addLayer=function(ge,Ne){return this._lazyInitEmptyStyle(),this.style.addLayer(ge,Ne),this._update(!0)},X.prototype.moveLayer=function(ge,Ne){return this.style.moveLayer(ge,Ne),this._update(!0)},X.prototype.removeLayer=function(ge){return this.style.removeLayer(ge),this._update(!0)},X.prototype.getLayer=function(ge){return this.style.getLayer(ge)},X.prototype.setLayerZoomRange=function(ge,Ne,Je){return this.style.setLayerZoomRange(ge,Ne,Je),this._update(!0)},X.prototype.setFilter=function(ge,Ne,Je){return Je===void 0&&(Je={}),this.style.setFilter(ge,Ne,Je),this._update(!0)},X.prototype.getFilter=function(ge){return this.style.getFilter(ge)},X.prototype.setPaintProperty=function(ge,Ne,Je,De){return De===void 0&&(De={}),this.style.setPaintProperty(ge,Ne,Je,De),this._update(!0)},X.prototype.getPaintProperty=function(ge,Ne){return this.style.getPaintProperty(ge,Ne)},X.prototype.setLayoutProperty=function(ge,Ne,Je,De){return De===void 0&&(De={}),this.style.setLayoutProperty(ge,Ne,Je,De),this._update(!0)},X.prototype.getLayoutProperty=function(ge,Ne){return this.style.getLayoutProperty(ge,Ne)},X.prototype.setLight=function(ge,Ne){return Ne===void 0&&(Ne={}),this._lazyInitEmptyStyle(),this.style.setLight(ge,Ne),this._update(!0)},X.prototype.getLight=function(){return this.style.getLight()},X.prototype.setFeatureState=function(ge,Ne){return this.style.setFeatureState(ge,Ne),this._update()},X.prototype.removeFeatureState=function(ge,Ne){return this.style.removeFeatureState(ge,Ne),this._update()},X.prototype.getFeatureState=function(ge){return this.style.getFeatureState(ge)},X.prototype.getContainer=function(){return this._container},X.prototype.getCanvasContainer=function(){return this._canvasContainer},X.prototype.getCanvas=function(){return this._canvas},X.prototype._containerDimensions=function(){var ge=0,Ne=0;return this._container&&(ge=this._container.clientWidth||400,Ne=this._container.clientHeight||300),[ge,Ne]},X.prototype._detectMissingCSS=function(){var ge=a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");ge!=="rgb(250, 128, 114)"&&a.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},X.prototype._setupContainer=function(){var ge=this._container;ge.classList.add("mapboxgl-map");var Ne=this._missingCSSCanary=A.create("div","mapboxgl-canary",ge);Ne.style.visibility="hidden",this._detectMissingCSS();var Je=this._canvasContainer=A.create("div","mapboxgl-canvas-container",ge);this._interactive&&Je.classList.add("mapboxgl-interactive"),this._canvas=A.create("canvas","mapboxgl-canvas",Je),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var De=this._containerDimensions();this._resizeCanvas(De[0],De[1]);var xe=this._controlContainer=A.create("div","mapboxgl-control-container",ge),Ge=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(dt){Ge[dt]=A.create("div","mapboxgl-ctrl-"+dt,xe)})},X.prototype._resizeCanvas=function(ge,Ne){var Je=a.browser.devicePixelRatio||1;this._canvas.width=Je*ge,this._canvas.height=Je*Ne,this._canvas.style.width=ge+"px",this._canvas.style.height=Ne+"px"},X.prototype._setupPainter=function(){var ge=a.extend({},C.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),Ne=this._canvas.getContext("webgl",ge)||this._canvas.getContext("experimental-webgl",ge);if(!Ne){this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Dr(Ne,this.transform),a.webpSupported.testSupport(Ne)},X.prototype._contextLost=function(ge){ge.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:ge}))},X.prototype._contextRestored=function(ge){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:ge}))},X.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},X.prototype._update=function(ge){return this.style?(this._styleDirty=this._styleDirty||ge,this._sourcesDirty=!0,this.triggerRepaint(),this):this},X.prototype._requestRenderFrame=function(ge){return this._update(),this._renderTaskQueue.add(ge)},X.prototype._cancelRenderFrame=function(ge){this._renderTaskQueue.remove(ge)},X.prototype._render=function(ge){var Ne=this,Je,De=0,xe=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Je=xe.createQueryEXT(),xe.beginQueryEXT(xe.TIME_ELAPSED_EXT,Je),De=a.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(ge),!this._removed){var Ge=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var dt=this.transform.zoom,_t=a.browser.now();this.style.zoomHistory.update(dt,_t);var Yt=new a.EvaluationParameters(dt,{now:_t,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),qt=Yt.crossFadingFactor();(qt!==1||qt!==this._crossFadingFactor)&&(Ge=!0,this._crossFadingFactor=qt),this.style.update(Yt)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||Ge)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var yr=a.browser.now()-De;xe.endQueryEXT(xe.TIME_ELAPSED_EXT,Je),setTimeout(function(){var Or=xe.getQueryObjectEXT(Je,xe.QUERY_RESULT_EXT)/1e6;xe.deleteQueryEXT(Je),Ne.fire(new a.Event("gpu-timing-frame",{cpuTime:yr,gpuTime:Or}))},50)}if(this.listens("gpu-timing-layer")){var Ar=this.painter.collectGpuTimers();setTimeout(function(){var Or=Ne.painter.queryGpuTimers(Ar);Ne.fire(new a.Event("gpu-timing-layer",{layerTimes:Or}))},50)}var kr=this._sourcesDirty||this._styleDirty||this._placementDirty;return kr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new a.Event("idle"))),this}},X.prototype.remove=function(){this._hash&&this._hash.remove();for(var ge=0,Ne=this._controls;ge<Ne.length;ge+=1){var Je=Ne[ge];Je.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof a.window<"u"&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1));var De=this.painter.context.gl.getExtension("WEBGL_lose_context");De&&De.loseContext(),Cc(this._canvasContainer),Cc(this._controlContainer),Cc(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new a.Event("remove"))},X.prototype.triggerRepaint=function(){var ge=this;this.style&&!this._frame&&(this._frame=a.browser.frame(function(Ne){ge._frame=null,ge._render(Ne)}))},X.prototype._onWindowOnline=function(){this._update()},X.prototype._onWindowResize=function(ge){this._trackResize&&this.resize({originalEvent:ge})._update()},pe.showTileBoundaries.get=function(){return!!this._showTileBoundaries},pe.showTileBoundaries.set=function(ne){this._showTileBoundaries!==ne&&(this._showTileBoundaries=ne,this._update())},pe.showPadding.get=function(){return!!this._showPadding},pe.showPadding.set=function(ne){this._showPadding!==ne&&(this._showPadding=ne,this._update())},pe.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},pe.showCollisionBoxes.set=function(ne){this._showCollisionBoxes!==ne&&(this._showCollisionBoxes=ne,ne?this.style._generateCollisionBoxes():this._update())},pe.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},pe.showOverdrawInspector.set=function(ne){this._showOverdrawInspector!==ne&&(this._showOverdrawInspector=ne,this._update())},pe.repaint.get=function(){return!!this._repaint},pe.repaint.set=function(ne){this._repaint!==ne&&(this._repaint=ne,this.triggerRepaint())},pe.vertices.get=function(){return!!this._vertices},pe.vertices.set=function(ne){this._vertices=ne,this._update()},X.prototype._setCacheLimits=function(ge,Ne){a.setCacheLimits(ge,Ne)},pe.version.get=function(){return a.version},Object.defineProperties(X.prototype,pe),X}(Ds);function Cc(ve){ve.parentNode&&ve.parentNode.removeChild(ve)}var Lc={showCompass:!0,showZoom:!0,visualizePitch:!1},ku=function(X){var pe=this;this.options=a.extend({},Lc,X),this._container=A.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(ne){return ne.preventDefault()}),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(ne){return pe._map.zoomIn({},{originalEvent:ne})}),A.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(ne){return pe._map.zoomOut({},{originalEvent:ne})}),A.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(ne){pe.options.visualizePitch?pe._map.resetNorthPitch({},{originalEvent:ne}):pe._map.resetNorth({},{originalEvent:ne})}),this._compassIcon=A.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};ku.prototype._updateZoomButtons=function(){var X=this._map.getZoom();this._zoomInButton.disabled=X===this._map.getMaxZoom(),this._zoomOutButton.disabled=X===this._map.getMinZoom()},ku.prototype._rotateCompassArrow=function(){var X=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=X},ku.prototype.onAdd=function(X){return this._map=X,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new gs(this._map,this._compass,this.options.visualizePitch)),this._container},ku.prototype.onRemove=function(){A.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},ku.prototype._createButton=function(X,pe){var ne=A.create("button",X,this._container);return ne.type="button",ne.addEventListener("click",pe),ne},ku.prototype._setButtonTitle=function(X,pe){var ne=this._map._getUIString("NavigationControl."+pe);X.title=ne,X.setAttribute("aria-label",ne)};var gs=function(X,pe,ne){ne===void 0&&(ne=!1),this._clickTolerance=10,this.element=pe,this.mouseRotate=new Xr({clickTolerance:X.dragRotate._mouseRotate._clickTolerance}),this.map=X,ne&&(this.mousePitch=new Bn({clickTolerance:X.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),A.addEventListener(pe,"mousedown",this.mousedown),A.addEventListener(pe,"touchstart",this.touchstart,{passive:!1}),A.addEventListener(pe,"touchmove",this.touchmove),A.addEventListener(pe,"touchend",this.touchend),A.addEventListener(pe,"touchcancel",this.reset)};gs.prototype.down=function(X,pe){this.mouseRotate.mousedown(X,pe),this.mousePitch&&this.mousePitch.mousedown(X,pe),A.disableDrag()},gs.prototype.move=function(X,pe){var ne=this.map,ge=this.mouseRotate.mousemoveWindow(X,pe);if(ge&&ge.bearingDelta&&ne.setBearing(ne.getBearing()+ge.bearingDelta),this.mousePitch){var Ne=this.mousePitch.mousemoveWindow(X,pe);Ne&&Ne.pitchDelta&&ne.setPitch(ne.getPitch()+Ne.pitchDelta)}},gs.prototype.off=function(){var X=this.element;A.removeEventListener(X,"mousedown",this.mousedown),A.removeEventListener(X,"touchstart",this.touchstart,{passive:!1}),A.removeEventListener(X,"touchmove",this.touchmove),A.removeEventListener(X,"touchend",this.touchend),A.removeEventListener(X,"touchcancel",this.reset),this.offTemp()},gs.prototype.offTemp=function(){A.enableDrag(),A.removeEventListener(a.window,"mousemove",this.mousemove),A.removeEventListener(a.window,"mouseup",this.mouseup)},gs.prototype.mousedown=function(X){this.down(a.extend({},X,{ctrlKey:!0,preventDefault:function(){return X.preventDefault()}}),A.mousePos(this.element,X)),A.addEventListener(a.window,"mousemove",this.mousemove),A.addEventListener(a.window,"mouseup",this.mouseup)},gs.prototype.mousemove=function(X){this.move(X,A.mousePos(this.element,X))},gs.prototype.mouseup=function(X){this.mouseRotate.mouseupWindow(X),this.mousePitch&&this.mousePitch.mouseupWindow(X),this.offTemp()},gs.prototype.touchstart=function(X){X.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=A.touchPos(this.element,X.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return X.preventDefault()}},this._startPos))},gs.prototype.touchmove=function(X){X.targetTouches.length!==1?this.reset():(this._lastPos=A.touchPos(this.element,X.targetTouches)[0],this.move({preventDefault:function(){return X.preventDefault()}},this._lastPos))},gs.prototype.touchend=function(X){X.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},gs.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function Ou(ve,X,pe){if(ve=new a.LngLat(ve.lng,ve.lat),X){var ne=new a.LngLat(ve.lng-360,ve.lat),ge=new a.LngLat(ve.lng+360,ve.lat),Ne=pe.locationPoint(ve).distSqr(X);pe.locationPoint(ne).distSqr(X)<Ne?ve=ne:pe.locationPoint(ge).distSqr(X)<Ne&&(ve=ge)}for(;Math.abs(ve.lng-pe.center.lng)>180;){var Je=pe.locationPoint(ve);if(Je.x>=0&&Je.y>=0&&Je.x<=pe.width&&Je.y<=pe.height)break;ve.lng>pe.center.lng?ve.lng-=360:ve.lng+=360}return ve}var Wf={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function bh(ve,X,pe){var ne=ve.classList;for(var ge in Wf)ne.remove("mapboxgl-"+pe+"-anchor-"+ge);ne.add("mapboxgl-"+pe+"-anchor-"+X)}var Pc=function(ve){function X(pe,ne){var ge=this;if(ve.call(this),(pe instanceof a.window.HTMLElement||ne)&&(pe=a.extend({element:pe},ne)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=pe&&pe.anchor||"center",this._color=pe&&pe.color||"#3FB1CE",this._draggable=pe&&pe.draggable||!1,this._state="inactive",this._rotation=pe&&pe.rotation||0,this._rotationAlignment=pe&&pe.rotationAlignment||"auto",this._pitchAlignment=pe&&pe.pitchAlignment&&pe.pitchAlignment!=="auto"?pe.pitchAlignment:this._rotationAlignment,!pe||!pe.element){this._defaultMarker=!0,this._element=A.create("div"),this._element.setAttribute("aria-label","Map marker");var Ne=A.createNS("http://www.w3.org/2000/svg","svg");Ne.setAttributeNS(null,"display","block"),Ne.setAttributeNS(null,"height","41px"),Ne.setAttributeNS(null,"width","27px"),Ne.setAttributeNS(null,"viewBox","0 0 27 41");var Je=A.createNS("http://www.w3.org/2000/svg","g");Je.setAttributeNS(null,"stroke","none"),Je.setAttributeNS(null,"stroke-width","1"),Je.setAttributeNS(null,"fill","none"),Je.setAttributeNS(null,"fill-rule","evenodd");var De=A.createNS("http://www.w3.org/2000/svg","g");De.setAttributeNS(null,"fill-rule","nonzero");var xe=A.createNS("http://www.w3.org/2000/svg","g");xe.setAttributeNS(null,"transform","translate(3.0, 29.0)"),xe.setAttributeNS(null,"fill","#000000");for(var Ge=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],dt=0,_t=Ge;dt<_t.length;dt+=1){var Yt=_t[dt],qt=A.createNS("http://www.w3.org/2000/svg","ellipse");qt.setAttributeNS(null,"opacity","0.04"),qt.setAttributeNS(null,"cx","10.5"),qt.setAttributeNS(null,"cy","5.80029008"),qt.setAttributeNS(null,"rx",Yt.rx),qt.setAttributeNS(null,"ry",Yt.ry),xe.appendChild(qt)}var yr=A.createNS("http://www.w3.org/2000/svg","g");yr.setAttributeNS(null,"fill",this._color);var Ar=A.createNS("http://www.w3.org/2000/svg","path");Ar.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),yr.appendChild(Ar);var kr=A.createNS("http://www.w3.org/2000/svg","g");kr.setAttributeNS(null,"opacity","0.25"),kr.setAttributeNS(null,"fill","#000000");var Or=A.createNS("http://www.w3.org/2000/svg","path");Or.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),kr.appendChild(Or);var $r=A.createNS("http://www.w3.org/2000/svg","g");$r.setAttributeNS(null,"transform","translate(6.0, 7.0)"),$r.setAttributeNS(null,"fill","#FFFFFF");var gn=A.createNS("http://www.w3.org/2000/svg","g");gn.setAttributeNS(null,"transform","translate(8.0, 8.0)");var An=A.createNS("http://www.w3.org/2000/svg","circle");An.setAttributeNS(null,"fill","#000000"),An.setAttributeNS(null,"opacity","0.25"),An.setAttributeNS(null,"cx","5.5"),An.setAttributeNS(null,"cy","5.5"),An.setAttributeNS(null,"r","5.4999962");var Nn=A.createNS("http://www.w3.org/2000/svg","circle");Nn.setAttributeNS(null,"fill","#FFFFFF"),Nn.setAttributeNS(null,"cx","5.5"),Nn.setAttributeNS(null,"cy","5.5"),Nn.setAttributeNS(null,"r","5.4999962"),gn.appendChild(An),gn.appendChild(Nn),De.appendChild(xe),De.appendChild(yr),De.appendChild(kr),De.appendChild($r),De.appendChild(gn),Ne.appendChild(De),this._element.appendChild(Ne),this._offset=a.Point.convert(pe&&pe.offset||[0,-14])}else this._element=pe.element,this._offset=a.Point.convert(pe&&pe.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(In){In.preventDefault()}),this._element.addEventListener("mousedown",function(In){In.preventDefault()}),this._element.addEventListener("focus",function(){var In=ge._map.getContainer();In.scrollTop=0,In.scrollLeft=0}),bh(this._element,this._anchor,"marker"),this._popup=null}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.addTo=function(ne){return this.remove(),this._map=ne,ne.getCanvasContainer().appendChild(this._element),ne.on("move",this._update),ne.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},X.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),A.remove(this._element),this._popup&&this._popup.remove(),this},X.prototype.getLngLat=function(){return this._lngLat},X.prototype.setLngLat=function(ne){return this._lngLat=a.LngLat.convert(ne),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},X.prototype.getElement=function(){return this._element},X.prototype.setPopup=function(ne){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),ne){if(!("offset"in ne.options)){var ge=38.1,Ne=13.5,Je=Math.sqrt(Math.pow(Ne,2)/2);ne.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-ge],"bottom-left":[Je,(ge-Ne+Je)*-1],"bottom-right":[-Je,(ge-Ne+Je)*-1],left:[Ne,(ge-Ne)*-1],right:[-Ne,(ge-Ne)*-1]}:this._offset}this._popup=ne,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},X.prototype._onKeyPress=function(ne){var ge=ne.code,Ne=ne.charCode||ne.keyCode;(ge==="Space"||ge==="Enter"||Ne===32||Ne===13)&&this.togglePopup()},X.prototype._onMapClick=function(ne){var ge=ne.originalEvent.target,Ne=this._element;this._popup&&(ge===Ne||Ne.contains(ge))&&this.togglePopup()},X.prototype.getPopup=function(){return this._popup},X.prototype.togglePopup=function(){var ne=this._popup;if(ne)ne.isOpen()?ne.remove():ne.addTo(this._map);else return this;return this},X.prototype._update=function(ne){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Ou(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var ge="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?ge="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(ge="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var Ne="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?Ne="rotateX(0deg)":this._pitchAlignment==="map"&&(Ne="rotateX("+this._map.getPitch()+"deg)"),(!ne||ne.type==="moveend")&&(this._pos=this._pos.round()),A.setTransform(this._element,Wf[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+Ne+" "+ge)}},X.prototype.getOffset=function(){return this._offset},X.prototype.setOffset=function(ne){return this._offset=a.Point.convert(ne),this._update(),this},X.prototype._onMove=function(ne){this._pos=ne.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag"))},X.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},X.prototype._addDragHandler=function(ne){this._element.contains(ne.originalEvent.target)&&(ne.preventDefault(),this._positionDelta=ne.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},X.prototype.setDraggable=function(ne){return this._draggable=!!ne,this._map&&(ne?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},X.prototype.isDraggable=function(){return this._draggable},X.prototype.setRotation=function(ne){return this._rotation=ne||0,this._update(),this},X.prototype.getRotation=function(){return this._rotation},X.prototype.setRotationAlignment=function(ne){return this._rotationAlignment=ne||"auto",this._update(),this},X.prototype.getRotationAlignment=function(){return this._rotationAlignment},X.prototype.setPitchAlignment=function(ne){return this._pitchAlignment=ne&&ne!=="auto"?ne:this._rotationAlignment,this._update(),this},X.prototype.getPitchAlignment=function(){return this._pitchAlignment},X}(a.Evented),qh={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},zu;function Yf(ve){zu!==void 0?ve(zu):a.window.navigator.permissions!==void 0?a.window.navigator.permissions.query({name:"geolocation"}).then(function(X){zu=X.state!=="denied",ve(zu)}):(zu=!!a.window.navigator.geolocation,ve(zu))}var _c=0,Is=!1,ev=function(ve){function X(pe){ve.call(this),this.options=a.extend({},qh,pe),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.onAdd=function(ne){return this._map=ne,this._container=A.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),Yf(this._setupUI),this._container},X.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),A.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,_c=0,Is=!1},X.prototype._isOutOfMapMaxBounds=function(ne){var ge=this._map.getMaxBounds(),Ne=ne.coords;return ge&&(Ne.longitude<ge.getWest()||Ne.longitude>ge.getEast()||Ne.latitude<ge.getSouth()||Ne.latitude>ge.getNorth())},X.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},X.prototype._onSuccess=function(ne){if(this._map){if(this._isOutOfMapMaxBounds(ne)){this._setErrorState(),this.fire(new a.Event("outofmaxbounds",ne)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=ne,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(ne),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(ne),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",ne)),this._finish()}},X.prototype._updateCamera=function(ne){var ge=new a.LngLat(ne.coords.longitude,ne.coords.latitude),Ne=ne.coords.accuracy,Je=this._map.getBearing(),De=a.extend({bearing:Je},this.options.fitBoundsOptions);this._map.fitBounds(ge.toBounds(Ne),De,{geolocateSource:!0})},X.prototype._updateMarker=function(ne){if(ne){var ge=new a.LngLat(ne.coords.longitude,ne.coords.latitude);this._accuracyCircleMarker.setLngLat(ge).addTo(this._map),this._userLocationDotMarker.setLngLat(ge).addTo(this._map),this._accuracy=ne.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},X.prototype._updateCircleRadius=function(){var ne=this._map._container.clientHeight/2,ge=this._map.unproject([0,ne]),Ne=this._map.unproject([1,ne]),Je=ge.distanceTo(Ne),De=Math.ceil(2*this._accuracy/Je);this._circleElement.style.width=De+"px",this._circleElement.style.height=De+"px"},X.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},X.prototype._onError=function(ne){if(this._map){if(this.options.trackUserLocation)if(ne.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var ge=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=ge,this._geolocateButton.setAttribute("aria-label",ge),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(ne.code===3&&Is)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",ne)),this._finish()}},X.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},X.prototype._setupUI=function(ne){var ge=this;if(this._container.addEventListener("contextmenu",function(De){return De.preventDefault()}),this._geolocateButton=A.create("button","mapboxgl-ctrl-geolocate",this._container),A.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",ne===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var Ne=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=Ne,this._geolocateButton.setAttribute("aria-label",Ne)}else{var Je=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Je,this._geolocateButton.setAttribute("aria-label",Je)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=A.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Pc(this._dotElement),this._circleElement=A.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Pc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(De){var xe=De.originalEvent&&De.originalEvent.type==="resize";!De.geolocateSource&&ge._watchState==="ACTIVE_LOCK"&&!xe&&(ge._watchState="BACKGROUND",ge._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),ge._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),ge.fire(new a.Event("trackuserlocationend")))})},X.prototype.trigger=function(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":_c--,Is=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),_c++;var ne;_c>1?(ne={maximumAge:6e5,timeout:0},Is=!0):(ne=this.options.positionOptions,Is=!1),this._geolocationWatchID=a.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,ne)}}else a.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},X.prototype._clearWatch=function(){a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},X}(a.Evented),qd={maxWidth:100,unit:"metric"},ys=function(X){this.options=a.extend({},qd,X),a.bindAll(["_onMove","setUnit"],this)};ys.prototype.getDefaultPosition=function(){return"bottom-left"},ys.prototype._onMove=function(){tv(this._map,this._container,this.options)},ys.prototype.onAdd=function(X){return this._map=X,this._container=A.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",X.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},ys.prototype.onRemove=function(){A.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},ys.prototype.setUnit=function(X){this.options.unit=X,tv(this._map,this._container,this.options)};function tv(ve,X,pe){var ne=pe&&pe.maxWidth||100,ge=ve._container.clientHeight/2,Ne=ve.unproject([0,ge]),Je=ve.unproject([ne,ge]),De=Ne.distanceTo(Je);if(pe&&pe.unit==="imperial"){var xe=3.2808*De;if(xe>5280){var Ge=xe/5280;Rc(X,ne,Ge,ve._getUIString("ScaleControl.Miles"))}else Rc(X,ne,xe,ve._getUIString("ScaleControl.Feet"))}else if(pe&&pe.unit==="nautical"){var dt=De/1852;Rc(X,ne,dt,ve._getUIString("ScaleControl.NauticalMiles"))}else De>=1e3?Rc(X,ne,De/1e3,ve._getUIString("ScaleControl.Kilometers")):Rc(X,ne,De,ve._getUIString("ScaleControl.Meters"))}function Rc(ve,X,pe,ne){var ge=zv(pe),Ne=ge/pe;ve.style.width=X*Ne+"px",ve.innerHTML=ge+"&nbsp;"+ne}function Ov(ve){var X=Math.pow(10,Math.ceil(-Math.log(ve)/Math.LN10));return Math.round(ve*X)/X}function zv(ve){var X=Math.pow(10,(""+Math.floor(ve)).length-1),pe=ve/X;return pe=pe>=10?10:pe>=5?5:pe>=3?3:pe>=2?2:pe>=1?1:Ov(pe),X*pe}var Hl=function(X){this._fullscreen=!1,X&&X.container&&(X.container instanceof a.window.HTMLElement?this._container=X.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in a.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in a.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in a.window.document&&(this._fullscreenchange="MSFullscreenChange")};Hl.prototype.onAdd=function(X){return this._map=X,this._container||(this._container=this._map.getContainer()),this._controlContainer=A.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Hl.prototype.onRemove=function(){A.remove(this._controlContainer),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Hl.prototype._checkFullscreenSupport=function(){return!!(a.window.document.fullscreenEnabled||a.window.document.mozFullScreenEnabled||a.window.document.msFullscreenEnabled||a.window.document.webkitFullscreenEnabled)},Hl.prototype._setupUI=function(){var X=this._fullscreenButton=A.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);A.create("span","mapboxgl-ctrl-icon",X).setAttribute("aria-hidden",!0),X.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Hl.prototype._updateTitle=function(){var X=this._getTitle();this._fullscreenButton.setAttribute("aria-label",X),this._fullscreenButton.title=X},Hl.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Hl.prototype._isFullscreen=function(){return this._fullscreen},Hl.prototype._changeIcon=function(){var X=a.window.document.fullscreenElement||a.window.document.mozFullScreenElement||a.window.document.webkitFullscreenElement||a.window.document.msFullscreenElement;X===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Hl.prototype._onClickFullscreen=function(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.mozCancelFullScreen?a.window.document.mozCancelFullScreen():a.window.document.msExitFullscreen?a.window.document.msExitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Fv={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},Nv=function(ve){function X(pe){ve.call(this),this.options=a.extend(Object.create(Fv),pe),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.addTo=function(ne){return this._map&&this.remove(),this._map=ne,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this},X.prototype.isOpen=function(){return!!this._map},X.prototype.remove=function(){return this._content&&A.remove(this._content),this._container&&(A.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this},X.prototype.getLngLat=function(){return this._lngLat},X.prototype.setLngLat=function(ne){return this._lngLat=a.LngLat.convert(ne),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},X.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},X.prototype.getElement=function(){return this._container},X.prototype.setText=function(ne){return this.setDOMContent(a.window.document.createTextNode(ne))},X.prototype.setHTML=function(ne){var ge=a.window.document.createDocumentFragment(),Ne=a.window.document.createElement("body"),Je;for(Ne.innerHTML=ne;Je=Ne.firstChild,!!Je;)ge.appendChild(Je);return this.setDOMContent(ge)},X.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},X.prototype.setMaxWidth=function(ne){return this.options.maxWidth=ne,this._update(),this},X.prototype.setDOMContent=function(ne){return this._createContent(),this._content.appendChild(ne),this._update(),this},X.prototype.addClassName=function(ne){this._container&&this._container.classList.add(ne)},X.prototype.removeClassName=function(ne){this._container&&this._container.classList.remove(ne)},X.prototype.toggleClassName=function(ne){if(this._container)return this._container.classList.toggle(ne)},X.prototype._createContent=function(){this._content&&A.remove(this._content),this._content=A.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=A.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},X.prototype._onMouseUp=function(ne){this._update(ne.point)},X.prototype._onMouseMove=function(ne){this._update(ne.point)},X.prototype._onDrag=function(ne){this._update(ne.point)},X.prototype._update=function(ne){var ge=this,Ne=this._lngLat||this._trackPointer;if(!(!this._map||!Ne||!this._content)&&(this._container||(this._container=A.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=A.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(qt){return ge._container.classList.add(qt)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Ou(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!ne))){var Je=this._pos=this._trackPointer&&ne?ne:this._map.project(this._lngLat),De=this.options.anchor,xe=rv(this.options.offset);if(!De){var Ge=this._container.offsetWidth,dt=this._container.offsetHeight,_t;Je.y+xe.bottom.y<dt?_t=["top"]:Je.y>this._map.transform.height-dt?_t=["bottom"]:_t=[],Je.x<Ge/2?_t.push("left"):Je.x>this._map.transform.width-Ge/2&&_t.push("right"),_t.length===0?De="bottom":De=_t.join("-")}var Yt=Je.add(xe[De]).round();A.setTransform(this._container,Wf[De]+" translate("+Yt.x+"px,"+Yt.y+"px)"),bh(this._container,De,"popup")}},X.prototype._onClose=function(){this.remove()},X}(a.Evented);function rv(ve){if(ve)if(typeof ve=="number"){var X=Math.round(Math.sqrt(.5*Math.pow(ve,2)));return{center:new a.Point(0,0),top:new a.Point(0,ve),"top-left":new a.Point(X,X),"top-right":new a.Point(-X,X),bottom:new a.Point(0,-ve),"bottom-left":new a.Point(X,-X),"bottom-right":new a.Point(-X,-X),left:new a.Point(ve,0),right:new a.Point(-ve,0)}}else if(ve instanceof a.Point||Array.isArray(ve)){var pe=a.Point.convert(ve);return{center:pe,top:pe,"top-left":pe,"top-right":pe,bottom:pe,"bottom-left":pe,"bottom-right":pe,left:pe,right:pe}}else return{center:a.Point.convert(ve.center||[0,0]),top:a.Point.convert(ve.top||[0,0]),"top-left":a.Point.convert(ve["top-left"]||[0,0]),"top-right":a.Point.convert(ve["top-right"]||[0,0]),bottom:a.Point.convert(ve.bottom||[0,0]),"bottom-left":a.Point.convert(ve["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(ve["bottom-right"]||[0,0]),left:a.Point.convert(ve.left||[0,0]),right:a.Point.convert(ve.right||[0,0])};else return rv(new a.Point(0,0))}var Bv={version:a.version,supported:C,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:Iu,NavigationControl:ku,GeolocateControl:ev,AttributionControl:rs,ScaleControl:ys,FullscreenControl:Hl,Popup:Nv,Marker:Pc,Style:po,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,config:a.config,prewarm:Lt,clearPrewarmedResources:Xt,get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(ve){a.config.ACCESS_TOKEN=ve},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(ve){a.config.API_URL=ve},get workerCount(){return lr.workerCount},set workerCount(ve){lr.workerCount=ve},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(ve){a.config.MAX_PARALLEL_IMAGE_REQUESTS=ve},clearStorage:function(X){a.clearTileCache(X)},workerUrl:""};return Bv}),g})},27084:function(G){G.exports=Math.log2||function(V){return Math.log(V)*Math.LOG2E}},16825:function(G,V,e){G.exports=_;var g=e(74311);function _(a,C){C||(C=a,a=window);var A=0,v=0,p=0,t={shift:!1,alt:!1,control:!1,meta:!1},r=!1;function s(E){var S=!1;return"altKey"in E&&(S=S||E.altKey!==t.alt,t.alt=!!E.altKey),"shiftKey"in E&&(S=S||E.shiftKey!==t.shift,t.shift=!!E.shiftKey),"ctrlKey"in E&&(S=S||E.ctrlKey!==t.control,t.control=!!E.ctrlKey),"metaKey"in E&&(S=S||E.metaKey!==t.meta,t.meta=!!E.metaKey),S}function n(E,S){var P=g.x(S),x=g.y(S);"buttons"in S&&(E=S.buttons|0),(E!==A||P!==v||x!==p||s(S))&&(A=E|0,v=P||0,p=x||0,C&&C(A,v,p,t))}function i(E){n(0,E)}function f(){(A||v||p||t.shift||t.alt||t.meta||t.control)&&(v=p=0,A=0,t.shift=t.alt=t.control=t.meta=!1,C&&C(0,0,0,t))}function u(E){s(E)&&C&&C(A,v,p,t)}function y(E){g.buttons(E)===0?n(0,E):n(A,E)}function c(E){n(A|g.buttons(E),E)}function T(E){n(A&~g.buttons(E),E)}function h(){r||(r=!0,a.addEventListener("mousemove",y),a.addEventListener("mousedown",c),a.addEventListener("mouseup",T),a.addEventListener("mouseleave",i),a.addEventListener("mouseenter",i),a.addEventListener("mouseout",i),a.addEventListener("mouseover",i),a.addEventListener("blur",f),a.addEventListener("keyup",u),a.addEventListener("keydown",u),a.addEventListener("keypress",u),a!==window&&(window.addEventListener("blur",f),window.addEventListener("keyup",u),window.addEventListener("keydown",u),window.addEventListener("keypress",u)))}function l(){r&&(r=!1,a.removeEventListener("mousemove",y),a.removeEventListener("mousedown",c),a.removeEventListener("mouseup",T),a.removeEventListener("mouseleave",i),a.removeEventListener("mouseenter",i),a.removeEventListener("mouseout",i),a.removeEventListener("mouseover",i),a.removeEventListener("blur",f),a.removeEventListener("keyup",u),a.removeEventListener("keydown",u),a.removeEventListener("keypress",u),a!==window&&(window.removeEventListener("blur",f),window.removeEventListener("keyup",u),window.removeEventListener("keydown",u),window.removeEventListener("keypress",u)))}h();var d={element:a};return Object.defineProperties(d,{enabled:{get:function(){return r},set:function(E){E?h():l()},enumerable:!0},buttons:{get:function(){return A},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return p},enumerable:!0},mods:{get:function(){return t},enumerable:!0}}),d}},48956:function(G){var V={left:0,top:0};G.exports=e;function e(_,a,C){a=a||_.currentTarget||_.srcElement,Array.isArray(C)||(C=[0,0]);var A=_.clientX||0,v=_.clientY||0,p=g(a);return C[0]=A-p.left,C[1]=v-p.top,C}function g(_){return _===window||_===document||_===document.body?V:_.getBoundingClientRect()}},74311:function(G,V){function e(C){if(typeof C=="object"){if("buttons"in C)return C.buttons;if("which"in C){var A=C.which;if(A===2)return 4;if(A===3)return 2;if(A>0)return 1<<A-1}else if("button"in C){var A=C.button;if(A===1)return 4;if(A===2)return 2;if(A>=0)return 1<<A}}return 0}V.buttons=e;function g(C){return C.target||C.srcElement||window}V.element=g;function _(C){if(typeof C=="object"){if("offsetX"in C)return C.offsetX;var A=g(C),v=A.getBoundingClientRect();return C.clientX-v.left}return 0}V.x=_;function a(C){if(typeof C=="object"){if("offsetY"in C)return C.offsetY;var A=g(C),v=A.getBoundingClientRect();return C.clientY-v.top}return 0}V.y=a},1195:function(G,V,e){var g=e(75686);G.exports=_;function _(a,C,A){typeof a=="function"&&(A=!!C,C=a,a=window);var v=g("ex",a),p=function(t){A&&t.preventDefault();var r=t.deltaX||0,s=t.deltaY||0,n=t.deltaZ||0,i=t.deltaMode,f=1;switch(i){case 1:f=v;break;case 2:f=window.innerHeight;break}if(r*=f,s*=f,n*=f,r||s||n)return C(r,s,n,t)};return a.addEventListener("wheel",p),p}},7417:function(G,V,e){var g;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(a,C,A){C[a]=C[a]||A(),G.exports?G.exports=C[a]:(g=(function(){return C[a]}).call(V,e,V,G),g!==void 0&&(G.exports=g))})("Promise",typeof e.g<"u"?e.g:this,function(){var a,C,A,v=Object.prototype.toString,p=typeof setImmediate<"u"?function(d){return setImmediate(d)}:setTimeout;try{Object.defineProperty({},"x",{}),a=function(d,E,S,P){return Object.defineProperty(d,E,{value:S,writable:!0,configurable:P!==!1})}}catch{a=function(E,S,P){return E[S]=P,E}}A=function(){var d,E,S;function P(x,M){this.fn=x,this.self=M,this.next=void 0}return{add:function(M,w){S=new P(M,w),E?E.next=S:d=S,E=S,S=void 0},drain:function(){var M=d;for(d=E=C=void 0;M;)M.fn.call(M.self),M=M.next}}}();function t(l,d){A.add(l,d),C||(C=p(A.drain))}function r(l){var d,E=typeof l;return l!=null&&(E=="object"||E=="function")&&(d=l.then),typeof d=="function"?d:!1}function s(){for(var l=0;l<this.chain.length;l++)n(this,this.state===1?this.chain[l].success:this.chain[l].failure,this.chain[l]);this.chain.length=0}function n(l,d,E){var S,P;try{d===!1?E.reject(l.msg):(d===!0?S=l.msg:S=d.call(void 0,l.msg),S===E.promise?E.reject(TypeError("Promise-chain cycle")):(P=r(S))?P.call(S,E.resolve,E.reject):E.resolve(S))}catch(x){E.reject(x)}}function i(l){var d,E=this;if(!E.triggered){E.triggered=!0,E.def&&(E=E.def);try{(d=r(l))?t(function(){var S=new y(E);try{d.call(l,function(){i.apply(S,arguments)},function(){f.apply(S,arguments)})}catch(P){f.call(S,P)}}):(E.msg=l,E.state=1,E.chain.length>0&&t(s,E))}catch(S){f.call(new y(E),S)}}}function f(l){var d=this;d.triggered||(d.triggered=!0,d.def&&(d=d.def),d.msg=l,d.state=2,d.chain.length>0&&t(s,d))}function u(l,d,E,S){for(var P=0;P<d.length;P++)(function(M){l.resolve(d[M]).then(function(o){E(M,o)},S)})(P)}function y(l){this.def=l,this.triggered=!1}function c(l){this.promise=l,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function T(l){if(typeof l!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var d=new c(this);this.then=function(S,P){var x={success:typeof S=="function"?S:!0,failure:typeof P=="function"?P:!1};return x.promise=new this.constructor(function(w,o){if(typeof w!="function"||typeof o!="function")throw TypeError("Not a function");x.resolve=w,x.reject=o}),d.chain.push(x),d.state!==0&&t(s,d),x.promise},this.catch=function(S){return this.then(void 0,S)};try{l.call(void 0,function(S){i.call(d,S)},function(S){f.call(d,S)})}catch(E){f.call(d,E)}}var h=a({},"constructor",T,!1);return T.prototype=h,a(h,"__NPO__",0,!1),a(T,"resolve",function(d){var E=this;return d&&typeof d=="object"&&d.__NPO__===1?d:new E(function(P,x){if(typeof P!="function"||typeof x!="function")throw TypeError("Not a function");P(d)})}),a(T,"reject",function(d){return new this(function(S,P){if(typeof S!="function"||typeof P!="function")throw TypeError("Not a function");P(d)})}),a(T,"all",function(d){var E=this;return v.call(d)!="[object Array]"?E.reject(TypeError("Not an array")):d.length===0?E.resolve([]):new E(function(P,x){if(typeof P!="function"||typeof x!="function")throw TypeError("Not a function");var M=d.length,w=Array(M),o=0;u(E,d,function(m,F){w[m]=F,++o===M&&P(w)},x)})}),a(T,"race",function(d){var E=this;return v.call(d)!="[object Array]"?E.reject(TypeError("Not an array")):new E(function(P,x){if(typeof P!="function"||typeof x!="function")throw TypeError("Not a function");u(E,d,function(w,o){P(o)},x)})}),T})},18625:function(G){var V=Math.PI,e=v(120);G.exports=g;function g(p){for(var t,r=[],s=0,n=0,i=0,f=0,u=null,y=null,c=0,T=0,h=0,l=p.length;h<l;h++){var d=p[h],E=d[0];switch(E){case"M":i=d[1],f=d[2];break;case"A":d=C(c,T,d[1],d[2],v(d[3]),d[4],d[5],d[6],d[7]),d.unshift("C"),d.length>7&&(r.push(d.splice(0,7)),d.unshift("C"));break;case"S":var S=c,P=T;(t=="C"||t=="S")&&(S+=S-s,P+=P-n),d=["C",S,P,d[1],d[2],d[3],d[4]];break;case"T":t=="Q"||t=="T"?(u=c*2-u,y=T*2-y):(u=c,y=T),d=a(c,T,u,y,d[1],d[2]);break;case"Q":u=d[1],y=d[2],d=a(c,T,d[1],d[2],d[3],d[4]);break;case"L":d=_(c,T,d[1],d[2]);break;case"H":d=_(c,T,d[1],T);break;case"V":d=_(c,T,c,d[1]);break;case"Z":d=_(c,T,i,f);break}t=E,c=d[d.length-2],T=d[d.length-1],d.length>4?(s=d[d.length-4],n=d[d.length-3]):(s=c,n=T),r.push(d)}return r}function _(p,t,r,s){return["C",p,t,r,s,r,s]}function a(p,t,r,s,n,i){return["C",p/3+.6666666666666666*r,t/3+.6666666666666666*s,n/3+.6666666666666666*r,i/3+.6666666666666666*s,n,i]}function C(p,t,r,s,n,i,f,u,y,c){if(c)w=c[0],o=c[1],x=c[2],M=c[3];else{var T=A(p,t,-n);p=T.x,t=T.y,T=A(u,y,-n),u=T.x,y=T.y;var h=(p-u)/2,l=(t-y)/2,d=h*h/(r*r)+l*l/(s*s);d>1&&(d=Math.sqrt(d),r=d*r,s=d*s);var E=r*r,S=s*s,P=(i==f?-1:1)*Math.sqrt(Math.abs((E*S-E*l*l-S*h*h)/(E*l*l+S*h*h)));P==1/0&&(P=1);var x=P*r*l/s+(p+u)/2,M=P*-s*h/r+(t+y)/2,w=Math.asin(((t-M)/s).toFixed(9)),o=Math.asin(((y-M)/s).toFixed(9));w=p<x?V-w:w,o=u<x?V-o:o,w<0&&(w=V*2+w),o<0&&(o=V*2+o),f&&w>o&&(w=w-V*2),!f&&o>w&&(o=o-V*2)}if(Math.abs(o-w)>e){var L=o,m=u,F=y;o=w+e*(f&&o>w?1:-1),u=x+r*Math.cos(o),y=M+s*Math.sin(o);var I=C(u,y,r,s,n,0,f,m,F,[o,L,x,M])}var U=Math.tan((o-w)/4),z=4/3*r*U,N=4/3*s*U,B=[2*p-(p+z*Math.sin(w)),2*t-(t-N*Math.cos(w)),u+z*Math.sin(o),y-N*Math.cos(o),u,y];if(c)return B;I&&(B=B.concat(I));for(var O=0;O<B.length;){var H=A(B[O],B[O+1],n);B[O++]=H.x,B[O++]=H.y}return B}function A(p,t,r){return{x:p*Math.cos(r)-t*Math.sin(r),y:p*Math.sin(r)+t*Math.cos(r)}}function v(p){return p*(V/180)}},56131:function(G){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var V=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;function _(C){if(C==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(C)}function a(){try{if(!Object.assign)return!1;var C=new String("abc");if(C[5]="de",Object.getOwnPropertyNames(C)[0]==="5")return!1;for(var A={},v=0;v<10;v++)A["_"+String.fromCharCode(v)]=v;var p=Object.getOwnPropertyNames(A).map(function(r){return A[r]});if(p.join("")!=="0123456789")return!1;var t={};return"abcdefghijklmnopqrst".split("").forEach(function(r){t[r]=r}),Object.keys(Object.assign({},t)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}G.exports=a()?Object.assign:function(C,A){for(var v,p=_(C),t,r=1;r<arguments.length;r++){v=Object(arguments[r]);for(var s in v)e.call(v,s)&&(p[s]=v[s]);if(V){t=V(v);for(var n=0;n<t.length;n++)g.call(v,t[n])&&(p[t[n]]=v[t[n]])}}return p}},65848:function(G){var V=function(e){return e!==e};G.exports=function(g,_){return g===0&&_===0?1/g===1/_:!!(g===_||V(g)&&V(_))}},64003:function(G,V,e){var g=e(17045),_=e(68222),a=e(65848),C=e(27015),A=e(55572),v=_(C(),Object);g(v,{getPolyfill:C,implementation:a,shim:A}),G.exports=v},27015:function(G,V,e){var g=e(65848);G.exports=function(){return typeof Object.is=="function"?Object.is:g}},55572:function(G,V,e){var g=e(27015),_=e(17045);G.exports=function(){var C=g();return _(Object,{is:C},{is:function(){return Object.is!==C}}),C}},99019:function(G,V,e){var g;if(!Object.keys){var _=Object.prototype.hasOwnProperty,a=Object.prototype.toString,C=e(64178),A=Object.prototype.propertyIsEnumerable,v=!A.call({toString:null},"toString"),p=A.call(function(){},"prototype"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=function(f){var u=f.constructor;return u&&u.prototype===f},s={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var f in window)try{if(!s["$"+f]&&_.call(window,f)&&window[f]!==null&&typeof window[f]=="object")try{r(window[f])}catch{return!0}}catch{return!0}return!1}(),i=function(f){if(typeof window>"u"||!n)return r(f);try{return r(f)}catch{return!1}};g=function(u){var y=u!==null&&typeof u=="object",c=a.call(u)==="[object Function]",T=C(u),h=y&&a.call(u)==="[object String]",l=[];if(!y&&!c&&!T)throw new TypeError("Object.keys called on a non-object");var d=p&&c;if(h&&u.length>0&&!_.call(u,0))for(var E=0;E<u.length;++E)l.push(String(E));if(T&&u.length>0)for(var S=0;S<u.length;++S)l.push(String(S));else for(var P in u)!(d&&P==="prototype")&&_.call(u,P)&&l.push(String(P));if(v)for(var x=i(u),M=0;M<t.length;++M)!(x&&t[M]==="constructor")&&_.call(u,t[M])&&l.push(t[M]);return l}}G.exports=g},8709:function(G,V,e){var g=Array.prototype.slice,_=e(64178),a=Object.keys,C=a?function(p){return a(p)}:e(99019),A=Object.keys;C.shim=function(){if(Object.keys){var p=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);p||(Object.keys=function(r){return _(r)?A(g.call(r)):A(r)})}else Object.keys=C;return Object.keys||C},G.exports=C},64178:function(G){var V=Object.prototype.toString;G.exports=function(g){var _=V.call(g),a=_==="[object Arguments]";return a||(a=_!=="[object Array]"&&g!==null&&typeof g=="object"&&typeof g.length=="number"&&g.length>=0&&V.call(g.callee)==="[object Function]"),a}},88641:function(G){function V(_,a){if(typeof _!="string")return[_];var C=[_];typeof a=="string"||Array.isArray(a)?a={brackets:a}:a||(a={});var A=a.brackets?Array.isArray(a.brackets)?a.brackets:[a.brackets]:["{}","[]","()"],v=a.escape||"___",p=!!a.flat;A.forEach(function(s){var n=new RegExp(["\\",s[0],"[^\\",s[0],"\\",s[1],"]*\\",s[1]].join("")),i=[];function f(u,y,c){var T=C.push(u.slice(s[0].length,-s[1].length))-1;return i.push(T),v+T+v}C.forEach(function(u,y){for(var c,T=0;u!=c;)if(c=u,u=u.replace(n,f),T++>1e4)throw Error("References have circular dependency. Please, check them.");C[y]=u}),i=i.reverse(),C=C.map(function(u){return i.forEach(function(y){u=u.replace(new RegExp("(\\"+v+y+"\\"+v+")","g"),s[0]+"$1"+s[1])}),u})});var t=new RegExp("\\"+v+"([0-9]+)\\"+v);function r(s,n,i){for(var f=[],u,y=0;u=t.exec(s);){if(y++>1e4)throw Error("Circular references in parenthesis");f.push(s.slice(0,u.index)),f.push(r(n[u[1]],n)),s=s.slice(u.index+u[0].length)}return f.push(s),f}return p?C:r(C[0],C)}function e(_,a){if(a&&a.flat){var C=a&&a.escape||"___",A=_[0],v;if(!A)return"";for(var p=new RegExp("\\"+C+"([0-9]+)\\"+C),t=0;A!=v;){if(t++>1e4)throw Error("Circular references in "+_);v=A,A=A.replace(p,r)}return A}return _.reduce(function s(n,i){return Array.isArray(i)&&(i=i.reduce(s,"")),n+i},"");function r(s,n){if(_[n]==null)throw Error("Reference "+n+"is undefined");return _[n]}}function g(_,a){return Array.isArray(_)?e(_,a):V(_,a)}g.parse=V,g.stringify=e,G.exports=g},18863:function(G,V,e){var g=e(71299);G.exports=_;function _(a){var C;return arguments.length>1&&(a=arguments),typeof a=="string"?a=a.split(/\s/).map(parseFloat):typeof a=="number"&&(a=[a]),a.length&&typeof a[0]=="number"?a.length===1?C={width:a[0],height:a[0],x:0,y:0}:a.length===2?C={width:a[0],height:a[1],x:0,y:0}:C={x:a[0],y:a[1],width:a[2]-a[0]||0,height:a[3]-a[1]||0}:a&&(a=g(a,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),C={x:a.left||0,y:a.top||0},a.width==null?a.right?C.width=a.right-C.x:C.width=0:C.width=a.width,a.height==null?a.bottom?C.height=a.bottom-C.y:C.height=0:C.height=a.height),C}},95616:function(G){G.exports=g;var V={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function g(C){var A=[];return C.replace(e,function(v,p,t){var r=p.toLowerCase();for(t=a(t),r=="m"&&t.length>2&&(A.push([p].concat(t.splice(0,2))),r="l",p=p=="m"?"l":"L");;){if(t.length==V[r])return t.unshift(p),A.push(t);if(t.length<V[r])throw new Error("malformed path data");A.push([p].concat(t.splice(0,V[r])))}}),A}var _=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function a(C){var A=C.match(_);return A?A.map(Number):[]}},25677:function(G){G.exports=function(e,g){g||(g=[0,""]),e=String(e);var _=parseFloat(e,10);return g[0]=_,g[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",g}},9748:function(G,V,e){var g=e(90386);(function(){var _,a,C,A,v,p;typeof performance<"u"&&performance!==null&&performance.now?G.exports=function(){return performance.now()}:typeof g<"u"&&g!==null&&g.hrtime?(G.exports=function(){return(_()-v)/1e6},a=g.hrtime,_=function(){var t;return t=a(),t[0]*1e9+t[1]},A=_(),p=g.uptime()*1e9,v=A-p):Date.now?(G.exports=function(){return Date.now()-C},C=Date.now()):(G.exports=function(){return new Date().getTime()-C},C=new Date().getTime())}).call(this)},71299:function(G){G.exports=function(_,a,C){var A={},v,p;if(typeof a=="string"&&(a=e(a)),Array.isArray(a)){var t={};for(p=0;p<a.length;p++)t[a[p]]=!0;a=t}for(v in a)a[v]=e(a[v]);var r={};for(v in a){var s=a[v];if(Array.isArray(s))for(p=0;p<s.length;p++){var n=s[p];if(C&&(r[n]=!0),n in _){if(A[v]=_[n],C)for(var i=p;i<s.length;i++)r[s[i]]=!0;break}}else v in _&&(a[v]&&(A[v]=_[v]),C&&(r[v]=!0))}if(C)for(v in _)r[v]||(A[v]=_[v]);return A};var V={};function e(g){return V[g]?V[g]:(typeof g=="string"&&(g=V[g]=g.split(/\s*,\s*|\s+/)),g)}},38258:function(G){G.exports=function(e,g,_,a){var C=e[0],A=e[1],v=!1;_===void 0&&(_=0),a===void 0&&(a=g.length);for(var p=a-_,t=0,r=p-1;t<p;r=t++){var s=g[t+_][0],n=g[t+_][1],i=g[r+_][0],f=g[r+_][1],u=n>A!=f>A&&C<(i-s)*(A-n)/(f-n)+s;u&&(v=!v)}return v}},52142:function(G,V,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var g=e(69444),_=e(29023),a=e(87263),C=e(11328),A=e(55968),v=e(10670),p=!1,t=_(),r;r={buildLog:function(n){return n===!0?p=g():n===!1&&(p=!1),p===!1?!1:p.list},epsilon:function(n){return t.epsilon(n)},segments:function(n){var i=a(!0,t,p);return n.regions.forEach(i.addRegion),{segments:i.calculate(n.inverted),inverted:n.inverted}},combine:function(n,i){var f=a(!1,t,p);return{combined:f.calculate(n.segments,n.inverted,i.segments,i.inverted),inverted1:n.inverted,inverted2:i.inverted}},selectUnion:function(n){return{segments:A.union(n.combined,p),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:A.intersect(n.combined,p),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:A.difference(n.combined,p),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:A.differenceRev(n.combined,p),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:A.xor(n.combined,p),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:C(n.segments,t,p),inverted:n.inverted}},polygonFromGeoJSON:function(n){return v.toPolygon(r,n)},polygonToGeoJSON:function(n){return v.fromPolygon(r,t,n)},union:function(n,i){return s(n,i,r.selectUnion)},intersect:function(n,i){return s(n,i,r.selectIntersect)},difference:function(n,i){return s(n,i,r.selectDifference)},differenceRev:function(n,i){return s(n,i,r.selectDifferenceRev)},xor:function(n,i){return s(n,i,r.selectXor)}};function s(n,i,f){var u=r.segments(n),y=r.segments(i),c=r.combine(u,y),T=f(c);return r.polygon(T)}typeof window=="object"&&(window.PolyBool=r),G.exports=r},69444:function(G){function V(){var e,g=0,_=!1;function a(C,A){return e.list.push({type:C,data:A?JSON.parse(JSON.stringify(A)):void 0}),e}return e={list:[],segmentId:function(){return g++},checkIntersection:function(C,A){return a("check",{seg1:C,seg2:A})},segmentChop:function(C,A){return a("div_seg",{seg:C,pt:A}),a("chop",{seg:C,pt:A})},statusRemove:function(C){return a("pop_seg",{seg:C})},segmentUpdate:function(C){return a("seg_update",{seg:C})},segmentNew:function(C,A){return a("new_seg",{seg:C,primary:A})},segmentRemove:function(C){return a("rem_seg",{seg:C})},tempStatus:function(C,A,v){return a("temp_status",{seg:C,above:A,below:v})},rewind:function(C){return a("rewind",{seg:C})},status:function(C,A,v){return a("status",{seg:C,above:A,below:v})},vert:function(C){return C===_?e:(_=C,a("vert",{x:C}))},log:function(C){return typeof C!="string"&&(C=JSON.stringify(C,!1,"  ")),a("log",{txt:C})},reset:function(){return a("reset")},selected:function(C){return a("selected",{segs:C})},chainStart:function(C){return a("chain_start",{seg:C})},chainRemoveHead:function(C,A){return a("chain_rem_head",{index:C,pt:A})},chainRemoveTail:function(C,A){return a("chain_rem_tail",{index:C,pt:A})},chainNew:function(C,A){return a("chain_new",{pt1:C,pt2:A})},chainMatch:function(C){return a("chain_match",{index:C})},chainClose:function(C){return a("chain_close",{index:C})},chainAddHead:function(C,A){return a("chain_add_head",{index:C,pt:A})},chainAddTail:function(C,A){return a("chain_add_tail",{index:C,pt:A})},chainConnect:function(C,A){return a("chain_con",{index1:C,index2:A})},chainReverse:function(C){return a("chain_rev",{index:C})},chainJoin:function(C,A){return a("chain_join",{index1:C,index2:A})},done:function(){return a("done")}},e}G.exports=V},29023:function(G){function V(e){typeof e!="number"&&(e=1e-10);var g={epsilon:function(_){return typeof _=="number"&&(e=_),e},pointAboveOrOnLine:function(_,a,C){var A=a[0],v=a[1],p=C[0],t=C[1],r=_[0],s=_[1];return(p-A)*(s-v)-(t-v)*(r-A)>=-e},pointBetween:function(_,a,C){var A=_[1]-a[1],v=C[0]-a[0],p=_[0]-a[0],t=C[1]-a[1],r=p*v+A*t;if(r<e)return!1;var s=v*v+t*t;return!(r-s>-e)},pointsSameX:function(_,a){return Math.abs(_[0]-a[0])<e},pointsSameY:function(_,a){return Math.abs(_[1]-a[1])<e},pointsSame:function(_,a){return g.pointsSameX(_,a)&&g.pointsSameY(_,a)},pointsCompare:function(_,a){return g.pointsSameX(_,a)?g.pointsSameY(_,a)?0:_[1]<a[1]?-1:1:_[0]<a[0]?-1:1},pointsCollinear:function(_,a,C){var A=_[0]-a[0],v=_[1]-a[1],p=a[0]-C[0],t=a[1]-C[1];return Math.abs(A*t-p*v)<e},linesIntersect:function(_,a,C,A){var v=a[0]-_[0],p=a[1]-_[1],t=A[0]-C[0],r=A[1]-C[1],s=v*r-p*t;if(Math.abs(s)<e)return!1;var n=_[0]-C[0],i=_[1]-C[1],f=(t*i-r*n)/s,u=(v*i-p*n)/s,y={alongA:0,alongB:0,pt:[_[0]+f*v,_[1]+f*p]};return f<=-e?y.alongA=-2:f<e?y.alongA=-1:f-1<=-e?y.alongA=0:f-1<e?y.alongA=1:y.alongA=2,u<=-e?y.alongB=-2:u<e?y.alongB=-1:u-1<=-e?y.alongB=0:u-1<e?y.alongB=1:y.alongB=2,y},pointInsideRegion:function(_,a){for(var C=_[0],A=_[1],v=a[a.length-1][0],p=a[a.length-1][1],t=!1,r=0;r<a.length;r++){var s=a[r][0],n=a[r][1];n-A>e!=p-A>e&&(v-s)*(A-n)/(p-n)+s-C>e&&(t=!t),v=s,p=n}return t}};return g}G.exports=V},10670:function(G){var V={toPolygon:function(e,g){function _(A){if(A.length<=0)return e.segments({inverted:!1,regions:[]});function v(r){var s=r.slice(0,r.length-1);return e.segments({inverted:!1,regions:[s]})}for(var p=v(A[0]),t=1;t<A.length;t++)p=e.selectDifference(e.combine(p,v(A[t])));return p}if(g.type==="Polygon")return e.polygon(_(g.coordinates));if(g.type==="MultiPolygon"){for(var a=e.segments({inverted:!1,regions:[]}),C=0;C<g.coordinates.length;C++)a=e.selectUnion(e.combine(a,_(g.coordinates[C])));return e.polygon(a)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,g,_){_=e.polygon(e.segments(_));function a(f,u){return g.pointInsideRegion([(f[0][0]+f[1][0])*.5,(f[0][1]+f[1][1])*.5],u)}function C(f){return{region:f,children:[]}}var A=C(null);function v(f,u){for(var y=0;y<f.children.length;y++){var c=f.children[y];if(a(u,c.region)){v(c,u);return}}for(var T=C(u),y=0;y<f.children.length;y++){var c=f.children[y];a(c.region,u)&&(T.children.push(c),f.children.splice(y,1),y--)}f.children.push(T)}for(var p=0;p<_.regions.length;p++){var t=_.regions[p];t.length<3||v(A,t)}function r(f,u){for(var y=0,c=f[f.length-1][0],T=f[f.length-1][1],h=[],l=0;l<f.length;l++){var d=f[l][0],E=f[l][1];h.push([d,E]),y+=E*c-d*T,c=d,T=E}var S=y<0;return S!==u&&h.reverse(),h.push([h[0][0],h[0][1]]),h}var s=[];function n(f){var u=[r(f.region,!1)];s.push(u);for(var y=0;y<f.children.length;y++)u.push(i(f.children[y]))}function i(f){for(var u=0;u<f.children.length;u++)n(f.children[u]);return r(f.region,!0)}for(var p=0;p<A.children.length;p++)n(A.children[p]);return s.length<=0?{type:"Polygon",coordinates:[]}:s.length==1?{type:"Polygon",coordinates:s[0]}:{type:"MultiPolygon",coordinates:s}}};G.exports=V},87263:function(G,V,e){var g=e(26859);function _(a,C,A){function v(T,h){return{id:A?A.segmentId():-1,start:T,end:h,myFill:{above:null,below:null},otherFill:null}}function p(T,h,l){return{id:A?A.segmentId():-1,start:T,end:h,myFill:{above:l.myFill.above,below:l.myFill.below},otherFill:null}}var t=g.create();function r(T,h,l,d,E,S){var P=C.pointsCompare(h,E);return P!==0?P:C.pointsSame(l,S)?0:T!==d?T?1:-1:C.pointAboveOrOnLine(l,d?E:S,d?S:E)?1:-1}function s(T,h){t.insertBefore(T,function(l){var d=r(T.isStart,T.pt,h,l.isStart,l.pt,l.other.pt);return d<0})}function n(T,h){var l=g.node({isStart:!0,pt:T.start,seg:T,primary:h,other:null,status:null});return s(l,T.end),l}function i(T,h,l){var d=g.node({isStart:!1,pt:h.end,seg:h,primary:l,other:T,status:null});T.other=d,s(d,T.pt)}function f(T,h){var l=n(T,h);return i(l,T,h),l}function u(T,h){A&&A.segmentChop(T.seg,h),T.other.remove(),T.seg.end=h,T.other.pt=h,s(T.other,T.pt)}function y(T,h){var l=p(h,T.seg.end,T.seg);return u(T,h),f(l,T.primary)}function c(T,h){var l=g.create();function d(z,N){var B=z.seg.start,O=z.seg.end,H=N.seg.start,Y=N.seg.end;return C.pointsCollinear(B,H,Y)?C.pointsCollinear(O,H,Y)||C.pointAboveOrOnLine(O,H,Y)?1:-1:C.pointAboveOrOnLine(B,H,Y)?1:-1}function E(z){return l.findTransition(function(N){var B=d(z,N.ev);return B>0})}function S(z,N){var B=z.seg,O=N.seg,H=B.start,Y=B.end,J=O.start,re=O.end;A&&A.checkIntersection(B,O);var ie=C.linesIntersect(H,Y,J,re);if(ie===!1){if(!C.pointsCollinear(H,Y,J)||C.pointsSame(H,re)||C.pointsSame(Y,J))return!1;var ce=C.pointsSame(H,J),Q=C.pointsSame(Y,re);if(ce&&Q)return N;var j=!ce&&C.pointBetween(H,J,re),Z=!Q&&C.pointBetween(Y,J,re);if(ce)return Z?y(N,Y):y(z,re),N;j&&(Q||(Z?y(N,Y):y(z,re)),y(N,H))}else ie.alongA===0&&(ie.alongB===-1?y(z,J):ie.alongB===0?y(z,ie.pt):ie.alongB===1&&y(z,re)),ie.alongB===0&&(ie.alongA===-1?y(N,H):ie.alongA===0?y(N,ie.pt):ie.alongA===1&&y(N,Y));return!1}for(var P=[];!t.isEmpty();){var x=t.getHead();if(A&&A.vert(x.pt[0]),x.isStart){let z=function(){if(w){var N=S(x,w);if(N)return N}return o?S(x,o):!1};A&&A.segmentNew(x.seg,x.primary);var M=E(x),w=M.before?M.before.ev:null,o=M.after?M.after.ev:null;A&&A.tempStatus(x.seg,w?w.seg:!1,o?o.seg:!1);var L=z();if(L){if(a){var m;x.seg.myFill.below===null?m=!0:m=x.seg.myFill.above!==x.seg.myFill.below,m&&(L.seg.myFill.above=!L.seg.myFill.above)}else L.seg.otherFill=x.seg.myFill;A&&A.segmentUpdate(L.seg),x.other.remove(),x.remove()}if(t.getHead()!==x){A&&A.rewind(x.seg);continue}if(a){var m;x.seg.myFill.below===null?m=!0:m=x.seg.myFill.above!==x.seg.myFill.below,o?x.seg.myFill.below=o.seg.myFill.above:x.seg.myFill.below=T,m?x.seg.myFill.above=!x.seg.myFill.below:x.seg.myFill.above=x.seg.myFill.below}else if(x.seg.otherFill===null){var F;o?x.primary===o.primary?F=o.seg.otherFill.above:F=o.seg.myFill.above:F=x.primary?h:T,x.seg.otherFill={above:F,below:F}}A&&A.status(x.seg,w?w.seg:!1,o?o.seg:!1),x.other.status=M.insert(g.node({ev:x}))}else{var I=x.status;if(I===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(l.exists(I.prev)&&l.exists(I.next)&&S(I.prev.ev,I.next.ev),A&&A.statusRemove(I.ev.seg),I.remove(),!x.primary){var U=x.seg.myFill;x.seg.myFill=x.seg.otherFill,x.seg.otherFill=U}P.push(x.seg)}t.getHead().remove()}return A&&A.done(),P}return a?{addRegion:function(T){for(var h,l=T[T.length-1],d=0;d<T.length;d++){h=l,l=T[d];var E=C.pointsCompare(h,l);E!==0&&f(v(E<0?h:l,E<0?l:h),!0)}},calculate:function(T){return c(T,!1)}}:{calculate:function(T,h,l,d){return T.forEach(function(E){f(p(E.start,E.end,E),!0)}),l.forEach(function(E){f(p(E.start,E.end,E),!1)}),c(h,d)}}}G.exports=_},26859:function(G){var V={create:function(){var e={root:{root:!0,next:null},exists:function(g){return!(g===null||g===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(g,_){for(var a=e.root,C=e.root.next;C!==null;){if(_(C)){g.prev=C.prev,g.next=C,C.prev.next=g,C.prev=g;return}a=C,C=C.next}a.next=g,g.prev=a,g.next=null},findTransition:function(g){for(var _=e.root,a=e.root.next;a!==null&&!g(a);)_=a,a=a.next;return{before:_===e.root?null:_,after:a,insert:function(C){return C.prev=_,C.next=a,_.next=C,a!==null&&(a.prev=C),C}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};G.exports=V},11328:function(G){function V(e,g,_){var a=[],C=[];return e.forEach(function(A){var v=A.start,p=A.end;if(g.pointsSame(v,p)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}_&&_.chainStart(A);var t={index:0,matches_head:!1,matches_pt1:!1},r={index:0,matches_head:!1,matches_pt1:!1},s=t;function n(L,m,F){return s.index=L,s.matches_head=m,s.matches_pt1=F,s===t?(s=r,!1):(s=null,!0)}for(var i=0;i<a.length;i++){var f=a[i],u=f[0];f[1];var y=f[f.length-1];if(f[f.length-2],g.pointsSame(u,v)){if(n(i,!0,!0))break}else if(g.pointsSame(u,p)){if(n(i,!0,!1))break}else if(g.pointsSame(y,v)){if(n(i,!1,!0))break}else if(g.pointsSame(y,p)&&n(i,!1,!1))break}if(s===t){a.push([v,p]),_&&_.chainNew(v,p);return}if(s===r){_&&_.chainMatch(t.index);var c=t.index,T=t.matches_pt1?p:v,h=t.matches_head,f=a[c],l=h?f[0]:f[f.length-1],d=h?f[1]:f[f.length-2],E=h?f[f.length-1]:f[0],S=h?f[f.length-2]:f[1];if(g.pointsCollinear(d,l,T)&&(h?(_&&_.chainRemoveHead(t.index,T),f.shift()):(_&&_.chainRemoveTail(t.index,T),f.pop()),l=d),g.pointsSame(E,T)){a.splice(c,1),g.pointsCollinear(S,E,l)&&(h?(_&&_.chainRemoveTail(t.index,l),f.pop()):(_&&_.chainRemoveHead(t.index,l),f.shift())),_&&_.chainClose(t.index),C.push(f);return}h?(_&&_.chainAddHead(t.index,T),f.unshift(T)):(_&&_.chainAddTail(t.index,T),f.push(T));return}function P(L){_&&_.chainReverse(L),a[L].reverse()}function x(L,m){var F=a[L],I=a[m],U=F[F.length-1],z=F[F.length-2],N=I[0],B=I[1];g.pointsCollinear(z,U,N)&&(_&&_.chainRemoveTail(L,U),F.pop(),U=z),g.pointsCollinear(U,N,B)&&(_&&_.chainRemoveHead(m,N),I.shift()),_&&_.chainJoin(L,m),a[L]=F.concat(I),a.splice(m,1)}var M=t.index,w=r.index;_&&_.chainConnect(M,w);var o=a[M].length<a[w].length;t.matches_head?r.matches_head?o?(P(M),x(M,w)):(P(w),x(w,M)):x(w,M):r.matches_head?x(M,w):o?(P(M),x(w,M)):(P(w),x(M,w))}),C}G.exports=V},55968:function(G){function V(g,_,a){var C=[];return g.forEach(function(A){var v=(A.myFill.above?8:0)+(A.myFill.below?4:0)+(A.otherFill&&A.otherFill.above?2:0)+(A.otherFill&&A.otherFill.below?1:0);_[v]!==0&&C.push({id:a?a.segmentId():-1,start:A.start,end:A.end,myFill:{above:_[v]===1,below:_[v]===2},otherFill:null})}),a&&a.selected(C),C}var e={union:function(g,_){return V(g,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],_)},intersect:function(g,_){return V(g,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],_)},difference:function(g,_){return V(g,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],_)},differenceRev:function(g,_){return V(g,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],_)},xor:function(g,_){return V(g,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],_)}};G.exports=e},14847:function(G,V,e){var g=e(21630).Transform,_=e(90715);function a(){g.call(this,{readableObjectMode:!0})}a.prototype=Object.create(g.prototype),a.prototype.constructor=a,_(a.prototype),V.OF=function(A,v,p){for(var t=v,r=0;r<p.length;)if(A[t++]!==p[r++])return!1;return!0},V.eG=function(A,v){var p=[],t=0;if(v&&v==="hex")for(;t<A.length;)p.push(parseInt(A.slice(t,t+2),16)),t+=2;else for(;t<A.length;t++)p.push(A.charCodeAt(t)&255);return p},V.mP=function(A,v){return A[v]|A[v+1]<<8},V.n8=function(A,v){return A[v+1]|A[v]<<8},V.nm=function(A,v){return A[v]|A[v+1]<<8|A[v+2]<<16|A[v+3]*16777216},V.Ag=function(A,v){return A[v+3]|A[v+2]<<8|A[v+1]<<16|A[v]*16777216};function C(A,v,p){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=A,v&&(this.code=v),p&&(this.statusCode=p)}C.prototype=Object.create(Error.prototype),C.prototype.constructor=C},71371:function(G){function V(_,a){var C=new Error(_);return C.code=a,C}function e(_){try{return decodeURIComponent(escape(_))}catch{return _}}function g(_,a,C){this.input=_.subarray(a,C),this.start=a;var A=String.fromCharCode.apply(null,this.input.subarray(0,4));if(A!=="II*\0"&&A!=="MM\0*")throw V("invalid TIFF signature","EBADDATA");this.big_endian=A[0]==="M"}g.prototype.each=function(_){this.aborted=!1;var a=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:a}];this.ifds_to_read.length>0&&!this.aborted;){var C=this.ifds_to_read.shift();C.offset&&this.scan_ifd(C.id,C.offset,_)}},g.prototype.read_uint16=function(_){var a=this.input;if(_+2>a.length)throw V("unexpected EOF","EBADDATA");return this.big_endian?a[_]*256+a[_+1]:a[_]+a[_+1]*256},g.prototype.read_uint32=function(_){var a=this.input;if(_+4>a.length)throw V("unexpected EOF","EBADDATA");return this.big_endian?a[_]*16777216+a[_+1]*65536+a[_+2]*256+a[_+3]:a[_]+a[_+1]*256+a[_+2]*65536+a[_+3]*16777216},g.prototype.is_subifd_link=function(_,a){return _===0&&a===34665||_===0&&a===34853||_===34665&&a===40965},g.prototype.exif_format_length=function(_){switch(_){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},g.prototype.exif_format_read=function(_,a){var C;switch(_){case 1:case 2:return C=this.input[a],C;case 6:return C=this.input[a],C|(C&128)*33554430;case 3:return C=this.read_uint16(a),C;case 8:return C=this.read_uint16(a),C|(C&32768)*131070;case 4:return C=this.read_uint32(a),C;case 9:return C=this.read_uint32(a),C|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},g.prototype.scan_ifd=function(_,a,C){var A=this.read_uint16(a);a+=2;for(var v=0;v<A;v++){var p=this.read_uint16(a),t=this.read_uint16(a+2),r=this.read_uint32(a+4),s=this.exif_format_length(t),n=r*s,i=n<=4?a+8:this.read_uint32(a+8),f=!1;if(i+n>this.input.length)throw V("unexpected EOF","EBADDATA");for(var u=[],y=i,c=0;c<r;c++,y+=s){var T=this.exif_format_read(t,y);if(T===null){u=null;break}u.push(T)}Array.isArray(u)&&t===2&&(u=e(String.fromCharCode.apply(null,u)),u&&u[u.length-1]==="\0"&&(u=u.slice(0,-1))),this.is_subifd_link(_,p)&&Array.isArray(u)&&Number.isInteger(u[0])&&u[0]>0&&(this.ifds_to_read.push({id:p,offset:u[0]}),f=!0);var h={is_big_endian:this.big_endian,ifd:_,tag:p,format:t,count:r,entry_offset:a+this.start,data_length:n,data_offset:i+this.start,value:u,is_subifd_link:f};if(C(h)===!1){this.aborted=!0;return}a+=12}_===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(a)})},G.exports.ExifParser=g,G.exports.get_orientation=function(_){var a=0;try{return new g(_,0,_.length).each(function(C){if(C.ifd===0&&C.tag===274&&Array.isArray(C.value))return a=C.value[0],!1}),a}catch{return-1}}},76767:function(G,V,e){var g=e(14847).n8,_=e(14847).Ag;function a(n,i){if(n.length<4+i)return null;var f=_(n,i);return n.length<f+i||f<8?null:{boxtype:String.fromCharCode.apply(null,n.slice(i+4,i+8)),data:n.slice(i+8,i+f),end:i+f}}G.exports.unbox=a;function C(n,i){for(var f=0;;){var u=a(n,f);if(!u)break;switch(u.boxtype){case"ispe":i.sizes.push({width:_(u.data,4),height:_(u.data,8)});break;case"irot":i.transforms.push({type:"irot",value:u.data[0]&3});break;case"imir":i.transforms.push({type:"imir",value:u.data[0]&1});break}f=u.end}}function A(n,i,f){for(var u=0,y=0;y<f;y++)u=u*256+(n[i+y]||0);return u}function v(n,i){for(var f=n[4]>>4&15,u=n[4]&15,y=n[5]>>4&15,c=g(n,6),T=8,h=0;h<c;h++){var l=g(n,T);T+=2;var d=g(n,T);T+=2;var E=A(n,T,y);T+=y;var S=g(n,T);if(T+=2,d===0&&S===1){var P=A(n,T,f),x=A(n,T+f,u);i.item_loc[l]={length:x,offset:P+E}}T+=S*(f+u)}}function p(n,i){for(var f=g(n,4),u=6,y=0;y<f;y++){var c=a(n,u);if(!c)break;if(c.boxtype==="infe"){for(var T=g(c.data,4),h="",l=8;l<c.data.length&&c.data[l];l++)h+=String.fromCharCode(c.data[l]);i.item_inf[h]=T}u=c.end}}function t(n,i){for(var f=0;;){var u=a(n,f);if(!u)break;u.boxtype==="ipco"&&C(u.data,i),f=u.end}}function r(n,i){for(var f=4;;){var u=a(n,f);if(!u)break;u.boxtype==="iprp"&&t(u.data,i),u.boxtype==="iloc"&&v(u.data,i),u.boxtype==="iinf"&&p(u.data,i),f=u.end}}function s(n){var i=n.reduce(function(y,c){return y.width>c.width||y.width===c.width&&y.height>c.height?y:c}),f=n.reduce(function(y,c){return y.height>c.height||y.height===c.height&&y.width>c.width?y:c}),u;return i.width>f.height||i.width===f.height&&i.height>f.width?u=i:u=f,u}G.exports.readSizeFromMeta=function(n){var i={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(r(n,i),!!i.sizes.length){var f=s(i.sizes),u=1;i.transforms.forEach(function(c){var T={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},h={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(c.type==="imir"&&(c.value===0?u=h[u]:(u=h[u],u=T[u],u=T[u])),c.type==="irot")for(var l=0;l<c.value;l++)u=T[u]});var y=null;return i.item_inf.Exif&&(y=i.item_loc[i.item_inf.Exif]),{width:f.width,height:f.height,orientation:i.transforms.length?u:null,variants:i.sizes,exif_location:y}}},G.exports.getMimeType=function(n){var i=String.fromCharCode.apply(null,n.slice(0,4)),f={};f[i]=!0;for(var u=8;u<n.length;u+=4)f[String.fromCharCode.apply(null,n.slice(u,u+4))]=!0;if(!(!f.mif1&&!f.msf1&&!f.miaf))return i==="avif"||i==="avis"||i==="avio"?{type:"avif",mime:"image/avif"}:i==="heic"||i==="heix"?{type:"heic",mime:"image/heic"}:i==="hevc"||i==="hevx"?{type:"heic",mime:"image/heic-sequence"}:f.avif||f.avis?{type:"avif",mime:"image/avif"}:f.heic||f.heix||f.hevc||f.hevx||f.heis?f.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(G,V,e){var g=e(14847).eG,_=e(14847).OF,a=e(14847).Ag,C=e(76767),A=e(71371),v=g("ftyp");G.exports=function(p){if(_(p,4,v)){var t=C.unbox(p,0);if(t){var r=C.getMimeType(t.data);if(r){for(var s,n=t.end;;){var i=C.unbox(p,n);if(!i)break;if(n=i.end,i.boxtype==="mdat")return;if(i.boxtype==="meta"){s=i.data;break}}if(s){var f=C.readSizeFromMeta(s);if(f){var u={width:f.width,height:f.height,type:r.type,mime:r.mime,wUnits:"px",hUnits:"px"};if(f.variants.length>1&&(u.variants=f.variants),f.orientation&&(u.orientation=f.orientation),f.exif_location&&f.exif_location.offset+f.exif_location.length<=p.length){var y=a(p,f.exif_location.offset),c=p.slice(f.exif_location.offset+y+4,f.exif_location.offset+f.exif_location.length),T=A.get_orientation(c);T>0&&(u.orientation=T)}return u}}}}}}},2504:function(G,V,e){var g=e(14847).eG,_=e(14847).OF,a=e(14847).mP,C=g("BM");G.exports=function(A){if(!(A.length<26)&&_(A,0,C))return{width:a(A,18),height:a(A,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(G,V,e){var g=e(14847).eG,_=e(14847).OF,a=e(14847).mP,C=g("GIF87a"),A=g("GIF89a");G.exports=function(v){if(!(v.length<10)&&!(!_(v,0,C)&&!_(v,0,A)))return{width:a(v,6),height:a(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(G,V,e){var g=e(14847).mP,_=0,a=1,C=16;G.exports=function(A){var v=g(A,0),p=g(A,2),t=g(A,4);if(!(v!==_||p!==a||!t)){for(var r=[],s={width:0,height:0},n=0;n<t;n++){var i=A[6+C*n]||256,f=A[6+C*n+1]||256,u={width:i,height:f};r.push(u),(i>s.width||f>s.height)&&(s=u)}return{width:s.width,height:s.height,variants:r,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(G,V,e){var g=e(14847).n8,_=e(14847).eG,a=e(14847).OF,C=e(71371),A=_("Exif\0\0");G.exports=function(v){if(!(v.length<2)&&!(v[0]!==255||v[1]!==216||v[2]!==255))for(var p=2;;){for(;;){if(v.length-p<2)return;if(v[p++]===255)break}for(var t=v[p++],r;t===255;)t=v[p++];if(208<=t&&t<=217||t===1)r=0;else if(192<=t&&t<=254){if(v.length-p<2)return;r=g(v,p)-2,p+=2}else return;if(t===217||t===218)return;var s;if(t===225&&r>=10&&a(v,p,A)&&(s=C.get_orientation(v.slice(p+6,p+r))),r>=5&&192<=t&&t<=207&&t!==196&&t!==200&&t!==204){if(v.length-p<r)return;var n={width:g(v,p+3),height:g(v,p+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return s>0&&(n.orientation=s),n}p+=r}}},6303:function(G,V,e){var g=e(14847).eG,_=e(14847).OF,a=e(14847).Ag,C=g(`PNG\r

`),A=g("IHDR");G.exports=function(v){if(!(v.length<24)&&_(v,0,C)&&_(v,12,A))return{width:a(v,16),height:a(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(G,V,e){var g=e(14847).eG,_=e(14847).OF,a=e(14847).Ag,C=g("8BPS\0");G.exports=function(A){if(!(A.length<22)&&_(A,0,C))return{width:a(A,18),height:a(A,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(G){function V(s){return s===32||s===9||s===13||s===10}function e(s){return typeof s=="number"&&isFinite(s)&&s>0}function g(s){var n=0,i=s.length;for(s[0]===239&&s[1]===187&&s[2]===191&&(n=3);n<i&&V(s[n]);)n++;return n===i?!1:s[n]===60}var _=/<[-_.:a-zA-Z0-9][^>]*>/,a=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,C=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,A=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,v=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,p=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function t(s){var n=s.match(C),i=s.match(A),f=s.match(v);return{width:n&&(n[1]||n[2]),height:i&&(i[1]||i[2]),viewbox:f&&(f[1]||f[2])}}function r(s){return p.test(s)?s.match(p)[0]:"px"}G.exports=function(s){if(g(s)){for(var n="",i=0;i<s.length;i++)n+=String.fromCharCode(s[i]);var f=(n.match(_)||[""])[0];if(a.test(f)){var u=t(f),y=parseFloat(u.width),c=parseFloat(u.height);if(u.width&&u.height)return!e(y)||!e(c)?void 0:{width:y,height:c,type:"svg",mime:"image/svg+xml",wUnits:r(u.width),hUnits:r(u.height)};var T=(u.viewbox||"").split(" "),h={width:T[2],height:T[3]},l=parseFloat(h.width),d=parseFloat(h.height);if(!(!e(l)||!e(d))&&r(h.width)===r(h.height)){var E=l/d;return u.width?e(y)?{width:y,height:y/E,type:"svg",mime:"image/svg+xml",wUnits:r(u.width),hUnits:r(u.width)}:void 0:u.height?e(c)?{width:c*E,height:c,type:"svg",mime:"image/svg+xml",wUnits:r(u.height),hUnits:r(u.height)}:void 0:{width:l,height:d,type:"svg",mime:"image/svg+xml",wUnits:r(h.width),hUnits:r(h.height)}}}}}},66278:function(G,V,e){var g=e(14847).eG,_=e(14847).OF,a=e(14847).mP,C=e(14847).n8,A=e(14847).nm,v=e(14847).Ag,p=g("II*\0"),t=g("MM\0*");function r(i,f,u){return u?C(i,f):a(i,f)}function s(i,f,u){return u?v(i,f):A(i,f)}function n(i,f,u){var y=r(i,f+2,u),c=s(i,f+4,u);return c!==1||y!==3&&y!==4?null:y===3?r(i,f+8,u):s(i,f+8,u)}G.exports=function(i){if(!(i.length<8)&&!(!_(i,0,p)&&!_(i,0,t))){var f=i[0]===77,u=s(i,4,f)-8;if(!(u<0)){var y=u+8;if(!(i.length-y<2)){var c=r(i,y+0,f)*12;if(!(c<=0)&&(y+=2,!(i.length-y<c))){var T,h,l,d;for(T=0;T<c;T+=12)d=r(i,y+T,f),d===256?h=n(i,y+T,f):d===257&&(l=n(i,y+T,f));if(h&&l)return{width:h,height:l,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},90784:function(G,V,e){var g=e(14847).eG,_=e(14847).OF,a=e(14847).mP,C=e(14847).nm,A=e(71371),v=g("RIFF"),p=g("WEBP");function t(n,i){if(!(n[i+3]!==157||n[i+4]!==1||n[i+5]!==42))return{width:a(n,i+6)&16383,height:a(n,i+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function r(n,i){if(n[i]===47){var f=C(n,i+1);return{width:(f&16383)+1,height:(f>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function s(n,i){return{width:(n[i+6]<<16|n[i+5]<<8|n[i+4])+1,height:(n[i+9]<<i|n[i+8]<<8|n[i+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}G.exports=function(n){if(!(n.length<16)&&!(!_(n,0,v)&&!_(n,8,p))){var i=12,f=null,u=0,y=C(n,4)+8;if(!(y>n.length)){for(;i+8<y;){if(n[i]===0){i++;continue}var c=String.fromCharCode.apply(null,n.slice(i,i+4)),T=C(n,i+4);c==="VP8 "&&T>=10?f=f||t(n,i+8):c==="VP8L"&&T>=9?f=f||r(n,i+8):c==="VP8X"&&T>=10?f=f||s(n,i+8):c==="EXIF"&&(u=A.get_orientation(n.slice(i+8,i+8+T)),i=1/0),i+=8+T}if(f)return u>0&&(f.orientation=u),f}}}},91497:function(G,V,e){G.exports={avif:e(24461),bmp:e(2504),gif:e(47342),ico:e(31355),jpeg:e(54261),png:e(6303),psd:e(38689),svg:e(6881),tiff:e(66278),webp:e(90784)}},33575:function(G,V,e){var g=e(91497);function _(a){for(var C=Object.keys(g),A=0;A<C.length;A++){var v=g[C[A]](a);if(v)return v}return null}G.exports=function(C){return _(C)},G.exports.parsers=g},90386:function(G){var V=G.exports={},e,g;function _(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=_}catch{e=_}try{typeof clearTimeout=="function"?g=clearTimeout:g=a}catch{g=a}})();function C(u){if(e===setTimeout)return setTimeout(u,0);if((e===_||!e)&&setTimeout)return e=setTimeout,setTimeout(u,0);try{return e(u,0)}catch{try{return e.call(null,u,0)}catch{return e.call(this,u,0)}}}function A(u){if(g===clearTimeout)return clearTimeout(u);if((g===a||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(u);try{return g(u)}catch{try{return g.call(null,u)}catch{return g.call(this,u)}}}var v=[],p=!1,t,r=-1;function s(){!p||!t||(p=!1,t.length?v=t.concat(v):r=-1,v.length&&n())}function n(){if(!p){var u=C(s);p=!0;for(var y=v.length;y;){for(t=v,v=[];++r<y;)t&&t[r].run();r=-1,y=v.length}t=null,p=!1,A(u)}}V.nextTick=function(u){var y=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)y[c-1]=arguments[c];v.push(new i(u,y)),v.length===1&&!p&&C(n)};function i(u,y){this.fun=u,this.array=y}i.prototype.run=function(){this.fun.apply(null,this.array)},V.title="browser",V.browser=!0,V.env={},V.argv=[],V.version="",V.versions={};function f(){}V.on=f,V.addListener=f,V.once=f,V.off=f,V.removeListener=f,V.removeAllListeners=f,V.emit=f,V.prependListener=f,V.prependOnceListener=f,V.listeners=function(u){return[]},V.binding=function(u){throw new Error("process.binding is not supported")},V.cwd=function(){return"/"},V.chdir=function(u){throw new Error("process.chdir is not supported")},V.umask=function(){return 0}},5877:function(G,V,e){for(var g=e(9748),_=typeof window>"u"?e.g:window,a=["moz","webkit"],C="AnimationFrame",A=_["request"+C],v=_["cancel"+C]||_["cancelRequest"+C],p=0;!A&&p<a.length;p++)A=_[a[p]+"Request"+C],v=_[a[p]+"Cancel"+C]||_[a[p]+"CancelRequest"+C];if(!A||!v){var t=0,r=0,s=[],n=1e3/60;A=function(i){if(s.length===0){var f=g(),u=Math.max(0,n-(f-t));t=u+f,setTimeout(function(){var y=s.slice(0);s.length=0;for(var c=0;c<y.length;c++)if(!y[c].cancelled)try{y[c].callback(t)}catch(T){setTimeout(function(){throw T},0)}},Math.round(u))}return s.push({handle:++r,callback:i,cancelled:!1}),r},v=function(i){for(var f=0;f<s.length;f++)s[f].handle===i&&(s[f].cancelled=!0)}}G.exports=function(i){return A.call(_,i)},G.exports.cancel=function(){v.apply(_,arguments)},G.exports.polyfill=function(i){i||(i=_),i.requestAnimationFrame=A,i.cancelAnimationFrame=v}},3593:function(G,V,e){var g=e(21527),_=e(25075),a=e(93447),C=e(71299),A=e(56131),v=e(30120),p=e(57060),t=p.float32,r=p.fract32;G.exports=n;var s=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function n(i,f){if(typeof i=="function"?(f||(f={}),f.regl=i):f=i,f.length&&(f.positions=f),i=f.regl,!i.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var u=i._gl,y,c,T,h,l,d,E={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},S=[];return h=i.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),c=i.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),T=i.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),l=i.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),d=i.buffer({usage:"static",type:"float",data:s}),w(f),y=i({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:i.prop("range"),lineWidth:i.prop("lineWidth"),capSize:i.prop("capSize"),opacity:i.prop("opacity"),scale:i.prop("scale"),translate:i.prop("translate"),scaleFract:i.prop("scaleFract"),translateFract:i.prop("translateFract"),viewport:function(L,m){return[m.viewport.x,m.viewport.y,L.viewportWidth,L.viewportHeight]}},attributes:{color:{buffer:h,offset:function(L,m){return m.offset*4},divisor:1},position:{buffer:c,offset:function(L,m){return m.offset*8},divisor:1},positionFract:{buffer:T,offset:function(L,m){return m.offset*8},divisor:1},error:{buffer:l,offset:function(L,m){return m.offset*16},divisor:1},direction:{buffer:d,stride:24,offset:0},lineOffset:{buffer:d,stride:24,offset:8},capOffset:{buffer:d,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:i.prop("viewport")},viewport:i.prop("viewport"),stencil:!1,instances:i.prop("count"),count:s.length}),A(P,{update:w,draw:x,destroy:o,regl:i,gl:u,canvas:u.canvas,groups:S}),P;function P(L){L?w(L):L===null&&o(),x()}function x(L){if(typeof L=="number")return M(L);L&&!Array.isArray(L)&&(L=[L]),i._refresh(),S.forEach(function(m,F){if(m){if(L&&(L[F]?m.draw=!0:m.draw=!1),!m.draw){m.draw=!0;return}M(F)}})}function M(L){typeof L=="number"&&(L=S[L]),L!=null&&L&&L.count&&L.color&&L.opacity&&L.positions&&L.positions.length>1&&(L.scaleRatio=[L.scale[0]*L.viewport.width,L.scale[1]*L.viewport.height],y(L),L.after&&L.after(L))}function w(L){if(L){L.length!=null?typeof L[0]=="number"&&(L=[{positions:L}]):Array.isArray(L)||(L=[L]);var m=0,F=0;if(P.groups=S=L.map(function(H,Y){var J=S[Y];if(H)typeof H=="function"?H={after:H}:typeof H[0]=="number"&&(H={positions:H});else return J;return H=C(H,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),J||(S[Y]=J={id:Y,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},H=A({},E,H)),a(J,H,[{lineWidth:function(re){return+re*.5},capSize:function(re){return+re*.5},opacity:parseFloat,errors:function(re){return re=v(re),F+=re.length,re},positions:function(re,ie){return re=v(re,"float64"),ie.count=Math.floor(re.length/2),ie.bounds=g(re,2),ie.offset=m,m+=ie.count,re}},{color:function(re,ie){var ce=ie.count;if(re||(re="transparent"),!Array.isArray(re)||typeof re[0]=="number"){var Q=re;re=Array(ce);for(var j=0;j<ce;j++)re[j]=Q}if(re.length<ce)throw Error("Not enough colors");for(var Z=new Uint8Array(ce*4),$=0;$<ce;$++){var te=_(re[$],"uint8");Z.set(te,$*4)}return Z},range:function(re,ie,ce){var Q=ie.bounds;return re||(re=Q),ie.scale=[1/(re[2]-re[0]),1/(re[3]-re[1])],ie.translate=[-re[0],-re[1]],ie.scaleFract=r(ie.scale),ie.translateFract=r(ie.translate),re},viewport:function(re){var ie;return Array.isArray(re)?ie={x:re[0],y:re[1],width:re[2]-re[0],height:re[3]-re[1]}:re?(ie={x:re.x||re.left||0,y:re.y||re.top||0},re.right?ie.width=re.right-ie.x:ie.width=re.w||re.width||0,re.bottom?ie.height=re.bottom-ie.y:ie.height=re.h||re.height||0):ie={x:0,y:0,width:u.drawingBufferWidth,height:u.drawingBufferHeight},ie}}]),J}),m||F){var I=S.reduce(function(H,Y,J){return H+(Y?Y.count:0)},0),U=new Float64Array(I*2),z=new Uint8Array(I*4),N=new Float32Array(I*4);S.forEach(function(H,Y){if(H){var J=H.positions,re=H.count,ie=H.offset,ce=H.color,Q=H.errors;re&&(z.set(ce,ie*4),N.set(Q,ie*4),U.set(J,ie*2))}});var B=t(U);c(B);var O=r(U,B);T(O),h(z),l(N)}}}function o(){c.destroy(),T.destroy(),h.destroy(),l.destroy(),d.destroy()}}},46075:function(G,V,e){var g=e(25075),_=e(21527),a=e(56131),C=e(56068),A=e(71299),v=e(30120),p=e(11474),t=e(54),r=e(57060),s=r.float32,n=r.fract32,i=e(83522),f=e(18863),u=e(6851);G.exports=y;function y(c,T){if(!(this instanceof y))return new y(c,T);if(typeof c=="function"?(T||(T={}),T.regl=c):T=c,T.length&&(T.positions=T),c=T.regl,!c.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=c._gl,this.regl=c,this.passes=[],this.shaders=y.shaders.has(c)?y.shaders.get(c):y.shaders.set(c,y.createShaders(c)).get(c),this.update(T)}y.dashMult=2,y.maxPatternLength=256,y.precisionThreshold=3e6,y.maxPoints=1e4,y.maxLines=2048,y.shaders=new i,y.createShaders=function(c){var T=c.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),h={primitive:"triangle strip",instances:c.prop("count"),count:4,offset:0,uniforms:{miterMode:function(S,P){return P.join==="round"?2:1},miterLimit:c.prop("miterLimit"),scale:c.prop("scale"),scaleFract:c.prop("scaleFract"),translateFract:c.prop("translateFract"),translate:c.prop("translate"),thickness:c.prop("thickness"),dashTexture:c.prop("dashTexture"),opacity:c.prop("opacity"),pixelRatio:c.context("pixelRatio"),id:c.prop("id"),dashLength:c.prop("dashLength"),viewport:function(S,P){return[P.viewport.x,P.viewport.y,S.viewportWidth,S.viewportHeight]},depth:c.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(S,P){return!P.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:c.prop("viewport")},viewport:c.prop("viewport")},l=c(a({vert:C([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`]),frag:C([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:T,divisor:0,stride:8,offset:0},lineTop:{buffer:T,divisor:0,stride:8,offset:4},aCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:c.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},h)),d;try{d=c(a({cull:{enable:!0,face:"back"},vert:C([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);

	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`]),frag:C([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:T,divisor:0,stride:8,offset:0},lineTop:{buffer:T,divisor:0,stride:8,offset:4},aColor:{buffer:c.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:c.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},h))}catch{d=l}var E=c({primitive:"triangle",elements:function(S,P){return P.triangles},offset:0,vert:C([`precision highp float;
#define GLSLIFY 1

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`]),frag:C([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`]),uniforms:{scale:c.prop("scale"),color:c.prop("fill"),scaleFract:c.prop("scaleFract"),translateFract:c.prop("translateFract"),translate:c.prop("translate"),opacity:c.prop("opacity"),pixelRatio:c.context("pixelRatio"),id:c.prop("id"),viewport:function(S,P){return[P.viewport.x,P.viewport.y,S.viewportWidth,S.viewportHeight]}},attributes:{position:{buffer:c.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:8}},blend:h.blend,depth:{enable:!1},scissor:h.scissor,stencil:h.stencil,viewport:h.viewport});return{fill:E,rect:l,miter:d}},y.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},y.prototype.render=function(){for(var c,T=[],h=arguments.length;h--;)T[h]=arguments[h];T.length&&(c=this).update.apply(c,T),this.draw()},y.prototype.draw=function(){for(var c=this,T=[],h=arguments.length;h--;)T[h]=arguments[h];return(T.length?T:this.passes).forEach(function(l,d){var E;if(l&&Array.isArray(l))return(E=c).draw.apply(E,l);typeof l=="number"&&(l=c.passes[l]),l&&l.count>1&&l.opacity&&(c.regl._refresh(),l.fill&&l.triangles&&l.triangles.length>2&&c.shaders.fill(l),l.thickness&&(l.scale[0]*l.viewport.width>y.precisionThreshold||l.scale[1]*l.viewport.height>y.precisionThreshold||l.join==="rect"||!l.join&&(l.thickness<=2||l.count>=y.maxPoints)?c.shaders.rect(l):c.shaders.miter(l)))}),this},y.prototype.update=function(c){var T=this;if(c){c.length!=null?typeof c[0]=="number"&&(c=[{positions:c}]):Array.isArray(c)||(c=[c]);var h=this,l=h.regl,d=h.gl;if(c.forEach(function(M,w){var o=T.passes[w];if(M!==void 0){if(M===null){T.passes[w]=null;return}if(typeof M[0]=="number"&&(M={positions:M}),M=A(M,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),o||(T.passes[w]=o={id:w,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:l.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:l.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:l.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:l.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},M=a({},y.defaults,M)),M.thickness!=null&&(o.thickness=parseFloat(M.thickness)),M.opacity!=null&&(o.opacity=parseFloat(M.opacity)),M.miterLimit!=null&&(o.miterLimit=parseFloat(M.miterLimit)),M.overlay!=null&&(o.overlay=!!M.overlay,w<y.maxLines&&(o.depth=2*(y.maxLines-1-w%y.maxLines)/y.maxLines-1)),M.join!=null&&(o.join=M.join),M.hole!=null&&(o.hole=M.hole),M.fill!=null&&(o.fill=M.fill?g(M.fill,"uint8"):null),M.viewport!=null&&(o.viewport=f(M.viewport)),o.viewport||(o.viewport=f([d.drawingBufferWidth,d.drawingBufferHeight])),M.close!=null&&(o.close=M.close),M.positions===null&&(M.positions=[]),M.positions){var L,m;if(M.positions.x&&M.positions.y){var F=M.positions.x,I=M.positions.y;m=o.count=Math.max(F.length,I.length),L=new Float64Array(m*2);for(var U=0;U<m;U++)L[U*2]=F[U],L[U*2+1]=I[U]}else L=v(M.positions,"float64"),m=o.count=Math.floor(L.length/2);var z=o.bounds=_(L,2);if(o.fill){for(var N=[],B={},O=0,H=0,Y=0,J=o.count;H<J;H++){var re=L[H*2],ie=L[H*2+1];isNaN(re)||isNaN(ie)||re==null||ie==null?(re=L[O*2],ie=L[O*2+1],B[H]=O):O=H,N[Y++]=re,N[Y++]=ie}if(M.splitNull){o.count-1 in B||(B[o.count]=o.count-1);var ce=Object.keys(B).map(Number).sort(function(Be,Re){return Be-Re}),Q=[],j=0,Z=o.hole!=null?o.hole[0]:null;if(Z!=null){var $=u(ce,function(Be){return Be>=Z});ce=ce.slice(0,$),ce.push(Z)}for(var te=function(Be){var Re=N.slice(j*2,ce[Be]*2).concat(Z?N.slice(Z*2):[]),we=(o.hole||[]).map(function(Se){return Se-Z+(ce[Be]-j)}),ye=p(Re,we);ye=ye.map(function(Se){return Se+j+(Se+j<ce[Be]?0:Z-ce[Be])}),Q.push.apply(Q,ye),j=ce[Be]+1},se=0;se<ce.length;se++)te(se);for(var ee=0,q=Q.length;ee<q;ee++)B[Q[ee]]!=null&&(Q[ee]=B[Q[ee]]);o.triangles=Q}else{for(var le=p(N,o.hole||[]),oe=0,he=le.length;oe<he;oe++)B[le[oe]]!=null&&(le[oe]=B[le[oe]]);o.triangles=le}}var me=new Float64Array(L);t(me,2,z);var Ce=new Float64Array(m*2+6);o.close?L[0]===L[m*2-2]&&L[1]===L[m*2-1]?(Ce[0]=me[m*2-4],Ce[1]=me[m*2-3]):(Ce[0]=me[m*2-2],Ce[1]=me[m*2-1]):(Ce[0]=me[0],Ce[1]=me[1]),Ce.set(me,2),o.close?L[0]===L[m*2-2]&&L[1]===L[m*2-1]?(Ce[m*2+2]=me[2],Ce[m*2+3]=me[3],o.count-=1):(Ce[m*2+2]=me[0],Ce[m*2+3]=me[1],Ce[m*2+4]=me[2],Ce[m*2+5]=me[3]):(Ce[m*2+2]=me[m*2-2],Ce[m*2+3]=me[m*2-1],Ce[m*2+4]=me[m*2-2],Ce[m*2+5]=me[m*2-1]);var Ae=s(Ce);o.positionBuffer(Ae);var Ue=n(Ce,Ae);o.positionFractBuffer(Ue)}if(M.range?o.range=M.range:o.range||(o.range=o.bounds),(M.range||M.positions)&&o.count){var Ve=o.bounds,Pe=Ve[2]-Ve[0],be=Ve[3]-Ve[1],Le=o.range[2]-o.range[0],We=o.range[3]-o.range[1];o.scale=[Pe/Le,be/We],o.translate=[-o.range[0]/Le+Ve[0]/Le||0,-o.range[1]/We+Ve[1]/We||0],o.scaleFract=n(o.scale),o.translateFract=n(o.translate)}if(M.dashes){var je=0,Fe;if(!M.dashes||M.dashes.length<2)je=1,Fe=new Uint8Array([255,255,255,255,255,255,255,255]);else{je=0;for(var Ze=0;Ze<M.dashes.length;++Ze)je+=M.dashes[Ze];Fe=new Uint8Array(je*y.dashMult);for(var ut=0,at=255,it=0;it<2;it++)for(var $e=0;$e<M.dashes.length;++$e){for(var st=0,ct=M.dashes[$e]*y.dashMult*.5;st<ct;++st)Fe[ut++]=at;at^=255}}o.dashLength=je,o.dashTexture({channels:1,data:Fe,width:Fe.length,height:1,mag:"linear",min:"linear"},0,0)}if(M.color){var vt=o.count,St=M.color;St||(St="transparent");var Mt=new Uint8Array(vt*4+4);if(!Array.isArray(St)||typeof St[0]=="number")for(var Bt=g(St,"uint8"),Qe=0;Qe<vt+1;Qe++)Mt.set(Bt,Qe*4);else{for(var ke=0;ke<vt;ke++){var ze=g(St[ke],"uint8");Mt.set(ze,ke*4)}Mt.set(g(St[0],"uint8"),vt*4)}o.colorBuffer({usage:"dynamic",type:"uint8",data:Mt})}}}),c.length<this.passes.length){for(var E=c.length;E<this.passes.length;E++){var S=this.passes[E];S&&(S.colorBuffer.destroy(),S.positionBuffer.destroy(),S.dashTexture.destroy())}this.passes.length=c.length}for(var P=[],x=0;x<this.passes.length;x++)this.passes[x]!==null&&P.push(this.passes[x]);return this.passes=P,this}},y.prototype.destroy=function(){return this.passes.forEach(function(c){c.colorBuffer.destroy(),c.positionBuffer.destroy(),c.dashTexture.destroy()}),this.passes.length=0,this}},11870:function(G,V,e){function g(o,L){var m=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(m!=null){var F,I,U,z,N=[],B=!0,O=!1;try{if(U=(m=m.call(o)).next,L===0){if(Object(m)!==m)return;B=!1}else for(;!(B=(F=U.call(m)).done)&&(N.push(F.value),N.length!==L);B=!0);}catch(H){O=!0,I=H}finally{try{if(!B&&m.return!=null&&(z=m.return(),Object(z)!==z))return}finally{if(O)throw I}}return N}}function _(o,L){return A(o)||g(o,L)||p(o,L)||s()}function a(o){return C(o)||v(o)||p(o)||r()}function C(o){if(Array.isArray(o))return t(o)}function A(o){if(Array.isArray(o))return o}function v(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function p(o,L){if(o){if(typeof o=="string")return t(o,L);var m=Object.prototype.toString.call(o).slice(8,-1);if(m==="Object"&&o.constructor&&(m=o.constructor.name),m==="Map"||m==="Set")return Array.from(o);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return t(o,L)}}function t(o,L){(L==null||L>o.length)&&(L=o.length);for(var m=0,F=new Array(L);m<L;m++)F[m]=o[m];return F}function r(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=e(25075),i=e(21527),f=e(6475),u=e(88294),y=e(56131),c=e(56068),T=e(71299),h=e(93447),l=e(30120),d=e(62683),E=e(57060),S=e(18863),P=x;function x(o,L){var m=this;if(!(this instanceof x))return new x(o,L);typeof o=="function"?(L||(L={}),L.regl=o):(L=o,o=null),L&&L.length&&(L.positions=L),o=L.regl;var F=o._gl,I,U=[],z={},N=[],B=[null],O=[null],H=255,Y=100;this.tooManyColors=d,I=o.texture({data:new Uint8Array(H*4),width:H,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),y(this,{regl:o,gl:F,groups:N,markerCache:O,markerTextures:B,palette:U,paletteIds:z,paletteTexture:I,maxColors:H,maxSize:Y,canvas:F.canvas}),this.update(L);var J={uniforms:{constPointSize:!!L.constPointSize,opacity:o.prop("opacity"),paletteSize:function(Q,j){return[m.tooManyColors?0:H,I.height]},pixelRatio:o.context("pixelRatio"),scale:o.prop("scale"),scaleFract:o.prop("scaleFract"),translate:o.prop("translate"),translateFract:o.prop("translateFract"),markerTexture:o.prop("markerTexture"),paletteTexture:I},attributes:{x:function(Q,j){return j.xAttr||{buffer:j.positionBuffer,stride:8,offset:0}},y:function(Q,j){return j.yAttr||{buffer:j.positionBuffer,stride:8,offset:4}},xFract:function(Q,j){return j.xAttr?{constant:[0,0]}:{buffer:j.positionFractBuffer,stride:8,offset:0}},yFract:function(Q,j){return j.yAttr?{constant:[0,0]}:{buffer:j.positionFractBuffer,stride:8,offset:4}},size:function(Q,j){return j.size.length?{buffer:j.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(j.size*255/m.maxSize)]}},borderSize:function(Q,j){return j.borderSize.length?{buffer:j.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(j.borderSize*255/m.maxSize)]}},colorId:function(Q,j){return j.color.length?{buffer:j.colorBuffer,stride:m.tooManyColors?8:4,offset:0}:{constant:m.tooManyColors?U.slice(j.color*4,j.color*4+4):[j.color]}},borderColorId:function(Q,j){return j.borderColor.length?{buffer:j.colorBuffer,stride:m.tooManyColors?8:4,offset:m.tooManyColors?4:2}:{constant:m.tooManyColors?U.slice(j.borderColor*4,j.borderColor*4+4):[j.borderColor]}},isActive:function(Q,j){return j.activation===!0?{constant:[1]}:j.activation?j.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:o.prop("viewport")},viewport:o.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:o.prop("elements"),count:o.prop("count"),offset:o.prop("offset"),primitive:"points"},re=y({},J);re.frag=c([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),re.vert=c([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}`]),this.drawMarker=o(re);var ie=y({},J);ie.frag=c([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),ie.vert=c([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),d&&(ie.frag=ie.frag.replace("smoothstep","smoothStep"),re.frag=re.frag.replace("smoothstep","smoothStep")),this.drawCircle=o(ie)}x.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},x.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},x.prototype.draw=function(){for(var o=this,L=arguments.length,m=new Array(L),F=0;F<L;F++)m[F]=arguments[F];var I=this.groups;if(m.length===1&&Array.isArray(m[0])&&(m[0][0]===null||Array.isArray(m[0][0]))&&(m=m[0]),this.regl._refresh(),m.length)for(var U=0;U<m.length;U++)this.drawItem(U,m[U]);else I.forEach(function(z,N){o.drawItem(N)});return this},x.prototype.drawItem=function(o,L){var m=this.groups,F=m[o];if(typeof L=="number"&&(o=L,F=m[L],L=null),!!(F&&F.count&&F.opacity)){F.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,F,L));for(var I=[],U=1;U<F.activation.length;U++)!F.activation[U]||F.activation[U]!==!0&&!F.activation[U].data.length||I.push.apply(I,a(this.getMarkerDrawOptions(U,F,L)));I.length&&this.drawMarker(I)}},x.prototype.getMarkerDrawOptions=function(o,L,m){var F=L.range,I=L.tree,U=L.viewport,z=L.activation,N=L.selectionBuffer,B=L.count;if(this.regl,!I)return m?[y({},L,{markerTexture:this.markerTextures[o],activation:z[o],count:m.length,elements:m,offset:0})]:[y({},L,{markerTexture:this.markerTextures[o],activation:z[o],offset:0})];var O=[],H=I.range(F,{lod:!0,px:[(F[2]-F[0])/U.width,(F[3]-F[1])/U.height]});if(m){for(var Y=z[o],J=Y.data,re=new Uint8Array(B),ie=0;ie<m.length;ie++){var ce=m[ie];re[ce]=J?J[ce]:1}N.subdata(re)}for(var Q=H.length;Q--;){var j=_(H[Q],2),Z=j[0],$=j[1];O.push(y({},L,{markerTexture:this.markerTextures[o],activation:m?N:z[o],offset:Z,count:$-Z}))}return O},x.prototype.update=function(){for(var o=this,L=arguments.length,m=new Array(L),F=0;F<L;F++)m[F]=arguments[F];if(m.length){m.length===1&&Array.isArray(m[0])&&(m=m[0]);var I=this.groups,U=this.gl,z=this.regl,N=this.maxSize,B=this.maxColors,O=this.palette;this.groups=I=m.map(function(H,Y){var J=I[Y];if(H===void 0)return J;H===null?H={positions:null}:typeof H=="function"?H={ondraw:H}:typeof H[0]=="number"&&(H={positions:H}),H=T(H,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),H.positions===null&&(H.positions=[]),H.tooManyColors!=null&&(o.tooManyColors=H.tooManyColors),J||(I[Y]=J={id:Y,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:z.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},H=y({},x.defaults,H)),H.positions&&!("marker"in H)&&(H.marker=J.marker,delete J.marker),H.marker&&!("positions"in H)&&(H.positions=J.positions,delete J.positions);var re=0,ie=0;if(h(J,H,[{snap:!0,size:function(be,Le){return be==null&&(be=x.defaults.size),re+=be&&be.length?1:0,be},borderSize:function(be,Le){return be==null&&(be=x.defaults.borderSize),re+=be&&be.length?1:0,be},opacity:parseFloat,color:function(be,Le){return be==null&&(be=x.defaults.color),be=o.updateColor(be),ie++,be},borderColor:function(be,Le){return be==null&&(be=x.defaults.borderColor),be=o.updateColor(be),ie++,be},bounds:function(be,Le,We){return"range"in We||(We.range=null),be},positions:function(be,Le,We){var je=Le.snap,Fe=Le.positionBuffer,Ze=Le.positionFractBuffer,ut=Le.selectionBuffer;if(be.x||be.y)return be.x.length?Le.xAttr={buffer:z.buffer(be.x),offset:0,stride:4,count:be.x.length}:Le.xAttr={buffer:be.x.buffer,offset:be.x.offset*4||0,stride:(be.x.stride||1)*4,count:be.x.count},be.y.length?Le.yAttr={buffer:z.buffer(be.y),offset:0,stride:4,count:be.y.length}:Le.yAttr={buffer:be.y.buffer,offset:be.y.offset*4||0,stride:(be.y.stride||1)*4,count:be.y.count},Le.count=Math.max(Le.xAttr.count,Le.yAttr.count),be;be=l(be,"float64");var at=Le.count=Math.floor(be.length/2),it=Le.bounds=at?i(be,2):null;if(!We.range&&!Le.range&&(delete Le.range,We.range=it),!We.marker&&!Le.marker&&(delete Le.marker,We.marker=null),je&&(je===!0||at>je)?Le.tree=u(be,{bounds:it}):je&&je.length&&(Le.tree=je),Le.tree){var $e={primitive:"points",usage:"static",data:Le.tree,type:"uint32"};Le.elements?Le.elements($e):Le.elements=z.elements($e)}var st=E.float32(be);Fe({data:st,usage:"dynamic"});var ct=E.fract32(be,st);return Ze({data:ct,usage:"dynamic"}),ut({data:new Uint8Array(at),type:"uint8",usage:"stream"}),be}},{marker:function(be,Le,We){var je=Le.activation;if(je.forEach(function(ct){return ct&&ct.destroy&&ct.destroy()}),je.length=0,!be||typeof be[0]=="number"){var Fe=o.addMarker(be);je[Fe]=!0}else{for(var Ze=[],ut=0,at=Math.min(be.length,Le.count);ut<at;ut++){var it=o.addMarker(be[ut]);Ze[it]||(Ze[it]=new Uint8Array(Le.count)),Ze[it][ut]=1}for(var $e=0;$e<Ze.length;$e++)if(Ze[$e]){var st={data:Ze[$e],type:"uint8",usage:"static"};je[$e]?je[$e](st):je[$e]=z.buffer(st),je[$e].data=Ze[$e]}}return be},range:function(be,Le,We){var je=Le.bounds;if(je)return be||(be=je),Le.scale=[1/(be[2]-be[0]),1/(be[3]-be[1])],Le.translate=[-be[0],-be[1]],Le.scaleFract=E.fract(Le.scale),Le.translateFract=E.fract(Le.translate),be},viewport:function(be){var Le=S(be||[U.drawingBufferWidth,U.drawingBufferHeight]);return Le}}]),re){var ce=J,Q=ce.count,j=ce.size,Z=ce.borderSize,$=ce.sizeBuffer,te=new Uint8Array(Q*2);if(j.length||Z.length)for(var se=0;se<Q;se++)te[se*2]=Math.round((j[se]==null?j:j[se])*255/N),te[se*2+1]=Math.round((Z[se]==null?Z:Z[se])*255/N);$({data:te,usage:"dynamic"})}if(ie){var ee=J,q=ee.count,le=ee.color,oe=ee.borderColor,he=ee.colorBuffer,me;if(o.tooManyColors){if(le.length||oe.length){me=new Uint8Array(q*8);for(var Ce=0;Ce<q;Ce++){var Ae=le[Ce];me[Ce*8]=O[Ae*4],me[Ce*8+1]=O[Ae*4+1],me[Ce*8+2]=O[Ae*4+2],me[Ce*8+3]=O[Ae*4+3];var Ue=oe[Ce];me[Ce*8+4]=O[Ue*4],me[Ce*8+5]=O[Ue*4+1],me[Ce*8+6]=O[Ue*4+2],me[Ce*8+7]=O[Ue*4+3]}}}else if(le.length||oe.length){me=new Uint8Array(q*4+2);for(var Ve=0;Ve<q;Ve++)le[Ve]!=null&&(me[Ve*4]=le[Ve]%B,me[Ve*4+1]=Math.floor(le[Ve]/B)),oe[Ve]!=null&&(me[Ve*4+2]=oe[Ve]%B,me[Ve*4+3]=Math.floor(oe[Ve]/B))}he({data:me||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return J})}},x.prototype.addMarker=function(o){var L=this.markerTextures,m=this.regl,F=this.markerCache,I=o==null?0:F.indexOf(o);if(I>=0)return I;var U;if(o instanceof Uint8Array||o instanceof Uint8ClampedArray)U=o;else{U=new Uint8Array(o.length);for(var z=0,N=o.length;z<N;z++)U[z]=o[z]*255}var B=Math.floor(Math.sqrt(U.length));return I=L.length,F.push(o),L.push(m.texture({channels:1,data:U,radius:B,mag:"linear",min:"linear"})),I},x.prototype.updateColor=function(o){var L=this.paletteIds,m=this.palette,F=this.maxColors;Array.isArray(o)||(o=[o]);var I=[];if(typeof o[0]=="number"){var U=[];if(Array.isArray(o))for(var z=0;z<o.length;z+=4)U.push(o.slice(z,z+4));else for(var N=0;N<o.length;N+=4)U.push(o.subarray(N,N+4));o=U}for(var B=0;B<o.length;B++){var O=o[B];O=n(O,"uint8");var H=f(O,!1);if(L[H]==null){var Y=m.length;L[H]=Math.floor(Y/4),m[Y]=O[0],m[Y+1]=O[1],m[Y+2]=O[2],m[Y+3]=O[3]}I[B]=L[H]}return!this.tooManyColors&&m.length>F*4&&(this.tooManyColors=!0),this.updatePalette(m),I.length===1?I[0]:I},x.prototype.updatePalette=function(o){if(!this.tooManyColors){var L=this.maxColors,m=this.paletteTexture,F=Math.ceil(o.length*.25/L);if(F>1){o=o.slice();for(var I=o.length*.25%L;I<F*L;I++)o.push(0,0,0,0)}m.height<F&&m.resize(L,F),m.subimage({width:Math.min(o.length*.25,L),height:F,data:o},0,0)}},x.prototype.destroy=function(){return this.groups.forEach(function(o){o.sizeBuffer.destroy(),o.positionBuffer.destroy(),o.positionFractBuffer.destroy(),o.colorBuffer.destroy(),o.activation.forEach(function(L){return L&&L.destroy&&L.destroy()}),o.selectionBuffer.destroy(),o.elements&&o.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(o){return o&&o.destroy&&o.destroy()}),this};var M=e(56131),w=function(L,m){var F=new P(L,m),I=F.render.bind(F);return M(I,{render:I,update:F.update.bind(F),draw:F.draw.bind(F),destroy:F.destroy.bind(F),regl:F.regl,gl:F.gl,canvas:F.gl.canvas,groups:F.groups,markers:F.markerCache,palette:F.palette}),I};G.exports=w},60487:function(G,V,e){var g=e(11870),_=e(71299),a=e(21527),C=e(5877),A=e(57471),v=e(18863),p=e(30120);G.exports=t;function t(i,f){if(!(this instanceof t))return new t(i);this.traces=[],this.passes={},this.regl=i,this.scatter=g(i),this.canvas=this.scatter.canvas}t.prototype.render=function(){for(var i=this,f,u=[],y=arguments.length;y--;)u[y]=arguments[y];return u.length&&(f=this).update.apply(f,u),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=C(function(){i.draw(),i.dirty=!0,i.planned=null})):(this.draw(),this.dirty=!0,C(function(){i.dirty=!1})),this)},t.prototype.update=function(){for(var i,f=[],u=arguments.length;u--;)f[u]=arguments[u];if(f.length){for(var y=0;y<f.length;y++)this.updateItem(y,f[y]);this.traces=this.traces.filter(Boolean);for(var c=[],T=0,h=0;h<this.traces.length;h++){for(var l=this.traces[h],d=this.traces[h].passes,E=0;E<d.length;E++)c.push(this.passes[d[E]]);l.passOffset=T,T+=l.passes.length}return(i=this.scatter).update.apply(i,c),this}},t.prototype.updateItem=function(i,f){var u=this,y=u.regl;if(f===null)return this.traces[i]=null,this;if(!f)return this;var c=_(f,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),T=this.traces[i]||(this.traces[i]={id:i,buffer:y.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([y._gl.drawingBufferWidth,y._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(c.color!=null&&(T.color=c.color),c.size!=null&&(T.size=c.size),c.marker!=null&&(T.marker=c.marker),c.borderColor!=null&&(T.borderColor=c.borderColor),c.borderSize!=null&&(T.borderSize=c.borderSize),c.opacity!=null&&(T.opacity=c.opacity),c.viewport&&(T.viewport=v(c.viewport)),c.diagonal!=null&&(T.diagonal=c.diagonal),c.upper!=null&&(T.upper=c.upper),c.lower!=null&&(T.lower=c.lower),c.data){T.buffer(p(c.data)),T.columns=c.data.length,T.count=c.data[0].length,T.bounds=[];for(var h=0;h<T.columns;h++)T.bounds[h]=a(c.data[h],1)}var l;c.range&&(T.range=c.range,l=T.range&&typeof T.range[0]!="number"),c.domain&&(T.domain=c.domain);var d=!1;c.padding!=null&&(Array.isArray(c.padding)&&c.padding.length===T.columns&&typeof c.padding[c.padding.length-1]=="number"?(T.padding=c.padding.map(n),d=!0):T.padding=n(c.padding));var E=T.columns,S=T.count,P=T.viewport.width,x=T.viewport.height,M=T.viewport.x,w=T.viewport.y,o=P/E,L=x/E;T.passes=[];for(var m=0;m<E;m++)for(var F=0;F<E;F++)if(!(!T.diagonal&&F===m)&&!(!T.upper&&m>F)&&!(!T.lower&&m<F)){var I=r(T.id,m,F),U=this.passes[I]||(this.passes[I]={});if(c.data&&(c.transpose?U.positions={x:{buffer:T.buffer,offset:F,count:S,stride:E},y:{buffer:T.buffer,offset:m,count:S,stride:E}}:U.positions={x:{buffer:T.buffer,offset:F*S,count:S},y:{buffer:T.buffer,offset:m*S,count:S}},U.bounds=s(T.bounds,m,F)),c.domain||c.viewport||c.data){var z=d?s(T.padding,m,F):T.padding;if(T.domain){var N=s(T.domain,m,F),B=N[0],O=N[1],H=N[2],Y=N[3];U.viewport=[M+B*P+z[0],w+O*x+z[1],M+H*P-z[2],w+Y*x-z[3]]}else U.viewport=[M+F*o+o*z[0],w+m*L+L*z[1],M+(F+1)*o-o*z[2],w+(m+1)*L-L*z[3]]}c.color&&(U.color=T.color),c.size&&(U.size=T.size),c.marker&&(U.marker=T.marker),c.borderSize&&(U.borderSize=T.borderSize),c.borderColor&&(U.borderColor=T.borderColor),c.opacity&&(U.opacity=T.opacity),c.range&&(U.range=l?s(T.range,m,F):T.range||U.bounds),T.passes.push(I)}return this},t.prototype.draw=function(){for(var i,f=[],u=arguments.length;u--;)f[u]=arguments[u];if(!f.length)this.scatter.draw();else{for(var y=[],c=0;c<f.length;c++)if(typeof f[c]=="number"){var T=this.traces[f[c]],h=T.passes,l=T.passOffset;y.push.apply(y,A(l,l+h.length))}else if(f[c].length){var d=f[c],E=this.traces[c],S=E.passes,P=E.passOffset;S=S.map(function(x,M){y[P+M]=d})}(i=this.scatter).draw.apply(i,y)}return this},t.prototype.destroy=function(){return this.traces.forEach(function(i){i.buffer&&i.buffer.destroy&&i.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function r(i,f,u){var y=i.id!=null?i.id:i,c=f,T=u,h=y<<16|(c&255)<<8|T&255;return h}function s(i,f,u){var y,c,T,h,l=i[f],d=i[u];return l.length>2?(l[0],l[2],y=l[1],c=l[3]):l.length?(y=l[0],c=l[1]):(l.x,y=l.y,l.x+l.width,c=l.y+l.height),d.length>2?(T=d[0],h=d[2],d[1],d[3]):d.length?(T=d[0],h=d[1]):(T=d.x,d.y,h=d.x+d.width,d.y+d.height),[T,y,h,c]}function n(i){if(typeof i=="number")return[i,i,i,i];if(i.length===2)return[i[0],i[1],i[0],i[1]];var f=v(i);return[f.x,f.y,f.x+f.width,f.y+f.height]}},98580:function(G){(function(V,e){G.exports=e()})(this,function(){function V(yt,$t){this.id=he++,this.type=yt,this.data=$t}function e(yt){if(yt.length===0)return[];var $t=yt.charAt(0),er=yt.charAt(yt.length-1);if(1<yt.length&&$t===er&&($t==='"'||$t==="'"))return['"'+yt.substr(1,yt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if($t=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(yt))return e(yt.substr(0,$t.index)).concat(e($t[1])).concat(e(yt.substr($t.index+$t[0].length)));if($t=yt.split("."),$t.length===1)return['"'+yt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(yt=[],er=0;er<$t.length;++er)yt=yt.concat(e($t[er]));return yt}function g(yt){return"["+e(yt).join("][")+"]"}function _(yt,$t){if(typeof yt=="function")return new V(0,yt);if(typeof yt=="number"||typeof yt=="boolean")return new V(5,yt);if(Array.isArray(yt))return new V(6,yt.map(function(er,mr){return _(er)}));if(yt instanceof V)return yt}function a(){var yt={"":0},$t=[""];return{id:function(er){var mr=yt[er];return mr||(mr=yt[er]=$t.length,$t.push(er),mr)},str:function(er){return $t[er]}}}function C(yt,$t,er){function mr(){var ht=window.innerWidth,Tt=window.innerHeight;yt!==document.body&&(Tt=vr.getBoundingClientRect(),ht=Tt.right-Tt.left,Tt=Tt.bottom-Tt.top),vr.width=er*ht,vr.height=er*Tt}var vr=document.createElement("canvas");oe(vr.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),yt.appendChild(vr),yt===document.body&&(vr.style.position="absolute",oe(yt.style,{margin:0,padding:0}));var bt;return yt!==document.body&&typeof ResizeObserver=="function"?(bt=new ResizeObserver(function(){setTimeout(mr)}),bt.observe(yt)):window.addEventListener("resize",mr,!1),mr(),{canvas:vr,onDestroy:function(){bt?bt.disconnect():window.removeEventListener("resize",mr),yt.removeChild(vr)}}}function A(yt,$t){function er(mr){try{return yt.getContext(mr,$t)}catch{return null}}return er("webgl")||er("experimental-webgl")||er("webgl-experimental")}function v(yt){return typeof yt=="string"?yt.split():yt}function p(yt){return typeof yt=="string"?document.querySelector(yt):yt}function t(yt){var $t=yt||{},er,mr,vr,bt;yt={};var ht=[],Tt=[],Pt=typeof window>"u"?1:window.devicePixelRatio,zt=!1,Dt={},Vt=function(Qt){},Ut=function(){};if(typeof $t=="string"?er=document.querySelector($t):typeof $t=="object"&&(typeof $t.nodeName=="string"&&typeof $t.appendChild=="function"&&typeof $t.getBoundingClientRect=="function"?er=$t:typeof $t.drawArrays=="function"||typeof $t.drawElements=="function"?(bt=$t,vr=bt.canvas):("gl"in $t?bt=$t.gl:"canvas"in $t?vr=p($t.canvas):"container"in $t&&(mr=p($t.container)),"attributes"in $t&&(yt=$t.attributes),"extensions"in $t&&(ht=v($t.extensions)),"optionalExtensions"in $t&&(Tt=v($t.optionalExtensions)),"onDone"in $t&&(Vt=$t.onDone),"profile"in $t&&(zt=!!$t.profile),"pixelRatio"in $t&&(Pt=+$t.pixelRatio),"cachedCode"in $t&&(Dt=$t.cachedCode))),er&&(er.nodeName.toLowerCase()==="canvas"?vr=er:mr=er),!bt){if(!vr){if(er=C(mr||document.body,Vt,Pt),!er)return null;vr=er.canvas,Ut=er.onDestroy}yt.premultipliedAlpha===void 0&&(yt.premultipliedAlpha=!0),bt=A(vr,yt)}return bt?{gl:bt,canvas:vr,container:mr,extensions:ht,optionalExtensions:Tt,pixelRatio:Pt,profile:zt,cachedCode:Dt,onDone:Vt,onDestroy:Ut}:(Ut(),Vt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function r(yt,$t){function er(ht){ht=ht.toLowerCase();var Tt;try{Tt=mr[ht]=yt.getExtension(ht)}catch{}return!!Tt}for(var mr={},vr=0;vr<$t.extensions.length;++vr){var bt=$t.extensions[vr];if(!er(bt))return $t.onDestroy(),$t.onDone('"'+bt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return $t.optionalExtensions.forEach(er),{extensions:mr,restore:function(){Object.keys(mr).forEach(function(ht){if(mr[ht]&&!er(ht))throw Error("(regl): error restoring extension "+ht)})}}}function s(yt,$t){for(var er=Array(yt),mr=0;mr<yt;++mr)er[mr]=$t(mr);return er}function n(yt){var $t,er;return $t=(65535<yt)<<4,yt>>>=$t,er=(255<yt)<<3,yt>>>=er,$t|=er,er=(15<yt)<<2,yt>>>=er,$t|=er,er=(3<yt)<<1,$t|er|yt>>>er>>1}function i(){function yt(mr){e:{for(var vr=16;268435456>=vr;vr*=16)if(mr<=vr){mr=vr;break e}mr=0}return vr=er[n(mr)>>2],0<vr.length?vr.pop():new ArrayBuffer(mr)}function $t(mr){er[n(mr.byteLength)>>2].push(mr)}var er=s(8,function(){return[]});return{alloc:yt,free:$t,allocType:function(mr,vr){var bt=null;switch(mr){case 5120:bt=new Int8Array(yt(vr),0,vr);break;case 5121:bt=new Uint8Array(yt(vr),0,vr);break;case 5122:bt=new Int16Array(yt(2*vr),0,vr);break;case 5123:bt=new Uint16Array(yt(2*vr),0,vr);break;case 5124:bt=new Int32Array(yt(4*vr),0,vr);break;case 5125:bt=new Uint32Array(yt(4*vr),0,vr);break;case 5126:bt=new Float32Array(yt(4*vr),0,vr);break;default:return null}return bt.length!==vr?bt.subarray(0,vr):bt},freeType:function(mr){$t(mr.buffer)}}}function f(yt){return!!yt&&typeof yt=="object"&&Array.isArray(yt.shape)&&Array.isArray(yt.stride)&&typeof yt.offset=="number"&&yt.shape.length===yt.stride.length&&(Array.isArray(yt.data)||Pe(yt.data))}function u(yt,$t,er,mr,vr,bt){for(var ht=0;ht<$t;++ht)for(var Tt=yt[ht],Pt=0;Pt<er;++Pt)for(var zt=Tt[Pt],Dt=0;Dt<mr;++Dt)vr[bt++]=zt[Dt]}function y(yt,$t,er,mr,vr){for(var bt=1,ht=er+1;ht<$t.length;++ht)bt*=$t[ht];var Tt=$t[er];if($t.length-er===4){var Pt=$t[er+1],zt=$t[er+2];for($t=$t[er+3],ht=0;ht<Tt;++ht)u(yt[ht],Pt,zt,$t,mr,vr),vr+=bt}else for(ht=0;ht<Tt;++ht)y(yt[ht],$t,er+1,mr,vr),vr+=bt}function c(yt){return We[Object.prototype.toString.call(yt)]|0}function T(yt,$t){for(var er=0;er<$t.length;++er)yt[er]=$t[er]}function h(yt,$t,er,mr,vr,bt,ht){for(var Tt=0,Pt=0;Pt<er;++Pt)for(var zt=0;zt<mr;++zt)yt[Tt++]=$t[vr*Pt+bt*zt+ht]}function l(yt,$t,er,mr){function vr(Vt){this.id=Pt++,this.buffer=yt.createBuffer(),this.type=Vt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,er.profile&&(this.stats={size:0})}function bt(Vt,Ut,Qt){Vt.byteLength=Ut.byteLength,yt.bufferData(Vt.type,Ut,Qt)}function ht(Vt,Ut,Qt,hr,cr,lr){if(Vt.usage=Qt,Array.isArray(Ut)){if(Vt.dtype=hr||5126,0<Ut.length)if(Array.isArray(Ut[0])){cr=ut(Ut);for(var Xe=hr=1;Xe<cr.length;++Xe)hr*=cr[Xe];Vt.dimension=hr,Ut=Ze(Ut,cr,Vt.dtype),bt(Vt,Ut,Qt),lr?Vt.persistentData=Ut:Ue.freeType(Ut)}else typeof Ut[0]=="number"?(Vt.dimension=cr,cr=Ue.allocType(Vt.dtype,Ut.length),T(cr,Ut),bt(Vt,cr,Qt),lr?Vt.persistentData=cr:Ue.freeType(cr)):Pe(Ut[0])&&(Vt.dimension=Ut[0].length,Vt.dtype=hr||c(Ut[0])||5126,Ut=Ze(Ut,[Ut.length,Ut[0].length],Vt.dtype),bt(Vt,Ut,Qt),lr?Vt.persistentData=Ut:Ue.freeType(Ut))}else if(Pe(Ut))Vt.dtype=hr||c(Ut),Vt.dimension=cr,bt(Vt,Ut,Qt),lr&&(Vt.persistentData=new Uint8Array(new Uint8Array(Ut.buffer)));else if(f(Ut)){cr=Ut.shape;var Ke=Ut.stride,Xe=Ut.offset,Ot=0,Lt=0,Xt=0,rr=0;cr.length===1?(Ot=cr[0],Lt=1,Xt=Ke[0],rr=0):cr.length===2&&(Ot=cr[0],Lt=cr[1],Xt=Ke[0],rr=Ke[1]),Vt.dtype=hr||c(Ut.data)||5126,Vt.dimension=Lt,cr=Ue.allocType(Vt.dtype,Ot*Lt),h(cr,Ut.data,Ot,Lt,Xt,rr,Xe),bt(Vt,cr,Qt),lr?Vt.persistentData=cr:Ue.freeType(cr)}else Ut instanceof ArrayBuffer&&(Vt.dtype=5121,Vt.dimension=cr,bt(Vt,Ut,Qt),lr&&(Vt.persistentData=new Uint8Array(new Uint8Array(Ut))))}function Tt(Vt){$t.bufferCount--,mr(Vt),yt.deleteBuffer(Vt.buffer),Vt.buffer=null,delete zt[Vt.id]}var Pt=0,zt={};vr.prototype.bind=function(){yt.bindBuffer(this.type,this.buffer)},vr.prototype.destroy=function(){Tt(this)};var Dt=[];return er.profile&&($t.getTotalBufferSize=function(){var Vt=0;return Object.keys(zt).forEach(function(Ut){Vt+=zt[Ut].stats.size}),Vt}),{create:function(Vt,Ut,Qt,hr){function cr(Xe){var Ke=35044,Ot=null,Lt=0,Xt=0,rr=1;return Array.isArray(Xe)||Pe(Xe)||f(Xe)||Xe instanceof ArrayBuffer?Ot=Xe:typeof Xe=="number"?Lt=Xe|0:Xe&&("data"in Xe&&(Ot=Xe.data),"usage"in Xe&&(Ke=Fe[Xe.usage]),"type"in Xe&&(Xt=je[Xe.type]),"dimension"in Xe&&(rr=Xe.dimension|0),"length"in Xe&&(Lt=Xe.length|0)),lr.bind(),Ot?ht(lr,Ot,Ke,Xt,rr,hr):(Lt&&yt.bufferData(lr.type,Lt,Ke),lr.dtype=Xt||5121,lr.usage=Ke,lr.dimension=rr,lr.byteLength=Lt),er.profile&&(lr.stats.size=lr.byteLength*at[lr.dtype]),cr}$t.bufferCount++;var lr=new vr(Ut);return zt[lr.id]=lr,Qt||cr(Vt),cr._reglType="buffer",cr._buffer=lr,cr.subdata=function(Xe,Ke){var Ot=(Ke||0)|0,Lt;if(lr.bind(),Pe(Xe)||Xe instanceof ArrayBuffer)yt.bufferSubData(lr.type,Ot,Xe);else if(Array.isArray(Xe)){if(0<Xe.length)if(typeof Xe[0]=="number"){var Xt=Ue.allocType(lr.dtype,Xe.length);T(Xt,Xe),yt.bufferSubData(lr.type,Ot,Xt),Ue.freeType(Xt)}else(Array.isArray(Xe[0])||Pe(Xe[0]))&&(Lt=ut(Xe),Xt=Ze(Xe,Lt,lr.dtype),yt.bufferSubData(lr.type,Ot,Xt),Ue.freeType(Xt))}else if(f(Xe)){Lt=Xe.shape;var rr=Xe.stride,ur=Xt=0,or=0,Ht=0;Lt.length===1?(Xt=Lt[0],ur=1,or=rr[0],Ht=0):Lt.length===2&&(Xt=Lt[0],ur=Lt[1],or=rr[0],Ht=rr[1]),Lt=Array.isArray(Xe.data)?lr.dtype:c(Xe.data),Lt=Ue.allocType(Lt,Xt*ur),h(Lt,Xe.data,Xt,ur,or,Ht,Xe.offset),yt.bufferSubData(lr.type,Ot,Lt),Ue.freeType(Lt)}return cr},er.profile&&(cr.stats=lr.stats),cr.destroy=function(){Tt(lr)},cr},createStream:function(Vt,Ut){var Qt=Dt.pop();return Qt||(Qt=new vr(Vt)),Qt.bind(),ht(Qt,Ut,35040,0,1,!1),Qt},destroyStream:function(Vt){Dt.push(Vt)},clear:function(){be(zt).forEach(Tt),Dt.forEach(Tt)},getBuffer:function(Vt){return Vt&&Vt._buffer instanceof vr?Vt._buffer:null},restore:function(){be(zt).forEach(function(Vt){Vt.buffer=yt.createBuffer(),yt.bindBuffer(Vt.type,Vt.buffer),yt.bufferData(Vt.type,Vt.persistentData||Vt.byteLength,Vt.usage)})},_initBuffer:ht}}function d(yt,$t,er,mr){function vr(Vt){this.id=Pt++,Tt[this.id]=this,this.buffer=Vt,this.primType=4,this.type=this.vertCount=0}function bt(Vt,Ut,Qt,hr,cr,lr,Xe){Vt.buffer.bind();var Ke;if(Ut?((Ke=Xe)||Pe(Ut)&&(!f(Ut)||Pe(Ut.data))||(Ke=$t.oes_element_index_uint?5125:5123),er._initBuffer(Vt.buffer,Ut,Qt,Ke,3)):(yt.bufferData(34963,lr,Qt),Vt.buffer.dtype=Ke||5121,Vt.buffer.usage=Qt,Vt.buffer.dimension=3,Vt.buffer.byteLength=lr),Ke=Xe,!Xe){switch(Vt.buffer.dtype){case 5121:case 5120:Ke=5121;break;case 5123:case 5122:Ke=5123;break;case 5125:case 5124:Ke=5125}Vt.buffer.dtype=Ke}Vt.type=Ke,Ut=cr,0>Ut&&(Ut=Vt.buffer.byteLength,Ke===5123?Ut>>=1:Ke===5125&&(Ut>>=2)),Vt.vertCount=Ut,Ut=hr,0>hr&&(Ut=4,hr=Vt.buffer.dimension,hr===1&&(Ut=0),hr===2&&(Ut=1),hr===3&&(Ut=4)),Vt.primType=Ut}function ht(Vt){mr.elementsCount--,delete Tt[Vt.id],Vt.buffer.destroy(),Vt.buffer=null}var Tt={},Pt=0,zt={uint8:5121,uint16:5123};$t.oes_element_index_uint&&(zt.uint32=5125),vr.prototype.bind=function(){this.buffer.bind()};var Dt=[];return{create:function(Vt,Ut){function Qt(lr){if(lr)if(typeof lr=="number")hr(lr),cr.primType=4,cr.vertCount=lr|0,cr.type=5121;else{var Xe=null,Ke=35044,Ot=-1,Lt=-1,Xt=0,rr=0;Array.isArray(lr)||Pe(lr)||f(lr)?Xe=lr:("data"in lr&&(Xe=lr.data),"usage"in lr&&(Ke=Fe[lr.usage]),"primitive"in lr&&(Ot=it[lr.primitive]),"count"in lr&&(Lt=lr.count|0),"type"in lr&&(rr=zt[lr.type]),"length"in lr?Xt=lr.length|0:(Xt=Lt,rr===5123||rr===5122?Xt*=2:(rr===5125||rr===5124)&&(Xt*=4))),bt(cr,Xe,Ke,Ot,Lt,Xt,rr)}else hr(),cr.primType=4,cr.vertCount=0,cr.type=5121;return Qt}var hr=er.create(null,34963,!0),cr=new vr(hr._buffer);return mr.elementsCount++,Qt(Vt),Qt._reglType="elements",Qt._elements=cr,Qt.subdata=function(lr,Xe){return hr.subdata(lr,Xe),Qt},Qt.destroy=function(){ht(cr)},Qt},createStream:function(Vt){var Ut=Dt.pop();return Ut||(Ut=new vr(er.create(null,34963,!0,!1)._buffer)),bt(Ut,Vt,35040,-1,-1,0,0),Ut},destroyStream:function(Vt){Dt.push(Vt)},getElements:function(Vt){return typeof Vt=="function"&&Vt._elements instanceof vr?Vt._elements:null},clear:function(){be(Tt).forEach(ht)}}}function E(yt){for(var $t=Ue.allocType(5123,yt.length),er=0;er<yt.length;++er)if(isNaN(yt[er]))$t[er]=65535;else if(yt[er]===1/0)$t[er]=31744;else if(yt[er]===-1/0)$t[er]=64512;else{$e[0]=yt[er];var bt=st[0],mr=bt>>>31<<15,vr=(bt<<1>>>24)-127,bt=bt>>13&1023;$t[er]=-24>vr?mr:-14>vr?mr+(bt+1024>>-14-vr):15<vr?mr+31744:mr+(vr+15<<10)+bt}return $t}function S(yt){return Array.isArray(yt)||Pe(yt)}function P(yt){return"[object "+yt+"]"}function x(yt){return Array.isArray(yt)&&(yt.length===0||typeof yt[0]=="number")}function M(yt){return!!(Array.isArray(yt)&&yt.length!==0&&S(yt[0]))}function w(yt){return Object.prototype.toString.call(yt)}function o(yt){if(!yt)return!1;var $t=w(yt);return 0<=Re.indexOf($t)?!0:x(yt)||M(yt)||f(yt)}function L(yt,$t){yt.type===36193?(yt.data=E($t),Ue.freeType($t)):yt.data=$t}function m(yt,$t,er,mr,vr,bt){if(yt=typeof ye[yt]<"u"?ye[yt]:St[yt]*we[$t],bt&&(yt*=6),vr){for(mr=0;1<=er;)mr+=yt*er*er,er/=2;return mr}return yt*er*mr}function F(yt,$t,er,mr,vr,bt,ht){function Tt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function Pt(Mr,on){Mr.internalformat=on.internalformat,Mr.format=on.format,Mr.type=on.type,Mr.compressed=on.compressed,Mr.premultiplyAlpha=on.premultiplyAlpha,Mr.flipY=on.flipY,Mr.unpackAlignment=on.unpackAlignment,Mr.colorSpace=on.colorSpace,Mr.width=on.width,Mr.height=on.height,Mr.channels=on.channels}function zt(Mr,on){if(typeof on=="object"&&on){"premultiplyAlpha"in on&&(Mr.premultiplyAlpha=on.premultiplyAlpha),"flipY"in on&&(Mr.flipY=on.flipY),"alignment"in on&&(Mr.unpackAlignment=on.alignment),"colorSpace"in on&&(Mr.colorSpace=yn[on.colorSpace]),"type"in on&&(Mr.type=rn[on.type]);var nn=Mr.width,mn=Mr.height,Gn=Mr.channels,Mn=!1;"shape"in on?(nn=on.shape[0],mn=on.shape[1],on.shape.length===3&&(Gn=on.shape[2],Mn=!0)):("radius"in on&&(nn=mn=on.radius),"width"in on&&(nn=on.width),"height"in on&&(mn=on.height),"channels"in on&&(Gn=on.channels,Mn=!0)),Mr.width=nn|0,Mr.height=mn|0,Mr.channels=Gn|0,nn=!1,"format"in on&&(nn=on.format,mn=Mr.internalformat=Un[nn],Mr.format=Pn[mn],nn in rn&&!("type"in on)&&(Mr.type=rn[nn]),nn in bn&&(Mr.compressed=!0),nn=!0),!Mn&&nn?Mr.channels=St[Mr.format]:Mn&&!nn&&Mr.channels!==vt[Mr.format]&&(Mr.format=Mr.internalformat=vt[Mr.channels])}}function Dt(Mr){yt.pixelStorei(37440,Mr.flipY),yt.pixelStorei(37441,Mr.premultiplyAlpha),yt.pixelStorei(37443,Mr.colorSpace),yt.pixelStorei(3317,Mr.unpackAlignment)}function Vt(){Tt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Ut(Mr,on){var nn=null;if(o(on)?nn=on:on&&(zt(Mr,on),"x"in on&&(Mr.xOffset=on.x|0),"y"in on&&(Mr.yOffset=on.y|0),o(on.data)&&(nn=on.data)),on.copy){var mn=vr.viewportWidth,Gn=vr.viewportHeight;Mr.width=Mr.width||mn-Mr.xOffset,Mr.height=Mr.height||Gn-Mr.yOffset,Mr.needsCopy=!0}else if(!nn)Mr.width=Mr.width||1,Mr.height=Mr.height||1,Mr.channels=Mr.channels||4;else if(Pe(nn))Mr.channels=Mr.channels||4,Mr.data=nn,"type"in on||Mr.type!==5121||(Mr.type=We[Object.prototype.toString.call(nn)]|0);else if(x(nn)){switch(Mr.channels=Mr.channels||4,mn=nn,Gn=mn.length,Mr.type){case 5121:case 5123:case 5125:case 5126:Gn=Ue.allocType(Mr.type,Gn),Gn.set(mn),Mr.data=Gn;break;case 36193:Mr.data=E(mn)}Mr.alignment=1,Mr.needsFree=!0}else if(f(nn)){mn=nn.data,Array.isArray(mn)||Mr.type!==5121||(Mr.type=We[Object.prototype.toString.call(mn)]|0);var Gn=nn.shape,Mn=nn.stride,Ln,Hn,ra,ba;Gn.length===3?(ra=Gn[2],ba=Mn[2]):ba=ra=1,Ln=Gn[0],Hn=Gn[1],Gn=Mn[0],Mn=Mn[1],Mr.alignment=1,Mr.width=Ln,Mr.height=Hn,Mr.channels=ra,Mr.format=Mr.internalformat=vt[ra],Mr.needsFree=!0,Ln=ba,nn=nn.offset,ra=Mr.width,ba=Mr.height,Hn=Mr.channels;for(var Za=Ue.allocType(Mr.type===36193?5126:Mr.type,ra*ba*Hn),Jt=0,Er=0;Er<ba;++Er)for(var qr=0;qr<ra;++qr)for(var sn=0;sn<Hn;++sn)Za[Jt++]=mn[Gn*qr+Mn*Er+Ln*sn+nn];L(Mr,Za)}else if(w(nn)===Mt||w(nn)===Bt||w(nn)===Qe)w(nn)===Mt||w(nn)===Bt?Mr.element=nn:Mr.element=nn.canvas,Mr.width=Mr.element.width,Mr.height=Mr.element.height,Mr.channels=4;else if(w(nn)===ke)Mr.element=nn,Mr.width=nn.width,Mr.height=nn.height,Mr.channels=4;else if(w(nn)===ze)Mr.element=nn,Mr.width=nn.naturalWidth,Mr.height=nn.naturalHeight,Mr.channels=4;else if(w(nn)===Be)Mr.element=nn,Mr.width=nn.videoWidth,Mr.height=nn.videoHeight,Mr.channels=4;else if(M(nn)){for(mn=Mr.width||nn[0].length,Gn=Mr.height||nn.length,Mn=Mr.channels,Mn=S(nn[0][0])?Mn||nn[0][0].length:Mn||1,Ln=Le.shape(nn),ra=1,ba=0;ba<Ln.length;++ba)ra*=Ln[ba];ra=Ue.allocType(Mr.type===36193?5126:Mr.type,ra),Le.flatten(nn,Ln,"",ra),L(Mr,ra),Mr.alignment=1,Mr.width=mn,Mr.height=Gn,Mr.channels=Mn,Mr.format=Mr.internalformat=vt[Mn],Mr.needsFree=!0}}function Qt(Mr,on,nn,mn,Gn){var Mn=Mr.element,Ln=Mr.data,Hn=Mr.internalformat,ra=Mr.format,ba=Mr.type,Za=Mr.width,Jt=Mr.height;Dt(Mr),Mn?yt.texSubImage2D(on,Gn,nn,mn,ra,ba,Mn):Mr.compressed?yt.compressedTexSubImage2D(on,Gn,nn,mn,Hn,Za,Jt,Ln):Mr.needsCopy?(mr(),yt.copyTexSubImage2D(on,Gn,nn,mn,Mr.xOffset,Mr.yOffset,Za,Jt)):yt.texSubImage2D(on,Gn,nn,mn,Za,Jt,ra,ba,Ln)}function hr(){return kn.pop()||new Vt}function cr(Mr){Mr.needsFree&&Ue.freeType(Mr.data),Vt.call(Mr),kn.push(Mr)}function lr(){Tt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Xe(Mr,on,nn){var mn=Mr.images[0]=hr();Mr.mipmask=1,mn.width=Mr.width=on,mn.height=Mr.height=nn,mn.channels=Mr.channels=4}function Ke(Mr,on){var nn=null;if(o(on))nn=Mr.images[0]=hr(),Pt(nn,Mr),Ut(nn,on),Mr.mipmask=1;else if(zt(Mr,on),Array.isArray(on.mipmap))for(var mn=on.mipmap,Gn=0;Gn<mn.length;++Gn)nn=Mr.images[Gn]=hr(),Pt(nn,Mr),nn.width>>=Gn,nn.height>>=Gn,Ut(nn,mn[Gn]),Mr.mipmask|=1<<Gn;else nn=Mr.images[0]=hr(),Pt(nn,Mr),Ut(nn,on),Mr.mipmask=1;Pt(Mr,Mr.images[0])}function Ot(Mr,on){for(var nn=Mr.images,mn=0;mn<nn.length&&nn[mn];++mn){var Gn=nn[mn],Mn=on,Ln=mn,Hn=Gn.element,ra=Gn.data,ba=Gn.internalformat,Za=Gn.format,Jt=Gn.type,Er=Gn.width,qr=Gn.height;Dt(Gn),Hn?yt.texImage2D(Mn,Ln,Za,Za,Jt,Hn):Gn.compressed?yt.compressedTexImage2D(Mn,Ln,ba,Er,qr,0,ra):Gn.needsCopy?(mr(),yt.copyTexImage2D(Mn,Ln,Za,Gn.xOffset,Gn.yOffset,Er,qr,0)):yt.texImage2D(Mn,Ln,Za,Er,qr,0,Za,Jt,ra||null)}}function Lt(){var Mr=sa.pop()||new lr;Tt.call(Mr);for(var on=Mr.mipmask=0;16>on;++on)Mr.images[on]=null;return Mr}function Xt(Mr){for(var on=Mr.images,nn=0;nn<on.length;++nn)on[nn]&&cr(on[nn]),on[nn]=null;sa.push(Mr)}function rr(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function ur(Mr,on){"min"in on&&(Mr.minFilter=Ur[on.min],0<=ct.indexOf(Mr.minFilter)&&!("faces"in on)&&(Mr.genMipmaps=!0)),"mag"in on&&(Mr.magFilter=Br[on.mag]);var nn=Mr.wrapS,mn=Mr.wrapT;if("wrap"in on){var Gn=on.wrap;typeof Gn=="string"?nn=mn=Wr[Gn]:Array.isArray(Gn)&&(nn=Wr[Gn[0]],mn=Wr[Gn[1]])}else"wrapS"in on&&(nn=Wr[on.wrapS]),"wrapT"in on&&(mn=Wr[on.wrapT]);if(Mr.wrapS=nn,Mr.wrapT=mn,"anisotropic"in on&&(Mr.anisotropic=on.anisotropic),"mipmap"in on){switch(nn=!1,typeof on.mipmap){case"string":Mr.mipmapHint=dr[on.mipmap],nn=Mr.genMipmaps=!0;break;case"boolean":nn=Mr.genMipmaps=on.mipmap;break;case"object":Mr.genMipmaps=!1,nn=!0}!nn||"min"in on||(Mr.minFilter=9984)}}function or(Mr,on){yt.texParameteri(on,10241,Mr.minFilter),yt.texParameteri(on,10240,Mr.magFilter),yt.texParameteri(on,10242,Mr.wrapS),yt.texParameteri(on,10243,Mr.wrapT),$t.ext_texture_filter_anisotropic&&yt.texParameteri(on,34046,Mr.anisotropic),Mr.genMipmaps&&(yt.hint(33170,Mr.mipmapHint),yt.generateMipmap(on))}function Ht(Mr){Tt.call(this),this.mipmask=0,this.internalformat=6408,this.id=Xn++,this.refCount=1,this.target=Mr,this.texture=yt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new rr,ht.profile&&(this.stats={size:0})}function gr(Mr){yt.activeTexture(33984),yt.bindTexture(Mr.target,Mr.texture)}function br(){var Mr=Qn[0];Mr?yt.bindTexture(Mr.target,Mr.texture):yt.bindTexture(3553,null)}function xr(Mr){var on=Mr.texture,nn=Mr.unit,mn=Mr.target;0<=nn&&(yt.activeTexture(33984+nn),yt.bindTexture(mn,null),Qn[nn]=null),yt.deleteTexture(on),Mr.texture=null,Mr.params=null,Mr.pixels=null,Mr.refCount=0,delete ea[Mr.id],bt.textureCount--}var dr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Wr={repeat:10497,clamp:33071,mirror:33648},Br={nearest:9728,linear:9729},Ur=oe({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Br),yn={none:0,browser:37444},rn={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Un={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},bn={};$t.ext_srgb&&(Un.srgb=35904,Un.srgba=35906),$t.oes_texture_float&&(rn.float32=rn.float=5126),$t.oes_texture_half_float&&(rn.float16=rn["half float"]=36193),$t.webgl_depth_texture&&(oe(Un,{depth:6402,"depth stencil":34041}),oe(rn,{uint16:5123,uint32:5125,"depth stencil":34042})),$t.webgl_compressed_texture_s3tc&&oe(bn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),$t.webgl_compressed_texture_atc&&oe(bn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),$t.webgl_compressed_texture_pvrtc&&oe(bn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),$t.webgl_compressed_texture_etc1&&(bn["rgb etc1"]=36196);var Lr=Array.prototype.slice.call(yt.getParameter(34467));Object.keys(bn).forEach(function(Mr){var on=bn[Mr];0<=Lr.indexOf(on)&&(Un[Mr]=on)});var Pr=Object.keys(Un);er.textureFormats=Pr;var Yr=[];Object.keys(Un).forEach(function(Mr){Yr[Un[Mr]]=Mr});var Hr=[];Object.keys(rn).forEach(function(Mr){Hr[rn[Mr]]=Mr});var en=[];Object.keys(Br).forEach(function(Mr){en[Br[Mr]]=Mr});var cn=[];Object.keys(Ur).forEach(function(Mr){cn[Ur[Mr]]=Mr});var hn=[];Object.keys(Wr).forEach(function(Mr){hn[Wr[Mr]]=Mr});var Pn=Pr.reduce(function(Mr,on){var nn=Un[on];return nn===6409||nn===6406||nn===6409||nn===6410||nn===6402||nn===34041||$t.ext_srgb&&(nn===35904||nn===35906)?Mr[nn]=nn:nn===32855||0<=on.indexOf("rgba")?Mr[nn]=6408:Mr[nn]=6407,Mr},{}),kn=[],sa=[],Xn=0,ea={},Zn=er.maxTextureUnits,Qn=Array(Zn).map(function(){return null});return oe(Ht.prototype,{bind:function(){this.bindCount+=1;var Mr=this.unit;if(0>Mr){for(var on=0;on<Zn;++on){var nn=Qn[on];if(nn){if(0<nn.bindCount)continue;nn.unit=-1}Qn[on]=this,Mr=on;break}ht.profile&&bt.maxTextureUnits<Mr+1&&(bt.maxTextureUnits=Mr+1),this.unit=Mr,yt.activeTexture(33984+Mr),yt.bindTexture(this.target,this.texture)}return Mr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&xr(this)}}),ht.profile&&(bt.getTotalTextureSize=function(){var Mr=0;return Object.keys(ea).forEach(function(on){Mr+=ea[on].stats.size}),Mr}),{create2D:function(Mr,on){function nn(Gn,Mn){var Ln=mn.texInfo;rr.call(Ln);var Hn=Lt();return typeof Gn=="number"?typeof Mn=="number"?Xe(Hn,Gn|0,Mn|0):Xe(Hn,Gn|0,Gn|0):Gn?(ur(Ln,Gn),Ke(Hn,Gn)):Xe(Hn,1,1),Ln.genMipmaps&&(Hn.mipmask=(Hn.width<<1)-1),mn.mipmask=Hn.mipmask,Pt(mn,Hn),mn.internalformat=Hn.internalformat,nn.width=Hn.width,nn.height=Hn.height,gr(mn),Ot(Hn,3553),or(Ln,3553),br(),Xt(Hn),ht.profile&&(mn.stats.size=m(mn.internalformat,mn.type,Hn.width,Hn.height,Ln.genMipmaps,!1)),nn.format=Yr[mn.internalformat],nn.type=Hr[mn.type],nn.mag=en[Ln.magFilter],nn.min=cn[Ln.minFilter],nn.wrapS=hn[Ln.wrapS],nn.wrapT=hn[Ln.wrapT],nn}var mn=new Ht(3553);return ea[mn.id]=mn,bt.textureCount++,nn(Mr,on),nn.subimage=function(Gn,Mn,Ln,Hn){Mn|=0,Ln|=0,Hn|=0;var ra=hr();return Pt(ra,mn),ra.width=0,ra.height=0,Ut(ra,Gn),ra.width=ra.width||(mn.width>>Hn)-Mn,ra.height=ra.height||(mn.height>>Hn)-Ln,gr(mn),Qt(ra,3553,Mn,Ln,Hn),br(),cr(ra),nn},nn.resize=function(Gn,Mn){var Ln=Gn|0,Hn=Mn|0||Ln;if(Ln===mn.width&&Hn===mn.height)return nn;nn.width=mn.width=Ln,nn.height=mn.height=Hn,gr(mn);for(var ra=0;mn.mipmask>>ra;++ra){var ba=Ln>>ra,Za=Hn>>ra;if(!ba||!Za)break;yt.texImage2D(3553,ra,mn.format,ba,Za,0,mn.format,mn.type,null)}return br(),ht.profile&&(mn.stats.size=m(mn.internalformat,mn.type,Ln,Hn,!1,!1)),nn},nn._reglType="texture2d",nn._texture=mn,ht.profile&&(nn.stats=mn.stats),nn.destroy=function(){mn.decRef()},nn},createCube:function(Mr,on,nn,mn,Gn,Mn){function Ln(ba,Za,Jt,Er,qr,sn){var fn,Cn=Hn.texInfo;for(rr.call(Cn),fn=0;6>fn;++fn)ra[fn]=Lt();if(typeof ba=="number"||!ba)for(ba=ba|0||1,fn=0;6>fn;++fn)Xe(ra[fn],ba,ba);else if(typeof ba=="object")if(Za)Ke(ra[0],ba),Ke(ra[1],Za),Ke(ra[2],Jt),Ke(ra[3],Er),Ke(ra[4],qr),Ke(ra[5],sn);else if(ur(Cn,ba),zt(Hn,ba),"faces"in ba)for(ba=ba.faces,fn=0;6>fn;++fn)Pt(ra[fn],Hn),Ke(ra[fn],ba[fn]);else for(fn=0;6>fn;++fn)Ke(ra[fn],ba);for(Pt(Hn,ra[0]),Hn.mipmask=Cn.genMipmaps?(ra[0].width<<1)-1:ra[0].mipmask,Hn.internalformat=ra[0].internalformat,Ln.width=ra[0].width,Ln.height=ra[0].height,gr(Hn),fn=0;6>fn;++fn)Ot(ra[fn],34069+fn);for(or(Cn,34067),br(),ht.profile&&(Hn.stats.size=m(Hn.internalformat,Hn.type,Ln.width,Ln.height,Cn.genMipmaps,!0)),Ln.format=Yr[Hn.internalformat],Ln.type=Hr[Hn.type],Ln.mag=en[Cn.magFilter],Ln.min=cn[Cn.minFilter],Ln.wrapS=hn[Cn.wrapS],Ln.wrapT=hn[Cn.wrapT],fn=0;6>fn;++fn)Xt(ra[fn]);return Ln}var Hn=new Ht(34067);ea[Hn.id]=Hn,bt.cubeCount++;var ra=Array(6);return Ln(Mr,on,nn,mn,Gn,Mn),Ln.subimage=function(ba,Za,Jt,Er,qr){Jt|=0,Er|=0,qr|=0;var sn=hr();return Pt(sn,Hn),sn.width=0,sn.height=0,Ut(sn,Za),sn.width=sn.width||(Hn.width>>qr)-Jt,sn.height=sn.height||(Hn.height>>qr)-Er,gr(Hn),Qt(sn,34069+ba,Jt,Er,qr),br(),cr(sn),Ln},Ln.resize=function(ba){if(ba|=0,ba!==Hn.width){Ln.width=Hn.width=ba,Ln.height=Hn.height=ba,gr(Hn);for(var Za=0;6>Za;++Za)for(var Jt=0;Hn.mipmask>>Jt;++Jt)yt.texImage2D(34069+Za,Jt,Hn.format,ba>>Jt,ba>>Jt,0,Hn.format,Hn.type,null);return br(),ht.profile&&(Hn.stats.size=m(Hn.internalformat,Hn.type,Ln.width,Ln.height,!1,!0)),Ln}},Ln._reglType="textureCube",Ln._texture=Hn,ht.profile&&(Ln.stats=Hn.stats),Ln.destroy=function(){Hn.decRef()},Ln},clear:function(){for(var Mr=0;Mr<Zn;++Mr)yt.activeTexture(33984+Mr),yt.bindTexture(3553,null),Qn[Mr]=null;be(ea).forEach(xr),bt.cubeCount=0,bt.textureCount=0},getTexture:function(Mr){return null},restore:function(){for(var Mr=0;Mr<Zn;++Mr){var on=Qn[Mr];on&&(on.bindCount=0,on.unit=-1,Qn[Mr]=null)}be(ea).forEach(function(nn){nn.texture=yt.createTexture(),yt.bindTexture(nn.target,nn.texture);for(var mn=0;32>mn;++mn)if(nn.mipmask&1<<mn)if(nn.target===3553)yt.texImage2D(3553,mn,nn.internalformat,nn.width>>mn,nn.height>>mn,0,nn.internalformat,nn.type,null);else for(var Gn=0;6>Gn;++Gn)yt.texImage2D(34069+Gn,mn,nn.internalformat,nn.width>>mn,nn.height>>mn,0,nn.internalformat,nn.type,null);or(nn.texInfo,nn.target)})},refresh:function(){for(var Mr=0;Mr<Zn;++Mr){var on=Qn[Mr];on&&(on.bindCount=0,on.unit=-1,Qn[Mr]=null),yt.activeTexture(33984+Mr),yt.bindTexture(3553,null),yt.bindTexture(34067,null)}}}}function I(yt,$t,er,mr,vr,bt){function ht(Ht,gr,br){this.target=Ht,this.texture=gr,this.renderbuffer=br;var xr=Ht=0;gr?(Ht=gr.width,xr=gr.height):br&&(Ht=br.width,xr=br.height),this.width=Ht,this.height=xr}function Tt(Ht){Ht&&(Ht.texture&&Ht.texture._texture.decRef(),Ht.renderbuffer&&Ht.renderbuffer._renderbuffer.decRef())}function Pt(Ht,gr,br){Ht&&(Ht.texture?Ht.texture._texture.refCount+=1:Ht.renderbuffer._renderbuffer.refCount+=1)}function zt(Ht,gr){gr&&(gr.texture?yt.framebufferTexture2D(36160,Ht,gr.target,gr.texture._texture.texture,0):yt.framebufferRenderbuffer(36160,Ht,36161,gr.renderbuffer._renderbuffer.renderbuffer))}function Dt(Ht){var gr=3553,br=null,xr=null,dr=Ht;return typeof Ht=="object"&&(dr=Ht.data,"target"in Ht&&(gr=Ht.target|0)),Ht=dr._reglType,Ht==="texture2d"||Ht==="textureCube"?br=dr:Ht==="renderbuffer"&&(xr=dr,gr=36161),new ht(gr,br,xr)}function Vt(Ht,gr,br,xr,dr){return br?(Ht=mr.create2D({width:Ht,height:gr,format:xr,type:dr}),Ht._texture.refCount=0,new ht(3553,Ht,null)):(Ht=vr.create({width:Ht,height:gr,format:xr}),Ht._renderbuffer.refCount=0,new ht(36161,null,Ht))}function Ut(Ht){return Ht&&(Ht.texture||Ht.renderbuffer)}function Qt(Ht,gr,br){Ht&&(Ht.texture?Ht.texture.resize(gr,br):Ht.renderbuffer&&Ht.renderbuffer.resize(gr,br),Ht.width=gr,Ht.height=br)}function hr(){this.id=ur++,or[this.id]=this,this.framebuffer=yt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function cr(Ht){Ht.colorAttachments.forEach(Tt),Tt(Ht.depthAttachment),Tt(Ht.stencilAttachment),Tt(Ht.depthStencilAttachment)}function lr(Ht){yt.deleteFramebuffer(Ht.framebuffer),Ht.framebuffer=null,bt.framebufferCount--,delete or[Ht.id]}function Xe(Ht){var gr;yt.bindFramebuffer(36160,Ht.framebuffer);var br=Ht.colorAttachments;for(gr=0;gr<br.length;++gr)zt(36064+gr,br[gr]);for(gr=br.length;gr<er.maxColorAttachments;++gr)yt.framebufferTexture2D(36160,36064+gr,3553,null,0);yt.framebufferTexture2D(36160,33306,3553,null,0),yt.framebufferTexture2D(36160,36096,3553,null,0),yt.framebufferTexture2D(36160,36128,3553,null,0),zt(36096,Ht.depthAttachment),zt(36128,Ht.stencilAttachment),zt(33306,Ht.depthStencilAttachment),yt.checkFramebufferStatus(36160),yt.isContextLost(),yt.bindFramebuffer(36160,Ot.next?Ot.next.framebuffer:null),Ot.cur=Ot.next,yt.getError()}function Ke(Ht,gr){function br(dr,Wr){var Br,Ur=0,yn=0,rn=!0,Un=!0;Br=null;var bn=!0,Lr="rgba",Pr="uint8",Yr=1,Hr=null,en=null,cn=null,hn=!1;typeof dr=="number"?(Ur=dr|0,yn=Wr|0||Ur):dr?("shape"in dr?(yn=dr.shape,Ur=yn[0],yn=yn[1]):("radius"in dr&&(Ur=yn=dr.radius),"width"in dr&&(Ur=dr.width),"height"in dr&&(yn=dr.height)),("color"in dr||"colors"in dr)&&(Br=dr.color||dr.colors),Br||("colorCount"in dr&&(Yr=dr.colorCount|0),"colorTexture"in dr&&(bn=!!dr.colorTexture,Lr="rgba4"),"colorType"in dr&&(Pr=dr.colorType,!bn)&&(Pr==="half float"||Pr==="float16"?Lr="rgba16f":(Pr==="float"||Pr==="float32")&&(Lr="rgba32f")),"colorFormat"in dr&&(Lr=dr.colorFormat,0<=Lt.indexOf(Lr)?bn=!0:0<=Xt.indexOf(Lr)&&(bn=!1))),("depthTexture"in dr||"depthStencilTexture"in dr)&&(hn=!(!dr.depthTexture&&!dr.depthStencilTexture)),"depth"in dr&&(typeof dr.depth=="boolean"?rn=dr.depth:(Hr=dr.depth,Un=!1)),"stencil"in dr&&(typeof dr.stencil=="boolean"?Un=dr.stencil:(en=dr.stencil,rn=!1)),"depthStencil"in dr&&(typeof dr.depthStencil=="boolean"?rn=Un=dr.depthStencil:(cn=dr.depthStencil,Un=rn=!1))):Ur=yn=1;var Pn=null,kn=null,sa=null,Xn=null;if(Array.isArray(Br))Pn=Br.map(Dt);else if(Br)Pn=[Dt(Br)];else for(Pn=Array(Yr),Br=0;Br<Yr;++Br)Pn[Br]=Vt(Ur,yn,bn,Lr,Pr);for(Ur=Ur||Pn[0].width,yn=yn||Pn[0].height,Hr?kn=Dt(Hr):rn&&!Un&&(kn=Vt(Ur,yn,hn,"depth","uint32")),en?sa=Dt(en):Un&&!rn&&(sa=Vt(Ur,yn,!1,"stencil","uint8")),cn?Xn=Dt(cn):!Hr&&!en&&Un&&rn&&(Xn=Vt(Ur,yn,hn,"depth stencil","depth stencil")),rn=null,Br=0;Br<Pn.length;++Br)Pt(Pn[Br]),Pn[Br]&&Pn[Br].texture&&(Un=He[Pn[Br].texture._texture.format]*qe[Pn[Br].texture._texture.type],rn===null&&(rn=Un));return Pt(kn),Pt(sa),Pt(Xn),cr(xr),xr.width=Ur,xr.height=yn,xr.colorAttachments=Pn,xr.depthAttachment=kn,xr.stencilAttachment=sa,xr.depthStencilAttachment=Xn,br.color=Pn.map(Ut),br.depth=Ut(kn),br.stencil=Ut(sa),br.depthStencil=Ut(Xn),br.width=xr.width,br.height=xr.height,Xe(xr),br}var xr=new hr;return bt.framebufferCount++,br(Ht,gr),oe(br,{resize:function(dr,Wr){var Br=Math.max(dr|0,1),Ur=Math.max(Wr|0||Br,1);if(Br===xr.width&&Ur===xr.height)return br;for(var yn=xr.colorAttachments,rn=0;rn<yn.length;++rn)Qt(yn[rn],Br,Ur);return Qt(xr.depthAttachment,Br,Ur),Qt(xr.stencilAttachment,Br,Ur),Qt(xr.depthStencilAttachment,Br,Ur),xr.width=br.width=Br,xr.height=br.height=Ur,Xe(xr),br},_reglType:"framebuffer",_framebuffer:xr,destroy:function(){lr(xr),cr(xr)},use:function(dr){Ot.setFBO({framebuffer:br},dr)}})}var Ot={cur:null,next:null,dirty:!1,setFBO:null},Lt=["rgba"],Xt=["rgba4","rgb565","rgb5 a1"];$t.ext_srgb&&Xt.push("srgba"),$t.ext_color_buffer_half_float&&Xt.push("rgba16f","rgb16f"),$t.webgl_color_buffer_float&&Xt.push("rgba32f");var rr=["uint8"];$t.oes_texture_half_float&&rr.push("half float","float16"),$t.oes_texture_float&&rr.push("float","float32");var ur=0,or={};return oe(Ot,{getFramebuffer:function(Ht){return typeof Ht=="function"&&Ht._reglType==="framebuffer"&&(Ht=Ht._framebuffer,Ht instanceof hr)?Ht:null},create:Ke,createCube:function(Ht){function gr(xr){var dr,Wr={color:null},Br=0,Ur=null;dr="rgba";var yn="uint8",rn=1;if(typeof xr=="number"?Br=xr|0:xr?("shape"in xr?Br=xr.shape[0]:("radius"in xr&&(Br=xr.radius|0),"width"in xr?Br=xr.width|0:"height"in xr&&(Br=xr.height|0)),("color"in xr||"colors"in xr)&&(Ur=xr.color||xr.colors),Ur||("colorCount"in xr&&(rn=xr.colorCount|0),"colorType"in xr&&(yn=xr.colorType),"colorFormat"in xr&&(dr=xr.colorFormat)),"depth"in xr&&(Wr.depth=xr.depth),"stencil"in xr&&(Wr.stencil=xr.stencil),"depthStencil"in xr&&(Wr.depthStencil=xr.depthStencil)):Br=1,Ur)if(Array.isArray(Ur))for(xr=[],dr=0;dr<Ur.length;++dr)xr[dr]=Ur[dr];else xr=[Ur];else for(xr=Array(rn),Ur={radius:Br,format:dr,type:yn},dr=0;dr<rn;++dr)xr[dr]=mr.createCube(Ur);for(Wr.color=Array(xr.length),dr=0;dr<xr.length;++dr)rn=xr[dr],Br=Br||rn.width,Wr.color[dr]={target:34069,data:xr[dr]};for(dr=0;6>dr;++dr){for(rn=0;rn<xr.length;++rn)Wr.color[rn].target=34069+dr;0<dr&&(Wr.depth=br[0].depth,Wr.stencil=br[0].stencil,Wr.depthStencil=br[0].depthStencil),br[dr]?br[dr](Wr):br[dr]=Ke(Wr)}return oe(gr,{width:Br,height:Br,color:xr})}var br=Array(6);return gr(Ht),oe(gr,{faces:br,resize:function(xr){var dr=xr|0;if(dr===gr.width)return gr;var Wr=gr.color;for(xr=0;xr<Wr.length;++xr)Wr[xr].resize(dr);for(xr=0;6>xr;++xr)br[xr].resize(dr);return gr.width=gr.height=dr,gr},_reglType:"framebufferCube",destroy:function(){br.forEach(function(xr){xr.destroy()})}})},clear:function(){be(or).forEach(lr)},restore:function(){Ot.cur=null,Ot.next=null,Ot.dirty=!0,be(or).forEach(function(Ht){Ht.framebuffer=yt.createFramebuffer(),Xe(Ht)})}})}function U(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function z(yt,$t,er,mr,vr,bt,ht){function Tt(Xe){if(Xe!==lr.currentVAO){var Ke=$t.oes_vertex_array_object;Xe?Ke.bindVertexArrayOES(Xe.vao):Ke.bindVertexArrayOES(null),lr.currentVAO=Xe}}function Pt(Xe){if(Xe!==lr.currentVAO){if(Xe)Xe.bindAttrs();else{for(var Ke=$t.angle_instanced_arrays,Ot=0;Ot<Qt.length;++Ot){var Lt=Qt[Ot];Lt.buffer?(yt.enableVertexAttribArray(Ot),Lt.buffer.bind(),yt.vertexAttribPointer(Ot,Lt.size,Lt.type,Lt.normalized,Lt.stride,Lt.offfset),Ke&&Lt.divisor&&Ke.vertexAttribDivisorANGLE(Ot,Lt.divisor)):(yt.disableVertexAttribArray(Ot),yt.vertexAttrib4f(Ot,Lt.x,Lt.y,Lt.z,Lt.w))}ht.elements?yt.bindBuffer(34963,ht.elements.buffer.buffer):yt.bindBuffer(34963,null)}lr.currentVAO=Xe}}function zt(){be(cr).forEach(function(Xe){Xe.destroy()})}function Dt(){this.id=++hr,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var Xe=$t.oes_vertex_array_object;this.vao=Xe?Xe.createVertexArrayOES():null,cr[this.id]=this,this.buffers=[]}function Vt(){$t.oes_vertex_array_object&&be(cr).forEach(function(Xe){Xe.refresh()})}var Ut=er.maxAttributes,Qt=Array(Ut);for(er=0;er<Ut;++er)Qt[er]=new U;var hr=0,cr={},lr={Record:U,scope:{},state:Qt,currentVAO:null,targetVAO:null,restore:$t.oes_vertex_array_object?Vt:function(){},createVAO:function(Xe){function Ke(Lt){var Xt;Array.isArray(Lt)?(Xt=Lt,Ot.elements&&Ot.ownsElements&&Ot.elements.destroy(),Ot.elements=null,Ot.ownsElements=!1,Ot.offset=0,Ot.count=0,Ot.instances=-1,Ot.primitive=4):(Lt.elements?(Xt=Lt.elements,Ot.ownsElements?(typeof Xt=="function"&&Xt._reglType==="elements"?Ot.elements.destroy():Ot.elements(Xt),Ot.ownsElements=!1):bt.getElements(Lt.elements)?(Ot.elements=Lt.elements,Ot.ownsElements=!1):(Ot.elements=bt.create(Lt.elements),Ot.ownsElements=!0)):(Ot.elements=null,Ot.ownsElements=!1),Xt=Lt.attributes,Ot.offset=0,Ot.count=-1,Ot.instances=-1,Ot.primitive=4,Ot.elements&&(Ot.count=Ot.elements._elements.vertCount,Ot.primitive=Ot.elements._elements.primType),"offset"in Lt&&(Ot.offset=Lt.offset|0),"count"in Lt&&(Ot.count=Lt.count|0),"instances"in Lt&&(Ot.instances=Lt.instances|0),"primitive"in Lt&&(Ot.primitive=it[Lt.primitive])),Lt={};var rr=Ot.attributes;rr.length=Xt.length;for(var ur=0;ur<Xt.length;++ur){var or=Xt[ur],Ht=rr[ur]=new U,gr=or.data||or;if(Array.isArray(gr)||Pe(gr)||f(gr)){var br;Ot.buffers[ur]&&(br=Ot.buffers[ur],Pe(gr)&&br._buffer.byteLength>=gr.byteLength?br.subdata(gr):(br.destroy(),Ot.buffers[ur]=null)),Ot.buffers[ur]||(br=Ot.buffers[ur]=vr.create(or,34962,!1,!0)),Ht.buffer=vr.getBuffer(br),Ht.size=Ht.buffer.dimension|0,Ht.normalized=!1,Ht.type=Ht.buffer.dtype,Ht.offset=0,Ht.stride=0,Ht.divisor=0,Ht.state=1,Lt[ur]=1}else vr.getBuffer(or)?(Ht.buffer=vr.getBuffer(or),Ht.size=Ht.buffer.dimension|0,Ht.normalized=!1,Ht.type=Ht.buffer.dtype,Ht.offset=0,Ht.stride=0,Ht.divisor=0,Ht.state=1):vr.getBuffer(or.buffer)?(Ht.buffer=vr.getBuffer(or.buffer),Ht.size=(+or.size||Ht.buffer.dimension)|0,Ht.normalized=!!or.normalized||!1,Ht.type="type"in or?je[or.type]:Ht.buffer.dtype,Ht.offset=(or.offset||0)|0,Ht.stride=(or.stride||0)|0,Ht.divisor=(or.divisor||0)|0,Ht.state=1):"x"in or&&(Ht.x=+or.x||0,Ht.y=+or.y||0,Ht.z=+or.z||0,Ht.w=+or.w||0,Ht.state=2)}for(br=0;br<Ot.buffers.length;++br)!Lt[br]&&Ot.buffers[br]&&(Ot.buffers[br].destroy(),Ot.buffers[br]=null);return Ot.refresh(),Ke}var Ot=new Dt;return mr.vaoCount+=1,Ke.destroy=function(){for(var Lt=0;Lt<Ot.buffers.length;++Lt)Ot.buffers[Lt]&&Ot.buffers[Lt].destroy();Ot.buffers.length=0,Ot.ownsElements&&(Ot.elements.destroy(),Ot.elements=null,Ot.ownsElements=!1),Ot.destroy()},Ke._vao=Ot,Ke._reglType="vao",Ke(Xe)},getVAO:function(Xe){return typeof Xe=="function"&&Xe._vao?Xe._vao:null},destroyBuffer:function(Xe){for(var Ke=0;Ke<Qt.length;++Ke){var Ot=Qt[Ke];Ot.buffer===Xe&&(yt.disableVertexAttribArray(Ke),Ot.buffer=null)}},setVAO:$t.oes_vertex_array_object?Tt:Pt,clear:$t.oes_vertex_array_object?zt:function(){}};return Dt.prototype.bindAttrs=function(){for(var Xe=$t.angle_instanced_arrays,Ke=this.attributes,Ot=0;Ot<Ke.length;++Ot){var Lt=Ke[Ot];Lt.buffer?(yt.enableVertexAttribArray(Ot),yt.bindBuffer(34962,Lt.buffer.buffer),yt.vertexAttribPointer(Ot,Lt.size,Lt.type,Lt.normalized,Lt.stride,Lt.offset),Xe&&Lt.divisor&&Xe.vertexAttribDivisorANGLE(Ot,Lt.divisor)):(yt.disableVertexAttribArray(Ot),yt.vertexAttrib4f(Ot,Lt.x,Lt.y,Lt.z,Lt.w))}for(Xe=Ke.length;Xe<Ut;++Xe)yt.disableVertexAttribArray(Xe);(Xe=bt.getElements(this.elements))?yt.bindBuffer(34963,Xe.buffer.buffer):yt.bindBuffer(34963,null)},Dt.prototype.refresh=function(){var Xe=$t.oes_vertex_array_object;Xe&&(Xe.bindVertexArrayOES(this.vao),this.bindAttrs(),lr.currentVAO=null,Xe.bindVertexArrayOES(null))},Dt.prototype.destroy=function(){if(this.vao){var Xe=$t.oes_vertex_array_object;this===lr.currentVAO&&(lr.currentVAO=null,Xe.bindVertexArrayOES(null)),Xe.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),cr[this.id]&&(delete cr[this.id],--mr.vaoCount)},lr}function N(yt,$t,er,mr){function vr(hr,cr,lr,Xe){this.name=hr,this.id=cr,this.location=lr,this.info=Xe}function bt(hr,cr){for(var lr=0;lr<hr.length;++lr)if(hr[lr].id===cr.id){hr[lr].location=cr.location;return}hr.push(cr)}function ht(hr,cr,lr){lr=hr===35632?zt:Dt;var Xe=lr[cr];if(!Xe){var Ke=$t.str(cr),Xe=yt.createShader(hr);yt.shaderSource(Xe,Ke),yt.compileShader(Xe),lr[cr]=Xe}return Xe}function Tt(hr,cr){this.id=Qt++,this.fragId=hr,this.vertId=cr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,mr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Pt(hr,cr,lr){var Xe;Xe=ht(35632,hr.fragId);var Ke=ht(35633,hr.vertId);if(cr=hr.program=yt.createProgram(),yt.attachShader(cr,Xe),yt.attachShader(cr,Ke),lr)for(Xe=0;Xe<lr.length;++Xe)Ke=lr[Xe],yt.bindAttribLocation(cr,Ke[0],Ke[1]);yt.linkProgram(cr),Ke=yt.getProgramParameter(cr,35718),mr.profile&&(hr.stats.uniformsCount=Ke);var Ot=hr.uniforms;for(Xe=0;Xe<Ke;++Xe)if(lr=yt.getActiveUniform(cr,Xe))if(1<lr.size)for(var Lt=0;Lt<lr.size;++Lt){var Xt=lr.name.replace("[0]","["+Lt+"]");bt(Ot,new vr(Xt,$t.id(Xt),yt.getUniformLocation(cr,Xt),lr))}else bt(Ot,new vr(lr.name,$t.id(lr.name),yt.getUniformLocation(cr,lr.name),lr));for(Ke=yt.getProgramParameter(cr,35721),mr.profile&&(hr.stats.attributesCount=Ke),hr=hr.attributes,Xe=0;Xe<Ke;++Xe)(lr=yt.getActiveAttrib(cr,Xe))&&bt(hr,new vr(lr.name,$t.id(lr.name),yt.getAttribLocation(cr,lr.name),lr))}var zt={},Dt={},Vt={},Ut=[],Qt=0;return mr.profile&&(er.getMaxUniformsCount=function(){var hr=0;return Ut.forEach(function(cr){cr.stats.uniformsCount>hr&&(hr=cr.stats.uniformsCount)}),hr},er.getMaxAttributesCount=function(){var hr=0;return Ut.forEach(function(cr){cr.stats.attributesCount>hr&&(hr=cr.stats.attributesCount)}),hr}),{clear:function(){var hr=yt.deleteShader.bind(yt);be(zt).forEach(hr),zt={},be(Dt).forEach(hr),Dt={},Ut.forEach(function(cr){yt.deleteProgram(cr.program)}),Ut.length=0,Vt={},er.shaderCount=0},program:function(hr,cr,lr,Xe){var Ke=Vt[cr];Ke||(Ke=Vt[cr]={});var Ot=Ke[hr];if(Ot&&(Ot.refCount++,!Xe))return Ot;var Lt=new Tt(cr,hr);return er.shaderCount++,Pt(Lt,lr,Xe),Ot||(Ke[hr]=Lt),Ut.push(Lt),oe(Lt,{destroy:function(){if(Lt.refCount--,0>=Lt.refCount){yt.deleteProgram(Lt.program);var Xt=Ut.indexOf(Lt);Ut.splice(Xt,1),er.shaderCount--}0>=Ke[Lt.vertId].refCount&&(yt.deleteShader(Dt[Lt.vertId]),delete Dt[Lt.vertId],delete Vt[Lt.fragId][Lt.vertId]),Object.keys(Vt[Lt.fragId]).length||(yt.deleteShader(zt[Lt.fragId]),delete zt[Lt.fragId],delete Vt[Lt.fragId])}})},restore:function(){zt={},Dt={};for(var hr=0;hr<Ut.length;++hr)Pt(Ut[hr],null,Ut[hr].attributes.map(function(cr){return[cr.location,cr.name]}))},shader:ht,frag:-1,vert:-1}}function B(yt,$t,er,mr,vr,bt,ht){function Tt(zt){var Dt;Dt=$t.next===null?5121:$t.next.colorAttachments[0].texture._texture.type;var Vt=0,Ut=0,Qt=mr.framebufferWidth,hr=mr.framebufferHeight,cr=null;return Pe(zt)?cr=zt:zt&&(Vt=zt.x|0,Ut=zt.y|0,Qt=(zt.width||mr.framebufferWidth-Vt)|0,hr=(zt.height||mr.framebufferHeight-Ut)|0,cr=zt.data||null),er(),zt=Qt*hr*4,cr||(Dt===5121?cr=new Uint8Array(zt):Dt===5126&&(cr=cr||new Float32Array(zt))),yt.pixelStorei(3333,4),yt.readPixels(Vt,Ut,Qt,hr,6408,Dt,cr),cr}function Pt(zt){var Dt;return $t.setFBO({framebuffer:zt.framebuffer},function(){Dt=Tt(zt)}),Dt}return function(zt){return zt&&"framebuffer"in zt?Pt(zt):Tt(zt)}}function O(yt){for(var $t=Array(yt.length>>2),mr=0;mr<$t.length;mr++)$t[mr]=0;for(mr=0;mr<8*yt.length;mr+=8)$t[mr>>5]|=(yt.charCodeAt(mr/8)&255)<<24-mr%32;var er=8*yt.length;yt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var mr=Array(64),vr,bt,ht,Tt,Pt,zt,Dt,Vt,Ut,Qt,hr;for($t[er>>5]|=128<<24-er%32,$t[(er+64>>9<<4)+15]=er,Vt=0;Vt<$t.length;Vt+=16){for(er=yt[0],vr=yt[1],bt=yt[2],ht=yt[3],Tt=yt[4],Pt=yt[5],zt=yt[6],Dt=yt[7],Ut=0;64>Ut;Ut++){if(16>Ut)mr[Ut]=$t[Ut+Vt];else{Qt=Ut,hr=mr[Ut-2],hr=J(hr,17)^J(hr,19)^hr>>>10,hr=re(hr,mr[Ut-7]);var cr;cr=mr[Ut-15],cr=J(cr,7)^J(cr,18)^cr>>>3,mr[Qt]=re(re(hr,cr),mr[Ut-16])}Qt=Tt,Qt=J(Qt,6)^J(Qt,11)^J(Qt,25),Qt=re(re(re(re(Dt,Qt),Tt&Pt^~Tt&zt),rt[Ut]),mr[Ut]),Dt=er,Dt=J(Dt,2)^J(Dt,13)^J(Dt,22),hr=re(Dt,er&vr^er&bt^vr&bt),Dt=zt,zt=Pt,Pt=Tt,Tt=re(ht,Qt),ht=bt,bt=vr,vr=er,er=re(Qt,hr)}yt[0]=re(er,yt[0]),yt[1]=re(vr,yt[1]),yt[2]=re(bt,yt[2]),yt[3]=re(ht,yt[3]),yt[4]=re(Tt,yt[4]),yt[5]=re(Pt,yt[5]),yt[6]=re(zt,yt[6]),yt[7]=re(Dt,yt[7])}for($t="",mr=0;mr<32*yt.length;mr+=8)$t+=String.fromCharCode(yt[mr>>5]>>>24-mr%32&255);return $t}function H(yt){for(var $t="",er,mr=0;mr<yt.length;mr++)er=yt.charCodeAt(mr),$t+="0123456789abcdef".charAt(er>>>4&15)+"0123456789abcdef".charAt(er&15);return $t}function Y(yt){for(var $t="",er=-1,mr,vr;++er<yt.length;)mr=yt.charCodeAt(er),vr=er+1<yt.length?yt.charCodeAt(er+1):0,55296<=mr&&56319>=mr&&56320<=vr&&57343>=vr&&(mr=65536+((mr&1023)<<10)+(vr&1023),er++),127>=mr?$t+=String.fromCharCode(mr):2047>=mr?$t+=String.fromCharCode(192|mr>>>6&31,128|mr&63):65535>=mr?$t+=String.fromCharCode(224|mr>>>12&15,128|mr>>>6&63,128|mr&63):2097151>=mr&&($t+=String.fromCharCode(240|mr>>>18&7,128|mr>>>12&63,128|mr>>>6&63,128|mr&63));return $t}function J(yt,$t){return yt>>>$t|yt<<32-$t}function re(yt,$t){var er=(yt&65535)+($t&65535);return(yt>>16)+($t>>16)+(er>>16)<<16|er&65535}function ie(yt){return Array.prototype.slice.call(yt)}function ce(yt){return ie(yt).join("")}function Q(yt){function $t(){var Dt=[],Vt=[];return oe(function(){Dt.push.apply(Dt,ie(arguments))},{def:function(){var Ut="v"+vr++;return Vt.push(Ut),0<arguments.length&&(Dt.push(Ut,"="),Dt.push.apply(Dt,ie(arguments)),Dt.push(";")),Ut},toString:function(){return ce([0<Vt.length?"var "+Vt.join(",")+";":"",ce(Dt)])}})}function er(){function Dt(cr,lr){Ut(cr,lr,"=",Vt.def(cr,lr),";")}var Vt=$t(),Ut=$t(),Qt=Vt.toString,hr=Ut.toString;return oe(function(){Vt.apply(Vt,ie(arguments))},{def:Vt.def,entry:Vt,exit:Ut,save:Dt,set:function(cr,lr,Xe){Dt(cr,lr),Vt(cr,lr,"=",Xe,";")},toString:function(){return Qt()+hr()}})}var mr=yt&&yt.cache,vr=0,bt=[],ht=[],Tt=[],Pt=$t(),zt={};return{global:Pt,link:function(Dt,Vt){var Ut=Vt&&Vt.stable;if(!Ut){for(var Qt=0;Qt<ht.length;++Qt)if(ht[Qt]===Dt&&!Tt[Qt])return bt[Qt]}return Qt="g"+vr++,bt.push(Qt),ht.push(Dt),Tt.push(Ut),Qt},block:$t,proc:function(Dt,Vt){function Ut(){var lr="a"+Qt.length;return Qt.push(lr),lr}var Qt=[];Vt=Vt||0;for(var hr=0;hr<Vt;++hr)Ut();var hr=er(),cr=hr.toString;return zt[Dt]=oe(hr,{arg:Ut,toString:function(){return ce(["function(",Qt.join(),"){",cr(),"}"])}})},scope:er,cond:function(){var Dt=ce(arguments),Vt=er(),Ut=er(),Qt=Vt.toString,hr=Ut.toString;return oe(Vt,{then:function(){return Vt.apply(Vt,ie(arguments)),this},else:function(){return Ut.apply(Ut,ie(arguments)),this},toString:function(){var cr=hr();return cr&&(cr="else{"+cr+"}"),ce(["if(",Dt,"){",Qt(),"}",cr])}})},compile:function(){var Dt=['"use strict";',Pt,"return {"];Object.keys(zt).forEach(function(Qt){Dt.push('"',Qt,'":',zt[Qt].toString(),",")}),Dt.push("}");var Vt=ce(Dt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Ut;return mr&&(Ut=H(O(Y(Vt))),mr[Ut])?mr[Ut].apply(null,ht):(Vt=Function.apply(null,bt.concat(Vt)),mr&&(mr[Ut]=Vt),Vt.apply(null,ht))}}}function j(yt){return Array.isArray(yt)||Pe(yt)||f(yt)}function Z(yt){return yt.sort(function($t,er){return $t==="viewport"?-1:er==="viewport"?1:$t<er?-1:1})}function $(yt,$t,er,mr){this.thisDep=yt,this.contextDep=$t,this.propDep=er,this.append=mr}function te(yt){return yt&&!(yt.thisDep||yt.contextDep||yt.propDep)}function se(yt){return new $(!1,!1,!1,yt)}function ee(yt,$t){var er=yt.type;if(er===0)return er=yt.data.length,new $(!0,1<=er,2<=er,$t);if(er===4)return er=yt.data,new $(er.thisDep,er.contextDep,er.propDep,$t);if(er===5)return new $(!1,!1,!1,$t);if(er===6){for(var mr=er=!1,vr=!1,bt=0;bt<yt.data.length;++bt){var ht=yt.data[bt];ht.type===1?vr=!0:ht.type===2?mr=!0:ht.type===3?er=!0:ht.type===0?(er=!0,ht=ht.data,1<=ht&&(mr=!0),2<=ht&&(vr=!0)):ht.type===4&&(er=er||ht.data.thisDep,mr=mr||ht.data.contextDep,vr=vr||ht.data.propDep)}return new $(er,mr,vr,$t)}return new $(er===3,er===2,er===1,$t)}function q(yt,$t,er,mr,vr,bt,ht,Tt,Pt,zt,Dt,Vt,Ut,Qt,hr,cr){function lr(Jt){return Jt.replace(".","_")}function Xe(Jt,Er,qr){var sn=lr(Jt);Mn.push(Jt),Gn[sn]=mn[sn]=!!qr,Ln[sn]=Er}function Ke(Jt,Er,qr){var sn=lr(Jt);Mn.push(Jt),Array.isArray(qr)?(mn[sn]=qr.slice(),Gn[sn]=qr.slice()):mn[sn]=Gn[sn]=qr,Hn[sn]=Er}function Ot(){var Jt=Q({cache:hr}),Er=Jt.link,qr=Jt.global;Jt.id=Za++,Jt.batchId="0";var sn=Er(ra),fn=Jt.shared={props:"a0"};Object.keys(ra).forEach(function(_r){fn[_r]=qr.def(sn,".",_r)});var Cn=Jt.next={},En=Jt.current={};Object.keys(Hn).forEach(function(_r){Array.isArray(mn[_r])&&(Cn[_r]=qr.def(fn.next,".",_r),En[_r]=qr.def(fn.current,".",_r))});var pn=Jt.constants={};Object.keys(ba).forEach(function(_r){pn[_r]=qr.def(JSON.stringify(ba[_r]))}),Jt.invoke=function(_r,Nr){switch(Nr.type){case 0:var vn=["this",fn.context,fn.props,Jt.batchId];return _r.def(Er(Nr.data),".call(",vn.slice(0,Math.max(Nr.data.length+1,4)),")");case 1:return _r.def(fn.props,Nr.data);case 2:return _r.def(fn.context,Nr.data);case 3:return _r.def("this",Nr.data);case 4:return Nr.data.append(Jt,_r),Nr.data.ref;case 5:return Nr.data.toString();case 6:return Nr.data.map(function(Fn){return Jt.invoke(_r,Fn)})}},Jt.attribCache={};var zr={};return Jt.scopeAttrib=function(_r){if(_r=$t.id(_r),_r in zr)return zr[_r];var Nr=zt.scope[_r];return Nr||(Nr=zt.scope[_r]=new Zn),zr[_r]=Er(Nr)},Jt}function Lt(Jt){var Er=Jt.static;Jt=Jt.dynamic;var qr;if("profile"in Er){var sn=!!Er.profile;qr=se(function(Cn,En){return sn}),qr.enable=sn}else if("profile"in Jt){var fn=Jt.profile;qr=ee(fn,function(Cn,En){return Cn.invoke(En,fn)})}return qr}function Xt(Jt,Er){var qr=Jt.static,sn=Jt.dynamic;if("framebuffer"in qr){var fn=qr.framebuffer;return fn?(fn=Tt.getFramebuffer(fn),se(function(En,pn){var zr=En.link(fn),_r=En.shared;return pn.set(_r.framebuffer,".next",zr),_r=_r.context,pn.set(_r,".framebufferWidth",zr+".width"),pn.set(_r,".framebufferHeight",zr+".height"),zr})):se(function(En,pn){var zr=En.shared;return pn.set(zr.framebuffer,".next","null"),zr=zr.context,pn.set(zr,".framebufferWidth",zr+".drawingBufferWidth"),pn.set(zr,".framebufferHeight",zr+".drawingBufferHeight"),"null"})}if("framebuffer"in sn){var Cn=sn.framebuffer;return ee(Cn,function(En,pn){var Nr=En.invoke(pn,Cn),zr=En.shared,_r=zr.framebuffer,Nr=pn.def(_r,".getFramebuffer(",Nr,")");return pn.set(_r,".next",Nr),zr=zr.context,pn.set(zr,".framebufferWidth",Nr+"?"+Nr+".width:"+zr+".drawingBufferWidth"),pn.set(zr,".framebufferHeight",Nr+"?"+Nr+".height:"+zr+".drawingBufferHeight"),Nr})}return null}function rr(Jt,Er,qr){function sn(pn){if(pn in fn){var zr=fn[pn];pn=!0;var _r=zr.x|0,Nr=zr.y|0,vn,Fn;return"width"in zr?vn=zr.width|0:pn=!1,"height"in zr?Fn=zr.height|0:pn=!1,new $(!pn&&Er&&Er.thisDep,!pn&&Er&&Er.contextDep,!pn&&Er&&Er.propDep,function(xn,Vn){var aa=xn.shared.context,va=vn;"width"in zr||(va=Vn.def(aa,".","framebufferWidth","-",_r));var ha=Fn;return"height"in zr||(ha=Vn.def(aa,".","framebufferHeight","-",Nr)),[_r,Nr,va,ha]})}if(pn in Cn){var Kn=Cn[pn];return pn=ee(Kn,function(xn,Vn){var ma=xn.invoke(Vn,Kn),aa=xn.shared.context,va=Vn.def(ma,".x|0"),ha=Vn.def(ma,".y|0"),la=Vn.def('"width" in ',ma,"?",ma,".width|0:","(",aa,".","framebufferWidth","-",va,")"),ma=Vn.def('"height" in ',ma,"?",ma,".height|0:","(",aa,".","framebufferHeight","-",ha,")");return[va,ha,la,ma]}),Er&&(pn.thisDep=pn.thisDep||Er.thisDep,pn.contextDep=pn.contextDep||Er.contextDep,pn.propDep=pn.propDep||Er.propDep),pn}return Er?new $(Er.thisDep,Er.contextDep,Er.propDep,function(xn,Vn){var aa=xn.shared.context;return[0,0,Vn.def(aa,".","framebufferWidth"),Vn.def(aa,".","framebufferHeight")]}):null}var fn=Jt.static,Cn=Jt.dynamic;if(Jt=sn("viewport")){var En=Jt;Jt=new $(Jt.thisDep,Jt.contextDep,Jt.propDep,function(pn,zr){var _r=En.append(pn,zr),Nr=pn.shared.context;return zr.set(Nr,".viewportWidth",_r[2]),zr.set(Nr,".viewportHeight",_r[3]),_r})}return{viewport:Jt,scissor_box:sn("scissor.box")}}function ur(Jt,Er){var qr=Jt.static;if(typeof qr.frag=="string"&&typeof qr.vert=="string"){if(0<Object.keys(Er.dynamic).length)return null;var qr=Er.static,sn=Object.keys(qr);if(0<sn.length&&typeof qr[sn[0]]=="number"){for(var fn=[],Cn=0;Cn<sn.length;++Cn)fn.push([qr[sn[Cn]]|0,sn[Cn]]);return fn}}return null}function or(Jt,Er,qr){function sn(_r){if(_r in fn){var Nr=$t.id(fn[_r]);return _r=se(function(){return Nr}),_r.id=Nr,_r}if(_r in Cn){var vn=Cn[_r];return ee(vn,function(Fn,Kn){var xn=Fn.invoke(Kn,vn);return Kn.def(Fn.shared.strings,".id(",xn,")")})}return null}var fn=Jt.static,Cn=Jt.dynamic,En=sn("frag"),pn=sn("vert"),zr=null;return te(En)&&te(pn)?(zr=Dt.program(pn.id,En.id,null,qr),Jt=se(function(_r,Nr){return _r.link(zr)})):Jt=new $(En&&En.thisDep||pn&&pn.thisDep,En&&En.contextDep||pn&&pn.contextDep,En&&En.propDep||pn&&pn.propDep,function(_r,Nr){var vn=_r.shared.shader,Fn;Fn=En?En.append(_r,Nr):Nr.def(vn,".","frag");var Kn;return Kn=pn?pn.append(_r,Nr):Nr.def(vn,".","vert"),Nr.def(vn+".program("+Kn+","+Fn+")")}),{frag:En,vert:pn,progVar:Jt,program:zr}}function Ht(Jt,Er){function qr(xn,Vn){if(xn in sn){var aa=sn[xn]|0;return Vn?Cn.offset=aa:Cn.instances=aa,se(function(ha,la){return Vn&&(ha.OFFSET=aa),aa})}if(xn in fn){var va=fn[xn];return ee(va,function(ha,la){var ma=ha.invoke(la,va);return Vn&&(ha.OFFSET=ma),ma})}if(Vn){if(zr)return se(function(ha,la){return ha.OFFSET=0});if(En)return new $(pn.thisDep,pn.contextDep,pn.propDep,function(ha,la){return la.def(ha.shared.vao+".currentVAO?"+ha.shared.vao+".currentVAO.offset:0")})}else if(En)return new $(pn.thisDep,pn.contextDep,pn.propDep,function(ha,la){return la.def(ha.shared.vao+".currentVAO?"+ha.shared.vao+".currentVAO.instances:-1")});return null}var sn=Jt.static,fn=Jt.dynamic,Cn={},En=!1,pn=function(){if("vao"in sn){var xn=sn.vao;return xn!==null&&zt.getVAO(xn)===null&&(xn=zt.createVAO(xn)),En=!0,Cn.vao=xn,se(function(aa){var va=zt.getVAO(xn);return va?aa.link(va):"null"})}if("vao"in fn){En=!0;var Vn=fn.vao;return ee(Vn,function(aa,va){var ha=aa.invoke(va,Vn);return va.def(aa.shared.vao+".getVAO("+ha+")")})}return null}(),zr=!1,_r=function(){if("elements"in sn){var xn=sn.elements;if(Cn.elements=xn,j(xn)){var Vn=Cn.elements=bt.create(xn,!0),xn=bt.getElements(Vn);zr=!0}else xn&&(xn=bt.getElements(xn),zr=!0);return Vn=se(function(va,ha){if(xn){var la=va.link(xn);return va.ELEMENTS=la}return va.ELEMENTS=null}),Vn.value=xn,Vn}if("elements"in fn){zr=!0;var aa=fn.elements;return ee(aa,function(va,ha){var la=va.shared,_i=la.isBufferArgs,la=la.elements,Ji=va.invoke(ha,aa),ma=ha.def("null"),_i=ha.def(_i,"(",Ji,")"),Ji=va.cond(_i).then(ma,"=",la,".createStream(",Ji,");").else(ma,"=",la,".getElements(",Ji,");");return ha.entry(Ji),ha.exit(va.cond(_i).then(la,".destroyStream(",ma,");")),va.ELEMENTS=ma})}return En?new $(pn.thisDep,pn.contextDep,pn.propDep,function(va,ha){return ha.def(va.shared.vao+".currentVAO?"+va.shared.elements+".getElements("+va.shared.vao+".currentVAO.elements):null")}):null}(),Nr=qr("offset",!0),vn=function(){if("primitive"in sn){var xn=sn.primitive;return Cn.primitive=xn,se(function(aa,va){return it[xn]})}if("primitive"in fn){var Vn=fn.primitive;return ee(Vn,function(aa,va){var ha=aa.constants.primTypes,la=aa.invoke(va,Vn);return va.def(ha,"[",la,"]")})}return zr?te(_r)?_r.value?se(function(aa,va){return va.def(aa.ELEMENTS,".primType")}):se(function(){return 4}):new $(_r.thisDep,_r.contextDep,_r.propDep,function(aa,va){var ha=aa.ELEMENTS;return va.def(ha,"?",ha,".primType:",4)}):En?new $(pn.thisDep,pn.contextDep,pn.propDep,function(aa,va){return va.def(aa.shared.vao+".currentVAO?"+aa.shared.vao+".currentVAO.primitive:4")}):null}(),Fn=function(){if("count"in sn){var xn=sn.count|0;return Cn.count=xn,se(function(){return xn})}if("count"in fn){var Vn=fn.count;return ee(Vn,function(aa,va){return aa.invoke(va,Vn)})}return zr?te(_r)?_r?Nr?new $(Nr.thisDep,Nr.contextDep,Nr.propDep,function(aa,va){return va.def(aa.ELEMENTS,".vertCount-",aa.OFFSET)}):se(function(aa,va){return va.def(aa.ELEMENTS,".vertCount")}):se(function(){return-1}):new $(_r.thisDep||Nr.thisDep,_r.contextDep||Nr.contextDep,_r.propDep||Nr.propDep,function(aa,va){var ha=aa.ELEMENTS;return aa.OFFSET?va.def(ha,"?",ha,".vertCount-",aa.OFFSET,":-1"):va.def(ha,"?",ha,".vertCount:-1")}):En?new $(pn.thisDep,pn.contextDep,pn.propDep,function(aa,va){return va.def(aa.shared.vao,".currentVAO?",aa.shared.vao,".currentVAO.count:-1")}):null}(),Kn=qr("instances",!1);return{elements:_r,primitive:vn,count:Fn,instances:Kn,offset:Nr,vao:pn,vaoActive:En,elementsActive:zr,static:Cn}}function gr(Jt,Er){var qr=Jt.static,sn=Jt.dynamic,fn={};return Mn.forEach(function(Cn){function En(zr,_r){if(Cn in qr){var Nr=zr(qr[Cn]);fn[pn]=se(function(){return Nr})}else if(Cn in sn){var vn=sn[Cn];fn[pn]=ee(vn,function(Fn,Kn){return _r(Fn,Kn,Fn.invoke(Kn,vn))})}}var pn=lr(Cn);switch(Cn){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return En(function(zr){return zr},function(zr,_r,Nr){return Nr});case"depth.func":return En(function(zr){return tr[zr]},function(zr,_r,Nr){return _r.def(zr.constants.compareFuncs,"[",Nr,"]")});case"depth.range":return En(function(zr){return zr},function(zr,_r,Nr){return zr=_r.def("+",Nr,"[0]"),_r=_r.def("+",Nr,"[1]"),[zr,_r]});case"blend.func":return En(function(zr){return[jt["srcRGB"in zr?zr.srcRGB:zr.src],jt["dstRGB"in zr?zr.dstRGB:zr.dst],jt["srcAlpha"in zr?zr.srcAlpha:zr.src],jt["dstAlpha"in zr?zr.dstAlpha:zr.dst]]},function(zr,_r,Nr){function vn(Vn,aa){return _r.def('"',Vn,aa,'" in ',Nr,"?",Nr,".",Vn,aa,":",Nr,".",Vn)}zr=zr.constants.blendFuncs;var Fn=vn("src","RGB"),xn=vn("dst","RGB"),Fn=_r.def(zr,"[",Fn,"]"),Kn=_r.def(zr,"[",vn("src","Alpha"),"]"),xn=_r.def(zr,"[",xn,"]");return zr=_r.def(zr,"[",vn("dst","Alpha"),"]"),[Fn,xn,Kn,zr]});case"blend.equation":return En(function(zr){if(typeof zr=="string")return[Qn[zr],Qn[zr]];if(typeof zr=="object")return[Qn[zr.rgb],Qn[zr.alpha]]},function(zr,_r,Nr){var vn=zr.constants.blendEquations,Fn=_r.def(),Kn=_r.def();return zr=zr.cond("typeof ",Nr,'==="string"'),zr.then(Fn,"=",Kn,"=",vn,"[",Nr,"];"),zr.else(Fn,"=",vn,"[",Nr,".rgb];",Kn,"=",vn,"[",Nr,".alpha];"),_r(zr),[Fn,Kn]});case"blend.color":return En(function(zr){return s(4,function(_r){return+zr[_r]})},function(zr,_r,Nr){return s(4,function(vn){return _r.def("+",Nr,"[",vn,"]")})});case"stencil.mask":return En(function(zr){return zr|0},function(zr,_r,Nr){return _r.def(Nr,"|0")});case"stencil.func":return En(function(zr){return[tr[zr.cmp||"keep"],zr.ref||0,"mask"in zr?zr.mask:-1]},function(zr,_r,Nr){zr=_r.def('"cmp" in ',Nr,"?",zr.constants.compareFuncs,"[",Nr,".cmp]",":",7680);var vn=_r.def(Nr,".ref|0");return _r=_r.def('"mask" in ',Nr,"?",Nr,".mask|0:-1"),[zr,vn,_r]});case"stencil.opFront":case"stencil.opBack":return En(function(zr){return[Cn==="stencil.opBack"?1029:1028,Ct[zr.fail||"keep"],Ct[zr.zfail||"keep"],Ct[zr.zpass||"keep"]]},function(zr,_r,Nr){function vn(Kn){return _r.def('"',Kn,'" in ',Nr,"?",Fn,"[",Nr,".",Kn,"]:",7680)}var Fn=zr.constants.stencilOps;return[Cn==="stencil.opBack"?1029:1028,vn("fail"),vn("zfail"),vn("zpass")]});case"polygonOffset.offset":return En(function(zr){return[zr.factor|0,zr.units|0]},function(zr,_r,Nr){return zr=_r.def(Nr,".factor|0"),_r=_r.def(Nr,".units|0"),[zr,_r]});case"cull.face":return En(function(zr){var _r=0;return zr==="front"?_r=1028:zr==="back"&&(_r=1029),_r},function(zr,_r,Nr){return _r.def(Nr,'==="front"?',1028,":",1029)});case"lineWidth":return En(function(zr){return zr},function(zr,_r,Nr){return Nr});case"frontFace":return En(function(zr){return Nt[zr]},function(zr,_r,Nr){return _r.def(Nr+'==="cw"?2304:2305')});case"colorMask":return En(function(zr){return zr.map(function(_r){return!!_r})},function(zr,_r,Nr){return s(4,function(vn){return"!!"+Nr+"["+vn+"]"})});case"sample.coverage":return En(function(zr){return["value"in zr?zr.value:1,!!zr.invert]},function(zr,_r,Nr){return zr=_r.def('"value" in ',Nr,"?+",Nr,".value:1"),_r=_r.def("!!",Nr,".invert"),[zr,_r]})}}),fn}function br(Jt,Er){var qr=Jt.static,sn=Jt.dynamic,fn={};return Object.keys(qr).forEach(function(Cn){var En=qr[Cn],pn;if(typeof En=="number"||typeof En=="boolean")pn=se(function(){return En});else if(typeof En=="function"){var zr=En._reglType;zr==="texture2d"||zr==="textureCube"?pn=se(function(_r){return _r.link(En)}):(zr==="framebuffer"||zr==="framebufferCube")&&(pn=se(function(_r){return _r.link(En.color[0])}))}else S(En)&&(pn=se(function(_r){return _r.global.def("[",s(En.length,function(Nr){return En[Nr]}),"]")}));pn.value=En,fn[Cn]=pn}),Object.keys(sn).forEach(function(Cn){var En=sn[Cn];fn[Cn]=ee(En,function(pn,zr){return pn.invoke(zr,En)})}),fn}function xr(Jt,Er){var qr=Jt.static,sn=Jt.dynamic,fn={};return Object.keys(qr).forEach(function(Cn){var En=qr[Cn],pn=$t.id(Cn),zr=new Zn;if(j(En))zr.state=1,zr.buffer=vr.getBuffer(vr.create(En,34962,!1,!0)),zr.type=0;else{var _r=vr.getBuffer(En);if(_r)zr.state=1,zr.buffer=_r,zr.type=0;else if("constant"in En){var Nr=En.constant;zr.buffer="null",zr.state=2,typeof Nr=="number"?zr.x=Nr:pt.forEach(function(aa,va){va<Nr.length&&(zr[aa]=Nr[va])})}else{var _r=j(En.buffer)?vr.getBuffer(vr.create(En.buffer,34962,!1,!0)):vr.getBuffer(En.buffer),vn=En.offset|0,Fn=En.stride|0,Kn=En.size|0,xn=!!En.normalized,Vn=0;"type"in En&&(Vn=je[En.type]),En=En.divisor|0,zr.buffer=_r,zr.state=1,zr.size=Kn,zr.normalized=xn,zr.type=Vn||_r.dtype,zr.offset=vn,zr.stride=Fn,zr.divisor=En}}fn[Cn]=se(function(aa,va){var ha=aa.attribCache;if(pn in ha)return ha[pn];var la={isStream:!1};return Object.keys(zr).forEach(function(ma){la[ma]=zr[ma]}),zr.buffer&&(la.buffer=aa.link(zr.buffer),la.type=la.type||la.buffer+".dtype"),ha[pn]=la})}),Object.keys(sn).forEach(function(Cn){var En=sn[Cn];fn[Cn]=ee(En,function(pn,zr){function _r(ha){zr(xn[ha],"=",Nr,".",ha,"|0;")}var Nr=pn.invoke(zr,En),Kn=pn.shared,vn=pn.constants,Fn=Kn.isBufferArgs,Kn=Kn.buffer,xn={isStream:zr.def(!1)},Vn=new Zn;Vn.state=1,Object.keys(Vn).forEach(function(ha){xn[ha]=zr.def(""+Vn[ha])});var aa=xn.buffer,va=xn.type;return zr("if(",Fn,"(",Nr,")){",xn.isStream,"=true;",aa,"=",Kn,".createStream(",34962,",",Nr,");",va,"=",aa,".dtype;","}else{",aa,"=",Kn,".getBuffer(",Nr,");","if(",aa,"){",va,"=",aa,".dtype;",'}else if("constant" in ',Nr,"){",xn.state,"=",2,";","if(typeof "+Nr+'.constant === "number"){',xn[pt[0]],"=",Nr,".constant;",pt.slice(1).map(function(ha){return xn[ha]}).join("="),"=0;","}else{",pt.map(function(ha,la){return xn[ha]+"="+Nr+".constant.length>"+la+"?"+Nr+".constant["+la+"]:0;"}).join(""),"}}else{","if(",Fn,"(",Nr,".buffer)){",aa,"=",Kn,".createStream(",34962,",",Nr,".buffer);","}else{",aa,"=",Kn,".getBuffer(",Nr,".buffer);","}",va,'="type" in ',Nr,"?",vn.glTypes,"[",Nr,".type]:",aa,".dtype;",xn.normalized,"=!!",Nr,".normalized;"),_r("size"),_r("offset"),_r("stride"),_r("divisor"),zr("}}"),zr.exit("if(",xn.isStream,"){",Kn,".destroyStream(",aa,");","}"),xn})}),fn}function dr(Jt){var Er=Jt.static,qr=Jt.dynamic,sn={};return Object.keys(Er).forEach(function(fn){var Cn=Er[fn];sn[fn]=se(function(En,pn){return typeof Cn=="number"||typeof Cn=="boolean"?""+Cn:En.link(Cn)})}),Object.keys(qr).forEach(function(fn){var Cn=qr[fn];sn[fn]=ee(Cn,function(En,pn){return En.invoke(pn,Cn)})}),sn}function Wr(Jt,Er,qr,sn,fn){function Cn(Vn){var aa=pn[Vn];aa&&(_r[Vn]=aa)}var En=ur(Jt,Er),Fn=Xt(Jt),pn=rr(Jt,Fn),zr=Ht(Jt),_r=gr(Jt),Nr=or(Jt,fn,En);Cn("viewport"),Cn(lr("scissor.box"));var vn=0<Object.keys(_r).length,Fn={framebuffer:Fn,draw:zr,shader:Nr,state:_r,dirty:vn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Fn.profile=Lt(Jt),Fn.uniforms=br(qr),Fn.drawVAO=Fn.scopeVAO=zr.vao,!Fn.drawVAO&&Nr.program&&!En&&er.angle_instanced_arrays&&zr.static.elements){var Kn=!0;if(Jt=Nr.program.attributes.map(function(Vn){return Vn=Er.static[Vn],Kn=Kn&&!!Vn,Vn}),Kn&&0<Jt.length){var xn=zt.getVAO(zt.createVAO({attributes:Jt,elements:zr.static.elements}));Fn.drawVAO=new $(null,null,null,function(Vn,aa){return Vn.link(xn)}),Fn.useVAO=!0}}return En?Fn.useVAO=!0:Fn.attributes=xr(Er),Fn.context=dr(sn),Fn}function Br(Jt,Er,qr){var sn=Jt.shared.context,fn=Jt.scope();Object.keys(qr).forEach(function(Cn){Er.save(sn,"."+Cn);var En=qr[Cn].append(Jt,Er);Array.isArray(En)?fn(sn,".",Cn,"=[",En.join(),"];"):fn(sn,".",Cn,"=",En,";")}),Er(fn)}function Ur(Jt,Er,qr,sn){var pn=Jt.shared,fn=pn.gl,Cn=pn.framebuffer,En;on&&(En=Er.def(pn.extensions,".webgl_draw_buffers"));var zr=Jt.constants,pn=zr.drawBuffer,zr=zr.backBuffer;Jt=qr?qr.append(Jt,Er):Er.def(Cn,".next"),sn||Er("if(",Jt,"!==",Cn,".cur){"),Er("if(",Jt,"){",fn,".bindFramebuffer(",36160,",",Jt,".framebuffer);"),on&&Er(En,".drawBuffersWEBGL(",pn,"[",Jt,".colorAttachments.length]);"),Er("}else{",fn,".bindFramebuffer(",36160,",null);"),on&&Er(En,".drawBuffersWEBGL(",zr,");"),Er("}",Cn,".cur=",Jt,";"),sn||Er("}")}function yn(Jt,Er,qr){var sn=Jt.shared,fn=sn.gl,Cn=Jt.current,En=Jt.next,pn=sn.current,zr=sn.next,_r=Jt.cond(pn,".dirty");Mn.forEach(function(Nr){if(Nr=lr(Nr),!(Nr in qr.state)){var vn,Fn;if(Nr in En){vn=En[Nr],Fn=Cn[Nr];var Kn=s(mn[Nr].length,function(xn){return _r.def(vn,"[",xn,"]")});_r(Jt.cond(Kn.map(function(xn,Vn){return xn+"!=="+Fn+"["+Vn+"]"}).join("||")).then(fn,".",Hn[Nr],"(",Kn,");",Kn.map(function(xn,Vn){return Fn+"["+Vn+"]="+xn}).join(";"),";"))}else vn=_r.def(zr,".",Nr),Kn=Jt.cond(vn,"!==",pn,".",Nr),_r(Kn),Nr in Ln?Kn(Jt.cond(vn).then(fn,".enable(",Ln[Nr],");").else(fn,".disable(",Ln[Nr],");"),pn,".",Nr,"=",vn,";"):Kn(fn,".",Hn[Nr],"(",vn,");",pn,".",Nr,"=",vn,";")}}),Object.keys(qr.state).length===0&&_r(pn,".dirty=false;"),Er(_r)}function rn(Jt,Er,qr,sn){var fn=Jt.shared,Cn=Jt.current,En=fn.current,pn=fn.gl,zr;Z(Object.keys(qr)).forEach(function(_r){var Nr=qr[_r];if(!sn||sn(Nr)){var vn=Nr.append(Jt,Er);if(Ln[_r]){var Fn=Ln[_r];te(Nr)?(zr=Jt.link(vn,{stable:!0}),Er(Jt.cond(zr).then(pn,".enable(",Fn,");").else(pn,".disable(",Fn,");")),Er(En,".",_r,"=",zr,";")):(Er(Jt.cond(vn).then(pn,".enable(",Fn,");").else(pn,".disable(",Fn,");")),Er(En,".",_r,"=",vn,";"))}else if(S(vn)){var Kn=Cn[_r];Er(pn,".",Hn[_r],"(",vn,");",vn.map(function(xn,Vn){return Kn+"["+Vn+"]="+xn}).join(";"),";")}else te(Nr)?(zr=Jt.link(vn,{stable:!0}),Er(pn,".",Hn[_r],"(",zr,");",En,".",_r,"=",zr,";")):Er(pn,".",Hn[_r],"(",vn,");",En,".",_r,"=",vn,";")}})}function Un(Jt,Er){Mr&&(Jt.instancing=Er.def(Jt.shared.extensions,".angle_instanced_arrays"))}function bn(Jt,Er,qr,sn,fn){function Cn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function En(Vn){Kn=Er.def(),Vn(Kn,"=",Cn(),";"),typeof fn=="string"?Vn(Nr,".count+=",fn,";"):Vn(Nr,".count++;"),Qt&&(sn?(xn=Er.def(),Vn(xn,"=",Fn,".getNumPendingQueries();")):Vn(Fn,".beginQuery(",Nr,");"))}function pn(Vn){Vn(Nr,".cpuTime+=",Cn(),"-",Kn,";"),Qt&&(sn?Vn(Fn,".pushScopeStats(",xn,",",Fn,".getNumPendingQueries(),",Nr,");"):Vn(Fn,".endQuery();"))}function zr(Vn){var aa=Er.def(vn,".profile");Er(vn,".profile=",Vn,";"),Er.exit(vn,".profile=",aa,";")}var _r=Jt.shared,Nr=Jt.stats,vn=_r.current,Fn=_r.timer;qr=qr.profile;var Kn,xn;if(qr){if(te(qr)){qr.enable?(En(Er),pn(Er.exit),zr("true")):zr("false");return}qr=qr.append(Jt,Er),zr(qr)}else qr=Er.def(vn,".profile");_r=Jt.block(),En(_r),Er("if(",qr,"){",_r,"}"),Jt=Jt.block(),pn(Jt),Er.exit("if(",qr,"){",Jt,"}")}function Lr(Jt,Er,qr,sn,fn){function Cn(zr){switch(zr){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function En(zr,_r,Nr){function vn(){Er("if(!",Vn,".buffer){",Kn,".enableVertexAttribArray(",xn,");}");var la=Nr.type,ma;ma=Nr.size?Er.def(Nr.size,"||",_r):_r,Er("if(",Vn,".type!==",la,"||",Vn,".size!==",ma,"||",ha.map(function(_i){return Vn+"."+_i+"!=="+Nr[_i]}).join("||"),"){",Kn,".bindBuffer(",34962,",",aa,".buffer);",Kn,".vertexAttribPointer(",[xn,ma,la,Nr.normalized,Nr.stride,Nr.offset],");",Vn,".type=",la,";",Vn,".size=",ma,";",ha.map(function(_i){return Vn+"."+_i+"="+Nr[_i]+";"}).join(""),"}"),Mr&&(la=Nr.divisor,Er("if(",Vn,".divisor!==",la,"){",Jt.instancing,".vertexAttribDivisorANGLE(",[xn,la],");",Vn,".divisor=",la,";}"))}function Fn(){Er("if(",Vn,".buffer){",Kn,".disableVertexAttribArray(",xn,");",Vn,".buffer=null;","}if(",pt.map(function(la,ma){return Vn+"."+la+"!=="+va[ma]}).join("||"),"){",Kn,".vertexAttrib4f(",xn,",",va,");",pt.map(function(la,ma){return Vn+"."+la+"="+va[ma]+";"}).join(""),"}")}var Kn=pn.gl,xn=Er.def(zr,".location"),Vn=Er.def(pn.attributes,"[",xn,"]");zr=Nr.state;var aa=Nr.buffer,va=[Nr.x,Nr.y,Nr.z,Nr.w],ha=["buffer","normalized","offset","stride"];zr===1?vn():zr===2?Fn():(Er("if(",zr,"===",1,"){"),vn(),Er("}else{"),Fn(),Er("}"))}var pn=Jt.shared;sn.forEach(function(zr){var _r=zr.name,Nr=qr.attributes[_r],vn;if(Nr){if(!fn(Nr))return;vn=Nr.append(Jt,Er)}else{if(!fn(Kt))return;var Fn=Jt.scopeAttrib(_r);vn={},Object.keys(new Zn).forEach(function(Kn){vn[Kn]=Er.def(Fn,".",Kn)})}En(Jt.link(zr),Cn(zr.info.type),vn)})}function Pr(Jt,Er,qr,sn,fn,Cn){for(var En=Jt.shared,pn=En.gl,zr,_r=0;_r<sn.length;++_r){var Kn=sn[_r],Nr=Kn.name,vn=Kn.info.type,Fn=qr.uniforms[Nr],Kn=Jt.link(Kn)+".location",xn;if(Fn){if(!fn(Fn))continue;if(te(Fn)){if(Nr=Fn.value,vn===35678||vn===35680)vn=Jt.link(Nr._texture||Nr.color[0]._texture),Er(pn,".uniform1i(",Kn,",",vn+".bind());"),Er.exit(vn,".unbind();");else if(vn===35674||vn===35675||vn===35676)Nr=Jt.global.def("new Float32Array(["+Array.prototype.slice.call(Nr)+"])"),Fn=2,vn===35675?Fn=3:vn===35676&&(Fn=4),Er(pn,".uniformMatrix",Fn,"fv(",Kn,",false,",Nr,");");else{switch(vn){case 5126:zr="1f";break;case 35664:zr="2f";break;case 35665:zr="3f";break;case 35666:zr="4f";break;case 35670:zr="1i";break;case 5124:zr="1i";break;case 35671:zr="2i";break;case 35667:zr="2i";break;case 35672:zr="3i";break;case 35668:zr="3i";break;case 35673:zr="4i";break;case 35669:zr="4i"}Er(pn,".uniform",zr,"(",Kn,",",S(Nr)?Array.prototype.slice.call(Nr):Nr,");")}continue}else xn=Fn.append(Jt,Er)}else{if(!fn(Kt))continue;xn=Er.def(En.uniforms,"[",$t.id(Nr),"]")}switch(vn===35678?Er("if(",xn,"&&",xn,'._reglType==="framebuffer"){',xn,"=",xn,".color[0];","}"):vn===35680&&Er("if(",xn,"&&",xn,'._reglType==="framebufferCube"){',xn,"=",xn,".color[0];","}"),Nr=1,vn){case 35678:case 35680:vn=Er.def(xn,"._texture"),Er(pn,".uniform1i(",Kn,",",vn,".bind());"),Er.exit(vn,".unbind();");continue;case 5124:case 35670:zr="1i";break;case 35667:case 35671:zr="2i",Nr=2;break;case 35668:case 35672:zr="3i",Nr=3;break;case 35669:case 35673:zr="4i",Nr=4;break;case 5126:zr="1f";break;case 35664:zr="2f",Nr=2;break;case 35665:zr="3f",Nr=3;break;case 35666:zr="4f",Nr=4;break;case 35674:zr="Matrix2fv";break;case 35675:zr="Matrix3fv";break;case 35676:zr="Matrix4fv"}if(zr.charAt(0)==="M"){Er(pn,".uniform",zr,"(",Kn,",");var Kn=Math.pow(vn-35674+2,2),Vn=Jt.global.def("new Float32Array(",Kn,")");Array.isArray(xn)?Er("false,(",s(Kn,function(ha){return Vn+"["+ha+"]="+xn[ha]}),",",Vn,")"):Er("false,(Array.isArray(",xn,")||",xn," instanceof Float32Array)?",xn,":(",s(Kn,function(ha){return Vn+"["+ha+"]="+xn+"["+ha+"]"}),",",Vn,")"),Er(");")}else{if(1<Nr){for(var vn=[],aa=[],Fn=0;Fn<Nr;++Fn)Array.isArray(xn)?aa.push(xn[Fn]):aa.push(Er.def(xn+"["+Fn+"]")),Cn&&vn.push(Er.def());Cn&&Er("if(!",Jt.batchId,"||",vn.map(function(va,ha){return va+"!=="+aa[ha]}).join("||"),"){",vn.map(function(va,ha){return va+"="+aa[ha]+";"}).join("")),Er(pn,".uniform",zr,"(",Kn,",",aa.join(","),");")}else Cn&&(vn=Er.def(),Er("if(!",Jt.batchId,"||",vn,"!==",xn,"){",vn,"=",xn,";")),Er(pn,".uniform",zr,"(",Kn,",",xn,");");Cn&&Er("}")}}}function Yr(Jt,Er,qr,sn){function fn(la){var ma=Nr[la];return ma?ma.contextDep&&sn.contextDynamic||ma.propDep?ma.append(Jt,qr):ma.append(Jt,Er):Er.def(_r,".",la)}function Cn(){function la(){qr(aa,".drawElementsInstancedANGLE(",[Fn,xn,va,Kn+"<<(("+va+"-5121)>>1)",Vn],");")}function ma(){qr(aa,".drawArraysInstancedANGLE(",[Fn,Kn,xn,Vn],");")}vn&&vn!=="null"?ha?la():(qr("if(",vn,"){"),la(),qr("}else{"),ma(),qr("}")):ma()}function En(){function la(){qr(zr+".drawElements("+[Fn,xn,va,Kn+"<<(("+va+"-5121)>>1)"]+");")}function ma(){qr(zr+".drawArrays("+[Fn,Kn,xn]+");")}vn&&vn!=="null"?ha?la():(qr("if(",vn,"){"),la(),qr("}else{"),ma(),qr("}")):ma()}var pn=Jt.shared,zr=pn.gl,_r=pn.draw,Nr=sn.draw,vn=function(){var la=Nr.elements,ma=Er;return la?((la.contextDep&&sn.contextDynamic||la.propDep)&&(ma=qr),la=la.append(Jt,ma),Nr.elementsActive&&ma("if("+la+")"+zr+".bindBuffer(34963,"+la+".buffer.buffer);")):(la=ma.def(),ma(la,"=",_r,".","elements",";","if(",la,"){",zr,".bindBuffer(",34963,",",la,".buffer.buffer);}","else if(",pn.vao,".currentVAO){",la,"=",Jt.shared.elements+".getElements("+pn.vao,".currentVAO.elements);",nn?"":"if("+la+")"+zr+".bindBuffer(34963,"+la+".buffer.buffer);","}")),la}(),Fn=fn("primitive"),Kn=fn("offset"),xn=function(){var la=Nr.count,ma=Er;return la?((la.contextDep&&sn.contextDynamic||la.propDep)&&(ma=qr),la=la.append(Jt,ma)):la=ma.def(_r,".","count"),la}();if(typeof xn=="number"){if(xn===0)return}else qr("if(",xn,"){"),qr.exit("}");var Vn,aa;Mr&&(Vn=fn("instances"),aa=Jt.instancing);var va=vn+".type",ha=Nr.elements&&te(Nr.elements)&&!Nr.vaoActive;Mr&&(typeof Vn!="number"||0<=Vn)?typeof Vn=="string"?(qr("if(",Vn,">0){"),Cn(),qr("}else if(",Vn,"<0){"),En(),qr("}")):Cn():En()}function Hr(Jt,Er,qr,sn,fn){return Er=Ot(),fn=Er.proc("body",fn),Mr&&(Er.instancing=fn.def(Er.shared.extensions,".angle_instanced_arrays")),Jt(Er,fn,qr,sn),Er.compile().body}function en(Jt,Er,qr,sn){Un(Jt,Er),qr.useVAO?qr.drawVAO?Er(Jt.shared.vao,".setVAO(",qr.drawVAO.append(Jt,Er),");"):Er(Jt.shared.vao,".setVAO(",Jt.shared.vao,".targetVAO);"):(Er(Jt.shared.vao,".setVAO(null);"),Lr(Jt,Er,qr,sn.attributes,function(){return!0})),Pr(Jt,Er,qr,sn.uniforms,function(){return!0},!1),Yr(Jt,Er,Er,qr)}function cn(Jt,Er){var qr=Jt.proc("draw",1);Un(Jt,qr),Br(Jt,qr,Er.context),Ur(Jt,qr,Er.framebuffer),yn(Jt,qr,Er),rn(Jt,qr,Er.state),bn(Jt,qr,Er,!1,!0);var sn=Er.shader.progVar.append(Jt,qr);if(qr(Jt.shared.gl,".useProgram(",sn,".program);"),Er.shader.program)en(Jt,qr,Er,Er.shader.program);else{qr(Jt.shared.vao,".setVAO(null);");var fn=Jt.global.def("{}"),Cn=qr.def(sn,".id"),En=qr.def(fn,"[",Cn,"]");qr(Jt.cond(En).then(En,".call(this,a0);").else(En,"=",fn,"[",Cn,"]=",Jt.link(function(pn){return Hr(en,Jt,Er,pn,1)}),"(",sn,");",En,".call(this,a0);"))}0<Object.keys(Er.state).length&&qr(Jt.shared.current,".dirty=true;"),Jt.shared.vao&&qr(Jt.shared.vao,".setVAO(null);")}function hn(Jt,Er,qr,sn){function fn(){return!0}Jt.batchId="a1",Un(Jt,Er),Lr(Jt,Er,qr,sn.attributes,fn),Pr(Jt,Er,qr,sn.uniforms,fn,!1),Yr(Jt,Er,Er,qr)}function Pn(Jt,Er,qr,sn){function fn(vn){return vn.contextDep&&En||vn.propDep}function Cn(vn){return!fn(vn)}Un(Jt,Er);var En=qr.contextDep,pn=Er.def(),zr=Er.def();Jt.shared.props=zr,Jt.batchId=pn;var _r=Jt.scope(),Nr=Jt.scope();Er(_r.entry,"for(",pn,"=0;",pn,"<","a1",";++",pn,"){",zr,"=","a0","[",pn,"];",Nr,"}",_r.exit),qr.needsContext&&Br(Jt,Nr,qr.context),qr.needsFramebuffer&&Ur(Jt,Nr,qr.framebuffer),rn(Jt,Nr,qr.state,fn),qr.profile&&fn(qr.profile)&&bn(Jt,Nr,qr,!1,!0),sn?(qr.useVAO?qr.drawVAO?fn(qr.drawVAO)?Nr(Jt.shared.vao,".setVAO(",qr.drawVAO.append(Jt,Nr),");"):_r(Jt.shared.vao,".setVAO(",qr.drawVAO.append(Jt,_r),");"):_r(Jt.shared.vao,".setVAO(",Jt.shared.vao,".targetVAO);"):(_r(Jt.shared.vao,".setVAO(null);"),Lr(Jt,_r,qr,sn.attributes,Cn),Lr(Jt,Nr,qr,sn.attributes,fn)),Pr(Jt,_r,qr,sn.uniforms,Cn,!1),Pr(Jt,Nr,qr,sn.uniforms,fn,!0),Yr(Jt,_r,Nr,qr)):(Er=Jt.global.def("{}"),sn=qr.shader.progVar.append(Jt,Nr),zr=Nr.def(sn,".id"),_r=Nr.def(Er,"[",zr,"]"),Nr(Jt.shared.gl,".useProgram(",sn,".program);","if(!",_r,"){",_r,"=",Er,"[",zr,"]=",Jt.link(function(vn){return Hr(hn,Jt,qr,vn,2)}),"(",sn,");}",_r,".call(this,a0[",pn,"],",pn,");"))}function kn(Jt,Er){function qr(_r){return _r.contextDep&&fn||_r.propDep}var sn=Jt.proc("batch",2);Jt.batchId="0",Un(Jt,sn);var fn=!1,Cn=!0;Object.keys(Er.context).forEach(function(_r){fn=fn||Er.context[_r].propDep}),fn||(Br(Jt,sn,Er.context),Cn=!1);var En=Er.framebuffer,pn=!1;if(En?(En.propDep?fn=pn=!0:En.contextDep&&fn&&(pn=!0),pn||Ur(Jt,sn,En)):Ur(Jt,sn,null),Er.state.viewport&&Er.state.viewport.propDep&&(fn=!0),yn(Jt,sn,Er),rn(Jt,sn,Er.state,function(_r){return!qr(_r)}),Er.profile&&qr(Er.profile)||bn(Jt,sn,Er,!1,"a1"),Er.contextDep=fn,Er.needsContext=Cn,Er.needsFramebuffer=pn,Cn=Er.shader.progVar,Cn.contextDep&&fn||Cn.propDep)Pn(Jt,sn,Er,null);else if(Cn=Cn.append(Jt,sn),sn(Jt.shared.gl,".useProgram(",Cn,".program);"),Er.shader.program)Pn(Jt,sn,Er,Er.shader.program);else{sn(Jt.shared.vao,".setVAO(null);");var En=Jt.global.def("{}"),pn=sn.def(Cn,".id"),zr=sn.def(En,"[",pn,"]");sn(Jt.cond(zr).then(zr,".call(this,a0,a1);").else(zr,"=",En,"[",pn,"]=",Jt.link(function(vn){return Hr(Pn,Jt,Er,vn,2)}),"(",Cn,");",zr,".call(this,a0,a1);"))}0<Object.keys(Er.state).length&&sn(Jt.shared.current,".dirty=true;"),Jt.shared.vao&&sn(Jt.shared.vao,".setVAO(null);")}function sa(Jt,Er){function qr(pn){var zr=Er.shader[pn];zr&&(zr=zr.append(Jt,sn),isNaN(zr)?sn.set(fn.shader,"."+pn,zr):sn.set(fn.shader,"."+pn,Jt.link(zr,{stable:!0})))}var sn=Jt.proc("scope",3);Jt.batchId="a2";var fn=Jt.shared,Cn=fn.current;if(Br(Jt,sn,Er.context),Er.framebuffer&&Er.framebuffer.append(Jt,sn),Z(Object.keys(Er.state)).forEach(function(pn){var zr=Er.state[pn],_r=zr.append(Jt,sn);S(_r)?_r.forEach(function(Nr,vn){isNaN(Nr)?sn.set(Jt.next[pn],"["+vn+"]",Nr):sn.set(Jt.next[pn],"["+vn+"]",Jt.link(Nr,{stable:!0}))}):te(zr)?sn.set(fn.next,"."+pn,Jt.link(_r,{stable:!0})):sn.set(fn.next,"."+pn,_r)}),bn(Jt,sn,Er,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(pn){var zr=Er.draw[pn];zr&&(zr=zr.append(Jt,sn),isNaN(zr)?sn.set(fn.draw,"."+pn,zr):sn.set(fn.draw,"."+pn,Jt.link(zr),{stable:!0}))}),Object.keys(Er.uniforms).forEach(function(pn){var zr=Er.uniforms[pn].append(Jt,sn);Array.isArray(zr)&&(zr="["+zr.map(function(_r){return isNaN(_r)?_r:Jt.link(_r,{stable:!0})})+"]"),sn.set(fn.uniforms,"["+Jt.link($t.id(pn),{stable:!0})+"]",zr)}),Object.keys(Er.attributes).forEach(function(pn){var zr=Er.attributes[pn].append(Jt,sn),_r=Jt.scopeAttrib(pn);Object.keys(new Zn).forEach(function(Nr){sn.set(_r,"."+Nr,zr[Nr])})}),Er.scopeVAO){var En=Er.scopeVAO.append(Jt,sn);isNaN(En)?sn.set(fn.vao,".targetVAO",En):sn.set(fn.vao,".targetVAO",Jt.link(En,{stable:!0}))}qr("vert"),qr("frag"),0<Object.keys(Er.state).length&&(sn(Cn,".dirty=true;"),sn.exit(Cn,".dirty=true;")),sn("a1(",Jt.shared.context,",a0,",Jt.batchId,");")}function Xn(Jt){if(typeof Jt=="object"&&!S(Jt)){for(var Er=Object.keys(Jt),qr=0;qr<Er.length;++qr)if(me.isDynamic(Jt[Er[qr]]))return!0;return!1}}function ea(Jt,Er,qr){function sn(vn,Fn){En.forEach(function(Kn){var xn=fn[Kn];me.isDynamic(xn)&&(xn=vn.invoke(Fn,xn),Fn(Nr,".",Kn,"=",xn,";"))})}var fn=Er.static[qr];if(fn&&Xn(fn)){var Cn=Jt.global,En=Object.keys(fn),pn=!1,zr=!1,_r=!1,Nr=Jt.global.def("{}");En.forEach(function(vn){var Fn=fn[vn];if(me.isDynamic(Fn))typeof Fn=="function"&&(Fn=fn[vn]=me.unbox(Fn)),vn=ee(Fn,null),pn=pn||vn.thisDep,_r=_r||vn.propDep,zr=zr||vn.contextDep;else{switch(Cn(Nr,".",vn,"="),typeof Fn){case"number":Cn(Fn);break;case"string":Cn('"',Fn,'"');break;case"object":Array.isArray(Fn)&&Cn("[",Fn.join(),"]");break;default:Cn(Jt.link(Fn))}Cn(";")}}),Er.dynamic[qr]=new me.DynamicVariable(4,{thisDep:pn,contextDep:zr,propDep:_r,ref:Nr,append:sn}),delete Er.static[qr]}}var Zn=zt.Record,Qn={add:32774,subtract:32778,"reverse subtract":32779};er.ext_blend_minmax&&(Qn.min=32775,Qn.max=32776);var Mr=er.angle_instanced_arrays,on=er.webgl_draw_buffers,nn=er.oes_vertex_array_object,mn={dirty:!0,profile:cr.profile},Gn={},Mn=[],Ln={},Hn={};Xe("dither",3024),Xe("blend.enable",3042),Ke("blend.color","blendColor",[0,0,0,0]),Ke("blend.equation","blendEquationSeparate",[32774,32774]),Ke("blend.func","blendFuncSeparate",[1,0,1,0]),Xe("depth.enable",2929,!0),Ke("depth.func","depthFunc",513),Ke("depth.range","depthRange",[0,1]),Ke("depth.mask","depthMask",!0),Ke("colorMask","colorMask",[!0,!0,!0,!0]),Xe("cull.enable",2884),Ke("cull.face","cullFace",1029),Ke("frontFace","frontFace",2305),Ke("lineWidth","lineWidth",1),Xe("polygonOffset.enable",32823),Ke("polygonOffset.offset","polygonOffset",[0,0]),Xe("sample.alpha",32926),Xe("sample.enable",32928),Ke("sample.coverage","sampleCoverage",[1,!1]),Xe("stencil.enable",2960),Ke("stencil.mask","stencilMask",-1),Ke("stencil.func","stencilFunc",[519,0,-1]),Ke("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Ke("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Xe("scissor.enable",3089),Ke("scissor.box","scissor",[0,0,yt.drawingBufferWidth,yt.drawingBufferHeight]),Ke("viewport","viewport",[0,0,yt.drawingBufferWidth,yt.drawingBufferHeight]);var ra={gl:yt,context:Ut,strings:$t,next:Gn,current:mn,draw:Vt,elements:bt,buffer:vr,shader:Dt,attributes:zt.state,vao:zt,uniforms:Pt,framebuffer:Tt,extensions:er,timer:Qt,isBufferArgs:j},ba={primTypes:it,compareFuncs:tr,blendFuncs:jt,blendEquations:Qn,stencilOps:Ct,glTypes:je,orientationType:Nt};on&&(ba.backBuffer=[1029],ba.drawBuffer=s(mr.maxDrawbuffers,function(Jt){return Jt===0?[0]:s(Jt,function(Er){return 36064+Er})}));var Za=0;return{next:Gn,current:mn,procs:function(){var Jt=Ot(),Er=Jt.proc("poll"),qr=Jt.proc("refresh"),sn=Jt.block();Er(sn),qr(sn);var zr=Jt.shared,fn=zr.gl,Cn=zr.next,En=zr.current;sn(En,".dirty=false;"),Ur(Jt,Er),Ur(Jt,qr,null,!0);var pn;Mr&&(pn=Jt.link(Mr)),er.oes_vertex_array_object&&qr(Jt.link(er.oes_vertex_array_object),".bindVertexArrayOES(null);");var zr=qr.def(zr.attributes),_r=qr.def(0),Nr=Jt.cond(_r,".buffer");Nr.then(fn,".enableVertexAttribArray(i);",fn,".bindBuffer(",34962,",",_r,".buffer.buffer);",fn,".vertexAttribPointer(i,",_r,".size,",_r,".type,",_r,".normalized,",_r,".stride,",_r,".offset);").else(fn,".disableVertexAttribArray(i);",fn,".vertexAttrib4f(i,",_r,".x,",_r,".y,",_r,".z,",_r,".w);",_r,".buffer=null;");var vn=Jt.link(mr.maxAttributes,{stable:!0});return qr("for(var i=0;i<",vn,";++i){",_r,"=",zr,"[i];",Nr,"}"),Mr&&qr("for(var i=0;i<",vn,";++i){",pn,".vertexAttribDivisorANGLE(i,",zr,"[i].divisor);","}"),qr(Jt.shared.vao,".currentVAO=null;",Jt.shared.vao,".setVAO(",Jt.shared.vao,".targetVAO);"),Object.keys(Ln).forEach(function(Fn){var Kn=Ln[Fn],xn=sn.def(Cn,".",Fn),Vn=Jt.block();Vn("if(",xn,"){",fn,".enable(",Kn,")}else{",fn,".disable(",Kn,")}",En,".",Fn,"=",xn,";"),qr(Vn),Er("if(",xn,"!==",En,".",Fn,"){",Vn,"}")}),Object.keys(Hn).forEach(function(Fn){var Kn=Hn[Fn],xn=mn[Fn],Vn,aa,va=Jt.block();va(fn,".",Kn,"("),S(xn)?(Kn=xn.length,Vn=Jt.global.def(Cn,".",Fn),aa=Jt.global.def(En,".",Fn),va(s(Kn,function(ha){return Vn+"["+ha+"]"}),");",s(Kn,function(ha){return aa+"["+ha+"]="+Vn+"["+ha+"];"}).join("")),Er("if(",s(Kn,function(ha){return Vn+"["+ha+"]!=="+aa+"["+ha+"]"}).join("||"),"){",va,"}")):(Vn=sn.def(Cn,".",Fn),aa=sn.def(En,".",Fn),va(Vn,");",En,".",Fn,"=",Vn,";"),Er("if(",Vn,"!==",aa,"){",va,"}")),qr(va)}),Jt.compile()}(),compile:function(Jt,Er,qr,sn,fn){var Cn=Ot();Cn.stats=Cn.link(fn),Object.keys(Er.static).forEach(function(pn){ea(Cn,Er,pn)}),At.forEach(function(pn){ea(Cn,Jt,pn)});var En=Wr(Jt,Er,qr,sn,Cn);return En.shader.program&&(En.shader.program.attributes.sort(function(pn,zr){return pn.name<zr.name?-1:1}),En.shader.program.uniforms.sort(function(pn,zr){return pn.name<zr.name?-1:1})),cn(Cn,En),sa(Cn,En),kn(Cn,En),oe(Cn.compile(),{destroy:function(){En.shader.program.destroy()}})}}}function le(yt,$t){for(var er=0;er<yt.length;++er)if(yt[er]===$t)return er;return-1}var oe=function(yt,$t){for(var er=Object.keys($t),mr=0;mr<er.length;++mr)yt[er[mr]]=$t[er[mr]];return yt},he=0,me={DynamicVariable:V,define:function(yt,$t){return new V(yt,g($t+""))},isDynamic:function(yt){return typeof yt=="function"&&!yt._reglType||yt instanceof V},unbox:_,accessor:g},Ce={next:typeof requestAnimationFrame=="function"?function(yt){return requestAnimationFrame(yt)}:function(yt){return setTimeout(yt,16)},cancel:typeof cancelAnimationFrame=="function"?function(yt){return cancelAnimationFrame(yt)}:clearTimeout},Ae=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},Ue=i();Ue.zero=i();var Ve=function(yt,$t){var er=1;$t.ext_texture_filter_anisotropic&&(er=yt.getParameter(34047));var mr=1,vr=1;$t.webgl_draw_buffers&&(mr=yt.getParameter(34852),vr=yt.getParameter(36063));var bt=!!$t.oes_texture_float;if(bt){bt=yt.createTexture(),yt.bindTexture(3553,bt),yt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var ht=yt.createFramebuffer();if(yt.bindFramebuffer(36160,ht),yt.framebufferTexture2D(36160,36064,3553,bt,0),yt.bindTexture(3553,null),yt.checkFramebufferStatus(36160)!==36053)bt=!1;else{yt.viewport(0,0,1,1),yt.clearColor(1,0,0,1),yt.clear(16384);var Tt=Ue.allocType(5126,4);yt.readPixels(0,0,1,1,6408,5126,Tt),yt.getError()?bt=!1:(yt.deleteFramebuffer(ht),yt.deleteTexture(bt),bt=Tt[0]===1),Ue.freeType(Tt)}}return Tt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(Tt=yt.createTexture(),ht=Ue.allocType(5121,36),yt.activeTexture(33984),yt.bindTexture(34067,Tt),yt.texImage2D(34069,0,6408,3,3,0,6408,5121,ht),Ue.freeType(ht),yt.bindTexture(34067,null),yt.deleteTexture(Tt),Tt=!yt.getError()),{colorBits:[yt.getParameter(3410),yt.getParameter(3411),yt.getParameter(3412),yt.getParameter(3413)],depthBits:yt.getParameter(3414),stencilBits:yt.getParameter(3415),subpixelBits:yt.getParameter(3408),extensions:Object.keys($t).filter(function(Pt){return!!$t[Pt]}),maxAnisotropic:er,maxDrawbuffers:mr,maxColorAttachments:vr,pointSizeDims:yt.getParameter(33901),lineWidthDims:yt.getParameter(33902),maxViewportDims:yt.getParameter(3386),maxCombinedTextureUnits:yt.getParameter(35661),maxCubeMapSize:yt.getParameter(34076),maxRenderbufferSize:yt.getParameter(34024),maxTextureUnits:yt.getParameter(34930),maxTextureSize:yt.getParameter(3379),maxAttributes:yt.getParameter(34921),maxVertexUniforms:yt.getParameter(36347),maxVertexTextureUnits:yt.getParameter(35660),maxVaryingVectors:yt.getParameter(36348),maxFragmentUniforms:yt.getParameter(36349),glsl:yt.getParameter(35724),renderer:yt.getParameter(7937),vendor:yt.getParameter(7936),version:yt.getParameter(7938),readFloat:bt,npotTextureCube:Tt}},Pe=function(yt){return yt instanceof Uint8Array||yt instanceof Uint16Array||yt instanceof Uint32Array||yt instanceof Int8Array||yt instanceof Int16Array||yt instanceof Int32Array||yt instanceof Float32Array||yt instanceof Float64Array||yt instanceof Uint8ClampedArray},be=function(yt){return Object.keys(yt).map(function($t){return yt[$t]})},Le={shape:function(yt){for(var $t=[];yt.length;yt=yt[0])$t.push(yt.length);return $t},flatten:function(yt,$t,er,mr){var vr=1;if($t.length)for(var bt=0;bt<$t.length;++bt)vr*=$t[bt];else vr=0;switch(er=mr||Ue.allocType(er,vr),$t.length){case 0:break;case 1:for(mr=$t[0],$t=0;$t<mr;++$t)er[$t]=yt[$t];break;case 2:for(mr=$t[0],$t=$t[1],bt=vr=0;bt<mr;++bt)for(var ht=yt[bt],Tt=0;Tt<$t;++Tt)er[vr++]=ht[Tt];break;case 3:u(yt,$t[0],$t[1],$t[2],er,0);break;default:y(yt,$t,0,er,0)}return er}},We={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},je={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Fe={dynamic:35048,stream:35040,static:35044},Ze=Le.flatten,ut=Le.shape,at=[];at[5120]=1,at[5122]=2,at[5124]=4,at[5121]=1,at[5123]=2,at[5125]=4,at[5126]=4;var it={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},$e=new Float32Array(1),st=new Uint32Array($e.buffer),ct=[9984,9986,9985,9987],vt=[0,6409,6410,6407,6408],St={};St[6409]=St[6406]=St[6402]=1,St[34041]=St[6410]=2,St[6407]=St[35904]=3,St[6408]=St[35906]=4;var Mt=P("HTMLCanvasElement"),Bt=P("OffscreenCanvas"),Qe=P("CanvasRenderingContext2D"),ke=P("ImageBitmap"),ze=P("HTMLImageElement"),Be=P("HTMLVideoElement"),Re=Object.keys(We).concat([Mt,Bt,Qe,ke,ze,Be]),we=[];we[5121]=1,we[5126]=4,we[36193]=2,we[5123]=2,we[5125]=4;var ye=[];ye[32854]=2,ye[32855]=2,ye[36194]=2,ye[34041]=4,ye[33776]=.5,ye[33777]=.5,ye[33778]=1,ye[33779]=1,ye[35986]=.5,ye[35987]=1,ye[34798]=1,ye[35840]=.5,ye[35841]=.25,ye[35842]=.5,ye[35843]=.25,ye[36196]=.5;var Se=[];Se[32854]=2,Se[32855]=2,Se[36194]=2,Se[33189]=2,Se[36168]=1,Se[34041]=4,Se[35907]=4,Se[34836]=16,Se[34842]=8,Se[34843]=6;var Me=function(yt,$t,er,mr,vr){function bt(Vt){this.id=zt++,this.refCount=1,this.renderbuffer=Vt,this.format=32854,this.height=this.width=0,vr.profile&&(this.stats={size:0})}function ht(Vt){var Ut=Vt.renderbuffer;yt.bindRenderbuffer(36161,null),yt.deleteRenderbuffer(Ut),Vt.renderbuffer=null,Vt.refCount=0,delete Dt[Vt.id],mr.renderbufferCount--}var Tt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};$t.ext_srgb&&(Tt.srgba=35907),$t.ext_color_buffer_half_float&&(Tt.rgba16f=34842,Tt.rgb16f=34843),$t.webgl_color_buffer_float&&(Tt.rgba32f=34836);var Pt=[];Object.keys(Tt).forEach(function(Vt){Pt[Tt[Vt]]=Vt});var zt=0,Dt={};return bt.prototype.decRef=function(){0>=--this.refCount&&ht(this)},vr.profile&&(mr.getTotalRenderbufferSize=function(){var Vt=0;return Object.keys(Dt).forEach(function(Ut){Vt+=Dt[Ut].stats.size}),Vt}),{create:function(Vt,Ut){function Qt(cr,lr){var Xe=0,Ke=0,Ot=32854;if(typeof cr=="object"&&cr?("shape"in cr?(Ke=cr.shape,Xe=Ke[0]|0,Ke=Ke[1]|0):("radius"in cr&&(Xe=Ke=cr.radius|0),"width"in cr&&(Xe=cr.width|0),"height"in cr&&(Ke=cr.height|0)),"format"in cr&&(Ot=Tt[cr.format])):typeof cr=="number"?(Xe=cr|0,Ke=typeof lr=="number"?lr|0:Xe):cr||(Xe=Ke=1),Xe!==hr.width||Ke!==hr.height||Ot!==hr.format)return Qt.width=hr.width=Xe,Qt.height=hr.height=Ke,hr.format=Ot,yt.bindRenderbuffer(36161,hr.renderbuffer),yt.renderbufferStorage(36161,Ot,Xe,Ke),vr.profile&&(hr.stats.size=Se[hr.format]*hr.width*hr.height),Qt.format=Pt[hr.format],Qt}var hr=new bt(yt.createRenderbuffer());return Dt[hr.id]=hr,mr.renderbufferCount++,Qt(Vt,Ut),Qt.resize=function(cr,lr){var Xe=cr|0,Ke=lr|0||Xe;return Xe===hr.width&&Ke===hr.height||(Qt.width=hr.width=Xe,Qt.height=hr.height=Ke,yt.bindRenderbuffer(36161,hr.renderbuffer),yt.renderbufferStorage(36161,hr.format,Xe,Ke),vr.profile&&(hr.stats.size=Se[hr.format]*hr.width*hr.height)),Qt},Qt._reglType="renderbuffer",Qt._renderbuffer=hr,vr.profile&&(Qt.stats=hr.stats),Qt.destroy=function(){hr.decRef()},Qt},clear:function(){be(Dt).forEach(ht)},restore:function(){be(Dt).forEach(function(Vt){Vt.renderbuffer=yt.createRenderbuffer(),yt.bindRenderbuffer(36161,Vt.renderbuffer),yt.renderbufferStorage(36161,Vt.format,Vt.width,Vt.height)}),yt.bindRenderbuffer(36161,null)}}},He=[];He[6408]=4,He[6407]=3;var qe=[];qe[5121]=1,qe[5126]=4,qe[36193]=2;var rt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],pt=["x","y","z","w"],At="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),jt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},tr={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Ct={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Nt={cw:2304,ccw:2305},Kt=new $(!1,!1,!1,function(){}),wr=function(yt,$t){function er(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function mr(Dt,Vt,Ut){var Qt=ht.pop()||new er;Qt.startQueryIndex=Dt,Qt.endQueryIndex=Vt,Qt.sum=0,Qt.stats=Ut,Tt.push(Qt)}if(!$t.ext_disjoint_timer_query)return null;var vr=[],bt=[],ht=[],Tt=[],Pt=[],zt=[];return{beginQuery:function(Dt){var Vt=vr.pop()||$t.ext_disjoint_timer_query.createQueryEXT();$t.ext_disjoint_timer_query.beginQueryEXT(35007,Vt),bt.push(Vt),mr(bt.length-1,bt.length,Dt)},endQuery:function(){$t.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:mr,update:function(){var Dt,Vt;if(Dt=bt.length,Dt!==0){zt.length=Math.max(zt.length,Dt+1),Pt.length=Math.max(Pt.length,Dt+1),Pt[0]=0;var Ut=zt[0]=0;for(Vt=Dt=0;Vt<bt.length;++Vt){var Qt=bt[Vt];$t.ext_disjoint_timer_query.getQueryObjectEXT(Qt,34919)?(Ut+=$t.ext_disjoint_timer_query.getQueryObjectEXT(Qt,34918),vr.push(Qt)):bt[Dt++]=Qt,Pt[Vt+1]=Ut,zt[Vt+1]=Dt}for(bt.length=Dt,Vt=Dt=0;Vt<Tt.length;++Vt){var Ut=Tt[Vt],hr=Ut.startQueryIndex,Qt=Ut.endQueryIndex;Ut.sum+=Pt[Qt]-Pt[hr],hr=zt[hr],Qt=zt[Qt],Qt===hr?(Ut.stats.gpuTime+=Ut.sum/1e6,ht.push(Ut)):(Ut.startQueryIndex=hr,Ut.endQueryIndex=Qt,Tt[Dt++]=Ut)}Tt.length=Dt}},getNumPendingQueries:function(){return bt.length},clear:function(){vr.push.apply(vr,bt);for(var Dt=0;Dt<vr.length;Dt++)$t.ext_disjoint_timer_query.deleteQueryEXT(vr[Dt]);bt.length=0,vr.length=0},restore:function(){bt.length=0,vr.length=0}}};return function(yt){function $t(){if(bn.length===0)Ot&&Ot.update(),Hr=null;else{Hr=Ce.next($t),Dt();for(var cn=bn.length-1;0<=cn;--cn){var hn=bn[cn];hn&&hn(rr,null,0)}Qt.flush(),Ot&&Ot.update()}}function er(){!Hr&&0<bn.length&&(Hr=Ce.next($t))}function mr(){Hr&&(Ce.cancel($t),Hr=null)}function vr(cn){cn.preventDefault(),mr(),Lr.forEach(function(hn){hn()})}function bt(cn){Qt.getError(),cr.restore(),xr.restore(),Ht.restore(),dr.restore(),Wr.restore(),Br.restore(),br.restore(),Ot&&Ot.restore(),Ur.procs.refresh(),er(),Pr.forEach(function(hn){hn()})}function ht(cn){function hn(mn,Gn){var Mn={},Ln={};return Object.keys(mn).forEach(function(Hn){var ra=mn[Hn];if(me.isDynamic(ra))Ln[Hn]=me.unbox(ra,Hn);else{if(Gn&&Array.isArray(ra)){for(var ba=0;ba<ra.length;++ba)if(me.isDynamic(ra[ba])){Ln[Hn]=me.unbox(ra,Hn);return}}Mn[Hn]=ra}}),{dynamic:Ln,static:Mn}}function Pn(mn){for(;nn.length<mn;)nn.push(null);return nn}var kn=hn(cn.context||{},!0),sa=hn(cn.uniforms||{},!0),Xn=hn(cn.attributes||{},!1);cn=hn(function(mn){function Gn(Ln){if(Ln in Mn){var Hn=Mn[Ln];delete Mn[Ln],Object.keys(Hn).forEach(function(ra){Mn[Ln+"."+ra]=Hn[ra]})}}var Mn=oe({},mn);return delete Mn.uniforms,delete Mn.attributes,delete Mn.context,delete Mn.vao,"stencil"in Mn&&Mn.stencil.op&&(Mn.stencil.opBack=Mn.stencil.opFront=Mn.stencil.op,delete Mn.stencil.op),Gn("blend"),Gn("depth"),Gn("cull"),Gn("stencil"),Gn("polygonOffset"),Gn("scissor"),Gn("sample"),"vao"in mn&&(Mn.vao=mn.vao),Mn}(cn),!1);var ea={gpuTime:0,cpuTime:0,count:0},Zn=Ur.compile(cn,Xn,sa,kn,ea),Qn=Zn.draw,Mr=Zn.batch,on=Zn.scope,nn=[];return oe(function(mn,Gn){var Mn;if(typeof mn=="function")return on.call(this,null,mn,0);if(typeof Gn=="function")if(typeof mn=="number")for(Mn=0;Mn<mn;++Mn)on.call(this,null,Gn,Mn);else if(Array.isArray(mn))for(Mn=0;Mn<mn.length;++Mn)on.call(this,mn[Mn],Gn,Mn);else return on.call(this,mn,Gn,0);else if(typeof mn=="number"){if(0<mn)return Mr.call(this,Pn(mn|0),mn|0)}else if(Array.isArray(mn)){if(mn.length)return Mr.call(this,mn,mn.length)}else return Qn.call(this,mn)},{stats:ea,destroy:function(){Zn.destroy()}})}function Tt(cn,hn){var Pn=0;Ur.procs.poll();var kn=hn.color;kn&&(Qt.clearColor(+kn[0]||0,+kn[1]||0,+kn[2]||0,+kn[3]||0),Pn|=16384),"depth"in hn&&(Qt.clearDepth(+hn.depth),Pn|=256),"stencil"in hn&&(Qt.clearStencil(hn.stencil|0),Pn|=1024),Qt.clear(Pn)}function Pt(cn){return bn.push(cn),er(),{cancel:function(){function hn(){var kn=le(bn,hn);bn[kn]=bn[bn.length-1],--bn.length,0>=bn.length&&mr()}var Pn=le(bn,cn);bn[Pn]=hn}}}function zt(){var cn=rn.viewport,hn=rn.scissor_box;cn[0]=cn[1]=hn[0]=hn[1]=0,rr.viewportWidth=rr.framebufferWidth=rr.drawingBufferWidth=cn[2]=hn[2]=Qt.drawingBufferWidth,rr.viewportHeight=rr.framebufferHeight=rr.drawingBufferHeight=cn[3]=hn[3]=Qt.drawingBufferHeight}function Dt(){rr.tick+=1,rr.time=Ut(),zt(),Ur.procs.poll()}function Vt(){dr.refresh(),zt(),Ur.procs.refresh(),Ot&&Ot.update()}function Ut(){return(Ae()-Lt)/1e3}if(yt=t(yt),!yt)return null;var Qt=yt.gl,hr=Qt.getContextAttributes();Qt.isContextLost();var cr=r(Qt,yt);if(!cr)return null;var yn=a(),lr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Xe=yt.cachedCode||{},Ke=cr.extensions,Ot=wr(Qt,Ke),Lt=Ae(),ur=Qt.drawingBufferWidth,Xt=Qt.drawingBufferHeight,rr={tick:0,time:0,viewportWidth:ur,viewportHeight:Xt,framebufferWidth:ur,framebufferHeight:Xt,drawingBufferWidth:ur,drawingBufferHeight:Xt,pixelRatio:yt.pixelRatio},ur={elements:null,primitive:4,count:-1,offset:0,instances:-1},or=Ve(Qt,Ke),Ht=l(Qt,lr,yt,function(cn){return br.destroyBuffer(cn)}),gr=d(Qt,Ke,Ht,lr),br=z(Qt,Ke,or,lr,Ht,gr,ur),xr=N(Qt,yn,lr,yt),dr=F(Qt,Ke,or,function(){Ur.procs.poll()},rr,lr,yt),Wr=Me(Qt,Ke,or,lr,yt),Br=I(Qt,Ke,or,dr,Wr,lr),Ur=q(Qt,yn,Ke,or,Ht,gr,dr,Br,{},br,xr,ur,rr,Ot,Xe,yt),yn=B(Qt,Br,Ur.procs.poll,rr),rn=Ur.next,Un=Qt.canvas,bn=[],Lr=[],Pr=[],Yr=[yt.onDestroy],Hr=null;Un&&(Un.addEventListener("webglcontextlost",vr,!1),Un.addEventListener("webglcontextrestored",bt,!1));var en=Br.setFBO=ht({framebuffer:me.define.call(null,1,"framebuffer")});return Vt(),hr=oe(ht,{clear:function(cn){if("framebuffer"in cn)if(cn.framebuffer&&cn.framebuffer_reglType==="framebufferCube")for(var hn=0;6>hn;++hn)en(oe({framebuffer:cn.framebuffer.faces[hn]},cn),Tt);else en(cn,Tt);else Tt(null,cn)},prop:me.define.bind(null,1),context:me.define.bind(null,2),this:me.define.bind(null,3),draw:ht({}),buffer:function(cn){return Ht.create(cn,34962,!1,!1)},elements:function(cn){return gr.create(cn,!1)},texture:dr.create2D,cube:dr.createCube,renderbuffer:Wr.create,framebuffer:Br.create,framebufferCube:Br.createCube,vao:br.createVAO,attributes:hr,frame:Pt,on:function(cn,hn){var Pn;switch(cn){case"frame":return Pt(hn);case"lost":Pn=Lr;break;case"restore":Pn=Pr;break;case"destroy":Pn=Yr}return Pn.push(hn),{cancel:function(){for(var kn=0;kn<Pn.length;++kn)if(Pn[kn]===hn){Pn[kn]=Pn[Pn.length-1],Pn.pop();break}}}},limits:or,hasExtension:function(cn){return 0<=or.extensions.indexOf(cn.toLowerCase())},read:yn,destroy:function(){bn.length=0,mr(),Un&&(Un.removeEventListener("webglcontextlost",vr),Un.removeEventListener("webglcontextrestored",bt)),xr.clear(),Br.clear(),Wr.clear(),br.clear(),dr.clear(),gr.clear(),Ht.clear(),Ot&&Ot.clear(),Yr.forEach(function(cn){cn()})},_gl:Qt,_refresh:Vt,poll:function(){Dt(),Ot&&Ot.update()},now:Ut,stats:lr,getCachedCode:function(){return Xe},preloadCachedCode:function(cn){Object.entries(cn).forEach(function(hn){Xe[hn[0]]=hn[1]})}}),yt.onDone(null,hr),hr}})},71665:function(G,V,e){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var g=e(12856),_=g.Buffer;function a(A,v){for(var p in A)v[p]=A[p]}_.from&&_.alloc&&_.allocUnsafe&&_.allocUnsafeSlow?G.exports=g:(a(g,V),V.Buffer=C);function C(A,v,p){return _(A,v,p)}C.prototype=Object.create(_.prototype),a(_,C),C.from=function(A,v,p){if(typeof A=="number")throw new TypeError("Argument must not be a number");return _(A,v,p)},C.alloc=function(A,v,p){if(typeof A!="number")throw new TypeError("Argument must be a number");var t=_(A);return v!==void 0?typeof p=="string"?t.fill(v,p):t.fill(v):t.fill(0),t},C.allocUnsafe=function(A){if(typeof A!="number")throw new TypeError("Argument must be a number");return _(A)},C.allocUnsafeSlow=function(A){if(typeof A!="number")throw new TypeError("Argument must be a number");return g.SlowBuffer(A)}},21630:function(G,V,e){G.exports=a;var g=e(15398).EventEmitter,_=e(42018);_(a,g),a.Readable=e(40410),a.Writable=e(37493),a.Duplex=e(37865),a.Transform=e(74308),a.PassThrough=e(66897),a.finished=e(12726),a.pipeline=e(10168),a.Stream=a;function a(){g.call(this)}a.prototype.pipe=function(C,A){var v=this;function p(u){C.writable&&C.write(u)===!1&&v.pause&&v.pause()}v.on("data",p);function t(){v.readable&&v.resume&&v.resume()}C.on("drain",t),!C._isStdio&&(!A||A.end!==!1)&&(v.on("end",s),v.on("close",n));var r=!1;function s(){r||(r=!0,C.end())}function n(){r||(r=!0,typeof C.destroy=="function"&&C.destroy())}function i(u){if(f(),g.listenerCount(this,"error")===0)throw u}v.on("error",i),C.on("error",i);function f(){v.removeListener("data",p),C.removeListener("drain",t),v.removeListener("end",s),v.removeListener("close",n),v.removeListener("error",i),C.removeListener("error",i),v.removeListener("end",f),v.removeListener("close",f),C.removeListener("close",f)}return v.on("end",f),v.on("close",f),C.on("close",f),C.emit("pipe",v),C}},74322:function(G){function V(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}var e={};function g(v,p,t){t||(t=Error);function r(n,i,f){return typeof p=="string"?p:p(n,i,f)}var s=function(n){V(i,n);function i(f,u,y){return n.call(this,r(f,u,y))||this}return i}(t);s.prototype.name=t.name,s.prototype.code=v,e[v]=s}function _(v,p){if(Array.isArray(v)){var t=v.length;return v=v.map(function(r){return String(r)}),t>2?"one of ".concat(p," ").concat(v.slice(0,t-1).join(", "),", or ")+v[t-1]:t===2?"one of ".concat(p," ").concat(v[0]," or ").concat(v[1]):"of ".concat(p," ").concat(v[0])}else return"of ".concat(p," ").concat(String(v))}function a(v,p,t){return v.substr(!t||t<0?0:+t,p.length)===p}function C(v,p,t){return(t===void 0||t>v.length)&&(t=v.length),v.substring(t-p.length,t)===p}function A(v,p,t){return typeof t!="number"&&(t=0),t+p.length>v.length?!1:v.indexOf(p,t)!==-1}g("ERR_INVALID_OPT_VALUE",function(v,p){return'The value "'+p+'" is invalid for option "'+v+'"'},TypeError),g("ERR_INVALID_ARG_TYPE",function(v,p,t){var r;typeof p=="string"&&a(p,"not ")?(r="must not be",p=p.replace(/^not /,"")):r="must be";var s;if(C(v," argument"))s="The ".concat(v," ").concat(r," ").concat(_(p,"type"));else{var n=A(v,".")?"property":"argument";s='The "'.concat(v,'" ').concat(n," ").concat(r," ").concat(_(p,"type"))}return s+=". Received type ".concat(typeof t),s},TypeError),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),g("ERR_METHOD_NOT_IMPLEMENTED",function(v){return"The "+v+" method is not implemented"}),g("ERR_STREAM_PREMATURE_CLOSE","Premature close"),g("ERR_STREAM_DESTROYED",function(v){return"Cannot call "+v+" after a stream was destroyed"}),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),g("ERR_STREAM_WRITE_AFTER_END","write after end"),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_UNKNOWN_ENCODING",function(v){return"Unknown encoding: "+v},TypeError),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),G.exports.q=e},37865:function(G,V,e){var g=e(90386),_=Object.keys||function(n){var i=[];for(var f in n)i.push(f);return i};G.exports=t;var a=e(40410),C=e(37493);e(42018)(t,a);for(var A=_(C.prototype),v=0;v<A.length;v++){var p=A[v];t.prototype[p]||(t.prototype[p]=C.prototype[p])}function t(n){if(!(this instanceof t))return new t(n);a.call(this,n),C.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",r)))}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function r(){this._writableState.ended||g.nextTick(s,this)}function s(n){n.end()}Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(i){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=i,this._writableState.destroyed=i)}})},66897:function(G,V,e){G.exports=_;var g=e(74308);e(42018)(_,g);function _(a){if(!(this instanceof _))return new _(a);g.call(this,a)}_.prototype._transform=function(a,C,A){A(null,a)}},40410:function(G,V,e){var g=e(90386);G.exports=o;var _;o.ReadableState=w,e(15398).EventEmitter;var a=function(q,le){return q.listeners(le).length},C=e(71405),A=e(12856).Buffer,v=e.g.Uint8Array||function(){};function p(ee){return A.from(ee)}function t(ee){return A.isBuffer(ee)||ee instanceof v}var r=e(40964),s;r&&r.debuglog?s=r.debuglog("stream"):s=function(){};var n=e(31125),i=e(65756),f=e(56306),u=f.getHighWaterMark,y=e(74322).q,c=y.ERR_INVALID_ARG_TYPE,T=y.ERR_STREAM_PUSH_AFTER_EOF,h=y.ERR_METHOD_NOT_IMPLEMENTED,l=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,d,E,S;e(42018)(o,C);var P=i.errorOrDestroy,x=["error","close","destroy","pause","resume"];function M(ee,q,le){if(typeof ee.prependListener=="function")return ee.prependListener(q,le);!ee._events||!ee._events[q]?ee.on(q,le):Array.isArray(ee._events[q])?ee._events[q].unshift(le):ee._events[q]=[le,ee._events[q]]}function w(ee,q,le){_=_||e(37865),ee=ee||{},typeof le!="boolean"&&(le=q instanceof _),this.objectMode=!!ee.objectMode,le&&(this.objectMode=this.objectMode||!!ee.readableObjectMode),this.highWaterMark=u(this,ee,"readableHighWaterMark",le),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=ee.emitClose!==!1,this.autoDestroy=!!ee.autoDestroy,this.destroyed=!1,this.defaultEncoding=ee.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ee.encoding&&(d||(d=e(68019).s),this.decoder=new d(ee.encoding),this.encoding=ee.encoding)}function o(ee){if(_=_||e(37865),!(this instanceof o))return new o(ee);var q=this instanceof _;this._readableState=new w(ee,this,q),this.readable=!0,ee&&(typeof ee.read=="function"&&(this._read=ee.read),typeof ee.destroy=="function"&&(this._destroy=ee.destroy)),C.call(this)}Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(q){this._readableState&&(this._readableState.destroyed=q)}}),o.prototype.destroy=i.destroy,o.prototype._undestroy=i.undestroy,o.prototype._destroy=function(ee,q){q(ee)},o.prototype.push=function(ee,q){var le=this._readableState,oe;return le.objectMode?oe=!0:typeof ee=="string"&&(q=q||le.defaultEncoding,q!==le.encoding&&(ee=A.from(ee,q),q=""),oe=!0),L(this,ee,q,!1,oe)},o.prototype.unshift=function(ee){return L(this,ee,null,!0,!1)};function L(ee,q,le,oe,he){s("readableAddChunk",q);var me=ee._readableState;if(q===null)me.reading=!1,N(ee,me);else{var Ce;if(he||(Ce=F(me,q)),Ce)P(ee,Ce);else if(me.objectMode||q&&q.length>0)if(typeof q!="string"&&!me.objectMode&&Object.getPrototypeOf(q)!==A.prototype&&(q=p(q)),oe)me.endEmitted?P(ee,new l):m(ee,me,q,!0);else if(me.ended)P(ee,new T);else{if(me.destroyed)return!1;me.reading=!1,me.decoder&&!le?(q=me.decoder.write(q),me.objectMode||q.length!==0?m(ee,me,q,!1):H(ee,me)):m(ee,me,q,!1)}else oe||(me.reading=!1,H(ee,me))}return!me.ended&&(me.length<me.highWaterMark||me.length===0)}function m(ee,q,le,oe){q.flowing&&q.length===0&&!q.sync?(q.awaitDrain=0,ee.emit("data",le)):(q.length+=q.objectMode?1:le.length,oe?q.buffer.unshift(le):q.buffer.push(le),q.needReadable&&B(ee)),H(ee,q)}function F(ee,q){var le;return!t(q)&&typeof q!="string"&&q!==void 0&&!ee.objectMode&&(le=new c("chunk",["string","Buffer","Uint8Array"],q)),le}o.prototype.isPaused=function(){return this._readableState.flowing===!1},o.prototype.setEncoding=function(ee){d||(d=e(68019).s);var q=new d(ee);this._readableState.decoder=q,this._readableState.encoding=this._readableState.decoder.encoding;for(var le=this._readableState.buffer.head,oe="";le!==null;)oe+=q.write(le.data),le=le.next;return this._readableState.buffer.clear(),oe!==""&&this._readableState.buffer.push(oe),this._readableState.length=oe.length,this};var I=1073741824;function U(ee){return ee>=I?ee=I:(ee--,ee|=ee>>>1,ee|=ee>>>2,ee|=ee>>>4,ee|=ee>>>8,ee|=ee>>>16,ee++),ee}function z(ee,q){return ee<=0||q.length===0&&q.ended?0:q.objectMode?1:ee!==ee?q.flowing&&q.length?q.buffer.head.data.length:q.length:(ee>q.highWaterMark&&(q.highWaterMark=U(ee)),ee<=q.length?ee:q.ended?q.length:(q.needReadable=!0,0))}o.prototype.read=function(ee){s("read",ee),ee=parseInt(ee,10);var q=this._readableState,le=ee;if(ee!==0&&(q.emittedReadable=!1),ee===0&&q.needReadable&&((q.highWaterMark!==0?q.length>=q.highWaterMark:q.length>0)||q.ended))return s("read: emitReadable",q.length,q.ended),q.length===0&&q.ended?$(this):B(this),null;if(ee=z(ee,q),ee===0&&q.ended)return q.length===0&&$(this),null;var oe=q.needReadable;s("need readable",oe),(q.length===0||q.length-ee<q.highWaterMark)&&(oe=!0,s("length less than watermark",oe)),q.ended||q.reading?(oe=!1,s("reading or ended",oe)):oe&&(s("do read"),q.reading=!0,q.sync=!0,q.length===0&&(q.needReadable=!0),this._read(q.highWaterMark),q.sync=!1,q.reading||(ee=z(le,q)));var he;return ee>0?he=Z(ee,q):he=null,he===null?(q.needReadable=q.length<=q.highWaterMark,ee=0):(q.length-=ee,q.awaitDrain=0),q.length===0&&(q.ended||(q.needReadable=!0),le!==ee&&q.ended&&$(this)),he!==null&&this.emit("data",he),he};function N(ee,q){if(s("onEofChunk"),!q.ended){if(q.decoder){var le=q.decoder.end();le&&le.length&&(q.buffer.push(le),q.length+=q.objectMode?1:le.length)}q.ended=!0,q.sync?B(ee):(q.needReadable=!1,q.emittedReadable||(q.emittedReadable=!0,O(ee)))}}function B(ee){var q=ee._readableState;s("emitReadable",q.needReadable,q.emittedReadable),q.needReadable=!1,q.emittedReadable||(s("emitReadable",q.flowing),q.emittedReadable=!0,g.nextTick(O,ee))}function O(ee){var q=ee._readableState;s("emitReadable_",q.destroyed,q.length,q.ended),!q.destroyed&&(q.length||q.ended)&&(ee.emit("readable"),q.emittedReadable=!1),q.needReadable=!q.flowing&&!q.ended&&q.length<=q.highWaterMark,j(ee)}function H(ee,q){q.readingMore||(q.readingMore=!0,g.nextTick(Y,ee,q))}function Y(ee,q){for(;!q.reading&&!q.ended&&(q.length<q.highWaterMark||q.flowing&&q.length===0);){var le=q.length;if(s("maybeReadMore read 0"),ee.read(0),le===q.length)break}q.readingMore=!1}o.prototype._read=function(ee){P(this,new h("_read()"))},o.prototype.pipe=function(ee,q){var le=this,oe=this._readableState;switch(oe.pipesCount){case 0:oe.pipes=ee;break;case 1:oe.pipes=[oe.pipes,ee];break;default:oe.pipes.push(ee);break}oe.pipesCount+=1,s("pipe count=%d opts=%j",oe.pipesCount,q);var he=(!q||q.end!==!1)&&ee!==g.stdout&&ee!==g.stderr,me=he?Ae:Fe;oe.endEmitted?g.nextTick(me):le.once("end",me),ee.on("unpipe",Ce);function Ce(Ze,ut){s("onunpipe"),Ze===le&&ut&&ut.hasUnpiped===!1&&(ut.hasUnpiped=!0,Pe())}function Ae(){s("onend"),ee.end()}var Ue=J(le);ee.on("drain",Ue);var Ve=!1;function Pe(){s("cleanup"),ee.removeListener("close",We),ee.removeListener("finish",je),ee.removeListener("drain",Ue),ee.removeListener("error",Le),ee.removeListener("unpipe",Ce),le.removeListener("end",Ae),le.removeListener("end",Fe),le.removeListener("data",be),Ve=!0,oe.awaitDrain&&(!ee._writableState||ee._writableState.needDrain)&&Ue()}le.on("data",be);function be(Ze){s("ondata");var ut=ee.write(Ze);s("dest.write",ut),ut===!1&&((oe.pipesCount===1&&oe.pipes===ee||oe.pipesCount>1&&se(oe.pipes,ee)!==-1)&&!Ve&&(s("false write response, pause",oe.awaitDrain),oe.awaitDrain++),le.pause())}function Le(Ze){s("onerror",Ze),Fe(),ee.removeListener("error",Le),a(ee,"error")===0&&P(ee,Ze)}M(ee,"error",Le);function We(){ee.removeListener("finish",je),Fe()}ee.once("close",We);function je(){s("onfinish"),ee.removeListener("close",We),Fe()}ee.once("finish",je);function Fe(){s("unpipe"),le.unpipe(ee)}return ee.emit("pipe",le),oe.flowing||(s("pipe resume"),le.resume()),ee};function J(ee){return function(){var le=ee._readableState;s("pipeOnDrain",le.awaitDrain),le.awaitDrain&&le.awaitDrain--,le.awaitDrain===0&&a(ee,"data")&&(le.flowing=!0,j(ee))}}o.prototype.unpipe=function(ee){var q=this._readableState,le={hasUnpiped:!1};if(q.pipesCount===0)return this;if(q.pipesCount===1)return ee&&ee!==q.pipes?this:(ee||(ee=q.pipes),q.pipes=null,q.pipesCount=0,q.flowing=!1,ee&&ee.emit("unpipe",this,le),this);if(!ee){var oe=q.pipes,he=q.pipesCount;q.pipes=null,q.pipesCount=0,q.flowing=!1;for(var me=0;me<he;me++)oe[me].emit("unpipe",this,{hasUnpiped:!1});return this}var Ce=se(q.pipes,ee);return Ce===-1?this:(q.pipes.splice(Ce,1),q.pipesCount-=1,q.pipesCount===1&&(q.pipes=q.pipes[0]),ee.emit("unpipe",this,le),this)},o.prototype.on=function(ee,q){var le=C.prototype.on.call(this,ee,q),oe=this._readableState;return ee==="data"?(oe.readableListening=this.listenerCount("readable")>0,oe.flowing!==!1&&this.resume()):ee==="readable"&&!oe.endEmitted&&!oe.readableListening&&(oe.readableListening=oe.needReadable=!0,oe.flowing=!1,oe.emittedReadable=!1,s("on readable",oe.length,oe.reading),oe.length?B(this):oe.reading||g.nextTick(ie,this)),le},o.prototype.addListener=o.prototype.on,o.prototype.removeListener=function(ee,q){var le=C.prototype.removeListener.call(this,ee,q);return ee==="readable"&&g.nextTick(re,this),le},o.prototype.removeAllListeners=function(ee){var q=C.prototype.removeAllListeners.apply(this,arguments);return(ee==="readable"||ee===void 0)&&g.nextTick(re,this),q};function re(ee){var q=ee._readableState;q.readableListening=ee.listenerCount("readable")>0,q.resumeScheduled&&!q.paused?q.flowing=!0:ee.listenerCount("data")>0&&ee.resume()}function ie(ee){s("readable nexttick read 0"),ee.read(0)}o.prototype.resume=function(){var ee=this._readableState;return ee.flowing||(s("resume"),ee.flowing=!ee.readableListening,ce(this,ee)),ee.paused=!1,this};function ce(ee,q){q.resumeScheduled||(q.resumeScheduled=!0,g.nextTick(Q,ee,q))}function Q(ee,q){s("resume",q.reading),q.reading||ee.read(0),q.resumeScheduled=!1,ee.emit("resume"),j(ee),q.flowing&&!q.reading&&ee.read(0)}o.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function j(ee){var q=ee._readableState;for(s("flow",q.flowing);q.flowing&&ee.read()!==null;);}o.prototype.wrap=function(ee){var q=this,le=this._readableState,oe=!1;ee.on("end",function(){if(s("wrapped end"),le.decoder&&!le.ended){var Ce=le.decoder.end();Ce&&Ce.length&&q.push(Ce)}q.push(null)}),ee.on("data",function(Ce){if(s("wrapped data"),le.decoder&&(Ce=le.decoder.write(Ce)),!(le.objectMode&&Ce==null)&&!(!le.objectMode&&(!Ce||!Ce.length))){var Ae=q.push(Ce);Ae||(oe=!0,ee.pause())}});for(var he in ee)this[he]===void 0&&typeof ee[he]=="function"&&(this[he]=function(Ae){return function(){return ee[Ae].apply(ee,arguments)}}(he));for(var me=0;me<x.length;me++)ee.on(x[me],this.emit.bind(this,x[me]));return this._read=function(Ce){s("wrapped _read",Ce),oe&&(oe=!1,ee.resume())},this},typeof Symbol=="function"&&(o.prototype[Symbol.asyncIterator]=function(){return E===void 0&&(E=e(68221)),E(this)}),Object.defineProperty(o.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(o.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(o.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(q){this._readableState&&(this._readableState.flowing=q)}}),o._fromList=Z,Object.defineProperty(o.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Z(ee,q){if(q.length===0)return null;var le;return q.objectMode?le=q.buffer.shift():!ee||ee>=q.length?(q.decoder?le=q.buffer.join(""):q.buffer.length===1?le=q.buffer.first():le=q.buffer.concat(q.length),q.buffer.clear()):le=q.buffer.consume(ee,q.decoder),le}function $(ee){var q=ee._readableState;s("endReadable",q.endEmitted),q.endEmitted||(q.ended=!0,g.nextTick(te,q,ee))}function te(ee,q){if(s("endReadableNT",ee.endEmitted,ee.length),!ee.endEmitted&&ee.length===0&&(ee.endEmitted=!0,q.readable=!1,q.emit("end"),ee.autoDestroy)){var le=q._writableState;(!le||le.autoDestroy&&le.finished)&&q.destroy()}}typeof Symbol=="function"&&(o.from=function(ee,q){return S===void 0&&(S=e(31748)),S(o,ee,q)});function se(ee,q){for(var le=0,oe=ee.length;le<oe;le++)if(ee[le]===q)return le;return-1}},74308:function(G,V,e){G.exports=t;var g=e(74322).q,_=g.ERR_METHOD_NOT_IMPLEMENTED,a=g.ERR_MULTIPLE_CALLBACK,C=g.ERR_TRANSFORM_ALREADY_TRANSFORMING,A=g.ERR_TRANSFORM_WITH_LENGTH_0,v=e(37865);e(42018)(t,v);function p(n,i){var f=this._transformState;f.transforming=!1;var u=f.writecb;if(u===null)return this.emit("error",new a);f.writechunk=null,f.writecb=null,i!=null&&this.push(i),u(n);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function t(n){if(!(this instanceof t))return new t(n);v.call(this,n),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",r)}function r(){var n=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(i,f){s(n,i,f)}):s(this,null,null)}t.prototype.push=function(n,i){return this._transformState.needTransform=!1,v.prototype.push.call(this,n,i)},t.prototype._transform=function(n,i,f){f(new _("_transform()"))},t.prototype._write=function(n,i,f){var u=this._transformState;if(u.writecb=f,u.writechunk=n,u.writeencoding=i,!u.transforming){var y=this._readableState;(u.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},t.prototype._read=function(n){var i=this._transformState;i.writechunk!==null&&!i.transforming?(i.transforming=!0,this._transform(i.writechunk,i.writeencoding,i.afterTransform)):i.needTransform=!0},t.prototype._destroy=function(n,i){v.prototype._destroy.call(this,n,function(f){i(f)})};function s(n,i,f){if(i)return n.emit("error",i);if(f!=null&&n.push(f),n._writableState.length)throw new A;if(n._transformState.transforming)throw new C;return n.push(null)}},37493:function(G,V,e){var g=e(90386);G.exports=w;function _(j){var Z=this;this.next=null,this.entry=null,this.finish=function(){Q(Z,j)}}var a;w.WritableState=x;var C={deprecate:e(20588)},A=e(71405),v=e(12856).Buffer,p=e.g.Uint8Array||function(){};function t(j){return v.from(j)}function r(j){return v.isBuffer(j)||j instanceof p}var s=e(65756),n=e(56306),i=n.getHighWaterMark,f=e(74322).q,u=f.ERR_INVALID_ARG_TYPE,y=f.ERR_METHOD_NOT_IMPLEMENTED,c=f.ERR_MULTIPLE_CALLBACK,T=f.ERR_STREAM_CANNOT_PIPE,h=f.ERR_STREAM_DESTROYED,l=f.ERR_STREAM_NULL_VALUES,d=f.ERR_STREAM_WRITE_AFTER_END,E=f.ERR_UNKNOWN_ENCODING,S=s.errorOrDestroy;e(42018)(w,A);function P(){}function x(j,Z,$){a=a||e(37865),j=j||{},typeof $!="boolean"&&($=Z instanceof a),this.objectMode=!!j.objectMode,$&&(this.objectMode=this.objectMode||!!j.writableObjectMode),this.highWaterMark=i(this,j,"writableHighWaterMark",$),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=j.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=j.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(se){N(Z,se)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=j.emitClose!==!1,this.autoDestroy=!!j.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new _(this)}x.prototype.getBuffer=function(){for(var Z=this.bufferedRequest,$=[];Z;)$.push(Z),Z=Z.next;return $},function(){try{Object.defineProperty(x.prototype,"buffer",{get:C.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var M;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(M=Function.prototype[Symbol.hasInstance],Object.defineProperty(w,Symbol.hasInstance,{value:function(Z){return M.call(this,Z)?!0:this!==w?!1:Z&&Z._writableState instanceof x}})):M=function(Z){return Z instanceof this};function w(j){a=a||e(37865);var Z=this instanceof a;if(!Z&&!M.call(w,this))return new w(j);this._writableState=new x(j,this,Z),this.writable=!0,j&&(typeof j.write=="function"&&(this._write=j.write),typeof j.writev=="function"&&(this._writev=j.writev),typeof j.destroy=="function"&&(this._destroy=j.destroy),typeof j.final=="function"&&(this._final=j.final)),A.call(this)}w.prototype.pipe=function(){S(this,new T)};function o(j,Z){var $=new d;S(j,$),g.nextTick(Z,$)}function L(j,Z,$,te){var se;return $===null?se=new l:typeof $!="string"&&!Z.objectMode&&(se=new u("chunk",["string","Buffer"],$)),se?(S(j,se),g.nextTick(te,se),!1):!0}w.prototype.write=function(j,Z,$){var te=this._writableState,se=!1,ee=!te.objectMode&&r(j);return ee&&!v.isBuffer(j)&&(j=t(j)),typeof Z=="function"&&($=Z,Z=null),ee?Z="buffer":Z||(Z=te.defaultEncoding),typeof $!="function"&&($=P),te.ending?o(this,$):(ee||L(this,te,j,$))&&(te.pendingcb++,se=F(this,te,ee,j,Z,$)),se},w.prototype.cork=function(){this._writableState.corked++},w.prototype.uncork=function(){var j=this._writableState;j.corked&&(j.corked--,!j.writing&&!j.corked&&!j.bufferProcessing&&j.bufferedRequest&&H(this,j))},w.prototype.setDefaultEncoding=function(Z){if(typeof Z=="string"&&(Z=Z.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Z+"").toLowerCase())>-1))throw new E(Z);return this._writableState.defaultEncoding=Z,this},Object.defineProperty(w.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function m(j,Z,$){return!j.objectMode&&j.decodeStrings!==!1&&typeof Z=="string"&&(Z=v.from(Z,$)),Z}Object.defineProperty(w.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function F(j,Z,$,te,se,ee){if(!$){var q=m(Z,te,se);te!==q&&($=!0,se="buffer",te=q)}var le=Z.objectMode?1:te.length;Z.length+=le;var oe=Z.length<Z.highWaterMark;if(oe||(Z.needDrain=!0),Z.writing||Z.corked){var he=Z.lastBufferedRequest;Z.lastBufferedRequest={chunk:te,encoding:se,isBuf:$,callback:ee,next:null},he?he.next=Z.lastBufferedRequest:Z.bufferedRequest=Z.lastBufferedRequest,Z.bufferedRequestCount+=1}else I(j,Z,!1,le,te,se,ee);return oe}function I(j,Z,$,te,se,ee,q){Z.writelen=te,Z.writecb=q,Z.writing=!0,Z.sync=!0,Z.destroyed?Z.onwrite(new h("write")):$?j._writev(se,Z.onwrite):j._write(se,ee,Z.onwrite),Z.sync=!1}function U(j,Z,$,te,se){--Z.pendingcb,$?(g.nextTick(se,te),g.nextTick(ie,j,Z),j._writableState.errorEmitted=!0,S(j,te)):(se(te),j._writableState.errorEmitted=!0,S(j,te),ie(j,Z))}function z(j){j.writing=!1,j.writecb=null,j.length-=j.writelen,j.writelen=0}function N(j,Z){var $=j._writableState,te=$.sync,se=$.writecb;if(typeof se!="function")throw new c;if(z($),Z)U(j,$,te,Z,se);else{var ee=Y($)||j.destroyed;!ee&&!$.corked&&!$.bufferProcessing&&$.bufferedRequest&&H(j,$),te?g.nextTick(B,j,$,ee,se):B(j,$,ee,se)}}function B(j,Z,$,te){$||O(j,Z),Z.pendingcb--,te(),ie(j,Z)}function O(j,Z){Z.length===0&&Z.needDrain&&(Z.needDrain=!1,j.emit("drain"))}function H(j,Z){Z.bufferProcessing=!0;var $=Z.bufferedRequest;if(j._writev&&$&&$.next){var te=Z.bufferedRequestCount,se=new Array(te),ee=Z.corkedRequestsFree;ee.entry=$;for(var q=0,le=!0;$;)se[q]=$,$.isBuf||(le=!1),$=$.next,q+=1;se.allBuffers=le,I(j,Z,!0,Z.length,se,"",ee.finish),Z.pendingcb++,Z.lastBufferedRequest=null,ee.next?(Z.corkedRequestsFree=ee.next,ee.next=null):Z.corkedRequestsFree=new _(Z),Z.bufferedRequestCount=0}else{for(;$;){var oe=$.chunk,he=$.encoding,me=$.callback,Ce=Z.objectMode?1:oe.length;if(I(j,Z,!1,Ce,oe,he,me),$=$.next,Z.bufferedRequestCount--,Z.writing)break}$===null&&(Z.lastBufferedRequest=null)}Z.bufferedRequest=$,Z.bufferProcessing=!1}w.prototype._write=function(j,Z,$){$(new y("_write()"))},w.prototype._writev=null,w.prototype.end=function(j,Z,$){var te=this._writableState;return typeof j=="function"?($=j,j=null,Z=null):typeof Z=="function"&&($=Z,Z=null),j!=null&&this.write(j,Z),te.corked&&(te.corked=1,this.uncork()),te.ending||ce(this,te,$),this},Object.defineProperty(w.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Y(j){return j.ending&&j.length===0&&j.bufferedRequest===null&&!j.finished&&!j.writing}function J(j,Z){j._final(function($){Z.pendingcb--,$&&S(j,$),Z.prefinished=!0,j.emit("prefinish"),ie(j,Z)})}function re(j,Z){!Z.prefinished&&!Z.finalCalled&&(typeof j._final=="function"&&!Z.destroyed?(Z.pendingcb++,Z.finalCalled=!0,g.nextTick(J,j,Z)):(Z.prefinished=!0,j.emit("prefinish")))}function ie(j,Z){var $=Y(Z);if($&&(re(j,Z),Z.pendingcb===0&&(Z.finished=!0,j.emit("finish"),Z.autoDestroy))){var te=j._readableState;(!te||te.autoDestroy&&te.endEmitted)&&j.destroy()}return $}function ce(j,Z,$){Z.ending=!0,ie(j,Z),$&&(Z.finished?g.nextTick($):j.once("finish",$)),Z.ended=!0,j.writable=!1}function Q(j,Z,$){var te=j.entry;for(j.entry=null;te;){var se=te.callback;Z.pendingcb--,se($),te=te.next}Z.corkedRequestsFree.next=j}Object.defineProperty(w.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Z){this._writableState&&(this._writableState.destroyed=Z)}}),w.prototype.destroy=s.destroy,w.prototype._undestroy=s.undestroy,w.prototype._destroy=function(j,Z){Z(j)}},68221:function(G,V,e){var g=e(90386),_;function a(l,d,E){return d in l?Object.defineProperty(l,d,{value:E,enumerable:!0,configurable:!0,writable:!0}):l[d]=E,l}var C=e(12726),A=Symbol("lastResolve"),v=Symbol("lastReject"),p=Symbol("error"),t=Symbol("ended"),r=Symbol("lastPromise"),s=Symbol("handlePromise"),n=Symbol("stream");function i(l,d){return{value:l,done:d}}function f(l){var d=l[A];if(d!==null){var E=l[n].read();E!==null&&(l[r]=null,l[A]=null,l[v]=null,d(i(E,!1)))}}function u(l){g.nextTick(f,l)}function y(l,d){return function(E,S){l.then(function(){if(d[t]){E(i(void 0,!0));return}d[s](E,S)},S)}}var c=Object.getPrototypeOf(function(){}),T=Object.setPrototypeOf((_={get stream(){return this[n]},next:function(){var d=this,E=this[p];if(E!==null)return Promise.reject(E);if(this[t])return Promise.resolve(i(void 0,!0));if(this[n].destroyed)return new Promise(function(M,w){g.nextTick(function(){d[p]?w(d[p]):M(i(void 0,!0))})});var S=this[r],P;if(S)P=new Promise(y(S,this));else{var x=this[n].read();if(x!==null)return Promise.resolve(i(x,!1));P=new Promise(this[s])}return this[r]=P,P}},a(_,Symbol.asyncIterator,function(){return this}),a(_,"return",function(){var d=this;return new Promise(function(E,S){d[n].destroy(null,function(P){if(P){S(P);return}E(i(void 0,!0))})})}),_),c),h=function(d){var E,S=Object.create(T,(E={},a(E,n,{value:d,writable:!0}),a(E,A,{value:null,writable:!0}),a(E,v,{value:null,writable:!0}),a(E,p,{value:null,writable:!0}),a(E,t,{value:d._readableState.endEmitted,writable:!0}),a(E,s,{value:function(x,M){var w=S[n].read();w?(S[r]=null,S[A]=null,S[v]=null,x(i(w,!1))):(S[A]=x,S[v]=M)},writable:!0}),E));return S[r]=null,C(d,function(P){if(P&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"){var x=S[v];x!==null&&(S[r]=null,S[A]=null,S[v]=null,x(P)),S[p]=P;return}var M=S[A];M!==null&&(S[r]=null,S[A]=null,S[v]=null,M(i(void 0,!0))),S[t]=!0}),d.on("readable",u.bind(null,S)),S};G.exports=h},31125:function(G,V,e){function g(f,u){var y=Object.keys(f);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(f);u&&(c=c.filter(function(T){return Object.getOwnPropertyDescriptor(f,T).enumerable})),y.push.apply(y,c)}return y}function _(f){for(var u=1;u<arguments.length;u++){var y=arguments[u]!=null?arguments[u]:{};u%2?g(Object(y),!0).forEach(function(c){a(f,c,y[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(y)):g(Object(y)).forEach(function(c){Object.defineProperty(f,c,Object.getOwnPropertyDescriptor(y,c))})}return f}function a(f,u,y){return u in f?Object.defineProperty(f,u,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[u]=y,f}function C(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function A(f,u){for(var y=0;y<u.length;y++){var c=u[y];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function v(f,u,y){return u&&A(f.prototype,u),y&&A(f,y),f}var p=e(12856),t=p.Buffer,r=e(69862),s=r.inspect,n=s&&s.custom||"inspect";function i(f,u,y){t.prototype.copy.call(f,u,y)}G.exports=function(){function f(){C(this,f),this.head=null,this.tail=null,this.length=0}return v(f,[{key:"push",value:function(y){var c={data:y,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}},{key:"unshift",value:function(y){var c={data:y,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var c=this.head,T=""+c.data;c=c.next;)T+=y+c.data;return T}},{key:"concat",value:function(y){if(this.length===0)return t.alloc(0);for(var c=t.allocUnsafe(y>>>0),T=this.head,h=0;T;)i(T.data,c,h),h+=T.data.length,T=T.next;return c}},{key:"consume",value:function(y,c){var T;return y<this.head.data.length?(T=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):y===this.head.data.length?T=this.shift():T=c?this._getString(y):this._getBuffer(y),T}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var c=this.head,T=1,h=c.data;for(y-=h.length;c=c.next;){var l=c.data,d=y>l.length?l.length:y;if(d===l.length?h+=l:h+=l.slice(0,y),y-=d,y===0){d===l.length?(++T,c.next?this.head=c.next:this.head=this.tail=null):(this.head=c,c.data=l.slice(d));break}++T}return this.length-=T,h}},{key:"_getBuffer",value:function(y){var c=t.allocUnsafe(y),T=this.head,h=1;for(T.data.copy(c),y-=T.data.length;T=T.next;){var l=T.data,d=y>l.length?l.length:y;if(l.copy(c,c.length-y,0,d),y-=d,y===0){d===l.length?(++h,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=l.slice(d));break}++h}return this.length-=h,c}},{key:n,value:function(y,c){return s(this,_({},c,{depth:0,customInspect:!1}))}}]),f}()},65756:function(G,V,e){var g=e(90386);function _(t,r){var s=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(r?r(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,g.nextTick(v,this,t)):g.nextTick(v,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(f){!r&&f?s._writableState?s._writableState.errorEmitted?g.nextTick(C,s):(s._writableState.errorEmitted=!0,g.nextTick(a,s,f)):g.nextTick(a,s,f):r?(g.nextTick(C,s),r(f)):g.nextTick(C,s)}),this)}function a(t,r){v(t,r),C(t)}function C(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function A(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(t,r){t.emit("error",r)}function p(t,r){var s=t._readableState,n=t._writableState;s&&s.autoDestroy||n&&n.autoDestroy?t.destroy(r):t.emit("error",r)}G.exports={destroy:_,undestroy:A,errorOrDestroy:p}},12726:function(G,V,e){var g=e(74322).q.ERR_STREAM_PREMATURE_CLOSE;function _(v){var p=!1;return function(){if(!p){p=!0;for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];v.apply(this,r)}}}function a(){}function C(v){return v.setHeader&&typeof v.abort=="function"}function A(v,p,t){if(typeof p=="function")return A(v,null,p);p||(p={}),t=_(t||a);var r=p.readable||p.readable!==!1&&v.readable,s=p.writable||p.writable!==!1&&v.writable,n=function(){v.writable||f()},i=v._writableState&&v._writableState.finished,f=function(){s=!1,i=!0,r||t.call(v)},u=v._readableState&&v._readableState.endEmitted,y=function(){r=!1,u=!0,s||t.call(v)},c=function(d){t.call(v,d)},T=function(){var d;if(r&&!u)return(!v._readableState||!v._readableState.ended)&&(d=new g),t.call(v,d);if(s&&!i)return(!v._writableState||!v._writableState.ended)&&(d=new g),t.call(v,d)},h=function(){v.req.on("finish",f)};return C(v)?(v.on("complete",f),v.on("abort",T),v.req?h():v.on("request",h)):s&&!v._writableState&&(v.on("end",n),v.on("close",n)),v.on("end",y),v.on("finish",f),p.error!==!1&&v.on("error",c),v.on("close",T),function(){v.removeListener("complete",f),v.removeListener("abort",T),v.removeListener("request",h),v.req&&v.req.removeListener("finish",f),v.removeListener("end",n),v.removeListener("close",n),v.removeListener("finish",f),v.removeListener("end",y),v.removeListener("error",c),v.removeListener("close",T)}}G.exports=A},31748:function(G){G.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(G,V,e){var g;function _(f){var u=!1;return function(){u||(u=!0,f.apply(void 0,arguments))}}var a=e(74322).q,C=a.ERR_MISSING_ARGS,A=a.ERR_STREAM_DESTROYED;function v(f){if(f)throw f}function p(f){return f.setHeader&&typeof f.abort=="function"}function t(f,u,y,c){c=_(c);var T=!1;f.on("close",function(){T=!0}),g===void 0&&(g=e(12726)),g(f,{readable:u,writable:y},function(l){if(l)return c(l);T=!0,c()});var h=!1;return function(l){if(!T&&!h){if(h=!0,p(f))return f.abort();if(typeof f.destroy=="function")return f.destroy();c(l||new A("pipe"))}}}function r(f){f()}function s(f,u){return f.pipe(u)}function n(f){return!f.length||typeof f[f.length-1]!="function"?v:f.pop()}function i(){for(var f=arguments.length,u=new Array(f),y=0;y<f;y++)u[y]=arguments[y];var c=n(u);if(Array.isArray(u[0])&&(u=u[0]),u.length<2)throw new C("streams");var T,h=u.map(function(l,d){var E=d<u.length-1,S=d>0;return t(l,E,S,function(P){T||(T=P),P&&h.forEach(r),!E&&(h.forEach(r),c(T))})});return u.reduce(s)}G.exports=i},56306:function(G,V,e){var g=e(74322).q.ERR_INVALID_OPT_VALUE;function _(C,A,v){return C.highWaterMark!=null?C.highWaterMark:A?C[v]:null}function a(C,A,v,p){var t=_(A,p,v);if(t!=null){if(!(isFinite(t)&&Math.floor(t)===t)||t<0){var r=p?v:"highWaterMark";throw new g(r,t)}return Math.floor(t)}return C.objectMode?16:16384}G.exports={getHighWaterMark:a}},71405:function(G,V,e){G.exports=e(15398).EventEmitter},68019:function(G,V,e){var g=e(71665).Buffer,_=g.isEncoding||function(h){switch(h=""+h,h&&h.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(h){if(!h)return"utf8";for(var l;;)switch(h){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return h;default:if(l)return;h=(""+h).toLowerCase(),l=!0}}function C(h){var l=a(h);if(typeof l!="string"&&(g.isEncoding===_||!_(h)))throw new Error("Unknown encoding: "+h);return l||h}V.s=A;function A(h){this.encoding=C(h);var l;switch(this.encoding){case"utf16le":this.text=i,this.end=f,l=4;break;case"utf8":this.fillLast=r,l=4;break;case"base64":this.text=u,this.end=y,l=3;break;default:this.write=c,this.end=T;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=g.allocUnsafe(l)}A.prototype.write=function(h){if(h.length===0)return"";var l,d;if(this.lastNeed){if(l=this.fillLast(h),l===void 0)return"";d=this.lastNeed,this.lastNeed=0}else d=0;return d<h.length?l?l+this.text(h,d):this.text(h,d):l||""},A.prototype.end=n,A.prototype.text=s,A.prototype.fillLast=function(h){if(this.lastNeed<=h.length)return h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,h.length),this.lastNeed-=h.length};function v(h){return h<=127?0:h>>5===6?2:h>>4===14?3:h>>3===30?4:h>>6===2?-1:-2}function p(h,l,d){var E=l.length-1;if(E<d)return 0;var S=v(l[E]);return S>=0?(S>0&&(h.lastNeed=S-1),S):--E<d||S===-2?0:(S=v(l[E]),S>=0?(S>0&&(h.lastNeed=S-2),S):--E<d||S===-2?0:(S=v(l[E]),S>=0?(S>0&&(S===2?S=0:h.lastNeed=S-3),S):0))}function t(h,l,d){if((l[0]&192)!==128)return h.lastNeed=0,"";if(h.lastNeed>1&&l.length>1){if((l[1]&192)!==128)return h.lastNeed=1,"";if(h.lastNeed>2&&l.length>2&&(l[2]&192)!==128)return h.lastNeed=2,""}}function r(h){var l=this.lastTotal-this.lastNeed,d=t(this,h);if(d!==void 0)return d;if(this.lastNeed<=h.length)return h.copy(this.lastChar,l,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,l,0,h.length),this.lastNeed-=h.length}function s(h,l){var d=p(this,h,l);if(!this.lastNeed)return h.toString("utf8",l);this.lastTotal=d;var E=h.length-(d-this.lastNeed);return h.copy(this.lastChar,0,E),h.toString("utf8",l,E)}function n(h){var l=h&&h.length?this.write(h):"";return this.lastNeed?l+"":l}function i(h,l){if((h.length-l)%2===0){var d=h.toString("utf16le",l);if(d){var E=d.charCodeAt(d.length-1);if(E>=55296&&E<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1],d.slice(0,-1)}return d}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=h[h.length-1],h.toString("utf16le",l,h.length-1)}function f(h){var l=h&&h.length?this.write(h):"";if(this.lastNeed){var d=this.lastTotal-this.lastNeed;return l+this.lastChar.toString("utf16le",0,d)}return l}function u(h,l){var d=(h.length-l)%3;return d===0?h.toString("base64",l):(this.lastNeed=3-d,this.lastTotal=3,d===1?this.lastChar[0]=h[h.length-1]:(this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1]),h.toString("base64",l,h.length-d))}function y(h){var l=h&&h.length?this.write(h):"";return this.lastNeed?l+this.lastChar.toString("base64",0,3-this.lastNeed):l}function c(h){return h.toString(this.encoding)}function T(h){return h&&h.length?this.write(h):""}},90715:function(G,V,e){var g=e(32791),_=e(41633)("stream-parser");G.exports=p;var a=-1,C=0,A=1,v=2;function p(h){var l=h&&typeof h._transform=="function",d=h&&typeof h._write=="function";if(!l&&!d)throw new Error("must pass a Writable or Transform stream in");_("extending Parser into stream"),h._bytes=r,h._skipBytes=s,l&&(h._passthrough=n),l?h._transform=f:h._write=i}function t(h){_("initializing parser stream"),h._parserBytesLeft=0,h._parserBuffers=[],h._parserBuffered=0,h._parserState=a,h._parserCallback=null,typeof h.push=="function"&&(h._parserOutput=h.push.bind(h)),h._parserInit=!0}function r(h,l){g(!this._parserCallback,'there is already a "callback" set!'),g(isFinite(h)&&h>0,'can only buffer a finite number of bytes > 0, got "'+h+'"'),this._parserInit||t(this),_("buffering %o bytes",h),this._parserBytesLeft=h,this._parserCallback=l,this._parserState=C}function s(h,l){g(!this._parserCallback,'there is already a "callback" set!'),g(h>0,'can only skip > 0 bytes, got "'+h+'"'),this._parserInit||t(this),_("skipping %o bytes",h),this._parserBytesLeft=h,this._parserCallback=l,this._parserState=A}function n(h,l){g(!this._parserCallback,'There is already a "callback" set!'),g(h>0,'can only pass through > 0 bytes, got "'+h+'"'),this._parserInit||t(this),_("passing through %o bytes",h),this._parserBytesLeft=h,this._parserCallback=l,this._parserState=v}function i(h,l,d){this._parserInit||t(this),_("write(%o bytes)",h.length),typeof l=="function"&&(d=l),c(this,h,null,d)}function f(h,l,d){this._parserInit||t(this),_("transform(%o bytes)",h.length),typeof l!="function"&&(l=this._parserOutput),c(this,h,l,d)}function u(h,l,d,E){return h._parserBytesLeft<=0?E(new Error("got data but not currently parsing anything")):l.length<=h._parserBytesLeft?function(){return y(h,l,d,E)}:function(){var S=l.slice(0,h._parserBytesLeft);return y(h,S,d,function(P){if(P)return E(P);if(l.length>S.length)return function(){return u(h,l.slice(S.length),d,E)}})}}function y(h,l,d,E){if(h._parserBytesLeft-=l.length,_("%o bytes left for stream piece",h._parserBytesLeft),h._parserState===C?(h._parserBuffers.push(l),h._parserBuffered+=l.length):h._parserState===v&&d(l),h._parserBytesLeft===0){var S=h._parserCallback;if(S&&h._parserState===C&&h._parserBuffers.length>1&&(l=Buffer.concat(h._parserBuffers,h._parserBuffered)),h._parserState!==C&&(l=null),h._parserCallback=null,h._parserBuffered=0,h._parserState=a,h._parserBuffers.splice(0),S){var P=[];l&&P.push(l),d&&P.push(d);var x=S.length>P.length;x&&P.push(T(E));var M=S.apply(h,P);if(!x||E===M)return E}}else return E}var c=T(u);function T(h){return function(){for(var l=h.apply(this,arguments);typeof l=="function";)l=l();return l}}},41633:function(G,V,e){var g=e(90386);V=G.exports=e(74469),V.log=C,V.formatArgs=a,V.save=A,V.load=v,V.useColors=_,V.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:p(),V.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function _(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}V.formatters.j=function(t){try{return JSON.stringify(t)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}};function a(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+V.humanize(this.diff),!!r){var s="color: "+this.color;t.splice(1,0,s,"color: inherit");var n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(f){f!=="%%"&&(n++,f==="%c"&&(i=n))}),t.splice(i,0,s)}}function C(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function A(t){try{t==null?V.storage.removeItem("debug"):V.storage.debug=t}catch{}}function v(){var t;try{t=V.storage.debug}catch{}return!t&&typeof g<"u"&&"env"in g&&(t=g.env.DEBUG),t}V.enable(v());function p(){try{return window.localStorage}catch{}}},74469:function(G,V,e){V=G.exports=a.debug=a.default=a,V.coerce=p,V.disable=A,V.enable=C,V.enabled=v,V.humanize=e(11375),V.names=[],V.skips=[],V.formatters={};var g;function _(t){var r=0,s;for(s in t)r=(r<<5)-r+t.charCodeAt(s),r|=0;return V.colors[Math.abs(r)%V.colors.length]}function a(t){function r(){if(r.enabled){var s=r,n=+new Date,i=n-(g||n);s.diff=i,s.prev=g,s.curr=n,g=n;for(var f=new Array(arguments.length),u=0;u<f.length;u++)f[u]=arguments[u];f[0]=V.coerce(f[0]),typeof f[0]!="string"&&f.unshift("%O");var y=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,function(T,h){if(T==="%%")return T;y++;var l=V.formatters[h];if(typeof l=="function"){var d=f[y];T=l.call(s,d),f.splice(y,1),y--}return T}),V.formatArgs.call(s,f);var c=r.log||V.log||console.log.bind(console);c.apply(s,f)}}return r.namespace=t,r.enabled=V.enabled(t),r.useColors=V.useColors(),r.color=_(t),typeof V.init=="function"&&V.init(r),r}function C(t){V.save(t),V.names=[],V.skips=[];for(var r=(typeof t=="string"?t:"").split(/[\s,]+/),s=r.length,n=0;n<s;n++)r[n]&&(t=r[n].replace(/\*/g,".*?"),t[0]==="-"?V.skips.push(new RegExp("^"+t.substr(1)+"$")):V.names.push(new RegExp("^"+t+"$")))}function A(){V.enable("")}function v(t){var r,s;for(r=0,s=V.skips.length;r<s;r++)if(V.skips[r].test(t))return!1;for(r=0,s=V.names.length;r<s;r++)if(V.names[r].test(t))return!0;return!1}function p(t){return t instanceof Error?t.stack||t.message:t}},11375:function(G){var V=1e3,e=V*60,g=e*60,_=g*24,a=_*365.25;G.exports=function(t,r){r=r||{};var s=typeof t;if(s==="string"&&t.length>0)return C(t);if(s==="number"&&isNaN(t)===!1)return r.long?v(t):A(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function C(t){if(t=String(t),!(t.length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(r){var s=parseFloat(r[1]),n=(r[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*_;case"hours":case"hour":case"hrs":case"hr":case"h":return s*g;case"minutes":case"minute":case"mins":case"min":case"m":return s*e;case"seconds":case"second":case"secs":case"sec":case"s":return s*V;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}function A(t){return t>=_?Math.round(t/_)+"d":t>=g?Math.round(t/g)+"h":t>=e?Math.round(t/e)+"m":t>=V?Math.round(t/V)+"s":t+"ms"}function v(t){return p(t,_,"day")||p(t,g,"hour")||p(t,e,"minute")||p(t,V,"second")||t+" ms"}function p(t,r,s){if(!(t<r))return t<r*1.5?Math.floor(t/r)+" "+s:Math.ceil(t/r)+" "+s+"s"}},99011:function(G,V,e){var g=e(88641);G.exports=function(a,C,A){if(a==null)throw Error("First argument should be a string");if(C==null)throw Error("Separator should be a string or a RegExp");A?(typeof A=="string"||Array.isArray(A))&&(A={ignore:A}):A={},A.escape==null&&(A.escape=!0),A.ignore==null?A.ignore=["[]","()","{}","<>",'""',"''","``","",""]:(typeof A.ignore=="string"&&(A.ignore=[A.ignore]),A.ignore=A.ignore.map(function(f){return f.length===1&&(f=f+f),f}));var v=g.parse(a,{flat:!0,brackets:A.ignore}),p=v[0],t=p.split(C);if(A.escape){for(var r=[],s=0;s<t.length;s++){var n=t[s],i=t[s+1];n[n.length-1]==="\\"&&n[n.length-2]!=="\\"?(r.push(n+C+i),s++):r.push(n)}t=r}for(var s=0;s<t.length;s++)v[0]=t[s],t[s]=g.stringify(v,{flat:!0});return t}},68664:function(G){G.exports=V;function V(e){for(var g=e.length,_=new Array(g),a=new Array(g),C=new Array(g),A=new Array(g),v=new Array(g),p=new Array(g),t=0;t<g;++t)_[t]=-1,a[t]=0,C[t]=!1,A[t]=0,v[t]=-1,p[t]=[];var r=0,s=[],n=[];function i(c){var T=[c],h=[c];for(_[c]=a[c]=r,C[c]=!0,r+=1;h.length>0;){c=h[h.length-1];var l=e[c];if(A[c]<l.length){for(var d=A[c];d<l.length;++d){var E=l[d];if(_[E]<0){_[E]=a[E]=r,C[E]=!0,r+=1,T.push(E),h.push(E);break}else C[E]&&(a[c]=Math.min(a[c],a[E])|0);v[E]>=0&&p[c].push(v[E])}A[c]=d}else{if(a[c]===_[c]){for(var S=[],P=[],x=0,d=T.length-1;d>=0;--d){var M=T[d];if(C[M]=!1,S.push(M),P.push(p[M]),x+=p[M].length,v[M]=s.length,M===c){T.length=d;break}}s.push(S);for(var w=new Array(x),d=0;d<P.length;d++)for(var o=0;o<P[d].length;o++)w[--x]=P[d][o];n.push(w)}h.pop()}}}for(var t=0;t<g;++t)_[t]<0&&i(t);for(var f,t=0;t<n.length;t++){var u=n[t];if(u.length!==0){u.sort(function(T,h){return T-h}),f=[u[0]];for(var y=1;y<u.length;y++)u[y]!==u[y-1]&&f.push(u[y]);n[t]=f}}return{components:s,adjacencyList:n}}},7095:function(G,V,e){e.r(V);var g=function(){function t(r,s){var n=[],i=!0,f=!1,u=void 0;try{for(var y=r[Symbol.iterator](),c;!(i=(c=y.next()).done)&&(n.push(c.value),!(s&&n.length===s));i=!0);}catch(T){f=!0,u=T}finally{try{!i&&y.return&&y.return()}finally{if(f)throw u}}return n}return function(r,s){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return t(r,s);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=Math.PI*2,a=function(r,s,n,i,f,u,y){var c=r.x,T=r.y;c*=s,T*=n;var h=i*c-f*T,l=f*c+i*T;return{x:h+u,y:l+y}},C=function(r,s){var n=s===1.5707963267948966?.551915024494:s===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(s/4),i=Math.cos(r),f=Math.sin(r),u=Math.cos(r+s),y=Math.sin(r+s);return[{x:i-f*n,y:f+i*n},{x:u+y*n,y:y-u*n},{x:u,y}]},A=function(r,s,n,i){var f=r*i-s*n<0?-1:1,u=r*n+s*i;return u>1&&(u=1),u<-1&&(u=-1),f*Math.acos(u)},v=function(r,s,n,i,f,u,y,c,T,h,l,d){var E=Math.pow(f,2),S=Math.pow(u,2),P=Math.pow(l,2),x=Math.pow(d,2),M=E*S-E*x-S*P;M<0&&(M=0),M/=E*x+S*P,M=Math.sqrt(M)*(y===c?-1:1);var w=M*f/u*d,o=M*-u/f*l,L=h*w-T*o+(r+n)/2,m=T*w+h*o+(s+i)/2,F=(l-w)/f,I=(d-o)/u,U=(-l-w)/f,z=(-d-o)/u,N=A(1,0,F,I),B=A(F,I,U,z);return c===0&&B>0&&(B-=_),c===1&&B<0&&(B+=_),[L,m,N,B]},p=function(r){var s=r.px,n=r.py,i=r.cx,f=r.cy,u=r.rx,y=r.ry,c=r.xAxisRotation,T=c===void 0?0:c,h=r.largeArcFlag,l=h===void 0?0:h,d=r.sweepFlag,E=d===void 0?0:d,S=[];if(u===0||y===0)return[];var P=Math.sin(T*_/360),x=Math.cos(T*_/360),M=x*(s-i)/2+P*(n-f)/2,w=-P*(s-i)/2+x*(n-f)/2;if(M===0&&w===0)return[];u=Math.abs(u),y=Math.abs(y);var o=Math.pow(M,2)/Math.pow(u,2)+Math.pow(w,2)/Math.pow(y,2);o>1&&(u*=Math.sqrt(o),y*=Math.sqrt(o));var L=v(s,n,i,f,u,y,l,E,P,x,M,w),m=g(L,4),F=m[0],I=m[1],U=m[2],z=m[3],N=Math.abs(z)/(_/4);Math.abs(1-N)<1e-7&&(N=1);var B=Math.max(Math.ceil(N),1);z/=B;for(var O=0;O<B;O++)S.push(C(U,z)),U+=z;return S.map(function(H){var Y=a(H[0],u,y,x,P,F,I),J=Y.x,re=Y.y,ie=a(H[1],u,y,x,P,F,I),ce=ie.x,Q=ie.y,j=a(H[2],u,y,x,P,F,I),Z=j.x,$=j.y;return{x1:J,y1:re,x2:ce,y2:Q,x:Z,y:$}})};V.default=p},1750:function(G,V,e){var g=e(95616),_=e(65185),a=e(29988),C=e(89546),A=e(32791);G.exports=v;function v(p){if(Array.isArray(p)&&p.length===1&&typeof p[0]=="string"&&(p=p[0]),typeof p=="string"&&(A(C(p),"String is not an SVG path."),p=g(p)),A(Array.isArray(p),"Argument should be a string or an array of path segments."),p=_(p),p=a(p),!p.length)return[0,0,0,0];for(var t=[1/0,1/0,-1/0,-1/0],r=0,s=p.length;r<s;r++)for(var n=p[r].slice(1),i=0;i<n.length;i+=2)n[i+0]<t[0]&&(t[0]=n[i+0]),n[i+1]<t[1]&&(t[1]=n[i+1]),n[i+0]>t[2]&&(t[2]=n[i+0]),n[i+1]>t[3]&&(t[3]=n[i+1]);return t}},29988:function(G,V,e){G.exports=_;var g=e(7095);function _(A){for(var v,p=[],t=0,r=0,s=0,n=0,i=null,f=null,u=0,y=0,c=0,T=A.length;c<T;c++){var h=A[c],l=h[0];switch(l){case"M":s=h[1],n=h[2];break;case"A":var d=g({px:u,py:y,cx:h[6],cy:h[7],rx:h[1],ry:h[2],xAxisRotation:h[3],largeArcFlag:h[4],sweepFlag:h[5]});if(!d.length)continue;for(var E=0,S;E<d.length;E++)S=d[E],h=["C",S.x1,S.y1,S.x2,S.y2,S.x,S.y],E<d.length-1&&p.push(h);break;case"S":var P=u,x=y;(v=="C"||v=="S")&&(P+=P-t,x+=x-r),h=["C",P,x,h[1],h[2],h[3],h[4]];break;case"T":v=="Q"||v=="T"?(i=u*2-i,f=y*2-f):(i=u,f=y),h=C(u,y,i,f,h[1],h[2]);break;case"Q":i=h[1],f=h[2],h=C(u,y,h[1],h[2],h[3],h[4]);break;case"L":h=a(u,y,h[1],h[2]);break;case"H":h=a(u,y,h[1],y);break;case"V":h=a(u,y,u,h[1]);break;case"Z":h=a(u,y,s,n);break}v=l,u=h[h.length-2],y=h[h.length-1],h.length>4?(t=h[h.length-4],r=h[h.length-3]):(t=u,r=y),p.push(h)}return p}function a(A,v,p,t){return["C",A,v,p,t,p,t]}function C(A,v,p,t,r,s){return["C",A/3+.6666666666666666*p,v/3+.6666666666666666*t,r/3+.6666666666666666*p,s/3+.6666666666666666*t,r,s]}},82019:function(G,V,e){var g=e(1750),_=e(95616),a=e(31457),C=e(89546),A=e(44781),v=document.createElement("canvas"),p=v.getContext("2d");G.exports=t;function t(n,i){if(!C(n))throw Error("Argument should be valid svg path string");i||(i={});var f,u;i.shape?(f=i.shape[0],u=i.shape[1]):(f=v.width=i.w||i.width||200,u=v.height=i.h||i.height||200);var y=Math.min(f,u),c=i.stroke||0,T=i.viewbox||i.viewBox||g(n),h=[f/(T[2]-T[0]),u/(T[3]-T[1])],l=Math.min(h[0]||0,h[1]||0)/2;if(p.fillStyle="black",p.fillRect(0,0,f,u),p.fillStyle="white",c&&(typeof c!="number"&&(c=1),c>0?p.strokeStyle="white":p.strokeStyle="black",p.lineWidth=Math.abs(c)),p.translate(f*.5,u*.5),p.scale(l,l),s()){var d=new Path2D(n);p.fill(d),c&&p.stroke(d)}else{var E=_(n);a(p,E),p.fill(),c&&p.stroke()}p.setTransform(1,0,0,1,0,0);var S=A(p,{cutoff:i.cutoff!=null?i.cutoff:.5,radius:i.radius!=null?i.radius:y*.5});return S}var r;function s(){if(r!=null)return r;var n=document.createElement("canvas").getContext("2d");if(n.canvas.width=n.canvas.height=1,!window.Path2D)return r=!1;var i=new Path2D("M0,0h1v1h-1v-1Z");n.fillStyle="black",n.fill(i);var f=n.getImageData(0,0,1,1);return r=f&&f.data&&f.data[3]===255}},84267:function(G,V,e){var g;(function(_){var a=/^\s+/,C=/\s+$/,A=0,v=_.round,p=_.min,t=_.max,r=_.random;function s(q,le){if(q=q||"",le=le||{},q instanceof s)return q;if(!(this instanceof s))return new s(q,le);var oe=n(q);this._originalInput=q,this._r=oe.r,this._g=oe.g,this._b=oe.b,this._a=oe.a,this._roundA=v(100*this._a)/100,this._format=le.format||oe.format,this._gradientType=le.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=oe.ok,this._tc_id=A++}s.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var q=this.toRgb();return(q.r*299+q.g*587+q.b*114)/1e3},getLuminance:function(){var q=this.toRgb(),le,oe,he,me,Ce,Ae;return le=q.r/255,oe=q.g/255,he=q.b/255,le<=.03928?me=le/12.92:me=_.pow((le+.055)/1.055,2.4),oe<=.03928?Ce=oe/12.92:Ce=_.pow((oe+.055)/1.055,2.4),he<=.03928?Ae=he/12.92:Ae=_.pow((he+.055)/1.055,2.4),.2126*me+.7152*Ce+.0722*Ae},setAlpha:function(q){return this._a=O(q),this._roundA=v(100*this._a)/100,this},toHsv:function(){var q=y(this._r,this._g,this._b);return{h:q.h*360,s:q.s,v:q.v,a:this._a}},toHsvString:function(){var q=y(this._r,this._g,this._b),le=v(q.h*360),oe=v(q.s*100),he=v(q.v*100);return this._a==1?"hsv("+le+", "+oe+"%, "+he+"%)":"hsva("+le+", "+oe+"%, "+he+"%, "+this._roundA+")"},toHsl:function(){var q=f(this._r,this._g,this._b);return{h:q.h*360,s:q.s,l:q.l,a:this._a}},toHslString:function(){var q=f(this._r,this._g,this._b),le=v(q.h*360),oe=v(q.s*100),he=v(q.l*100);return this._a==1?"hsl("+le+", "+oe+"%, "+he+"%)":"hsla("+le+", "+oe+"%, "+he+"%, "+this._roundA+")"},toHex:function(q){return T(this._r,this._g,this._b,q)},toHexString:function(q){return"#"+this.toHex(q)},toHex8:function(q){return h(this._r,this._g,this._b,this._a,q)},toHex8String:function(q){return"#"+this.toHex8(q)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(H(this._r,255)*100)+"%",g:v(H(this._g,255)*100)+"%",b:v(H(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+v(H(this._r,255)*100)+"%, "+v(H(this._g,255)*100)+"%, "+v(H(this._b,255)*100)+"%)":"rgba("+v(H(this._r,255)*100)+"%, "+v(H(this._g,255)*100)+"%, "+v(H(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:N[T(this._r,this._g,this._b,!0)]||!1},toFilter:function(q){var le="#"+l(this._r,this._g,this._b,this._a),oe=le,he=this._gradientType?"GradientType = 1, ":"";if(q){var me=s(q);oe="#"+l(me._r,me._g,me._b,me._a)}return"progid:DXImageTransform.Microsoft.gradient("+he+"startColorstr="+le+",endColorstr="+oe+")"},toString:function(q){var le=!!q;q=q||this._format;var oe=!1,he=this._a<1&&this._a>=0,me=!le&&he&&(q==="hex"||q==="hex6"||q==="hex3"||q==="hex4"||q==="hex8"||q==="name");return me?q==="name"&&this._a===0?this.toName():this.toRgbString():(q==="rgb"&&(oe=this.toRgbString()),q==="prgb"&&(oe=this.toPercentageRgbString()),(q==="hex"||q==="hex6")&&(oe=this.toHexString()),q==="hex3"&&(oe=this.toHexString(!0)),q==="hex4"&&(oe=this.toHex8String(!0)),q==="hex8"&&(oe=this.toHex8String()),q==="name"&&(oe=this.toName()),q==="hsl"&&(oe=this.toHslString()),q==="hsv"&&(oe=this.toHsvString()),oe||this.toHexString())},clone:function(){return s(this.toString())},_applyModification:function(q,le){var oe=q.apply(null,[this].concat([].slice.call(le)));return this._r=oe._r,this._g=oe._g,this._b=oe._b,this.setAlpha(oe._a),this},lighten:function(){return this._applyModification(P,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(M,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(E,arguments)},greyscale:function(){return this._applyModification(S,arguments)},spin:function(){return this._applyModification(w,arguments)},_applyCombination:function(q,le){return q.apply(null,[this].concat([].slice.call(le)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(o,arguments)},monochromatic:function(){return this._applyCombination(U,arguments)},splitcomplement:function(){return this._applyCombination(F,arguments)},triad:function(){return this._applyCombination(L,arguments)},tetrad:function(){return this._applyCombination(m,arguments)}},s.fromRatio=function(q,le){if(typeof q=="object"){var oe={};for(var he in q)q.hasOwnProperty(he)&&(he==="a"?oe[he]=q[he]:oe[he]=Q(q[he]));q=oe}return s(q,le)};function n(q){var le={r:0,g:0,b:0},oe=1,he=null,me=null,Ce=null,Ae=!1,Ue=!1;return typeof q=="string"&&(q=se(q)),typeof q=="object"&&(te(q.r)&&te(q.g)&&te(q.b)?(le=i(q.r,q.g,q.b),Ae=!0,Ue=String(q.r).substr(-1)==="%"?"prgb":"rgb"):te(q.h)&&te(q.s)&&te(q.v)?(he=Q(q.s),me=Q(q.v),le=c(q.h,he,me),Ae=!0,Ue="hsv"):te(q.h)&&te(q.s)&&te(q.l)&&(he=Q(q.s),Ce=Q(q.l),le=u(q.h,he,Ce),Ae=!0,Ue="hsl"),q.hasOwnProperty("a")&&(oe=q.a)),oe=O(oe),{ok:Ae,format:q.format||Ue,r:p(255,t(le.r,0)),g:p(255,t(le.g,0)),b:p(255,t(le.b,0)),a:oe}}function i(q,le,oe){return{r:H(q,255)*255,g:H(le,255)*255,b:H(oe,255)*255}}function f(q,le,oe){q=H(q,255),le=H(le,255),oe=H(oe,255);var he=t(q,le,oe),me=p(q,le,oe),Ce,Ae,Ue=(he+me)/2;if(he==me)Ce=Ae=0;else{var Ve=he-me;switch(Ae=Ue>.5?Ve/(2-he-me):Ve/(he+me),he){case q:Ce=(le-oe)/Ve+(le<oe?6:0);break;case le:Ce=(oe-q)/Ve+2;break;case oe:Ce=(q-le)/Ve+4;break}Ce/=6}return{h:Ce,s:Ae,l:Ue}}function u(q,le,oe){var he,me,Ce;q=H(q,360),le=H(le,100),oe=H(oe,100);function Ae(Pe,be,Le){return Le<0&&(Le+=1),Le>1&&(Le-=1),Le<.16666666666666666?Pe+(be-Pe)*6*Le:Le<.5?be:Le<.6666666666666666?Pe+(be-Pe)*(.6666666666666666-Le)*6:Pe}if(le===0)he=me=Ce=oe;else{var Ue=oe<.5?oe*(1+le):oe+le-oe*le,Ve=2*oe-Ue;he=Ae(Ve,Ue,q+.3333333333333333),me=Ae(Ve,Ue,q),Ce=Ae(Ve,Ue,q-.3333333333333333)}return{r:he*255,g:me*255,b:Ce*255}}function y(q,le,oe){q=H(q,255),le=H(le,255),oe=H(oe,255);var he=t(q,le,oe),me=p(q,le,oe),Ce,Ae,Ue=he,Ve=he-me;if(Ae=he===0?0:Ve/he,he==me)Ce=0;else{switch(he){case q:Ce=(le-oe)/Ve+(le<oe?6:0);break;case le:Ce=(oe-q)/Ve+2;break;case oe:Ce=(q-le)/Ve+4;break}Ce/=6}return{h:Ce,s:Ae,v:Ue}}function c(q,le,oe){q=H(q,360)*6,le=H(le,100),oe=H(oe,100);var he=_.floor(q),me=q-he,Ce=oe*(1-le),Ae=oe*(1-me*le),Ue=oe*(1-(1-me)*le),Ve=he%6,Pe=[oe,Ae,Ce,Ce,Ue,oe][Ve],be=[Ue,oe,oe,Ae,Ce,Ce][Ve],Le=[Ce,Ce,Ue,oe,oe,Ae][Ve];return{r:Pe*255,g:be*255,b:Le*255}}function T(q,le,oe,he){var me=[ce(v(q).toString(16)),ce(v(le).toString(16)),ce(v(oe).toString(16))];return he&&me[0].charAt(0)==me[0].charAt(1)&&me[1].charAt(0)==me[1].charAt(1)&&me[2].charAt(0)==me[2].charAt(1)?me[0].charAt(0)+me[1].charAt(0)+me[2].charAt(0):me.join("")}function h(q,le,oe,he,me){var Ce=[ce(v(q).toString(16)),ce(v(le).toString(16)),ce(v(oe).toString(16)),ce(j(he))];return me&&Ce[0].charAt(0)==Ce[0].charAt(1)&&Ce[1].charAt(0)==Ce[1].charAt(1)&&Ce[2].charAt(0)==Ce[2].charAt(1)&&Ce[3].charAt(0)==Ce[3].charAt(1)?Ce[0].charAt(0)+Ce[1].charAt(0)+Ce[2].charAt(0)+Ce[3].charAt(0):Ce.join("")}function l(q,le,oe,he){var me=[ce(j(he)),ce(v(q).toString(16)),ce(v(le).toString(16)),ce(v(oe).toString(16))];return me.join("")}s.equals=function(q,le){return!q||!le?!1:s(q).toRgbString()==s(le).toRgbString()},s.random=function(){return s.fromRatio({r:r(),g:r(),b:r()})};function d(q,le){le=le===0?0:le||10;var oe=s(q).toHsl();return oe.s-=le/100,oe.s=Y(oe.s),s(oe)}function E(q,le){le=le===0?0:le||10;var oe=s(q).toHsl();return oe.s+=le/100,oe.s=Y(oe.s),s(oe)}function S(q){return s(q).desaturate(100)}function P(q,le){le=le===0?0:le||10;var oe=s(q).toHsl();return oe.l+=le/100,oe.l=Y(oe.l),s(oe)}function x(q,le){le=le===0?0:le||10;var oe=s(q).toRgb();return oe.r=t(0,p(255,oe.r-v(255*-(le/100)))),oe.g=t(0,p(255,oe.g-v(255*-(le/100)))),oe.b=t(0,p(255,oe.b-v(255*-(le/100)))),s(oe)}function M(q,le){le=le===0?0:le||10;var oe=s(q).toHsl();return oe.l-=le/100,oe.l=Y(oe.l),s(oe)}function w(q,le){var oe=s(q).toHsl(),he=(oe.h+le)%360;return oe.h=he<0?360+he:he,s(oe)}function o(q){var le=s(q).toHsl();return le.h=(le.h+180)%360,s(le)}function L(q){var le=s(q).toHsl(),oe=le.h;return[s(q),s({h:(oe+120)%360,s:le.s,l:le.l}),s({h:(oe+240)%360,s:le.s,l:le.l})]}function m(q){var le=s(q).toHsl(),oe=le.h;return[s(q),s({h:(oe+90)%360,s:le.s,l:le.l}),s({h:(oe+180)%360,s:le.s,l:le.l}),s({h:(oe+270)%360,s:le.s,l:le.l})]}function F(q){var le=s(q).toHsl(),oe=le.h;return[s(q),s({h:(oe+72)%360,s:le.s,l:le.l}),s({h:(oe+216)%360,s:le.s,l:le.l})]}function I(q,le,oe){le=le||6,oe=oe||30;var he=s(q).toHsl(),me=360/oe,Ce=[s(q)];for(he.h=(he.h-(me*le>>1)+720)%360;--le;)he.h=(he.h+me)%360,Ce.push(s(he));return Ce}function U(q,le){le=le||6;for(var oe=s(q).toHsv(),he=oe.h,me=oe.s,Ce=oe.v,Ae=[],Ue=1/le;le--;)Ae.push(s({h:he,s:me,v:Ce})),Ce=(Ce+Ue)%1;return Ae}s.mix=function(q,le,oe){oe=oe===0?0:oe||50;var he=s(q).toRgb(),me=s(le).toRgb(),Ce=oe/100,Ae={r:(me.r-he.r)*Ce+he.r,g:(me.g-he.g)*Ce+he.g,b:(me.b-he.b)*Ce+he.b,a:(me.a-he.a)*Ce+he.a};return s(Ae)},s.readability=function(q,le){var oe=s(q),he=s(le);return(_.max(oe.getLuminance(),he.getLuminance())+.05)/(_.min(oe.getLuminance(),he.getLuminance())+.05)},s.isReadable=function(q,le,oe){var he=s.readability(q,le),me,Ce;switch(Ce=!1,me=ee(oe),me.level+me.size){case"AAsmall":case"AAAlarge":Ce=he>=4.5;break;case"AAlarge":Ce=he>=3;break;case"AAAsmall":Ce=he>=7;break}return Ce},s.mostReadable=function(q,le,oe){var he=null,me=0,Ce,Ae,Ue,Ve;oe=oe||{},Ae=oe.includeFallbackColors,Ue=oe.level,Ve=oe.size;for(var Pe=0;Pe<le.length;Pe++)Ce=s.readability(q,le[Pe]),Ce>me&&(me=Ce,he=s(le[Pe]));return s.isReadable(q,he,{level:Ue,size:Ve})||!Ae?he:(oe.includeFallbackColors=!1,s.mostReadable(q,["#fff","#000"],oe))};var z=s.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},N=s.hexNames=B(z);function B(q){var le={};for(var oe in q)q.hasOwnProperty(oe)&&(le[q[oe]]=oe);return le}function O(q){return q=parseFloat(q),(isNaN(q)||q<0||q>1)&&(q=1),q}function H(q,le){re(q)&&(q="100%");var oe=ie(q);return q=p(le,t(0,parseFloat(q))),oe&&(q=parseInt(q*le,10)/100),_.abs(q-le)<1e-6?1:q%le/parseFloat(le)}function Y(q){return p(1,t(0,q))}function J(q){return parseInt(q,16)}function re(q){return typeof q=="string"&&q.indexOf(".")!=-1&&parseFloat(q)===1}function ie(q){return typeof q=="string"&&q.indexOf("%")!=-1}function ce(q){return q.length==1?"0"+q:""+q}function Q(q){return q<=1&&(q=q*100+"%"),q}function j(q){return _.round(parseFloat(q)*255).toString(16)}function Z(q){return J(q)/255}var $=function(){var q="[-\\+]?\\d+%?",le="[-\\+]?\\d*\\.\\d+%?",oe="(?:"+le+")|(?:"+q+")",he="[\\s|\\(]+("+oe+")[,|\\s]+("+oe+")[,|\\s]+("+oe+")\\s*\\)?",me="[\\s|\\(]+("+oe+")[,|\\s]+("+oe+")[,|\\s]+("+oe+")[,|\\s]+("+oe+")\\s*\\)?";return{CSS_UNIT:new RegExp(oe),rgb:new RegExp("rgb"+he),rgba:new RegExp("rgba"+me),hsl:new RegExp("hsl"+he),hsla:new RegExp("hsla"+me),hsv:new RegExp("hsv"+he),hsva:new RegExp("hsva"+me),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function te(q){return!!$.CSS_UNIT.exec(q)}function se(q){q=q.replace(a,"").replace(C,"").toLowerCase();var le=!1;if(z[q])q=z[q],le=!0;else if(q=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var oe;return(oe=$.rgb.exec(q))?{r:oe[1],g:oe[2],b:oe[3]}:(oe=$.rgba.exec(q))?{r:oe[1],g:oe[2],b:oe[3],a:oe[4]}:(oe=$.hsl.exec(q))?{h:oe[1],s:oe[2],l:oe[3]}:(oe=$.hsla.exec(q))?{h:oe[1],s:oe[2],l:oe[3],a:oe[4]}:(oe=$.hsv.exec(q))?{h:oe[1],s:oe[2],v:oe[3]}:(oe=$.hsva.exec(q))?{h:oe[1],s:oe[2],v:oe[3],a:oe[4]}:(oe=$.hex8.exec(q))?{r:J(oe[1]),g:J(oe[2]),b:J(oe[3]),a:Z(oe[4]),format:le?"name":"hex8"}:(oe=$.hex6.exec(q))?{r:J(oe[1]),g:J(oe[2]),b:J(oe[3]),format:le?"name":"hex"}:(oe=$.hex4.exec(q))?{r:J(oe[1]+""+oe[1]),g:J(oe[2]+""+oe[2]),b:J(oe[3]+""+oe[3]),a:Z(oe[4]+""+oe[4]),format:le?"name":"hex8"}:(oe=$.hex3.exec(q))?{r:J(oe[1]+""+oe[1]),g:J(oe[2]+""+oe[2]),b:J(oe[3]+""+oe[3]),format:le?"name":"hex"}:!1}function ee(q){var le,oe;return q=q||{level:"AA",size:"small"},le=(q.level||"AA").toUpperCase(),oe=(q.size||"small").toLowerCase(),le!=="AA"&&le!=="AAA"&&(le="AA"),oe!=="small"&&oe!=="large"&&(oe="small"),{level:le,size:oe}}G.exports?G.exports=s:(g=(function(){return s}).call(V,e,V,G),g!==void 0&&(G.exports=g))})(Math)},57060:function(G){G.exports=g,G.exports.float32=G.exports.float=g,G.exports.fract32=G.exports.fract=e;var V=new Float32Array(1);function e(_,a){if(_.length){if(_ instanceof Float32Array)return new Float32Array(_.length);a instanceof Float32Array||(a=g(_));for(var C=0,A=a.length;C<A;C++)a[C]=_[C]-a[C];return a}return g(_-g(_))}function g(_){return _.length?_ instanceof Float32Array?_:new Float32Array(_):(V[0]=_,V[0])}},75686:function(G,V,e){var g=e(25677);G.exports=A;var _=96;function a(v,p){var t=g(getComputedStyle(v).getPropertyValue(p));return t[0]*A(t[1],v)}function C(v,p){var t=document.createElement("div");t.style["font-size"]="128"+v,p.appendChild(t);var r=a(t,"font-size")/128;return p.removeChild(t),r}function A(v,p){switch(p=p||document.body,v=(v||"px").trim().toLowerCase(),(p===window||p===document)&&(p=document.body),v){case"%":return p.clientHeight/100;case"ch":case"ex":return C(v,p);case"em":return a(p,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return _;case"cm":return _/2.54;case"mm":return _/25.4;case"pt":return _/72;case"pc":return _/6}return 1}},96892:function(G,V,e){e.d(V,{zL:function(){return C}});function g(p,t){for(var r,s=p.length,n=s-t;n<--s;)r=p[n],p[n++]=p[s],p[s]=r}function _(p){return p}function a(p){if(p==null)return _;var t,r,s=p.scale[0],n=p.scale[1],i=p.translate[0],f=p.translate[1];return function(u,y){y||(t=r=0);var c=2,T=u.length,h=new Array(T);for(h[0]=(t+=u[0])*s+i,h[1]=(r+=u[1])*n+f;c<T;)h[c]=u[c],++c;return h}}function C(p,t){return typeof t=="string"&&(t=p.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(r){return A(p,r)})}:A(p,t)}function A(p,t){var r=t.id,s=t.bbox,n=t.properties==null?{}:t.properties,i=v(p,t);return r==null&&s==null?{type:"Feature",properties:n,geometry:i}:s==null?{type:"Feature",id:r,properties:n,geometry:i}:{type:"Feature",id:r,bbox:s,properties:n,geometry:i}}function v(p,t){var r=a(p.transform),s=p.arcs;function n(T,h){h.length&&h.pop();for(var l=s[T<0?~T:T],d=0,E=l.length;d<E;++d)h.push(r(l[d],d));T<0&&g(h,E)}function i(T){return r(T)}function f(T){for(var h=[],l=0,d=T.length;l<d;++l)n(T[l],h);return h.length<2&&h.push(h[0]),h}function u(T){for(var h=f(T);h.length<4;)h.push(h[0]);return h}function y(T){return T.map(u)}function c(T){var h=T.type,l;switch(h){case"GeometryCollection":return{type:h,geometries:T.geometries.map(c)};case"Point":l=i(T.coordinates);break;case"MultiPoint":l=T.coordinates.map(i);break;case"LineString":l=f(T.arcs);break;case"MultiLineString":l=T.arcs.map(f);break;case"Polygon":l=y(T.arcs);break;case"MultiPolygon":l=T.arcs.map(y);break;default:return null}return{type:h,coordinates:l}}return c(t)}},73116:function(G,V,e){var g=e(24511);G.exports=function(_){if(typeof _!="function"||!hasOwnProperty.call(_,"length"))return!1;try{if(typeof _.length!="number"||typeof _.call!="function"||typeof _.apply!="function")return!1}catch{return!1}return!g(_)}},69190:function(G,V,e){var g=e(24582),_=e(47403),a=e(9234),C=e(6048),A=function(v,p){return v.replace("%v",C(p))};G.exports=function(v,p,t){if(!_(t))throw new TypeError(A(p,v));if(!g(v)){if("default"in t)return t.default;if(t.isOptional)return null}var r=a(t.errorMessage);throw g(r)||(r=p),new TypeError(A(r,v))}},18497:function(G){G.exports=function(V){try{return V.toString()}catch{try{return String(V)}catch{return null}}}},6048:function(G,V,e){var g=e(18497),_=/[\n\r\u2028\u2029]/g;G.exports=function(a){var C=g(a);return C===null?"<Non-coercible to string value>":(C.length>100&&(C=C.slice(0,99)+""),C=C.replace(_,function(A){switch(A){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),C)}},47403:function(G,V,e){var g=e(24582),_={object:!0,function:!0,undefined:!0};G.exports=function(a){return g(a)?hasOwnProperty.call(_,typeof a):!1}},82527:function(G,V,e){var g=e(69190),_=e(84985);G.exports=function(a){return _(a)?a:g(a,"%v is not a plain function",arguments[1])}},84985:function(G,V,e){var g=e(73116),_=/^\s*class[\s{/}]/,a=Function.prototype.toString;G.exports=function(C){return!(!g(C)||_.test(a.call(C)))}},24511:function(G,V,e){var g=e(47403);G.exports=function(_){if(!g(_))return!1;try{return _.constructor?_.constructor.prototype===_:!1}catch{return!1}}},9234:function(G,V,e){var g=e(24582),_=e(47403),a=Object.prototype.toString;G.exports=function(C){if(!g(C))return null;if(_(C)){var A=C.toString;if(typeof A!="function"||A===a)return null}try{return""+C}catch{return null}}},10424:function(G,V,e){var g=e(69190),_=e(24582);G.exports=function(a){return _(a)?a:g(a,"Cannot use %v",arguments[1])}},24582:function(G){var V=void 0;G.exports=function(e){return e!==V&&e!==null}},58404:function(G,V,e){var g=e(13547),_=e(12129),a=e(12856).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:_([32,0]),UINT16:_([32,0]),UINT32:_([32,0]),BIGUINT64:_([32,0]),INT8:_([32,0]),INT16:_([32,0]),INT32:_([32,0]),BIGINT64:_([32,0]),FLOAT:_([32,0]),DOUBLE:_([32,0]),DATA:_([32,0]),UINT8C:_([32,0]),BUFFER:_([32,0])});var C=typeof Uint8ClampedArray<"u",A=typeof BigUint64Array<"u",v=typeof BigInt64Array<"u",p=e.g.__TYPEDARRAY_POOL;p.UINT8C||(p.UINT8C=_([32,0])),p.BIGUINT64||(p.BIGUINT64=_([32,0])),p.BIGINT64||(p.BIGINT64=_([32,0])),p.BUFFER||(p.BUFFER=_([32,0]));var t=p.DATA,r=p.BUFFER;V.free=function(o){if(a.isBuffer(o))r[g.log2(o.length)].push(o);else{if(Object.prototype.toString.call(o)!=="[object ArrayBuffer]"&&(o=o.buffer),!o)return;var L=o.length||o.byteLength,m=g.log2(L)|0;t[m].push(o)}};function s(w){if(w){var o=w.length||w.byteLength,L=g.log2(o);t[L].push(w)}}function n(w){s(w.buffer)}V.freeUint8=V.freeUint16=V.freeUint32=V.freeBigUint64=V.freeInt8=V.freeInt16=V.freeInt32=V.freeBigInt64=V.freeFloat32=V.freeFloat=V.freeFloat64=V.freeDouble=V.freeUint8Clamped=V.freeDataView=n,V.freeArrayBuffer=s,V.freeBuffer=function(o){r[g.log2(o.length)].push(o)},V.malloc=function(o,L){if(L===void 0||L==="arraybuffer")return i(o);switch(L){case"uint8":return f(o);case"uint16":return u(o);case"uint32":return y(o);case"int8":return c(o);case"int16":return T(o);case"int32":return h(o);case"float":case"float32":return l(o);case"double":case"float64":return d(o);case"uint8_clamped":return E(o);case"bigint64":return P(o);case"biguint64":return S(o);case"buffer":return M(o);case"data":case"dataview":return x(o);default:return null}return null};function i(o){var o=g.nextPow2(o),L=g.log2(o),m=t[L];return m.length>0?m.pop():new ArrayBuffer(o)}V.mallocArrayBuffer=i;function f(w){return new Uint8Array(i(w),0,w)}V.mallocUint8=f;function u(w){return new Uint16Array(i(2*w),0,w)}V.mallocUint16=u;function y(w){return new Uint32Array(i(4*w),0,w)}V.mallocUint32=y;function c(w){return new Int8Array(i(w),0,w)}V.mallocInt8=c;function T(w){return new Int16Array(i(2*w),0,w)}V.mallocInt16=T;function h(w){return new Int32Array(i(4*w),0,w)}V.mallocInt32=h;function l(w){return new Float32Array(i(4*w),0,w)}V.mallocFloat32=V.mallocFloat=l;function d(w){return new Float64Array(i(8*w),0,w)}V.mallocFloat64=V.mallocDouble=d;function E(w){return C?new Uint8ClampedArray(i(w),0,w):f(w)}V.mallocUint8Clamped=E;function S(w){return A?new BigUint64Array(i(8*w),0,w):null}V.mallocBigUint64=S;function P(w){return v?new BigInt64Array(i(8*w),0,w):null}V.mallocBigInt64=P;function x(w){return new DataView(i(w),0,w)}V.mallocDataView=x;function M(w){w=g.nextPow2(w);var o=g.log2(w),L=r[o];return L.length>0?L.pop():new a(w)}V.mallocBuffer=M,V.clearCache=function(){for(var o=0;o<32;++o)p.UINT8[o].length=0,p.UINT16[o].length=0,p.UINT32[o].length=0,p.INT8[o].length=0,p.INT16[o].length=0,p.INT32[o].length=0,p.FLOAT[o].length=0,p.DOUBLE[o].length=0,p.BIGUINT64[o].length=0,p.BIGINT64[o].length=0,p.UINT8C[o].length=0,t[o].length=0,r[o].length=0}},90448:function(G){var V=/[\'\"]/;G.exports=function(g){return g?(V.test(g.charAt(0))&&(g=g.substr(1)),V.test(g.charAt(g.length-1))&&(g=g.substr(0,g.length-1)),g):""}},93447:function(G){G.exports=function(e,g,_){Array.isArray(_)||(_=[].slice.call(arguments,2));for(var a=0,C=_.length;a<C;a++){var A=_[a];for(var v in A)if(!(g[v]!==void 0&&!Array.isArray(g[v])&&e[v]===g[v])&&v in g){var p;if(A[v]===!0)p=g[v];else{if(A[v]===!1)continue;if(typeof A[v]=="function"&&(p=A[v](g[v],e,g),p===void 0))continue}e[v]=p}}return e}},20588:function(G,V,e){G.exports=g;function g(a,C){if(_("noDeprecation"))return a;var A=!1;function v(){if(!A){if(_("throwDeprecation"))throw new Error(C);_("traceDeprecation")?console.trace(C):console.warn(C),A=!0}return a.apply(this,arguments)}return v}function _(a){try{if(!e.g.localStorage)return!1}catch{return!1}var C=e.g.localStorage[a];return C==null?!1:String(C).toLowerCase()==="true"}},45920:function(G){G.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},4936:function(G,V,e){var g=e(47216),_=e(65481),a=e(21099),C=e(9187);function A(Ce){return Ce.call.bind(Ce)}var v=typeof BigInt<"u",p=typeof Symbol<"u",t=A(Object.prototype.toString),r=A(Number.prototype.valueOf),s=A(String.prototype.valueOf),n=A(Boolean.prototype.valueOf);if(v)var i=A(BigInt.prototype.valueOf);if(p)var f=A(Symbol.prototype.valueOf);function u(Ce,Ae){if(typeof Ce!="object")return!1;try{return Ae(Ce),!0}catch{return!1}}V.isArgumentsObject=g,V.isGeneratorFunction=_,V.isTypedArray=C;function y(Ce){return typeof Promise<"u"&&Ce instanceof Promise||Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"&&typeof Ce.catch=="function"}V.isPromise=y;function c(Ce){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Ce):C(Ce)||J(Ce)}V.isArrayBufferView=c;function T(Ce){return a(Ce)==="Uint8Array"}V.isUint8Array=T;function h(Ce){return a(Ce)==="Uint8ClampedArray"}V.isUint8ClampedArray=h;function l(Ce){return a(Ce)==="Uint16Array"}V.isUint16Array=l;function d(Ce){return a(Ce)==="Uint32Array"}V.isUint32Array=d;function E(Ce){return a(Ce)==="Int8Array"}V.isInt8Array=E;function S(Ce){return a(Ce)==="Int16Array"}V.isInt16Array=S;function P(Ce){return a(Ce)==="Int32Array"}V.isInt32Array=P;function x(Ce){return a(Ce)==="Float32Array"}V.isFloat32Array=x;function M(Ce){return a(Ce)==="Float64Array"}V.isFloat64Array=M;function w(Ce){return a(Ce)==="BigInt64Array"}V.isBigInt64Array=w;function o(Ce){return a(Ce)==="BigUint64Array"}V.isBigUint64Array=o;function L(Ce){return t(Ce)==="[object Map]"}L.working=typeof Map<"u"&&L(new Map);function m(Ce){return typeof Map>"u"?!1:L.working?L(Ce):Ce instanceof Map}V.isMap=m;function F(Ce){return t(Ce)==="[object Set]"}F.working=typeof Set<"u"&&F(new Set);function I(Ce){return typeof Set>"u"?!1:F.working?F(Ce):Ce instanceof Set}V.isSet=I;function U(Ce){return t(Ce)==="[object WeakMap]"}U.working=typeof WeakMap<"u"&&U(new WeakMap);function z(Ce){return typeof WeakMap>"u"?!1:U.working?U(Ce):Ce instanceof WeakMap}V.isWeakMap=z;function N(Ce){return t(Ce)==="[object WeakSet]"}N.working=typeof WeakSet<"u"&&N(new WeakSet);function B(Ce){return N(Ce)}V.isWeakSet=B;function O(Ce){return t(Ce)==="[object ArrayBuffer]"}O.working=typeof ArrayBuffer<"u"&&O(new ArrayBuffer);function H(Ce){return typeof ArrayBuffer>"u"?!1:O.working?O(Ce):Ce instanceof ArrayBuffer}V.isArrayBuffer=H;function Y(Ce){return t(Ce)==="[object DataView]"}Y.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Y(new DataView(new ArrayBuffer(1),0,1));function J(Ce){return typeof DataView>"u"?!1:Y.working?Y(Ce):Ce instanceof DataView}V.isDataView=J;var re=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ie(Ce){return t(Ce)==="[object SharedArrayBuffer]"}function ce(Ce){return typeof re>"u"?!1:(typeof ie.working>"u"&&(ie.working=ie(new re)),ie.working?ie(Ce):Ce instanceof re)}V.isSharedArrayBuffer=ce;function Q(Ce){return t(Ce)==="[object AsyncFunction]"}V.isAsyncFunction=Q;function j(Ce){return t(Ce)==="[object Map Iterator]"}V.isMapIterator=j;function Z(Ce){return t(Ce)==="[object Set Iterator]"}V.isSetIterator=Z;function $(Ce){return t(Ce)==="[object Generator]"}V.isGeneratorObject=$;function te(Ce){return t(Ce)==="[object WebAssembly.Module]"}V.isWebAssemblyCompiledModule=te;function se(Ce){return u(Ce,r)}V.isNumberObject=se;function ee(Ce){return u(Ce,s)}V.isStringObject=ee;function q(Ce){return u(Ce,n)}V.isBooleanObject=q;function le(Ce){return v&&u(Ce,i)}V.isBigIntObject=le;function oe(Ce){return p&&u(Ce,f)}V.isSymbolObject=oe;function he(Ce){return se(Ce)||ee(Ce)||q(Ce)||le(Ce)||oe(Ce)}V.isBoxedPrimitive=he;function me(Ce){return typeof Uint8Array<"u"&&(H(Ce)||ce(Ce))}V.isAnyArrayBuffer=me,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Ce){Object.defineProperty(V,Ce,{enumerable:!1,value:function(){throw new Error(Ce+" is not supported in userland")}})})},43827:function(G,V,e){var g=e(90386),_=Object.getOwnPropertyDescriptors||function(re){for(var ie=Object.keys(re),ce={},Q=0;Q<ie.length;Q++)ce[ie[Q]]=Object.getOwnPropertyDescriptor(re,ie[Q]);return ce},a=/%[sdj%]/g;V.format=function(J){if(!S(J)){for(var re=[],ie=0;ie<arguments.length;ie++)re.push(p(arguments[ie]));return re.join(" ")}for(var ie=1,ce=arguments,Q=ce.length,j=String(J).replace(a,function($){if($==="%%")return"%";if(ie>=Q)return $;switch($){case"%s":return String(ce[ie++]);case"%d":return Number(ce[ie++]);case"%j":try{return JSON.stringify(ce[ie++])}catch{return"[Circular]"}default:return $}}),Z=ce[ie];ie<Q;Z=ce[++ie])l(Z)||!w(Z)?j+=" "+Z:j+=" "+p(Z);return j},V.deprecate=function(J,re){if(typeof g<"u"&&g.noDeprecation===!0)return J;if(typeof g>"u")return function(){return V.deprecate(J,re).apply(this,arguments)};var ie=!1;function ce(){if(!ie){if(g.throwDeprecation)throw new Error(re);g.traceDeprecation?console.trace(re):console.error(re),ie=!0}return J.apply(this,arguments)}return ce};var C={},A=/^$/;if(g.env.NODE_DEBUG){var v=g.env.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),A=new RegExp("^"+v+"$","i")}V.debuglog=function(J){if(J=J.toUpperCase(),!C[J])if(A.test(J)){var re=g.pid;C[J]=function(){var ie=V.format.apply(V,arguments);console.error("%s %d: %s",J,re,ie)}}else C[J]=function(){};return C[J]};function p(J,re){var ie={seen:[],stylize:r};return arguments.length>=3&&(ie.depth=arguments[2]),arguments.length>=4&&(ie.colors=arguments[3]),h(re)?ie.showHidden=re:re&&V._extend(ie,re),x(ie.showHidden)&&(ie.showHidden=!1),x(ie.depth)&&(ie.depth=2),x(ie.colors)&&(ie.colors=!1),x(ie.customInspect)&&(ie.customInspect=!0),ie.colors&&(ie.stylize=t),n(ie,J,ie.depth)}V.inspect=p,p.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},p.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function t(J,re){var ie=p.styles[re];return ie?"\x1B["+p.colors[ie][0]+"m"+J+"\x1B["+p.colors[ie][1]+"m":J}function r(J,re){return J}function s(J){var re={};return J.forEach(function(ie,ce){re[ie]=!0}),re}function n(J,re,ie){if(J.customInspect&&re&&m(re.inspect)&&re.inspect!==V.inspect&&!(re.constructor&&re.constructor.prototype===re)){var ce=re.inspect(ie,J);return S(ce)||(ce=n(J,ce,ie)),ce}var Q=i(J,re);if(Q)return Q;var j=Object.keys(re),Z=s(j);if(J.showHidden&&(j=Object.getOwnPropertyNames(re)),L(re)&&(j.indexOf("message")>=0||j.indexOf("description")>=0))return f(re);if(j.length===0){if(m(re)){var $=re.name?": "+re.name:"";return J.stylize("[Function"+$+"]","special")}if(M(re))return J.stylize(RegExp.prototype.toString.call(re),"regexp");if(o(re))return J.stylize(Date.prototype.toString.call(re),"date");if(L(re))return f(re)}var te="",se=!1,ee=["{","}"];if(T(re)&&(se=!0,ee=["[","]"]),m(re)){var q=re.name?": "+re.name:"";te=" [Function"+q+"]"}if(M(re)&&(te=" "+RegExp.prototype.toString.call(re)),o(re)&&(te=" "+Date.prototype.toUTCString.call(re)),L(re)&&(te=" "+f(re)),j.length===0&&(!se||re.length==0))return ee[0]+te+ee[1];if(ie<0)return M(re)?J.stylize(RegExp.prototype.toString.call(re),"regexp"):J.stylize("[Object]","special");J.seen.push(re);var le;return se?le=u(J,re,ie,Z,j):le=j.map(function(oe){return y(J,re,ie,Z,oe,se)}),J.seen.pop(),c(le,te,ee)}function i(J,re){if(x(re))return J.stylize("undefined","undefined");if(S(re)){var ie="'"+JSON.stringify(re).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return J.stylize(ie,"string")}if(E(re))return J.stylize(""+re,"number");if(h(re))return J.stylize(""+re,"boolean");if(l(re))return J.stylize("null","null")}function f(J){return"["+Error.prototype.toString.call(J)+"]"}function u(J,re,ie,ce,Q){for(var j=[],Z=0,$=re.length;Z<$;++Z)B(re,String(Z))?j.push(y(J,re,ie,ce,String(Z),!0)):j.push("");return Q.forEach(function(te){te.match(/^\d+$/)||j.push(y(J,re,ie,ce,te,!0))}),j}function y(J,re,ie,ce,Q,j){var Z,$,te;if(te=Object.getOwnPropertyDescriptor(re,Q)||{value:re[Q]},te.get?te.set?$=J.stylize("[Getter/Setter]","special"):$=J.stylize("[Getter]","special"):te.set&&($=J.stylize("[Setter]","special")),B(ce,Q)||(Z="["+Q+"]"),$||(J.seen.indexOf(te.value)<0?(l(ie)?$=n(J,te.value,null):$=n(J,te.value,ie-1),$.indexOf(`
`)>-1&&(j?$=$.split(`
`).map(function(se){return"  "+se}).join(`
`).slice(2):$=`
`+$.split(`
`).map(function(se){return"   "+se}).join(`
`))):$=J.stylize("[Circular]","special")),x(Z)){if(j&&Q.match(/^\d+$/))return $;Z=JSON.stringify(""+Q),Z.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Z=Z.slice(1,-1),Z=J.stylize(Z,"name")):(Z=Z.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Z=J.stylize(Z,"string"))}return Z+": "+$}function c(J,re,ie){var ce=J.reduce(function(Q,j){return j.indexOf(`
`)>=0,Q+j.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ce>60?ie[0]+(re===""?"":re+`
 `)+" "+J.join(`,
  `)+" "+ie[1]:ie[0]+re+" "+J.join(", ")+" "+ie[1]}V.types=e(4936);function T(J){return Array.isArray(J)}V.isArray=T;function h(J){return typeof J=="boolean"}V.isBoolean=h;function l(J){return J===null}V.isNull=l;function d(J){return J==null}V.isNullOrUndefined=d;function E(J){return typeof J=="number"}V.isNumber=E;function S(J){return typeof J=="string"}V.isString=S;function P(J){return typeof J=="symbol"}V.isSymbol=P;function x(J){return J===void 0}V.isUndefined=x;function M(J){return w(J)&&I(J)==="[object RegExp]"}V.isRegExp=M,V.types.isRegExp=M;function w(J){return typeof J=="object"&&J!==null}V.isObject=w;function o(J){return w(J)&&I(J)==="[object Date]"}V.isDate=o,V.types.isDate=o;function L(J){return w(J)&&(I(J)==="[object Error]"||J instanceof Error)}V.isError=L,V.types.isNativeError=L;function m(J){return typeof J=="function"}V.isFunction=m;function F(J){return J===null||typeof J=="boolean"||typeof J=="number"||typeof J=="string"||typeof J=="symbol"||typeof J>"u"}V.isPrimitive=F,V.isBuffer=e(45920);function I(J){return Object.prototype.toString.call(J)}function U(J){return J<10?"0"+J.toString(10):J.toString(10)}var z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N(){var J=new Date,re=[U(J.getHours()),U(J.getMinutes()),U(J.getSeconds())].join(":");return[J.getDate(),z[J.getMonth()],re].join(" ")}V.log=function(){console.log("%s - %s",N(),V.format.apply(V,arguments))},V.inherits=e(42018),V._extend=function(J,re){if(!re||!w(re))return J;for(var ie=Object.keys(re),ce=ie.length;ce--;)J[ie[ce]]=re[ie[ce]];return J};function B(J,re){return Object.prototype.hasOwnProperty.call(J,re)}var O=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;V.promisify=function(re){if(typeof re!="function")throw new TypeError('The "original" argument must be of type Function');if(O&&re[O]){var ie=re[O];if(typeof ie!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ie,O,{value:ie,enumerable:!1,writable:!1,configurable:!0}),ie}function ie(){for(var ce,Q,j=new Promise(function(te,se){ce=te,Q=se}),Z=[],$=0;$<arguments.length;$++)Z.push(arguments[$]);Z.push(function(te,se){te?Q(te):ce(se)});try{re.apply(this,Z)}catch(te){Q(te)}return j}return Object.setPrototypeOf(ie,Object.getPrototypeOf(re)),O&&Object.defineProperty(ie,O,{value:ie,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ie,_(re))},V.promisify.custom=O;function H(J,re){if(!J){var ie=new Error("Promise was rejected with a falsy value");ie.reason=J,J=ie}return re(J)}function Y(J){if(typeof J!="function")throw new TypeError('The "original" argument must be of type Function');function re(){for(var ie=[],ce=0;ce<arguments.length;ce++)ie.push(arguments[ce]);var Q=ie.pop();if(typeof Q!="function")throw new TypeError("The last argument must be of type Function");var j=this,Z=function(){return Q.apply(j,arguments)};J.apply(this,ie).then(function($){g.nextTick(Z.bind(null,null,$))},function($){g.nextTick(H.bind(null,$,Z))})}return Object.setPrototypeOf(re,Object.getPrototypeOf(J)),Object.defineProperties(re,_(J)),re}V.callbackify=Y},40372:function(G,V,e){var g=e(86249);G.exports=function(a){return g("webgl",a)}},21099:function(G,V,e){var g=e(31353),_=e(72077),a=e(6614),C=e(40383),A=a("Object.prototype.toString"),v=e(84543)(),p=typeof globalThis>"u"?e.g:globalThis,t=_(),r=a("String.prototype.slice"),s={},n=Object.getPrototypeOf;v&&C&&n&&g(t,function(u){if(typeof p[u]=="function"){var y=new p[u];if(Symbol.toStringTag in y){var c=n(y),T=C(c,Symbol.toStringTag);if(!T){var h=n(c);T=C(h,Symbol.toStringTag)}s[u]=T.get}}});var i=function(y){var c=!1;return g(s,function(T,h){if(!c)try{var l=T.call(y);l===h&&(c=l)}catch{}}),c},f=e(9187);G.exports=function(y){return f(y)?!v||!(Symbol.toStringTag in y)?r(A(y),8,-1):i(y):!1}},3961:function(G,V,e){var g=e(63489),_=e(56131),a=g.instance();function C(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}C.prototype=new g.baseCalendar,_(C.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(f,u){if(typeof f=="string"){var y=f.match(v);return y?y[0]:""}var c=this._validateYear(f),T=f.month(),h=""+this.toChineseMonth(c,T);return u&&h.length<2&&(h="0"+h),this.isIntercalaryMonth(c,T)&&(h+="i"),h},monthNames:function(f){if(typeof f=="string"){var u=f.match(p);return u?u[0]:""}var y=this._validateYear(f),c=f.month(),T=this.toChineseMonth(y,c),h=["","","","","","","","","","","",""][T-1];return this.isIntercalaryMonth(y,c)&&(h=""+h),h},monthNamesShort:function(f){if(typeof f=="string"){var u=f.match(t);return u?u[0]:""}var y=this._validateYear(f),c=f.month(),T=this.toChineseMonth(y,c),h=["","","","","","","","","","","",""][T-1];return this.isIntercalaryMonth(y,c)&&(h=""+h),h},parseMonth:function(f,u){f=this._validateYear(f);var y=parseInt(u),c;if(isNaN(y))u[0]===""&&(c=!0,u=u.substring(1)),u[u.length-1]===""&&(u=u.substring(0,u.length-1)),y=1+["","","","","","","","","","","",""].indexOf(u);else{var T=u[u.length-1];c=T==="i"||T==="I"}var h=this.toMonthIndex(f,y,c);return h},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(f,u){if(f.year&&(f=f.year()),typeof f!="number"||f<1888||f>2111)throw u.replace(/\{0\}/,this.local.name);return f},toMonthIndex:function(f,u,y){var c=this.intercalaryMonth(f),T=y&&u!==c;if(T||u<1||u>12)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var h;return c?!y&&u<=c?h=u-1:h=u:h=u-1,h},toChineseMonth:function(f,u){f.year&&(f=f.year(),u=f.month());var y=this.intercalaryMonth(f),c=y?12:11;if(u<0||u>c)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var T;return y?u<y?T=u+1:T=u:T=u+1,T},intercalaryMonth:function(f){f=this._validateYear(f);var u=r[f-r[0]],y=u>>13;return y},isIntercalaryMonth:function(f,u){f.year&&(f=f.year(),u=f.month());var y=this.intercalaryMonth(f);return!!y&&y===u},leapYear:function(f){return this.intercalaryMonth(f)!==0},weekOfYear:function(f,u,y){var c=this._validateYear(f,g.local.invalidyear),T=s[c-s[0]],h=T>>9&4095,l=T>>5&15,d=T&31,E;E=a.newDate(h,l,d),E.add(4-(E.dayOfWeek()||7),"d");var S=this.toJD(f,u,y)-E.toJD();return 1+Math.floor(S/7)},monthsInYear:function(f){return this.leapYear(f)?13:12},daysInMonth:function(f,u){f.year&&(u=f.month(),f=f.year()),f=this._validateYear(f);var y=r[f-r[0]],c=y>>13,T=c?12:11;if(u>T)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var h=y&1<<12-u?30:29;return h},weekDay:function(f,u,y){return(this.dayOfWeek(f,u,y)||7)<6},toJD:function(f,u,y){var c=this._validate(f,h,y,g.local.invalidDate);f=this._validateYear(c.year()),u=c.month(),y=c.day();var T=this.isIntercalaryMonth(f,u),h=this.toChineseMonth(f,u),l=i(f,h,y,T);return a.toJD(l.year,l.month,l.day)},fromJD:function(f){var u=a.fromJD(f),y=n(u.year(),u.month(),u.day()),c=this.toMonthIndex(y.year,y.month,y.isIntercalary);return this.newDate(y.year,c,y.day)},fromString:function(f){var u=f.match(A),y=this._validateYear(+u[1]),c=+u[2],T=!!u[3],h=this.toMonthIndex(y,c,T),l=+u[4];return this.newDate(y,h,l)},add:function(f,u,y){var c=f.year(),T=f.month(),h=this.isIntercalaryMonth(c,T),l=this.toChineseMonth(c,T),d=Object.getPrototypeOf(C.prototype).add.call(this,f,u,y);if(y==="y"){var E=d.year(),S=d.month(),P=this.isIntercalaryMonth(E,l),x=h&&P?this.toMonthIndex(E,l,!0):this.toMonthIndex(E,l,!1);x!==S&&d.month(x)}return d}});var A=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,p=/^??[]?/m,t=/^??[]?/m;g.calendars.chinese=C;var r=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],s=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function n(f,u,y,c){var T,h;if(typeof f=="object")T=f,h=u||{};else{var l=typeof f=="number"&&f>=1888&&f<=2111;if(!l)throw new Error("Solar year outside range 1888-2111");var d=typeof u=="number"&&u>=1&&u<=12;if(!d)throw new Error("Solar month outside range 1 - 12");var E=typeof y=="number"&&y>=1&&y<=31;if(!E)throw new Error("Solar day outside range 1 - 31");T={year:f,month:u,day:y},h=c||{}}var S=s[T.year-s[0]],P=T.year<<9|T.month<<5|T.day;h.year=P>=S?T.year:T.year-1,S=s[h.year-s[0]];var x=S>>9&4095,M=S>>5&15,w=S&31,o,L=new Date(x,M-1,w),m=new Date(T.year,T.month-1,T.day);o=Math.round((m-L)/864e5);var F=r[h.year-r[0]],I;for(I=0;I<13;I++){var U=F&1<<12-I?30:29;if(o<U)break;o-=U}var z=F>>13;return!z||I<z?(h.isIntercalary=!1,h.month=1+I):I===z?(h.isIntercalary=!0,h.month=I):(h.isIntercalary=!1,h.month=I),h.day=1+o,h}function i(f,u,y,c,T){var h,l;if(typeof f=="object")l=f,h=u||{};else{var d=typeof f=="number"&&f>=1888&&f<=2111;if(!d)throw new Error("Lunar year outside range 1888-2111");var E=typeof u=="number"&&u>=1&&u<=12;if(!E)throw new Error("Lunar month outside range 1 - 12");var S=typeof y=="number"&&y>=1&&y<=30;if(!S)throw new Error("Lunar day outside range 1 - 30");var P;typeof c=="object"?(P=!1,h=c):(P=!!c,h=T||{}),l={year:f,month:u,day:y,isIntercalary:P}}var x;x=l.day-1;var M=r[l.year-r[0]],w=M>>13,o;w&&(l.month>w||l.isIntercalary)?o=l.month:o=l.month-1;for(var L=0;L<o;L++){var m=M&1<<12-L?30:29;x+=m}var F=s[l.year-s[0]],I=F>>9&4095,U=F>>5&15,z=F&31,N=new Date(I,U-1,z+x);return h.year=N.getFullYear(),h.month=1+N.getMonth(),h.day=N.getDate(),h}},38751:function(G,V,e){var g=e(63489),_=e(56131);function a(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,_(a.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var A=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=A.year()+(A.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),13},weekOfYear:function(C,A,v){var p=this.newDate(C,A,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(C,A){var v=this._validate(C,A,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(C,A,v){return(this.dayOfWeek(C,A,v)||7)<6},toJD:function(C,A,v){var p=this._validate(C,A,v,g.local.invalidDate);return C=p.year(),C<0&&C++,p.day()+(p.month()-1)*30+(C-1)*365+Math.floor(C/4)+this.jdEpoch-1},fromJD:function(C){var A=Math.floor(C)+.5-this.jdEpoch,v=Math.floor((A-Math.floor((A+366)/1461))/365)+1;v<=0&&v--,A=Math.floor(C)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(A/30)+1,t=A-(p-1)*30+1;return this.newDate(v,p,t)}}),g.calendars.coptic=a},86825:function(G,V,e){var g=e(63489),_=e(56131);function a(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,_(a.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(A){return this._validate(A,this.minMonth,this.minDay,g.local.invalidYear),!1},monthsInYear:function(A){return this._validate(A,this.minMonth,this.minDay,g.local.invalidYear),13},daysInYear:function(A){return this._validate(A,this.minMonth,this.minDay,g.local.invalidYear),400},weekOfYear:function(A,v,p){var t=this.newDate(A,v,p);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/8)+1},daysInMonth:function(A,v){var p=this._validate(A,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(A,v,p){var t=this._validate(A,v,p,g.local.invalidDate);return(t.day()+1)%8},weekDay:function(A,v,p){var t=this.dayOfWeek(A,v,p);return t>=2&&t<=6},extraInfo:function(A,v,p){var t=this._validate(A,v,p,g.local.invalidDate);return{century:C[Math.floor((t.year()-1)/100)+1]||""}},toJD:function(A,v,p){var t=this._validate(A,v,p,g.local.invalidDate);return A=t.year()+(t.year()<0?1:0),v=t.month(),p=t.day(),p+(v>1?16:0)+(v>2?(v-2)*32:0)+(A-1)*400+this.jdEpoch-1},fromJD:function(A){A=Math.floor(A+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(A/400)+1;A-=(v-1)*400,A+=A>15?16:0;var p=Math.floor(A/32)+1,t=A-(p-1)*32+1;return this.newDate(v<=0?v-1:v,p,t)}});var C={20:"Fruitbat",21:"Anchovy"};g.calendars.discworld=a},37715:function(G,V,e){var g=e(63489),_=e(56131);function a(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,_(a.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var A=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=A.year()+(A.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),13},weekOfYear:function(C,A,v){var p=this.newDate(C,A,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(C,A){var v=this._validate(C,A,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(C,A,v){return(this.dayOfWeek(C,A,v)||7)<6},toJD:function(C,A,v){var p=this._validate(C,A,v,g.local.invalidDate);return C=p.year(),C<0&&C++,p.day()+(p.month()-1)*30+(C-1)*365+Math.floor(C/4)+this.jdEpoch-1},fromJD:function(C){var A=Math.floor(C)+.5-this.jdEpoch,v=Math.floor((A-Math.floor((A+366)/1461))/365)+1;v<=0&&v--,A=Math.floor(C)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(A/30)+1,t=A-(p-1)*30+1;return this.newDate(v,p,t)}}),g.calendars.ethiopian=a},99384:function(G,V,e){var g=e(63489),_=e(56131);function a(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,_(a.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(A){var v=this._validate(A,this.minMonth,this.minDay,g.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(A){return A=A<0?A+1:A,C(A*7+1,19)<7},monthsInYear:function(A){return this._validate(A,this.minMonth,this.minDay,g.local.invalidYear),this._leapYear(A.year?A.year():A)?13:12},weekOfYear:function(A,v,p){var t=this.newDate(A,v,p);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(A){var v=this._validate(A,this.minMonth,this.minDay,g.local.invalidYear);return A=v.year(),this.toJD(A===-1?1:A+1,7,1)-this.toJD(A,7,1)},daysInMonth:function(A,v){return A.year&&(v=A.month(),A=A.year()),this._validate(A,v,this.minDay,g.local.invalidMonth),v===12&&this.leapYear(A)||v===8&&C(this.daysInYear(A),10)===5?30:v===9&&C(this.daysInYear(A),10)===3?29:this.daysPerMonth[v-1]},weekDay:function(A,v,p){return this.dayOfWeek(A,v,p)!==6},extraInfo:function(A,v,p){var t=this._validate(A,v,p,g.local.invalidDate);return{yearType:(this.leapYear(t)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(t)%10-3]}},toJD:function(A,v,p){var t=this._validate(A,v,p,g.local.invalidDate);A=t.year(),v=t.month(),p=t.day();var r=A<=0?A+1:A,s=this.jdEpoch+this._delay1(r)+this._delay2(r)+p+1;if(v<7){for(var n=7;n<=this.monthsInYear(A);n++)s+=this.daysInMonth(A,n);for(var n=1;n<v;n++)s+=this.daysInMonth(A,n)}else for(var n=7;n<v;n++)s+=this.daysInMonth(A,n);return s},_delay1:function(A){var v=Math.floor((235*A-234)/19),p=12084+13753*v,t=v*29+Math.floor(p/25920);return C(3*(t+1),7)<3&&t++,t},_delay2:function(A){var v=this._delay1(A-1),p=this._delay1(A),t=this._delay1(A+1);return t-p===356?2:p-v===382?1:0},fromJD:function(A){A=Math.floor(A)+.5;for(var v=Math.floor((A-this.jdEpoch)*98496/35975351)-1;A>=this.toJD(v===-1?1:v+1,7,1);)v++;for(var p=A<this.toJD(v,1,1)?7:1;A>this.toJD(v,p,this.daysInMonth(v,p));)p++;var t=A-this.toJD(v,p,1)+1;return this.newDate(v,p,t)}});function C(A,v){return A-v*Math.floor(A/v)}g.calendars.hebrew=a},43805:function(G,V,e){var g=e(63489),_=e(56131);function a(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,_(a.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(C){var A=this._validate(C,this.minMonth,this.minDay,g.local.invalidYear);return(A.year()*11+14)%30<11},weekOfYear:function(C,A,v){var p=this.newDate(C,A,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(C){return this.leapYear(C)?355:354},daysInMonth:function(C,A){var v=this._validate(C,A,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===12&&this.leapYear(v.year())?1:0)},weekDay:function(C,A,v){return this.dayOfWeek(C,A,v)!==5},toJD:function(C,A,v){var p=this._validate(C,A,v,g.local.invalidDate);return C=p.year(),A=p.month(),v=p.day(),C=C<=0?C+1:C,v+Math.ceil(29.5*(A-1))+(C-1)*354+Math.floor((3+11*C)/30)+this.jdEpoch-1},fromJD:function(C){C=Math.floor(C)+.5;var A=Math.floor((30*(C-this.jdEpoch)+10646)/10631);A=A<=0?A-1:A;var v=Math.min(12,Math.ceil((C-29-this.toJD(A,1,1))/29.5)+1),p=C-this.toJD(A,v,1)+1;return this.newDate(A,v,p)}}),g.calendars.islamic=a},88874:function(G,V,e){var g=e(63489),_=e(56131);function a(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,_(a.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var A=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=A.year()<0?A.year()+1:A.year();return v%4===0},weekOfYear:function(C,A,v){var p=this.newDate(C,A,v);return p.add(4-(p.dayOfWeek()||7),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(C,A){var v=this._validate(C,A,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(C,A,v){return(this.dayOfWeek(C,A,v)||7)<6},toJD:function(C,A,v){var p=this._validate(C,A,v,g.local.invalidDate);return C=p.year(),A=p.month(),v=p.day(),C<0&&C++,A<=2&&(C--,A+=12),Math.floor(365.25*(C+4716))+Math.floor(30.6001*(A+1))+v-1524.5},fromJD:function(C){var A=Math.floor(C+.5),v=A+1524,p=Math.floor((v-122.1)/365.25),t=Math.floor(365.25*p),r=Math.floor((v-t)/30.6001),s=r-Math.floor(r<14?1:13),n=p-Math.floor(s>2?4716:4715),i=v-t-Math.floor(30.6001*r);return n<=0&&n--,this.newDate(n,s,i)}}),g.calendars.julian=a},83290:function(G,V,e){var g=e(63489),_=e(56131);function a(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,_(a.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),!1},formatYear:function(v){var p=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear);v=p.year();var t=Math.floor(v/400);v=v%400,v+=v<0?400:0;var r=Math.floor(v/20);return t+"."+r+"."+v%20},forYear:function(v){if(v=v.split("."),v.length<3)throw"Invalid Mayan year";for(var p=0,t=0;t<v.length;t++){var r=parseInt(v[t],10);if(Math.abs(r)>19||t>0&&r<0)throw"Invalid Mayan year";p=p*20+r}return p},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),18},weekOfYear:function(v,p,t){return this._validate(v,p,t,g.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),360},daysInMonth:function(v,p){return this._validate(v,p,this.minDay,g.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,p,t){var r=this._validate(v,p,t,g.local.invalidDate);return r.day()},weekDay:function(v,p,t){return this._validate(v,p,t,g.local.invalidDate),!0},extraInfo:function(v,p,t){var r=this._validate(v,p,t,g.local.invalidDate),s=r.toJD(),n=this._toHaab(s),i=this._toTzolkin(s);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[i[0]-1],tzolkinDay:i[0],tzolkinTrecena:i[1]}},_toHaab:function(v){v-=this.jdEpoch;var p=C(v+8+(18-1)*20,365);return[Math.floor(p/20)+1,C(p,20)]},_toTzolkin:function(v){return v-=this.jdEpoch,[A(v+20,20),A(v+4,13)]},toJD:function(v,p,t){var r=this._validate(v,p,t,g.local.invalidDate);return r.day()+r.month()*20+r.year()*360+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var p=Math.floor(v/360);v=v%360,v+=v<0?360:0;var t=Math.floor(v/20),r=v%20;return this.newDate(p,t,r)}});function C(v,p){return v-p*Math.floor(v/p)}function A(v,p){return C(v-1,p)+1}g.calendars.mayan=a},29108:function(G,V,e){var g=e(63489),_=e(56131);function a(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar;var C=g.instance("gregorian");_(a.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(A){var v=this._validate(A,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return C.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(A,v,p){var t=this.newDate(A,v,p);return t.add(1-(t.dayOfWeek()||7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(A,v){var p=this._validate(A,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(A,v,p){return(this.dayOfWeek(A,v,p)||7)<6},toJD:function(r,v,p){var t=this._validate(r,v,p,g.local.invalidMonth),r=t.year();r<0&&r++;for(var s=t.day(),n=1;n<t.month();n++)s+=this.daysPerMonth[n-1];return s+C.toJD(r+1468,3,13)},fromJD:function(A){A=Math.floor(A+.5);for(var v=Math.floor((A-(this.jdEpoch-1))/366);A>=this.toJD(v+1,1,1);)v++;for(var p=A-Math.floor(this.toJD(v,1,1)+.5)+1,t=1;p>this.daysInMonth(v,t);)p-=this.daysInMonth(v,t),t++;return this.newDate(v,t,p)}}),g.calendars.nanakshahi=a},55422:function(G,V,e){var g=e(63489),_=e(56131);function a(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,_(a.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(C){return this.daysInYear(C)!==this.daysPerYear},weekOfYear:function(C,A,v){var p=this.newDate(C,A,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(C){var A=this._validate(C,this.minMonth,this.minDay,g.local.invalidYear);if(C=A.year(),typeof this.NEPALI_CALENDAR_DATA[C]>"u")return this.daysPerYear;for(var v=0,p=this.minMonth;p<=12;p++)v+=this.NEPALI_CALENDAR_DATA[C][p];return v},daysInMonth:function(C,A){return C.year&&(A=C.month(),C=C.year()),this._validate(C,A,this.minDay,g.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[C]>"u"?this.daysPerMonth[A-1]:this.NEPALI_CALENDAR_DATA[C][A]},weekDay:function(C,A,v){return this.dayOfWeek(C,A,v)!==6},toJD:function(C,A,v){var p=this._validate(C,A,v,g.local.invalidDate);C=p.year(),A=p.month(),v=p.day();var t=g.instance(),r=0,s=A,n=C;this._createMissingCalendarData(C);var i=C-(s>9||s===9&&v>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(A!==9&&(r=v,s--);s!==9;)s<=0&&(s=12,n--),r+=this.NEPALI_CALENDAR_DATA[n][s],s--;return A===9?(r+=v-this.NEPALI_CALENDAR_DATA[n][0],r<0&&(r+=t.daysInYear(i))):r+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],t.newDate(i,1,1).add(r,"d").toJD()},fromJD:function(C){var A=g.instance(),v=A.fromJD(C),p=v.year(),t=v.dayOfYear(),r=p+56;this._createMissingCalendarData(r);for(var s=9,n=this.NEPALI_CALENDAR_DATA[r][0],i=this.NEPALI_CALENDAR_DATA[r][s]-n+1;t>i;)s++,s>12&&(s=1,r++),i+=this.NEPALI_CALENDAR_DATA[r][s];var f=this.NEPALI_CALENDAR_DATA[r][s]-(i-t);return this.newDate(r,s,f)},_createMissingCalendarData:function(C){var A=this.daysPerMonth.slice(0);A.unshift(17);for(var v=C-1;v<C+2;v++)typeof this.NEPALI_CALENDAR_DATA[v]>"u"&&(this.NEPALI_CALENDAR_DATA[v]=A)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),g.calendars.nepali=a},94320:function(G,V,e){var g=e(63489),_=e(56131);function a(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,_(a.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(A){var v=this._validate(A,this.minMonth,this.minDay,g.local.invalidYear);return((v.year()-(v.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(A,v,p){var t=this.newDate(A,v,p);return t.add(-((t.dayOfWeek()+1)%7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(A,v){var p=this._validate(A,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(A,v,p){return this.dayOfWeek(A,v,p)!==5},toJD:function(A,v,p){var t=this._validate(A,v,p,g.local.invalidDate);A=t.year(),v=t.month(),p=t.day();var r=A-(A>=0?474:473),s=474+C(r,2820);return p+(v<=7?(v-1)*31:(v-1)*30+6)+Math.floor((s*682-110)/2816)+(s-1)*365+Math.floor(r/2820)*1029983+this.jdEpoch-1},fromJD:function(A){A=Math.floor(A)+.5;var v=A-this.toJD(475,1,1),p=Math.floor(v/1029983),t=C(v,1029983),r=2820;if(t!==1029982){var s=Math.floor(t/366),n=C(t,366);r=Math.floor((2134*s+2816*n+2815)/1028522)+s+1}var i=r+2820*p+474;i=i<=0?i-1:i;var f=A-this.toJD(i,1,1)+1,u=f<=186?Math.ceil(f/31):Math.ceil((f-6)/30),y=A-this.toJD(i,u,1)+1;return this.newDate(i,u,y)}});function C(A,v){return A-v*Math.floor(A/v)}g.calendars.persian=a,g.calendars.jalali=a},31320:function(G,V,e){var g=e(63489),_=e(56131),a=g.instance();function C(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}C.prototype=new g.baseCalendar,_(C.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,g.local.invalidYear),p=this._t2gYear(v.year());return a.leapYear(p)},weekOfYear:function(r,v,p){var t=this._validate(r,this.minMonth,this.minDay,g.local.invalidYear),r=this._t2gYear(t.year());return a.weekOfYear(r,t.month(),t.day())},daysInMonth:function(A,v){var p=this._validate(A,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(A,v,p){return(this.dayOfWeek(A,v,p)||7)<6},toJD:function(r,v,p){var t=this._validate(r,v,p,g.local.invalidDate),r=this._t2gYear(t.year());return a.toJD(r,t.month(),t.day())},fromJD:function(A){var v=a.fromJD(A),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(A){return A+this.yearsOffset+(A>=-this.yearsOffset&&A<=-1?1:0)},_g2tYear:function(A){return A-this.yearsOffset-(A>=1&&A<=this.yearsOffset?1:0)}}),g.calendars.taiwan=C},51367:function(G,V,e){var g=e(63489),_=e(56131),a=g.instance();function C(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}C.prototype=new g.baseCalendar,_(C.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,g.local.invalidYear),p=this._t2gYear(v.year());return a.leapYear(p)},weekOfYear:function(r,v,p){var t=this._validate(r,this.minMonth,this.minDay,g.local.invalidYear),r=this._t2gYear(t.year());return a.weekOfYear(r,t.month(),t.day())},daysInMonth:function(A,v){var p=this._validate(A,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(A,v,p){return(this.dayOfWeek(A,v,p)||7)<6},toJD:function(r,v,p){var t=this._validate(r,v,p,g.local.invalidDate),r=this._t2gYear(t.year());return a.toJD(r,t.month(),t.day())},fromJD:function(A){var v=a.fromJD(A),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(A){return A-this.yearsOffset-(A>=1&&A<=this.yearsOffset?1:0)},_g2tYear:function(A){return A+this.yearsOffset+(A>=-this.yearsOffset&&A<=-1?1:0)}}),g.calendars.thai=C},21457:function(G,V,e){var g=e(63489),_=e(56131);function a(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,_(a.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(A){var v=this._validate(A,this.minMonth,this.minDay,g.local.invalidYear);return this.daysInYear(v.year())===355},weekOfYear:function(A,v,p){var t=this.newDate(A,v,p);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(A){for(var v=0,p=1;p<=12;p++)v+=this.daysInMonth(A,p);return v},daysInMonth:function(A,v){for(var p=this._validate(A,v,this.minDay,g.local.invalidMonth),t=p.toJD()-24e5+.5,r=0,s=0;s<C.length;s++){if(C[s]>t)return C[r]-C[r-1];r++}return 30},weekDay:function(A,v,p){return this.dayOfWeek(A,v,p)!==5},toJD:function(A,v,p){var t=this._validate(A,v,p,g.local.invalidDate),r=12*(t.year()-1)+t.month()-15292,s=t.day()+C[r-1]-1;return s+24e5-.5},fromJD:function(A){for(var v=A-24e5+.5,p=0,t=0;t<C.length&&!(C[t]>v);t++)p++;var r=p+15292,s=Math.floor((r-1)/12),n=s+1,i=r-12*s,f=v-C[p-1]+1;return this.newDate(n,i,f)},isValid:function(A,v,p){var t=g.baseCalendar.prototype.isValid.apply(this,arguments);return t&&(A=A.year!=null?A.year:A,t=A>=1276&&A<=1500),t},_validate:function(A,v,p,t){var r=g.baseCalendar.prototype._validate.apply(this,arguments);if(r.year<1276||r.year>1500)throw t.replace(/\{0\}/,this.local.name);return r}}),g.calendars.ummalqura=a;var C=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(G,V,e){var g=e(56131);function _(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}g(_.prototype,{instance:function(t,r){t=(t||"gregorian").toLowerCase(),r=r||"";var s=this._localCals[t+"-"+r];if(!s&&this.calendars[t]&&(s=new this.calendars[t](r),this._localCals[t+"-"+r]=s),!s)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return s},newDate:function(t,r,s,n,i){return n=(t!=null&&t.year?t.calendar():typeof n=="string"?this.instance(n,i):n)||this.instance(),n.newDate(t,r,s)},substituteDigits:function(t){return function(r){return(r+"").replace(/[0-9]/g,function(s){return t[s]})}},substituteChineseDigits:function(t,r){return function(s){for(var n="",i=0;s>0;){var f=s%10;n=(f===0?"":t[f]+r[i])+n,i++,s=Math.floor(s/10)}return n.indexOf(t[1]+r[1])===0&&(n=n.substr(1)),n||t[0]}}});function a(t,r,s,n){if(this._calendar=t,this._year=r,this._month=s,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function C(t,r){return t=""+t,"000000".substring(0,r-t.length)+t}g(a.prototype,{newDate:function(t,r,s){return this._calendar.newDate(t??this,r,s)},year:function(t){return arguments.length===0?this._year:this.set(t,"y")},month:function(t){return arguments.length===0?this._month:this.set(t,"m")},day:function(t){return arguments.length===0?this._day:this.set(t,"d")},date:function(t,r,s){if(!this._calendar.isValid(t,r,s))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=t,this._month=r,this._day=s,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(t,r){return this._calendar.add(this,t,r)},set:function(t,r){return this._calendar.set(this,t,r)},compareTo:function(t){if(this._calendar.name!==t._calendar.name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,t._calendar.local.name);var r=this._year!==t._year?this._year-t._year:this._month!==t._month?this.monthOfYear()-t.monthOfYear():this._day-t._day;return r===0?0:r<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(){return(this.year()<0?"-":"")+C(Math.abs(this.year()),4)+"-"+C(this.month(),2)+"-"+C(this.day(),2)}});function A(){this.shortYearCutoff="+10"}g(A.prototype,{_validateLevel:0,newDate:function(t,r,s){return t==null?this.today():(t.year&&(this._validate(t,r,s,p.local.invalidDate||p.regionalOptions[""].invalidDate),s=t.day(),r=t.month(),t=t.year()),new a(this,t,r,s))},today:function(){return this.fromJSDate(new Date)},epoch:function(t){var r=this._validate(t,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return r.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return(r.year()<0?"-":"")+C(Math.abs(r.year()),4)},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),12},monthOfYear:function(t,r){var s=this._validate(t,r,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return(s.month()+this.monthsInYear(s)-this.firstMonth)%this.monthsInYear(s)+this.minMonth},fromMonthOfYear:function(t,r){var s=(r+this.firstMonth-2*this.minMonth)%this.monthsInYear(t)+this.minMonth;return this._validate(t,s,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth),s},daysInYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return this.leapYear(r)?366:365},dayOfYear:function(t,r,s){var n=this._validate(t,r,s,p.local.invalidDate||p.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(t,r,s){var n=this._validate(t,r,s,p.local.invalidDate||p.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(t,r,s){return this._validate(t,r,s,p.local.invalidDate||p.regionalOptions[""].invalidDate),{}},add:function(t,r,s){return this._validate(t,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate),this._correctAdd(t,this._add(t,r,s),r,s)},_add:function(t,r,s){if(this._validateLevel++,s==="d"||s==="w"){var n=t.toJD()+r*(s==="w"?this.daysInWeek():1),i=t.calendar().fromJD(n);return this._validateLevel--,[i.year(),i.month(),i.day()]}try{var f=t.year()+(s==="y"?r:0),u=t.monthOfYear()+(s==="m"?r:0),i=t.day(),y=function(h){for(;u<h.minMonth;)f--,u+=h.monthsInYear(f);for(var l=h.monthsInYear(f);u>l-1+h.minMonth;)f++,u-=l,l=h.monthsInYear(f)};s==="y"?(t.month()!==this.fromMonthOfYear(f,u)&&(u=this.newDate(f,t.month(),this.minDay).monthOfYear()),u=Math.min(u,this.monthsInYear(f)),i=Math.min(i,this.daysInMonth(f,this.fromMonthOfYear(f,u)))):s==="m"&&(y(this),i=Math.min(i,this.daysInMonth(f,this.fromMonthOfYear(f,u))));var c=[f,this.fromMonthOfYear(f,u),i];return this._validateLevel--,c}catch(T){throw this._validateLevel--,T}},_correctAdd:function(t,r,s,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(r[0]===0||t.year()>0!=r[0]>0)){var i={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],f=s<0?-1:1;r=this._add(t,s*i[0]+f*i[1],i[2])}return t.date(r[0],r[1],r[2])},set:function(t,r,s){this._validate(t,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate);var n=s==="y"?r:t.year(),i=s==="m"?r:t.month(),f=s==="d"?r:t.day();return(s==="y"||s==="m")&&(f=Math.min(f,this.daysInMonth(n,i))),t.date(n,i,f)},isValid:function(t,r,s){this._validateLevel++;var n=this.hasYearZero||t!==0;if(n){var i=this.newDate(t,r,this.minDay);n=r>=this.minMonth&&r-this.minMonth<this.monthsInYear(i)&&s>=this.minDay&&s-this.minDay<this.daysInMonth(i)}return this._validateLevel--,n},toJSDate:function(t,r,s){var n=this._validate(t,r,s,p.local.invalidDate||p.regionalOptions[""].invalidDate);return p.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(t){return this.fromJD(p.instance().fromJSDate(t).toJD())},_validate:function(t,r,s,n){if(t.year){if(this._validateLevel===0&&this.name!==t.calendar().name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,t.calendar().local.name);return t}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(t,r,s))throw n.replace(/\{0\}/,this.local.name);var i=this.newDate(t,r,s);return this._validateLevel--,i}catch(f){throw this._validateLevel--,f}}});function v(t){this.local=this.regionalOptions[t]||this.regionalOptions[""]}v.prototype=new A,g(v.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(s){var r=this._validate(s,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),s=r.year()+(r.year()<0?1:0);return s%4===0&&(s%100!==0||s%400===0)},weekOfYear:function(t,r,s){var n=this.newDate(t,r,s);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(t,r){var s=this._validate(t,r,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===2&&this.leapYear(s.year())?1:0)},weekDay:function(t,r,s){return(this.dayOfWeek(t,r,s)||7)<6},toJD:function(t,r,s){var n=this._validate(t,r,s,p.local.invalidDate||p.regionalOptions[""].invalidDate);t=n.year(),r=n.month(),s=n.day(),t<0&&t++,r<3&&(r+=12,t--);var i=Math.floor(t/100),f=2-i+Math.floor(i/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(r+1))+s+f-1524.5},fromJD:function(t){var r=Math.floor(t+.5),s=Math.floor((r-186721625e-2)/36524.25);s=r+1+s-Math.floor(s/4);var n=s+1524,i=Math.floor((n-122.1)/365.25),f=Math.floor(365.25*i),u=Math.floor((n-f)/30.6001),y=n-f-Math.floor(u*30.6001),c=u-(u>13.5?13:1),T=i-(c>2.5?4716:4715);return T<=0&&T--,this.newDate(T,c,y)},toJSDate:function(t,r,s){var n=this._validate(t,r,s,p.local.invalidDate||p.regionalOptions[""].invalidDate),i=new Date(n.year(),n.month()-1,n.day());return i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0),i.setHours(i.getHours()>12?i.getHours()+2:0),i},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())}});var p=G.exports=new _;p.cdate=a,p.baseCalendar=A,p.calendars.gregorian=v},94338:function(G,V,e){var g=e(56131),_=e(63489);g(_.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),_.local=_.regionalOptions[""],g(_.cdate.prototype,{formatDate:function(a,C){return typeof a!="string"&&(C=a,a=""),this._calendar.formatDate(a||"",this,C)}}),g(_.baseCalendar.prototype,{UNIX_EPOCH:_.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:_.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(a,C,A){if(typeof a!="string"&&(A=C,C=a,a=""),!C)return"";if(C.calendar()!==this)throw _.local.invalidFormat||_.regionalOptions[""].invalidFormat;a=a||this.local.dateFormat,A=A||{};var v=A.dayNamesShort||this.local.dayNamesShort,p=A.dayNames||this.local.dayNames,t=A.monthNumbers||this.local.monthNumbers,r=A.monthNamesShort||this.local.monthNamesShort,s=A.monthNames||this.local.monthNames;A.calculateWeek||this.local.calculateWeek;for(var n=function(S,P){for(var x=1;E+x<a.length&&a.charAt(E+x)===S;)x++;return E+=x-1,Math.floor(x/(P||1))>1},i=function(S,P,x,M){var w=""+P;if(n(S,M))for(;w.length<x;)w="0"+w;return w},f=function(S,P,x,M){return n(S)?M[P]:x[P]},u=this,y=function(S){return typeof t=="function"?t.call(u,S,n("m")):h(i("m",S.month(),2))},c=function(S,P){return P?typeof s=="function"?s.call(u,S):s[S.month()-u.minMonth]:typeof r=="function"?r.call(u,S):r[S.month()-u.minMonth]},T=this.local.digits,h=function(S){return A.localNumbers&&T?T(S):S},l="",d=!1,E=0;E<a.length;E++)if(d)a.charAt(E)==="'"&&!n("'")?d=!1:l+=a.charAt(E);else switch(a.charAt(E)){case"d":l+=h(i("d",C.day(),2));break;case"D":l+=f("D",C.dayOfWeek(),v,p);break;case"o":l+=i("o",C.dayOfYear(),3);break;case"w":l+=i("w",C.weekOfYear(),2);break;case"m":l+=y(C);break;case"M":l+=c(C,n("M"));break;case"y":l+=n("y",2)?C.year():(C.year()%100<10?"0":"")+C.year()%100;break;case"Y":n("Y",2),l+=C.formatYear();break;case"J":l+=C.toJD();break;case"@":l+=(C.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":l+=(C.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":n("'")?l+="'":d=!0;break;default:l+=a.charAt(E)}return l},parseDate:function(a,C,A){if(C==null)throw _.local.invalidArguments||_.regionalOptions[""].invalidArguments;if(C=typeof C=="object"?C.toString():C+"",C==="")return null;a=a||this.local.dateFormat,A=A||{};var v=A.shortYearCutoff||this.shortYearCutoff;v=typeof v!="string"?v:this.today().year()%100+parseInt(v,10);for(var p=A.dayNamesShort||this.local.dayNamesShort,t=A.dayNames||this.local.dayNames,r=A.parseMonth||this.local.parseMonth,s=A.monthNumbers||this.local.monthNumbers,n=A.monthNamesShort||this.local.monthNamesShort,i=A.monthNames||this.local.monthNames,f=-1,u=-1,y=-1,c=-1,T=-1,h=!1,l=!1,d=function(I,U){for(var z=1;L+z<a.length&&a.charAt(L+z)===I;)z++;return L+=z-1,Math.floor(z/(U||1))>1},E=function(I,U){var z=d(I,U),N=[2,3,z?4:2,z?4:2,10,11,20]["oyYJ@!".indexOf(I)+1],B=new RegExp("^-?\\d{1,"+N+"}"),O=C.substring(o).match(B);if(!O)throw(_.local.missingNumberAt||_.regionalOptions[""].missingNumberAt).replace(/\{0\}/,o);return o+=O[0].length,parseInt(O[0],10)},S=this,P=function(){if(typeof s=="function"){d("m");var I=s.call(S,C.substring(o));return o+=I.length,I}return E("m")},x=function(I,U,z,N){for(var B=d(I,N)?z:U,O=0;O<B.length;O++)if(C.substr(o,B[O].length).toLowerCase()===B[O].toLowerCase())return o+=B[O].length,O+S.minMonth;throw(_.local.unknownNameAt||_.regionalOptions[""].unknownNameAt).replace(/\{0\}/,o)},M=function(){if(typeof i=="function"){var I=d("M")?i.call(S,C.substring(o)):n.call(S,C.substring(o));return o+=I.length,I}return x("M",n,i)},w=function(){if(C.charAt(o)!==a.charAt(L))throw(_.local.unexpectedLiteralAt||_.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,o);o++},o=0,L=0;L<a.length;L++)if(l)a.charAt(L)==="'"&&!d("'")?l=!1:w();else switch(a.charAt(L)){case"d":c=E("d");break;case"D":x("D",p,t);break;case"o":T=E("o");break;case"w":E("w");break;case"m":y=P();break;case"M":y=M();break;case"y":var m=L;h=!d("y",2),L=m,u=E("y",2);break;case"Y":u=E("Y",2);break;case"J":f=E("J")+.5,C.charAt(o)==="."&&(o++,E("J"));break;case"@":f=E("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":f=E("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":o=C.length;break;case"'":d("'")?w():l=!0;break;default:w()}if(o<C.length)throw _.local.unexpectedText||_.regionalOptions[""].unexpectedText;if(u===-1?u=this.today().year():u<100&&h&&(u+=v===-1?1900:this.today().year()-this.today().year()%100-(u<=v?0:100)),typeof y=="string"&&(y=r.call(this,u,y)),T>-1){y=1,c=T;for(var F=this.daysInMonth(u,y);c>F;F=this.daysInMonth(u,y))y++,c-=F}return f>-1?this.fromJD(f):this.newDate(u,y,c)},determineDate:function(a,C,A,v,p){A&&typeof A!="object"&&(p=v,v=A,A=null),typeof v!="string"&&(p=v,v="");var t=this,r=function(s){try{return t.parseDate(v,s,p)}catch{}s=s.toLowerCase();for(var n=(s.match(/^c/)&&A?A.newDate():null)||t.today(),i=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,f=i.exec(s);f;)n.add(parseInt(f[1],10),f[2]||"d"),f=i.exec(s);return n};return C=C?C.newDate():null,a=a==null?C:typeof a=="string"?r(a):typeof a=="number"?isNaN(a)||a===1/0||a===-1/0?C:t.today().add(a,"d"):t.newDate(a),a}})},69862:function(){},40964:function(){},72077:function(G,V,e){var g=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],_=typeof globalThis>"u"?e.g:globalThis;G.exports=function(){for(var C=[],A=0;A<g.length;A++)typeof _[g[A]]=="function"&&(C[C.length]=g[A]);return C}},81684:function(G,V,e){e.d(V,{sX:function(){return Pe},k4:function(){return se}});function g(be,Le,We){be.prototype=Le.prototype=We,We.constructor=be}function _(be,Le){var We=Object.create(be.prototype);for(var je in Le)We[je]=Le[je];return We}function a(){}var C=.7,A=1/C,v="\\s*([+-]?\\d+)\\s*",p="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",r=/^#([0-9a-f]{3,8})$/,s=new RegExp("^rgb\\(".concat(v,",").concat(v,",").concat(v,"\\)$")),n=new RegExp("^rgb\\(".concat(t,",").concat(t,",").concat(t,"\\)$")),i=new RegExp("^rgba\\(".concat(v,",").concat(v,",").concat(v,",").concat(p,"\\)$")),f=new RegExp("^rgba\\(".concat(t,",").concat(t,",").concat(t,",").concat(p,"\\)$")),u=new RegExp("^hsl\\(".concat(p,",").concat(t,",").concat(t,"\\)$")),y=new RegExp("^hsla\\(".concat(p,",").concat(t,",").concat(t,",").concat(p,"\\)$")),c={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};g(a,E,{copy:function(Le){return Object.assign(new this.constructor,this,Le)},displayable:function(){return this.rgb().displayable()},hex:T,formatHex:T,formatHex8:h,formatHsl:l,formatRgb:d,toString:d});function T(){return this.rgb().formatHex()}function h(){return this.rgb().formatHex8()}function l(){return N(this).formatHsl()}function d(){return this.rgb().formatRgb()}function E(be){var Le,We;return be=(be+"").trim().toLowerCase(),(Le=r.exec(be))?(We=Le[1].length,Le=parseInt(Le[1],16),We===6?S(Le):We===3?new w(Le>>8&15|Le>>4&240,Le>>4&15|Le&240,(Le&15)<<4|Le&15,1):We===8?P(Le>>24&255,Le>>16&255,Le>>8&255,(Le&255)/255):We===4?P(Le>>12&15|Le>>8&240,Le>>8&15|Le>>4&240,Le>>4&15|Le&240,((Le&15)<<4|Le&15)/255):null):(Le=s.exec(be))?new w(Le[1],Le[2],Le[3],1):(Le=n.exec(be))?new w(Le[1]*255/100,Le[2]*255/100,Le[3]*255/100,1):(Le=i.exec(be))?P(Le[1],Le[2],Le[3],Le[4]):(Le=f.exec(be))?P(Le[1]*255/100,Le[2]*255/100,Le[3]*255/100,Le[4]):(Le=u.exec(be))?z(Le[1],Le[2]/100,Le[3]/100,1):(Le=y.exec(be))?z(Le[1],Le[2]/100,Le[3]/100,Le[4]):c.hasOwnProperty(be)?S(c[be]):be==="transparent"?new w(NaN,NaN,NaN,0):null}function S(be){return new w(be>>16&255,be>>8&255,be&255,1)}function P(be,Le,We,je){return je<=0&&(be=Le=We=NaN),new w(be,Le,We,je)}function x(be){return be instanceof a||(be=E(be)),be?(be=be.rgb(),new w(be.r,be.g,be.b,be.opacity)):new w}function M(be,Le,We,je){return arguments.length===1?x(be):new w(be,Le,We,je??1)}function w(be,Le,We,je){this.r=+be,this.g=+Le,this.b=+We,this.opacity=+je}g(w,M,_(a,{brighter:function(Le){return Le=Le==null?A:Math.pow(A,Le),new w(this.r*Le,this.g*Le,this.b*Le,this.opacity)},darker:function(Le){return Le=Le==null?C:Math.pow(C,Le),new w(this.r*Le,this.g*Le,this.b*Le,this.opacity)},rgb:function(){return this},clamp:function(){return new w(I(this.r),I(this.g),I(this.b),F(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:o,formatHex:o,formatHex8:L,formatRgb:m,toString:m}));function o(){return"#".concat(U(this.r)).concat(U(this.g)).concat(U(this.b))}function L(){return"#".concat(U(this.r)).concat(U(this.g)).concat(U(this.b)).concat(U((isNaN(this.opacity)?1:this.opacity)*255))}function m(){var be=F(this.opacity);return"".concat(be===1?"rgb(":"rgba(").concat(I(this.r),", ").concat(I(this.g),", ").concat(I(this.b)).concat(be===1?")":", ".concat(be,")"))}function F(be){return isNaN(be)?1:Math.max(0,Math.min(1,be))}function I(be){return Math.max(0,Math.min(255,Math.round(be)||0))}function U(be){return be=I(be),(be<16?"0":"")+be.toString(16)}function z(be,Le,We,je){return je<=0?be=Le=We=NaN:We<=0||We>=1?be=Le=NaN:Le<=0&&(be=NaN),new O(be,Le,We,je)}function N(be){if(be instanceof O)return new O(be.h,be.s,be.l,be.opacity);if(be instanceof a||(be=E(be)),!be)return new O;if(be instanceof O)return be;be=be.rgb();var Le=be.r/255,We=be.g/255,je=be.b/255,Fe=Math.min(Le,We,je),Ze=Math.max(Le,We,je),ut=NaN,at=Ze-Fe,it=(Ze+Fe)/2;return at?(Le===Ze?ut=(We-je)/at+(We<je)*6:We===Ze?ut=(je-Le)/at+2:ut=(Le-We)/at+4,at/=it<.5?Ze+Fe:2-Ze-Fe,ut*=60):at=it>0&&it<1?0:ut,new O(ut,at,it,be.opacity)}function B(be,Le,We,je){return arguments.length===1?N(be):new O(be,Le,We,je??1)}function O(be,Le,We,je){this.h=+be,this.s=+Le,this.l=+We,this.opacity=+je}g(O,B,_(a,{brighter:function(Le){return Le=Le==null?A:Math.pow(A,Le),new O(this.h,this.s,this.l*Le,this.opacity)},darker:function(Le){return Le=Le==null?C:Math.pow(C,Le),new O(this.h,this.s,this.l*Le,this.opacity)},rgb:function(){var Le=this.h%360+(this.h<0)*360,We=isNaN(Le)||isNaN(this.s)?0:this.s,je=this.l,Fe=je+(je<.5?je:1-je)*We,Ze=2*je-Fe;return new w(J(Le>=240?Le-240:Le+120,Ze,Fe),J(Le,Ze,Fe),J(Le<120?Le+240:Le-120,Ze,Fe),this.opacity)},clamp:function(){return new O(H(this.h),Y(this.s),Y(this.l),F(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Le=F(this.opacity);return"".concat(Le===1?"hsl(":"hsla(").concat(H(this.h),", ").concat(Y(this.s)*100,"%, ").concat(Y(this.l)*100,"%").concat(Le===1?")":", ".concat(Le,")"))}}));function H(be){return be=(be||0)%360,be<0?be+360:be}function Y(be){return Math.max(0,Math.min(1,be||0))}function J(be,Le,We){return(be<60?Le+(We-Le)*be/60:be<180?We:be<240?Le+(We-Le)*(240-be)/60:Le)*255}var re=function(be){return function(){return be}};function ie(be,Le){return function(We){return be+We*Le}}function ce(be,Le,We){return be=Math.pow(be,We),Le=Math.pow(Le,We)-be,We=1/We,function(je){return Math.pow(be+je*Le,We)}}function Q(be){return(be=+be)==1?j:function(Le,We){return We-Le?ce(Le,We,be):re(isNaN(Le)?We:Le)}}function j(be,Le){var We=Le-be;return We?ie(be,We):re(isNaN(be)?Le:be)}var Z=function be(Le){var We=Q(Le);function je(Fe,Ze){var ut=We((Fe=M(Fe)).r,(Ze=M(Ze)).r),at=We(Fe.g,Ze.g),it=We(Fe.b,Ze.b),$e=j(Fe.opacity,Ze.opacity);return function(st){return Fe.r=ut(st),Fe.g=at(st),Fe.b=it(st),Fe.opacity=$e(st),Fe+""}}return je.gamma=be,je}(1);function $(be,Le){var We=Le?Le.length:0,je=be?Math.min(We,be.length):0,Fe=new Array(je),Ze=new Array(We),ut;for(ut=0;ut<je;++ut)Fe[ut]=Pe(be[ut],Le[ut]);for(;ut<We;++ut)Ze[ut]=Le[ut];return function(at){for(ut=0;ut<je;++ut)Ze[ut]=Fe[ut](at);return Ze}}function te(be,Le){var We=new Date;return be=+be,Le=+Le,function(je){return We.setTime(be*(1-je)+Le*je),We}}function se(be,Le){return be=+be,Le=+Le,function(We){return be*(1-We)+Le*We}}function ee(be){"@babel/helpers - typeof";return ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Le){return typeof Le}:function(Le){return Le&&typeof Symbol=="function"&&Le.constructor===Symbol&&Le!==Symbol.prototype?"symbol":typeof Le},ee(be)}function q(be,Le){var We={},je={},Fe;(be===null||ee(be)!=="object")&&(be={}),(Le===null||ee(Le)!=="object")&&(Le={});for(Fe in Le)Fe in be?We[Fe]=Pe(be[Fe],Le[Fe]):je[Fe]=Le[Fe];return function(Ze){for(Fe in We)je[Fe]=We[Fe](Ze);return je}}var le=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oe=new RegExp(le.source,"g");function he(be){return function(){return be}}function me(be){return function(Le){return be(Le)+""}}function Ce(be,Le){var We=le.lastIndex=oe.lastIndex=0,je,Fe,Ze,ut=-1,at=[],it=[];for(be=be+"",Le=Le+"";(je=le.exec(be))&&(Fe=oe.exec(Le));)(Ze=Fe.index)>We&&(Ze=Le.slice(We,Ze),at[ut]?at[ut]+=Ze:at[++ut]=Ze),(je=je[0])===(Fe=Fe[0])?at[ut]?at[ut]+=Fe:at[++ut]=Fe:(at[++ut]=null,it.push({i:ut,x:se(je,Fe)})),We=oe.lastIndex;return We<Le.length&&(Ze=Le.slice(We),at[ut]?at[ut]+=Ze:at[++ut]=Ze),at.length<2?it[0]?me(it[0].x):he(Le):(Le=it.length,function($e){for(var st=0,ct;st<Le;++st)at[(ct=it[st]).i]=ct.x($e);return at.join("")})}function Ae(be,Le){Le||(Le=[]);var We=be?Math.min(Le.length,be.length):0,je=Le.slice(),Fe;return function(Ze){for(Fe=0;Fe<We;++Fe)je[Fe]=be[Fe]*(1-Ze)+Le[Fe]*Ze;return je}}function Ue(be){return ArrayBuffer.isView(be)&&!(be instanceof DataView)}function Ve(be){"@babel/helpers - typeof";return Ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Le){return typeof Le}:function(Le){return Le&&typeof Symbol=="function"&&Le.constructor===Symbol&&Le!==Symbol.prototype?"symbol":typeof Le},Ve(be)}function Pe(be,Le){var We=Ve(Le),je;return Le==null||We==="boolean"?re(Le):(We==="number"?se:We==="string"?(je=E(Le))?(Le=je,Z):Ce:Le instanceof E?Z:Le instanceof Date?te:Ue(Le)?Ae:Array.isArray(Le)?$:typeof Le.valueOf!="function"&&typeof Le.toString!="function"||isNaN(Le)?q:se)(be,Le)}},40402:function(G){G.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},83794:function(G){G.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},96209:function(G){G.exports=JSON.parse('["normal","italic","oblique"]')},15659:function(G){G.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},38732:function(G){G.exports=JSON.parse('["inherit","initial","unset"]')},41901:function(G){G.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},fe={};function Te(G){var V=fe[G];if(V!==void 0)return V.exports;var e=fe[G]={exports:{}};return K[G].call(e.exports,e,e.exports,Te),e.exports}(function(){Te.n=function(G){var V=G&&G.__esModule?function(){return G.default}:function(){return G};return Te.d(V,{a:V}),V}})(),function(){Te.d=function(G,V){for(var e in V)Te.o(V,e)&&!Te.o(G,e)&&Object.defineProperty(G,e,{enumerable:!0,get:V[e]})}}(),function(){Te.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){Te.o=function(G,V){return Object.prototype.hasOwnProperty.call(G,V)}}(),function(){Te.r=function(G){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})}}();var Oe=Te(27909);return Oe}()})})(R4);var lR=R4.exports;(function(b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var k=fe(_4),K=fe(lR);function fe(G){return G&&G.__esModule?G:{default:G}}var Te=(0,k.default)(K.default),Oe=Te;b.default=Oe})(P4);const D4=Rv(P4),_0="https://opinionet-backend.swarm.svana.name";async function by(b,k,K=null){let fe=`${_0}/wordcloud/${b}/${k}`;return K!==null&&(fe+=`?topic=${K}`),(await(await fetch(fe)).json()).words}async function uR(b){return await(await fetch(`${_0}/sentiment-overview/${b}`)).json()}function fR(){const[b,k]=Jr.useState(null),[K,fe]=Jr.useState([]),[Te,Oe]=Jr.useState([]),G=Jr.useContext(jy),V=async()=>{const e=await uR(G);k(e);const g=await by(G,"positive");fe(g);const _=await by(G,"negative");Oe(_)};return Jr.useEffect(()=>{V().catch(console.log)},[G]),ua.jsxs(ua.Fragment,{children:[ua.jsx("div",{className:"row",children:ua.jsx("div",{className:"col pt-3",children:ua.jsxs("div",{className:"bg-light border p-3",children:[ua.jsx("h1",{children:"Topic sentiment"}),ua.jsx("p",{children:"The graph shows average sentiment, level of positive sentiment, level of negative sentiment and discussion volume. The greater the yellow square, the more posts were published on the topic."}),ua.jsx("div",{className:"text-center",children:ua.jsx(D4,{className:"stretchy-plot",data:[{x:b==null?void 0:b.name,y:b==null?void 0:b.levelNegativity,type:"bar",marker:{color:"#dc3545"},name:"Negative sentiment"},{x:b==null?void 0:b.name,y:b==null?void 0:b.levelPositivity,type:"bar",marker:{color:"#28a745"},name:"Positive sentiment"},{x:b==null?void 0:b.name,y:b==null?void 0:b.meanSentiment,marker:{color:"#ffc107",size:b==null?void 0:b.mass,symbol:"square"},name:"Average sentiment",type:"scatter",mode:"markers"},{x:b==null?void 0:b.name,y:b==null?void 0:b.meanSentiment,marker:{color:"#ffffff",size:2,symbol:"square"},type:"scatter",showlegend:!1,mode:"markers"}],layout:{autosize:!0,paper_bgcolor:"#f8f9fa",plot_bgcolor:"#f8f9fa",barmode:"relative",margin:{t:0,r:0,l:39,b:200},xaxis:{tickangle:45},showlegend:!1},config:{responsive:!0,displayModeBar:!1}})})]})})}),ua.jsxs("div",{className:"row",children:[ua.jsx("div",{className:"col-lg-6 pt-3",children:ua.jsxs("div",{className:"bg-light border p-3",children:[ua.jsx("h1",{children:"Word cloud for Positive tweets"}),ua.jsx("p",{children:"Most common words used in positive posts published from Ostrava"}),ua.jsx(xy,{data:K,fontSize:e=>e.value/2,rotate:0,fill:"green"})]})}),ua.jsx("div",{className:"col-lg-6 pt-3",children:ua.jsxs("div",{className:"bg-light border p-3",children:[ua.jsx("h1",{children:"Word cloud for Negative tweets"}),ua.jsx("p",{children:"Most common words used in negative posts published from Ostrava"}),ua.jsx(xy,{data:Te,fontSize:e=>e.value/2,rotate:0,fill:"red"})]})})]})]})}const hv=class hv{constructor(){Bm(this,"topicsResponses",new Map)}static getInstance(){return hv.instance||(hv.instance=new hv),hv.instance}async getTopics(k){if(!this.topicsResponses.has(k)){const fe=await(await fetch(`${_0}/topics/${k}`)).json();this.topicsResponses.set(k,fe)}return this.topicsResponses.get(k)||null}};Bm(hv,"instance");let wy=hv;async function cR(b,k){return await(await fetch(`${_0}/topics/${b}/${k}`)).json()}async function $2(b,k,K){return await(await fetch(`${_0}/summary/${b}/${k}/${K}`)).json()}function xg(b,k){return!b||!k?{values:[0,0,0,0,0,0],topicName:""}:{values:[(b.meanSentiment||1)/(k.meanSentiment||1)||0,(b.levelPositivity||1)/(k.levelPositivity||1)||0,(b.levelNegativity||1)/(k.levelNegativity||1)||0,(b.controversy||1)/(k.controversy||1)||0,(b.mass||1)/(k.mass||1)||0,(b.meanSentiment||1)/(k.meanSentiment||1)||0],topicName:b.name||""}}function hR(){const{topicId:b}=T7(),k=b!==void 0?parseInt(b):null,K=Jr.useContext(jy),[fe,Te]=Jr.useState(null),[Oe,G]=Jr.useState(null),[V,e]=Jr.useState([]),[g,_]=Jr.useState([]),[a,C]=Jr.useState([]),[A,v]=Jr.useState("Loading ..."),[p,t]=Jr.useState("Loading ..."),r=async()=>{if(k===null)return;const n=await cR(K,k),i=await wy.getInstance().getTopics(K);G(n),Te(i),e([xg(n,(i==null?void 0:i.max)||null)]);const f=await by(K,"positive",k);C(f);const u=await by(K,"negative",k);_(u);const y=await $2(K,k,"positive");v(y.summary);const c=await $2(K,k,"negative");t(c.summary)};function s(n){const i=parseInt(n.target.value);if(i===-1)e([xg(Oe,(fe==null?void 0:fe.max)||null)]);else{const f=(fe==null?void 0:fe.topics.find(u=>u.id===i))||null;e([xg(Oe,(fe==null?void 0:fe.max)||null),xg(f,(fe==null?void 0:fe.max)||null)])}}return Jr.useEffect(()=>{r().catch(console.log)},[K]),ua.jsxs(ua.Fragment,{children:[ua.jsxs("div",{className:"row",children:[ua.jsx("div",{className:"col-lg-6 pt-3",children:ua.jsxs("div",{className:"bg-light border p-3",style:{height:"100%"},children:[ua.jsx("h1",{children:(Oe==null?void 0:Oe.name)||""}),ua.jsx("p",{children:(Oe==null?void 0:Oe.topWords)||""}),ua.jsx("table",{className:"table table-bordered",children:ua.jsxs("tbody",{children:[ua.jsxs("tr",{children:[ua.jsx("th",{className:"text-end",children:"Mean sentiment"}),ua.jsx("td",{children:(100*((Oe==null?void 0:Oe.meanSentiment)||0)).toFixed(2)})]}),ua.jsxs("tr",{children:[ua.jsx("th",{className:"text-end",children:"Level of positivity"}),ua.jsx("td",{children:(100*((Oe==null?void 0:Oe.levelPositivity)||0)).toFixed(2)})]}),ua.jsxs("tr",{children:[ua.jsx("th",{className:"text-end",children:"Level of negativity"}),ua.jsx("td",{children:(100*((Oe==null?void 0:Oe.levelNegativity)||0)).toFixed(2)})]}),ua.jsxs("tr",{children:[ua.jsx("th",{className:"text-end",children:"Controversy"}),ua.jsx("td",{children:(100*((Oe==null?void 0:Oe.controversy)||0)).toFixed(2)})]}),ua.jsxs("tr",{children:[ua.jsx("th",{className:"text-end",children:"Volume of discussion"}),ua.jsx("td",{children:((Oe==null?void 0:Oe.mass)||0).toFixed(2)})]})]})}),ua.jsx("h2",{children:"Compare with another topic"}),ua.jsxs("select",{onChange:s,children:[ua.jsx("option",{value:-1,children:"Select topic ..."}),fe==null?void 0:fe.topics.filter(n=>n.id!=(Oe==null?void 0:Oe.id)).map(n=>ua.jsx("option",{value:n.id||0,children:n.name},n.id))]}),ua.jsx(D4,{className:"stretchy-plot",data:V.map(n=>({type:"scatterpolar",r:n.values,theta:["Mean sentiment","Level of positivity","Level of negativity","Controversy","Volume of discussion","Mean sentiment"],fill:"toself",name:n.topicName}))||[],layout:{paper_bgcolor:"#f8f9fa",plot_bgcolor:"#f8f9fa",polar:{radialaxis:{visible:!0,range:[0,1]}},showlegend:!0,autosize:!0,legend:{orientation:"h"}},config:{responsive:!0}})]})}),ua.jsxs("div",{className:"col-lg-6 pt-3",children:[ua.jsxs("div",{className:"bg-light border p-3",style:{height:"50%"},children:[ua.jsx("h1",{className:"text-success",children:"Summary of positive tweets"}),ua.jsx("p",{children:A})]}),ua.jsx("div",{className:"pt-3",style:{height:"50%"},children:ua.jsxs("div",{className:"bg-light border p-3",style:{height:"100%"},children:[ua.jsx("h1",{className:"text-danger",children:"Summary of negative tweets"}),ua.jsx("p",{children:p})]})})]})]}),ua.jsxs("div",{className:"row",children:[ua.jsx("div",{className:"col-lg-6 pt-3",children:ua.jsxs("div",{className:"bg-light border p-3",style:{height:"100%"},children:[ua.jsx("h1",{className:"text-success",children:"Word cloud for positive tweets"}),ua.jsx("p",{children:"Most common words used in positive posts on this topic"}),ua.jsx(xy,{data:g,fontSize:n=>n.value/3,rotate:0,fill:"green"})]})}),ua.jsx("div",{className:"col-lg-6 pt-3",children:ua.jsxs("div",{className:"bg-light border p-3",style:{height:"100%"},children:[ua.jsx("h1",{className:"text-danger",children:"Word cloud for negative tweets"}),ua.jsx("p",{children:"Most common words used in negative posts on this topic"}),ua.jsx(xy,{data:a,fontSize:n=>n.value/3,rotate:0,fill:"red"})]})})]})]})}var Sl=function(){return Sl=Object.assign||function(k){for(var K,fe=1,Te=arguments.length;fe<Te;fe++){K=arguments[fe];for(var Oe in K)Object.prototype.hasOwnProperty.call(K,Oe)&&(k[Oe]=K[Oe])}return k},Sl.apply(this,arguments)};function Ty(b,k,K){if(K||arguments.length===2)for(var fe=0,Te=k.length,Oe;fe<Te;fe++)(Oe||!(fe in k))&&(Oe||(Oe=Array.prototype.slice.call(k,0,fe)),Oe[fe]=k[fe]);return b.concat(Oe||Array.prototype.slice.call(k))}var ho="-ms-",Jp="-moz-",Hi="-webkit-",I4="comm",am="rule",Vb="decl",vR="@import",k4="@keyframes",dR="@layer",pR=Math.abs,Gb=String.fromCharCode,Sx=Object.assign;function gR(b,k){return Hs(b,0)^45?(((k<<2^Hs(b,0))<<2^Hs(b,1))<<2^Hs(b,2))<<2^Hs(b,3):0}function O4(b){return b.trim()}function ah(b,k){return(b=k.exec(b))?b[0]:b}function pi(b,k,K){return b.replace(k,K)}function Ng(b,k){return b.indexOf(k)}function Hs(b,k){return b.charCodeAt(k)|0}function Ud(b,k,K){return b.slice(k,K)}function zc(b){return b.length}function z4(b){return b.length}function Np(b,k){return k.push(b),b}function yR(b,k){return b.map(k).join("")}function J2(b,k){return b.filter(function(K){return!ah(K,k)})}var im=1,Hd=1,F4=0,yf=0,ls=0,Jd="";function om(b,k,K,fe,Te,Oe,G,V){return{value:b,root:k,parent:K,type:fe,props:Te,children:Oe,line:im,column:Hd,length:G,return:"",siblings:V}}function Rh(b,k){return Sx(om("",null,null,"",null,null,0,b.siblings),b,{length:-b.length},k)}function od(b){for(;b.root;)b=Rh(b.root,{children:[b]});Np(b,b.siblings)}function mR(){return ls}function xR(){return ls=yf>0?Hs(Jd,--yf):0,Hd--,ls===10&&(Hd=1,im--),ls}function oc(){return ls=yf<F4?Hs(Jd,yf++):0,Hd++,ls===10&&(Hd=1,im++),ls}function bv(){return Hs(Jd,yf)}function Bg(){return yf}function sm(b,k){return Ud(Jd,b,k)}function Ex(b){switch(b){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function bR(b){return im=Hd=1,F4=zc(Jd=b),yf=0,[]}function wR(b){return Jd="",b}function x1(b){return O4(sm(yf-1,Mx(b===91?b+2:b===40?b+1:b)))}function TR(b){for(;(ls=bv())&&ls<33;)oc();return Ex(b)>2||Ex(ls)>3?"":" "}function AR(b,k){for(;--k&&oc()&&!(ls<48||ls>102||ls>57&&ls<65||ls>70&&ls<97););return sm(b,Bg()+(k<6&&bv()==32&&oc()==32))}function Mx(b){for(;oc();)switch(ls){case b:return yf;case 34:case 39:b!==34&&b!==39&&Mx(ls);break;case 40:b===41&&Mx(b);break;case 92:oc();break}return yf}function SR(b,k){for(;oc()&&b+ls!==47+10;)if(b+ls===42+42&&bv()===47)break;return"/*"+sm(k,yf-1)+"*"+Gb(b===47?b:oc())}function ER(b){for(;!Ex(bv());)oc();return sm(b,yf)}function MR(b){return wR(Ug("",null,null,null,[""],b=bR(b),0,[0],b))}function Ug(b,k,K,fe,Te,Oe,G,V,e){for(var g=0,_=0,a=G,C=0,A=0,v=0,p=1,t=1,r=1,s=0,n="",i=Te,f=Oe,u=fe,y=n;t;)switch(v=s,s=oc()){case 40:if(v!=108&&Hs(y,a-1)==58){Ng(y+=pi(x1(s),"&","&\f"),"&\f")!=-1&&(r=-1);break}case 34:case 39:case 91:y+=x1(s);break;case 9:case 10:case 13:case 32:y+=TR(v);break;case 92:y+=AR(Bg()-1,7);continue;case 47:switch(bv()){case 42:case 47:Np(CR(SR(oc(),Bg()),k,K,e),e);break;default:y+="/"}break;case 123*p:V[g++]=zc(y)*r;case 125*p:case 59:case 0:switch(s){case 0:case 125:t=0;case 59+_:r==-1&&(y=pi(y,/\f/g,"")),A>0&&zc(y)-a&&Np(A>32?q2(y+";",fe,K,a-1,e):q2(pi(y," ","")+";",fe,K,a-2,e),e);break;case 59:y+=";";default:if(Np(u=Q2(y,k,K,g,_,Te,V,n,i=[],f=[],a,Oe),Oe),s===123)if(_===0)Ug(y,k,u,u,i,Oe,a,V,f);else switch(C===99&&Hs(y,3)===110?100:C){case 100:case 108:case 109:case 115:Ug(b,u,u,fe&&Np(Q2(b,u,u,0,0,Te,V,n,Te,i=[],a,f),f),Te,f,a,V,fe?i:f);break;default:Ug(y,u,u,u,[""],f,0,V,f)}}g=_=A=0,p=r=1,n=y="",a=G;break;case 58:a=1+zc(y),A=v;default:if(p<1){if(s==123)--p;else if(s==125&&p++==0&&xR()==125)continue}switch(y+=Gb(s),s*p){case 38:r=_>0?1:(y+="\f",-1);break;case 44:V[g++]=(zc(y)-1)*r,r=1;break;case 64:bv()===45&&(y+=x1(oc())),C=bv(),_=a=zc(n=y+=ER(Bg())),s++;break;case 45:v===45&&zc(y)==2&&(p=0)}}return Oe}function Q2(b,k,K,fe,Te,Oe,G,V,e,g,_,a){for(var C=Te-1,A=Te===0?Oe:[""],v=z4(A),p=0,t=0,r=0;p<fe;++p)for(var s=0,n=Ud(b,C+1,C=pR(t=G[p])),i=b;s<v;++s)(i=O4(t>0?A[s]+" "+n:pi(n,/&\f/g,A[s])))&&(e[r++]=i);return om(b,k,K,Te===0?am:V,e,g,_,a)}function CR(b,k,K,fe){return om(b,k,K,I4,Gb(mR()),Ud(b,2,-2),0,fe)}function q2(b,k,K,fe,Te){return om(b,k,K,Vb,Ud(b,0,fe),Ud(b,fe+1,-1),fe,Te)}function N4(b,k,K){switch(gR(b,k)){case 5103:return Hi+"print-"+b+b;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Hi+b+b;case 4789:return Jp+b+b;case 5349:case 4246:case 4810:case 6968:case 2756:return Hi+b+Jp+b+ho+b+b;case 5936:switch(Hs(b,k+11)){case 114:return Hi+b+ho+pi(b,/[svh]\w+-[tblr]{2}/,"tb")+b;case 108:return Hi+b+ho+pi(b,/[svh]\w+-[tblr]{2}/,"tb-rl")+b;case 45:return Hi+b+ho+pi(b,/[svh]\w+-[tblr]{2}/,"lr")+b}case 6828:case 4268:case 2903:return Hi+b+ho+b+b;case 6165:return Hi+b+ho+"flex-"+b+b;case 5187:return Hi+b+pi(b,/(\w+).+(:[^]+)/,Hi+"box-$1$2"+ho+"flex-$1$2")+b;case 5443:return Hi+b+ho+"flex-item-"+pi(b,/flex-|-self/g,"")+(ah(b,/flex-|baseline/)?"":ho+"grid-row-"+pi(b,/flex-|-self/g,""))+b;case 4675:return Hi+b+ho+"flex-line-pack"+pi(b,/align-content|flex-|-self/g,"")+b;case 5548:return Hi+b+ho+pi(b,"shrink","negative")+b;case 5292:return Hi+b+ho+pi(b,"basis","preferred-size")+b;case 6060:return Hi+"box-"+pi(b,"-grow","")+Hi+b+ho+pi(b,"grow","positive")+b;case 4554:return Hi+pi(b,/([^-])(transform)/g,"$1"+Hi+"$2")+b;case 6187:return pi(pi(pi(b,/(zoom-|grab)/,Hi+"$1"),/(image-set)/,Hi+"$1"),b,"")+b;case 5495:case 3959:return pi(b,/(image-set\([^]*)/,Hi+"$1$`$1");case 4968:return pi(pi(b,/(.+:)(flex-)?(.*)/,Hi+"box-pack:$3"+ho+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Hi+b+b;case 4200:if(!ah(b,/flex-|baseline/))return ho+"grid-column-align"+Ud(b,k)+b;break;case 2592:case 3360:return ho+pi(b,"template-","")+b;case 4384:case 3616:return K&&K.some(function(fe,Te){return k=Te,ah(fe.props,/grid-\w+-end/)})?~Ng(b+(K=K[k].value),"span")?b:ho+pi(b,"-start","")+b+ho+"grid-row-span:"+(~Ng(K,"span")?ah(K,/\d+/):+ah(K,/\d+/)-+ah(b,/\d+/))+";":ho+pi(b,"-start","")+b;case 4896:case 4128:return K&&K.some(function(fe){return ah(fe.props,/grid-\w+-start/)})?b:ho+pi(pi(b,"-end","-span"),"span ","")+b;case 4095:case 3583:case 4068:case 2532:return pi(b,/(.+)-inline(.+)/,Hi+"$1$2")+b;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(zc(b)-1-k>6)switch(Hs(b,k+1)){case 109:if(Hs(b,k+4)!==45)break;case 102:return pi(b,/(.+:)(.+)-([^]+)/,"$1"+Hi+"$2-$3$1"+Jp+(Hs(b,k+3)==108?"$3":"$2-$3"))+b;case 115:return~Ng(b,"stretch")?N4(pi(b,"stretch","fill-available"),k,K)+b:b}break;case 5152:case 5920:return pi(b,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(fe,Te,Oe,G,V,e,g){return ho+Te+":"+Oe+g+(G?ho+Te+"-span:"+(V?e:+e-+Oe)+g:"")+b});case 4949:if(Hs(b,k+6)===121)return pi(b,":",":"+Hi)+b;break;case 6444:switch(Hs(b,Hs(b,14)===45?18:11)){case 120:return pi(b,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Hi+(Hs(b,14)===45?"inline-":"")+"box$3$1"+Hi+"$2$3$1"+ho+"$2box$3")+b;case 100:return pi(b,":",":"+ho)+b}break;case 5719:case 2647:case 2135:case 3927:case 2391:return pi(b,"scroll-","scroll-snap-")+b}return b}function Ay(b,k){for(var K="",fe=0;fe<b.length;fe++)K+=k(b[fe],fe,b,k)||"";return K}function LR(b,k,K,fe){switch(b.type){case dR:if(b.children.length)break;case vR:case Vb:return b.return=b.return||b.value;case I4:return"";case k4:return b.return=b.value+"{"+Ay(b.children,fe)+"}";case am:if(!zc(b.value=b.props.join(",")))return""}return zc(K=Ay(b.children,fe))?b.return=b.value+"{"+K+"}":""}function PR(b){var k=z4(b);return function(K,fe,Te,Oe){for(var G="",V=0;V<k;V++)G+=b[V](K,fe,Te,Oe)||"";return G}}function _R(b){return function(k){k.root||(k=k.return)&&b(k)}}function RR(b,k,K,fe){if(b.length>-1&&!b.return)switch(b.type){case Vb:b.return=N4(b.value,b.length,K);return;case k4:return Ay([Rh(b,{value:pi(b.value,"@","@"+Hi)})],fe);case am:if(b.length)return yR(K=b.props,function(Te){switch(ah(Te,fe=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":od(Rh(b,{props:[pi(Te,/:(read-\w+)/,":"+Jp+"$1")]})),od(Rh(b,{props:[Te]})),Sx(b,{props:J2(K,fe)});break;case"::placeholder":od(Rh(b,{props:[pi(Te,/:(plac\w+)/,":"+Hi+"input-$1")]})),od(Rh(b,{props:[pi(Te,/:(plac\w+)/,":"+Jp+"$1")]})),od(Rh(b,{props:[pi(Te,/:(plac\w+)/,ho+"input-$1")]})),od(Rh(b,{props:[Te]})),Sx(b,{props:J2(K,fe)});break}return""})}}var DR={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Nu={},Vd=typeof process<"u"&&Nu!==void 0&&(Nu.REACT_APP_SC_ATTR||Nu.SC_ATTR)||"data-styled",Wb=typeof window<"u"&&"HTMLElement"in window,IR=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Nu!==void 0&&Nu.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Nu.REACT_APP_SC_DISABLE_SPEEDY!==""?Nu.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Nu.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Nu!==void 0&&Nu.SC_DISABLE_SPEEDY!==void 0&&Nu.SC_DISABLE_SPEEDY!==""&&Nu.SC_DISABLE_SPEEDY!=="false"&&Nu.SC_DISABLE_SPEEDY),lm=Object.freeze([]),Gd=Object.freeze({});function kR(b,k,K){return K===void 0&&(K=Gd),b.theme!==K.theme&&b.theme||k||K.theme}var B4=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),OR=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,zR=/(^-|-$)/g;function eT(b){return b.replace(OR,"-").replace(zR,"")}var FR=/(a)(d)/gi,tT=function(b){return String.fromCharCode(b+(b>25?39:97))};function Cx(b){var k,K="";for(k=Math.abs(b);k>52;k=k/52|0)K=tT(k%52)+K;return(tT(k%52)+K).replace(FR,"$1-$2")}var b1,Ad=function(b,k){for(var K=k.length;K;)b=33*b^k.charCodeAt(--K);return b},U4=function(b){return Ad(5381,b)};function NR(b){return Cx(U4(b)>>>0)}function BR(b){return b.displayName||b.name||"Component"}function w1(b){return typeof b=="string"&&!0}var H4=typeof Symbol=="function"&&Symbol.for,V4=H4?Symbol.for("react.memo"):60115,UR=H4?Symbol.for("react.forward_ref"):60112,HR={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},VR={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},G4={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},GR=((b1={})[UR]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},b1[V4]=G4,b1);function rT(b){return("type"in(k=b)&&k.type.$$typeof)===V4?G4:"$$typeof"in b?GR[b.$$typeof]:HR;var k}var WR=Object.defineProperty,YR=Object.getOwnPropertyNames,nT=Object.getOwnPropertySymbols,jR=Object.getOwnPropertyDescriptor,ZR=Object.getPrototypeOf,aT=Object.prototype;function W4(b,k,K){if(typeof k!="string"){if(aT){var fe=ZR(k);fe&&fe!==aT&&W4(b,fe,K)}var Te=YR(k);nT&&(Te=Te.concat(nT(k)));for(var Oe=rT(b),G=rT(k),V=0;V<Te.length;++V){var e=Te[V];if(!(e in VR||K&&K[e]||G&&e in G||Oe&&e in Oe)){var g=jR(k,e);try{WR(b,e,g)}catch{}}}}return b}function Pv(b){return typeof b=="function"}function Yb(b){return typeof b=="object"&&"styledComponentId"in b}function yv(b,k){return b&&k?"".concat(b," ").concat(k):b||k||""}function iT(b,k){if(b.length===0)return"";for(var K=b[0],fe=1;fe<b.length;fe++)K+=k?k+b[fe]:b[fe];return K}function w0(b){return b!==null&&typeof b=="object"&&b.constructor.name===Object.name&&!("props"in b&&b.$$typeof)}function Lx(b,k,K){if(K===void 0&&(K=!1),!K&&!w0(b)&&!Array.isArray(b))return k;if(Array.isArray(k))for(var fe=0;fe<k.length;fe++)b[fe]=Lx(b[fe],k[fe]);else if(w0(k))for(var fe in k)b[fe]=Lx(b[fe],k[fe]);return b}function jb(b,k){Object.defineProperty(b,"toString",{value:k})}function _v(b){for(var k=[],K=1;K<arguments.length;K++)k[K-1]=arguments[K];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(b," for more information.").concat(k.length>0?" Args: ".concat(k.join(", ")):""))}var XR=function(){function b(k){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=k}return b.prototype.indexOfGroup=function(k){for(var K=0,fe=0;fe<k;fe++)K+=this.groupSizes[fe];return K},b.prototype.insertRules=function(k,K){if(k>=this.groupSizes.length){for(var fe=this.groupSizes,Te=fe.length,Oe=Te;k>=Oe;)if((Oe<<=1)<0)throw _v(16,"".concat(k));this.groupSizes=new Uint32Array(Oe),this.groupSizes.set(fe),this.length=Oe;for(var G=Te;G<Oe;G++)this.groupSizes[G]=0}for(var V=this.indexOfGroup(k+1),e=(G=0,K.length);G<e;G++)this.tag.insertRule(V,K[G])&&(this.groupSizes[k]++,V++)},b.prototype.clearGroup=function(k){if(k<this.length){var K=this.groupSizes[k],fe=this.indexOfGroup(k),Te=fe+K;this.groupSizes[k]=0;for(var Oe=fe;Oe<Te;Oe++)this.tag.deleteRule(fe)}},b.prototype.getGroup=function(k){var K="";if(k>=this.length||this.groupSizes[k]===0)return K;for(var fe=this.groupSizes[k],Te=this.indexOfGroup(k),Oe=Te+fe,G=Te;G<Oe;G++)K+="".concat(this.tag.getRule(G)).concat(`/*!sc*/
`);return K},b}(),Hg=new Map,Sy=new Map,Vg=1,bg=function(b){if(Hg.has(b))return Hg.get(b);for(;Sy.has(Vg);)Vg++;var k=Vg++;return Hg.set(b,k),Sy.set(k,b),k},KR=function(b,k){Vg=k+1,Hg.set(b,k),Sy.set(k,b)},$R="style[".concat(Vd,"][").concat("data-styled-version",'="').concat("6.1.1",'"]'),JR=new RegExp("^".concat(Vd,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),QR=function(b,k,K){for(var fe,Te=K.split(","),Oe=0,G=Te.length;Oe<G;Oe++)(fe=Te[Oe])&&b.registerName(k,fe)},qR=function(b,k){for(var K,fe=((K=k.textContent)!==null&&K!==void 0?K:"").split(`/*!sc*/
`),Te=[],Oe=0,G=fe.length;Oe<G;Oe++){var V=fe[Oe].trim();if(V){var e=V.match(JR);if(e){var g=0|parseInt(e[1],10),_=e[2];g!==0&&(KR(_,g),QR(b,_,e[3]),b.getTag().insertRules(g,Te)),Te.length=0}else Te.push(V)}}};function eD(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Y4=function(b){var k=document.head,K=b||k,fe=document.createElement("style"),Te=function(V){var e=Array.from(V.querySelectorAll("style[".concat(Vd,"]")));return e[e.length-1]}(K),Oe=Te!==void 0?Te.nextSibling:null;fe.setAttribute(Vd,"active"),fe.setAttribute("data-styled-version","6.1.1");var G=eD();return G&&fe.setAttribute("nonce",G),K.insertBefore(fe,Oe),fe},tD=function(){function b(k){this.element=Y4(k),this.element.appendChild(document.createTextNode("")),this.sheet=function(K){if(K.sheet)return K.sheet;for(var fe=document.styleSheets,Te=0,Oe=fe.length;Te<Oe;Te++){var G=fe[Te];if(G.ownerNode===K)return G}throw _v(17)}(this.element),this.length=0}return b.prototype.insertRule=function(k,K){try{return this.sheet.insertRule(K,k),this.length++,!0}catch{return!1}},b.prototype.deleteRule=function(k){this.sheet.deleteRule(k),this.length--},b.prototype.getRule=function(k){var K=this.sheet.cssRules[k];return K&&K.cssText?K.cssText:""},b}(),rD=function(){function b(k){this.element=Y4(k),this.nodes=this.element.childNodes,this.length=0}return b.prototype.insertRule=function(k,K){if(k<=this.length&&k>=0){var fe=document.createTextNode(K);return this.element.insertBefore(fe,this.nodes[k]||null),this.length++,!0}return!1},b.prototype.deleteRule=function(k){this.element.removeChild(this.nodes[k]),this.length--},b.prototype.getRule=function(k){return k<this.length?this.nodes[k].textContent:""},b}(),nD=function(){function b(k){this.rules=[],this.length=0}return b.prototype.insertRule=function(k,K){return k<=this.length&&(this.rules.splice(k,0,K),this.length++,!0)},b.prototype.deleteRule=function(k){this.rules.splice(k,1),this.length--},b.prototype.getRule=function(k){return k<this.length?this.rules[k]:""},b}(),oT=Wb,aD={isServer:!Wb,useCSSOMInjection:!IR},j4=function(){function b(k,K,fe){k===void 0&&(k=Gd),K===void 0&&(K={});var Te=this;this.options=Sl(Sl({},aD),k),this.gs=K,this.names=new Map(fe),this.server=!!k.isServer,!this.server&&Wb&&oT&&(oT=!1,function(Oe){for(var G=document.querySelectorAll($R),V=0,e=G.length;V<e;V++){var g=G[V];g&&g.getAttribute(Vd)!=="active"&&(qR(Oe,g),g.parentNode&&g.parentNode.removeChild(g))}}(this)),jb(this,function(){return function(Oe){for(var G=Oe.getTag(),V=G.length,e="",g=function(a){var C=function(r){return Sy.get(r)}(a);if(C===void 0)return"continue";var A=Oe.names.get(C),v=G.getGroup(a);if(A===void 0||v.length===0)return"continue";var p="".concat(Vd,".g").concat(a,'[id="').concat(C,'"]'),t="";A!==void 0&&A.forEach(function(r){r.length>0&&(t+="".concat(r,","))}),e+="".concat(v).concat(p,'{content:"').concat(t,'"}').concat(`/*!sc*/
`)},_=0;_<V;_++)g(_);return e}(Te)})}return b.registerId=function(k){return bg(k)},b.prototype.reconstructWithOptions=function(k,K){return K===void 0&&(K=!0),new b(Sl(Sl({},this.options),k),this.gs,K&&this.names||void 0)},b.prototype.allocateGSInstance=function(k){return this.gs[k]=(this.gs[k]||0)+1},b.prototype.getTag=function(){return this.tag||(this.tag=(k=function(K){var fe=K.useCSSOMInjection,Te=K.target;return K.isServer?new nD(Te):fe?new tD(Te):new rD(Te)}(this.options),new XR(k)));var k},b.prototype.hasNameForId=function(k,K){return this.names.has(k)&&this.names.get(k).has(K)},b.prototype.registerName=function(k,K){if(bg(k),this.names.has(k))this.names.get(k).add(K);else{var fe=new Set;fe.add(K),this.names.set(k,fe)}},b.prototype.insertRules=function(k,K,fe){this.registerName(k,K),this.getTag().insertRules(bg(k),fe)},b.prototype.clearNames=function(k){this.names.has(k)&&this.names.get(k).clear()},b.prototype.clearRules=function(k){this.getTag().clearGroup(bg(k)),this.clearNames(k)},b.prototype.clearTag=function(){this.tag=void 0},b}(),iD=/&/g,oD=/^\s*\/\/.*$/gm;function Z4(b,k){return b.map(function(K){return K.type==="rule"&&(K.value="".concat(k," ").concat(K.value),K.value=K.value.replaceAll(",",",".concat(k," ")),K.props=K.props.map(function(fe){return"".concat(k," ").concat(fe)})),Array.isArray(K.children)&&K.type!=="@keyframes"&&(K.children=Z4(K.children,k)),K})}function sD(b){var k,K,fe,Te=b===void 0?Gd:b,Oe=Te.options,G=Oe===void 0?Gd:Oe,V=Te.plugins,e=V===void 0?lm:V,g=function(C,A,v){return v===K||v.startsWith(K)&&v.endsWith(K)&&v.replaceAll(K,"").length>0?".".concat(k):C},_=e.slice();_.push(function(C){C.type===am&&C.value.includes("&")&&(C.props[0]=C.props[0].replace(iD,K).replace(fe,g))}),G.prefix&&_.push(RR),_.push(LR);var a=function(C,A,v,p){A===void 0&&(A=""),v===void 0&&(v=""),p===void 0&&(p="&"),k=p,K=A,fe=new RegExp("\\".concat(K,"\\b"),"g");var t=C.replace(oD,""),r=MR(v||A?"".concat(v," ").concat(A," { ").concat(t," }"):t);G.namespace&&(r=Z4(r,G.namespace));var s=[];return Ay(r,PR(_.concat(_R(function(n){return s.push(n)})))),s};return a.hash=e.length?e.reduce(function(C,A){return A.name||_v(15),Ad(C,A.name)},5381).toString():"",a}var lD=new j4,Px=sD(),X4=ui.createContext({shouldForwardProp:void 0,styleSheet:lD,stylis:Px});X4.Consumer;ui.createContext(void 0);function sT(){return Jr.useContext(X4)}var uD=function(){function b(k,K){var fe=this;this.inject=function(Te,Oe){Oe===void 0&&(Oe=Px);var G=fe.name+Oe.hash;Te.hasNameForId(fe.id,G)||Te.insertRules(fe.id,G,Oe(fe.rules,G,"@keyframes"))},this.name=k,this.id="sc-keyframes-".concat(k),this.rules=K,jb(this,function(){throw _v(12,String(fe.name))})}return b.prototype.getName=function(k){return k===void 0&&(k=Px),this.name+k.hash},b}(),fD=function(b){return b>="A"&&b<="Z"};function lT(b){for(var k="",K=0;K<b.length;K++){var fe=b[K];if(K===1&&fe==="-"&&b[0]==="-")return b;fD(fe)?k+="-"+fe.toLowerCase():k+=fe}return k.startsWith("ms-")?"-"+k:k}var K4=function(b){return b==null||b===!1||b===""},$4=function(b){var k,K,fe=[];for(var Te in b){var Oe=b[Te];b.hasOwnProperty(Te)&&!K4(Oe)&&(Array.isArray(Oe)&&Oe.isCss||Pv(Oe)?fe.push("".concat(lT(Te),":"),Oe,";"):w0(Oe)?fe.push.apply(fe,Ty(Ty(["".concat(Te," {")],$4(Oe),!1),["}"],!1)):fe.push("".concat(lT(Te),": ").concat((k=Te,(K=Oe)==null||typeof K=="boolean"||K===""?"":typeof K!="number"||K===0||k in DR||k.startsWith("--")?String(K).trim():"".concat(K,"px")),";")))}return fe};function wv(b,k,K,fe){if(K4(b))return[];if(Yb(b))return[".".concat(b.styledComponentId)];if(Pv(b)){if(!Pv(Oe=b)||Oe.prototype&&Oe.prototype.isReactComponent||!k)return[b];var Te=b(k);return wv(Te,k,K,fe)}var Oe;return b instanceof uD?K?(b.inject(K,fe),[b.getName(fe)]):[b]:w0(b)?$4(b):Array.isArray(b)?Array.prototype.concat.apply(lm,b.map(function(G){return wv(G,k,K,fe)})):[b.toString()]}function cD(b){for(var k=0;k<b.length;k+=1){var K=b[k];if(Pv(K)&&!Yb(K))return!1}return!0}var hD=U4("6.1.1"),vD=function(){function b(k,K,fe){this.rules=k,this.staticRulesId="",this.isStatic=(fe===void 0||fe.isStatic)&&cD(k),this.componentId=K,this.baseHash=Ad(hD,K),this.baseStyle=fe,j4.registerId(K)}return b.prototype.generateAndInjectStyles=function(k,K,fe){var Te=this.baseStyle?this.baseStyle.generateAndInjectStyles(k,K,fe):"";if(this.isStatic&&!fe.hash)if(this.staticRulesId&&K.hasNameForId(this.componentId,this.staticRulesId))Te=yv(Te,this.staticRulesId);else{var Oe=iT(wv(this.rules,k,K,fe)),G=Cx(Ad(this.baseHash,Oe)>>>0);if(!K.hasNameForId(this.componentId,G)){var V=fe(Oe,".".concat(G),void 0,this.componentId);K.insertRules(this.componentId,G,V)}Te=yv(Te,G),this.staticRulesId=G}else{for(var e=Ad(this.baseHash,fe.hash),g="",_=0;_<this.rules.length;_++){var a=this.rules[_];if(typeof a=="string")g+=a;else if(a){var C=iT(wv(a,k,K,fe));e=Ad(e,C+_),g+=C}}if(g){var A=Cx(e>>>0);K.hasNameForId(this.componentId,A)||K.insertRules(this.componentId,A,fe(g,".".concat(A),void 0,this.componentId)),Te=yv(Te,A)}}return Te},b}(),Ey=ui.createContext(void 0);Ey.Consumer;function dD(b){var k=ui.useContext(Ey),K=Jr.useMemo(function(){return function(fe,Te){if(!fe)throw _v(14);if(Pv(fe)){var Oe=fe(Te);return Oe}if(Array.isArray(fe)||typeof fe!="object")throw _v(8);return Te?Sl(Sl({},Te),fe):fe}(b.theme,k)},[b.theme,k]);return b.children?ui.createElement(Ey.Provider,{value:K},b.children):null}var T1={};function pD(b,k,K){var fe=Yb(b),Te=b,Oe=!w1(b),G=k.attrs,V=G===void 0?lm:G,e=k.componentId,g=e===void 0?function(i,f){var u=typeof i!="string"?"sc":eT(i);T1[u]=(T1[u]||0)+1;var y="".concat(u,"-").concat(NR("6.1.1"+u+T1[u]));return f?"".concat(f,"-").concat(y):y}(k.displayName,k.parentComponentId):e,_=k.displayName,a=_===void 0?function(i){return w1(i)?"styled.".concat(i):"Styled(".concat(BR(i),")")}(b):_,C=k.displayName&&k.componentId?"".concat(eT(k.displayName),"-").concat(k.componentId):k.componentId||g,A=fe&&Te.attrs?Te.attrs.concat(V).filter(Boolean):V,v=k.shouldForwardProp;if(fe&&Te.shouldForwardProp){var p=Te.shouldForwardProp;if(k.shouldForwardProp){var t=k.shouldForwardProp;v=function(i,f){return p(i,f)&&t(i,f)}}else v=p}var r=new vD(K,C,fe?Te.componentStyle:void 0);function s(i,f){return function(u,y,c){var T=u.attrs,h=u.componentStyle,l=u.defaultProps,d=u.foldedComponentIds,E=u.styledComponentId,S=u.target,P=ui.useContext(Ey),x=sT(),M=u.shouldForwardProp||x.shouldForwardProp,w=function(U,z,N){for(var B,O=Sl(Sl({},z),{className:void 0,theme:N}),H=0;H<U.length;H+=1){var Y=Pv(B=U[H])?B(O):B;for(var J in Y)O[J]=J==="className"?yv(O[J],Y[J]):J==="style"?Sl(Sl({},O[J]),Y[J]):Y[J]}return z.className&&(O.className=yv(O.className,z.className)),O}(T,y,kR(y,P,l)||Gd),o=w.as||S,L={};for(var m in w)w[m]===void 0||m[0]==="$"||m==="as"||m==="theme"||(m==="forwardedAs"?L.as=w.forwardedAs:M&&!M(m,o)||(L[m]=w[m]));var F=function(U,z){var N=sT(),B=U.generateAndInjectStyles(z,N.styleSheet,N.stylis);return B}(h,w),I=yv(d,E);return F&&(I+=" "+F),w.className&&(I+=" "+w.className),L[w1(o)&&!B4.has(o)?"class":"className"]=I,L.ref=c,Jr.createElement(o,L)}(n,i,f)}s.displayName=a;var n=ui.forwardRef(s);return n.attrs=A,n.componentStyle=r,n.displayName=a,n.shouldForwardProp=v,n.foldedComponentIds=fe?yv(Te.foldedComponentIds,Te.styledComponentId):"",n.styledComponentId=C,n.target=fe?Te.target:b,Object.defineProperty(n,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(i){this._foldedDefaultProps=fe?function(f){for(var u=[],y=1;y<arguments.length;y++)u[y-1]=arguments[y];for(var c=0,T=u;c<T.length;c++)Lx(f,T[c],!0);return f}({},Te.defaultProps,i):i}}),jb(n,function(){return".".concat(n.styledComponentId)}),Oe&&W4(n,b,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),n}function uT(b,k){for(var K=[b[0]],fe=0,Te=k.length;fe<Te;fe+=1)K.push(k[fe],b[fe+1]);return K}var fT=function(b){return Object.assign(b,{isCss:!0})};function Ss(b){for(var k=[],K=1;K<arguments.length;K++)k[K-1]=arguments[K];if(Pv(b)||w0(b)){var fe=b;return fT(wv(uT(lm,Ty([fe],k,!0))))}var Te=b;return k.length===0&&Te.length===1&&typeof Te[0]=="string"?wv(Te):fT(wv(uT(Te,k)))}function _x(b,k,K){if(K===void 0&&(K=Gd),!k)throw _v(1,k);var fe=function(Te){for(var Oe=[],G=1;G<arguments.length;G++)Oe[G-1]=arguments[G];return b(k,K,Ss.apply(void 0,Ty([Te],Oe,!1)))};return fe.attrs=function(Te){return _x(b,k,Sl(Sl({},K),{attrs:Array.prototype.concat(K.attrs,Te).filter(Boolean)}))},fe.withConfig=function(Te){return _x(b,k,Sl(Sl({},K),Te))},fe}var J4=function(b){return _x(pD,b)},xi=J4;B4.forEach(function(b){xi[b]=J4(b)});var jh;function Wd(b,k){return b[k]}function Rx(b,k){return k.split(".").reduce((K,fe)=>{const Te=fe.match(/[^\]\\[.]+/g);if(Te&&Te.length>1)for(let Oe=0;Oe<Te.length;Oe++)return K[Te[Oe]][Te[Oe+1]];return K[fe]},b)}function gD(b=[],k,K=0){return[...b.slice(0,K),k,...b.slice(K)]}function yD(b=[],k,K="id"){const fe=b.slice(),Te=Wd(k,K);return Te?fe.splice(fe.findIndex(Oe=>Wd(Oe,K)===Te),1):fe.splice(fe.findIndex(Oe=>Oe===k),1),fe}function cT(b){return b.map((k,K)=>{const fe=Object.assign(Object.assign({},k),{sortable:k.sortable||!!k.sortFunction||void 0});return k.id||(fe.id=K+1),fe})}function Qp(b,k){return Math.ceil(b/k)}function A1(b,k){return Math.min(b,k)}(function(b){b.ASC="asc",b.DESC="desc"})(jh||(jh={}));const ws=()=>null;function Q4(b,k=[],K=[]){let fe={},Te=[...K];return k.length&&k.forEach(Oe=>{if(!Oe.when||typeof Oe.when!="function")throw new Error('"when" must be defined in the conditional style object and must be function');Oe.when(b)&&(fe=Oe.style||{},Oe.classNames&&(Te=[...Te,...Oe.classNames]),typeof Oe.style=="function"&&(fe=Oe.style(b)||{}))}),{style:fe,classNames:Te.join(" ")}}function Gg(b,k=[],K="id"){const fe=Wd(b,K);return fe?k.some(Te=>Wd(Te,K)===fe):k.some(Te=>Te===b)}function wg(b,k){return k?b.findIndex(K=>qp(K.id,k)):-1}function qp(b,k){return b==k}function mD(b,k){const K=!b.toggleOnSelectedRowsChange;switch(k.type){case"SELECT_ALL_ROWS":{const{keyField:fe,rows:Te,rowCount:Oe,mergeSelections:G}=k,V=!b.allSelected,e=!b.toggleOnSelectedRowsChange;if(G){const g=V?[...b.selectedRows,...Te.filter(_=>!Gg(_,b.selectedRows,fe))]:b.selectedRows.filter(_=>!Gg(_,Te,fe));return Object.assign(Object.assign({},b),{allSelected:V,selectedCount:g.length,selectedRows:g,toggleOnSelectedRowsChange:e})}return Object.assign(Object.assign({},b),{allSelected:V,selectedCount:V?Oe:0,selectedRows:V?Te:[],toggleOnSelectedRowsChange:e})}case"SELECT_SINGLE_ROW":{const{keyField:fe,row:Te,isSelected:Oe,rowCount:G,singleSelect:V}=k;return V?Oe?Object.assign(Object.assign({},b),{selectedCount:0,allSelected:!1,selectedRows:[],toggleOnSelectedRowsChange:K}):Object.assign(Object.assign({},b),{selectedCount:1,allSelected:!1,selectedRows:[Te],toggleOnSelectedRowsChange:K}):Oe?Object.assign(Object.assign({},b),{selectedCount:b.selectedRows.length>0?b.selectedRows.length-1:0,allSelected:!1,selectedRows:yD(b.selectedRows,Te,fe),toggleOnSelectedRowsChange:K}):Object.assign(Object.assign({},b),{selectedCount:b.selectedRows.length+1,allSelected:b.selectedRows.length+1===G,selectedRows:gD(b.selectedRows,Te),toggleOnSelectedRowsChange:K})}case"SELECT_MULTIPLE_ROWS":{const{keyField:fe,selectedRows:Te,totalRows:Oe,mergeSelections:G}=k;if(G){const V=[...b.selectedRows,...Te.filter(e=>!Gg(e,b.selectedRows,fe))];return Object.assign(Object.assign({},b),{selectedCount:V.length,allSelected:!1,selectedRows:V,toggleOnSelectedRowsChange:K})}return Object.assign(Object.assign({},b),{selectedCount:Te.length,allSelected:Te.length===Oe,selectedRows:Te,toggleOnSelectedRowsChange:K})}case"CLEAR_SELECTED_ROWS":{const{selectedRowsFlag:fe}=k;return Object.assign(Object.assign({},b),{allSelected:!1,selectedCount:0,selectedRows:[],selectedRowsFlag:fe})}case"SORT_CHANGE":{const{sortDirection:fe,selectedColumn:Te,clearSelectedOnSort:Oe}=k;return Object.assign(Object.assign(Object.assign({},b),{selectedColumn:Te,sortDirection:fe,currentPage:1}),Oe&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:K})}case"CHANGE_PAGE":{const{page:fe,paginationServer:Te,visibleOnly:Oe,persistSelectedOnPageChange:G}=k,V=Te&&G,e=Te&&!G||Oe;return Object.assign(Object.assign(Object.assign(Object.assign({},b),{currentPage:fe}),V&&{allSelected:!1}),e&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:K})}case"CHANGE_ROWS_PER_PAGE":{const{rowsPerPage:fe,page:Te}=k;return Object.assign(Object.assign({},b),{currentPage:Te,rowsPerPage:fe})}}}const xD=Ss`
	pointer-events: none;
	opacity: 0.4;
`,bD=xi.div`
	position: relative;
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	width: 100%;
	height: 100%;
	max-width: 100%;
	${({disabled:b})=>b&&xD};
	${({theme:b})=>b.table.style};
`,wD=Ss`
	position: sticky;
	position: -webkit-sticky; /* Safari */
	top: 0;
	z-index: 1;
`,TD=xi.div`
	display: flex;
	width: 100%;
	${({$fixedHeader:b})=>b&&wD};
	${({theme:b})=>b.head.style};
`,AD=xi.div`
	display: flex;
	align-items: stretch;
	width: 100%;
	${({theme:b})=>b.headRow.style};
	${({$dense:b,theme:k})=>b&&k.headRow.denseStyle};
`,q4=(b,...k)=>Ss`
		@media screen and (max-width: ${599}px) {
			${Ss(b,...k)}
		}
	`,SD=(b,...k)=>Ss`
		@media screen and (max-width: ${959}px) {
			${Ss(b,...k)}
		}
	`,ED=(b,...k)=>Ss`
		@media screen and (max-width: ${1280}px) {
			${Ss(b,...k)}
		}
	`,MD=b=>(k,...K)=>Ss`
				@media screen and (max-width: ${b}px) {
					${Ss(k,...K)}
				}
			`,Qd=xi.div`
	position: relative;
	display: flex;
	align-items: center;
	box-sizing: border-box;
	line-height: normal;
	${({theme:b,$headCell:k})=>b[k?"headCells":"cells"].style};
	${({$noPadding:b})=>b&&"padding: 0"};
`,eS=xi(Qd)`
	flex-grow: ${({button:b,grow:k})=>k===0||b?0:k||1};
	flex-shrink: 0;
	flex-basis: 0;
	max-width: ${({maxWidth:b})=>b||"100%"};
	min-width: ${({minWidth:b})=>b||"100px"};
	${({width:b})=>b&&Ss`
			min-width: ${b};
			max-width: ${b};
		`};
	${({right:b})=>b&&"justify-content: flex-end"};
	${({button:b,center:k})=>(k||b)&&"justify-content: center"};
	${({compact:b,button:k})=>(b||k)&&"padding: 0"};

	/* handle hiding cells */
	${({hide:b})=>b&&b==="sm"&&q4`
    display: none;
  `};
	${({hide:b})=>b&&b==="md"&&SD`
    display: none;
  `};
	${({hide:b})=>b&&b==="lg"&&ED`
    display: none;
  `};
	${({hide:b})=>b&&Number.isInteger(b)&&MD(b)`
    display: none;
  `};
`,CD=Ss`
	div:first-child {
		white-space: ${({$wrapCell:b})=>b?"normal":"nowrap"};
		overflow: ${({$allowOverflow:b})=>b?"visible":"hidden"};
		text-overflow: ellipsis;
	}
`,LD=xi(eS).attrs(b=>({style:b.style}))`
	${({$renderAsCell:b})=>!b&&CD};
	${({theme:b,$isDragging:k})=>k&&b.cells.draggingStyle};
	${({$cellStyle:b})=>b};
`;var PD=Jr.memo(function({id:b,column:k,row:K,rowIndex:fe,dataTag:Te,isDragging:Oe,onDragStart:G,onDragOver:V,onDragEnd:e,onDragEnter:g,onDragLeave:_}){const{style:a,classNames:C}=Q4(K,k.conditionalCellStyles,["rdt_TableCell"]);return Jr.createElement(LD,{id:b,"data-column-id":k.id,role:"cell",className:C,"data-tag":Te,$cellStyle:k.style,$renderAsCell:!!k.cell,$allowOverflow:k.allowOverflow,button:k.button,center:k.center,compact:k.compact,grow:k.grow,hide:k.hide,maxWidth:k.maxWidth,minWidth:k.minWidth,right:k.right,width:k.width,$wrapCell:k.wrap,style:a,$isDragging:Oe,onDragStart:G,onDragOver:V,onDragEnd:e,onDragEnter:g,onDragLeave:_},!k.cell&&Jr.createElement("div",{"data-tag":Te},function(A,v,p,t){if(!v)return null;if(typeof v!="string"&&typeof v!="function")throw new Error("selector must be a . delimited string eg (my.property) or function (e.g. row => row.field");return p&&typeof p=="function"?p(A,t):v&&typeof v=="function"?v(A,t):Rx(A,v)}(K,k.selector,k.format,fe)),k.cell&&k.cell(K,fe,k,b))}),tS=Jr.memo(function({name:b,component:k="input",componentOptions:K={style:{}},indeterminate:fe=!1,checked:Te=!1,disabled:Oe=!1,onClick:G=ws}){const V=k,e=V!=="input"?K.style:(_=>Object.assign(Object.assign({fontSize:"18px"},!_&&{cursor:"pointer"}),{padding:0,marginTop:"1px",verticalAlign:"middle",position:"relative"}))(Oe),g=Jr.useMemo(()=>function(_,...a){let C;return Object.keys(_).map(A=>_[A]).forEach((A,v)=>{typeof A=="function"&&(C=Object.assign(Object.assign({},_),{[Object.keys(_)[v]]:A(...a)}))}),C||_}(K,fe),[K,fe]);return Jr.createElement(V,Object.assign({type:"checkbox",ref:_=>{_&&(_.indeterminate=fe)},style:e,onClick:Oe?ws:G,name:b,"aria-label":b,checked:Te,disabled:Oe},g,{onChange:ws}))});const _D=xi(Qd)`
	flex: 0 0 48px;
	min-width: 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
`;function RD({name:b,keyField:k,row:K,rowCount:fe,selected:Te,selectableRowsComponent:Oe,selectableRowsComponentProps:G,selectableRowsSingle:V,selectableRowDisabled:e,onSelectedRow:g}){const _=!(!e||!e(K));return Jr.createElement(_D,{onClick:a=>a.stopPropagation(),className:"rdt_TableCell",$noPadding:!0},Jr.createElement(tS,{name:b,component:Oe,componentOptions:G,checked:Te,"aria-checked":Te,onClick:()=>{g({type:"SELECT_SINGLE_ROW",row:K,isSelected:Te,keyField:k,rowCount:fe,singleSelect:V})},disabled:_}))}const DD=xi.button`
	display: inline-flex;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	border: none;
	background-color: transparent;
	${({theme:b})=>b.expanderButton.style};
`;function ID({disabled:b=!1,expanded:k=!1,expandableIcon:K,id:fe,row:Te,onToggled:Oe}){const G=k?K.expanded:K.collapsed;return Jr.createElement(DD,{"aria-disabled":b,onClick:()=>Oe&&Oe(Te),"data-testid":`expander-button-${fe}`,disabled:b,"aria-label":k?"Collapse Row":"Expand Row",role:"button",type:"button"},G)}const kD=xi(Qd)`
	white-space: nowrap;
	font-weight: 400;
	min-width: 48px;
	${({theme:b})=>b.expanderCell.style};
`;function OD({row:b,expanded:k=!1,expandableIcon:K,id:fe,onToggled:Te,disabled:Oe=!1}){return Jr.createElement(kD,{onClick:G=>G.stopPropagation(),$noPadding:!0},Jr.createElement(ID,{id:fe,row:b,expanded:k,expandableIcon:K,disabled:Oe,onToggled:Te}))}const zD=xi.div`
	width: 100%;
	box-sizing: border-box;
	${({theme:b})=>b.expanderRow.style};
	${({$extendedRowStyle:b})=>b};
`;var FD=Jr.memo(function({data:b,ExpanderComponent:k,expanderComponentProps:K,extendedRowStyle:fe,extendedClassNames:Te}){const Oe=["rdt_ExpanderRow",...Te.split(" ").filter(G=>G!=="rdt_TableRow")].join(" ");return Jr.createElement(zD,{className:Oe,$extendedRowStyle:fe},Jr.createElement(k,Object.assign({data:b},K)))}),My,Dx,hT;(function(b){b.LTR="ltr",b.RTL="rtl",b.AUTO="auto"})(My||(My={})),function(b){b.LEFT="left",b.RIGHT="right",b.CENTER="center"}(Dx||(Dx={})),function(b){b.SM="sm",b.MD="md",b.LG="lg"}(hT||(hT={}));const ND=Ss`
	&:hover {
		${({$highlightOnHover:b,theme:k})=>b&&k.rows.highlightOnHoverStyle};
	}
`,BD=Ss`
	&:hover {
		cursor: pointer;
	}
`,UD=xi.div.attrs(b=>({style:b.style}))`
	display: flex;
	align-items: stretch;
	align-content: stretch;
	width: 100%;
	box-sizing: border-box;
	${({theme:b})=>b.rows.style};
	${({$dense:b,theme:k})=>b&&k.rows.denseStyle};
	${({$striped:b,theme:k})=>b&&k.rows.stripedStyle};
	${({$highlightOnHover:b})=>b&&ND};
	${({$pointerOnHover:b})=>b&&BD};
	${({$selected:b,theme:k})=>b&&k.rows.selectedHighlightStyle};
`;function HD({columns:b=[],conditionalRowStyles:k=[],defaultExpanded:K=!1,defaultExpanderDisabled:fe=!1,dense:Te=!1,expandableIcon:Oe,expandableRows:G=!1,expandableRowsComponent:V,expandableRowsComponentProps:e,expandableRowsHideExpander:g,expandOnRowClicked:_=!1,expandOnRowDoubleClicked:a=!1,highlightOnHover:C=!1,id:A,expandableInheritConditionalStyles:v,keyField:p,onRowClicked:t=ws,onRowDoubleClicked:r=ws,onRowMouseEnter:s=ws,onRowMouseLeave:n=ws,onRowExpandToggled:i=ws,onSelectedRow:f=ws,pointerOnHover:u=!1,row:y,rowCount:c,rowIndex:T,selectableRowDisabled:h=null,selectableRows:l=!1,selectableRowsComponent:d,selectableRowsComponentProps:E,selectableRowsHighlight:S=!1,selectableRowsSingle:P=!1,selected:x,striped:M=!1,draggingColumnId:w,onDragStart:o,onDragOver:L,onDragEnd:m,onDragEnter:F,onDragLeave:I}){const[U,z]=Jr.useState(K);Jr.useEffect(()=>{z(K)},[K]);const N=Jr.useCallback(()=>{z(!U),i(!U,y)},[U,i,y]),B=u||G&&(_||a),O=Jr.useCallback($=>{$.target&&$.target.getAttribute("data-tag")==="allowRowEvents"&&(t(y,$),!fe&&G&&_&&N())},[fe,_,G,N,t,y]),H=Jr.useCallback($=>{$.target&&$.target.getAttribute("data-tag")==="allowRowEvents"&&(r(y,$),!fe&&G&&a&&N())},[fe,a,G,N,r,y]),Y=Jr.useCallback($=>{s(y,$)},[s,y]),J=Jr.useCallback($=>{n(y,$)},[n,y]),re=Wd(y,p),{style:ie,classNames:ce}=Q4(y,k,["rdt_TableRow"]),Q=S&&x,j=v?ie:{},Z=M&&T%2==0;return Jr.createElement(Jr.Fragment,null,Jr.createElement(UD,{id:`row-${A}`,role:"row",$striped:Z,$highlightOnHover:C,$pointerOnHover:!fe&&B,$dense:Te,onClick:O,onDoubleClick:H,onMouseEnter:Y,onMouseLeave:J,className:ce,$selected:Q,style:ie},l&&Jr.createElement(RD,{name:`select-row-${re}`,keyField:p,row:y,rowCount:c,selected:x,selectableRowsComponent:d,selectableRowsComponentProps:E,selectableRowDisabled:h,selectableRowsSingle:P,onSelectedRow:f}),G&&!g&&Jr.createElement(OD,{id:re,expandableIcon:Oe,expanded:U,row:y,onToggled:N,disabled:fe}),b.map($=>$.omit?null:Jr.createElement(PD,{id:`cell-${$.id}-${re}`,key:`cell-${$.id}-${re}`,dataTag:$.ignoreRowClick||$.button?null:"allowRowEvents",column:$,row:y,rowIndex:T,isDragging:qp(w,$.id),onDragStart:o,onDragOver:L,onDragEnd:m,onDragEnter:F,onDragLeave:I}))),G&&U&&Jr.createElement(FD,{key:`expander-${re}`,data:y,extendedRowStyle:j,extendedClassNames:ce,ExpanderComponent:V,expanderComponentProps:e}))}const VD=xi.span`
	padding: 2px;
	color: inherit;
	flex-grow: 0;
	flex-shrink: 0;
	${({$sortActive:b})=>b?"opacity: 1":"opacity: 0"};
	${({$sortDirection:b})=>b==="desc"&&"transform: rotate(180deg)"};
`,GD=({sortActive:b,sortDirection:k})=>ui.createElement(VD,{$sortActive:b,$sortDirection:k},""),WD=xi(eS)`
	${({button:b})=>b&&"text-align: center"};
	${({theme:b,$isDragging:k})=>k&&b.headCells.draggingStyle};
`,YD=Ss`
	cursor: pointer;
	span.__rdt_custom_sort_icon__ {
		i,
		svg {
			transform: 'translate3d(0, 0, 0)';
			${({sortActive:b})=>b?"opacity: 1":"opacity: 0"};
			color: inherit;
			font-size: 18px;
			height: 18px;
			width: 18px;
			backface-visibility: hidden;
			transform-style: preserve-3d;
			transition-duration: 95ms;
			transition-property: transform;
		}

		&.asc i,
		&.asc svg {
			transform: rotate(180deg);
		}
	}

	${({sortActive:b})=>!b&&Ss`
			&:hover,
			&:focus {
				opacity: 0.7;

				span,
				span.__rdt_custom_sort_icon__ * {
					opacity: 0.7;
				}
			}
		`};
`,jD=xi.div`
	display: inline-flex;
	align-items: center;
	justify-content: inherit;
	height: 100%;
	width: 100%;
	outline: none;
	user-select: none;
	overflow: hidden;
	${({disabled:b})=>!b&&YD};
`,ZD=xi.div`
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
`;var XD=Jr.memo(function({column:b,disabled:k,draggingColumnId:K,selectedColumn:fe={},sortDirection:Te,sortIcon:Oe,sortServer:G,pagination:V,paginationServer:e,persistSelectedOnSort:g,selectableRowsVisibleOnly:_,onSort:a,onDragStart:C,onDragOver:A,onDragEnd:v,onDragEnter:p,onDragLeave:t}){Jr.useEffect(()=>{typeof b.selector=="string"&&console.error(`Warning: ${b.selector} is a string based column selector which has been deprecated as of v7 and will be removed in v8. Instead, use a selector function e.g. row => row[field]...`)},[]);const[r,s]=Jr.useState(!1),n=Jr.useRef(null);if(Jr.useEffect(()=>{n.current&&s(n.current.scrollWidth>n.current.clientWidth)},[r]),b.omit)return null;const i=()=>{if(!b.sortable&&!b.selector)return;let E=Te;qp(fe.id,b.id)&&(E=Te===jh.ASC?jh.DESC:jh.ASC),a({type:"SORT_CHANGE",sortDirection:E,selectedColumn:b,clearSelectedOnSort:V&&e&&!g||G||_})},f=E=>Jr.createElement(GD,{sortActive:E,sortDirection:Te}),u=()=>Jr.createElement("span",{className:[Te,"__rdt_custom_sort_icon__"].join(" ")},Oe),y=!(!b.sortable||!qp(fe.id,b.id)),c=!b.sortable||k,T=b.sortable&&!Oe&&!b.right,h=b.sortable&&!Oe&&b.right,l=b.sortable&&Oe&&!b.right,d=b.sortable&&Oe&&b.right;return Jr.createElement(WD,{"data-column-id":b.id,className:"rdt_TableCol",$headCell:!0,allowOverflow:b.allowOverflow,button:b.button,compact:b.compact,grow:b.grow,hide:b.hide,maxWidth:b.maxWidth,minWidth:b.minWidth,right:b.right,center:b.center,width:b.width,draggable:b.reorder,$isDragging:qp(b.id,K),onDragStart:C,onDragOver:A,onDragEnd:v,onDragEnter:p,onDragLeave:t},b.name&&Jr.createElement(jD,{"data-column-id":b.id,"data-sort-id":b.id,role:"columnheader",tabIndex:0,className:"rdt_TableCol_Sortable",onClick:c?void 0:i,onKeyPress:c?void 0:E=>{E.key==="Enter"&&i()},sortActive:!c&&y,disabled:c},!c&&d&&u(),!c&&h&&f(y),typeof b.name=="string"?Jr.createElement(ZD,{title:r?b.name:void 0,ref:n,"data-column-id":b.id},b.name):b.name,!c&&l&&u(),!c&&T&&f(y)))});const KD=xi(Qd)`
	flex: 0 0 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	font-size: unset;
`;function $D({headCell:b=!0,rowData:k,keyField:K,allSelected:fe,mergeSelections:Te,selectedRows:Oe,selectableRowsComponent:G,selectableRowsComponentProps:V,selectableRowDisabled:e,onSelectAllRows:g}){const _=Oe.length>0&&!fe,a=e?k.filter(v=>!e(v)):k,C=a.length===0,A=Math.min(k.length,a.length);return Jr.createElement(KD,{className:"rdt_TableCol",$headCell:b,$noPadding:!0},Jr.createElement(tS,{name:"select-all-rows",component:G,componentOptions:V,onClick:()=>{g({type:"SELECT_ALL_ROWS",rows:a,rowCount:A,mergeSelections:Te,keyField:K})},checked:fe,indeterminate:_,disabled:C}))}function rS(b=My.AUTO){const k=typeof window=="object",[K,fe]=Jr.useState(!1);return Jr.useEffect(()=>{if(k)if(b!=="auto")fe(b==="rtl");else{const Te=!(!window.document||!window.document.createElement),Oe=document.getElementsByTagName("BODY")[0],G=document.getElementsByTagName("HTML")[0],V=Oe.dir==="rtl"||G.dir==="rtl";fe(Te&&V)}},[b,k]),K}const JD=xi.div`
	display: flex;
	align-items: center;
	flex: 1 0 auto;
	height: 100%;
	color: ${({theme:b})=>b.contextMenu.fontColor};
	font-size: ${({theme:b})=>b.contextMenu.fontSize};
	font-weight: 400;
`,QD=xi.div`
	display: flex;
	align-items: center;
	justify-content: flex-end;
	flex-wrap: wrap;
`,vT=xi.div`
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	box-sizing: inherit;
	z-index: 1;
	align-items: center;
	justify-content: space-between;
	display: flex;
	${({$rtl:b})=>b&&"direction: rtl"};
	${({theme:b})=>b.contextMenu.style};
	${({theme:b,$visible:k})=>k&&b.contextMenu.activeStyle};
`;function qD({contextMessage:b,contextActions:k,contextComponent:K,selectedCount:fe,direction:Te}){const Oe=rS(Te),G=fe>0;return K?Jr.createElement(vT,{$visible:G},Jr.cloneElement(K,{selectedCount:fe})):Jr.createElement(vT,{$visible:G,$rtl:Oe},Jr.createElement(JD,null,((V,e,g)=>{if(e===0)return null;const _=e===1?V.singular:V.plural;return g?`${e} ${V.message||""} ${_}`:`${e} ${_} ${V.message||""}`})(b,fe,Oe)),Jr.createElement(QD,null,k))}const eI=xi.div`
	position: relative;
	box-sizing: border-box;
	overflow: hidden;
	display: flex;
	flex: 1 1 auto;
	align-items: center;
	justify-content: space-between;
	width: 100%;
	flex-wrap: wrap;
	${({theme:b})=>b.header.style}
`,tI=xi.div`
	flex: 1 0 auto;
	color: ${({theme:b})=>b.header.fontColor};
	font-size: ${({theme:b})=>b.header.fontSize};
	font-weight: 400;
`,rI=xi.div`
	flex: 1 0 auto;
	display: flex;
	align-items: center;
	justify-content: flex-end;

	> * {
		margin-left: 5px;
	}
`,nI=({title:b,actions:k=null,contextMessage:K,contextActions:fe,contextComponent:Te,selectedCount:Oe,direction:G,showMenu:V=!0})=>Jr.createElement(eI,{className:"rdt_TableHeader",role:"heading","aria-level":1},Jr.createElement(tI,null,b),k&&Jr.createElement(rI,null,k),V&&Jr.createElement(qD,{contextMessage:K,contextActions:fe,contextComponent:Te,direction:G,selectedCount:Oe}));function nS(b,k){var K={};for(var fe in b)Object.prototype.hasOwnProperty.call(b,fe)&&k.indexOf(fe)<0&&(K[fe]=b[fe]);if(b!=null&&typeof Object.getOwnPropertySymbols=="function"){var Te=0;for(fe=Object.getOwnPropertySymbols(b);Te<fe.length;Te++)k.indexOf(fe[Te])<0&&Object.prototype.propertyIsEnumerable.call(b,fe[Te])&&(K[fe[Te]]=b[fe[Te]])}return K}const aI={left:"flex-start",right:"flex-end",center:"center"},iI=xi.header`
	position: relative;
	display: flex;
	flex: 1 1 auto;
	box-sizing: border-box;
	align-items: center;
	padding: 4px 16px 4px 24px;
	width: 100%;
	justify-content: ${({align:b})=>aI[b]};
	flex-wrap: ${({$wrapContent:b})=>b?"wrap":"nowrap"};
	${({theme:b})=>b.subHeader.style}
`,oI=b=>{var{align:k="right",wrapContent:K=!0}=b,fe=nS(b,["align","wrapContent"]);return Jr.createElement(iI,Object.assign({align:k,$wrapContent:K},fe))},sI=xi.div`
	display: flex;
	flex-direction: column;
`,lI=xi.div`
	position: relative;
	width: 100%;
	border-radius: inherit;
	${({$responsive:b,$fixedHeader:k})=>b&&Ss`
			overflow-x: auto;

			// hidden prevents vertical scrolling in firefox when fixedHeader is disabled
			overflow-y: ${k?"auto":"hidden"};
			min-height: 0;
		`};

	${({$fixedHeader:b=!1,$fixedHeaderScrollHeight:k="100vh"})=>b&&Ss`
			max-height: ${k};
			-webkit-overflow-scrolling: touch;
		`};

	${({theme:b})=>b.responsiveWrapper.style};
`,dT=xi.div`
	position: relative;
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${b=>b.theme.progress.style};
`,uI=xi.div`
	position: relative;
	width: 100%;
	${({theme:b})=>b.tableWrapper.style};
`,fI=xi(Qd)`
	white-space: nowrap;
	${({theme:b})=>b.expanderCell.style};
`,cI=xi.div`
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${({theme:b})=>b.noData.style};
`,hI=()=>ui.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},ui.createElement("path",{d:"M7 10l5 5 5-5z"}),ui.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),vI=xi.select`
	cursor: pointer;
	height: 24px;
	max-width: 100%;
	user-select: none;
	padding-left: 8px;
	padding-right: 24px;
	box-sizing: content-box;
	font-size: inherit;
	color: inherit;
	border: none;
	background-color: transparent;
	appearance: none;
	direction: ltr;
	flex-shrink: 0;

	&::-ms-expand {
		display: none;
	}

	&:disabled::-ms-expand {
		background: #f60;
	}

	option {
		color: initial;
	}
`,dI=xi.div`
	position: relative;
	flex-shrink: 0;
	font-size: inherit;
	color: inherit;
	margin-top: 1px;

	svg {
		top: 0;
		right: 0;
		color: inherit;
		position: absolute;
		fill: currentColor;
		width: 24px;
		height: 24px;
		display: inline-block;
		user-select: none;
		pointer-events: none;
	}
`,pI=b=>{var{defaultValue:k,onChange:K}=b,fe=nS(b,["defaultValue","onChange"]);return Jr.createElement(dI,null,Jr.createElement(vI,Object.assign({onChange:K,defaultValue:k},fe)),Jr.createElement(hI,null))},Ta={columns:[],data:[],title:"",keyField:"id",selectableRows:!1,selectableRowsHighlight:!1,selectableRowsNoSelectAll:!1,selectableRowSelected:null,selectableRowDisabled:null,selectableRowsComponent:"input",selectableRowsComponentProps:{},selectableRowsVisibleOnly:!1,selectableRowsSingle:!1,clearSelectedRows:!1,expandableRows:!1,expandableRowDisabled:null,expandableRowExpanded:null,expandOnRowClicked:!1,expandableRowsHideExpander:!1,expandOnRowDoubleClicked:!1,expandableInheritConditionalStyles:!1,expandableRowsComponent:function(){return ui.createElement("div",null,"To add an expander pass in a component instance via ",ui.createElement("strong",null,"expandableRowsComponent"),". You can then access props.data from this component.")},expandableIcon:{collapsed:ui.createElement(()=>ui.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},ui.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),ui.createElement("path",{d:"M0-.25h24v24H0z",fill:"none"})),null),expanded:ui.createElement(()=>ui.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},ui.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}),ui.createElement("path",{d:"M0-.75h24v24H0z",fill:"none"})),null)},expandableRowsComponentProps:{},progressPending:!1,progressComponent:ui.createElement("div",{style:{fontSize:"24px",fontWeight:700,padding:"24px"}},"Loading..."),persistTableHead:!1,sortIcon:null,sortFunction:null,sortServer:!1,striped:!1,highlightOnHover:!1,pointerOnHover:!1,noContextMenu:!1,contextMessage:{singular:"item",plural:"items",message:"selected"},actions:null,contextActions:null,contextComponent:null,defaultSortFieldId:null,defaultSortAsc:!0,responsive:!0,noDataComponent:ui.createElement("div",{style:{padding:"24px"}},"There are no records to display"),disabled:!1,noTableHead:!1,noHeader:!1,subHeader:!1,subHeaderAlign:Dx.RIGHT,subHeaderWrap:!0,subHeaderComponent:null,fixedHeader:!1,fixedHeaderScrollHeight:"100vh",pagination:!1,paginationServer:!1,paginationServerOptions:{persistSelectedOnSort:!1,persistSelectedOnPageChange:!1},paginationDefaultPage:1,paginationResetDefaultPage:!1,paginationTotalRows:0,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],paginationComponent:null,paginationComponentOptions:{},paginationIconFirstPage:ui.createElement(()=>ui.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},ui.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),ui.createElement("path",{fill:"none",d:"M24 24H0V0h24v24z"})),null),paginationIconLastPage:ui.createElement(()=>ui.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},ui.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),ui.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"})),null),paginationIconNext:ui.createElement(()=>ui.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},ui.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),ui.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),null),paginationIconPrevious:ui.createElement(()=>ui.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},ui.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),ui.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),null),dense:!1,conditionalRowStyles:[],theme:"default",customStyles:{},direction:My.AUTO,onChangePage:ws,onChangeRowsPerPage:ws,onRowClicked:ws,onRowDoubleClicked:ws,onRowMouseEnter:ws,onRowMouseLeave:ws,onRowExpandToggled:ws,onSelectedRowsChange:ws,onSort:ws,onColumnOrderChange:ws},gI={rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"All"},yI=xi.nav`
	display: flex;
	flex: 1 1 auto;
	justify-content: flex-end;
	align-items: center;
	box-sizing: border-box;
	padding-right: 8px;
	padding-left: 8px;
	width: 100%;
	${({theme:b})=>b.pagination.style};
`,Tg=xi.button`
	position: relative;
	display: block;
	user-select: none;
	border: none;
	${({theme:b})=>b.pagination.pageButtonsStyle};
	${({$isRTL:b})=>b&&"transform: scale(-1, -1)"};
`,mI=xi.div`
	display: flex;
	align-items: center;
	border-radius: 4px;
	white-space: nowrap;
	${q4`
    width: 100%;
    justify-content: space-around;
  `};
`,aS=xi.span`
	flex-shrink: 1;
	user-select: none;
`,xI=xi(aS)`
	margin: 0 24px;
`,bI=xi(aS)`
	margin: 0 4px;
`;var wI=Jr.memo(function({rowsPerPage:b,rowCount:k,currentPage:K,direction:fe=Ta.direction,paginationRowsPerPageOptions:Te=Ta.paginationRowsPerPageOptions,paginationIconLastPage:Oe=Ta.paginationIconLastPage,paginationIconFirstPage:G=Ta.paginationIconFirstPage,paginationIconNext:V=Ta.paginationIconNext,paginationIconPrevious:e=Ta.paginationIconPrevious,paginationComponentOptions:g=Ta.paginationComponentOptions,onChangeRowsPerPage:_=Ta.onChangeRowsPerPage,onChangePage:a=Ta.onChangePage}){const C=(()=>{const E=typeof window=="object";function S(){return{width:E?window.innerWidth:void 0,height:E?window.innerHeight:void 0}}const[P,x]=Jr.useState(S);return Jr.useEffect(()=>{if(!E)return()=>null;function M(){x(S())}return window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]),P})(),A=rS(fe),v=C.width&&C.width>599,p=Qp(k,b),t=K*b,r=t-b+1,s=K===1,n=K===p,i=Object.assign(Object.assign({},gI),g),f=K===p?`${r}-${k} ${i.rangeSeparatorText} ${k}`:`${r}-${t} ${i.rangeSeparatorText} ${k}`,u=Jr.useCallback(()=>a(K-1),[K,a]),y=Jr.useCallback(()=>a(K+1),[K,a]),c=Jr.useCallback(()=>a(1),[a]),T=Jr.useCallback(()=>a(Qp(k,b)),[a,k,b]),h=Jr.useCallback(E=>_(Number(E.target.value),K),[K,_]),l=Te.map(E=>Jr.createElement("option",{key:E,value:E},E));i.selectAllRowsItem&&l.push(Jr.createElement("option",{key:-1,value:k},i.selectAllRowsItemText));const d=Jr.createElement(pI,{onChange:h,defaultValue:b,"aria-label":i.rowsPerPageText},l);return Jr.createElement(yI,{className:"rdt_Pagination"},!i.noRowsPerPage&&v&&Jr.createElement(Jr.Fragment,null,Jr.createElement(bI,null,i.rowsPerPageText),d),v&&Jr.createElement(xI,null,f),Jr.createElement(mI,null,Jr.createElement(Tg,{id:"pagination-first-page",type:"button","aria-label":"First Page","aria-disabled":s,onClick:c,disabled:s,$isRTL:A},G),Jr.createElement(Tg,{id:"pagination-previous-page",type:"button","aria-label":"Previous Page","aria-disabled":s,onClick:u,disabled:s,$isRTL:A},e),!i.noRowsPerPage&&!v&&d,Jr.createElement(Tg,{id:"pagination-next-page",type:"button","aria-label":"Next Page","aria-disabled":n,onClick:y,disabled:n,$isRTL:A},V),Jr.createElement(Tg,{id:"pagination-last-page",type:"button","aria-label":"Last Page","aria-disabled":n,onClick:T,disabled:n,$isRTL:A},Oe)))});const cv=(b,k)=>{const K=Jr.useRef(!0);Jr.useEffect(()=>{K.current?K.current=!1:b()},k)};var TI=function(b){return function(k){return!!k&&typeof k=="object"}(b)&&!function(k){var K=Object.prototype.toString.call(k);return K==="[object RegExp]"||K==="[object Date]"||function(fe){return fe.$$typeof===AI}(k)}(b)},AI=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function T0(b,k){return k.clone!==!1&&k.isMergeableObject(b)?Yd((K=b,Array.isArray(K)?[]:{}),b,k):b;var K}function SI(b,k,K){return b.concat(k).map(function(fe){return T0(fe,K)})}function pT(b){return Object.keys(b).concat(function(k){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(k).filter(function(K){return k.propertyIsEnumerable(K)}):[]}(b))}function gT(b,k){try{return k in b}catch{return!1}}function EI(b,k,K){var fe={};return K.isMergeableObject(b)&&pT(b).forEach(function(Te){fe[Te]=T0(b[Te],K)}),pT(k).forEach(function(Te){(function(Oe,G){return gT(Oe,G)&&!(Object.hasOwnProperty.call(Oe,G)&&Object.propertyIsEnumerable.call(Oe,G))})(b,Te)||(gT(b,Te)&&K.isMergeableObject(k[Te])?fe[Te]=function(Oe,G){if(!G.customMerge)return Yd;var V=G.customMerge(Oe);return typeof V=="function"?V:Yd}(Te,K)(b[Te],k[Te],K):fe[Te]=T0(k[Te],K))}),fe}function Yd(b,k,K){(K=K||{}).arrayMerge=K.arrayMerge||SI,K.isMergeableObject=K.isMergeableObject||TI,K.cloneUnlessOtherwiseSpecified=T0;var fe=Array.isArray(k);return fe===Array.isArray(b)?fe?K.arrayMerge(b,k,K):EI(b,k,K):T0(k,K)}Yd.all=function(b,k){if(!Array.isArray(b))throw new Error("first argument should be an array");return b.reduce(function(K,fe){return Yd(K,fe,k)},{})};var MI=Yd;const yT={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#FFFFFF"},context:{background:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},divider:{default:"rgba(0,0,0,.12)"},button:{default:"rgba(0,0,0,.54)",focus:"rgba(0,0,0,.12)",hover:"rgba(0,0,0,.12)",disabled:"rgba(0, 0, 0, .18)"},selected:{default:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},highlightOnHover:{default:"#EEEEEE",text:"rgba(0, 0, 0, 0.87)"},striped:{default:"#FAFAFA",text:"rgba(0, 0, 0, 0.87)"}},mT={default:yT,light:yT,dark:{text:{primary:"#FFFFFF",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(0,0,0,.12)"},background:{default:"#424242"},context:{background:"#E91E63",text:"#FFFFFF"},divider:{default:"rgba(81, 81, 81, 1)"},button:{default:"#FFFFFF",focus:"rgba(255, 255, 255, .54)",hover:"rgba(255, 255, 255, .12)",disabled:"rgba(255, 255, 255, .18)"},selected:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},highlightOnHover:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},striped:{default:"rgba(0, 0, 0, .87)",text:"#FFFFFF"}}};function CI(b,k,K,fe){const[Te,Oe]=Jr.useState(()=>cT(b)),[G,V]=Jr.useState(""),e=Jr.useRef("");cv(()=>{Oe(cT(b))},[b]);const g=Jr.useCallback(t=>{var r,s,n;const{attributes:i}=t.target,f=(r=i.getNamedItem("data-column-id"))===null||r===void 0?void 0:r.value;f&&(e.current=((n=(s=Te[wg(Te,f)])===null||s===void 0?void 0:s.id)===null||n===void 0?void 0:n.toString())||"",V(e.current))},[Te]),_=Jr.useCallback(t=>{var r;const{attributes:s}=t.target,n=(r=s.getNamedItem("data-column-id"))===null||r===void 0?void 0:r.value;if(n&&e.current&&n!==e.current){const i=wg(Te,e.current),f=wg(Te,n),u=[...Te];u[i]=Te[f],u[f]=Te[i],Oe(u),k(u)}},[k,Te]),a=Jr.useCallback(t=>{t.preventDefault()},[]),C=Jr.useCallback(t=>{t.preventDefault()},[]),A=Jr.useCallback(t=>{t.preventDefault(),e.current="",V("")},[]),v=function(t=!1){return t?jh.ASC:jh.DESC}(fe),p=Jr.useMemo(()=>Te[wg(Te,K==null?void 0:K.toString())]||{},[K,Te]);return{tableColumns:Te,draggingColumnId:G,handleDragStart:g,handleDragEnter:_,handleDragOver:a,handleDragLeave:C,handleDragEnd:A,defaultSortDirection:v,defaultSortColumn:p}}var LI=Jr.memo(function(b){const{data:k=Ta.data,columns:K=Ta.columns,title:fe=Ta.title,actions:Te=Ta.actions,keyField:Oe=Ta.keyField,striped:G=Ta.striped,highlightOnHover:V=Ta.highlightOnHover,pointerOnHover:e=Ta.pointerOnHover,dense:g=Ta.dense,selectableRows:_=Ta.selectableRows,selectableRowsSingle:a=Ta.selectableRowsSingle,selectableRowsHighlight:C=Ta.selectableRowsHighlight,selectableRowsNoSelectAll:A=Ta.selectableRowsNoSelectAll,selectableRowsVisibleOnly:v=Ta.selectableRowsVisibleOnly,selectableRowSelected:p=Ta.selectableRowSelected,selectableRowDisabled:t=Ta.selectableRowDisabled,selectableRowsComponent:r=Ta.selectableRowsComponent,selectableRowsComponentProps:s=Ta.selectableRowsComponentProps,onRowExpandToggled:n=Ta.onRowExpandToggled,onSelectedRowsChange:i=Ta.onSelectedRowsChange,expandableIcon:f=Ta.expandableIcon,onChangeRowsPerPage:u=Ta.onChangeRowsPerPage,onChangePage:y=Ta.onChangePage,paginationServer:c=Ta.paginationServer,paginationServerOptions:T=Ta.paginationServerOptions,paginationTotalRows:h=Ta.paginationTotalRows,paginationDefaultPage:l=Ta.paginationDefaultPage,paginationResetDefaultPage:d=Ta.paginationResetDefaultPage,paginationPerPage:E=Ta.paginationPerPage,paginationRowsPerPageOptions:S=Ta.paginationRowsPerPageOptions,paginationIconLastPage:P=Ta.paginationIconLastPage,paginationIconFirstPage:x=Ta.paginationIconFirstPage,paginationIconNext:M=Ta.paginationIconNext,paginationIconPrevious:w=Ta.paginationIconPrevious,paginationComponent:o=Ta.paginationComponent,paginationComponentOptions:L=Ta.paginationComponentOptions,responsive:m=Ta.responsive,progressPending:F=Ta.progressPending,progressComponent:I=Ta.progressComponent,persistTableHead:U=Ta.persistTableHead,noDataComponent:z=Ta.noDataComponent,disabled:N=Ta.disabled,noTableHead:B=Ta.noTableHead,noHeader:O=Ta.noHeader,fixedHeader:H=Ta.fixedHeader,fixedHeaderScrollHeight:Y=Ta.fixedHeaderScrollHeight,pagination:J=Ta.pagination,subHeader:re=Ta.subHeader,subHeaderAlign:ie=Ta.subHeaderAlign,subHeaderWrap:ce=Ta.subHeaderWrap,subHeaderComponent:Q=Ta.subHeaderComponent,noContextMenu:j=Ta.noContextMenu,contextMessage:Z=Ta.contextMessage,contextActions:$=Ta.contextActions,contextComponent:te=Ta.contextComponent,expandableRows:se=Ta.expandableRows,onRowClicked:ee=Ta.onRowClicked,onRowDoubleClicked:q=Ta.onRowDoubleClicked,onRowMouseEnter:le=Ta.onRowMouseEnter,onRowMouseLeave:oe=Ta.onRowMouseLeave,sortIcon:he=Ta.sortIcon,onSort:me=Ta.onSort,sortFunction:Ce=Ta.sortFunction,sortServer:Ae=Ta.sortServer,expandableRowsComponent:Ue=Ta.expandableRowsComponent,expandableRowsComponentProps:Ve=Ta.expandableRowsComponentProps,expandableRowDisabled:Pe=Ta.expandableRowDisabled,expandableRowsHideExpander:be=Ta.expandableRowsHideExpander,expandOnRowClicked:Le=Ta.expandOnRowClicked,expandOnRowDoubleClicked:We=Ta.expandOnRowDoubleClicked,expandableRowExpanded:je=Ta.expandableRowExpanded,expandableInheritConditionalStyles:Fe=Ta.expandableInheritConditionalStyles,defaultSortFieldId:Ze=Ta.defaultSortFieldId,defaultSortAsc:ut=Ta.defaultSortAsc,clearSelectedRows:at=Ta.clearSelectedRows,conditionalRowStyles:it=Ta.conditionalRowStyles,theme:$e=Ta.theme,customStyles:st=Ta.customStyles,direction:ct=Ta.direction,onColumnOrderChange:vt=Ta.onColumnOrderChange,className:St}=b,{tableColumns:Mt,draggingColumnId:Bt,handleDragStart:Qe,handleDragEnter:ke,handleDragOver:ze,handleDragLeave:Be,handleDragEnd:Re,defaultSortDirection:we,defaultSortColumn:ye}=CI(K,vt,Ze,ut),[{rowsPerPage:Se,currentPage:Me,selectedRows:He,allSelected:qe,selectedCount:rt,selectedColumn:pt,sortDirection:At,toggleOnSelectedRowsChange:jt},tr]=Jr.useReducer(mD,{allSelected:!1,selectedCount:0,selectedRows:[],selectedColumn:ye,toggleOnSelectedRowsChange:!1,sortDirection:we,currentPage:l,rowsPerPage:E,selectedRowsFlag:!1,contextMessage:Ta.contextMessage}),{persistSelectedOnSort:Ct=!1,persistSelectedOnPageChange:Nt=!1}=T,Kt=!(!c||!Nt&&!Ct),wr=J&&!F&&k.length>0,yt=o||wI,$t=Jr.useMemo(()=>((lr={},Xe="default",Ke="default")=>{const Ot=mT[Xe]?Xe:Ke;return MI({table:{style:{color:(Lt=mT[Ot]).text.primary,backgroundColor:Lt.background.default}},tableWrapper:{style:{display:"table"}},responsiveWrapper:{style:{}},header:{style:{fontSize:"22px",color:Lt.text.primary,backgroundColor:Lt.background.default,minHeight:"56px",paddingLeft:"16px",paddingRight:"8px"}},subHeader:{style:{backgroundColor:Lt.background.default,minHeight:"52px"}},head:{style:{color:Lt.text.primary,fontSize:"12px",fontWeight:500}},headRow:{style:{backgroundColor:Lt.background.default,minHeight:"52px",borderBottomWidth:"1px",borderBottomColor:Lt.divider.default,borderBottomStyle:"solid"},denseStyle:{minHeight:"32px"}},headCells:{style:{paddingLeft:"16px",paddingRight:"16px"},draggingStyle:{cursor:"move"}},contextMenu:{style:{backgroundColor:Lt.context.background,fontSize:"18px",fontWeight:400,color:Lt.context.text,paddingLeft:"16px",paddingRight:"8px",transform:"translate3d(0, -100%, 0)",transitionDuration:"125ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",willChange:"transform"},activeStyle:{transform:"translate3d(0, 0, 0)"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",wordBreak:"break-word"},draggingStyle:{}},rows:{style:{fontSize:"13px",fontWeight:400,color:Lt.text.primary,backgroundColor:Lt.background.default,minHeight:"48px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:Lt.divider.default}},denseStyle:{minHeight:"32px"},selectedHighlightStyle:{"&:nth-of-type(n)":{color:Lt.selected.text,backgroundColor:Lt.selected.default,borderBottomColor:Lt.background.default}},highlightOnHoverStyle:{color:Lt.highlightOnHover.text,backgroundColor:Lt.highlightOnHover.default,transitionDuration:"0.15s",transitionProperty:"background-color",borderBottomColor:Lt.background.default,outlineStyle:"solid",outlineWidth:"1px",outlineColor:Lt.background.default},stripedStyle:{color:Lt.striped.text,backgroundColor:Lt.striped.default}},expanderRow:{style:{color:Lt.text.primary,backgroundColor:Lt.background.default}},expanderCell:{style:{flex:"0 0 48px"}},expanderButton:{style:{color:Lt.button.default,fill:Lt.button.default,backgroundColor:"transparent",borderRadius:"2px",transition:"0.25s",height:"100%",width:"100%","&:hover:enabled":{cursor:"pointer"},"&:disabled":{color:Lt.button.disabled},"&:hover:not(:disabled)":{cursor:"pointer",backgroundColor:Lt.button.hover},"&:focus":{outline:"none",backgroundColor:Lt.button.focus},svg:{margin:"auto"}}},pagination:{style:{color:Lt.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:Lt.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:Lt.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:Lt.button.default,fill:Lt.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:Lt.button.disabled,fill:Lt.button.disabled},"&:hover:not(:disabled)":{backgroundColor:Lt.button.hover},"&:focus":{outline:"none",backgroundColor:Lt.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:Lt.text.primary,backgroundColor:Lt.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:Lt.text.primary,backgroundColor:Lt.background.default}}},lr);var Lt})(st,$e),[st,$e]),er=Jr.useMemo(()=>Object.assign({},ct!=="auto"&&{dir:ct}),[ct]),mr=Jr.useMemo(()=>{if(Ae)return k;if(pt!=null&&pt.sortFunction&&typeof pt.sortFunction=="function"){const lr=pt.sortFunction,Xe=At===jh.ASC?lr:(Ke,Ot)=>-1*lr(Ke,Ot);return[...k].sort(Xe)}return function(lr,Xe,Ke,Ot){return Xe?Ot&&typeof Ot=="function"?Ot(lr.slice(0),Xe,Ke):lr.slice(0).sort((Lt,Xt)=>{let rr,ur;if(typeof Xe=="string"?(rr=Rx(Lt,Xe),ur=Rx(Xt,Xe)):(rr=Xe(Lt),ur=Xe(Xt)),Ke==="asc"){if(rr<ur)return-1;if(rr>ur)return 1}if(Ke==="desc"){if(rr>ur)return-1;if(rr<ur)return 1}return 0}):lr}(k,pt==null?void 0:pt.selector,At,Ce)},[Ae,pt,At,k,Ce]),vr=Jr.useMemo(()=>{if(J&&!c){const lr=Me*Se,Xe=lr-Se;return mr.slice(Xe,lr)}return mr},[Me,J,c,Se,mr]),bt=Jr.useCallback(lr=>{tr(lr)},[]),ht=Jr.useCallback(lr=>{tr(lr)},[]),Tt=Jr.useCallback(lr=>{tr(lr)},[]),Pt=Jr.useCallback((lr,Xe)=>ee(lr,Xe),[ee]),zt=Jr.useCallback((lr,Xe)=>q(lr,Xe),[q]),Dt=Jr.useCallback((lr,Xe)=>le(lr,Xe),[le]),Vt=Jr.useCallback((lr,Xe)=>oe(lr,Xe),[oe]),Ut=Jr.useCallback(lr=>tr({type:"CHANGE_PAGE",page:lr,paginationServer:c,visibleOnly:v,persistSelectedOnPageChange:Nt}),[c,Nt,v]),Qt=Jr.useCallback(lr=>{const Xe=Qp(h||vr.length,lr),Ke=A1(Me,Xe);c||Ut(Ke),tr({type:"CHANGE_ROWS_PER_PAGE",page:Ke,rowsPerPage:lr})},[Me,Ut,c,h,vr.length]);if(J&&!c&&mr.length>0&&vr.length===0){const lr=Qp(mr.length,Se),Xe=A1(Me,lr);Ut(Xe)}cv(()=>{i({allSelected:qe,selectedCount:rt,selectedRows:He.slice(0)})},[jt]),cv(()=>{me(pt,At,mr.slice(0))},[pt,At]),cv(()=>{y(Me,h||mr.length)},[Me]),cv(()=>{u(Se,Me)},[Se]),cv(()=>{Ut(l)},[l,d]),cv(()=>{if(J&&c&&h>0){const lr=Qp(h,Se),Xe=A1(Me,lr);Me!==Xe&&Ut(Xe)}},[h]),Jr.useEffect(()=>{tr({type:"CLEAR_SELECTED_ROWS",selectedRowsFlag:at})},[a,at]),Jr.useEffect(()=>{if(!p)return;const lr=mr.filter(Ke=>p(Ke)),Xe=a?lr.slice(0,1):lr;tr({type:"SELECT_MULTIPLE_ROWS",keyField:Oe,selectedRows:Xe,totalRows:mr.length,mergeSelections:Kt})},[k,p]);const hr=v?vr:mr,cr=Nt||a||A;return Jr.createElement(dD,{theme:$t},!O&&(!!fe||!!Te)&&Jr.createElement(nI,{title:fe,actions:Te,showMenu:!j,selectedCount:rt,direction:ct,contextActions:$,contextComponent:te,contextMessage:Z}),re&&Jr.createElement(oI,{align:ie,wrapContent:ce},Q),Jr.createElement(lI,Object.assign({$responsive:m,$fixedHeader:H,$fixedHeaderScrollHeight:Y,className:St},er),Jr.createElement(uI,null,F&&!U&&Jr.createElement(dT,null,I),Jr.createElement(bD,{disabled:N,className:"rdt_Table",role:"table"},!B&&(!!U||mr.length>0&&!F)&&Jr.createElement(TD,{className:"rdt_TableHead",role:"rowgroup",$fixedHeader:H},Jr.createElement(AD,{className:"rdt_TableHeadRow",role:"row",$dense:g},_&&(cr?Jr.createElement(Qd,{style:{flex:"0 0 48px"}}):Jr.createElement($D,{allSelected:qe,selectedRows:He,selectableRowsComponent:r,selectableRowsComponentProps:s,selectableRowDisabled:t,rowData:hr,keyField:Oe,mergeSelections:Kt,onSelectAllRows:ht})),se&&!be&&Jr.createElement(fI,null),Mt.map(lr=>Jr.createElement(XD,{key:lr.id,column:lr,selectedColumn:pt,disabled:F||mr.length===0,pagination:J,paginationServer:c,persistSelectedOnSort:Ct,selectableRowsVisibleOnly:v,sortDirection:At,sortIcon:he,sortServer:Ae,onSort:bt,onDragStart:Qe,onDragOver:ze,onDragEnd:Re,onDragEnter:ke,onDragLeave:Be,draggingColumnId:Bt})))),!mr.length&&!F&&Jr.createElement(cI,null,z),F&&U&&Jr.createElement(dT,null,I),!F&&mr.length>0&&Jr.createElement(sI,{className:"rdt_TableBody",role:"rowgroup"},vr.map((lr,Xe)=>{const Ke=Wd(lr,Oe),Ot=function(ur=""){return typeof ur!="number"&&(!ur||ur.length===0)}(Ke)?Xe:Ke,Lt=Gg(lr,He,Oe),Xt=!!(se&&je&&je(lr)),rr=!!(se&&Pe&&Pe(lr));return Jr.createElement(HD,{id:Ot,key:Ot,keyField:Oe,"data-row-id":Ot,columns:Mt,row:lr,rowCount:mr.length,rowIndex:Xe,selectableRows:_,expandableRows:se,expandableIcon:f,highlightOnHover:V,pointerOnHover:e,dense:g,expandOnRowClicked:Le,expandOnRowDoubleClicked:We,expandableRowsComponent:Ue,expandableRowsComponentProps:Ve,expandableRowsHideExpander:be,defaultExpanderDisabled:rr,defaultExpanded:Xt,expandableInheritConditionalStyles:Fe,conditionalRowStyles:it,selected:Lt,selectableRowsHighlight:C,selectableRowsComponent:r,selectableRowsComponentProps:s,selectableRowDisabled:t,selectableRowsSingle:a,striped:G,onRowExpandToggled:n,onRowClicked:Pt,onRowDoubleClicked:zt,onRowMouseEnter:Dt,onRowMouseLeave:Vt,onSelectedRow:Tt,draggingColumnId:Bt,onDragStart:Qe,onDragOver:ze,onDragEnd:Re,onDragEnter:ke,onDragLeave:Be})}))))),wr&&Jr.createElement("div",null,Jr.createElement(yt,{onChangePage:Ut,onChangeRowsPerPage:Qt,rowCount:h||mr.length,currentPage:Me,rowsPerPage:Se,direction:ct,paginationRowsPerPageOptions:S,paginationIconLastPage:P,paginationIconFirstPage:x,paginationIconNext:M,paginationIconPrevious:w,paginationComponentOptions:L})))});function _p(b,k,K,fe=!1){return function(Te){if(!K)return"";const Oe=Te[b];let G="#007bff";return k==="max"&&Oe>=K.topQuantile[b]?G="green":k==="min"&&Oe>=K.topQuantile[b]||k==="max"&&Oe<=K.bottomQuantile[b]?G="red":k==="min"&&Oe<=K.bottomQuantile[b]&&(G="green"),ua.jsxs(ua.Fragment,{children:[ua.jsx("div",{className:"datatable-bar",style:{width:`${90*Oe/K.max[b]}%`,backgroundColor:G}}),(fe?Oe*100:Oe).toFixed(3)]})}}function PI(){const[b,k]=Jr.useState(null),K=Jr.useContext(jy),fe=Jr.useMemo(()=>[{name:ua.jsx("b",{children:"Topic"}),format:Oe=>ua.jsx(Db,{to:"/topic/"+Oe.id,children:Oe.name}),selector:Oe=>Oe.name,grow:2},{name:ua.jsx("b",{children:"Mean Sentiment"}),selector:Oe=>Oe.meanSentiment,sortable:!0,format:_p("meanSentiment","max",b,!0)},{name:ua.jsx("b",{children:"Positive Sentiment Level"}),selector:Oe=>Oe.levelPositivity,sortable:!0,format:_p("levelPositivity","max",b,!0)},{name:ua.jsx("b",{children:"Negative Sentiment Level"}),selector:Oe=>Oe.levelNegativity,sortable:!0,format:_p("levelNegativity","min",b,!0)},{name:ua.jsx("b",{children:"Controversy"}),selector:Oe=>Oe.controversy,sortable:!0,format:_p("controversy","min",b,!0)},{name:ua.jsx("b",{children:"Discussion Volume"}),selector:Oe=>Oe.mass,sortable:!0,format:_p("mass","max",b)}],[b]);async function Te(){k(await wy.getInstance().getTopics(K))}return Jr.useEffect(()=>{Te().catch(console.error)},[K]),ua.jsx("div",{className:"row",children:ua.jsx("div",{className:"col",children:ua.jsxs("div",{className:"bg-light border p-3",children:[ua.jsx("h1",{children:"Topics"}),ua.jsxs("p",{children:["The table lists all topics detected in tweets from ",K[0].toUpperCase()+K.slice(1),". Click the topic name to explore it in more detail."]}),ua.jsx(LI,{columns:fe,data:(b==null?void 0:b.topics)||[],customStyles:{head:{style:{fontSize:"1rem"}},rows:{style:{fontSize:"1rem",background:"none"}},cells:{style:{zIndex:1}},headRow:{style:{background:"none"}},table:{style:{background:"none"}}}})]})})})}var _I={exports:{}};/*!
  * Bootstrap v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(b,k){(function(K,fe){b.exports=fe()})(q6,function(){const K=new Map,fe={set(De,xe,Ge){K.has(De)||K.set(De,new Map);const dt=K.get(De);if(!dt.has(xe)&&dt.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(dt.keys())[0]}.`);return}dt.set(xe,Ge)},get(De,xe){return K.has(De)&&K.get(De).get(xe)||null},remove(De,xe){if(!K.has(De))return;const Ge=K.get(De);Ge.delete(xe),Ge.size===0&&K.delete(De)}},Te=1e6,Oe=1e3,G="transitionend",V=De=>(De&&window.CSS&&window.CSS.escape&&(De=De.replace(/#([^\s"#']+)/g,(xe,Ge)=>`#${CSS.escape(Ge)}`)),De),e=De=>De==null?`${De}`:Object.prototype.toString.call(De).match(/\s([a-z]+)/i)[1].toLowerCase(),g=De=>{do De+=Math.floor(Math.random()*Te);while(document.getElementById(De));return De},_=De=>{if(!De)return 0;let{transitionDuration:xe,transitionDelay:Ge}=window.getComputedStyle(De);const dt=Number.parseFloat(xe),_t=Number.parseFloat(Ge);return!dt&&!_t?0:(xe=xe.split(",")[0],Ge=Ge.split(",")[0],(Number.parseFloat(xe)+Number.parseFloat(Ge))*Oe)},a=De=>{De.dispatchEvent(new Event(G))},C=De=>!De||typeof De!="object"?!1:(typeof De.jquery<"u"&&(De=De[0]),typeof De.nodeType<"u"),A=De=>C(De)?De.jquery?De[0]:De:typeof De=="string"&&De.length>0?document.querySelector(V(De)):null,v=De=>{if(!C(De)||De.getClientRects().length===0)return!1;const xe=getComputedStyle(De).getPropertyValue("visibility")==="visible",Ge=De.closest("details:not([open])");if(!Ge)return xe;if(Ge!==De){const dt=De.closest("summary");if(dt&&dt.parentNode!==Ge||dt===null)return!1}return xe},p=De=>!De||De.nodeType!==Node.ELEMENT_NODE||De.classList.contains("disabled")?!0:typeof De.disabled<"u"?De.disabled:De.hasAttribute("disabled")&&De.getAttribute("disabled")!=="false",t=De=>{if(!document.documentElement.attachShadow)return null;if(typeof De.getRootNode=="function"){const xe=De.getRootNode();return xe instanceof ShadowRoot?xe:null}return De instanceof ShadowRoot?De:De.parentNode?t(De.parentNode):null},r=()=>{},s=De=>{De.offsetHeight},n=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,i=[],f=De=>{document.readyState==="loading"?(i.length||document.addEventListener("DOMContentLoaded",()=>{for(const xe of i)xe()}),i.push(De)):De()},u=()=>document.documentElement.dir==="rtl",y=De=>{f(()=>{const xe=n();if(xe){const Ge=De.NAME,dt=xe.fn[Ge];xe.fn[Ge]=De.jQueryInterface,xe.fn[Ge].Constructor=De,xe.fn[Ge].noConflict=()=>(xe.fn[Ge]=dt,De.jQueryInterface)}})},c=(De,xe=[],Ge=De)=>typeof De=="function"?De(...xe):Ge,T=(De,xe,Ge=!0)=>{if(!Ge){c(De);return}const dt=5,_t=_(xe)+dt;let Yt=!1;const qt=({target:yr})=>{yr===xe&&(Yt=!0,xe.removeEventListener(G,qt),c(De))};xe.addEventListener(G,qt),setTimeout(()=>{Yt||a(xe)},_t)},h=(De,xe,Ge,dt)=>{const _t=De.length;let Yt=De.indexOf(xe);return Yt===-1?!Ge&&dt?De[_t-1]:De[0]:(Yt+=Ge?1:-1,dt&&(Yt=(Yt+_t)%_t),De[Math.max(0,Math.min(Yt,_t-1))])},l=/[^.]*(?=\..*)\.|.*/,d=/\..*/,E=/::\d+$/,S={};let P=1;const x={mouseenter:"mouseover",mouseleave:"mouseout"},M=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function w(De,xe){return xe&&`${xe}::${P++}`||De.uidEvent||P++}function o(De){const xe=w(De);return De.uidEvent=xe,S[xe]=S[xe]||{},S[xe]}function L(De,xe){return function Ge(dt){return H(dt,{delegateTarget:De}),Ge.oneOff&&O.off(De,dt.type,xe),xe.apply(De,[dt])}}function m(De,xe,Ge){return function dt(_t){const Yt=De.querySelectorAll(xe);for(let{target:qt}=_t;qt&&qt!==this;qt=qt.parentNode)for(const yr of Yt)if(yr===qt)return H(_t,{delegateTarget:qt}),dt.oneOff&&O.off(De,_t.type,xe,Ge),Ge.apply(qt,[_t])}}function F(De,xe,Ge=null){return Object.values(De).find(dt=>dt.callable===xe&&dt.delegationSelector===Ge)}function I(De,xe,Ge){const dt=typeof xe=="string",_t=dt?Ge:xe||Ge;let Yt=B(De);return M.has(Yt)||(Yt=De),[dt,_t,Yt]}function U(De,xe,Ge,dt,_t){if(typeof xe!="string"||!De)return;let[Yt,qt,yr]=I(xe,Ge,dt);xe in x&&(qt=(Nn=>function(In){if(!In.relatedTarget||In.relatedTarget!==In.delegateTarget&&!In.delegateTarget.contains(In.relatedTarget))return Nn.call(this,In)})(qt));const Ar=o(De),kr=Ar[yr]||(Ar[yr]={}),Or=F(kr,qt,Yt?Ge:null);if(Or){Or.oneOff=Or.oneOff&&_t;return}const $r=w(qt,xe.replace(l,"")),gn=Yt?m(De,Ge,qt):L(De,qt);gn.delegationSelector=Yt?Ge:null,gn.callable=qt,gn.oneOff=_t,gn.uidEvent=$r,kr[$r]=gn,De.addEventListener(yr,gn,Yt)}function z(De,xe,Ge,dt,_t){const Yt=F(xe[Ge],dt,_t);Yt&&(De.removeEventListener(Ge,Yt,!!_t),delete xe[Ge][Yt.uidEvent])}function N(De,xe,Ge,dt){const _t=xe[Ge]||{};for(const[Yt,qt]of Object.entries(_t))Yt.includes(dt)&&z(De,xe,Ge,qt.callable,qt.delegationSelector)}function B(De){return De=De.replace(d,""),x[De]||De}const O={on(De,xe,Ge,dt){U(De,xe,Ge,dt,!1)},one(De,xe,Ge,dt){U(De,xe,Ge,dt,!0)},off(De,xe,Ge,dt){if(typeof xe!="string"||!De)return;const[_t,Yt,qt]=I(xe,Ge,dt),yr=qt!==xe,Ar=o(De),kr=Ar[qt]||{},Or=xe.startsWith(".");if(typeof Yt<"u"){if(!Object.keys(kr).length)return;z(De,Ar,qt,Yt,_t?Ge:null);return}if(Or)for(const $r of Object.keys(Ar))N(De,Ar,$r,xe.slice(1));for(const[$r,gn]of Object.entries(kr)){const An=$r.replace(E,"");(!yr||xe.includes(An))&&z(De,Ar,qt,gn.callable,gn.delegationSelector)}},trigger(De,xe,Ge){if(typeof xe!="string"||!De)return null;const dt=n(),_t=B(xe),Yt=xe!==_t;let qt=null,yr=!0,Ar=!0,kr=!1;Yt&&dt&&(qt=dt.Event(xe,Ge),dt(De).trigger(qt),yr=!qt.isPropagationStopped(),Ar=!qt.isImmediatePropagationStopped(),kr=qt.isDefaultPrevented());const Or=H(new Event(xe,{bubbles:yr,cancelable:!0}),Ge);return kr&&Or.preventDefault(),Ar&&De.dispatchEvent(Or),Or.defaultPrevented&&qt&&qt.preventDefault(),Or}};function H(De,xe={}){for(const[Ge,dt]of Object.entries(xe))try{De[Ge]=dt}catch{Object.defineProperty(De,Ge,{configurable:!0,get(){return dt}})}return De}function Y(De){if(De==="true")return!0;if(De==="false")return!1;if(De===Number(De).toString())return Number(De);if(De===""||De==="null")return null;if(typeof De!="string")return De;try{return JSON.parse(decodeURIComponent(De))}catch{return De}}function J(De){return De.replace(/[A-Z]/g,xe=>`-${xe.toLowerCase()}`)}const re={setDataAttribute(De,xe,Ge){De.setAttribute(`data-bs-${J(xe)}`,Ge)},removeDataAttribute(De,xe){De.removeAttribute(`data-bs-${J(xe)}`)},getDataAttributes(De){if(!De)return{};const xe={},Ge=Object.keys(De.dataset).filter(dt=>dt.startsWith("bs")&&!dt.startsWith("bsConfig"));for(const dt of Ge){let _t=dt.replace(/^bs/,"");_t=_t.charAt(0).toLowerCase()+_t.slice(1,_t.length),xe[_t]=Y(De.dataset[dt])}return xe},getDataAttribute(De,xe){return Y(De.getAttribute(`data-bs-${J(xe)}`))}};class ie{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(xe){return xe=this._mergeConfigObj(xe),xe=this._configAfterMerge(xe),this._typeCheckConfig(xe),xe}_configAfterMerge(xe){return xe}_mergeConfigObj(xe,Ge){const dt=C(Ge)?re.getDataAttribute(Ge,"config"):{};return{...this.constructor.Default,...typeof dt=="object"?dt:{},...C(Ge)?re.getDataAttributes(Ge):{},...typeof xe=="object"?xe:{}}}_typeCheckConfig(xe,Ge=this.constructor.DefaultType){for(const[dt,_t]of Object.entries(Ge)){const Yt=xe[dt],qt=C(Yt)?"element":e(Yt);if(!new RegExp(_t).test(qt))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${dt}" provided type "${qt}" but expected type "${_t}".`)}}}const ce="5.3.2";class Q extends ie{constructor(xe,Ge){super(),xe=A(xe),xe&&(this._element=xe,this._config=this._getConfig(Ge),fe.set(this._element,this.constructor.DATA_KEY,this))}dispose(){fe.remove(this._element,this.constructor.DATA_KEY),O.off(this._element,this.constructor.EVENT_KEY);for(const xe of Object.getOwnPropertyNames(this))this[xe]=null}_queueCallback(xe,Ge,dt=!0){T(xe,Ge,dt)}_getConfig(xe){return xe=this._mergeConfigObj(xe,this._element),xe=this._configAfterMerge(xe),this._typeCheckConfig(xe),xe}static getInstance(xe){return fe.get(A(xe),this.DATA_KEY)}static getOrCreateInstance(xe,Ge={}){return this.getInstance(xe)||new this(xe,typeof Ge=="object"?Ge:null)}static get VERSION(){return ce}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(xe){return`${xe}${this.EVENT_KEY}`}}const j=De=>{let xe=De.getAttribute("data-bs-target");if(!xe||xe==="#"){let Ge=De.getAttribute("href");if(!Ge||!Ge.includes("#")&&!Ge.startsWith("."))return null;Ge.includes("#")&&!Ge.startsWith("#")&&(Ge=`#${Ge.split("#")[1]}`),xe=Ge&&Ge!=="#"?V(Ge.trim()):null}return xe},Z={find(De,xe=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(xe,De))},findOne(De,xe=document.documentElement){return Element.prototype.querySelector.call(xe,De)},children(De,xe){return[].concat(...De.children).filter(Ge=>Ge.matches(xe))},parents(De,xe){const Ge=[];let dt=De.parentNode.closest(xe);for(;dt;)Ge.push(dt),dt=dt.parentNode.closest(xe);return Ge},prev(De,xe){let Ge=De.previousElementSibling;for(;Ge;){if(Ge.matches(xe))return[Ge];Ge=Ge.previousElementSibling}return[]},next(De,xe){let Ge=De.nextElementSibling;for(;Ge;){if(Ge.matches(xe))return[Ge];Ge=Ge.nextElementSibling}return[]},focusableChildren(De){const xe=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(Ge=>`${Ge}:not([tabindex^="-"])`).join(",");return this.find(xe,De).filter(Ge=>!p(Ge)&&v(Ge))},getSelectorFromElement(De){const xe=j(De);return xe&&Z.findOne(xe)?xe:null},getElementFromSelector(De){const xe=j(De);return xe?Z.findOne(xe):null},getMultipleElementsFromSelector(De){const xe=j(De);return xe?Z.find(xe):[]}},$=(De,xe="hide")=>{const Ge=`click.dismiss${De.EVENT_KEY}`,dt=De.NAME;O.on(document,Ge,`[data-bs-dismiss="${dt}"]`,function(_t){if(["A","AREA"].includes(this.tagName)&&_t.preventDefault(),p(this))return;const Yt=Z.getElementFromSelector(this)||this.closest(`.${dt}`);De.getOrCreateInstance(Yt)[xe]()})},te="alert",ee=".bs.alert",q=`close${ee}`,le=`closed${ee}`,oe="fade",he="show";class me extends Q{static get NAME(){return te}close(){if(O.trigger(this._element,q).defaultPrevented)return;this._element.classList.remove(he);const Ge=this._element.classList.contains(oe);this._queueCallback(()=>this._destroyElement(),this._element,Ge)}_destroyElement(){this._element.remove(),O.trigger(this._element,le),this.dispose()}static jQueryInterface(xe){return this.each(function(){const Ge=me.getOrCreateInstance(this);if(typeof xe=="string"){if(Ge[xe]===void 0||xe.startsWith("_")||xe==="constructor")throw new TypeError(`No method named "${xe}"`);Ge[xe](this)}})}}$(me,"close"),y(me);const Ce="button",Ue=".bs.button",Ve=".data-api",Pe="active",be='[data-bs-toggle="button"]',Le=`click${Ue}${Ve}`;class We extends Q{static get NAME(){return Ce}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Pe))}static jQueryInterface(xe){return this.each(function(){const Ge=We.getOrCreateInstance(this);xe==="toggle"&&Ge[xe]()})}}O.on(document,Le,be,De=>{De.preventDefault();const xe=De.target.closest(be);We.getOrCreateInstance(xe).toggle()}),y(We);const je="swipe",Fe=".bs.swipe",Ze=`touchstart${Fe}`,ut=`touchmove${Fe}`,at=`touchend${Fe}`,it=`pointerdown${Fe}`,$e=`pointerup${Fe}`,st="touch",ct="pen",vt="pointer-event",St=40,Mt={endCallback:null,leftCallback:null,rightCallback:null},Bt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Qe extends ie{constructor(xe,Ge){super(),this._element=xe,!(!xe||!Qe.isSupported())&&(this._config=this._getConfig(Ge),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Mt}static get DefaultType(){return Bt}static get NAME(){return je}dispose(){O.off(this._element,Fe)}_start(xe){if(!this._supportPointerEvents){this._deltaX=xe.touches[0].clientX;return}this._eventIsPointerPenTouch(xe)&&(this._deltaX=xe.clientX)}_end(xe){this._eventIsPointerPenTouch(xe)&&(this._deltaX=xe.clientX-this._deltaX),this._handleSwipe(),c(this._config.endCallback)}_move(xe){this._deltaX=xe.touches&&xe.touches.length>1?0:xe.touches[0].clientX-this._deltaX}_handleSwipe(){const xe=Math.abs(this._deltaX);if(xe<=St)return;const Ge=xe/this._deltaX;this._deltaX=0,Ge&&c(Ge>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(O.on(this._element,it,xe=>this._start(xe)),O.on(this._element,$e,xe=>this._end(xe)),this._element.classList.add(vt)):(O.on(this._element,Ze,xe=>this._start(xe)),O.on(this._element,ut,xe=>this._move(xe)),O.on(this._element,at,xe=>this._end(xe)))}_eventIsPointerPenTouch(xe){return this._supportPointerEvents&&(xe.pointerType===ct||xe.pointerType===st)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ke="carousel",Be=".bs.carousel",Re=".data-api",we="ArrowLeft",ye="ArrowRight",Se=500,Me="next",He="prev",qe="left",rt="right",pt=`slide${Be}`,At=`slid${Be}`,jt=`keydown${Be}`,tr=`mouseenter${Be}`,Ct=`mouseleave${Be}`,Nt=`dragstart${Be}`,Kt=`load${Be}${Re}`,wr=`click${Be}${Re}`,yt="carousel",$t="active",er="slide",mr="carousel-item-end",vr="carousel-item-start",bt="carousel-item-next",ht="carousel-item-prev",Tt=".active",Pt=".carousel-item",zt=Tt+Pt,Dt=".carousel-item img",Vt=".carousel-indicators",Ut="[data-bs-slide], [data-bs-slide-to]",Qt='[data-bs-ride="carousel"]',hr={[we]:rt,[ye]:qe},cr={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},lr={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Xe extends Q{constructor(xe,Ge){super(xe,Ge),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Z.findOne(Vt,this._element),this._addEventListeners(),this._config.ride===yt&&this.cycle()}static get Default(){return cr}static get DefaultType(){return lr}static get NAME(){return ke}next(){this._slide(Me)}nextWhenVisible(){!document.hidden&&v(this._element)&&this.next()}prev(){this._slide(He)}pause(){this._isSliding&&a(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){O.one(this._element,At,()=>this.cycle());return}this.cycle()}}to(xe){const Ge=this._getItems();if(xe>Ge.length-1||xe<0)return;if(this._isSliding){O.one(this._element,At,()=>this.to(xe));return}const dt=this._getItemIndex(this._getActive());if(dt===xe)return;const _t=xe>dt?Me:He;this._slide(_t,Ge[xe])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(xe){return xe.defaultInterval=xe.interval,xe}_addEventListeners(){this._config.keyboard&&O.on(this._element,jt,xe=>this._keydown(xe)),this._config.pause==="hover"&&(O.on(this._element,tr,()=>this.pause()),O.on(this._element,Ct,()=>this._maybeEnableCycle())),this._config.touch&&Qe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const dt of Z.find(Dt,this._element))O.on(dt,Nt,_t=>_t.preventDefault());const Ge={leftCallback:()=>this._slide(this._directionToOrder(qe)),rightCallback:()=>this._slide(this._directionToOrder(rt)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Se+this._config.interval))}};this._swipeHelper=new Qe(this._element,Ge)}_keydown(xe){if(/input|textarea/i.test(xe.target.tagName))return;const Ge=hr[xe.key];Ge&&(xe.preventDefault(),this._slide(this._directionToOrder(Ge)))}_getItemIndex(xe){return this._getItems().indexOf(xe)}_setActiveIndicatorElement(xe){if(!this._indicatorsElement)return;const Ge=Z.findOne(Tt,this._indicatorsElement);Ge.classList.remove($t),Ge.removeAttribute("aria-current");const dt=Z.findOne(`[data-bs-slide-to="${xe}"]`,this._indicatorsElement);dt&&(dt.classList.add($t),dt.setAttribute("aria-current","true"))}_updateInterval(){const xe=this._activeElement||this._getActive();if(!xe)return;const Ge=Number.parseInt(xe.getAttribute("data-bs-interval"),10);this._config.interval=Ge||this._config.defaultInterval}_slide(xe,Ge=null){if(this._isSliding)return;const dt=this._getActive(),_t=xe===Me,Yt=Ge||h(this._getItems(),dt,_t,this._config.wrap);if(Yt===dt)return;const qt=this._getItemIndex(Yt),yr=An=>O.trigger(this._element,An,{relatedTarget:Yt,direction:this._orderToDirection(xe),from:this._getItemIndex(dt),to:qt});if(yr(pt).defaultPrevented||!dt||!Yt)return;const kr=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(qt),this._activeElement=Yt;const Or=_t?vr:mr,$r=_t?bt:ht;Yt.classList.add($r),s(Yt),dt.classList.add(Or),Yt.classList.add(Or);const gn=()=>{Yt.classList.remove(Or,$r),Yt.classList.add($t),dt.classList.remove($t,$r,Or),this._isSliding=!1,yr(At)};this._queueCallback(gn,dt,this._isAnimated()),kr&&this.cycle()}_isAnimated(){return this._element.classList.contains(er)}_getActive(){return Z.findOne(zt,this._element)}_getItems(){return Z.find(Pt,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(xe){return u()?xe===qe?He:Me:xe===qe?Me:He}_orderToDirection(xe){return u()?xe===He?qe:rt:xe===He?rt:qe}static jQueryInterface(xe){return this.each(function(){const Ge=Xe.getOrCreateInstance(this,xe);if(typeof xe=="number"){Ge.to(xe);return}if(typeof xe=="string"){if(Ge[xe]===void 0||xe.startsWith("_")||xe==="constructor")throw new TypeError(`No method named "${xe}"`);Ge[xe]()}})}}O.on(document,wr,Ut,function(De){const xe=Z.getElementFromSelector(this);if(!xe||!xe.classList.contains(yt))return;De.preventDefault();const Ge=Xe.getOrCreateInstance(xe),dt=this.getAttribute("data-bs-slide-to");if(dt){Ge.to(dt),Ge._maybeEnableCycle();return}if(re.getDataAttribute(this,"slide")==="next"){Ge.next(),Ge._maybeEnableCycle();return}Ge.prev(),Ge._maybeEnableCycle()}),O.on(window,Kt,()=>{const De=Z.find(Qt);for(const xe of De)Xe.getOrCreateInstance(xe)}),y(Xe);const Ke="collapse",Lt=".bs.collapse",Xt=".data-api",rr=`show${Lt}`,ur=`shown${Lt}`,or=`hide${Lt}`,Ht=`hidden${Lt}`,gr=`click${Lt}${Xt}`,br="show",xr="collapse",dr="collapsing",Wr="collapsed",Br=`:scope .${xr} .${xr}`,Ur="collapse-horizontal",yn="width",rn="height",Un=".collapse.show, .collapse.collapsing",bn='[data-bs-toggle="collapse"]',Lr={parent:null,toggle:!0},Pr={parent:"(null|element)",toggle:"boolean"};class Yr extends Q{constructor(xe,Ge){super(xe,Ge),this._isTransitioning=!1,this._triggerArray=[];const dt=Z.find(bn);for(const _t of dt){const Yt=Z.getSelectorFromElement(_t),qt=Z.find(Yt).filter(yr=>yr===this._element);Yt!==null&&qt.length&&this._triggerArray.push(_t)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Lr}static get DefaultType(){return Pr}static get NAME(){return Ke}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let xe=[];if(this._config.parent&&(xe=this._getFirstLevelChildren(Un).filter(yr=>yr!==this._element).map(yr=>Yr.getOrCreateInstance(yr,{toggle:!1}))),xe.length&&xe[0]._isTransitioning||O.trigger(this._element,rr).defaultPrevented)return;for(const yr of xe)yr.hide();const dt=this._getDimension();this._element.classList.remove(xr),this._element.classList.add(dr),this._element.style[dt]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const _t=()=>{this._isTransitioning=!1,this._element.classList.remove(dr),this._element.classList.add(xr,br),this._element.style[dt]="",O.trigger(this._element,ur)},qt=`scroll${dt[0].toUpperCase()+dt.slice(1)}`;this._queueCallback(_t,this._element,!0),this._element.style[dt]=`${this._element[qt]}px`}hide(){if(this._isTransitioning||!this._isShown()||O.trigger(this._element,or).defaultPrevented)return;const Ge=this._getDimension();this._element.style[Ge]=`${this._element.getBoundingClientRect()[Ge]}px`,s(this._element),this._element.classList.add(dr),this._element.classList.remove(xr,br);for(const _t of this._triggerArray){const Yt=Z.getElementFromSelector(_t);Yt&&!this._isShown(Yt)&&this._addAriaAndCollapsedClass([_t],!1)}this._isTransitioning=!0;const dt=()=>{this._isTransitioning=!1,this._element.classList.remove(dr),this._element.classList.add(xr),O.trigger(this._element,Ht)};this._element.style[Ge]="",this._queueCallback(dt,this._element,!0)}_isShown(xe=this._element){return xe.classList.contains(br)}_configAfterMerge(xe){return xe.toggle=!!xe.toggle,xe.parent=A(xe.parent),xe}_getDimension(){return this._element.classList.contains(Ur)?yn:rn}_initializeChildren(){if(!this._config.parent)return;const xe=this._getFirstLevelChildren(bn);for(const Ge of xe){const dt=Z.getElementFromSelector(Ge);dt&&this._addAriaAndCollapsedClass([Ge],this._isShown(dt))}}_getFirstLevelChildren(xe){const Ge=Z.find(Br,this._config.parent);return Z.find(xe,this._config.parent).filter(dt=>!Ge.includes(dt))}_addAriaAndCollapsedClass(xe,Ge){if(xe.length)for(const dt of xe)dt.classList.toggle(Wr,!Ge),dt.setAttribute("aria-expanded",Ge)}static jQueryInterface(xe){const Ge={};return typeof xe=="string"&&/show|hide/.test(xe)&&(Ge.toggle=!1),this.each(function(){const dt=Yr.getOrCreateInstance(this,Ge);if(typeof xe=="string"){if(typeof dt[xe]>"u")throw new TypeError(`No method named "${xe}"`);dt[xe]()}})}}O.on(document,gr,bn,function(De){(De.target.tagName==="A"||De.delegateTarget&&De.delegateTarget.tagName==="A")&&De.preventDefault();for(const xe of Z.getMultipleElementsFromSelector(this))Yr.getOrCreateInstance(xe,{toggle:!1}).toggle()}),y(Yr);var Hr="top",en="bottom",cn="right",hn="left",Pn="auto",kn=[Hr,en,cn,hn],sa="start",Xn="end",ea="clippingParents",Zn="viewport",Qn="popper",Mr="reference",on=kn.reduce(function(De,xe){return De.concat([xe+"-"+sa,xe+"-"+Xn])},[]),nn=[].concat(kn,[Pn]).reduce(function(De,xe){return De.concat([xe,xe+"-"+sa,xe+"-"+Xn])},[]),mn="beforeRead",Gn="read",Mn="afterRead",Ln="beforeMain",Hn="main",ra="afterMain",ba="beforeWrite",Za="write",Jt="afterWrite",Er=[mn,Gn,Mn,Ln,Hn,ra,ba,Za,Jt];function qr(De){return De?(De.nodeName||"").toLowerCase():null}function sn(De){if(De==null)return window;if(De.toString()!=="[object Window]"){var xe=De.ownerDocument;return xe&&xe.defaultView||window}return De}function fn(De){var xe=sn(De).Element;return De instanceof xe||De instanceof Element}function Cn(De){var xe=sn(De).HTMLElement;return De instanceof xe||De instanceof HTMLElement}function En(De){if(typeof ShadowRoot>"u")return!1;var xe=sn(De).ShadowRoot;return De instanceof xe||De instanceof ShadowRoot}function pn(De){var xe=De.state;Object.keys(xe.elements).forEach(function(Ge){var dt=xe.styles[Ge]||{},_t=xe.attributes[Ge]||{},Yt=xe.elements[Ge];!Cn(Yt)||!qr(Yt)||(Object.assign(Yt.style,dt),Object.keys(_t).forEach(function(qt){var yr=_t[qt];yr===!1?Yt.removeAttribute(qt):Yt.setAttribute(qt,yr===!0?"":yr)}))})}function zr(De){var xe=De.state,Ge={popper:{position:xe.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(xe.elements.popper.style,Ge.popper),xe.styles=Ge,xe.elements.arrow&&Object.assign(xe.elements.arrow.style,Ge.arrow),function(){Object.keys(xe.elements).forEach(function(dt){var _t=xe.elements[dt],Yt=xe.attributes[dt]||{},qt=Object.keys(xe.styles.hasOwnProperty(dt)?xe.styles[dt]:Ge[dt]),yr=qt.reduce(function(Ar,kr){return Ar[kr]="",Ar},{});!Cn(_t)||!qr(_t)||(Object.assign(_t.style,yr),Object.keys(Yt).forEach(function(Ar){_t.removeAttribute(Ar)}))})}}const _r={name:"applyStyles",enabled:!0,phase:"write",fn:pn,effect:zr,requires:["computeStyles"]};function Nr(De){return De.split("-")[0]}var vn=Math.max,Fn=Math.min,Kn=Math.round;function xn(){var De=navigator.userAgentData;return De!=null&&De.brands&&Array.isArray(De.brands)?De.brands.map(function(xe){return xe.brand+"/"+xe.version}).join(" "):navigator.userAgent}function Vn(){return!/^((?!chrome|android).)*safari/i.test(xn())}function aa(De,xe,Ge){xe===void 0&&(xe=!1),Ge===void 0&&(Ge=!1);var dt=De.getBoundingClientRect(),_t=1,Yt=1;xe&&Cn(De)&&(_t=De.offsetWidth>0&&Kn(dt.width)/De.offsetWidth||1,Yt=De.offsetHeight>0&&Kn(dt.height)/De.offsetHeight||1);var qt=fn(De)?sn(De):window,yr=qt.visualViewport,Ar=!Vn()&&Ge,kr=(dt.left+(Ar&&yr?yr.offsetLeft:0))/_t,Or=(dt.top+(Ar&&yr?yr.offsetTop:0))/Yt,$r=dt.width/_t,gn=dt.height/Yt;return{width:$r,height:gn,top:Or,right:kr+$r,bottom:Or+gn,left:kr,x:kr,y:Or}}function va(De){var xe=aa(De),Ge=De.offsetWidth,dt=De.offsetHeight;return Math.abs(xe.width-Ge)<=1&&(Ge=xe.width),Math.abs(xe.height-dt)<=1&&(dt=xe.height),{x:De.offsetLeft,y:De.offsetTop,width:Ge,height:dt}}function ha(De,xe){var Ge=xe.getRootNode&&xe.getRootNode();if(De.contains(xe))return!0;if(Ge&&En(Ge)){var dt=xe;do{if(dt&&De.isSameNode(dt))return!0;dt=dt.parentNode||dt.host}while(dt)}return!1}function la(De){return sn(De).getComputedStyle(De)}function ma(De){return["table","td","th"].indexOf(qr(De))>=0}function _i(De){return((fn(De)?De.ownerDocument:De.document)||window.document).documentElement}function Ji(De){return qr(De)==="html"?De:De.assignedSlot||De.parentNode||(En(De)?De.host:null)||_i(De)}function po(De){return!Cn(De)||la(De).position==="fixed"?null:De.offsetParent}function Ro(De){var xe=/firefox/i.test(xn()),Ge=/Trident/i.test(xn());if(Ge&&Cn(De)){var dt=la(De);if(dt.position==="fixed")return null}var _t=Ji(De);for(En(_t)&&(_t=_t.host);Cn(_t)&&["html","body"].indexOf(qr(_t))<0;){var Yt=la(_t);if(Yt.transform!=="none"||Yt.perspective!=="none"||Yt.contain==="paint"||["transform","perspective"].indexOf(Yt.willChange)!==-1||xe&&Yt.willChange==="filter"||xe&&Yt.filter&&Yt.filter!=="none")return _t;_t=_t.parentNode}return null}function Qi(De){for(var xe=sn(De),Ge=po(De);Ge&&ma(Ge)&&la(Ge).position==="static";)Ge=po(Ge);return Ge&&(qr(Ge)==="html"||qr(Ge)==="body"&&la(Ge).position==="static")?xe:Ge||Ro(De)||xe}function gu(De){return["top","bottom"].indexOf(De)>=0?"x":"y"}function qa(De,xe,Ge){return vn(De,Fn(xe,Ge))}function yu(De,xe,Ge){var dt=qa(De,xe,Ge);return dt>Ge?Ge:dt}function Ml(){return{top:0,right:0,bottom:0,left:0}}function qi(De){return Object.assign({},Ml(),De)}function bo(De,xe){return xe.reduce(function(Ge,dt){return Ge[dt]=De,Ge},{})}var lc=function(xe,Ge){return xe=typeof xe=="function"?xe(Object.assign({},Ge.rects,{placement:Ge.placement})):xe,qi(typeof xe!="number"?xe:bo(xe,kn))};function mu(De){var xe,Ge=De.state,dt=De.name,_t=De.options,Yt=Ge.elements.arrow,qt=Ge.modifiersData.popperOffsets,yr=Nr(Ge.placement),Ar=gu(yr),kr=[hn,cn].indexOf(yr)>=0,Or=kr?"height":"width";if(!(!Yt||!qt)){var $r=lc(_t.padding,Ge),gn=va(Yt),An=Ar==="y"?Hr:hn,Nn=Ar==="y"?en:cn,In=Ge.rects.reference[Or]+Ge.rects.reference[Ar]-qt[Ar]-Ge.rects.popper[Or],On=qt[Ar]-Ge.rects.reference[Ar],Yn=Qi(Yt),ta=Yn?Ar==="y"?Yn.clientHeight||0:Yn.clientWidth||0:0,qn=In/2-On/2,$n=$r[An],ia=ta-gn[Or]-$r[Nn],da=ta/2-gn[Or]/2+qn,La=qa($n,da,ia),ja=Ar;Ge.modifiersData[dt]=(xe={},xe[ja]=La,xe.centerOffset=La-da,xe)}}function ki(De){var xe=De.state,Ge=De.options,dt=Ge.element,_t=dt===void 0?"[data-popper-arrow]":dt;_t!=null&&(typeof _t=="string"&&(_t=xe.elements.popper.querySelector(_t),!_t)||ha(xe.elements.popper,_t)&&(xe.elements.arrow=_t))}const $l={name:"arrow",enabled:!0,phase:"main",fn:mu,effect:ki,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ro(De){return De.split("-")[1]}var eo={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ho(De,xe){var Ge=De.x,dt=De.y,_t=xe.devicePixelRatio||1;return{x:Kn(Ge*_t)/_t||0,y:Kn(dt*_t)/_t||0}}function so(De){var xe,Ge=De.popper,dt=De.popperRect,_t=De.placement,Yt=De.variation,qt=De.offsets,yr=De.position,Ar=De.gpuAcceleration,kr=De.adaptive,Or=De.roundOffsets,$r=De.isFixed,gn=qt.x,An=gn===void 0?0:gn,Nn=qt.y,In=Nn===void 0?0:Nn,On=typeof Or=="function"?Or({x:An,y:In}):{x:An,y:In};An=On.x,In=On.y;var Yn=qt.hasOwnProperty("x"),ta=qt.hasOwnProperty("y"),qn=hn,$n=Hr,ia=window;if(kr){var da=Qi(Ge),La="clientHeight",ja="clientWidth";if(da===sn(Ge)&&(da=_i(Ge),la(da).position!=="static"&&yr==="absolute"&&(La="scrollHeight",ja="scrollWidth")),da=da,_t===Hr||(_t===hn||_t===cn)&&Yt===Xn){$n=en;var Oa=$r&&da===ia&&ia.visualViewport?ia.visualViewport.height:da[La];In-=Oa-dt.height,In*=Ar?1:-1}if(_t===hn||(_t===Hr||_t===en)&&Yt===Xn){qn=cn;var Va=$r&&da===ia&&ia.visualViewport?ia.visualViewport.width:da[ja];An-=Va-dt.width,An*=Ar?1:-1}}var ga=Object.assign({position:yr},kr&&eo),Ja=Or===!0?Ho({x:An,y:In},sn(Ge)):{x:An,y:In};if(An=Ja.x,In=Ja.y,Ar){var Ka;return Object.assign({},ga,(Ka={},Ka[$n]=ta?"0":"",Ka[qn]=Yn?"0":"",Ka.transform=(ia.devicePixelRatio||1)<=1?"translate("+An+"px, "+In+"px)":"translate3d("+An+"px, "+In+"px, 0)",Ka))}return Object.assign({},ga,(xe={},xe[$n]=ta?In+"px":"",xe[qn]=Yn?An+"px":"",xe.transform="",xe))}function Jo(De){var xe=De.state,Ge=De.options,dt=Ge.gpuAcceleration,_t=dt===void 0?!0:dt,Yt=Ge.adaptive,qt=Yt===void 0?!0:Yt,yr=Ge.roundOffsets,Ar=yr===void 0?!0:yr,kr={placement:Nr(xe.placement),variation:ro(xe.placement),popper:xe.elements.popper,popperRect:xe.rects.popper,gpuAcceleration:_t,isFixed:xe.options.strategy==="fixed"};xe.modifiersData.popperOffsets!=null&&(xe.styles.popper=Object.assign({},xe.styles.popper,so(Object.assign({},kr,{offsets:xe.modifiersData.popperOffsets,position:xe.options.strategy,adaptive:qt,roundOffsets:Ar})))),xe.modifiersData.arrow!=null&&(xe.styles.arrow=Object.assign({},xe.styles.arrow,so(Object.assign({},kr,{offsets:xe.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Ar})))),xe.attributes.popper=Object.assign({},xe.attributes.popper,{"data-popper-placement":xe.placement})}const Qo={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Jo,data:{}};var qo={passive:!0};function lo(De){var xe=De.state,Ge=De.instance,dt=De.options,_t=dt.scroll,Yt=_t===void 0?!0:_t,qt=dt.resize,yr=qt===void 0?!0:qt,Ar=sn(xe.elements.popper),kr=[].concat(xe.scrollParents.reference,xe.scrollParents.popper);return Yt&&kr.forEach(function(Or){Or.addEventListener("scroll",Ge.update,qo)}),yr&&Ar.addEventListener("resize",Ge.update,qo),function(){Yt&&kr.forEach(function(Or){Or.removeEventListener("scroll",Ge.update,qo)}),yr&&Ar.removeEventListener("resize",Ge.update,qo)}}const Xu={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:lo,data:{}};var Es={left:"right",right:"left",bottom:"top",top:"bottom"};function Zi(De){return De.replace(/left|right|bottom|top/g,function(xe){return Es[xe]})}var mf={start:"end",end:"start"};function Ms(De){return De.replace(/start|end/g,function(xe){return mf[xe]})}function es(De){var xe=sn(De),Ge=xe.pageXOffset,dt=xe.pageYOffset;return{scrollLeft:Ge,scrollTop:dt}}function xu(De){return aa(_i(De)).left+es(De).scrollLeft}function xf(De,xe){var Ge=sn(De),dt=_i(De),_t=Ge.visualViewport,Yt=dt.clientWidth,qt=dt.clientHeight,yr=0,Ar=0;if(_t){Yt=_t.width,qt=_t.height;var kr=Vn();(kr||!kr&&xe==="fixed")&&(yr=_t.offsetLeft,Ar=_t.offsetTop)}return{width:Yt,height:qt,x:yr+xu(De),y:Ar}}function Uc(De){var xe,Ge=_i(De),dt=es(De),_t=(xe=De.ownerDocument)==null?void 0:xe.body,Yt=vn(Ge.scrollWidth,Ge.clientWidth,_t?_t.scrollWidth:0,_t?_t.clientWidth:0),qt=vn(Ge.scrollHeight,Ge.clientHeight,_t?_t.scrollHeight:0,_t?_t.clientHeight:0),yr=-dt.scrollLeft+xu(De),Ar=-dt.scrollTop;return la(_t||Ge).direction==="rtl"&&(yr+=vn(Ge.clientWidth,_t?_t.clientWidth:0)-Yt),{width:Yt,height:qt,x:yr,y:Ar}}function Cl(De){var xe=la(De),Ge=xe.overflow,dt=xe.overflowX,_t=xe.overflowY;return/auto|scroll|overlay|hidden/.test(Ge+_t+dt)}function uc(De){return["html","body","#document"].indexOf(qr(De))>=0?De.ownerDocument.body:Cn(De)&&Cl(De)?De:uc(Ji(De))}function bu(De,xe){var Ge;xe===void 0&&(xe=[]);var dt=uc(De),_t=dt===((Ge=De.ownerDocument)==null?void 0:Ge.body),Yt=sn(dt),qt=_t?[Yt].concat(Yt.visualViewport||[],Cl(dt)?dt:[]):dt,yr=xe.concat(qt);return _t?yr:yr.concat(bu(Ji(qt)))}function bf(De){return Object.assign({},De,{left:De.x,top:De.y,right:De.x+De.width,bottom:De.y+De.height})}function wf(De,xe){var Ge=aa(De,!1,xe==="fixed");return Ge.top=Ge.top+De.clientTop,Ge.left=Ge.left+De.clientLeft,Ge.bottom=Ge.top+De.clientHeight,Ge.right=Ge.left+De.clientWidth,Ge.width=De.clientWidth,Ge.height=De.clientHeight,Ge.x=Ge.left,Ge.y=Ge.top,Ge}function fc(De,xe,Ge){return xe===Zn?bf(xf(De,Ge)):fn(xe)?wf(xe,Ge):bf(Uc(_i(De)))}function Hc(De){var xe=bu(Ji(De)),Ge=["absolute","fixed"].indexOf(la(De).position)>=0,dt=Ge&&Cn(De)?Qi(De):De;return fn(dt)?xe.filter(function(_t){return fn(_t)&&ha(_t,dt)&&qr(_t)!=="body"}):[]}function cc(De,xe,Ge,dt){var _t=xe==="clippingParents"?Hc(De):[].concat(xe),Yt=[].concat(_t,[Ge]),qt=Yt[0],yr=Yt.reduce(function(Ar,kr){var Or=fc(De,kr,dt);return Ar.top=vn(Or.top,Ar.top),Ar.right=Fn(Or.right,Ar.right),Ar.bottom=Fn(Or.bottom,Ar.bottom),Ar.left=vn(Or.left,Ar.left),Ar},fc(De,qt,dt));return yr.width=yr.right-yr.left,yr.height=yr.bottom-yr.top,yr.x=yr.left,yr.y=yr.top,yr}function hc(De){var xe=De.reference,Ge=De.element,dt=De.placement,_t=dt?Nr(dt):null,Yt=dt?ro(dt):null,qt=xe.x+xe.width/2-Ge.width/2,yr=xe.y+xe.height/2-Ge.height/2,Ar;switch(_t){case Hr:Ar={x:qt,y:xe.y-Ge.height};break;case en:Ar={x:qt,y:xe.y+xe.height};break;case cn:Ar={x:xe.x+xe.width,y:yr};break;case hn:Ar={x:xe.x-Ge.width,y:yr};break;default:Ar={x:xe.x,y:xe.y}}var kr=_t?gu(_t):null;if(kr!=null){var Or=kr==="y"?"height":"width";switch(Yt){case sa:Ar[kr]=Ar[kr]-(xe[Or]/2-Ge[Or]/2);break;case Xn:Ar[kr]=Ar[kr]+(xe[Or]/2-Ge[Or]/2);break}}return Ar}function Jl(De,xe){xe===void 0&&(xe={});var Ge=xe,dt=Ge.placement,_t=dt===void 0?De.placement:dt,Yt=Ge.strategy,qt=Yt===void 0?De.strategy:Yt,yr=Ge.boundary,Ar=yr===void 0?ea:yr,kr=Ge.rootBoundary,Or=kr===void 0?Zn:kr,$r=Ge.elementContext,gn=$r===void 0?Qn:$r,An=Ge.altBoundary,Nn=An===void 0?!1:An,In=Ge.padding,On=In===void 0?0:In,Yn=qi(typeof On!="number"?On:bo(On,kn)),ta=gn===Qn?Mr:Qn,qn=De.rects.popper,$n=De.elements[Nn?ta:gn],ia=cc(fn($n)?$n:$n.contextElement||_i(De.elements.popper),Ar,Or,qt),da=aa(De.elements.reference),La=hc({reference:da,element:qn,strategy:"absolute",placement:_t}),ja=bf(Object.assign({},qn,La)),Oa=gn===Qn?ja:da,Va={top:ia.top-Oa.top+Yn.top,bottom:Oa.bottom-ia.bottom+Yn.bottom,left:ia.left-Oa.left+Yn.left,right:Oa.right-ia.right+Yn.right},ga=De.modifiersData.offset;if(gn===Qn&&ga){var Ja=ga[_t];Object.keys(Va).forEach(function(Ka){var ai=[cn,en].indexOf(Ka)>=0?1:-1,Qa=[Hr,en].indexOf(Ka)>=0?"y":"x";Va[Ka]+=Ja[Qa]*ai})}return Va}function Tf(De,xe){xe===void 0&&(xe={});var Ge=xe,dt=Ge.placement,_t=Ge.boundary,Yt=Ge.rootBoundary,qt=Ge.padding,yr=Ge.flipVariations,Ar=Ge.allowedAutoPlacements,kr=Ar===void 0?nn:Ar,Or=ro(dt),$r=Or?yr?on:on.filter(function(Nn){return ro(Nn)===Or}):kn,gn=$r.filter(function(Nn){return kr.indexOf(Nn)>=0});gn.length===0&&(gn=$r);var An=gn.reduce(function(Nn,In){return Nn[In]=Jl(De,{placement:In,boundary:_t,rootBoundary:Yt,padding:qt})[Nr(In)],Nn},{});return Object.keys(An).sort(function(Nn,In){return An[Nn]-An[In]})}function Ll(De){if(Nr(De)===Pn)return[];var xe=Zi(De);return[Ms(De),xe,Ms(xe)]}function Pl(De){var xe=De.state,Ge=De.options,dt=De.name;if(!xe.modifiersData[dt]._skip){for(var _t=Ge.mainAxis,Yt=_t===void 0?!0:_t,qt=Ge.altAxis,yr=qt===void 0?!0:qt,Ar=Ge.fallbackPlacements,kr=Ge.padding,Or=Ge.boundary,$r=Ge.rootBoundary,gn=Ge.altBoundary,An=Ge.flipVariations,Nn=An===void 0?!0:An,In=Ge.allowedAutoPlacements,On=xe.options.placement,Yn=Nr(On),ta=Yn===On,qn=Ar||(ta||!Nn?[Zi(On)]:Ll(On)),$n=[On].concat(qn).reduce(function(ms,is){return ms.concat(Nr(is)===Pn?Tf(xe,{placement:is,boundary:Or,rootBoundary:$r,padding:kr,flipVariations:Nn,allowedAutoPlacements:In}):is)},[]),ia=xe.rects.reference,da=xe.rects.popper,La=new Map,ja=!0,Oa=$n[0],Va=0;Va<$n.length;Va++){var ga=$n[Va],Ja=Nr(ga),Ka=ro(ga)===sa,ai=[Hr,en].indexOf(Ja)>=0,Qa=ai?"width":"height",ti=Jl(xe,{placement:ga,boundary:Or,rootBoundary:$r,altBoundary:gn,padding:kr}),za=ai?Ka?cn:hn:Ka?en:Hr;ia[Qa]>da[Qa]&&(za=Zi(za));var ri=Zi(za),Ci=[];if(Yt&&Ci.push(ti[Ja]<=0),yr&&Ci.push(ti[za]<=0,ti[ri]<=0),Ci.every(function(ms){return ms})){Oa=ga,ja=!1;break}La.set(ga,Ci)}if(ja)for(var Ki=Nn?3:1,ks=function(is){var Os=$n.find(function(Fo){var zs=La.get(Fo);if(zs)return zs.slice(0,is).every(function(To){return To})});if(Os)return Oa=Os,"break"},as=Ki;as>0;as--){var qs=ks(as);if(qs==="break")break}xe.placement!==Oa&&(xe.modifiersData[dt]._skip=!0,xe.placement=Oa,xe.reset=!0)}}const _l={name:"flip",enabled:!0,phase:"main",fn:Pl,requiresIfExists:["offset"],data:{_skip:!1}};function wu(De,xe,Ge){return Ge===void 0&&(Ge={x:0,y:0}),{top:De.top-xe.height-Ge.y,right:De.right-xe.width+Ge.x,bottom:De.bottom-xe.height+Ge.y,left:De.left-xe.width-Ge.x}}function vc(De){return[Hr,cn,en,hn].some(function(xe){return De[xe]>=0})}function Ws(De){var xe=De.state,Ge=De.name,dt=xe.rects.reference,_t=xe.rects.popper,Yt=xe.modifiersData.preventOverflow,qt=Jl(xe,{elementContext:"reference"}),yr=Jl(xe,{altBoundary:!0}),Ar=wu(qt,dt),kr=wu(yr,_t,Yt),Or=vc(Ar),$r=vc(kr);xe.modifiersData[Ge]={referenceClippingOffsets:Ar,popperEscapeOffsets:kr,isReferenceHidden:Or,hasPopperEscaped:$r},xe.attributes.popper=Object.assign({},xe.attributes.popper,{"data-popper-reference-hidden":Or,"data-popper-escaped":$r})}const Af={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ws};function Sf(De,xe,Ge){var dt=Nr(De),_t=[hn,Hr].indexOf(dt)>=0?-1:1,Yt=typeof Ge=="function"?Ge(Object.assign({},xe,{placement:De})):Ge,qt=Yt[0],yr=Yt[1];return qt=qt||0,yr=(yr||0)*_t,[hn,cn].indexOf(dt)>=0?{x:yr,y:qt}:{x:qt,y:yr}}function Vc(De){var xe=De.state,Ge=De.options,dt=De.name,_t=Ge.offset,Yt=_t===void 0?[0,0]:_t,qt=nn.reduce(function(Or,$r){return Or[$r]=Sf($r,xe.rects,Yt),Or},{}),yr=qt[xe.placement],Ar=yr.x,kr=yr.y;xe.modifiersData.popperOffsets!=null&&(xe.modifiersData.popperOffsets.x+=Ar,xe.modifiersData.popperOffsets.y+=kr),xe.modifiersData[dt]=qt}const Vo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Vc};function Rl(De){var xe=De.state,Ge=De.name;xe.modifiersData[Ge]=hc({reference:xe.rects.reference,element:xe.rects.popper,strategy:"absolute",placement:xe.placement})}const Dl={name:"popperOffsets",enabled:!0,phase:"read",fn:Rl,data:{}};function Ql(De){return De==="x"?"y":"x"}function Cs(De){var xe=De.state,Ge=De.options,dt=De.name,_t=Ge.mainAxis,Yt=_t===void 0?!0:_t,qt=Ge.altAxis,yr=qt===void 0?!1:qt,Ar=Ge.boundary,kr=Ge.rootBoundary,Or=Ge.altBoundary,$r=Ge.padding,gn=Ge.tether,An=gn===void 0?!0:gn,Nn=Ge.tetherOffset,In=Nn===void 0?0:Nn,On=Jl(xe,{boundary:Ar,rootBoundary:kr,padding:$r,altBoundary:Or}),Yn=Nr(xe.placement),ta=ro(xe.placement),qn=!ta,$n=gu(Yn),ia=Ql($n),da=xe.modifiersData.popperOffsets,La=xe.rects.reference,ja=xe.rects.popper,Oa=typeof In=="function"?In(Object.assign({},xe.rects,{placement:xe.placement})):In,Va=typeof Oa=="number"?{mainAxis:Oa,altAxis:Oa}:Object.assign({mainAxis:0,altAxis:0},Oa),ga=xe.modifiersData.offset?xe.modifiersData.offset[xe.placement]:null,Ja={x:0,y:0};if(da){if(Yt){var Ka,ai=$n==="y"?Hr:hn,Qa=$n==="y"?en:cn,ti=$n==="y"?"height":"width",za=da[$n],ri=za+On[ai],Ci=za-On[Qa],Ki=An?-ja[ti]/2:0,ks=ta===sa?La[ti]:ja[ti],as=ta===sa?-ja[ti]:-La[ti],qs=xe.elements.arrow,ms=An&&qs?va(qs):{width:0,height:0},is=xe.modifiersData["arrow#persistent"]?xe.modifiersData["arrow#persistent"].padding:Ml(),Os=is[ai],Fo=is[Qa],zs=qa(0,La[ti],ms[ti]),To=qn?La[ti]/2-Ki-zs-Os-Va.mainAxis:ks-zs-Os-Va.mainAxis,el=qn?-La[ti]/2+Ki+zs+Fo+Va.mainAxis:as+zs+Fo+Va.mainAxis,ml=xe.elements.arrow&&Qi(xe.elements.arrow),Vl=ml?$n==="y"?ml.clientTop||0:ml.clientLeft||0:0,Gl=(Ka=ga==null?void 0:ga[$n])!=null?Ka:0,wh=za+To-Gl-Vl,jf=za+el-Gl,Ao=qa(An?Fn(ri,wh):ri,za,An?vn(Ci,jf):Ci);da[$n]=Ao,Ja[$n]=Ao-za}if(yr){var Dc,os=$n==="x"?Hr:hn,Jc=$n==="x"?en:cn,lu=da[ia],Zf=ia==="y"?"height":"width",nv=lu+On[os],Qc=lu-On[Jc],lf=[Hr,hn].indexOf(Yn)!==-1,Xf=(Dc=ga==null?void 0:ga[ia])!=null?Dc:0,$i=lf?nv:lu-La[Zf]-ja[Zf]-Xf+Va.altAxis,xs=lf?lu+La[Zf]+ja[Zf]-Xf-Va.altAxis:Qc,bs=An&&lf?yu($i,lu,xs):qa(An?$i:nv,lu,An?xs:Qc);da[ia]=bs,Ja[ia]=bs-lu}xe.modifiersData[dt]=Ja}}const Ls={name:"preventOverflow",enabled:!0,phase:"main",fn:Cs,requiresIfExists:["offset"]};function Ef(De){return{scrollLeft:De.scrollLeft,scrollTop:De.scrollTop}}function ql(De){return De===sn(De)||!Cn(De)?es(De):Ef(De)}function sl(De){var xe=De.getBoundingClientRect(),Ge=Kn(xe.width)/De.offsetWidth||1,dt=Kn(xe.height)/De.offsetHeight||1;return Ge!==1||dt!==1}function Bi(De,xe,Ge){Ge===void 0&&(Ge=!1);var dt=Cn(xe),_t=Cn(xe)&&sl(xe),Yt=_i(xe),qt=aa(De,_t,Ge),yr={scrollLeft:0,scrollTop:0},Ar={x:0,y:0};return(dt||!dt&&!Ge)&&((qr(xe)!=="body"||Cl(Yt))&&(yr=ql(xe)),Cn(xe)?(Ar=aa(xe,!0),Ar.x+=xe.clientLeft,Ar.y+=xe.clientTop):Yt&&(Ar.x=xu(Yt))),{x:qt.left+yr.scrollLeft-Ar.x,y:qt.top+yr.scrollTop-Ar.y,width:qt.width,height:qt.height}}function Mf(De){var xe=new Map,Ge=new Set,dt=[];De.forEach(function(Yt){xe.set(Yt.name,Yt)});function _t(Yt){Ge.add(Yt.name);var qt=[].concat(Yt.requires||[],Yt.requiresIfExists||[]);qt.forEach(function(yr){if(!Ge.has(yr)){var Ar=xe.get(yr);Ar&&_t(Ar)}}),dt.push(Yt)}return De.forEach(function(Yt){Ge.has(Yt.name)||_t(Yt)}),dt}function Ku(De){var xe=Mf(De);return Er.reduce(function(Ge,dt){return Ge.concat(xe.filter(function(_t){return _t.phase===dt}))},[])}function eu(De){var xe;return function(){return xe||(xe=new Promise(function(Ge){Promise.resolve().then(function(){xe=void 0,Ge(De())})})),xe}}function dc(De){var xe=De.reduce(function(Ge,dt){var _t=Ge[dt.name];return Ge[dt.name]=_t?Object.assign({},_t,dt,{options:Object.assign({},_t.options,dt.options),data:Object.assign({},_t.data,dt.data)}):dt,Ge},{});return Object.keys(xe).map(function(Ge){return xe[Ge]})}var Cf={placement:"bottom",modifiers:[],strategy:"absolute"};function Il(){for(var De=arguments.length,xe=new Array(De),Ge=0;Ge<De;Ge++)xe[Ge]=arguments[Ge];return!xe.some(function(dt){return!(dt&&typeof dt.getBoundingClientRect=="function")})}function Ys(De){De===void 0&&(De={});var xe=De,Ge=xe.defaultModifiers,dt=Ge===void 0?[]:Ge,_t=xe.defaultOptions,Yt=_t===void 0?Cf:_t;return function(yr,Ar,kr){kr===void 0&&(kr=Yt);var Or={placement:"bottom",orderedModifiers:[],options:Object.assign({},Cf,Yt),modifiersData:{},elements:{reference:yr,popper:Ar},attributes:{},styles:{}},$r=[],gn=!1,An={state:Or,setOptions:function(Yn){var ta=typeof Yn=="function"?Yn(Or.options):Yn;In(),Or.options=Object.assign({},Yt,Or.options,ta),Or.scrollParents={reference:fn(yr)?bu(yr):yr.contextElement?bu(yr.contextElement):[],popper:bu(Ar)};var qn=Ku(dc([].concat(dt,Or.options.modifiers)));return Or.orderedModifiers=qn.filter(function($n){return $n.enabled}),Nn(),An.update()},forceUpdate:function(){if(!gn){var Yn=Or.elements,ta=Yn.reference,qn=Yn.popper;if(Il(ta,qn)){Or.rects={reference:Bi(ta,Qi(qn),Or.options.strategy==="fixed"),popper:va(qn)},Or.reset=!1,Or.placement=Or.options.placement,Or.orderedModifiers.forEach(function(Va){return Or.modifiersData[Va.name]=Object.assign({},Va.data)});for(var $n=0;$n<Or.orderedModifiers.length;$n++){if(Or.reset===!0){Or.reset=!1,$n=-1;continue}var ia=Or.orderedModifiers[$n],da=ia.fn,La=ia.options,ja=La===void 0?{}:La,Oa=ia.name;typeof da=="function"&&(Or=da({state:Or,options:ja,name:Oa,instance:An})||Or)}}}},update:eu(function(){return new Promise(function(On){An.forceUpdate(),On(Or)})}),destroy:function(){In(),gn=!0}};if(!Il(yr,Ar))return An;An.setOptions(kr).then(function(On){!gn&&kr.onFirstUpdate&&kr.onFirstUpdate(On)});function Nn(){Or.orderedModifiers.forEach(function(On){var Yn=On.name,ta=On.options,qn=ta===void 0?{}:ta,$n=On.effect;if(typeof $n=="function"){var ia=$n({state:Or,name:Yn,instance:An,options:qn}),da=function(){};$r.push(ia||da)}})}function In(){$r.forEach(function(On){return On()}),$r=[]}return An}}var no=Ys(),$u=[Xu,Dl,Qo,_r],Gc=Ys({defaultModifiers:$u}),Lf=[Xu,Dl,Qo,_r,Vo,_l,Ls,$l,Af],Pf=Ys({defaultModifiers:Lf});const Tu=Object.freeze(Object.defineProperty({__proto__:null,afterMain:ra,afterRead:Mn,afterWrite:Jt,applyStyles:_r,arrow:$l,auto:Pn,basePlacements:kn,beforeMain:Ln,beforeRead:mn,beforeWrite:ba,bottom:en,clippingParents:ea,computeStyles:Qo,createPopper:Pf,createPopperBase:no,createPopperLite:Gc,detectOverflow:Jl,end:Xn,eventListeners:Xu,flip:_l,hide:Af,left:hn,main:Hn,modifierPhases:Er,offset:Vo,placements:nn,popper:Qn,popperGenerator:Ys,popperOffsets:Dl,preventOverflow:Ls,read:Gn,reference:Mr,right:cn,start:sa,top:Hr,variationPlacements:on,viewport:Zn,write:Za},Symbol.toStringTag,{value:"Module"})),tu="dropdown",js=".bs.dropdown",kl=".data-api",_f="Escape",Au="Tab",Rf="ArrowUp",yi="ArrowDown",gc=2,fs=`hide${js}`,ru=`hidden${js}`,Ol=`show${js}`,Df=`shown${js}`,Ui=`click${js}${kl}`,nu=`keydown${js}${kl}`,Do=`keyup${js}${kl}`,Io="show",Zs="dropup",ll="dropend",ul="dropstart",fl="dropup-center",cs="dropdown-center",go='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Su=`${go}.${Io}`,cl=".dropdown-menu",Ju=".navbar",Wc=".navbar-nav",Yc=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",jc=u()?"top-end":"top-start",Zc=u()?"top-start":"top-end",Qu=u()?"bottom-end":"bottom-start",yc=u()?"bottom-start":"bottom-end",au=u()?"left-start":"right-start",uo=u()?"right-start":"left-start",ko="top",Eu="bottom",zl={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Mu={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Oo extends Q{constructor(xe,Ge){super(xe,Ge),this._popper=null,this._parent=this._element.parentNode,this._menu=Z.next(this._element,cl)[0]||Z.prev(this._element,cl)[0]||Z.findOne(cl,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return zl}static get DefaultType(){return Mu}static get NAME(){return tu}toggle(){return this._isShown()?this.hide():this.show()}show(){if(p(this._element)||this._isShown())return;const xe={relatedTarget:this._element};if(!O.trigger(this._element,Ol,xe).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Wc))for(const dt of[].concat(...document.body.children))O.on(dt,"mouseover",r);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Io),this._element.classList.add(Io),O.trigger(this._element,Df,xe)}}hide(){if(p(this._element)||!this._isShown())return;const xe={relatedTarget:this._element};this._completeHide(xe)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(xe){if(!O.trigger(this._element,fs,xe).defaultPrevented){if("ontouchstart"in document.documentElement)for(const dt of[].concat(...document.body.children))O.off(dt,"mouseover",r);this._popper&&this._popper.destroy(),this._menu.classList.remove(Io),this._element.classList.remove(Io),this._element.setAttribute("aria-expanded","false"),re.removeDataAttribute(this._menu,"popper"),O.trigger(this._element,ru,xe)}}_getConfig(xe){if(xe=super._getConfig(xe),typeof xe.reference=="object"&&!C(xe.reference)&&typeof xe.reference.getBoundingClientRect!="function")throw new TypeError(`${tu.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return xe}_createPopper(){if(typeof Tu>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let xe=this._element;this._config.reference==="parent"?xe=this._parent:C(this._config.reference)?xe=A(this._config.reference):typeof this._config.reference=="object"&&(xe=this._config.reference);const Ge=this._getPopperConfig();this._popper=Pf(xe,this._menu,Ge)}_isShown(){return this._menu.classList.contains(Io)}_getPlacement(){const xe=this._parent;if(xe.classList.contains(ll))return au;if(xe.classList.contains(ul))return uo;if(xe.classList.contains(fl))return ko;if(xe.classList.contains(cs))return Eu;const Ge=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return xe.classList.contains(Zs)?Ge?Zc:jc:Ge?yc:Qu}_detectNavbar(){return this._element.closest(Ju)!==null}_getOffset(){const{offset:xe}=this._config;return typeof xe=="string"?xe.split(",").map(Ge=>Number.parseInt(Ge,10)):typeof xe=="function"?Ge=>xe(Ge,this._element):xe}_getPopperConfig(){const xe={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(re.setDataAttribute(this._menu,"popper","static"),xe.modifiers=[{name:"applyStyles",enabled:!1}]),{...xe,...c(this._config.popperConfig,[xe])}}_selectMenuItem({key:xe,target:Ge}){const dt=Z.find(Yc,this._menu).filter(_t=>v(_t));dt.length&&h(dt,Ge,xe===yi,!dt.includes(Ge)).focus()}static jQueryInterface(xe){return this.each(function(){const Ge=Oo.getOrCreateInstance(this,xe);if(typeof xe=="string"){if(typeof Ge[xe]>"u")throw new TypeError(`No method named "${xe}"`);Ge[xe]()}})}static clearMenus(xe){if(xe.button===gc||xe.type==="keyup"&&xe.key!==Au)return;const Ge=Z.find(Su);for(const dt of Ge){const _t=Oo.getInstance(dt);if(!_t||_t._config.autoClose===!1)continue;const Yt=xe.composedPath(),qt=Yt.includes(_t._menu);if(Yt.includes(_t._element)||_t._config.autoClose==="inside"&&!qt||_t._config.autoClose==="outside"&&qt||_t._menu.contains(xe.target)&&(xe.type==="keyup"&&xe.key===Au||/input|select|option|textarea|form/i.test(xe.target.tagName)))continue;const yr={relatedTarget:_t._element};xe.type==="click"&&(yr.clickEvent=xe),_t._completeHide(yr)}}static dataApiKeydownHandler(xe){const Ge=/input|textarea/i.test(xe.target.tagName),dt=xe.key===_f,_t=[Rf,yi].includes(xe.key);if(!_t&&!dt||Ge&&!dt)return;xe.preventDefault();const Yt=this.matches(go)?this:Z.prev(this,go)[0]||Z.next(this,go)[0]||Z.findOne(go,xe.delegateTarget.parentNode),qt=Oo.getOrCreateInstance(Yt);if(_t){xe.stopPropagation(),qt.show(),qt._selectMenuItem(xe);return}qt._isShown()&&(xe.stopPropagation(),qt.hide(),Yt.focus())}}O.on(document,nu,go,Oo.dataApiKeydownHandler),O.on(document,nu,cl,Oo.dataApiKeydownHandler),O.on(document,Ui,Oo.clearMenus),O.on(document,Do,Oo.clearMenus),O.on(document,Ui,go,function(De){De.preventDefault(),Oo.getOrCreateInstance(this).toggle()}),y(Oo);const mc="backdrop",xc="fade",If="show",qu=`mousedown.bs.${mc}`,hl={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Vi={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class hs extends ie{constructor(xe){super(),this._config=this._getConfig(xe),this._isAppended=!1,this._element=null}static get Default(){return hl}static get DefaultType(){return Vi}static get NAME(){return mc}show(xe){if(!this._config.isVisible){c(xe);return}this._append();const Ge=this._getElement();this._config.isAnimated&&s(Ge),Ge.classList.add(If),this._emulateAnimation(()=>{c(xe)})}hide(xe){if(!this._config.isVisible){c(xe);return}this._getElement().classList.remove(If),this._emulateAnimation(()=>{this.dispose(),c(xe)})}dispose(){this._isAppended&&(O.off(this._element,qu),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const xe=document.createElement("div");xe.className=this._config.className,this._config.isAnimated&&xe.classList.add(xc),this._element=xe}return this._element}_configAfterMerge(xe){return xe.rootElement=A(xe.rootElement),xe}_append(){if(this._isAppended)return;const xe=this._getElement();this._config.rootElement.append(xe),O.on(xe,qu,()=>{c(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(xe){T(xe,this._getElement(),this._config.isAnimated)}}const kf="focustrap",Ps=".bs.focustrap",ef=`focusin${Ps}`,vs=`keydown.tab${Ps}`,tf="Tab",Xs="forward",_s="backward",Of={autofocus:!0,trapElement:null},iu={autofocus:"boolean",trapElement:"element"};class fi extends ie{constructor(xe){super(),this._config=this._getConfig(xe),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Of}static get DefaultType(){return iu}static get NAME(){return kf}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),O.off(document,Ps),O.on(document,ef,xe=>this._handleFocusin(xe)),O.on(document,vs,xe=>this._handleKeydown(xe)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,O.off(document,Ps))}_handleFocusin(xe){const{trapElement:Ge}=this._config;if(xe.target===document||xe.target===Ge||Ge.contains(xe.target))return;const dt=Z.focusableChildren(Ge);dt.length===0?Ge.focus():this._lastTabNavDirection===_s?dt[dt.length-1].focus():dt[0].focus()}_handleKeydown(xe){xe.key===tf&&(this._lastTabNavDirection=xe.shiftKey?_s:Xs)}}const vl=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Cu=".sticky-top",Fl="padding-right",Ks="margin-right";class zf{constructor(){this._element=document.body}getWidth(){const xe=document.documentElement.clientWidth;return Math.abs(window.innerWidth-xe)}hide(){const xe=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Fl,Ge=>Ge+xe),this._setElementAttributes(vl,Fl,Ge=>Ge+xe),this._setElementAttributes(Cu,Ks,Ge=>Ge-xe)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Fl),this._resetElementAttributes(vl,Fl),this._resetElementAttributes(Cu,Ks)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(xe,Ge,dt){const _t=this.getWidth(),Yt=qt=>{if(qt!==this._element&&window.innerWidth>qt.clientWidth+_t)return;this._saveInitialAttribute(qt,Ge);const yr=window.getComputedStyle(qt).getPropertyValue(Ge);qt.style.setProperty(Ge,`${dt(Number.parseFloat(yr))}px`)};this._applyManipulationCallback(xe,Yt)}_saveInitialAttribute(xe,Ge){const dt=xe.style.getPropertyValue(Ge);dt&&re.setDataAttribute(xe,Ge,dt)}_resetElementAttributes(xe,Ge){const dt=_t=>{const Yt=re.getDataAttribute(_t,Ge);if(Yt===null){_t.style.removeProperty(Ge);return}re.removeDataAttribute(_t,Ge),_t.style.setProperty(Ge,Yt)};this._applyManipulationCallback(xe,dt)}_applyManipulationCallback(xe,Ge){if(C(xe)){Ge(xe);return}for(const dt of Z.find(xe,this._element))Ge(dt)}}const Ff="modal",zo=".bs.modal",bc=".data-api",$s="Escape",dl=`hide${zo}`,Nl=`hidePrevented${zo}`,pl=`hidden${zo}`,wo=`show${zo}`,Go=`shown${zo}`,Bl=`resize${zo}`,wc=`click.dismiss${zo}`,ou=`mousedown.dismiss${zo}`,rf=`keydown.dismiss${zo}`,Tc=`click${zo}${bc}`,ts="modal-open",Nf="fade",Js="show",Ul="modal-static",Qs=".modal.show",Kc=".modal-dialog",Bf=".modal-body",nf='[data-bs-toggle="modal"]',yo={backdrop:!0,focus:!0,keyboard:!0},Ac={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ds extends Q{constructor(xe,Ge){super(xe,Ge),this._dialog=Z.findOne(Kc,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new zf,this._addEventListeners()}static get Default(){return yo}static get DefaultType(){return Ac}static get NAME(){return Ff}toggle(xe){return this._isShown?this.hide():this.show(xe)}show(xe){this._isShown||this._isTransitioning||O.trigger(this._element,wo,{relatedTarget:xe}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ts),this._adjustDialog(),this._backdrop.show(()=>this._showElement(xe)))}hide(){!this._isShown||this._isTransitioning||O.trigger(this._element,dl).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Js),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){O.off(window,zo),O.off(this._dialog,zo),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new hs({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new fi({trapElement:this._element})}_showElement(xe){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const Ge=Z.findOne(Bf,this._dialog);Ge&&(Ge.scrollTop=0),s(this._element),this._element.classList.add(Js);const dt=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,O.trigger(this._element,Go,{relatedTarget:xe})};this._queueCallback(dt,this._dialog,this._isAnimated())}_addEventListeners(){O.on(this._element,rf,xe=>{if(xe.key===$s){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),O.on(window,Bl,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),O.on(this._element,ou,xe=>{O.one(this._element,wc,Ge=>{if(!(this._element!==xe.target||this._element!==Ge.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(ts),this._resetAdjustments(),this._scrollBar.reset(),O.trigger(this._element,pl)})}_isAnimated(){return this._element.classList.contains(Nf)}_triggerBackdropTransition(){if(O.trigger(this._element,Nl).defaultPrevented)return;const Ge=this._element.scrollHeight>document.documentElement.clientHeight,dt=this._element.style.overflowY;dt==="hidden"||this._element.classList.contains(Ul)||(Ge||(this._element.style.overflowY="hidden"),this._element.classList.add(Ul),this._queueCallback(()=>{this._element.classList.remove(Ul),this._queueCallback(()=>{this._element.style.overflowY=dt},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const xe=this._element.scrollHeight>document.documentElement.clientHeight,Ge=this._scrollBar.getWidth(),dt=Ge>0;if(dt&&!xe){const _t=u()?"paddingLeft":"paddingRight";this._element.style[_t]=`${Ge}px`}if(!dt&&xe){const _t=u()?"paddingRight":"paddingLeft";this._element.style[_t]=`${Ge}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(xe,Ge){return this.each(function(){const dt=ds.getOrCreateInstance(this,xe);if(typeof xe=="string"){if(typeof dt[xe]>"u")throw new TypeError(`No method named "${xe}"`);dt[xe](Ge)}})}}O.on(document,Tc,nf,function(De){const xe=Z.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&De.preventDefault(),O.one(xe,wo,_t=>{_t.defaultPrevented||O.one(xe,pl,()=>{v(this)&&this.focus()})});const Ge=Z.findOne(Qs);Ge&&ds.getInstance(Ge).hide(),ds.getOrCreateInstance(xe).toggle(this)}),$(ds),y(ds);const Rs="offcanvas",mo=".bs.offcanvas",Pu=".data-api",Sc=`load${mo}${Pu}`,Uf="Escape",of="show",yl="showing",_u="hiding",Ru="offcanvas-backdrop",Hf=".offcanvas.show",Du=`show${mo}`,Ec=`shown${mo}`,et=`hide${mo}`,lt=`hidePrevented${mo}`,xt=`hidden${mo}`,wt=`resize${mo}`,Ft=`click${mo}${Pu}`,It=`keydown.dismiss${mo}`,Gt='[data-bs-toggle="offcanvas"]',pr={backdrop:!0,keyboard:!0,scroll:!1},Tr={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ir extends Q{constructor(xe,Ge){super(xe,Ge),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return pr}static get DefaultType(){return Tr}static get NAME(){return Rs}toggle(xe){return this._isShown?this.hide():this.show(xe)}show(xe){if(this._isShown||O.trigger(this._element,Du,{relatedTarget:xe}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new zf().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(yl);const dt=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(of),this._element.classList.remove(yl),O.trigger(this._element,Ec,{relatedTarget:xe})};this._queueCallback(dt,this._element,!0)}hide(){if(!this._isShown||O.trigger(this._element,et).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(_u),this._backdrop.hide();const Ge=()=>{this._element.classList.remove(of,_u),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new zf().reset(),O.trigger(this._element,xt)};this._queueCallback(Ge,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const xe=()=>{if(this._config.backdrop==="static"){O.trigger(this._element,lt);return}this.hide()},Ge=!!this._config.backdrop;return new hs({className:Ru,isVisible:Ge,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:Ge?xe:null})}_initializeFocusTrap(){return new fi({trapElement:this._element})}_addEventListeners(){O.on(this._element,It,xe=>{if(xe.key===Uf){if(this._config.keyboard){this.hide();return}O.trigger(this._element,lt)}})}static jQueryInterface(xe){return this.each(function(){const Ge=ir.getOrCreateInstance(this,xe);if(typeof xe=="string"){if(Ge[xe]===void 0||xe.startsWith("_")||xe==="constructor")throw new TypeError(`No method named "${xe}"`);Ge[xe](this)}})}}O.on(document,Ft,Gt,function(De){const xe=Z.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&De.preventDefault(),p(this))return;O.one(xe,xt,()=>{v(this)&&this.focus()});const Ge=Z.findOne(Hf);Ge&&Ge!==xe&&ir.getInstance(Ge).hide(),ir.getOrCreateInstance(xe).toggle(this)}),O.on(window,Sc,()=>{for(const De of Z.find(Hf))ir.getOrCreateInstance(De).show()}),O.on(window,wt,()=>{for(const De of Z.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(De).position!=="fixed"&&ir.getOrCreateInstance(De).hide()}),$(ir),y(ir);const Dr={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},jr=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Qr=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,wn=(De,xe)=>{const Ge=De.nodeName.toLowerCase();return xe.includes(Ge)?jr.has(Ge)?!!Qr.test(De.nodeValue):!0:xe.filter(dt=>dt instanceof RegExp).some(dt=>dt.test(Ge))};function Sn(De,xe,Ge){if(!De.length)return De;if(Ge&&typeof Ge=="function")return Ge(De);const _t=new window.DOMParser().parseFromString(De,"text/html"),Yt=[].concat(..._t.body.querySelectorAll("*"));for(const qt of Yt){const yr=qt.nodeName.toLowerCase();if(!Object.keys(xe).includes(yr)){qt.remove();continue}const Ar=[].concat(...qt.attributes),kr=[].concat(xe["*"]||[],xe[yr]||[]);for(const Or of Ar)wn(Or,kr)||qt.removeAttribute(Or.nodeName)}return _t.body.innerHTML}const Dn="TemplateFactory",pa={allowList:Dr,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Ra={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Ia={entry:"(string|element|function|null)",selector:"(string|element)"};class ka extends ie{constructor(xe){super(),this._config=this._getConfig(xe)}static get Default(){return pa}static get DefaultType(){return Ra}static get NAME(){return Dn}getContent(){return Object.values(this._config.content).map(xe=>this._resolvePossibleFunction(xe)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(xe){return this._checkContent(xe),this._config.content={...this._config.content,...xe},this}toHtml(){const xe=document.createElement("div");xe.innerHTML=this._maybeSanitize(this._config.template);for(const[_t,Yt]of Object.entries(this._config.content))this._setContent(xe,Yt,_t);const Ge=xe.children[0],dt=this._resolvePossibleFunction(this._config.extraClass);return dt&&Ge.classList.add(...dt.split(" ")),Ge}_typeCheckConfig(xe){super._typeCheckConfig(xe),this._checkContent(xe.content)}_checkContent(xe){for(const[Ge,dt]of Object.entries(xe))super._typeCheckConfig({selector:Ge,entry:dt},Ia)}_setContent(xe,Ge,dt){const _t=Z.findOne(dt,xe);if(_t){if(Ge=this._resolvePossibleFunction(Ge),!Ge){_t.remove();return}if(C(Ge)){this._putElementInTemplate(A(Ge),_t);return}if(this._config.html){_t.innerHTML=this._maybeSanitize(Ge);return}_t.textContent=Ge}}_maybeSanitize(xe){return this._config.sanitize?Sn(xe,this._config.allowList,this._config.sanitizeFn):xe}_resolvePossibleFunction(xe){return c(xe,[this])}_putElementInTemplate(xe,Ge){if(this._config.html){Ge.innerHTML="",Ge.append(xe);return}Ge.textContent=xe.textContent}}const Fa="tooltip",si=new Set(["sanitize","allowList","sanitizeFn"]),Ei="fade",bi="modal",ue="show",_e=".tooltip-inner",Ye=`.${bi}`,nt="hide.bs.modal",ot="hover",ft="focus",kt="click",mt="manual",Wt="hide",ar="hidden",sr="show",Ir="shown",Rr="inserted",Kr="click",an="focusin",Fr="focusout",Gr="mouseenter",Zr="mouseleave",ln={AUTO:"auto",TOP:"top",RIGHT:u()?"left":"right",BOTTOM:"bottom",LEFT:u()?"right":"left"},dn={allowList:Dr,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Xr={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Bn extends Q{constructor(xe,Ge){if(typeof Tu>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(xe,Ge),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return dn}static get DefaultType(){return Xr}static get NAME(){return Fa}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),O.off(this._element.closest(Ye),nt,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const xe=O.trigger(this._element,this.constructor.eventName(sr)),dt=(t(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(xe.defaultPrevented||!dt)return;this._disposePopper();const _t=this._getTipElement();this._element.setAttribute("aria-describedby",_t.getAttribute("id"));const{container:Yt}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(Yt.append(_t),O.trigger(this._element,this.constructor.eventName(Rr))),this._popper=this._createPopper(_t),_t.classList.add(ue),"ontouchstart"in document.documentElement)for(const yr of[].concat(...document.body.children))O.on(yr,"mouseover",r);const qt=()=>{O.trigger(this._element,this.constructor.eventName(Ir)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(qt,this.tip,this._isAnimated())}hide(){if(!this._isShown()||O.trigger(this._element,this.constructor.eventName(Wt)).defaultPrevented)return;if(this._getTipElement().classList.remove(ue),"ontouchstart"in document.documentElement)for(const _t of[].concat(...document.body.children))O.off(_t,"mouseover",r);this._activeTrigger[kt]=!1,this._activeTrigger[ft]=!1,this._activeTrigger[ot]=!1,this._isHovered=null;const dt=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),O.trigger(this._element,this.constructor.eventName(ar)))};this._queueCallback(dt,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(xe){const Ge=this._getTemplateFactory(xe).toHtml();if(!Ge)return null;Ge.classList.remove(Ei,ue),Ge.classList.add(`bs-${this.constructor.NAME}-auto`);const dt=g(this.constructor.NAME).toString();return Ge.setAttribute("id",dt),this._isAnimated()&&Ge.classList.add(Ei),Ge}setContent(xe){this._newContent=xe,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(xe){return this._templateFactory?this._templateFactory.changeContent(xe):this._templateFactory=new ka({...this._config,content:xe,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[_e]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(xe){return this.constructor.getOrCreateInstance(xe.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ei)}_isShown(){return this.tip&&this.tip.classList.contains(ue)}_createPopper(xe){const Ge=c(this._config.placement,[this,xe,this._element]),dt=ln[Ge.toUpperCase()];return Pf(this._element,xe,this._getPopperConfig(dt))}_getOffset(){const{offset:xe}=this._config;return typeof xe=="string"?xe.split(",").map(Ge=>Number.parseInt(Ge,10)):typeof xe=="function"?Ge=>xe(Ge,this._element):xe}_resolvePossibleFunction(xe){return c(xe,[this._element])}_getPopperConfig(xe){const Ge={placement:xe,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:dt=>{this._getTipElement().setAttribute("data-popper-placement",dt.state.placement)}}]};return{...Ge,...c(this._config.popperConfig,[Ge])}}_setListeners(){const xe=this._config.trigger.split(" ");for(const Ge of xe)if(Ge==="click")O.on(this._element,this.constructor.eventName(Kr),this._config.selector,dt=>{this._initializeOnDelegatedTarget(dt).toggle()});else if(Ge!==mt){const dt=Ge===ot?this.constructor.eventName(Gr):this.constructor.eventName(an),_t=Ge===ot?this.constructor.eventName(Zr):this.constructor.eventName(Fr);O.on(this._element,dt,this._config.selector,Yt=>{const qt=this._initializeOnDelegatedTarget(Yt);qt._activeTrigger[Yt.type==="focusin"?ft:ot]=!0,qt._enter()}),O.on(this._element,_t,this._config.selector,Yt=>{const qt=this._initializeOnDelegatedTarget(Yt);qt._activeTrigger[Yt.type==="focusout"?ft:ot]=qt._element.contains(Yt.relatedTarget),qt._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},O.on(this._element.closest(Ye),nt,this._hideModalHandler)}_fixTitle(){const xe=this._element.getAttribute("title");xe&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",xe),this._element.setAttribute("data-bs-original-title",xe),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(xe,Ge){clearTimeout(this._timeout),this._timeout=setTimeout(xe,Ge)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(xe){const Ge=re.getDataAttributes(this._element);for(const dt of Object.keys(Ge))si.has(dt)&&delete Ge[dt];return xe={...Ge,...typeof xe=="object"&&xe?xe:{}},xe=this._mergeConfigObj(xe),xe=this._configAfterMerge(xe),this._typeCheckConfig(xe),xe}_configAfterMerge(xe){return xe.container=xe.container===!1?document.body:A(xe.container),typeof xe.delay=="number"&&(xe.delay={show:xe.delay,hide:xe.delay}),typeof xe.title=="number"&&(xe.title=xe.title.toString()),typeof xe.content=="number"&&(xe.content=xe.content.toString()),xe}_getDelegateConfig(){const xe={};for(const[Ge,dt]of Object.entries(this._config))this.constructor.Default[Ge]!==dt&&(xe[Ge]=dt);return xe.selector=!1,xe.trigger="manual",xe}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(xe){return this.each(function(){const Ge=Bn.getOrCreateInstance(this,xe);if(typeof xe=="string"){if(typeof Ge[xe]>"u")throw new TypeError(`No method named "${xe}"`);Ge[xe]()}})}}y(Bn);const Jn="popover",na=".popover-header",ca=".popover-body",Ea={...Bn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Aa={...Bn.DefaultType,content:"(null|string|element|function)"};class Ua extends Bn{static get Default(){return Ea}static get DefaultType(){return Aa}static get NAME(){return Jn}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[na]:this._getTitle(),[ca]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(xe){return this.each(function(){const Ge=Ua.getOrCreateInstance(this,xe);if(typeof xe=="string"){if(typeof Ge[xe]>"u")throw new TypeError(`No method named "${xe}"`);Ge[xe]()}})}}y(Ua);const Pa="scrollspy",ni=".bs.scrollspy",ii=".data-api",di=`activate${ni}`,Wn=`click${ni}`,Ha=`load${ni}${ii}`,Na="dropdown-item",Xa="active",Mi='[data-bs-spy="scroll"]',Oi="[href]",Xi=".nav, .list-group",wi=".nav-link",Ca=`${wi}, .nav-item > ${wi}, .list-group-item`,Ai=".dropdown",Gi=".dropdown-toggle",Wo={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ao={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class to extends Q{constructor(xe,Ge){super(xe,Ge),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Wo}static get DefaultType(){return ao}static get NAME(){return Pa}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const xe of this._observableSections.values())this._observer.observe(xe)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(xe){return xe.target=A(xe.target)||document.body,xe.rootMargin=xe.offset?`${xe.offset}px 0px -30%`:xe.rootMargin,typeof xe.threshold=="string"&&(xe.threshold=xe.threshold.split(",").map(Ge=>Number.parseFloat(Ge))),xe}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(O.off(this._config.target,Wn),O.on(this._config.target,Wn,Oi,xe=>{const Ge=this._observableSections.get(xe.target.hash);if(Ge){xe.preventDefault();const dt=this._rootElement||window,_t=Ge.offsetTop-this._element.offsetTop;if(dt.scrollTo){dt.scrollTo({top:_t,behavior:"smooth"});return}dt.scrollTop=_t}}))}_getNewObserver(){const xe={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(Ge=>this._observerCallback(Ge),xe)}_observerCallback(xe){const Ge=qt=>this._targetLinks.get(`#${qt.target.id}`),dt=qt=>{this._previousScrollData.visibleEntryTop=qt.target.offsetTop,this._process(Ge(qt))},_t=(this._rootElement||document.documentElement).scrollTop,Yt=_t>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=_t;for(const qt of xe){if(!qt.isIntersecting){this._activeTarget=null,this._clearActiveClass(Ge(qt));continue}const yr=qt.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(Yt&&yr){if(dt(qt),!_t)return;continue}!Yt&&!yr&&dt(qt)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const xe=Z.find(Oi,this._config.target);for(const Ge of xe){if(!Ge.hash||p(Ge))continue;const dt=Z.findOne(decodeURI(Ge.hash),this._element);v(dt)&&(this._targetLinks.set(decodeURI(Ge.hash),Ge),this._observableSections.set(Ge.hash,dt))}}_process(xe){this._activeTarget!==xe&&(this._clearActiveClass(this._config.target),this._activeTarget=xe,xe.classList.add(Xa),this._activateParents(xe),O.trigger(this._element,di,{relatedTarget:xe}))}_activateParents(xe){if(xe.classList.contains(Na)){Z.findOne(Gi,xe.closest(Ai)).classList.add(Xa);return}for(const Ge of Z.parents(xe,Xi))for(const dt of Z.prev(Ge,Ca))dt.classList.add(Xa)}_clearActiveClass(xe){xe.classList.remove(Xa);const Ge=Z.find(`${Oi}.${Xa}`,xe);for(const dt of Ge)dt.classList.remove(Xa)}static jQueryInterface(xe){return this.each(function(){const Ge=to.getOrCreateInstance(this,xe);if(typeof xe=="string"){if(Ge[xe]===void 0||xe.startsWith("_")||xe==="constructor")throw new TypeError(`No method named "${xe}"`);Ge[xe]()}})}}O.on(window,Ha,()=>{for(const De of Z.find(Mi))to.getOrCreateInstance(De)}),y(to);const Ri="tab",oi=".bs.tab",Ds=`hide${oi}`,rs=`hidden${oi}`,ei=`show${oi}`,Si=`shown${oi}`,Mc=`click${oi}`,Vf=`keydown${oi}`,$c=`load${oi}`,sf="ArrowLeft",Gf="ArrowRight",mh="ArrowUp",ns="ArrowDown",su="Home",xh="End",Iu="active",Cc="fade",Lc="show",ku="dropdown",gs=".dropdown-toggle",Ou=".dropdown-menu",Wf=`:not(${gs})`,bh='.list-group, .nav, [role="tablist"]',Pc=".nav-item, .list-group-item",qh=`.nav-link${Wf}, .list-group-item${Wf}, [role="tab"]${Wf}`,zu='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Yf=`${qh}, ${zu}`,_c=`.${Iu}[data-bs-toggle="tab"], .${Iu}[data-bs-toggle="pill"], .${Iu}[data-bs-toggle="list"]`;class Is extends Q{constructor(xe){super(xe),this._parent=this._element.closest(bh),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),O.on(this._element,Vf,Ge=>this._keydown(Ge)))}static get NAME(){return Ri}show(){const xe=this._element;if(this._elemIsActive(xe))return;const Ge=this._getActiveElem(),dt=Ge?O.trigger(Ge,Ds,{relatedTarget:xe}):null;O.trigger(xe,ei,{relatedTarget:Ge}).defaultPrevented||dt&&dt.defaultPrevented||(this._deactivate(Ge,xe),this._activate(xe,Ge))}_activate(xe,Ge){if(!xe)return;xe.classList.add(Iu),this._activate(Z.getElementFromSelector(xe));const dt=()=>{if(xe.getAttribute("role")!=="tab"){xe.classList.add(Lc);return}xe.removeAttribute("tabindex"),xe.setAttribute("aria-selected",!0),this._toggleDropDown(xe,!0),O.trigger(xe,Si,{relatedTarget:Ge})};this._queueCallback(dt,xe,xe.classList.contains(Cc))}_deactivate(xe,Ge){if(!xe)return;xe.classList.remove(Iu),xe.blur(),this._deactivate(Z.getElementFromSelector(xe));const dt=()=>{if(xe.getAttribute("role")!=="tab"){xe.classList.remove(Lc);return}xe.setAttribute("aria-selected",!1),xe.setAttribute("tabindex","-1"),this._toggleDropDown(xe,!1),O.trigger(xe,rs,{relatedTarget:Ge})};this._queueCallback(dt,xe,xe.classList.contains(Cc))}_keydown(xe){if(![sf,Gf,mh,ns,su,xh].includes(xe.key))return;xe.stopPropagation(),xe.preventDefault();const Ge=this._getChildren().filter(_t=>!p(_t));let dt;if([su,xh].includes(xe.key))dt=Ge[xe.key===su?0:Ge.length-1];else{const _t=[Gf,ns].includes(xe.key);dt=h(Ge,xe.target,_t,!0)}dt&&(dt.focus({preventScroll:!0}),Is.getOrCreateInstance(dt).show())}_getChildren(){return Z.find(Yf,this._parent)}_getActiveElem(){return this._getChildren().find(xe=>this._elemIsActive(xe))||null}_setInitialAttributes(xe,Ge){this._setAttributeIfNotExists(xe,"role","tablist");for(const dt of Ge)this._setInitialAttributesOnChild(dt)}_setInitialAttributesOnChild(xe){xe=this._getInnerElement(xe);const Ge=this._elemIsActive(xe),dt=this._getOuterElement(xe);xe.setAttribute("aria-selected",Ge),dt!==xe&&this._setAttributeIfNotExists(dt,"role","presentation"),Ge||xe.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(xe,"role","tab"),this._setInitialAttributesOnTargetPanel(xe)}_setInitialAttributesOnTargetPanel(xe){const Ge=Z.getElementFromSelector(xe);Ge&&(this._setAttributeIfNotExists(Ge,"role","tabpanel"),xe.id&&this._setAttributeIfNotExists(Ge,"aria-labelledby",`${xe.id}`))}_toggleDropDown(xe,Ge){const dt=this._getOuterElement(xe);if(!dt.classList.contains(ku))return;const _t=(Yt,qt)=>{const yr=Z.findOne(Yt,dt);yr&&yr.classList.toggle(qt,Ge)};_t(gs,Iu),_t(Ou,Lc),dt.setAttribute("aria-expanded",Ge)}_setAttributeIfNotExists(xe,Ge,dt){xe.hasAttribute(Ge)||xe.setAttribute(Ge,dt)}_elemIsActive(xe){return xe.classList.contains(Iu)}_getInnerElement(xe){return xe.matches(Yf)?xe:Z.findOne(Yf,xe)}_getOuterElement(xe){return xe.closest(Pc)||xe}static jQueryInterface(xe){return this.each(function(){const Ge=Is.getOrCreateInstance(this);if(typeof xe=="string"){if(Ge[xe]===void 0||xe.startsWith("_")||xe==="constructor")throw new TypeError(`No method named "${xe}"`);Ge[xe]()}})}}O.on(document,Mc,zu,function(De){["A","AREA"].includes(this.tagName)&&De.preventDefault(),!p(this)&&Is.getOrCreateInstance(this).show()}),O.on(window,$c,()=>{for(const De of Z.find(_c))Is.getOrCreateInstance(De)}),y(Is);const ev="toast",ys=".bs.toast",tv=`mouseover${ys}`,Rc=`mouseout${ys}`,Ov=`focusin${ys}`,zv=`focusout${ys}`,Hl=`hide${ys}`,Fv=`hidden${ys}`,Nv=`show${ys}`,rv=`shown${ys}`,Bv="fade",ve="hide",X="show",pe="showing",ne={animation:"boolean",autohide:"boolean",delay:"number"},ge={animation:!0,autohide:!0,delay:5e3};class Ne extends Q{constructor(xe,Ge){super(xe,Ge),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return ge}static get DefaultType(){return ne}static get NAME(){return ev}show(){if(O.trigger(this._element,Nv).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Bv);const Ge=()=>{this._element.classList.remove(pe),O.trigger(this._element,rv),this._maybeScheduleHide()};this._element.classList.remove(ve),s(this._element),this._element.classList.add(X,pe),this._queueCallback(Ge,this._element,this._config.animation)}hide(){if(!this.isShown()||O.trigger(this._element,Hl).defaultPrevented)return;const Ge=()=>{this._element.classList.add(ve),this._element.classList.remove(pe,X),O.trigger(this._element,Fv)};this._element.classList.add(pe),this._queueCallback(Ge,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(X),super.dispose()}isShown(){return this._element.classList.contains(X)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(xe,Ge){switch(xe.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=Ge;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=Ge;break}}if(Ge){this._clearTimeout();return}const dt=xe.relatedTarget;this._element===dt||this._element.contains(dt)||this._maybeScheduleHide()}_setListeners(){O.on(this._element,tv,xe=>this._onInteraction(xe,!0)),O.on(this._element,Rc,xe=>this._onInteraction(xe,!1)),O.on(this._element,Ov,xe=>this._onInteraction(xe,!0)),O.on(this._element,zv,xe=>this._onInteraction(xe,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(xe){return this.each(function(){const Ge=Ne.getOrCreateInstance(this,xe);if(typeof xe=="string"){if(typeof Ge[xe]>"u")throw new TypeError(`No method named "${xe}"`);Ge[xe](this)}})}}return $(Ne),y(Ne),{Alert:me,Button:We,Carousel:Xe,Collapse:Yr,Dropdown:Oo,Modal:ds,Offcanvas:ir,Popover:Ua,ScrollSpy:to,Tab:Is,Toast:Ne,Tooltip:Bn}})})(_I);const RI=H7([{path:"/",element:ua.jsx(r9,{}),children:[{path:"/",element:ua.jsx(fR,{})},{path:"/topics",element:ua.jsx(PI,{})},{path:"/topic/:topicId",element:ua.jsx(hR,{})}]}]);S1.createRoot(document.getElementById("root")).render(ua.jsx(ui.StrictMode,{children:ua.jsx(K7,{router:RI})}));
